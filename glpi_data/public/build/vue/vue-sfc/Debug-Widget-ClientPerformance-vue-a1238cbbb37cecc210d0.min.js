/*!
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
"use strict";(self["webpackChunk_glpi_glpi"]=self["webpackChunk_glpi_glpi"]||[]).push([[4],{27:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=(e,t)=>{const a=e.__vccOpts||e;for(const[e,i]of t){a[e]=i}return a}},52:(e,t,a)=>{a.r(t);a.d(t,{default:()=>n});var i=a(53);var r=a(55);var o=a(27);const s=(0,o["default"])(r["default"],[["render",i.render],["__file","js/src/vue/Debug/Widget/ClientPerformance.vue"]]);if(false){}const n=s},53:(e,t,a)=>{a.r(t);a.d(t,{render:()=>i.render});var i=a(54)},54:(e,t,a)=>{a.r(t);a.d(t,{render:()=>k});var i=a(9);const r={class:"py-2 px-3 col-xxl-7 col-xl-9 col-12"};const o={class:"datagrid"};const s={class:"datagrid-item"};const n={class:"datagrid-title"};const d={class:"datagrid-content"};const c={class:"datagrid-item"};const l={class:"datagrid-content"};const m={class:"datagrid-item"};const p={class:"datagrid-content"};const _={class:"datagrid"};const g={class:"datagrid-item"};const u={class:"datagrid-content"};const v={class:"datagrid-item"};const f={class:"datagrid-content"};const E={key:0,class:"mt-3 mb-2"};const N={key:1,class:"datagrid"};const V={class:"datagrid-item"};const y={class:"datagrid-content"};const h={class:"datagrid-item"};const S={class:"datagrid-content"};const b={class:"datagrid-item"};const B={class:"datagrid-content"};function k(e,t,a,k,x,D){return(0,i.openBlock)(),(0,i.createElementBlock)("div",r,[t[8]||(t[8]=(0,i.createElementVNode)("h2",{class:"mb-3"},"Client performance",-1)),t[9]||(t[9]=(0,i.createElementVNode)("h3",{class:"mb-2"},"Timings",-1)),(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("div",s,[(0,i.createElementVNode)("div",n,(0,i.toDisplayString)(k.paint_timing_label),1),(0,i.createElementVNode)("div",d,(0,i.toDisplayString)(+k.time_to_first_paint.toFixed(2))+" ms",1)]),(0,i.createElementVNode)("div",c,[t[0]||(t[0]=(0,i.createElementVNode)("div",{class:"datagrid-title"},"Time to DOM interactive",-1)),(0,i.createElementVNode)("div",l,(0,i.toDisplayString)(+k.time_to_dom_interactive.toFixed(2))+" ms",1)]),(0,i.createElementVNode)("div",m,[t[1]||(t[1]=(0,i.createElementVNode)("div",{class:"datagrid-title"},"Time to DOM complete",-1)),(0,i.createElementVNode)("div",p,(0,i.toDisplayString)(+k.time_to_dom_complete.toFixed(2))+" ms",1)])]),t[10]||(t[10]=(0,i.createElementVNode)("h3",{class:"mt-3 mb-2"},"Resource Loading",-1)),(0,i.createElementVNode)("div",_,[(0,i.createElementVNode)("div",g,[t[2]||(t[2]=(0,i.createElementVNode)("div",{class:"datagrid-title"},"Total resources",-1)),(0,i.createElementVNode)("div",u,(0,i.toDisplayString)(k.total_resources),1)]),(0,i.createElementVNode)("div",v,[t[3]||(t[3]=(0,i.createElementVNode)("div",{class:"datagrid-title"},"Total resources size",-1)),(0,i.createElementVNode)("div",f,(0,i.toDisplayString)(+k.total_resources_size.toFixed(2))+" MiB",1)]),(0,i.createCommentVNode)(" Keep empty item at the end to align with previous grid "),t[4]||(t[4]=(0,i.createElementVNode)("div",{class:"datagrid-item"},null,-1))]),k.has_memory_perf_support?((0,i.openBlock)(),(0,i.createElementBlock)("h3",E,"Memory")):(0,i.createCommentVNode)("v-if",true),k.has_memory_perf_support?((0,i.openBlock)(),(0,i.createElementBlock)("div",N,[(0,i.createElementVNode)("div",V,[t[5]||(t[5]=(0,i.createElementVNode)("div",{class:"datagrid-title"},"Used JS Heap",-1)),(0,i.createElementVNode)("div",y,(0,i.toDisplayString)(+k.used_heap.toFixed(2))+" MiB",1)]),(0,i.createElementVNode)("div",h,[t[6]||(t[6]=(0,i.createElementVNode)("div",{class:"datagrid-title"},"Total JS Heap",-1)),(0,i.createElementVNode)("div",S,(0,i.toDisplayString)(+k.total_heap.toFixed(2))+" MiB",1)]),(0,i.createElementVNode)("div",b,[t[7]||(t[7]=(0,i.createElementVNode)("div",{class:"datagrid-title"},"JS Heap Limit",-1)),(0,i.createElementVNode)("div",B,(0,i.toDisplayString)(+k.heap_limit.toFixed(2))+" MiB",1)])])):(0,i.createCommentVNode)("v-if",true)])}},55:(e,t,a)=>{a.r(t);a.d(t,{default:()=>i["default"]});var i=a(56)},56:(e,t,a)=>{a.r(t);a.d(t,{default:()=>i});const i={__name:"ClientPerformance",props:{},setup(e,{expose:t}){t();const a=e;const i=window.performance;const r=window.performance.getEntriesByType("navigation")[0];const o=window.performance.getEntriesByType("paint");const s=window.performance.getEntriesByType("resource");let n=o.filter(e=>e.name==="first-paint");let d="Time to first paint";if(n.length===0){n=o.filter(e=>e.name==="first-contentful-paint")}const c=n.length>0?n[0].startTime:-1;const l=r.domInteractive;const m=r.domComplete;const p=s.length;let _=s.reduce((e,t)=>e+t.transferSize,0);_=_/1024/1024;const g=i.memory!==undefined;let u=0;let v=0;let f=0;if(g){u=i.memory.jsHeapSizeLimit/1024/1024;v=i.memory.usedJSHeapSize/1024/1024;f=i.memory.totalJSHeapSize/1024/1024}const E={props:a,perf:i,nav_timings:r,paint_timings:o,resource_timings:s,get paint_timing(){return n},set paint_timing(e){n=e},get paint_timing_label(){return d},set paint_timing_label(e){d=e},time_to_first_paint:c,time_to_dom_interactive:l,time_to_dom_complete:m,total_resources:p,get total_resources_size(){return _},set total_resources_size(e){_=e},has_memory_perf_support:g,get heap_limit(){return u},set heap_limit(e){u=e},get used_heap(){return v},set used_heap(e){v=e},get total_heap(){return f},set total_heap(e){f=e}};Object.defineProperty(E,"__isScriptSetup",{enumerable:false,value:true});return E}}}}]);