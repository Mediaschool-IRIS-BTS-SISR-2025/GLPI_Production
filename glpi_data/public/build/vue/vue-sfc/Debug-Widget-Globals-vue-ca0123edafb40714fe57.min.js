/*!
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
"use strict";(self["webpackChunk_glpi_glpi"]=self["webpackChunk_glpi_glpi"]||[]).push([[5],{18:e=>{var n=[];function t(e){var t=-1;for(var a=0;a<n.length;a++){if(n[a].identifier===e){t=a;break}}return t}function a(e,a){var o={};var d=[];for(var i=0;i<e.length;i++){var s=e[i];var l=a.base?s[0]+a.base:s[0];var c=o[l]||0;var u="".concat(l," ").concat(c);o[l]=c+1;var p=t(u);var f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(p!==-1){n[p].references++;n[p].updater(f)}else{var v=r(f,a);a.byIndex=i;n.splice(i,0,{identifier:u,updater:v,references:1})}d.push(u)}return d}function r(e,n){var t=n.domAPI(n);t.update(e);var a=function n(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap&&a.supports===e.supports&&a.layer===e.layer){return}t.update(e=a)}else{t.remove()}};return a}e.exports=function(e,r){r=r||{};e=e||[];var o=a(e,r);return function e(d){d=d||[];for(var i=0;i<o.length;i++){var s=o[i];var l=t(s);n[l].references--}var c=a(d,r);for(var u=0;u<o.length;u++){var p=o[u];var f=t(p);if(n[f].references===0){n[f].updater();n.splice(f,1)}}o=c}}},19:e=>{function n(e,n,t){var a="";if(t.supports){a+="@supports (".concat(t.supports,") {")}if(t.media){a+="@media ".concat(t.media," {")}var r=typeof t.layer!=="undefined";if(r){a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")}a+=t.css;if(r){a+="}"}if(t.media){a+="}"}if(t.supports){a+="}"}var o=t.sourceMap;if(o&&typeof btoa!=="undefined"){a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")}n.styleTagTransform(a,e,n.options)}function t(e){if(e.parentNode===null){return false}e.parentNode.removeChild(e)}function a(e){if(typeof document==="undefined"){return{update:function e(){},remove:function e(){}}}var a=e.insertStyleElement(e);return{update:function t(r){n(a,e,r)},remove:function e(){t(a)}}}e.exports=a},20:e=>{var n={};function t(e){if(typeof n[e]==="undefined"){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement){try{t=t.contentDocument.head}catch(e){t=null}}n[e]=t}return n[e]}function a(e,n){var a=t(e);if(!a){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}a.appendChild(n)}e.exports=a},21:(e,n,t)=>{function a(e){var n=true?t.nc:0;if(n){e.setAttribute("nonce",n)}}e.exports=a},22:e=>{function n(e){var n=document.createElement("style");e.setAttributes(n,e.attributes);e.insert(n,e.options);return n}e.exports=n},23:e=>{function n(e,n){if(n.styleSheet){n.styleSheet.cssText=e}else{while(n.firstChild){n.removeChild(n.firstChild)}n.appendChild(document.createTextNode(e))}}e.exports=n},25:e=>{e.exports=function(e){var n=e[1];var t=e[3];if(!t){return n}if(typeof btoa==="function"){var a=btoa(unescape(encodeURIComponent(JSON.stringify(t))));var r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a);var o="/*# ".concat(r," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},26:e=>{e.exports=function(e){var n=[];n.toString=function n(){return this.map(function(n){var t="";var a=typeof n[5]!=="undefined";if(n[4]){t+="@supports (".concat(n[4],") {")}if(n[2]){t+="@media ".concat(n[2]," {")}if(a){t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")}t+=e(n);if(a){t+="}"}if(n[2]){t+="}"}if(n[4]){t+="}"}return t}).join("")};n.i=function e(t,a,r,o,d){if(typeof t==="string"){t=[[null,t,undefined]]}var i={};if(r){for(var s=0;s<this.length;s++){var l=this[s][0];if(l!=null){i[l]=true}}}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);if(r&&i[u[0]]){continue}if(typeof d!=="undefined"){if(typeof u[5]==="undefined"){u[5]=d}else{u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}");u[5]=d}}if(a){if(!u[2]){u[2]=a}else{u[1]="@media ".concat(u[2]," {").concat(u[1],"}");u[2]=a}}if(o){if(!u[4]){u[4]="".concat(o)}else{u[1]="@supports (".concat(u[4],") {").concat(u[1],"}");u[4]=o}}n.push(u)}};return n}},27:(e,n)=>{Object.defineProperty(n,"__esModule",{value:true});n["default"]=(e,n)=>{const t=e.__vccOpts||e;for(const[e,a]of n){t[e]=a}return t}},57:(e,n,t)=>{t.r(n);t.d(n,{default:()=>s});var a=t(58);var r=t(60);var o=t(62);var d=t(27);const i=(0,d["default"])(r["default"],[["render",a.render],["__scopeId","data-v-071412dd"],["__file","js/src/vue/Debug/Widget/Globals.vue"]]);if(false){}const s=i},58:(e,n,t)=>{t.r(n);t.d(n,{render:()=>a.render});var a=t(59)},59:(e,n,t)=>{t.r(n);t.d(n,{render:()=>g});var a=t(9);const r=["id"];const o={class:"nav nav-pills","data-bs-toggle":"tabs"};const d=["href"];const i=["href"];const s=["href"];const l=["href"];const c={class:"card-body overflow-auto p-1"};const u={class:"tab-content"};const p=["id"];const f=["id"];const v=["id"];const b=["id"];function g(e,n,t,g,m,h){return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",{id:`debugpanel${g.rand}`,class:"container-fluid card p-0 border-top-0"},[(0,a.createElementVNode)("ul",o,[(0,a.createElementVNode)("li",{class:"nav-item",onClick:g.updateEditorLayouts},[(0,a.createElementVNode)("a",{class:"nav-link active","data-bs-toggle":"tab",href:`#debugpost${g.rand}`},"POST",8,d)]),(0,a.createElementVNode)("li",{class:"nav-item",onClick:g.updateEditorLayouts},[(0,a.createElementVNode)("a",{class:"nav-link","data-bs-toggle":"tab",href:`#debugget${g.rand}`},"GET",8,i)]),(0,a.createElementVNode)("li",{class:"nav-item",onClick:g.updateEditorLayouts},[(0,a.createElementVNode)("a",{class:"nav-link","data-bs-toggle":"tab",href:`#debugsession${g.rand}`},"SESSION",8,s)]),(0,a.createElementVNode)("li",{class:"nav-item",onClick:g.updateEditorLayouts},[(0,a.createElementVNode)("a",{class:"nav-link","data-bs-toggle":"tab",href:`#debugserver${g.rand}`},"SERVER",8,l)])]),(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",{id:`debugpost${g.rand}`,class:"cm-s-default tab-pane active"},null,8,p),(0,a.createElementVNode)("div",{id:`debugget${g.rand}`,class:"cm-s-default tab-pane"},null,8,f),(0,a.createElementVNode)("div",{id:`debugsession${g.rand}`,class:"cm-s-default tab-pane"},null,8,v),(0,a.createElementVNode)("div",{id:`debugserver${g.rand}`,class:"cm-s-default tab-pane"},null,8,b)])])],8,r)])}},60:(e,n,t)=>{t.r(n);t.d(n,{default:()=>a["default"]});var a=t(61)},61:(e,n,t)=>{t.r(n);t.d(n,{default:()=>r});var a=t(9);const r={__name:"Globals",props:{current_profile:{type:Object,required:false}},setup(e,{expose:n}){n();const t=e;const r=[];const o=(e,n)=>{if(e===undefined||e===null){n.append("Empty array");return}n.empty();let t=e;try{t=JSON.stringify(e,null," ")}catch(t){if(typeof e!=="string"){n.append("Empty array");return}}const a=`monacoeditor${Math.floor(Math.random()*1e6)}`;const o=document.createElement("div");o.setAttribute("id",a);o.classList.add("monaco-editor-container");n.append(o);window.GLPI.Monaco.createEditor(a,"javascript",t,[],{readOnly:true}).then(e=>{e.editor.trigger("fold","editor.foldAll");e.editor.trigger("unfold","editor.unfold",{levels:1});e.editor.layout();r.push(e)})};const d=()=>{r.forEach(e=>{e.editor.layout()})};const i=Math.floor(Math.random()*1e6);function s(){o(t.current_profile.globals["post"],$(`#debugpanel${i} #debugpost${i}`));o(t.current_profile.globals["get"],$(`#debugpanel${i} #debugget${i}`));o(t.current_profile.globals["session"],$(`#debugpanel${i} #debugsession${i}`));o(t.current_profile.globals["server"],$(`#debugpanel${i} #debugserver${i}`))}(0,a.onMounted)(()=>{s()});(0,a.watch)(()=>t.current_profile.globals,()=>{s()});const l={props:t,monaco_editors:r,appendGlobals:o,updateEditorLayouts:d,rand:i,refreshGlobals:s,onMounted:a.onMounted,watch:a.watch};Object.defineProperty(l,"__isScriptSetup",{enumerable:false,value:true});return l}}},62:(e,n,t)=>{t.r(n);var a=t(63)},63:(e,n,t)=>{t.r(n);t.d(n,{default:()=>h});var a=t(18);var r=t.n(a);var o=t(19);var d=t.n(o);var i=t(20);var s=t.n(i);var l=t(21);var c=t.n(l);var u=t(22);var p=t.n(u);var f=t(23);var v=t.n(f);var b=t(64);var g={};g.styleTagTransform=v();g.setAttributes=c();g.insert=s().bind(null,"head");g.domAPI=d();g.insertStyleElement=p();var m=r()(b["default"],g);const h=b["default"]&&b["default"].locals?b["default"].locals:undefined},64:(e,n,t)=>{t.r(n);t.d(n,{default:()=>s});var a=t(25);var r=t.n(a);var o=t(26);var d=t.n(o);var i=d()(r());i.push([e.id,`\n.container-fluid {\n&[data-v-071412dd] {\n        min-width: 400px;\n        max-width: 90vw;\n}\n.tab-content[data-v-071412dd] {\n            min-height: 30vh;\n}\n&[data-v-071412dd] .monaco-editor-container .monaco-editor {\n            min-height: 30vh !important;\n}\n}\n`,"",{version:3,sources:["webpack://./js/src/vue/Debug/Widget/Globals.vue","<no source>"],names:[],mappings:";AA6FI;AC7FJ;QD8FQ,gBAAgB;QAChB,eAAA;AA1FR;AA4FQ;YACI,gBAAgB;AACpB;AAEA;YACI,2BAA2B;AAC/B;AACJ",sourcesContent:['<script setup>\n    import {onMounted, watch} from "vue";\n\n    const props = defineProps({\n        current_profile: {\n            type: Object,\n            required: false\n        },\n    });\n\n    const monaco_editors = [];\n\n    const appendGlobals = (data, container) => {\n        if (data === undefined || data === null) {\n            container.append(\'Empty array\');\n            return;\n        }\n\n        container.empty();\n        let data_string = data;\n        try {\n            data_string = JSON.stringify(data, null, \' \');\n        } catch (e) {\n            if (typeof data !== \'string\') {\n                container.append(\'Empty array\');\n                return;\n            }\n        }\n\n        const editor_element_id = `monacoeditor${Math.floor(Math.random() * 1000000)}`;\n        const editor_element = document.createElement(\'div\');\n        editor_element.setAttribute(\'id\', editor_element_id);\n        editor_element.classList.add(\'monaco-editor-container\');\n        container.append(editor_element);\n        window.GLPI.Monaco.createEditor(editor_element_id, \'javascript\', data_string, [], {\n            readOnly: true,\n        }).then((editor) => {\n            // Fold everything recursively by default except the first level\n            editor.editor.trigger(\'fold\', \'editor.foldAll\');\n            editor.editor.trigger(\'unfold\', \'editor.unfold\', {\n                levels: 1\n            });\n            editor.editor.layout();\n            monaco_editors.push(editor);\n        });\n    };\n\n    const updateEditorLayouts = () => {\n        monaco_editors.forEach((editor) => {\n            editor.editor.layout();\n        });\n    };\n\n    const rand = Math.floor(Math.random() * 1000000);\n\n    function refreshGlobals() {\n        appendGlobals(props.current_profile.globals[\'post\'], $(`#debugpanel${rand} #debugpost${rand}`));\n        appendGlobals(props.current_profile.globals[\'get\'], $(`#debugpanel${rand} #debugget${rand}`));\n        appendGlobals(props.current_profile.globals[\'session\'], $(`#debugpanel${rand} #debugsession${rand}`));\n        appendGlobals(props.current_profile.globals[\'server\'], $(`#debugpanel${rand} #debugserver${rand}`));\n    }\n\n    onMounted(() => {\n        refreshGlobals();\n    });\n    watch(() => props.current_profile.globals, () => {\n        refreshGlobals();\n    });\n<\/script>\n\n<template>\n    <div>\n        <div :id="`debugpanel${rand}`" class="container-fluid card p-0 border-top-0">\n            <ul class="nav nav-pills" data-bs-toggle="tabs">\n                <li class="nav-item" @click="updateEditorLayouts"><a class="nav-link active" data-bs-toggle="tab" :href="`#debugpost${rand}`">POST</a></li>\n                <li class="nav-item" @click="updateEditorLayouts"><a class="nav-link" data-bs-toggle="tab" :href="`#debugget${rand}`">GET</a></li>\n                <li class="nav-item" @click="updateEditorLayouts"><a class="nav-link" data-bs-toggle="tab" :href="`#debugsession${rand}`">SESSION</a></li>\n                <li class="nav-item" @click="updateEditorLayouts"><a class="nav-link" data-bs-toggle="tab" :href="`#debugserver${rand}`">SERVER</a></li>\n            </ul>\n\n            <div class="card-body overflow-auto p-1">\n                <div class="tab-content">\n                    <div :id="`debugpost${rand}`" class="cm-s-default tab-pane active"></div>\n                    <div :id="`debugget${rand}`" class="cm-s-default tab-pane"></div>\n                    <div :id="`debugsession${rand}`" class="cm-s-default tab-pane"></div>\n                    <div :id="`debugserver${rand}`" class="cm-s-default tab-pane"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n    .container-fluid {\n        min-width: 400px;\n        max-width: 90vw;\n\n        .tab-content {\n            min-height: 30vh;\n        }\n\n        &::v-deep(.monaco-editor-container .monaco-editor) {\n            min-height: 30vh !important;\n        }\n    }\n</style>\n',null],sourceRoot:""}]);const s=i}}]);