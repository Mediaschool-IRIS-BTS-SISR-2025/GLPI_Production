/*!
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
"use strict";(self["webpackChunk_glpi_glpi"]=self["webpackChunk_glpi_glpi"]||[]).push([[16],{27:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=(e,t)=>{const l=e.__vccOpts||e;for(const[e,a]of t){l[e]=a}return l}},127:(e,t,l)=>{l.r(t);l.d(t,{default:()=>s});var a=l(128);var o=l(130);var r=l(27);const n=(0,r["default"])(o["default"],[["render",a.render],["__file","js/src/vue/FuzzySearch/Modal.vue"]]);if(false){}const s=n},128:(e,t,l)=>{l.r(t);l.d(t,{render:()=>a.render});var a=l(129)},129:(e,t,l)=>{l.r(t);l.d(t,{render:()=>m});var a=l(9);const o={class:"modal-dialog"};const r={class:"modal-content"};const n={class:"modal-header"};const s={class:"modal-title"};const c={class:"modal-body"};const i={class:"alert alert-info d-flex",role:"alert"};const d=["innerHTML"];const u=["placeholder"];const f={class:"results list-group mt-2"};const p=["href","innerHTML"];function m(e,t,l,m,v,h){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{id:"fuzzysearch",class:"modal",tabindex:"-1",onKeydown:(0,a.withKeys)(m.hideModal,["esc"]),onKeyup:m.navigate_results},[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("h5",s,[t[1]||(t[1]=(0,a.createElementVNode)("i",{class:"ti ti-arrow-big-right me-2"},null,-1)),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(m.header_message),1)]),t[2]||(t[2]=(0,a.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",i,[t[3]||(t[3]=(0,a.createElementVNode)("i",{class:"ti ti-alert-circle-filled fa-2x me-2"},null,-1)),(0,a.createElementVNode)("p",{innerHTML:m.shortcut_message},null,8,d)]),(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:"form-control",placeholder:m.placeholder,"onUpdate:modelValue":t[0]||(t[0]=e=>m.input_text=e)},null,8,u),[[a.vModelText,m.input_text]]),(0,a.createElementVNode)("ul",f,[((0,a.openBlock)(true),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(m.results,e=>((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:e.index,class:"list-group-item"},[(0,a.createElementVNode)("a",{href:e.original.url,innerHTML:e.string},null,8,p)]))),128))])])])])],32)}},130:(e,t,l)=>{l.r(t);l.d(t,{default:()=>a["default"]});var a=l(131)},131:(e,t,l)=>{l.r(t);l.d(t,{default:()=>o});var a=l(9);const o={__name:"Modal",setup(e,{expose:t}){t();let l=`<kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>G</kbd>`;if(navigator.userAgent.includes("Mac")){l=`<kbd>⌥ (option)</kbd> + <kbd>⌘ (command)</kbd> + <kbd>G</kbd>`}const o=__("Tip: You can call this modal with %s keys combination").replace("%s",l);const r=__("Go to menu");const n=__("Start typing to find a menu");const s=(0,a.ref)(null);const c=(0,a.ref)([]);const i=(0,a.computed)(()=>fuzzy.filter(s.value,c.value,{pre:"<b>",post:"</b>",extract:e=>e.title}));const d=(0,a.ref)(0);const u=e=>{if(e.key==="ArrowDown"){e.preventDefault();if(d.value<i.value.length-1){d.value++}}else if(e.key==="ArrowUp"){e.preventDefault();if(d.value>0){d.value--}}else if(e.key==="Enter"){e.preventDefault();if(i.value[d.value]){window.location.href=i.value[d.value].original.url}else if(i.value.length>0){window.location.href=i.value[0].original.url}}};(0,a.watch)(s,()=>{d.value=0});(0,a.watch)(d,()=>{const e=$("#fuzzysearch .results");const t=e.find("li.active");const l=e.find(`li:nth-child(${d.value+1})`);if(l){if(t){t.removeClass("active")}l.addClass("active");e.scrollTop(l.position().top-e.find("li:first-child").position().top)}});const f=()=>{if(c.value.length===0){$.ajax({url:CFG_GLPI.root_doc+"/ajax/fuzzysearch.php",method:"GET",dataType:"json"}).then(e=>{c.value=e})}const e=$("#fuzzysearch");if(!e.parent().is("body")){e.detach().appendTo("body")}e.modal("show");s.value="";$("#fuzzysearch input").focus()};const p=()=>{$("#fuzzysearch").modal("hide")};$(document).on("click",".trigger-fuzzy",f);$(document).on("keydown",e=>{if(e.key==="g"){if((e.ctrlKey||e.metaKey)&&e.altKey){e.preventDefault();f()}}});const m={get shortcut(){return l},set shortcut(e){l=e},shortcut_message:o,header_message:r,placeholder:n,input_text:s,all_menus:c,results:i,active_result:d,navigate_results:u,trigger_fuzzy:f,hideModal:p,computed:a.computed,ref:a.ref,watch:a.watch};Object.defineProperty(m,"__isScriptSetup",{enumerable:false,value:true});return m}}}}]);