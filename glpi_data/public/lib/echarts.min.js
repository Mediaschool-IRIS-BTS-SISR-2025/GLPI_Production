(()=>{var t={1111:function(t,e,r){(function(t,r){true?r(e):0})(this,function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return e(t,r)};function i(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}var a=function(){function t(){this.firefox=false;this.ie=false;this.edge=false;this.newEdge=false;this.weChat=false}return t}();var n=function(){function t(){this.browser=new a;this.node=false;this.wxa=false;this.worker=false;this.svgSupported=false;this.touchEventsSupported=false;this.pointerEventsSupported=false;this.domSupported=false;this.transformSupported=false;this.transform3dSupported=false;this.hasGlobalWindow=typeof window!=="undefined"}return t}();var o=new n;if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"){o.wxa=true;o.touchEventsSupported=true}else if(typeof document==="undefined"&&typeof self!=="undefined"){o.worker=true}else if(!o.hasGlobalWindow||"Deno"in window){o.node=true;o.svgSupported=true}else{s(navigator.userAgent,o)}function s(t,e){var r=e.browser;var i=t.match(/Firefox\/([\d.]+)/);var a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/);var n=t.match(/Edge?\/([\d.]+)/);var o=/micromessenger/i.test(t);if(i){r.firefox=true;r.version=i[1]}if(a){r.ie=true;r.version=a[1]}if(n){r.edge=true;r.version=n[1];r.newEdge=+n[1].split(".")[0]>18}if(o){r.weChat=true}e.svgSupported=typeof SVGRect!=="undefined";e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge;e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11);e.domSupported=typeof document!=="undefined";var s=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in s||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s);e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var l=12;var u="sans-serif";var f=l+"px "+u;var h=20;var v=100;var c="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function p(t){var e={};if(typeof JSON==="undefined"){return e}for(var r=0;r<t.length;r++){var i=String.fromCharCode(r+32);var a=(t.charCodeAt(r)-h)/v;e[i]=a}return e}var d=p(c);var g={createCanvas:function(){return typeof document!=="undefined"&&document.createElement("canvas")},measureText:function(){var t;var e;return function(r,i){if(!t){var a=g.createCanvas();t=a&&a.getContext("2d")}if(t){if(e!==i){e=t.font=i||f}return t.measureText(r)}else{r=r||"";i=i||f;var n=/((?:\d+)?\.?\d*)px/.exec(i);var o=n&&+n[1]||l;var s=0;if(i.indexOf("mono")>=0){s=o*r.length}else{for(var u=0;u<r.length;u++){var h=d[r[u]];s+=h==null?o:h*o}}return{width:s}}}}(),loadImage:function(t,e,r){var i=new Image;i.onload=e;i.onerror=r;i.src=t;return i}};function y(t){for(var e in g){if(t[e]){g[e]=t[e]}}}var m=U(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){t["[object "+e+"]"]=true;return t},{});var x=U(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){t["[object "+e+"Array]"]=true;return t},{});var _=Object.prototype.toString;var w=Array.prototype;var b=w.forEach;var S=w.filter;var M=w.slice;var I=w.map;var T=function(){}.constructor;var C=T?T.prototype:null;var D="__proto__";var A=2311;function k(){return A++}function L(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}if(typeof console!=="undefined"){console.error.apply(console,t)}}function P(t){if(t==null||typeof t!=="object"){return t}var e=t;var r=_.call(t);if(r==="[object Array]"){if(!xt(t)){e=[];for(var i=0,a=t.length;i<a;i++){e[i]=P(t[i])}}}else if(x[r]){if(!xt(t)){var n=t.constructor;if(n.from){e=n.from(t)}else{e=new n(t.length);for(var i=0,a=t.length;i<a;i++){e[i]=t[i]}}}}else if(!m[r]&&!xt(t)&&!nt(t)){e={};for(var o in t){if(t.hasOwnProperty(o)&&o!==D){e[o]=P(t[o])}}}return e}function O(t,e,r){if(!rt(e)||!rt(t)){return r?P(e):t}for(var i in e){if(e.hasOwnProperty(i)&&i!==D){var a=t[i];var n=e[i];if(rt(n)&&rt(a)&&!J(n)&&!J(a)&&!nt(n)&&!nt(a)&&!it(n)&&!it(a)&&!xt(n)&&!xt(a)){O(a,n,r)}else if(r||!(i in t)){t[i]=P(e[i])}}}return t}function R(t,e){var r=t[0];for(var i=1,a=t.length;i<a;i++){r=O(r,t[i],e)}return r}function N(t,e){if(Object.assign){Object.assign(t,e)}else{for(var r in e){if(e.hasOwnProperty(r)&&r!==D){t[r]=e[r]}}}return t}function E(t,e,r){var i=Z(e);for(var a=0,n=i.length;a<n;a++){var o=i[a];if(r?e[o]!=null:t[o]==null){t[o]=e[o]}}return t}var z=g.createCanvas;function V(t,e){if(t){if(t.indexOf){return t.indexOf(e)}for(var r=0,i=t.length;r<i;r++){if(t[r]===e){return r}}}return-1}function B(t,e){var r=t.prototype;function i(){}i.prototype=e.prototype;t.prototype=new i;for(var a in r){if(r.hasOwnProperty(a)){t.prototype[a]=r[a]}}t.prototype.constructor=t;t.superClass=e}function F(t,e,r){t="prototype"in t?t.prototype:t;e="prototype"in e?e.prototype:e;if(Object.getOwnPropertyNames){var i=Object.getOwnPropertyNames(e);for(var a=0;a<i.length;a++){var n=i[a];if(n!=="constructor"){if(r?e[n]!=null:t[n]==null){t[n]=e[n]}}}}else{E(t,e,r)}}function G(t){if(!t){return false}if(typeof t==="string"){return false}return typeof t.length==="number"}function H(t,e,r){if(!(t&&e)){return}if(t.forEach&&t.forEach===b){t.forEach(e,r)}else if(t.length===+t.length){for(var i=0,a=t.length;i<a;i++){e.call(r,t[i],i,t)}}else{for(var n in t){if(t.hasOwnProperty(n)){e.call(r,t[n],n,t)}}}}function W(t,e,r){if(!t){return[]}if(!e){return ct(t)}if(t.map&&t.map===I){return t.map(e,r)}else{var i=[];for(var a=0,n=t.length;a<n;a++){i.push(e.call(r,t[a],a,t))}return i}}function U(t,e,r,i){if(!(t&&e)){return}for(var a=0,n=t.length;a<n;a++){r=e.call(i,r,t[a],a,t)}return r}function Y(t,e,r){if(!t){return[]}if(!e){return ct(t)}if(t.filter&&t.filter===S){return t.filter(e,r)}else{var i=[];for(var a=0,n=t.length;a<n;a++){if(e.call(r,t[a],a,t)){i.push(t[a])}}return i}}function X(t,e,r){if(!(t&&e)){return}for(var i=0,a=t.length;i<a;i++){if(e.call(r,t[i],i,t)){return t[i]}}}function Z(t){if(!t){return[]}if(Object.keys){return Object.keys(t)}var e=[];for(var r in t){if(t.hasOwnProperty(r)){e.push(r)}}return e}function j(t,e){var r=[];for(var i=2;i<arguments.length;i++){r[i-2]=arguments[i]}return function(){return t.apply(e,r.concat(M.call(arguments)))}}var q=C&&$(C.bind)?C.call.bind(C.bind):j;function K(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}return function(){return t.apply(this,e.concat(M.call(arguments)))}}function J(t){if(Array.isArray){return Array.isArray(t)}return _.call(t)==="[object Array]"}function $(t){return typeof t==="function"}function Q(t){return typeof t==="string"}function tt(t){return _.call(t)==="[object String]"}function et(t){return typeof t==="number"}function rt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function it(t){return!!m[_.call(t)]}function at(t){return!!x[_.call(t)]}function nt(t){return typeof t==="object"&&typeof t.nodeType==="number"&&typeof t.ownerDocument==="object"}function ot(t){return t.colorStops!=null}function st(t){return t.image!=null}function lt(t){return _.call(t)==="[object RegExp]"}function ut(t){return t!==t}function ft(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}for(var r=0,i=t.length;r<i;r++){if(t[r]!=null){return t[r]}}}function ht(t,e){return t!=null?t:e}function vt(t,e,r){return t!=null?t:e!=null?e:r}function ct(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}return M.apply(t,e)}function pt(t){if(typeof t==="number"){return[t,t,t,t]}var e=t.length;if(e===2){return[t[0],t[1],t[0],t[1]]}else if(e===3){return[t[0],t[1],t[2],t[1]]}return t}function dt(t,e){if(!t){throw new Error(e)}}function gt(t){if(t==null){return null}else if(typeof t.trim==="function"){return t.trim()}else{return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}var yt="__ec_primitive__";function mt(t){t[yt]=true}function xt(t){return t[yt]}var _t=function(){function t(){this.data={}}t.prototype["delete"]=function(t){var e=this.has(t);if(e){delete this.data[t]}return e};t.prototype.has=function(t){return this.data.hasOwnProperty(t)};t.prototype.get=function(t){return this.data[t]};t.prototype.set=function(t,e){this.data[t]=e;return this};t.prototype.keys=function(){return Z(this.data)};t.prototype.forEach=function(t){var e=this.data;for(var r in e){if(e.hasOwnProperty(r)){t(e[r],r)}}};return t}();var wt=typeof Map==="function";function bt(){return wt?new Map:new _t}var St=function(){function t(e){var r=J(e);this.data=bt();var i=this;e instanceof t?e.each(a):e&&H(e,a);function a(t,e){r?i.set(t,e):i.set(e,t)}}t.prototype.hasKey=function(t){return this.data.has(t)};t.prototype.get=function(t){return this.data.get(t)};t.prototype.set=function(t,e){this.data.set(t,e);return e};t.prototype.each=function(t,e){this.data.forEach(function(r,i){t.call(e,r,i)})};t.prototype.keys=function(){var t=this.data.keys();return wt?Array.from(t):t};t.prototype.removeKey=function(t){this.data["delete"](t)};return t}();function Mt(t){return new St(t)}function It(t,e){var r=new t.constructor(t.length+e.length);for(var i=0;i<t.length;i++){r[i]=t[i]}var a=t.length;for(var i=0;i<e.length;i++){r[i+a]=e[i]}return r}function Tt(t,e){var r;if(Object.create){r=Object.create(t)}else{var i=function(){};i.prototype=t;r=new i}if(e){N(r,e)}return r}function Ct(t){var e=t.style;e.webkitUserSelect="none";e.userSelect="none";e.webkitTapHighlightColor="rgba(0,0,0,0)";e["-webkit-touch-callout"]="none"}function Dt(t,e){return t.hasOwnProperty(e)}function At(){}var kt=180/Math.PI;var Lt=Object.freeze({__proto__:null,guid:k,logError:L,clone:P,merge:O,mergeAll:R,extend:N,defaults:E,createCanvas:z,indexOf:V,inherits:B,mixin:F,isArrayLike:G,each:H,map:W,reduce:U,filter:Y,find:X,keys:Z,bind:q,curry:K,isArray:J,isFunction:$,isString:Q,isStringSafe:tt,isNumber:et,isObject:rt,isBuiltInObject:it,isTypedArray:at,isDom:nt,isGradientObject:ot,isImagePatternObject:st,isRegExp:lt,eqNaN:ut,retrieve:ft,retrieve2:ht,retrieve3:vt,slice:ct,normalizeCssArray:pt,assert:dt,trim:gt,setAsPrimitive:mt,isPrimitive:xt,HashMap:St,createHashMap:Mt,concatArray:It,createObject:Tt,disableUserSelect:Ct,hasOwn:Dt,noop:At,RADIAN_TO_DEGREE:kt});function Pt(t,e){if(t==null){t=0}if(e==null){e=0}return[t,e]}function Ot(t,e){t[0]=e[0];t[1]=e[1];return t}function Rt(t){return[t[0],t[1]]}function Nt(t,e,r){t[0]=e;t[1]=r;return t}function Et(t,e,r){t[0]=e[0]+r[0];t[1]=e[1]+r[1];return t}function zt(t,e,r,i){t[0]=e[0]+r[0]*i;t[1]=e[1]+r[1]*i;return t}function Vt(t,e,r){t[0]=e[0]-r[0];t[1]=e[1]-r[1];return t}function Bt(t){return Math.sqrt(Gt(t))}var Ft=Bt;function Gt(t){return t[0]*t[0]+t[1]*t[1]}var Ht=Gt;function Wt(t,e,r){t[0]=e[0]*r[0];t[1]=e[1]*r[1];return t}function Ut(t,e,r){t[0]=e[0]/r[0];t[1]=e[1]/r[1];return t}function Yt(t,e){return t[0]*e[0]+t[1]*e[1]}function Xt(t,e,r){t[0]=e[0]*r;t[1]=e[1]*r;return t}function Zt(t,e){var r=Bt(e);if(r===0){t[0]=0;t[1]=0}else{t[0]=e[0]/r;t[1]=e[1]/r}return t}function jt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var qt=jt;function Kt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Jt=Kt;function $t(t,e){t[0]=-e[0];t[1]=-e[1];return t}function Qt(t,e,r,i){t[0]=e[0]+i*(r[0]-e[0]);t[1]=e[1]+i*(r[1]-e[1]);return t}function te(t,e,r){var i=e[0];var a=e[1];t[0]=r[0]*i+r[2]*a+r[4];t[1]=r[1]*i+r[3]*a+r[5];return t}function ee(t,e,r){t[0]=Math.min(e[0],r[0]);t[1]=Math.min(e[1],r[1]);return t}function re(t,e,r){t[0]=Math.max(e[0],r[0]);t[1]=Math.max(e[1],r[1]);return t}var ie=Object.freeze({__proto__:null,create:Pt,copy:Ot,clone:Rt,set:Nt,add:Et,scaleAndAdd:zt,sub:Vt,len:Bt,length:Ft,lenSquare:Gt,lengthSquare:Ht,mul:Wt,div:Ut,dot:Yt,scale:Xt,normalize:Zt,distance:jt,dist:qt,distanceSquare:Kt,distSquare:Jt,negate:$t,lerp:Qt,applyTransform:te,min:ee,max:re});var ae=function(){function t(t,e){this.target=t;this.topTarget=e&&e.topTarget}return t}();var ne=function(){function t(t){this.handler=t;t.on("mousedown",this._dragStart,this);t.on("mousemove",this._drag,this);t.on("mouseup",this._dragEnd,this)}t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable){e=e.parent||e.__hostTarget}if(e){this._draggingTarget=e;e.dragging=true;this._x=t.offsetX;this._y=t.offsetY;this.handler.dispatchToElement(new ae(e,t),"dragstart",t.event)}};t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX;var i=t.offsetY;var a=r-this._x;var n=i-this._y;this._x=r;this._y=i;e.drift(a,n,t);this.handler.dispatchToElement(new ae(e,t),"drag",t.event);var o=this.handler.findHover(r,i,e).target;var s=this._dropTarget;this._dropTarget=o;if(e!==o){if(s&&o!==s){this.handler.dispatchToElement(new ae(s,t),"dragleave",t.event)}if(o&&o!==s){this.handler.dispatchToElement(new ae(o,t),"dragenter",t.event)}}}};t.prototype._dragEnd=function(t){var e=this._draggingTarget;if(e){e.dragging=false}this.handler.dispatchToElement(new ae(e,t),"dragend",t.event);if(this._dropTarget){this.handler.dispatchToElement(new ae(this._dropTarget,t),"drop",t.event)}this._draggingTarget=null;this._dropTarget=null};return t}();var oe=function(){function t(t){if(t){this._$eventProcessor=t}}t.prototype.on=function(t,e,r,i){if(!this._$handlers){this._$handlers={}}var a=this._$handlers;if(typeof e==="function"){i=r;r=e;e=null}if(!r||!t){return this}var n=this._$eventProcessor;if(e!=null&&n&&n.normalizeQuery){e=n.normalizeQuery(e)}if(!a[t]){a[t]=[]}for(var o=0;o<a[t].length;o++){if(a[t][o].h===r){return this}}var s={h:r,query:e,ctx:i||this,callAtLast:r.zrEventfulCallAtLast};var l=a[t].length-1;var u=a[t][l];u&&u.callAtLast?a[t].splice(l,0,s):a[t].push(s);return this};t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length};t.prototype.off=function(t,e){var r=this._$handlers;if(!r){return this}if(!t){this._$handlers={};return this}if(e){if(r[t]){var i=[];for(var a=0,n=r[t].length;a<n;a++){if(r[t][a].h!==e){i.push(r[t][a])}}r[t]=i}if(r[t]&&r[t].length===0){delete r[t]}}else{delete r[t]}return this};t.prototype.trigger=function(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}if(!this._$handlers){return this}var i=this._$handlers[t];var a=this._$eventProcessor;if(i){var n=e.length;var o=i.length;for(var s=0;s<o;s++){var l=i[s];if(a&&a.filter&&l.query!=null&&!a.filter(t,l.query)){continue}switch(n){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e);break}}}a&&a.afterTrigger&&a.afterTrigger(t);return this};t.prototype.triggerWithContext=function(t){var e=[];for(var r=1;r<arguments.length;r++){e[r-1]=arguments[r]}if(!this._$handlers){return this}var i=this._$handlers[t];var a=this._$eventProcessor;if(i){var n=e.length;var o=e[n-1];var s=i.length;for(var l=0;l<s;l++){var u=i[l];if(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)){continue}switch(n){case 0:u.h.call(o);break;case 1:u.h.call(o,e[0]);break;case 2:u.h.call(o,e[0],e[1]);break;default:u.h.apply(o,e.slice(1,n-1));break}}}a&&a.afterTrigger&&a.afterTrigger(t);return this};return t}();var se=Math.log(2);function le(t,e,r,i,a,n){var o=i+"-"+a;var s=t.length;if(n.hasOwnProperty(o)){return n[o]}if(e===1){var l=Math.round(Math.log((1<<s)-1&~a)/se);return t[r][l]}var u=i|1<<r;var f=r+1;while(i&1<<f){f++}var h=0;for(var v=0,c=0;v<s;v++){var p=1<<v;if(!(p&a)){h+=(c%2?-1:1)*t[r][v]*le(t,e-1,f,u,a|p,n);c++}}n[o]=h;return h}function ue(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]];var i={};var a=le(r,8,0,0,0,i);if(a===0){return}var n=[];for(var o=0;o<8;o++){for(var s=0;s<8;s++){n[s]==null&&(n[s]=0);n[s]+=((o+s)%2?-1:1)*le(r,7,o===0?1:0,1<<o,1<<s,i)/a*e[o]}}return function(t,e,r){var i=e*n[6]+r*n[7]+1;t[0]=(e*n[0]+r*n[1]+n[2])/i;t[1]=(e*n[3]+r*n[4]+n[5])/i}}var fe="___zrEVENTSAVED";var he=[];function ve(t,e,r,i,a){return ce(he,e,i,a,true)&&ce(t,r,he[0],he[1])}function ce(t,e,r,i,a){if(e.getBoundingClientRect&&o.domSupported&&!ge(e)){var n=e[fe]||(e[fe]={});var s=pe(e,n);var l=de(s,n,a);if(l){l(t,r,i);return true}}return false}function pe(t,e){var r=e.markers;if(r){return r}r=e.markers=[];var i=["left","right"];var a=["top","bottom"];for(var n=0;n<4;n++){var o=document.createElement("div");var s=o.style;var l=n%2;var u=(n>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",a[u]+":0",i[1-l]+":auto",a[1-u]+":auto",""].join("!important;");t.appendChild(o);r.push(o)}return r}function de(t,e,r){var i=r?"invTrans":"trans";var a=e[i];var n=e.srcCoords;var o=[];var s=[];var l=true;for(var u=0;u<4;u++){var f=t[u].getBoundingClientRect();var h=2*u;var v=f.left;var c=f.top;o.push(v,c);l=l&&n&&v===n[h]&&c===n[h+1];s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&a?a:(e.srcCoords=o,e[i]=r?ue(s,o):ue(o,s))}function ge(t){return t.nodeName.toUpperCase()==="CANVAS"}var ye=/([&<>"'])/g;var me={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xe(t){return t==null?"":(t+"").replace(ye,function(t,e){return me[e]})}var _e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;var we=[];var be=o.browser.firefox&&+o.browser.version.split(".")[0]<39;function Se(t,e,r,i){r=r||{};if(i){Me(t,e,r)}else if(be&&e.layerX!=null&&e.layerX!==e.offsetX){r.zrX=e.layerX;r.zrY=e.layerY}else if(e.offsetX!=null){r.zrX=e.offsetX;r.zrY=e.offsetY}else{Me(t,e,r)}return r}function Me(t,e,r){if(o.domSupported&&t.getBoundingClientRect){var i=e.clientX;var a=e.clientY;if(ge(t)){var n=t.getBoundingClientRect();r.zrX=i-n.left;r.zrY=a-n.top;return}else{if(ce(we,t,i,a)){r.zrX=we[0];r.zrY=we[1];return}}}r.zrX=r.zrY=0}function Ie(t){return t||window.event}function Te(t,e,r){e=Ie(e);if(e.zrX!=null){return e}var i=e.type;var a=i&&i.indexOf("touch")>=0;if(!a){Se(t,e,e,r);var n=Ce(e);e.zrDelta=n?n/120:-(e.detail||0)/3}else{var o=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&Se(t,o,e,r)}var s=e.button;if(e.which==null&&s!==undefined&&_e.test(e.type)){e.which=s&1?1:s&2?3:s&4?2:0}return e}function Ce(t){var e=t.wheelDelta;if(e){return e}var r=t.deltaX;var i=t.deltaY;if(r==null||i==null){return e}var a=i!==0?Math.abs(i):Math.abs(r);var n=i>0?-1:i<0?1:r>0?-1:1;return 3*a*n}function De(t,e,r,i){t.addEventListener(e,r,i)}function Ae(t,e,r,i){t.removeEventListener(e,r,i)}var ke=function(t){t.preventDefault();t.stopPropagation();t.cancelBubble=true};function Le(t){return t.which===2||t.which===3}var Pe=function(){function t(){this._track=[]}t.prototype.recognize=function(t,e,r){this._doTrack(t,e,r);return this._recognize(t)};t.prototype.clear=function(){this._track.length=0;return this};t.prototype._doTrack=function(t,e,r){var i=t.touches;if(!i){return}var a={points:[],touches:[],target:e,event:t};for(var n=0,o=i.length;n<o;n++){var s=i[n];var l=Se(r,s,{});a.points.push([l.zrX,l.zrY]);a.touches.push(s)}this._track.push(a)};t.prototype._recognize=function(t){for(var e in Ne){if(Ne.hasOwnProperty(e)){var r=Ne[e](this._track,t);if(r){return r}}}};return t}();function Oe(t){var e=t[1][0]-t[0][0];var r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function Re(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var Ne={pinch:function(t,e){var r=t.length;if(!r){return}var i=(t[r-1]||{}).points;var a=(t[r-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var n=Oe(i)/Oe(a);!isFinite(n)&&(n=1);e.pinchScale=n;var o=Re(i);e.pinchX=o[0];e.pinchY=o[1];return{type:"pinch",target:t[0].target,event:e}}}};function Ee(){return[1,0,0,1,0,0]}function ze(t){t[0]=1;t[1]=0;t[2]=0;t[3]=1;t[4]=0;t[5]=0;return t}function Ve(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4];t[5]=e[5];return t}function Be(t,e,r){var i=e[0]*r[0]+e[2]*r[1];var a=e[1]*r[0]+e[3]*r[1];var n=e[0]*r[2]+e[2]*r[3];var o=e[1]*r[2]+e[3]*r[3];var s=e[0]*r[4]+e[2]*r[5]+e[4];var l=e[1]*r[4]+e[3]*r[5]+e[5];t[0]=i;t[1]=a;t[2]=n;t[3]=o;t[4]=s;t[5]=l;return t}function Fe(t,e,r){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];t[4]=e[4]+r[0];t[5]=e[5]+r[1];return t}function Ge(t,e,r,i){if(i===void 0){i=[0,0]}var a=e[0];var n=e[2];var o=e[4];var s=e[1];var l=e[3];var u=e[5];var f=Math.sin(r);var h=Math.cos(r);t[0]=a*h+s*f;t[1]=-a*f+s*h;t[2]=n*h+l*f;t[3]=-n*f+h*l;t[4]=h*(o-i[0])+f*(u-i[1])+i[0];t[5]=h*(u-i[1])-f*(o-i[0])+i[1];return t}function He(t,e,r){var i=r[0];var a=r[1];t[0]=e[0]*i;t[1]=e[1]*a;t[2]=e[2]*i;t[3]=e[3]*a;t[4]=e[4]*i;t[5]=e[5]*a;return t}function We(t,e){var r=e[0];var i=e[2];var a=e[4];var n=e[1];var o=e[3];var s=e[5];var l=r*o-n*i;if(!l){return null}l=1/l;t[0]=o*l;t[1]=-n*l;t[2]=-i*l;t[3]=r*l;t[4]=(i*s-o*a)*l;t[5]=(n*a-r*s)*l;return t}function Ue(t){var e=Ee();Ve(e,t);return e}var Ye=Object.freeze({__proto__:null,create:Ee,identity:ze,copy:Ve,mul:Be,translate:Fe,rotate:Ge,scale:He,invert:We,clone:Ue});var Xe=function(){function t(t,e){this.x=t||0;this.y=e||0}t.prototype.copy=function(t){this.x=t.x;this.y=t.y;return this};t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.set=function(t,e){this.x=t;this.y=e;return this};t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y};t.prototype.add=function(t){this.x+=t.x;this.y+=t.y;return this};t.prototype.scale=function(t){this.x*=t;this.y*=t};t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e;this.y+=t.y*e};t.prototype.sub=function(t){this.x-=t.x;this.y-=t.y;return this};t.prototype.dot=function(t){return this.x*t.x+this.y*t.y};t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y};t.prototype.normalize=function(){var t=this.len();this.x/=t;this.y/=t;return this};t.prototype.distance=function(t){var e=this.x-t.x;var r=this.y-t.y;return Math.sqrt(e*e+r*r)};t.prototype.distanceSquare=function(t){var e=this.x-t.x;var r=this.y-t.y;return e*e+r*r};t.prototype.negate=function(){this.x=-this.x;this.y=-this.y;return this};t.prototype.transform=function(t){if(!t){return}var e=this.x;var r=this.y;this.x=t[0]*e+t[2]*r+t[4];this.y=t[1]*e+t[3]*r+t[5];return this};t.prototype.toArray=function(t){t[0]=this.x;t[1]=this.y;return t};t.prototype.fromArray=function(t){this.x=t[0];this.y=t[1]};t.set=function(t,e,r){t.x=e;t.y=r};t.copy=function(t,e){t.x=e.x;t.y=e.y};t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};t.lenSquare=function(t){return t.x*t.x+t.y*t.y};t.dot=function(t,e){return t.x*e.x+t.y*e.y};t.add=function(t,e,r){t.x=e.x+r.x;t.y=e.y+r.y};t.sub=function(t,e,r){t.x=e.x-r.x;t.y=e.y-r.y};t.scale=function(t,e,r){t.x=e.x*r;t.y=e.y*r};t.scaleAndAdd=function(t,e,r,i){t.x=e.x+r.x*i;t.y=e.y+r.y*i};t.lerp=function(t,e,r,i){var a=1-i;t.x=a*e.x+i*r.x;t.y=a*e.y+i*r.y};return t}();var Ze=Math.min;var je=Math.max;var qe=new Xe;var Ke=new Xe;var Je=new Xe;var $e=new Xe;var Qe=new Xe;var tr=new Xe;var er=function(){function t(t,e,r,i){if(r<0){t=t+r;r=-r}if(i<0){e=e+i;i=-i}this.x=t;this.y=e;this.width=r;this.height=i}t.prototype.union=function(t){var e=Ze(t.x,this.x);var r=Ze(t.y,this.y);if(isFinite(this.x)&&isFinite(this.width)){this.width=je(t.x+t.width,this.x+this.width)-e}else{this.width=t.width}if(isFinite(this.y)&&isFinite(this.height)){this.height=je(t.y+t.height,this.y+this.height)-r}else{this.height=t.height}this.x=e;this.y=r};t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)};t.prototype.calculateTransform=function(t){var e=this;var r=t.width/e.width;var i=t.height/e.height;var a=Ee();Fe(a,a,[-e.x,-e.y]);He(a,a,[r,i]);Fe(a,a,[t.x,t.y]);return a};t.prototype.intersect=function(e,r){if(!e){return false}if(!(e instanceof t)){e=t.create(e)}var i=this;var a=i.x;var n=i.x+i.width;var o=i.y;var s=i.y+i.height;var l=e.x;var u=e.x+e.width;var f=e.y;var h=e.y+e.height;var v=!(n<l||u<a||s<f||h<o);if(r){var c=Infinity;var p=0;var d=Math.abs(n-l);var g=Math.abs(u-a);var y=Math.abs(s-f);var m=Math.abs(h-o);var x=Math.min(d,g);var _=Math.min(y,m);if(n<l||u<a){if(x>p){p=x;if(d<g){Xe.set(tr,-d,0)}else{Xe.set(tr,g,0)}}}else{if(x<c){c=x;if(d<g){Xe.set(Qe,d,0)}else{Xe.set(Qe,-g,0)}}}if(s<f||h<o){if(_>p){p=_;if(y<m){Xe.set(tr,0,-y)}else{Xe.set(tr,0,m)}}}else{if(x<c){c=x;if(y<m){Xe.set(Qe,0,y)}else{Xe.set(Qe,0,-m)}}}}if(r){Xe.copy(r,v?Qe:tr)}return v};t.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height};t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)};t.prototype.copy=function(e){t.copy(this,e)};t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}};t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};t.prototype.isZero=function(){return this.width===0||this.height===0};t.create=function(e){return new t(e.x,e.y,e.width,e.height)};t.copy=function(t,e){t.x=e.x;t.y=e.y;t.width=e.width;t.height=e.height};t.applyTransform=function(e,r,i){if(!i){if(e!==r){t.copy(e,r)}return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var a=i[0];var n=i[3];var o=i[4];var s=i[5];e.x=r.x*a+o;e.y=r.y*n+s;e.width=r.width*a;e.height=r.height*n;if(e.width<0){e.x+=e.width;e.width=-e.width}if(e.height<0){e.y+=e.height;e.height=-e.height}return}qe.x=Je.x=r.x;qe.y=$e.y=r.y;Ke.x=$e.x=r.x+r.width;Ke.y=Je.y=r.y+r.height;qe.transform(i);$e.transform(i);Ke.transform(i);Je.transform(i);e.x=Ze(qe.x,Ke.x,Je.x,$e.x);e.y=Ze(qe.y,Ke.y,Je.y,$e.y);var l=je(qe.x,Ke.x,Je.x,$e.x);var u=je(qe.y,Ke.y,Je.y,$e.y);e.width=l-e.x;e.height=u-e.y};return t}();var rr="silent";function ir(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:false,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:ar}}function ar(){ke(this.event)}var nr=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.handler=null;return e}e.prototype.dispose=function(){};e.prototype.setCursor=function(){};return e}(oe);var or=function(){function t(t,e){this.x=t;this.y=e}return t}();var sr=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var lr=new er(0,0,0,0);var ur=function(t){i(e,t);function e(e,r,i,a,n){var o=t.call(this)||this;o._hovered=new or(0,0);o.storage=e;o.painter=r;o.painterRoot=a;o._pointerSize=n;i=i||new nr;o.proxy=null;o.setHandlerProxy(i);o._draggingMgr=new ne(o);return o}e.prototype.setHandlerProxy=function(t){if(this.proxy){this.proxy.dispose()}if(t){H(sr,function(e){t.on&&t.on(e,this[e],this)},this);t.handler=this}this.proxy=t};e.prototype.mousemove=function(t){var e=t.zrX;var r=t.zrY;var i=vr(this,e,r);var a=this._hovered;var n=a.target;if(n&&!n.__zr){a=this.findHover(a.x,a.y);n=a.target}var o=this._hovered=i?new or(e,r):this.findHover(e,r);var s=o.target;var l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default");if(n&&s!==n){this.dispatchToElement(a,"mouseout",t)}this.dispatchToElement(o,"mousemove",t);if(s&&s!==n){this.dispatchToElement(o,"mouseover",t)}};e.prototype.mouseout=function(t){var e=t.zrEventControl;if(e!=="only_globalout"){this.dispatchToElement(this._hovered,"mouseout",t)}if(e!=="no_globalout"){this.trigger("globalout",{type:"globalout",event:t})}};e.prototype.resize=function(){this._hovered=new or(0,0)};e.prototype.dispatch=function(t,e){var r=this[t];r&&r.call(this,e)};e.prototype.dispose=function(){this.proxy.dispose();this.storage=null;this.proxy=null;this.painter=null};e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)};e.prototype.dispatchToElement=function(t,e,r){t=t||{};var i=t.target;if(i&&i.silent){return}var a="on"+e;var n=ir(e,t,r);while(i){i[a]&&(n.cancelBubble=!!i[a].call(i,n));i.trigger(e,n);i=i.__hostTarget?i.__hostTarget:i.parent;if(n.cancelBubble){break}}if(!n.cancelBubble){this.trigger(e,n);if(this.painter&&this.painter.eachOtherLayer){this.painter.eachOtherLayer(function(t){if(typeof t[a]==="function"){t[a].call(t,n)}if(t.trigger){t.trigger(e,n)}})}}};e.prototype.findHover=function(t,e,r){var i=this.storage.getDisplayList();var a=new or(t,e);hr(i,a,t,e,r);if(this._pointerSize&&!a.target){var n=[];var o=this._pointerSize;var s=o/2;var l=new er(t-s,e-s,o,o);for(var u=i.length-1;u>=0;u--){var f=i[u];if(f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)){lr.copy(f.getBoundingRect());if(f.transform){lr.applyTransform(f.transform)}if(lr.intersect(l)){n.push(f)}}}if(n.length){var h=4;var v=Math.PI/12;var c=Math.PI*2;for(var p=0;p<s;p+=h){for(var d=0;d<c;d+=v){var g=t+p*Math.cos(d);var y=e+p*Math.sin(d);hr(n,a,g,y,r);if(a.target){return a}}}}}return a};e.prototype.processGesture=function(t,e){if(!this._gestureMgr){this._gestureMgr=new Pe}var r=this._gestureMgr;e==="start"&&r.clear();var i=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);e==="end"&&r.clear();if(i){var a=i.type;t.gestureEvent=a;var n=new or;n.target=i.target;this.dispatchToElement(n,a,i.event)}};return e}(oe);H(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ur.prototype[t]=function(e){var r=e.zrX;var i=e.zrY;var a=vr(this,r,i);var n;var o;if(t!=="mouseup"||!a){n=this.findHover(r,i);o=n.target}if(t==="mousedown"){this._downEl=o;this._downPoint=[e.zrX,e.zrY];this._upEl=o}else if(t==="mouseup"){this._upEl=o}else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||qt(this._downPoint,[e.zrX,e.zrY])>4){return}this._downPoint=null}this.dispatchToElement(n,t,e)}});function fr(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){var i=t;var a=void 0;var n=false;while(i){if(i.ignoreClip){n=true}if(!n){var o=i.getClipPath();if(o&&!o.contain(e,r)){return false}}if(i.silent){a=true}var s=i.__hostTarget;i=s?s:i.parent}return a?rr:true}return false}function hr(t,e,r,i,a){for(var n=t.length-1;n>=0;n--){var o=t[n];var s=void 0;if(o!==a&&!o.ignore&&(s=fr(o,r,i))){!e.topTarget&&(e.topTarget=o);if(s!==rr){e.target=o;break}}}}function vr(t,e,r){var i=t.painter;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var cr=32;var pr=7;function dr(t){var e=0;while(t>=cr){e|=t&1;t>>=1}return t+e}function gr(t,e,r,i){var a=e+1;if(a===r){return 1}if(i(t[a++],t[e])<0){while(a<r&&i(t[a],t[a-1])<0){a++}yr(t,e,a)}else{while(a<r&&i(t[a],t[a-1])>=0){a++}}return a-e}function yr(t,e,r){r--;while(e<r){var i=t[e];t[e++]=t[r];t[r--]=i}}function mr(t,e,r,i,a){if(i===e){i++}for(;i<r;i++){var n=t[i];var o=e;var s=i;var l;while(o<s){l=o+s>>>1;if(a(n,t[l])<0){s=l}else{o=l+1}}var u=i-o;switch(u){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:while(u>0){t[o+u]=t[o+u-1];u--}}t[o]=n}}function xr(t,e,r,i,a,n){var o=0;var s=0;var l=1;if(n(t,e[r+a])>0){s=i-a;while(l<s&&n(t,e[r+a+l])>0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=a;l+=a}else{s=a+1;while(l<s&&n(t,e[r+a-l])<=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var u=o;o=a-l;l=a-u}o++;while(o<l){var f=o+(l-o>>>1);if(n(t,e[r+f])>0){o=f+1}else{l=f}}return l}function _r(t,e,r,i,a,n){var o=0;var s=0;var l=1;if(n(t,e[r+a])<0){s=a+1;while(l<s&&n(t,e[r+a-l])<0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}var u=o;o=a-l;l=a-u}else{s=i-a;while(l<s&&n(t,e[r+a+l])>=0){o=l;l=(l<<1)+1;if(l<=0){l=s}}if(l>s){l=s}o+=a;l+=a}o++;while(o<l){var f=o+(l-o>>>1);if(n(t,e[r+f])<0){l=f}else{o=f+1}}return l}function wr(t,e){var r=pr;var i;var a;var n=0;var o=[];i=[];a=[];function s(t,e){i[n]=t;a[n]=e;n+=1}function l(){while(n>1){var t=n-2;if(t>=1&&a[t-1]<=a[t]+a[t+1]||t>=2&&a[t-2]<=a[t]+a[t-1]){if(a[t-1]<a[t+1]){t--}}else if(a[t]>a[t+1]){break}f(t)}}function u(){while(n>1){var t=n-2;if(t>0&&a[t-1]<a[t+1]){t--}f(t)}}function f(r){var o=i[r];var s=a[r];var l=i[r+1];var u=a[r+1];a[r]=s+u;if(r===n-3){i[r+1]=i[r+2];a[r+1]=a[r+2]}n--;var f=_r(t[l],t,o,s,0,e);o+=f;s-=f;if(s===0){return}u=xr(t[o+s-1],t,l,u,u-1,e);if(u===0){return}if(s<=u){h(o,s,l,u)}else{v(o,s,l,u)}}function h(i,a,n,s){var l=0;for(l=0;l<a;l++){o[l]=t[i+l]}var u=0;var f=n;var h=i;t[h++]=t[f++];if(--s===0){for(l=0;l<a;l++){t[h+l]=o[u+l]}return}if(a===1){for(l=0;l<s;l++){t[h+l]=t[f+l]}t[h+s]=o[u];return}var v=r;var c;var p;var d;while(1){c=0;p=0;d=false;do{if(e(t[f],o[u])<0){t[h++]=t[f++];p++;c=0;if(--s===0){d=true;break}}else{t[h++]=o[u++];c++;p=0;if(--a===1){d=true;break}}}while((c|p)<v);if(d){break}do{c=_r(t[f],o,u,a,0,e);if(c!==0){for(l=0;l<c;l++){t[h+l]=o[u+l]}h+=c;u+=c;a-=c;if(a<=1){d=true;break}}t[h++]=t[f++];if(--s===0){d=true;break}p=xr(o[u],t,f,s,0,e);if(p!==0){for(l=0;l<p;l++){t[h+l]=t[f+l]}h+=p;f+=p;s-=p;if(s===0){d=true;break}}t[h++]=o[u++];if(--a===1){d=true;break}v--}while(c>=pr||p>=pr);if(d){break}if(v<0){v=0}v+=2}r=v;r<1&&(r=1);if(a===1){for(l=0;l<s;l++){t[h+l]=t[f+l]}t[h+s]=o[u]}else if(a===0){throw new Error}else{for(l=0;l<a;l++){t[h+l]=o[u+l]}}}function v(i,a,n,s){var l=0;for(l=0;l<s;l++){o[l]=t[n+l]}var u=i+a-1;var f=s-1;var h=n+s-1;var v=0;var c=0;t[h--]=t[u--];if(--a===0){v=h-(s-1);for(l=0;l<s;l++){t[v+l]=o[l]}return}if(s===1){h-=a;u-=a;c=h+1;v=u+1;for(l=a-1;l>=0;l--){t[c+l]=t[v+l]}t[h]=o[f];return}var p=r;while(true){var d=0;var g=0;var y=false;do{if(e(o[f],t[u])<0){t[h--]=t[u--];d++;g=0;if(--a===0){y=true;break}}else{t[h--]=o[f--];g++;d=0;if(--s===1){y=true;break}}}while((d|g)<p);if(y){break}do{d=a-_r(o[f],t,i,a,a-1,e);if(d!==0){h-=d;u-=d;a-=d;c=h+1;v=u+1;for(l=d-1;l>=0;l--){t[c+l]=t[v+l]}if(a===0){y=true;break}}t[h--]=o[f--];if(--s===1){y=true;break}g=s-xr(t[u],o,0,s,s-1,e);if(g!==0){h-=g;f-=g;s-=g;c=h+1;v=f+1;for(l=0;l<g;l++){t[c+l]=o[v+l]}if(s<=1){y=true;break}}t[h--]=t[u--];if(--a===0){y=true;break}p--}while(d>=pr||g>=pr);if(y){break}if(p<0){p=0}p+=2}r=p;if(r<1){r=1}if(s===1){h-=a;u-=a;c=h+1;v=u+1;for(l=a-1;l>=0;l--){t[c+l]=t[v+l]}t[h]=o[f]}else if(s===0){throw new Error}else{v=h-(s-1);for(l=0;l<s;l++){t[v+l]=o[l]}}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function br(t,e,r,i){if(!r){r=0}if(!i){i=t.length}var a=i-r;if(a<2){return}var n=0;if(a<cr){n=gr(t,r,i,e);mr(t,r,i,r+n,e);return}var o=wr(t,e);var s=dr(a);do{n=gr(t,r,i,e);if(n<s){var l=a;if(l>s){l=s}mr(t,r,r+l,r+n,e);n=l}o.pushRun(r,n);o.mergeRuns();a-=n;r+=n}while(a!==0);o.forceMergeRuns()}var Sr=1;var Mr=2;var Ir=4;var Tr=false;function Cr(){if(Tr){return}Tr=true;console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function Dr(t,e){if(t.zlevel===e.zlevel){if(t.z===e.z){return t.z2-e.z2}return t.z-e.z}return t.zlevel-e.zlevel}var Ar=function(){function t(){this._roots=[];this._displayList=[];this._displayListLen=0;this.displayableSortFunc=Dr}t.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++){this._roots[r].traverse(t,e)}};t.prototype.getDisplayList=function(t,e){e=e||false;var r=this._displayList;if(t||!r.length){this.updateDisplayList(e)}return r};t.prototype.updateDisplayList=function(t){this._displayListLen=0;var e=this._roots;var r=this._displayList;for(var i=0,a=e.length;i<a;i++){this._updateAndAddDisplayable(e[i],null,t)}r.length=this._displayListLen;br(r,Dr)};t.prototype._updateAndAddDisplayable=function(t,e,r){if(t.ignore&&!r){return}t.beforeUpdate();t.update();t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip){e=null}else if(i){if(e){e=e.slice()}else{e=[]}var a=i;var n=t;while(a){a.parent=n;a.updateTransform();e.push(a);n=a;a=a.getClipPath()}}if(t.childrenRef){var o=t.childrenRef();for(var s=0;s<o.length;s++){var l=o[s];if(t.__dirty){l.__dirty|=Sr}this._updateAndAddDisplayable(l,e,r)}t.__dirty=0}else{var u=t;if(e&&e.length){u.__clipPaths=e}else if(u.__clipPaths&&u.__clipPaths.length>0){u.__clipPaths=[]}if(isNaN(u.z)){Cr();u.z=0}if(isNaN(u.z2)){Cr();u.z2=0}if(isNaN(u.zlevel)){Cr();u.zlevel=0}this._displayList[this._displayListLen++]=u}var f=t.getDecalElement&&t.getDecalElement();if(f){this._updateAndAddDisplayable(f,e,r)}var h=t.getTextGuideLine();if(h){this._updateAndAddDisplayable(h,e,r)}var v=t.getTextContent();if(v){this._updateAndAddDisplayable(v,e,r)}};t.prototype.addRoot=function(t){if(t.__zr&&t.__zr.storage===this){return}this._roots.push(t)};t.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,r=t.length;e<r;e++){this.delRoot(t[e])}return}var i=V(this._roots,t);if(i>=0){this._roots.splice(i,1)}};t.prototype.delAllRoots=function(){this._roots=[];this._displayList=[];this._displayListLen=0;return};t.prototype.getRoots=function(){return this._roots};t.prototype.dispose=function(){this._displayList=null;this._roots=null};return t}();var kr;kr=o.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var Lr=kr;var Pr={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){if((t*=2)<1){return.5*t*t}return-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){if((t*=2)<1){return.5*t*t*t}return.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t}return-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){if((t*=2)<1){return.5*t*t*t*t*t}return.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){if(t===0){return 0}if(t===1){return 1}if((t*=2)<1){return.5*Math.pow(1024,t-1)}return.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){if((t*=2)<1){return-.5*(Math.sqrt(1-t*t)-1)}return.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},elasticOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}return r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1},elasticInOut:function(t){var e;var r=.1;var i=.4;if(t===0){return 0}if(t===1){return 1}if(!r||r<1){r=1;e=i/4}else{e=i*Math.asin(1/r)/(2*Math.PI)}if((t*=2)<1){return-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))}return r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=1.70158*1.525;if((t*=2)<1){return.5*(t*t*((e+1)*t-e))}return.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Pr.bounceOut(1-t)},bounceOut:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},bounceInOut:function(t){if(t<.5){return Pr.bounceIn(t*2)*.5}return Pr.bounceOut(t*2-1)*.5+.5}};var Or=Math.pow;var Rr=Math.sqrt;var Nr=1e-8;var Er=1e-4;var zr=Rr(3);var Vr=1/3;var Br=Pt();var Fr=Pt();var Gr=Pt();function Hr(t){return t>-Nr&&t<Nr}function Wr(t){return t>Nr||t<-Nr}function Ur(t,e,r,i,a){var n=1-a;return n*n*(n*t+3*a*e)+a*a*(a*i+3*n*r)}function Yr(t,e,r,i,a){var n=1-a;return 3*(((e-t)*n+2*(r-e)*a)*n+(i-r)*a*a)}function Xr(t,e,r,i,a,n){var o=i+3*(e-r)-t;var s=3*(r-e*2+t);var l=3*(e-t);var u=t-a;var f=s*s-3*o*l;var h=s*l-9*o*u;var v=l*l-3*s*u;var c=0;if(Hr(f)&&Hr(h)){if(Hr(s)){n[0]=0}else{var p=-l/s;if(p>=0&&p<=1){n[c++]=p}}}else{var d=h*h-4*f*v;if(Hr(d)){var g=h/f;var p=-s/o+g;var y=-g/2;if(p>=0&&p<=1){n[c++]=p}if(y>=0&&y<=1){n[c++]=y}}else if(d>0){var m=Rr(d);var x=f*s+1.5*o*(-h+m);var _=f*s+1.5*o*(-h-m);if(x<0){x=-Or(-x,Vr)}else{x=Or(x,Vr)}if(_<0){_=-Or(-_,Vr)}else{_=Or(_,Vr)}var p=(-s-(x+_))/(3*o);if(p>=0&&p<=1){n[c++]=p}}else{var w=(2*f*s-3*o*h)/(2*Rr(f*f*f));var b=Math.acos(w)/3;var S=Rr(f);var M=Math.cos(b);var p=(-s-2*S*M)/(3*o);var y=(-s+S*(M+zr*Math.sin(b)))/(3*o);var I=(-s+S*(M-zr*Math.sin(b)))/(3*o);if(p>=0&&p<=1){n[c++]=p}if(y>=0&&y<=1){n[c++]=y}if(I>=0&&I<=1){n[c++]=I}}}return c}function Zr(t,e,r,i,a){var n=6*r-12*e+6*t;var o=9*e+3*i-3*t-9*r;var s=3*e-3*t;var l=0;if(Hr(o)){if(Wr(n)){var u=-s/n;if(u>=0&&u<=1){a[l++]=u}}}else{var f=n*n-4*o*s;if(Hr(f)){a[0]=-n/(2*o)}else if(f>0){var h=Rr(f);var u=(-n+h)/(2*o);var v=(-n-h)/(2*o);if(u>=0&&u<=1){a[l++]=u}if(v>=0&&v<=1){a[l++]=v}}}return l}function jr(t,e,r,i,a,n){var o=(e-t)*a+t;var s=(r-e)*a+e;var l=(i-r)*a+r;var u=(s-o)*a+o;var f=(l-s)*a+s;var h=(f-u)*a+u;n[0]=t;n[1]=o;n[2]=u;n[3]=h;n[4]=h;n[5]=f;n[6]=l;n[7]=i}function qr(t,e,r,i,a,n,o,s,l,u,f){var h;var v=.005;var c=Infinity;var p;var d;var g;var y;Br[0]=l;Br[1]=u;for(var m=0;m<1;m+=.05){Fr[0]=Ur(t,r,a,o,m);Fr[1]=Ur(e,i,n,s,m);g=Jt(Br,Fr);if(g<c){h=m;c=g}}c=Infinity;for(var x=0;x<32;x++){if(v<Er){break}p=h-v;d=h+v;Fr[0]=Ur(t,r,a,o,p);Fr[1]=Ur(e,i,n,s,p);g=Jt(Fr,Br);if(p>=0&&g<c){h=p;c=g}else{Gr[0]=Ur(t,r,a,o,d);Gr[1]=Ur(e,i,n,s,d);y=Jt(Gr,Br);if(d<=1&&y<c){h=d;c=y}else{v*=.5}}}if(f){f[0]=Ur(t,r,a,o,h);f[1]=Ur(e,i,n,s,h)}return Rr(c)}function Kr(t,e,r,i,a,n,o,s,l){var u=t;var f=e;var h=0;var v=1/l;for(var c=1;c<=l;c++){var p=c*v;var d=Ur(t,r,a,o,p);var g=Ur(e,i,n,s,p);var y=d-u;var m=g-f;h+=Math.sqrt(y*y+m*m);u=d;f=g}return h}function Jr(t,e,r,i){var a=1-i;return a*(a*t+2*i*e)+i*i*r}function $r(t,e,r,i){return 2*((1-i)*(e-t)+i*(r-e))}function Qr(t,e,r,i,a){var n=t-2*e+r;var o=2*(e-t);var s=t-i;var l=0;if(Hr(n)){if(Wr(o)){var u=-s/o;if(u>=0&&u<=1){a[l++]=u}}}else{var f=o*o-4*n*s;if(Hr(f)){var u=-o/(2*n);if(u>=0&&u<=1){a[l++]=u}}else if(f>0){var h=Rr(f);var u=(-o+h)/(2*n);var v=(-o-h)/(2*n);if(u>=0&&u<=1){a[l++]=u}if(v>=0&&v<=1){a[l++]=v}}}return l}function ti(t,e,r){var i=t+r-2*e;if(i===0){return.5}else{return(t-e)/i}}function ei(t,e,r,i,a){var n=(e-t)*i+t;var o=(r-e)*i+e;var s=(o-n)*i+n;a[0]=t;a[1]=n;a[2]=s;a[3]=s;a[4]=o;a[5]=r}function ri(t,e,r,i,a,n,o,s,l){var u;var f=.005;var h=Infinity;Br[0]=o;Br[1]=s;for(var v=0;v<1;v+=.05){Fr[0]=Jr(t,r,a,v);Fr[1]=Jr(e,i,n,v);var c=Jt(Br,Fr);if(c<h){u=v;h=c}}h=Infinity;for(var p=0;p<32;p++){if(f<Er){break}var d=u-f;var g=u+f;Fr[0]=Jr(t,r,a,d);Fr[1]=Jr(e,i,n,d);var c=Jt(Fr,Br);if(d>=0&&c<h){u=d;h=c}else{Gr[0]=Jr(t,r,a,g);Gr[1]=Jr(e,i,n,g);var y=Jt(Gr,Br);if(g<=1&&y<h){u=g;h=y}else{f*=.5}}}if(l){l[0]=Jr(t,r,a,u);l[1]=Jr(e,i,n,u)}return Rr(h)}function ii(t,e,r,i,a,n,o){var s=t;var l=e;var u=0;var f=1/o;for(var h=1;h<=o;h++){var v=h*f;var c=Jr(t,r,a,v);var p=Jr(e,i,n,v);var d=c-s;var g=p-l;u+=Math.sqrt(d*d+g*g);s=c;l=p}return u}var ai=/cubic-bezier\(([0-9,\.e ]+)\)/;function ni(t){var e=t&&ai.exec(t);if(e){var r=e[1].split(",");var i=+gt(r[0]);var a=+gt(r[1]);var n=+gt(r[2]);var o=+gt(r[3]);if(isNaN(i+a+n+o)){return}var s=[];return function(t){return t<=0?0:t>=1?1:Xr(0,i,n,1,t,s)&&Ur(0,a,o,1,s[0])}}}var oi=function(){function t(t){this._inited=false;this._startTime=0;this._pausedTime=0;this._paused=false;this._life=t.life||1e3;this._delay=t.delay||0;this.loop=t.loop||false;this.onframe=t.onframe||At;this.ondestroy=t.ondestroy||At;this.onrestart=t.onrestart||At;t.easing&&this.setEasing(t.easing)}t.prototype.step=function(t,e){if(!this._inited){this._startTime=t+this._delay;this._inited=true}if(this._paused){this._pausedTime+=e;return}var r=this._life;var i=t-this._startTime-this._pausedTime;var a=i/r;if(a<0){a=0}a=Math.min(a,1);var n=this.easingFunc;var o=n?n(a):a;this.onframe(o);if(a===1){if(this.loop){var s=i%r;this._startTime=t-s;this._pausedTime=0;this.onrestart()}else{return true}}return false};t.prototype.pause=function(){this._paused=true};t.prototype.resume=function(){this._paused=false};t.prototype.setEasing=function(t){this.easing=t;this.easingFunc=$(t)?t:Pr[t]||ni(t)};return t}();var si=function(){function t(t){this.value=t}return t}();var li=function(){function t(){this._len=0}t.prototype.insert=function(t){var e=new si(t);this.insertEntry(e);return e};t.prototype.insertEntry=function(t){if(!this.head){this.head=this.tail=t}else{this.tail.next=t;t.prev=this.tail;t.next=null;this.tail=t}this._len++};t.prototype.remove=function(t){var e=t.prev;var r=t.next;if(e){e.next=r}else{this.head=r}if(r){r.prev=e}else{this.tail=e}t.next=t.prev=null;this._len--};t.prototype.len=function(){return this._len};t.prototype.clear=function(){this.head=this.tail=null;this._len=0};return t}();var ui=function(){function t(t){this._list=new li;this._maxSize=10;this._map={};this._maxSize=t}t.prototype.put=function(t,e){var r=this._list;var i=this._map;var a=null;if(i[t]==null){var n=r.len();var o=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var s=r.head;r.remove(s);delete i[s.key];a=s.value;this._lastRemovedEntry=s}if(o){o.value=e}else{o=new si(e)}o.key=t;r.insertEntry(o);i[t]=o}return a};t.prototype.get=function(t){var e=this._map[t];var r=this._list;if(e!=null){if(e!==r.tail){r.remove(e);r.insertEntry(e)}return e.value}};t.prototype.clear=function(){this._list.clear();this._map={}};t.prototype.len=function(){return this._list.len()};return t}();var fi={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function hi(t){t=Math.round(t);return t<0?0:t>255?255:t}function vi(t){t=Math.round(t);return t<0?0:t>360?360:t}function ci(t){return t<0?0:t>1?1:t}function pi(t){var e=t;if(e.length&&e.charAt(e.length-1)==="%"){return hi(parseFloat(e)/100*255)}return hi(parseInt(e,10))}function di(t){var e=t;if(e.length&&e.charAt(e.length-1)==="%"){return ci(parseFloat(e)/100)}return ci(parseFloat(e))}function gi(t,e,r){if(r<0){r+=1}else if(r>1){r-=1}if(r*6<1){return t+(e-t)*r*6}if(r*2<1){return e}if(r*3<2){return t+(e-t)*(2/3-r)*6}return t}function yi(t,e,r){return t+(e-t)*r}function mi(t,e,r,i,a){t[0]=e;t[1]=r;t[2]=i;t[3]=a;return t}function xi(t,e){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}var _i=new ui(20);var wi=null;function bi(t,e){if(wi){xi(wi,e)}wi=_i.put(t,wi||e.slice())}function Si(t,e){if(!t){return}e=e||[];var r=_i.get(t);if(r){return xi(e,r)}t=t+"";var i=t.replace(/ /g,"").toLowerCase();if(i in fi){xi(e,fi[i]);bi(t,e);return e}var a=i.length;if(i.charAt(0)==="#"){if(a===4||a===5){var n=parseInt(i.slice(1,4),16);if(!(n>=0&&n<=4095)){mi(e,0,0,0,1);return}mi(e,(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,a===5?parseInt(i.slice(4),16)/15:1);bi(t,e);return e}else if(a===7||a===9){var n=parseInt(i.slice(1,7),16);if(!(n>=0&&n<=16777215)){mi(e,0,0,0,1);return}mi(e,(n&16711680)>>16,(n&65280)>>8,n&255,a===9?parseInt(i.slice(7),16)/255:1);bi(t,e);return e}return}var o=i.indexOf("(");var s=i.indexOf(")");if(o!==-1&&s+1===a){var l=i.substr(0,o);var u=i.substr(o+1,s-(o+1)).split(",");var f=1;switch(l){case"rgba":if(u.length!==4){return u.length===3?mi(e,+u[0],+u[1],+u[2],1):mi(e,0,0,0,1)}f=di(u.pop());case"rgb":if(u.length>=3){mi(e,pi(u[0]),pi(u[1]),pi(u[2]),u.length===3?f:di(u[3]));bi(t,e);return e}else{mi(e,0,0,0,1);return}case"hsla":if(u.length!==4){mi(e,0,0,0,1);return}u[3]=di(u[3]);Mi(u,e);bi(t,e);return e;case"hsl":if(u.length!==3){mi(e,0,0,0,1);return}Mi(u,e);bi(t,e);return e;default:return}}mi(e,0,0,0,1);return}function Mi(t,e){var r=(parseFloat(t[0])%360+360)%360/360;var i=di(t[1]);var a=di(t[2]);var n=a<=.5?a*(i+1):a+i-a*i;var o=a*2-n;e=e||[];mi(e,hi(gi(o,n,r+1/3)*255),hi(gi(o,n,r)*255),hi(gi(o,n,r-1/3)*255),1);if(t.length===4){e[3]=t[3]}return e}function Ii(t){if(!t){return}var e=t[0]/255;var r=t[1]/255;var i=t[2]/255;var a=Math.min(e,r,i);var n=Math.max(e,r,i);var o=n-a;var s=(n+a)/2;var l;var u;if(o===0){l=0;u=0}else{if(s<.5){u=o/(n+a)}else{u=o/(2-n-a)}var f=((n-e)/6+o/2)/o;var h=((n-r)/6+o/2)/o;var v=((n-i)/6+o/2)/o;if(e===n){l=v-h}else if(r===n){l=1/3+f-v}else if(i===n){l=2/3+h-f}if(l<0){l+=1}if(l>1){l-=1}}var c=[l*360,u,s];if(t[3]!=null){c.push(t[3])}return c}function Ti(t,e){var r=Si(t);if(r){for(var i=0;i<3;i++){if(e<0){r[i]=r[i]*(1-e)|0}else{r[i]=(255-r[i])*e+r[i]|0}if(r[i]>255){r[i]=255}else if(r[i]<0){r[i]=0}}return Ri(r,r.length===4?"rgba":"rgb")}}function Ci(t){var e=Si(t);if(e){return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}}function Di(t,e,r){if(!(e&&e.length)||!(t>=0&&t<=1)){return}r=r||[];var i=t*(e.length-1);var a=Math.floor(i);var n=Math.ceil(i);var o=e[a];var s=e[n];var l=i-a;r[0]=hi(yi(o[0],s[0],l));r[1]=hi(yi(o[1],s[1],l));r[2]=hi(yi(o[2],s[2],l));r[3]=ci(yi(o[3],s[3],l));return r}var Ai=Di;function ki(t,e,r){if(!(e&&e.length)||!(t>=0&&t<=1)){return}var i=t*(e.length-1);var a=Math.floor(i);var n=Math.ceil(i);var o=Si(e[a]);var s=Si(e[n]);var l=i-a;var u=Ri([hi(yi(o[0],s[0],l)),hi(yi(o[1],s[1],l)),hi(yi(o[2],s[2],l)),ci(yi(o[3],s[3],l))],"rgba");return r?{color:u,leftIndex:a,rightIndex:n,value:i}:u}var Li=ki;function Pi(t,e,r,i){var a=Si(t);if(t){a=Ii(a);e!=null&&(a[0]=vi(e));r!=null&&(a[1]=di(r));i!=null&&(a[2]=di(i));return Ri(Mi(a),"rgba")}}function Oi(t,e){var r=Si(t);if(r&&e!=null){r[3]=ci(e);return Ri(r,"rgba")}}function Ri(t,e){if(!t||!t.length){return}var r=t[0]+","+t[1]+","+t[2];if(e==="rgba"||e==="hsva"||e==="hsla"){r+=","+t[3]}return e+"("+r+")"}function Ni(t,e){var r=Si(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}function Ei(){return Ri([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var zi=new ui(100);function Vi(t){if(Q(t)){var e=zi.get(t);if(!e){e=Ti(t,-.1);zi.put(t,e)}return e}else if(ot(t)){var r=N({},t);r.colorStops=W(t.colorStops,function(t){return{offset:t.offset,color:Ti(t.color,-.1)}});return r}return t}var Bi=Object.freeze({__proto__:null,parse:Si,lift:Ti,toHex:Ci,fastLerp:Di,fastMapToColor:Ai,lerp:ki,mapToColor:Li,modifyHSL:Pi,modifyAlpha:Oi,stringify:Ri,lum:Ni,random:Ei,liftColor:Vi});var Fi=Math.round;function Gi(t){var e;if(!t||t==="transparent"){t="none"}else if(typeof t==="string"&&t.indexOf("rgba")>-1){var r=Si(t);if(r){t="rgb("+r[0]+","+r[1]+","+r[2]+")";e=r[3]}}return{color:t,opacity:e==null?1:e}}var Hi=1e-4;function Wi(t){return t<Hi&&t>-Hi}function Ui(t){return Fi(t*1e3)/1e3}function Yi(t){return Fi(t*1e4)/1e4}function Xi(t){return"matrix("+Ui(t[0])+","+Ui(t[1])+","+Ui(t[2])+","+Ui(t[3])+","+Yi(t[4])+","+Yi(t[5])+")"}var Zi={left:"start",right:"end",center:"middle",middle:"middle"};function ji(t,e,r){if(r==="top"){t+=e/2}else if(r==="bottom"){t-=e/2}return t}function qi(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function Ki(t){var e=t.style;var r=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function Ji(t){return t&&!!t.image}function $i(t){return t&&!!t.svgElement}function Qi(t){return Ji(t)||$i(t)}function ta(t){return t.type==="linear"}function ea(t){return t.type==="radial"}function ra(t){return t&&(t.type==="linear"||t.type==="radial")}function ia(t){return"url(#"+t+")"}function aa(t){var e=t.getGlobalScale();var r=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function na(t){var e=t.x||0;var r=t.y||0;var i=(t.rotation||0)*kt;var a=ht(t.scaleX,1);var n=ht(t.scaleY,1);var o=t.skewX||0;var s=t.skewY||0;var l=[];if(e||r){l.push("translate("+e+"px,"+r+"px)")}if(i){l.push("rotate("+i+")")}if(a!==1||n!==1){l.push("scale("+a+","+n+")")}if(o||s){l.push("skew("+Fi(o*kt)+"deg, "+Fi(s*kt)+"deg)")}return l.join(" ")}var oa=function(){if(o.hasGlobalWindow&&$(window.btoa)){return function(t){return window.btoa(unescape(encodeURIComponent(t)))}}if(typeof Buffer!=="undefined"){return function(t){return Buffer.from(t).toString("base64")}}return function(t){if(true){L("Base64 isn't natively supported in the current environment.")}return null}}();var sa=Array.prototype.slice;function la(t,e,r){return(e-t)*r+t}function ua(t,e,r,i){var a=e.length;for(var n=0;n<a;n++){t[n]=la(e[n],r[n],i)}return t}function fa(t,e,r,i){var a=e.length;var n=a&&e[0].length;for(var o=0;o<a;o++){if(!t[o]){t[o]=[]}for(var s=0;s<n;s++){t[o][s]=la(e[o][s],r[o][s],i)}}return t}function ha(t,e,r,i){var a=e.length;for(var n=0;n<a;n++){t[n]=e[n]+r[n]*i}return t}function va(t,e,r,i){var a=e.length;var n=a&&e[0].length;for(var o=0;o<a;o++){if(!t[o]){t[o]=[]}for(var s=0;s<n;s++){t[o][s]=e[o][s]+r[o][s]*i}}return t}function ca(t,e){var r=t.length;var i=e.length;var a=r>i?e:t;var n=Math.min(r,i);var o=a[n-1]||{color:[0,0,0,0],offset:0};for(var s=n;s<Math.max(r,i);s++){a.push({offset:o.offset,color:o.color.slice()})}}function pa(t,e,r){var i=t;var a=e;if(!i.push||!a.push){return}var n=i.length;var o=a.length;if(n!==o){var s=n>o;if(s){i.length=o}else{for(var l=n;l<o;l++){i.push(r===1?a[l]:sa.call(a[l]))}}}var u=i[0]&&i[0].length;for(var l=0;l<i.length;l++){if(r===1){if(isNaN(i[l])){i[l]=a[l]}}else{for(var f=0;f<u;f++){if(isNaN(i[l][f])){i[l][f]=a[l][f]}}}}}function da(t){if(G(t)){var e=t.length;if(G(t[0])){var r=[];for(var i=0;i<e;i++){r.push(sa.call(t[i]))}return r}return sa.call(t)}return t}function ga(t){t[0]=Math.floor(t[0])||0;t[1]=Math.floor(t[1])||0;t[2]=Math.floor(t[2])||0;t[3]=t[3]==null?1:t[3];return"rgba("+t.join(",")+")"}function ya(t){return G(t&&t[0])?2:1}var ma=0;var xa=1;var _a=2;var wa=3;var ba=4;var Sa=5;var Ma=6;function Ia(t){return t===ba||t===Sa}function Ta(t){return t===xa||t===_a}var Ca=[0,0,0,0];var Da=function(){function t(t){this.keyframes=[];this.discrete=false;this._invalid=false;this._needsSort=false;this._lastFr=0;this._lastFrP=0;this.propName=t}t.prototype.isFinished=function(){return this._finished};t.prototype.setFinished=function(){this._finished=true;if(this._additiveTrack){this._additiveTrack.setFinished()}};t.prototype.needsAnimate=function(){return this.keyframes.length>=1};t.prototype.getAdditiveTrack=function(){return this._additiveTrack};t.prototype.addKeyframe=function(t,e,r){this._needsSort=true;var i=this.keyframes;var a=i.length;var n=false;var o=Ma;var s=e;if(G(e)){var l=ya(e);o=l;if(l===1&&!et(e[0])||l===2&&!et(e[0][0])){n=true}}else{if(et(e)&&!ut(e)){o=ma}else if(Q(e)){if(!isNaN(+e)){o=ma}else{var u=Si(e);if(u){s=u;o=wa}}}else if(ot(e)){var f=N({},s);f.colorStops=W(e.colorStops,function(t){return{offset:t.offset,color:Si(t.color)}});if(ta(e)){o=ba}else if(ea(e)){o=Sa}s=f}}if(a===0){this.valType=o}else if(o!==this.valType||o===Ma){n=true}this.discrete=this.discrete||n;var h={time:t,value:s,rawValue:e,percent:0};if(r){h.easing=r;h.easingFunc=$(r)?r:Pr[r]||ni(r)}i.push(h);return h};t.prototype.prepare=function(t,e){var r=this.keyframes;if(this._needsSort){r.sort(function(t,e){return t.time-e.time})}var i=this.valType;var a=r.length;var n=r[a-1];var o=this.discrete;var s=Ta(i);var l=Ia(i);for(var u=0;u<a;u++){var f=r[u];var h=f.value;var v=n.value;f.percent=f.time/t;if(!o){if(s&&u!==a-1){pa(h,v,i)}else if(l){ca(h.colorStops,v.colorStops)}}}if(!o&&i!==Sa&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var c=r[0].value;for(var u=0;u<a;u++){if(i===ma){r[u].additiveValue=r[u].value-c}else if(i===wa){r[u].additiveValue=ha([],r[u].value,c,-1)}else if(Ta(i)){r[u].additiveValue=i===xa?ha([],r[u].value,c,-1):va([],r[u].value,c,-1)}}}};t.prototype.step=function(t,e){if(this._finished){return}if(this._additiveTrack&&this._additiveTrack._finished){this._additiveTrack=null}var r=this._additiveTrack!=null;var i=r?"additiveValue":"value";var a=this.valType;var n=this.keyframes;var o=n.length;var s=this.propName;var l=a===wa;var u;var f=this._lastFr;var h=Math.min;var v;var c;if(o===1){v=c=n[0]}else{if(e<0){u=0}else if(e<this._lastFrP){var p=h(f+1,o-1);for(u=p;u>=0;u--){if(n[u].percent<=e){break}}u=h(u,o-2)}else{for(u=f;u<o;u++){if(n[u].percent>e){break}}u=h(u-1,o-2)}c=n[u+1];v=n[u]}if(!(v&&c)){return}this._lastFr=u;this._lastFrP=e;var d=c.percent-v.percent;var g=d===0?1:h((e-v.percent)/d,1);if(c.easingFunc){g=c.easingFunc(g)}var y=r?this._additiveValue:l?Ca:t[s];if((Ta(a)||l)&&!y){y=this._additiveValue=[]}if(this.discrete){t[s]=g<1?v.rawValue:c.rawValue}else if(Ta(a)){a===xa?ua(y,v[i],c[i],g):fa(y,v[i],c[i],g)}else if(Ia(a)){var m=v[i];var x=c[i];var _=a===ba;t[s]={type:_?"linear":"radial",x:la(m.x,x.x,g),y:la(m.y,x.y,g),colorStops:W(m.colorStops,function(t,e){var r=x.colorStops[e];return{offset:la(t.offset,r.offset,g),color:ga(ua([],t.color,r.color,g))}}),global:x.global};if(_){t[s].x2=la(m.x2,x.x2,g);t[s].y2=la(m.y2,x.y2,g)}else{t[s].r=la(m.r,x.r,g)}}else if(l){ua(y,v[i],c[i],g);if(!r){t[s]=ga(y)}}else{var w=la(v[i],c[i],g);if(r){this._additiveValue=w}else{t[s]=w}}if(r){this._addToTarget(t)}};t.prototype._addToTarget=function(t){var e=this.valType;var r=this.propName;var i=this._additiveValue;if(e===ma){t[r]=t[r]+i}else if(e===wa){Si(t[r],Ca);ha(Ca,Ca,i,1);t[r]=ga(Ca)}else if(e===xa){ha(t[r],t[r],i,1)}else if(e===_a){va(t[r],t[r],i,1)}};return t}();var Aa=function(){function t(t,e,r,i){this._tracks={};this._trackKeys=[];this._maxTime=0;this._started=0;this._clip=null;this._target=t;this._loop=e;if(e&&i){L("Can' use additive animation on looped animation.");return}this._additiveAnimators=i;this._allowDiscrete=r}t.prototype.getMaxTime=function(){return this._maxTime};t.prototype.getDelay=function(){return this._delay};t.prototype.getLoop=function(){return this._loop};t.prototype.getTarget=function(){return this._target};t.prototype.changeTarget=function(t){this._target=t};t.prototype.when=function(t,e,r){return this.whenWithKeys(t,e,Z(e),r)};t.prototype.whenWithKeys=function(t,e,r,i){var a=this._tracks;for(var n=0;n<r.length;n++){var o=r[n];var s=a[o];if(!s){s=a[o]=new Da(o);var l=void 0;var u=this._getAdditiveTrack(o);if(u){var f=u.keyframes;var h=f[f.length-1];l=h&&h.value;if(u.valType===wa&&l){l=ga(l)}}else{l=this._target[o]}if(l==null){continue}if(t>0){s.addKeyframe(0,da(l),i)}this._trackKeys.push(o)}s.addKeyframe(t,da(e[o]),i)}this._maxTime=Math.max(this._maxTime,t);return this};t.prototype.pause=function(){this._clip.pause();this._paused=true};t.prototype.resume=function(){this._clip.resume();this._paused=false};t.prototype.isPaused=function(){return!!this._paused};t.prototype.duration=function(t){this._maxTime=t;this._force=true;return this};t.prototype._doneCallback=function(){this._setTracksFinished();this._clip=null;var t=this._doneCbs;if(t){var e=t.length;for(var r=0;r<e;r++){t[r].call(this)}}};t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation;var e=this._abortedCbs;if(t){t.removeClip(this._clip)}this._clip=null;if(e){for(var r=0;r<e.length;r++){e[r].call(this)}}};t.prototype._setTracksFinished=function(){var t=this._tracks;var e=this._trackKeys;for(var r=0;r<e.length;r++){t[e[r]].setFinished()}};t.prototype._getAdditiveTrack=function(t){var e;var r=this._additiveAnimators;if(r){for(var i=0;i<r.length;i++){var a=r[i].getTrack(t);if(a){e=a}}}return e};t.prototype.start=function(t){if(this._started>0){return}this._started=1;var e=this;var r=[];var i=this._maxTime||0;for(var a=0;a<this._trackKeys.length;a++){var n=this._trackKeys[a];var o=this._tracks[n];var s=this._getAdditiveTrack(n);var l=o.keyframes;var u=l.length;o.prepare(i,s);if(o.needsAnimate()){if(!this._allowDiscrete&&o.discrete){var f=l[u-1];if(f){e._target[o.propName]=f.rawValue}o.setFinished()}else{r.push(o)}}}if(r.length||this._force){var h=new oi({life:i,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var i=e._additiveAnimators;if(i){var a=false;for(var n=0;n<i.length;n++){if(i[n]._clip){a=true;break}}if(!a){e._additiveAnimators=null}}for(var n=0;n<r.length;n++){r[n].step(e._target,t)}var o=e._onframeCbs;if(o){for(var n=0;n<o.length;n++){o[n](e._target,t)}}},ondestroy:function(){e._doneCallback()}});this._clip=h;if(this.animation){this.animation.addClip(h)}if(t){h.setEasing(t)}}else{this._doneCallback()}return this};t.prototype.stop=function(t){if(!this._clip){return}var e=this._clip;if(t){e.onframe(1)}this._abortedCallback()};t.prototype.delay=function(t){this._delay=t;return this};t.prototype.during=function(t){if(t){if(!this._onframeCbs){this._onframeCbs=[]}this._onframeCbs.push(t)}return this};t.prototype.done=function(t){if(t){if(!this._doneCbs){this._doneCbs=[]}this._doneCbs.push(t)}return this};t.prototype.aborted=function(t){if(t){if(!this._abortedCbs){this._abortedCbs=[]}this._abortedCbs.push(t)}return this};t.prototype.getClip=function(){return this._clip};t.prototype.getTrack=function(t){return this._tracks[t]};t.prototype.getTracks=function(){var t=this;return W(this._trackKeys,function(e){return t._tracks[e]})};t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip){return true}var r=this._tracks;var i=this._trackKeys;for(var a=0;a<t.length;a++){var n=r[t[a]];if(n&&!n.isFinished()){if(e){n.step(this._target,1)}else if(this._started===1){n.step(this._target,0)}n.setFinished()}}var o=true;for(var a=0;a<i.length;a++){if(!r[i[a]].isFinished()){o=false;break}}if(o){this._abortedCallback()}return o};t.prototype.saveTo=function(t,e,r){if(!t){return}e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i];var n=this._tracks[a];if(!n||n.isFinished()){continue}var o=n.keyframes;var s=o[r?0:o.length-1];if(s){t[a]=da(s.rawValue)}}};t.prototype.__changeFinalValue=function(t,e){e=e||Z(t);for(var r=0;r<e.length;r++){var i=e[r];var a=this._tracks[i];if(!a){continue}var n=a.keyframes;if(n.length>1){var o=n.pop();a.addKeyframe(o.time,t[i]);a.prepare(this._maxTime,a.getAdditiveTrack())}}};return t}();function ka(){return(new Date).getTime()}var La=function(t){i(e,t);function e(e){var r=t.call(this)||this;r._running=false;r._time=0;r._pausedTime=0;r._pauseStart=0;r._paused=false;e=e||{};r.stage=e.stage||{};return r}e.prototype.addClip=function(t){if(t.animation){this.removeClip(t)}if(!this._head){this._head=this._tail=t}else{this._tail.next=t;t.prev=this._tail;t.next=null;this._tail=t}t.animation=this};e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();if(e){this.addClip(e)}};e.prototype.removeClip=function(t){if(!t.animation){return}var e=t.prev;var r=t.next;if(e){e.next=r}else{this._head=r}if(r){r.prev=e}else{this._tail=e}t.next=t.prev=t.animation=null};e.prototype.removeAnimator=function(t){var e=t.getClip();if(e){this.removeClip(e)}t.animation=null};e.prototype.update=function(t){var e=ka()-this._pausedTime;var r=e-this._time;var i=this._head;while(i){var a=i.next;var n=i.step(e,r);if(n){i.ondestroy();this.removeClip(i);i=a}else{i=a}}this._time=e;if(!t){this.trigger("frame",r);this.stage.update&&this.stage.update()}};e.prototype._startLoop=function(){var t=this;this._running=true;function e(){if(t._running){Lr(e);!t._paused&&t.update()}}Lr(e)};e.prototype.start=function(){if(this._running){return}this._time=ka();this._pausedTime=0;this._startLoop()};e.prototype.stop=function(){this._running=false};e.prototype.pause=function(){if(!this._paused){this._pauseStart=ka();this._paused=true}};e.prototype.resume=function(){if(this._paused){this._pausedTime+=ka()-this._pauseStart;this._paused=false}};e.prototype.clear=function(){var t=this._head;while(t){var e=t.next;t.prev=t.next=t.animation=null;t=e}this._head=this._tail=null};e.prototype.isFinished=function(){return this._head==null};e.prototype.animate=function(t,e){e=e||{};this.start();var r=new Aa(t,e.loop);this.addAnimator(r);return r};return e}(oe);var Pa=300;var Oa=o.domSupported;var Ra=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var e=["touchstart","touchend","touchmove"];var r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var i=W(t,function(t){var e=t.replace("mouse","pointer");return r.hasOwnProperty(e)?e:t});return{mouse:t,touch:e,pointer:i}}();var Na={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};var Ea=false;function za(t){var e=t.pointerType;return e==="pen"||e==="touch"}function Va(t){t.touching=true;if(t.touchTimer!=null){clearTimeout(t.touchTimer);t.touchTimer=null}t.touchTimer=setTimeout(function(){t.touching=false;t.touchTimer=null},700)}function Ba(t){t&&(t.zrByTouch=true)}function Fa(t,e){return Te(t.dom,new Ha(t,e),true)}function Ga(t,e){var r=e;var i=false;while(r&&r.nodeType!==9&&!(i=r.domBelongToZr||r!==e&&r===t.painterRoot)){r=r.parentNode}return i}var Ha=function(){function t(t,e){this.stopPropagation=At;this.stopImmediatePropagation=At;this.preventDefault=At;this.type=e.type;this.target=this.currentTarget=t.dom;this.pointerType=e.pointerType;this.clientX=e.clientX;this.clientY=e.clientY}return t}();var Wa={mousedown:function(t){t=Te(this.dom,t);this.__mayPointerCapture=[t.zrX,t.zrY];this.trigger("mousedown",t)},mousemove:function(t){t=Te(this.dom,t);var e=this.__mayPointerCapture;if(e&&(t.zrX!==e[0]||t.zrY!==e[1])){this.__togglePointerCapture(true)}this.trigger("mousemove",t)},mouseup:function(t){t=Te(this.dom,t);this.__togglePointerCapture(false);this.trigger("mouseup",t)},mouseout:function(t){t=Te(this.dom,t);var e=t.toElement||t.relatedTarget;if(!Ga(this,e)){if(this.__pointerCapturing){t.zrEventControl="no_globalout"}this.trigger("mouseout",t)}},wheel:function(t){Ea=true;t=Te(this.dom,t);this.trigger("mousewheel",t)},mousewheel:function(t){if(Ea){return}t=Te(this.dom,t);this.trigger("mousewheel",t)},touchstart:function(t){t=Te(this.dom,t);Ba(t);this.__lastTouchMoment=new Date;this.handler.processGesture(t,"start");Wa.mousemove.call(this,t);Wa.mousedown.call(this,t)},touchmove:function(t){t=Te(this.dom,t);Ba(t);this.handler.processGesture(t,"change");Wa.mousemove.call(this,t)},touchend:function(t){t=Te(this.dom,t);Ba(t);this.handler.processGesture(t,"end");Wa.mouseup.call(this,t);if(+new Date-+this.__lastTouchMoment<Pa){Wa.click.call(this,t)}},pointerdown:function(t){Wa.mousedown.call(this,t)},pointermove:function(t){if(!za(t)){Wa.mousemove.call(this,t)}},pointerup:function(t){Wa.mouseup.call(this,t)},pointerout:function(t){if(!za(t)){Wa.mouseout.call(this,t)}}};H(["click","dblclick","contextmenu"],function(t){Wa[t]=function(e){e=Te(this.dom,e);this.trigger(t,e)}});var Ua={pointermove:function(t){if(!za(t)){Ua.mousemove.call(this,t)}},pointerup:function(t){Ua.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(false);this.trigger("mouseup",t);if(e){t.zrEventControl="only_globalout";this.trigger("mouseout",t)}}};function Ya(t,e){var r=e.domHandlers;if(o.pointerEventsSupported){H(Ra.pointer,function(i){Za(e,i,function(e){r[i].call(t,e)})})}else{if(o.touchEventsSupported){H(Ra.touch,function(i){Za(e,i,function(a){r[i].call(t,a);Va(e)})})}H(Ra.mouse,function(i){Za(e,i,function(a){a=Ie(a);if(!e.touching){r[i].call(t,a)}})})}}function Xa(t,e){if(o.pointerEventsSupported){H(Na.pointer,r)}else if(!o.touchEventsSupported){H(Na.mouse,r)}function r(r){function i(i){i=Ie(i);if(!Ga(t,i.target)){i=Fa(t,i);e.domHandlers[r].call(t,i)}}Za(e,r,i,{capture:true})}}function Za(t,e,r,i){t.mounted[e]=r;t.listenerOpts[e]=i;De(t.domTarget,e,r,i)}function ja(t){var e=t.mounted;for(var r in e){if(e.hasOwnProperty(r)){Ae(t.domTarget,r,e[r],t.listenerOpts[r])}}t.mounted={}}var qa=function(){function t(t,e){this.mounted={};this.listenerOpts={};this.touching=false;this.domTarget=t;this.domHandlers=e}return t}();var Ka=function(t){i(e,t);function e(e,r){var i=t.call(this)||this;i.__pointerCapturing=false;i.dom=e;i.painterRoot=r;i._localHandlerScope=new qa(e,Wa);if(Oa){i._globalHandlerScope=new qa(document,Ua)}Ya(i,i._localHandlerScope);return i}e.prototype.dispose=function(){ja(this._localHandlerScope);if(Oa){ja(this._globalHandlerScope)}};e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")};e.prototype.__togglePointerCapture=function(t){this.__mayPointerCapture=null;if(Oa&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Xa(this,e):ja(e)}};return e}(oe);var Ja=1;if(o.hasGlobalWindow){Ja=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1)}var $a=Ja;var Qa=.4;var tn="#333";var en="#ccc";var rn="#eee";var an=ze;var nn=5e-5;function on(t){return t>nn||t<-nn}var sn=[];var ln=[];var un=Ee();var fn=Math.abs;var hn=function(){function t(){}t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)};t.prototype.setPosition=function(t){this.x=t[0];this.y=t[1]};t.prototype.setScale=function(t){this.scaleX=t[0];this.scaleY=t[1]};t.prototype.setSkew=function(t){this.skewX=t[0];this.skewY=t[1]};t.prototype.setOrigin=function(t){this.originX=t[0];this.originY=t[1]};t.prototype.needLocalTransform=function(){return on(this.rotation)||on(this.x)||on(this.y)||on(this.scaleX-1)||on(this.scaleY-1)||on(this.skewX)||on(this.skewY)};t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform;var e=this.needLocalTransform();var r=this.transform;if(!(e||t)){if(r){an(r);this.invTransform=null}return}r=r||Ee();if(e){this.getLocalTransform(r)}else{an(r)}if(t){if(e){Be(r,t,r)}else{Ve(r,t)}}this.transform=r;this._resolveGlobalScaleRatio(r)};t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(sn);var r=sn[0]<0?-1:1;var i=sn[1]<0?-1:1;var a=((sn[0]-r)*e+r)/sn[0]||0;var n=((sn[1]-i)*e+i)/sn[1]||0;t[0]*=a;t[1]*=a;t[2]*=n;t[3]*=n}this.invTransform=this.invTransform||Ee();We(this.invTransform,t)};t.prototype.getComputedTransform=function(){var t=this;var e=[];while(t){e.push(t);t=t.parent}while(t=e.pop()){t.updateTransform()}return this.transform};t.prototype.setLocalTransform=function(t){if(!t){return}var e=t[0]*t[0]+t[1]*t[1];var r=t[2]*t[2]+t[3]*t[3];var i=Math.atan2(t[1],t[0]);var a=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(a);e=Math.sqrt(e);this.skewX=a;this.skewY=0;this.rotation=-i;this.x=+t[4];this.y=+t[5];this.scaleX=e;this.scaleY=r;this.originX=0;this.originY=0};t.prototype.decomposeTransform=function(){if(!this.transform){return}var t=this.parent;var e=this.transform;if(t&&t.transform){t.invTransform=t.invTransform||Ee();Be(ln,t.invTransform,e);e=ln}var r=this.originX;var i=this.originY;if(r||i){un[4]=r;un[5]=i;Be(ln,e,un);ln[4]-=r;ln[5]-=i;e=ln}this.setLocalTransform(e)};t.prototype.getGlobalScale=function(t){var e=this.transform;t=t||[];if(!e){t[0]=1;t[1]=1;return t}t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]);t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){t[0]=-t[0]}if(e[3]<0){t[1]=-t[1]}return t};t.prototype.transformCoordToLocal=function(t,e){var r=[t,e];var i=this.invTransform;if(i){te(r,r,i)}return r};t.prototype.transformCoordToGlobal=function(t,e){var r=[t,e];var i=this.transform;if(i){te(r,r,i)}return r};t.prototype.getLineScale=function(){var t=this.transform;return t&&fn(t[0]-1)>1e-10&&fn(t[3]-1)>1e-10?Math.sqrt(fn(t[0]*t[3]-t[2]*t[1])):1};t.prototype.copyTransform=function(t){cn(this,t)};t.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0;var i=t.originY||0;var a=t.scaleX;var n=t.scaleY;var o=t.anchorX;var s=t.anchorY;var l=t.rotation||0;var u=t.x;var f=t.y;var h=t.skewX?Math.tan(t.skewX):0;var v=t.skewY?Math.tan(-t.skewY):0;if(r||i||o||s){var c=r+o;var p=i+s;e[4]=-c*a-h*p*n;e[5]=-p*n-v*c*a}else{e[4]=e[5]=0}e[0]=a;e[3]=n;e[1]=v*a;e[2]=h*n;l&&Ge(e,e,l);e[4]+=r+u;e[5]+=i+f;return e};t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1;e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}();return t}();var vn=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function cn(t,e){for(var r=0;r<vn.length;r++){var i=vn[r];t[i]=e[i]}}var pn={};function dn(t,e){e=e||f;var r=pn[e];if(!r){r=pn[e]=new ui(500)}var i=r.get(t);if(i==null){i=g.measureText(t,e).width;r.put(t,i)}return i}function gn(t,e,r,i){var a=dn(t,e);var n=_n(e);var o=mn(0,a,r);var s=xn(0,n,i);var l=new er(o,s,a,n);return l}function yn(t,e,r,i){var a=((t||"")+"").split("\n");var n=a.length;if(n===1){return gn(a[0],e,r,i)}else{var o=new er(0,0,0,0);for(var s=0;s<a.length;s++){var l=gn(a[s],e,r,i);s===0?o.copy(l):o.union(l)}return o}}function mn(t,e,r){if(r==="right"){t-=e}else if(r==="center"){t-=e/2}return t}function xn(t,e,r){if(r==="middle"){t-=e/2}else if(r==="bottom"){t-=e}return t}function _n(t){return dn("",t)}function wn(t,e){if(typeof t==="string"){if(t.lastIndexOf("%")>=0){return parseFloat(t)/100*e}return parseFloat(t)}return t}function bn(t,e,r){var i=e.position||"inside";var a=e.distance!=null?e.distance:5;var n=r.height;var o=r.width;var s=n/2;var l=r.x;var u=r.y;var f="left";var h="top";if(i instanceof Array){l+=wn(i[0],r.width);u+=wn(i[1],r.height);f=null;h=null}else{switch(i){case"left":l-=a;u+=s;f="right";h="middle";break;case"right":l+=a+o;u+=s;h="middle";break;case"top":l+=o/2;u-=a;f="center";h="bottom";break;case"bottom":l+=o/2;u+=n+a;f="center";break;case"inside":l+=o/2;u+=s;f="center";h="middle";break;case"insideLeft":l+=a;u+=s;h="middle";break;case"insideRight":l+=o-a;u+=s;f="right";h="middle";break;case"insideTop":l+=o/2;u+=a;f="center";break;case"insideBottom":l+=o/2;u+=n-a;f="center";h="bottom";break;case"insideTopLeft":l+=a;u+=a;break;case"insideTopRight":l+=o-a;u+=a;f="right";break;case"insideBottomLeft":l+=a;u+=n-a;h="bottom";break;case"insideBottomRight":l+=o-a;u+=n-a;f="right";h="bottom";break}}t=t||{};t.x=l;t.y=u;t.align=f;t.verticalAlign=h;return t}var Sn="__zr_normal__";var Mn=vn.concat(["ignore"]);var In=U(vn,function(t,e){t[e]=true;return t},{ignore:false});var Tn={};var Cn=new er(0,0,0,0);var Dn=function(){function t(t){this.id=k();this.animators=[];this.currentStates=[];this.states={};this._init(t)}t.prototype._init=function(t){this.attr(t)};t.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;if(!i){i=this.transform=[1,0,0,1,0,0]}i[4]+=t;i[5]+=e;this.decomposeTransform();this.markRedraw()};t.prototype.beforeUpdate=function(){};t.prototype.afterUpdate=function(){};t.prototype.update=function(){this.updateTransform();if(this.__dirty){this.updateInnerText()}};t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){if(!this.textConfig){this.textConfig={}}var r=this.textConfig;var i=r.local;var a=e.innerTransformable;var n=void 0;var o=void 0;var s=false;a.parent=i?this:null;var l=false;a.copyTransform(e);if(r.position!=null){var u=Cn;if(r.layoutRect){u.copy(r.layoutRect)}else{u.copy(this.getBoundingRect())}if(!i){u.applyTransform(this.transform)}if(this.calculateTextPosition){this.calculateTextPosition(Tn,r,u)}else{bn(Tn,r,u)}a.x=Tn.x;a.y=Tn.y;n=Tn.align;o=Tn.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var h=void 0;var v=void 0;if(f==="center"){h=u.width*.5;v=u.height*.5}else{h=wn(f[0],u.width);v=wn(f[1],u.height)}l=true;a.originX=-a.x+h+(i?0:u.x);a.originY=-a.y+v+(i?0:u.y)}}if(r.rotation!=null){a.rotation=r.rotation}var c=r.offset;if(c){a.x+=c[0];a.y+=c[1];if(!l){a.originX=-c[0];a.originY=-c[1]}}var p=r.inside==null?typeof r.position==="string"&&r.position.indexOf("inside")>=0:r.inside;var d=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});var g=void 0;var y=void 0;var m=void 0;if(p&&this.canBeInsideText()){g=r.insideFill;y=r.insideStroke;if(g==null||g==="auto"){g=this.getInsideTextFill()}if(y==null||y==="auto"){y=this.getInsideTextStroke(g);m=true}}else{g=r.outsideFill;y=r.outsideStroke;if(g==null||g==="auto"){g=this.getOutsideFill()}if(y==null||y==="auto"){y=this.getOutsideStroke(g);m=true}}g=g||"#000";if(g!==d.fill||y!==d.stroke||m!==d.autoStroke||n!==d.align||o!==d.verticalAlign){s=true;d.fill=g;d.stroke=y;d.autoStroke=m;d.align=n;d.verticalAlign=o;e.setDefaultTextStyle(d)}e.__dirty|=Sr;if(s){e.dirtyStyle(true)}}};t.prototype.canBeInsideText=function(){return true};t.prototype.getInsideTextFill=function(){return"#fff"};t.prototype.getInsideTextStroke=function(t){return"#000"};t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?en:tn};t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor();var r=typeof e==="string"&&Si(e);if(!r){r=[255,255,255,1]}var i=r[3];var a=this.__zr.isDarkMode();for(var n=0;n<3;n++){r[n]=r[n]*i+(a?0:255)*(1-i)}r[3]=1;return Ri(r,"rgba")};t.prototype.traverse=function(t,e){};t.prototype.attrKV=function(t,e){if(t==="textConfig"){this.setTextConfig(e)}else if(t==="textContent"){this.setTextContent(e)}else if(t==="clipPath"){this.setClipPath(e)}else if(t==="extra"){this.extra=this.extra||{};N(this.extra,e)}else{this[t]=e}};t.prototype.hide=function(){this.ignore=true;this.markRedraw()};t.prototype.show=function(){this.ignore=false;this.markRedraw()};t.prototype.attr=function(t,e){if(typeof t==="string"){this.attrKV(t,e)}else if(rt(t)){var r=t;var i=Z(r);for(var a=0;a<i.length;a++){var n=i[a];this.attrKV(n,t[n])}}this.markRedraw();return this};t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);var e=this._normalState;for(var r=0;r<this.animators.length;r++){var i=this.animators[r];var a=i.__fromStateTransition;if(i.getLoop()||a&&a!==Sn){continue}var n=i.targetName;var o=n?e[n]:e;i.saveTo(o)}};t.prototype._innerSaveToNormal=function(t){var e=this._normalState;if(!e){e=this._normalState={}}if(t.textConfig&&!e.textConfig){e.textConfig=this.textConfig}this._savePrimaryToNormal(t,e,Mn)};t.prototype._savePrimaryToNormal=function(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!=null&&!(a in e)){e[a]=this[a]}}};t.prototype.hasState=function(){return this.currentStates.length>0};t.prototype.getState=function(t){return this.states[t]};t.prototype.ensureState=function(t){var e=this.states;if(!e[t]){e[t]={}}return e[t]};t.prototype.clearStates=function(t){this.useState(Sn,false,t)};t.prototype.useState=function(t,e,r,i){var a=t===Sn;var n=this.hasState();if(!n&&a){return}var o=this.currentStates;var s=this.stateTransition;if(V(o,t)>=0&&(e||o.length===1)){return}var l;if(this.stateProxy&&!a){l=this.stateProxy(t)}if(!l){l=this.states&&this.states[t]}if(!l&&!a){L("State "+t+" not exists.");return}if(!a){this.saveCurrentToNormalState(l)}var u=!!(l&&l.hoverLayer||i);if(u){this._toggleHoverLayerFlag(true)}this._applyStateObj(t,l,this._normalState,e,!r&&!this.__inHover&&s&&s.duration>0,s);var f=this._textContent;var h=this._textGuide;if(f){f.useState(t,e,r,u)}if(h){h.useState(t,e,r,u)}if(a){this.currentStates=[];this._normalState={}}else{if(!e){this.currentStates=[t]}else{this.currentStates.push(t)}}this._updateAnimationTargets();this.markRedraw();if(!u&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~Sr}return l};t.prototype.useStates=function(t,e,r){if(!t.length){this.clearStates()}else{var i=[];var a=this.currentStates;var n=t.length;var o=n===a.length;if(o){for(var s=0;s<n;s++){if(t[s]!==a[s]){o=false;break}}}if(o){return}for(var s=0;s<n;s++){var l=t[s];var u=void 0;if(this.stateProxy){u=this.stateProxy(l,t)}if(!u){u=this.states[l]}if(u){i.push(u)}}var f=i[n-1];var h=!!(f&&f.hoverLayer||r);if(h){this._toggleHoverLayerFlag(true)}var v=this._mergeStates(i);var c=this.stateTransition;this.saveCurrentToNormalState(v);this._applyStateObj(t.join(","),v,this._normalState,false,!e&&!this.__inHover&&c&&c.duration>0,c);var p=this._textContent;var d=this._textGuide;if(p){p.useStates(t,e,h)}if(d){d.useStates(t,e,h)}this._updateAnimationTargets();this.currentStates=t.slice();this.markRedraw();if(!h&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~Sr}}};t.prototype.isSilent=function(){var t=this.silent;var e=this.parent;while(!t&&e){if(e.silent){t=true;break}e=e.parent}return t};t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];if(e.targetName){e.changeTarget(this[e.targetName])}}};t.prototype.removeState=function(t){var e=V(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1);this.useStates(r)}};t.prototype.replaceState=function(t,e,r){var i=this.currentStates.slice();var a=V(i,t);var n=V(i,e)>=0;if(a>=0){if(!n){i[a]=e}else{i.splice(a,1)}}else if(r&&!n){i.push(e)}this.useStates(i)};t.prototype.toggleState=function(t,e){if(e){this.useState(t,true)}else{this.removeState(t)}};t.prototype._mergeStates=function(t){var e={};var r;for(var i=0;i<t.length;i++){var a=t[i];N(e,a);if(a.textConfig){r=r||{};N(r,a.textConfig)}}if(r){e.textConfig=r}return e};t.prototype._applyStateObj=function(t,e,r,i,a,n){var o=!(e&&i);if(e&&e.textConfig){this.textConfig=N({},i?this.textConfig:r.textConfig);N(this.textConfig,e.textConfig)}else if(o){if(r.textConfig){this.textConfig=r.textConfig}}var s={};var l=false;for(var u=0;u<Mn.length;u++){var f=Mn[u];var h=a&&In[f];if(e&&e[f]!=null){if(h){l=true;s[f]=e[f]}else{this[f]=e[f]}}else if(o){if(r[f]!=null){if(h){l=true;s[f]=r[f]}else{this[f]=r[f]}}}}if(!a){for(var u=0;u<this.animators.length;u++){var v=this.animators[u];var c=v.targetName;if(!v.getLoop()){v.__changeFinalValue(c?(e||r)[c]:e||r)}}}if(l){this._transitionState(t,s,n)}};t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget){if(true){throw new Error("Text element has been added to zrender.")}{}}if(t===this){if(true){throw new Error("Recursive component attachment.")}{}}var e=this.__zr;if(e){t.addSelfToZr(e)}t.__zr=e;t.__hostTarget=this};t.prototype._detachComponent=function(t){if(t.__zr){t.removeSelfFromZr(t.__zr)}t.__zr=null;t.__hostTarget=null};t.prototype.getClipPath=function(){return this._clipPath};t.prototype.setClipPath=function(t){if(this._clipPath&&this._clipPath!==t){this.removeClipPath()}this._attachComponent(t);this._clipPath=t;this.markRedraw()};t.prototype.removeClipPath=function(){var t=this._clipPath;if(t){this._detachComponent(t);this._clipPath=null;this.markRedraw()}};t.prototype.getTextContent=function(){return this._textContent};t.prototype.setTextContent=function(t){var e=this._textContent;if(e===t){return}if(e&&e!==t){this.removeTextContent()}if(true){if(t.__zr&&!t.__hostTarget){throw new Error("Text element has been added to zrender.")}}t.innerTransformable=new hn;this._attachComponent(t);this._textContent=t;this.markRedraw()};t.prototype.setTextConfig=function(t){if(!this.textConfig){this.textConfig={}}N(this.textConfig,t);this.markRedraw()};t.prototype.removeTextConfig=function(){this.textConfig=null;this.markRedraw()};t.prototype.removeTextContent=function(){var t=this._textContent;if(t){t.innerTransformable=null;this._detachComponent(t);this._textContent=null;this._innerTextDefaultStyle=null;this.markRedraw()}};t.prototype.getTextGuideLine=function(){return this._textGuide};t.prototype.setTextGuideLine=function(t){if(this._textGuide&&this._textGuide!==t){this.removeTextGuideLine()}this._attachComponent(t);this._textGuide=t;this.markRedraw()};t.prototype.removeTextGuideLine=function(){var t=this._textGuide;if(t){this._detachComponent(t);this._textGuide=null;this.markRedraw()}};t.prototype.markRedraw=function(){this.__dirty|=Sr;var t=this.__zr;if(t){if(this.__inHover){t.refreshHover()}else{t.refresh()}}if(this.__hostTarget){this.__hostTarget.markRedraw()}};t.prototype.dirty=function(){this.markRedraw()};t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent;var r=this._textGuide;if(e){e.__inHover=t}if(r){r.__inHover=t}};t.prototype.addSelfToZr=function(t){if(this.__zr===t){return}this.__zr=t;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.addAnimator(e[r])}}if(this._clipPath){this._clipPath.addSelfToZr(t)}if(this._textContent){this._textContent.addSelfToZr(t)}if(this._textGuide){this._textGuide.addSelfToZr(t)}};t.prototype.removeSelfFromZr=function(t){if(!this.__zr){return}this.__zr=null;var e=this.animators;if(e){for(var r=0;r<e.length;r++){t.animation.removeAnimator(e[r])}}if(this._clipPath){this._clipPath.removeSelfFromZr(t)}if(this._textContent){this._textContent.removeSelfFromZr(t)}if(this._textGuide){this._textGuide.removeSelfFromZr(t)}};t.prototype.animate=function(t,e,r){var i=t?this[t]:this;if(true){if(!i){L('Property "'+t+'" is not existed in element '+this.id);return}}var a=new Aa(i,e,r);t&&(a.targetName=t);this.addAnimator(a,t);return a};t.prototype.addAnimator=function(t,e){var r=this.__zr;var i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var e=i.animators;var r=V(e,t);if(r>=0){e.splice(r,1)}});this.animators.push(t);if(r){r.animation.addAnimator(t)}r&&r.wakeUp()};t.prototype.updateDuringAnimation=function(t){this.markRedraw()};t.prototype.stopAnimation=function(t,e){var r=this.animators;var i=r.length;var a=[];for(var n=0;n<i;n++){var o=r[n];if(!t||t===o.scope){o.stop(e)}else{a.push(o)}}this.animators=a;return this};t.prototype.animateTo=function(t,e,r){An(this,t,e,r)};t.prototype.animateFrom=function(t,e,r){An(this,t,e,r,true)};t.prototype._transitionState=function(t,e,r,i){var a=An(this,e,r,i);for(var n=0;n<a.length;n++){a[n].__fromStateTransition=t}};t.prototype.getBoundingRect=function(){return null};t.prototype.getPaintRect=function(){return null};t.initDefaultProps=function(){var e=t.prototype;e.type="element";e.name="";e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=false;e.__dirty=Sr;var r={};function i(t,e,i){if(!r[t+e+i]){console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+i+"' instead");r[t+e+i]=true}}function a(t,r,a,n){Object.defineProperty(e,t,{get:function(){if(true){i(t,a,n)}if(!this[r]){var e=this[r]=[];o(this,e)}return this[r]},set:function(e){if(true){i(t,a,n)}this[a]=e[0];this[n]=e[1];this[r]=e;o(this,e)}});function o(t,e){Object.defineProperty(e,0,{get:function(){return t[a]},set:function(e){t[a]=e}});Object.defineProperty(e,1,{get:function(){return t[n]},set:function(e){t[n]=e}})}}if(Object.defineProperty){a("position","_legacyPos","x","y");a("scale","_legacyScale","scaleX","scaleY");a("origin","_legacyOrigin","originX","originY")}}();return t}();F(Dn,oe);F(Dn,hn);function An(t,e,r,i,a){r=r||{};var n=[];Nn(t,"",t,e,r,i,n,a);var o=n.length;var s=false;var l=r.done;var u=r.aborted;var f=function(){s=true;o--;if(o<=0){s?l&&l():u&&u()}};var h=function(){o--;if(o<=0){s?l&&l():u&&u()}};if(!o){l&&l()}if(n.length>0&&r.during){n[0].during(function(t,e){r.during(e)})}for(var v=0;v<n.length;v++){var c=n[v];if(f){c.done(f)}if(h){c.aborted(h)}if(r.force){c.duration(r.duration)}c.start(r.easing)}return n}function kn(t,e,r){for(var i=0;i<r;i++){t[i]=e[i]}}function Ln(t){return G(t[0])}function Pn(t,e,r){if(G(e[r])){if(!G(t[r])){t[r]=[]}if(at(e[r])){var i=e[r].length;if(t[r].length!==i){t[r]=new e[r].constructor(i);kn(t[r],e[r],i)}}else{var a=e[r];var n=t[r];var o=a.length;if(Ln(a)){var s=a[0].length;for(var l=0;l<o;l++){if(!n[l]){n[l]=Array.prototype.slice.call(a[l])}else{kn(n[l],a[l],s)}}}else{kn(n,a,o)}n.length=a.length}}else{t[r]=e[r]}}function On(t,e){return t===e||G(t)&&G(e)&&Rn(t,e)}function Rn(t,e){var r=t.length;if(r!==e.length){return false}for(var i=0;i<r;i++){if(t[i]!==e[i]){return false}}return true}function Nn(t,e,r,i,a,n,o,s){var l=Z(i);var u=a.duration;var f=a.delay;var h=a.additive;var v=a.setToFinal;var c=!rt(n);var p=t.animators;var d=[];for(var g=0;g<l.length;g++){var y=l[g];var m=i[y];if(m!=null&&r[y]!=null&&(c||n[y])){if(rt(m)&&!G(m)&&!ot(m)){if(e){if(!s){r[y]=m;t.updateDuringAnimation(e)}continue}Nn(t,y,r[y],m,a,n&&n[y],o,s)}else{d.push(y)}}else if(!s){r[y]=m;t.updateDuringAnimation(e);d.push(y)}}var x=d.length;if(!h&&x){for(var _=0;_<p.length;_++){var w=p[_];if(w.targetName===e){var b=w.stopTracks(d);if(b){var S=V(p,w);p.splice(S,1)}}}}if(!a.force){d=Y(d,function(t){return!On(i[t],r[t])});x=d.length}if(x>0||a.force&&!o.length){var M=void 0;var I=void 0;var T=void 0;if(s){I={};if(v){M={}}for(var _=0;_<x;_++){var y=d[_];I[y]=r[y];if(v){M[y]=i[y]}else{r[y]=i[y]}}}else if(v){T={};for(var _=0;_<x;_++){var y=d[_];T[y]=da(r[y]);Pn(r,i,y)}}var w=new Aa(r,false,false,h?Y(p,function(t){return t.targetName===e}):null);w.targetName=e;if(a.scope){w.scope=a.scope}if(v&&M){w.whenWithKeys(0,M,d)}if(T){w.whenWithKeys(0,T,d)}w.whenWithKeys(u==null?500:u,s?I:i,d).delay(f||0);t.addAnimator(w,e);o.push(w)}}var En=function(t){i(e,t);function e(e){var r=t.call(this)||this;r.isGroup=true;r._children=[];r.attr(e);return r}e.prototype.childrenRef=function(){return this._children};e.prototype.children=function(){return this._children.slice()};e.prototype.childAt=function(t){return this._children[t]};e.prototype.childOfName=function(t){var e=this._children;for(var r=0;r<e.length;r++){if(e[r].name===t){return e[r]}}};e.prototype.childCount=function(){return this._children.length};e.prototype.add=function(t){if(t){if(t!==this&&t.parent!==this){this._children.push(t);this._doAdd(t)}if(true){if(t.__hostTarget){throw"This elemenet has been used as an attachment"}}}return this};e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children;var i=r.indexOf(e);if(i>=0){r.splice(i,0,t);this._doAdd(t)}}return this};e.prototype.replace=function(t,e){var r=V(this._children,t);if(r>=0){this.replaceAt(e,r)}return this};e.prototype.replaceAt=function(t,e){var r=this._children;var i=r[e];if(t&&t!==this&&t.parent!==this&&t!==i){r[e]=t;i.parent=null;var a=this.__zr;if(a){i.removeSelfFromZr(a)}this._doAdd(t)}return this};e.prototype._doAdd=function(t){if(t.parent){t.parent.remove(t)}t.parent=this;var e=this.__zr;if(e&&e!==t.__zr){t.addSelfToZr(e)}e&&e.refresh()};e.prototype.remove=function(t){var e=this.__zr;var r=this._children;var i=V(r,t);if(i<0){return this}r.splice(i,1);t.parent=null;if(e){t.removeSelfFromZr(e)}e&&e.refresh();return this};e.prototype.removeAll=function(){var t=this._children;var e=this.__zr;for(var r=0;r<t.length;r++){var i=t[r];if(e){i.removeSelfFromZr(e)}i.parent=null}t.length=0;return this};e.prototype.eachChild=function(t,e){var r=this._children;for(var i=0;i<r.length;i++){var a=r[i];t.call(e,a,i)}return this};e.prototype.traverse=function(t,e){for(var r=0;r<this._children.length;r++){var i=this._children[r];var a=t.call(e,i);if(i.isGroup&&!a){i.traverse(t,e)}}return this};e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(e)}};e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(e)}};e.prototype.getBoundingRect=function(t){var e=new er(0,0,0,0);var r=t||this._children;var i=[];var a=null;for(var n=0;n<r.length;n++){var o=r[n];if(o.ignore||o.invisible){continue}var s=o.getBoundingRect();var l=o.getLocalTransform(i);if(l){er.applyTransform(e,s,l);a=a||e.clone();a.union(e)}else{a=a||s.clone();a.union(s)}}return a||e};return e}(Dn);En.prototype.type="group";
/*!
    * ZRender, a high performance 2d drawing library.
    *
    * Copyright (c) 2013, Baidu Inc.
    * All rights reserved.
    *
    * LICENSE
    * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
    */var zn={};var Vn={};function Bn(t){delete Vn[t]}function Fn(t){if(!t){return false}if(typeof t==="string"){return Ni(t,1)<Qa}else if(t.colorStops){var e=t.colorStops;var r=0;var i=e.length;for(var a=0;a<i;a++){r+=Ni(e[a].color,1)}r/=i;return r<Qa}return false}var Gn=function(){function t(t,e,r){var i=this;this._sleepAfterStill=10;this._stillFrameAccum=0;this._needsRefresh=true;this._needsRefreshHover=true;this._darkMode=false;r=r||{};this.dom=e;this.id=t;var a=new Ar;var n=r.renderer||"canvas";if(!zn[n]){n=Z(zn)[0]}if(true){if(!zn[n]){throw new Error("Renderer '"+n+"' is not imported. Please import it first.")}}r.useDirtyRect=r.useDirtyRect==null?false:r.useDirtyRect;var s=new zn[n](e,a,r,t);var l=r.ssr||s.ssrOnly;this.storage=a;this.painter=s;var u=!o.node&&!o.worker&&!l?new Ka(s.getViewportRoot(),s.root):null;var f=r.useCoarsePointer;var h=f==null||f==="auto"?o.touchEventsSupported:!!f;var v=44;var c;if(h){c=ht(r.pointerSize,v)}this.handler=new ur(a,s,u,s.root,c);this.animation=new La({stage:{update:l?null:function(){return i._flush(true)}}});if(!l){this.animation.start()}}t.prototype.add=function(t){if(this._disposed||!t){return}this.storage.addRoot(t);t.addSelfToZr(this);this.refresh()};t.prototype.remove=function(t){if(this._disposed||!t){return}this.storage.delRoot(t);t.removeSelfFromZr(this);this.refresh()};t.prototype.configLayer=function(t,e){if(this._disposed){return}if(this.painter.configLayer){this.painter.configLayer(t,e)}this.refresh()};t.prototype.setBackgroundColor=function(t){if(this._disposed){return}if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(t)}this.refresh();this._backgroundColor=t;this._darkMode=Fn(t)};t.prototype.getBackgroundColor=function(){return this._backgroundColor};t.prototype.setDarkMode=function(t){this._darkMode=t};t.prototype.isDarkMode=function(){return this._darkMode};t.prototype.refreshImmediately=function(t){if(this._disposed){return}if(!t){this.animation.update(true)}this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false};t.prototype.refresh=function(){if(this._disposed){return}this._needsRefresh=true;this.animation.start()};t.prototype.flush=function(){if(this._disposed){return}this._flush(false)};t.prototype._flush=function(t){var e;var r=ka();if(this._needsRefresh){e=true;this.refreshImmediately(t)}if(this._needsRefreshHover){e=true;this.refreshHoverImmediately()}var i=ka();if(e){this._stillFrameAccum=0;this.trigger("rendered",{elapsedTime:i-r})}else if(this._sleepAfterStill>0){this._stillFrameAccum++;if(this._stillFrameAccum>this._sleepAfterStill){this.animation.stop()}}};t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t};t.prototype.wakeUp=function(){if(this._disposed){return}this.animation.start();this._stillFrameAccum=0};t.prototype.refreshHover=function(){this._needsRefreshHover=true};t.prototype.refreshHoverImmediately=function(){if(this._disposed){return}this._needsRefreshHover=false;if(this.painter.refreshHover&&this.painter.getType()==="canvas"){this.painter.refreshHover()}};t.prototype.resize=function(t){if(this._disposed){return}t=t||{};this.painter.resize(t.width,t.height);this.handler.resize()};t.prototype.clearAnimation=function(){if(this._disposed){return}this.animation.clear()};t.prototype.getWidth=function(){if(this._disposed){return}return this.painter.getWidth()};t.prototype.getHeight=function(){if(this._disposed){return}return this.painter.getHeight()};t.prototype.setCursorStyle=function(t){if(this._disposed){return}this.handler.setCursorStyle(t)};t.prototype.findHover=function(t,e){if(this._disposed){return}return this.handler.findHover(t,e)};t.prototype.on=function(t,e,r){if(!this._disposed){this.handler.on(t,e,r)}return this};t.prototype.off=function(t,e){if(this._disposed){return}this.handler.off(t,e)};t.prototype.trigger=function(t,e){if(this._disposed){return}this.handler.trigger(t,e)};t.prototype.clear=function(){if(this._disposed){return}var t=this.storage.getRoots();for(var e=0;e<t.length;e++){if(t[e]instanceof En){t[e].removeSelfFromZr(this)}}this.storage.delAllRoots();this.painter.clear()};t.prototype.dispose=function(){if(this._disposed){return}this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;this._disposed=true;Bn(this.id)};return t}();function Hn(t,e){var r=new Gn(k(),t,e);Vn[r.id]=r;return r}function Wn(t){t.dispose()}function Un(){for(var t in Vn){if(Vn.hasOwnProperty(t)){Vn[t].dispose()}}Vn={}}function Yn(t){return Vn[t]}function Xn(t,e){zn[t]=e}var Zn;function jn(t){if(typeof Zn==="function"){return Zn(t)}}function qn(t){Zn=t}var Kn="5.6.1";var Jn=Object.freeze({__proto__:null,init:Hn,dispose:Wn,disposeAll:Un,getInstance:Yn,registerPainter:Xn,getElementSSRData:jn,registerSSRDataGetter:qn,version:Kn});var $n=1e-4;var Qn=20;function to(t){return t.replace(/^\s+|\s+$/g,"")}function eo(t,e,r,i){var a=e[0];var n=e[1];var o=r[0];var s=r[1];var l=n-a;var u=s-o;if(l===0){return u===0?o:(o+s)/2}if(i){if(l>0){if(t<=a){return o}else if(t>=n){return s}}else{if(t>=a){return o}else if(t<=n){return s}}}else{if(t===a){return o}if(t===n){return s}}return(t-a)/l*u+o}function ro(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}if(Q(t)){if(to(t).match(/%$/)){return parseFloat(t)/100*e}return parseFloat(t)}return t==null?NaN:+t}function io(t,e,r){if(e==null){e=10}e=Math.min(Math.max(0,e),Qn);t=(+t).toFixed(e);return r?t:+t}function ao(t){t.sort(function(t,e){return t-e});return t}function no(t){t=+t;if(isNaN(t)){return 0}if(t>1e-14){var e=1;for(var r=0;r<15;r++,e*=10){if(Math.round(t*e)/e===t){return r}}}return oo(t)}function oo(t){var e=t.toString().toLowerCase();var r=e.indexOf("e");var i=r>0?+e.slice(r+1):0;var a=r>0?r:e.length;var n=e.indexOf(".");var o=n<0?0:a-1-n;return Math.max(0,o-i)}function so(t,e){var r=Math.log;var i=Math.LN10;var a=Math.floor(r(t[1]-t[0])/i);var n=Math.round(r(Math.abs(e[1]-e[0]))/i);var o=Math.min(Math.max(-a+n,0),20);return!isFinite(o)?20:o}function lo(t,e,r){if(!t[e]){return 0}var i=uo(t,r);return i[e]||0}function uo(t,e){var r=U(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(r===0){return[]}var i=Math.pow(10,e);var a=W(t,function(t){return(isNaN(t)?0:t)/r*i*100});var n=i*100;var o=W(a,function(t){return Math.floor(t)});var s=U(o,function(t,e){return t+e},0);var l=W(a,function(t,e){return t-o[e]});while(s<n){var u=Number.NEGATIVE_INFINITY;var f=null;for(var h=0,v=l.length;h<v;++h){if(l[h]>u){u=l[h];f=h}}++o[f];l[f]=0;++s}return W(o,function(t){return t/i})}function fo(t,e){var r=Math.max(no(t),no(e));var i=t+e;return r>Qn?i:io(i,r)}var ho=9007199254740991;function vo(t){var e=Math.PI*2;return(t%e+e)%e}function co(t){return t>-$n&&t<$n}var po=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function go(t){if(t instanceof Date){return t}else if(Q(t)){var e=po.exec(t);if(!e){return new Date(NaN)}if(!e[8]){return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else{var r=+e[4]||0;if(e[8].toUpperCase()!=="Z"){r-=+e[8].slice(0,3)}return new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}}else if(t==null){return new Date(NaN)}return new Date(Math.round(t))}function yo(t){return Math.pow(10,mo(t))}function mo(t){if(t===0){return 0}var e=Math.floor(Math.log(t)/Math.LN10);if(t/Math.pow(10,e)>=10){e++}return e}function xo(t,e){var r=mo(t);var i=Math.pow(10,r);var a=t/i;var n;if(e){if(a<1.5){n=1}else if(a<2.5){n=2}else if(a<4){n=3}else if(a<7){n=5}else{n=10}}else{if(a<1){n=1}else if(a<2){n=2}else if(a<3){n=3}else if(a<5){n=5}else{n=10}}t=n*i;return r>=-20?+t.toFixed(r<0?-r:0):t}function _o(t,e){var r=(t.length-1)*e+1;var i=Math.floor(r);var a=+t[i-1];var n=r-i;return n?a+n*(t[i]-a):a}function wo(t){t.sort(function(t,e){return s(t,e,0)?-1:1});var e=-Infinity;var r=1;for(var i=0;i<t.length;){var a=t[i].interval;var n=t[i].close;for(var o=0;o<2;o++){if(a[o]<=e){a[o]=e;n[o]=!o?1-r:1}e=a[o];r=n[o]}if(a[0]===a[1]&&n[0]*n[1]!==1){t.splice(i,1)}else{i++}}return t;function s(t,e,r){return t.interval[r]<e.interval[r]||t.interval[r]===e.interval[r]&&(t.close[r]-e.close[r]===(!r?1:-1)||!r&&s(t,e,1))}}function bo(t){var e=parseFloat(t);return e==t&&(e!==0||!Q(t)||t.indexOf("x")<=0)?e:NaN}function So(t){return!isNaN(bo(t))}function Mo(){return Math.round(Math.random()*9)}function Io(t,e){if(e===0){return t}return Io(e,t%e)}function To(t,e){if(t==null){return e}if(e==null){return t}return t*e/Io(t,e)}var Co="[ECharts] ";var Do={};var Ao=typeof console!=="undefined"&&console.warn&&console.log;function ko(t,e,r){if(Ao){if(r){if(Do[e]){return}Do[e]=true}console[t](Co+e)}}function Lo(t,e){ko("log",t,e)}function Po(t,e){ko("warn",t,e)}function Oo(t,e){ko("error",t,e)}function Ro(t){if(true){ko("warn","DEPRECATED: "+t,true)}}function No(t,e,r){if(true){Ro((r?"["+r+"]":"")+(t+" is deprecated, use "+e+" instead."))}}function Eo(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r="";if(true){var i=function(t){return t===void 0?"undefined":t===Infinity?"Infinity":t===-Infinity?"-Infinity":ut(t)?"NaN":t instanceof Date?"Date("+t.toISOString()+")":$(t)?"function () { ... }":lt(t)?t+"":null};r=W(t,function(t){if(Q(t)){return t}else{var e=i(t);if(e!=null){return e}else if(typeof JSON!=="undefined"&&JSON.stringify){try{return JSON.stringify(t,function(t,e){var r=i(e);return r==null?e:r})}catch(t){return"?"}}else{return"?"}}}).join(" ")}return r}function zo(t){throw new Error(t)}function Vo(t,e,r){return(e-t)*r+t}var Bo="series\0";var Fo="\0_ec_\0";function Go(t){return t instanceof Array?t:t==null?[]:[t]}function Ho(t,e,r){if(t){t[e]=t[e]||{};t.emphasis=t.emphasis||{};t.emphasis[e]=t.emphasis[e]||{};for(var i=0,a=r.length;i<a;i++){var n=r[i];if(!t.emphasis[e].hasOwnProperty(n)&&t[e].hasOwnProperty(n)){t.emphasis[e][n]=t[e][n]}}}}var Wo=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Uo(t){return rt(t)&&!J(t)&&!(t instanceof Date)?t.value:t}function Yo(t){return rt(t)&&!(t instanceof Array)}function Xo(t,e,r){var i=r==="normalMerge";var a=r==="replaceMerge";var n=r==="replaceAll";t=t||[];e=(e||[]).slice();var o=Mt();H(e,function(t,r){if(!rt(t)){e[r]=null;return}if(true){if(t.id!=null&&!is(t.id)){rs(t.id)}if(t.name!=null&&!is(t.name)){rs(t.name)}}});var s=Zo(t,o,r);if(i||a){jo(s,t,o,e)}if(i){qo(s,e)}if(i||a){Ko(s,e,a)}else if(n){Jo(s,e)}$o(s);return s}function Zo(t,e,r){var i=[];if(r==="replaceAll"){return i}for(var a=0;a<t.length;a++){var n=t[a];if(n&&n.id!=null){e.set(n.id,a)}i.push({existing:r==="replaceMerge"||ns(n)?null:n,newOption:null,keyInfo:null,brandNew:null})}return i}function jo(t,e,r,i){H(i,function(a,n){if(!a||a.id==null){return}var o=ts(a.id);var s=r.get(o);if(s!=null){var l=t[s];dt(!l.newOption,'Duplicated option on id "'+o+'".');l.newOption=a;l.existing=e[s];i[n]=null}})}function qo(t,e){H(e,function(r,i){if(!r||r.name==null){return}for(var a=0;a<t.length;a++){var n=t[a].existing;if(!t[a].newOption&&n&&(n.id==null||r.id==null)&&!ns(r)&&!ns(n)&&Qo("name",n,r)){t[a].newOption=r;e[i]=null;return}}})}function Ko(t,e,r){H(e,function(e){if(!e){return}var i;var a=0;while((i=t[a])&&(i.newOption||ns(i.existing)||i.existing&&e.id!=null&&!Qo("id",e,i.existing))){a++}if(i){i.newOption=e;i.brandNew=r}else{t.push({newOption:e,brandNew:r,existing:null,keyInfo:null})}a++})}function Jo(t,e){H(e,function(e){t.push({newOption:e,brandNew:true,existing:null,keyInfo:null})})}function $o(t){var e=Mt();H(t,function(t){var r=t.existing;r&&e.set(r.id,t)});H(t,function(t){var r=t.newOption;dt(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id));r&&r.id!=null&&e.set(r.id,t);!t.keyInfo&&(t.keyInfo={})});H(t,function(t,r){var i=t.existing;var a=t.newOption;var n=t.keyInfo;if(!rt(a)){return}n.name=a.name!=null?ts(a.name):i?i.name:Bo+r;if(i){n.id=ts(i.id)}else if(a.id!=null){n.id=ts(a.id)}else{var o=0;do{n.id="\0"+n.name+"\0"+o++}while(e.get(n.id))}e.set(n.id,t)})}function Qo(t,e,r){var i=es(e[t],null);var a=es(r[t],null);return i!=null&&a!=null&&i===a}function ts(t){if(true){if(t==null){throw new Error}}return es(t,"")}function es(t,e){if(t==null){return e}return Q(t)?t:et(t)||tt(t)?t+"":e}function rs(t){if(true){Po("`"+t+"` is invalid id or name. Must be a string or number.")}}function is(t){return tt(t)||So(t)}function as(t){var e=t.name;return!!(e&&e.indexOf(Bo))}function ns(t){return t&&t.id!=null&&ts(t.id).indexOf(Fo)===0}function os(t){return Fo+t}function ss(t,e,r){H(t,function(t){var i=t.newOption;if(rt(i)){t.keyInfo.mainType=e;t.keyInfo.subType=ls(e,i,t.existing,r)}})}function ls(t,e,r,i){var a=e.type?e.type:r?r.subType:i.determineSubType(t,e);return a}function us(t,e){var r={};var i={};a(t||[],r);a(e||[],i,r);return[n(r),n(i)];function a(t,e,r){for(var i=0,a=t.length;i<a;i++){var n=es(t[i].seriesId,null);if(n==null){return}var o=Go(t[i].dataIndex);var s=r&&r[n];for(var l=0,u=o.length;l<u;l++){var f=o[l];if(s&&s[f]){s[f]=null}else{(e[n]||(e[n]={}))[f]=1}}}}function n(t,e){var r=[];for(var i in t){if(t.hasOwnProperty(i)&&t[i]!=null){if(e){r.push(+i)}else{var a=n(t[i],true);a.length&&r.push({seriesId:i,dataIndex:a})}}}return r}}function fs(t,e){if(e.dataIndexInside!=null){return e.dataIndexInside}else if(e.dataIndex!=null){return J(e.dataIndex)?W(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex)}else if(e.name!=null){return J(e.name)?W(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name)}}function hs(){var t="__ec_inner_"+vs++;return function(e){return e[t]||(e[t]={})}}var vs=Mo();function cs(t,e,r){var i=ps(e,r),a=i.mainTypeSpecified,n=i.queryOptionMap,o=i.others;var s=o;var l=r?r.defaultMainType:null;if(!a&&l){n.set(l,{})}n.each(function(e,i){var a=ys(t,i,e,{useDefault:l===i,enableAll:r&&r.enableAll!=null?r.enableAll:true,enableNone:r&&r.enableNone!=null?r.enableNone:true});s[i+"Models"]=a.models;s[i+"Model"]=a.models[0]});return s}function ps(t,e){var r;if(Q(t)){var i={};i[t+"Index"]=0;r=i}else{r=t}var a=Mt();var n={};var o=false;H(r,function(t,r){if(r==="dataIndex"||r==="dataIndexInside"){n[r]=t;return}var i=r.match(/^(\w+)(Index|Id|Name)$/)||[];var s=i[1];var l=(i[2]||"").toLowerCase();if(!s||!l||e&&e.includeMainTypes&&V(e.includeMainTypes,s)<0){return}o=o||!!s;var u=a.get(s)||a.set(s,{});u[l]=t});return{mainTypeSpecified:o,queryOptionMap:a,others:n}}var ds={useDefault:true,enableAll:false,enableNone:false};var gs={useDefault:false,enableAll:true,enableNone:true};function ys(t,e,r,i){i=i||ds;var a=r.index;var n=r.id;var o=r.name;var s={models:null,specified:a!=null||n!=null||o!=null};if(!s.specified){var l=void 0;s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[];return s}if(a==="none"||a===false){dt(i.enableNone,'`"none"` or `false` is not a valid value on index option.');s.models=[];return s}if(a==="all"){dt(i.enableAll,'`"all"` is not a valid value on index option.');a=n=o=null}s.models=t.queryComponents({mainType:e,index:a,id:n,name:o});return s}function ms(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function xs(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function _s(t){if(t==="auto"){return o.domSupported?"html":"richText"}else{return t||"html"}}function ws(t,e){var r=Mt();var i=[];H(t,function(t){var a=e(t);(r.get(a)||(i.push(a),r.set(a,[]))).push(t)});return{keys:i,buckets:r}}function bs(t,e,r,i,a){var n=e==null||e==="auto";if(i==null){return i}if(et(i)){var o=Vo(r||0,i,a);return io(o,n?Math.max(no(r||0),no(i)):e)}else if(Q(i)){return a<1?r:i}else{var s=[];var l=r;var u=i;var f=Math.max(l?l.length:0,u.length);for(var h=0;h<f;++h){var v=t.getDimensionInfo(h);if(v&&v.type==="ordinal"){s[h]=(a<1&&l?l:u)[h]}else{var c=l&&l[h]?l[h]:0;var p=u[h];var o=Vo(c,p,a);s[h]=io(o,n?Math.max(no(c),no(p)):e)}}return s}}var Ss=".";var Ms="___EC__COMPONENT__CONTAINER___";var Is="___EC__EXTENDED_CLASS___";function Ts(t){var e={main:"",sub:""};if(t){var r=t.split(Ss);e.main=r[0]||"";e.sub=r[1]||""}return e}function Cs(t){dt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Ds(t){return!!(t&&t[Is])}function As(t,e){t.$constructor=t;t.extend=function(t){if(true){H(e,function(e){if(!t[e]){console.warn("Method `"+e+"` should be implemented"+(t.type?" in "+t.type:"")+".")}})}var r=this;var a;if(ks(r)){a=function(t){i(e,t);function e(){return t.apply(this,arguments)||this}return e}(r)}else{a=function(){(t.$constructor||r).apply(this,arguments)};B(a,this)}N(a.prototype,t);a[Is]=true;a.extend=this.extend;a.superCall=Rs;a.superApply=Ns;a.superClass=r;return a}}function ks(t){return $(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function Ls(t,e){t.extend=e.extend}var Ps=Math.round(Math.random()*10);function Os(t){var e=["__\0is_clz",Ps++].join("_");t.prototype[e]=true;if(true){dt(!t.isInstance,'The method "is" can not be defined.')}t.isInstance=function(t){return!!(t&&t[e])}}function Rs(t,e){var r=[];for(var i=2;i<arguments.length;i++){r[i-2]=arguments[i]}return this.superClass.prototype[e].apply(t,r)}function Ns(t,e,r){return this.superClass.prototype[e].apply(t,r)}function Es(t){var e={};t.registerClass=function(t){var i=t.type||t.prototype.type;if(i){Cs(i);t.prototype.type=i;var a=Ts(i);if(!a.sub){if(true){if(e[a.main]){console.warn(a.main+" exists.")}}e[a.main]=t}else if(a.sub!==Ms){var n=r(a);n[a.sub]=t}}return t};t.getClass=function(t,r,i){var a=e[t];if(a&&a[Ms]){a=r?a[r]:null}if(i&&!a){throw new Error(!r?t+"."+"type should be specified.":"Component "+t+"."+(r||"")+" is used but not imported.")}return a};t.getClassesByMainType=function(t){var r=Ts(t);var i=[];var a=e[r.main];if(a&&a[Ms]){H(a,function(t,e){e!==Ms&&i.push(t)})}else{i.push(a)}return i};t.hasClass=function(t){var r=Ts(t);return!!e[r.main]};t.getAllClassMainTypes=function(){var t=[];H(e,function(e,r){t.push(r)});return t};t.hasSubTypes=function(t){var r=Ts(t);var i=e[r.main];return i&&i[Ms]};function r(t){var r=e[t.main];if(!r||!r[Ms]){r=e[t.main]={};r[Ms]=true}return r}}function zs(t,e){for(var r=0;r<t.length;r++){if(!t[r][1]){t[r][1]=t[r][0]}}e=e||false;return function(r,i,a){var n={};for(var o=0;o<t.length;o++){var s=t[o][1];if(i&&V(i,s)>=0||a&&V(a,s)<0){continue}var l=r.getShallow(s,e);if(l!=null){n[t[o][0]]=l}}return n}}var Vs=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]];var Bs=zs(Vs);var Fs=function(){function t(){}t.prototype.getAreaStyle=function(t,e){return Bs(this,t,e)};return t}();var Gs=new ui(50);function Hs(t){if(typeof t==="string"){var e=Gs.get(t);return e&&e.image}else{return t}}function Ws(t,e,r,i,a){if(!t){return e}else if(typeof t==="string"){if(e&&e.__zrImageSrc===t||!r){return e}var n=Gs.get(t);var o={hostEl:r,cb:i,cbPayload:a};if(n){e=n.image;!Ys(e)&&n.pending.push(o)}else{e=g.loadImage(t,Us,Us);e.__zrImageSrc=t;Gs.put(t,e.__cachedImgObj={image:e,pending:[o]})}return e}else{return t}}function Us(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e];var i=r.cb;i&&i(this,r.cbPayload);r.hostEl.dirty()}t.pending.length=0}function Ys(t){return t&&t.width&&t.height}var Xs=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Zs(t,e,r,i,a){var n={};js(n,t,e,r,i,a);return n.text}function js(t,e,r,i,a,n){if(!r){t.text="";t.isTruncated=false;return}var o=(e+"").split("\n");n=qs(r,i,a,n);var s=false;var l={};for(var u=0,f=o.length;u<f;u++){Ks(l,o[u],n);o[u]=l.textLine;s=s||l.isTruncated}t.text=o.join("\n");t.isTruncated=s}function qs(t,e,r,i){i=i||{};var a=N({},i);a.font=e;r=ht(r,"...");a.maxIterations=ht(i.maxIterations,2);var n=a.minChar=ht(i.minChar,0);a.cnCharWidth=dn("",e);var o=a.ascCharWidth=dn("a",e);a.placeholder=ht(i.placeholder,"");var s=t=Math.max(0,t-1);for(var l=0;l<n&&s>=o;l++){s-=o}var u=dn(r,e);if(u>s){r="";u=0}s=t-u;a.ellipsis=r;a.ellipsisWidth=u;a.contentWidth=s;a.containerWidth=t;return a}function Ks(t,e,r){var i=r.containerWidth;var a=r.font;var n=r.contentWidth;if(!i){t.textLine="";t.isTruncated=false;return}var o=dn(e,a);if(o<=i){t.textLine=e;t.isTruncated=false;return}for(var s=0;;s++){if(o<=n||s>=r.maxIterations){e+=r.ellipsis;break}var l=s===0?Js(e,n,r.ascCharWidth,r.cnCharWidth):o>0?Math.floor(e.length*n/o):0;e=e.substr(0,l);o=dn(e,a)}if(e===""){e=r.placeholder}t.textLine=e;t.isTruncated=true}function Js(t,e,r,i){var a=0;var n=0;for(var o=t.length;n<o&&a<e;n++){var s=t.charCodeAt(n);a+=0<=s&&s<=127?r:i}return n}function $s(t,e){t!=null&&(t+="");var r=e.overflow;var i=e.padding;var a=e.font;var n=r==="truncate";var o=_n(a);var s=ht(e.lineHeight,o);var l=!!e.backgroundColor;var u=e.lineOverflow==="truncate";var f=false;var h=e.width;var v;if(h!=null&&(r==="break"||r==="breakAll")){v=t?sl(t,e.font,h,r==="breakAll",0).lines:[]}else{v=t?t.split("\n"):[]}var c=v.length*s;var p=ht(e.height,c);if(c>p&&u){var d=Math.floor(p/s);f=f||v.length>d;v=v.slice(0,d)}if(t&&n&&h!=null){var g=qs(h,a,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder});var y={};for(var m=0;m<v.length;m++){Ks(y,v[m],g);v[m]=y.textLine;f=f||y.isTruncated}}var x=p;var _=0;for(var m=0;m<v.length;m++){_=Math.max(dn(v[m],a),_)}if(h==null){h=_}var w=_;if(i){x+=i[0]+i[2];w+=i[1]+i[3];h+=i[1]+i[3]}if(l){w=h}return{lines:v,height:p,outerWidth:w,outerHeight:x,lineHeight:s,calculatedLineHeight:o,contentWidth:_,contentHeight:c,width:h,isTruncated:f}}var Qs=function(){function t(){}return t}();var tl=function(){function t(t){this.tokens=[];if(t){this.tokens=t}}return t}();var el=function(){function t(){this.width=0;this.height=0;this.contentWidth=0;this.contentHeight=0;this.outerWidth=0;this.outerHeight=0;this.lines=[];this.isTruncated=false}return t}();function rl(t,e){var r=new el;t!=null&&(t+="");if(!t){return r}var i=e.width;var a=e.height;var n=e.overflow;var o=(n==="break"||n==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:n==="breakAll"}:null;var s=Xs.lastIndex=0;var l;while((l=Xs.exec(t))!=null){var u=l.index;if(u>s){il(r,t.substring(s,u),e,o)}il(r,l[2],e,o,l[1]);s=Xs.lastIndex}if(s<t.length){il(r,t.substring(s,t.length),e,o)}var f=[];var h=0;var v=0;var c=e.padding;var p=n==="truncate";var d=e.lineOverflow==="truncate";var g={};function y(t,e,r){t.width=e;t.lineHeight=r;h+=r;v=Math.max(v,e)}t:for(var m=0;m<r.lines.length;m++){var x=r.lines[m];var _=0;var w=0;for(var b=0;b<x.tokens.length;b++){var S=x.tokens[b];var M=S.styleName&&e.rich[S.styleName]||{};var I=S.textPadding=M.padding;var T=I?I[1]+I[3]:0;var C=S.font=M.font||e.font;S.contentHeight=_n(C);var D=ht(M.height,S.contentHeight);S.innerHeight=D;I&&(D+=I[0]+I[2]);S.height=D;S.lineHeight=vt(M.lineHeight,e.lineHeight,D);S.align=M&&M.align||e.align;S.verticalAlign=M&&M.verticalAlign||"middle";if(d&&a!=null&&h+S.lineHeight>a){var A=r.lines.length;if(b>0){x.tokens=x.tokens.slice(0,b);y(x,w,_);r.lines=r.lines.slice(0,m+1)}else{r.lines=r.lines.slice(0,m)}r.isTruncated=r.isTruncated||r.lines.length<A;break t}var k=M.width;var L=k==null||k==="auto";if(typeof k==="string"&&k.charAt(k.length-1)==="%"){S.percentWidth=k;f.push(S);S.contentWidth=dn(S.text,C)}else{if(L){var P=M.backgroundColor;var O=P&&P.image;if(O){O=Hs(O);if(Ys(O)){S.width=Math.max(S.width,O.width*D/O.height)}}}var R=p&&i!=null?i-w:null;if(R!=null&&R<S.width){if(!L||R<T){S.text="";S.width=S.contentWidth=0}else{js(g,S.text,R-T,C,e.ellipsis,{minChar:e.truncateMinChar});S.text=g.text;r.isTruncated=r.isTruncated||g.isTruncated;S.width=S.contentWidth=dn(S.text,C)}}else{S.contentWidth=dn(S.text,C)}}S.width+=T;w+=S.width;M&&(_=Math.max(_,S.lineHeight))}y(x,w,_)}r.outerWidth=r.width=ht(i,v);r.outerHeight=r.height=ht(a,h);r.contentHeight=h;r.contentWidth=v;if(c){r.outerWidth+=c[1]+c[3];r.outerHeight+=c[0]+c[2]}for(var m=0;m<f.length;m++){var S=f[m];var N=S.percentWidth;S.width=parseInt(N,10)/100*r.width}return r}function il(t,e,r,i,a){var n=e==="";var o=a&&r.rich[a]||{};var s=t.lines;var l=o.font||r.font;var u=false;var f;var h;if(i){var v=o.padding;var c=v?v[1]+v[3]:0;if(o.width!=null&&o.width!=="auto"){var p=wn(o.width,i.width)+c;if(s.length>0){if(p+i.accumWidth>i.width){f=e.split("\n");u=true}}i.accumWidth=p}else{var d=sl(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=d.accumWidth+c;h=d.linesWidths;f=d.lines}}else{f=e.split("\n")}for(var g=0;g<f.length;g++){var y=f[g];var m=new Qs;m.styleName=a;m.text=y;m.isLineHolder=!y&&!n;if(typeof o.width==="number"){m.width=o.width}else{m.width=h?h[g]:dn(y,l)}if(!g&&!u){var x=(s[s.length-1]||(s[0]=new tl)).tokens;var _=x.length;_===1&&x[0].isLineHolder?x[0]=m:(y||!_||n)&&x.push(m)}else{s.push(new tl([m]))}}}function al(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var nl=U(",&?/;] ".split(""),function(t,e){t[e]=true;return t},{});function ol(t){if(al(t)){if(nl[t]){return true}return false}return true}function sl(t,e,r,i,a){var n=[];var o=[];var s="";var l="";var u=0;var f=0;for(var h=0;h<t.length;h++){var v=t.charAt(h);if(v==="\n"){if(l){s+=l;f+=u}n.push(s);o.push(f);s="";l="";u=0;f=0;continue}var c=dn(v,e);var p=i?false:!ol(v);if(!n.length?a+f+c>r:f+c>r){if(!f){if(p){n.push(l);o.push(u);l=v;u=c}else{n.push(v);o.push(c)}}else if(s||l){if(p){if(!s){s=l;l="";u=0;f=u}n.push(s);o.push(f-u);l+=v;u+=c;s="";f=u}else{if(l){s+=l;l="";u=0}n.push(s);o.push(f);s=v;f=c}}continue}f+=c;if(p){l+=v;u+=c}else{if(l){s+=l;l="";u=0}s+=v}}if(!n.length&&!s){s=t;l="";u=0}if(l){s+=l}if(s){n.push(s);o.push(f)}if(n.length===1){f+=a}return{accumWidth:f,lines:n,linesWidths:o}}var ll="__zr_style_"+Math.round(Math.random()*10);var ul={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"};var fl={style:{shadowBlur:true,shadowOffsetX:true,shadowOffsetY:true,shadowColor:true,opacity:true}};ul[ll]=true;var hl=["z","z2","invisible"];var vl=["invisible"];var cl=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype._init=function(e){var r=Z(e);for(var i=0;i<r.length;i++){var a=r[i];if(a==="style"){this.useStyle(e[a])}else{t.prototype.attrKV.call(this,a,e[a])}}if(!this.style){this.useStyle({})}};e.prototype.beforeBrush=function(){};e.prototype.afterBrush=function(){};e.prototype.innerBeforeBrush=function(){};e.prototype.innerAfterBrush=function(){};e.prototype.shouldBePainted=function(t,e,r,i){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&gl(this,t,e)||a&&!a[0]&&!a[3]){return false}if(r&&this.__clipPaths){for(var n=0;n<this.__clipPaths.length;++n){if(this.__clipPaths[n].isZeroArea()){return false}}}if(i&&this.parent){var o=this.parent;while(o){if(o.ignore){return false}o=o.parent}}return true};e.prototype.contain=function(t,e){return this.rectContain(t,e)};e.prototype.traverse=function(t,e){t.call(e,this)};e.prototype.rectContain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();return i.contain(r[0],r[1])};e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform;var r=this.getBoundingRect();var i=this.style;var a=i.shadowBlur||0;var n=i.shadowOffsetX||0;var o=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new er(0,0,0,0));if(e){er.applyTransform(t,r,e)}else{t.copy(r)}if(a||n||o){t.width+=a*2+Math.abs(n);t.height+=a*2+Math.abs(o);t.x=Math.min(t.x,t.x+n-a);t.y=Math.min(t.y,t.y+o-a)}var s=this.dirtyRectTolerance;if(!t.isZero()){t.x=Math.floor(t.x-s);t.y=Math.floor(t.y-s);t.width=Math.ceil(t.width+1+s*2);t.height=Math.ceil(t.height+1+s*2)}}return t};e.prototype.setPrevPaintRect=function(t){if(t){this._prevPaintRect=this._prevPaintRect||new er(0,0,0,0);this._prevPaintRect.copy(t)}else{this._prevPaintRect=null}};e.prototype.getPrevPaintRect=function(){return this._prevPaintRect};e.prototype.animateStyle=function(t){return this.animate("style",t)};e.prototype.updateDuringAnimation=function(t){if(t==="style"){this.dirtyStyle()}else{this.markRedraw()}};e.prototype.attrKV=function(e,r){if(e!=="style"){t.prototype.attrKV.call(this,e,r)}else{if(!this.style){this.useStyle(r)}else{this.setStyle(r)}}};e.prototype.setStyle=function(t,e){if(typeof t==="string"){this.style[t]=e}else{N(this.style,t)}this.dirtyStyle();return this};e.prototype.dirtyStyle=function(t){if(!t){this.markRedraw()}this.__dirty|=Mr;if(this._rect){this._rect=null}};e.prototype.dirty=function(){this.dirtyStyle()};e.prototype.styleChanged=function(){return!!(this.__dirty&Mr)};e.prototype.styleUpdated=function(){this.__dirty&=~Mr};e.prototype.createStyle=function(t){return Tt(ul,t)};e.prototype.useStyle=function(t){if(!t[ll]){t=this.createStyle(t)}if(this.__inHover){this.__hoverStyle=t}else{this.style=t}this.dirtyStyle()};e.prototype.isStyleObject=function(t){return t[ll]};e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;if(e.style&&!r.style){r.style=this._mergeStyle(this.createStyle(),this.style)}this._savePrimaryToNormal(e,r,hl)};e.prototype._applyStateObj=function(e,r,i,a,n,o){t.prototype._applyStateObj.call(this,e,r,i,a,n,o);var s=!(r&&a);var l;if(r&&r.style){if(n){if(a){l=r.style}else{l=this._mergeStyle(this.createStyle(),i.style);this._mergeStyle(l,r.style)}}else{l=this._mergeStyle(this.createStyle(),a?this.style:i.style);this._mergeStyle(l,r.style)}}else if(s){l=i.style}if(l){if(n){var u=this.style;this.style=this.createStyle(s?{}:u);if(s){var f=Z(u);for(var h=0;h<f.length;h++){var v=f[h];if(v in l){l[v]=l[v];this.style[v]=u[v]}}}var c=Z(l);for(var h=0;h<c.length;h++){var v=c[h];this.style[v]=this.style[v]}this._transitionState(e,{style:l},o,this.getAnimationStyleProps())}else{this.useStyle(l)}}var p=this.__inHover?vl:hl;for(var h=0;h<p.length;h++){var v=p[h];if(r&&r[v]!=null){this[v]=r[v]}else if(s){if(i[v]!=null){this[v]=i[v]}}}};e.prototype._mergeStates=function(e){var r=t.prototype._mergeStates.call(this,e);var i;for(var a=0;a<e.length;a++){var n=e[a];if(n.style){i=i||{};this._mergeStyle(i,n.style)}}if(i){r.style=i}return r};e.prototype._mergeStyle=function(t,e){N(t,e);return t};e.prototype.getAnimationStyleProps=function(){return fl};e.initDefaultProps=function(){var t=e.prototype;t.type="displayable";t.invisible=false;t.z=0;t.z2=0;t.zlevel=0;t.culling=false;t.cursor="pointer";t.rectHover=false;t.incremental=false;t._rect=null;t.dirtyRectTolerance=0;t.__dirty=Sr|Mr}();return e}(Dn);var pl=new er(0,0,0,0);var dl=new er(0,0,0,0);function gl(t,e,r){pl.copy(t.getBoundingRect());if(t.transform){pl.applyTransform(t.transform)}dl.width=e;dl.height=r;return!pl.intersect(dl)}var yl=Math.min;var ml=Math.max;var xl=Math.sin;var _l=Math.cos;var wl=Math.PI*2;var bl=Pt();var Sl=Pt();var Ml=Pt();function Il(t,e,r){if(t.length===0){return}var i=t[0];var a=i[0];var n=i[0];var o=i[1];var s=i[1];for(var l=1;l<t.length;l++){i=t[l];a=yl(a,i[0]);n=ml(n,i[0]);o=yl(o,i[1]);s=ml(s,i[1])}e[0]=a;e[1]=o;r[0]=n;r[1]=s}function Tl(t,e,r,i,a,n){a[0]=yl(t,r);a[1]=yl(e,i);n[0]=ml(t,r);n[1]=ml(e,i)}var Cl=[];var Dl=[];function Al(t,e,r,i,a,n,o,s,l,u){var f=Zr;var h=Ur;var v=f(t,r,a,o,Cl);l[0]=Infinity;l[1]=Infinity;u[0]=-Infinity;u[1]=-Infinity;for(var c=0;c<v;c++){var p=h(t,r,a,o,Cl[c]);l[0]=yl(p,l[0]);u[0]=ml(p,u[0])}v=f(e,i,n,s,Dl);for(var c=0;c<v;c++){var d=h(e,i,n,s,Dl[c]);l[1]=yl(d,l[1]);u[1]=ml(d,u[1])}l[0]=yl(t,l[0]);u[0]=ml(t,u[0]);l[0]=yl(o,l[0]);u[0]=ml(o,u[0]);l[1]=yl(e,l[1]);u[1]=ml(e,u[1]);l[1]=yl(s,l[1]);u[1]=ml(s,u[1])}function kl(t,e,r,i,a,n,o,s){var l=ti;var u=Jr;var f=ml(yl(l(t,r,a),1),0);var h=ml(yl(l(e,i,n),1),0);var v=u(t,r,a,f);var c=u(e,i,n,h);o[0]=yl(t,a,v);o[1]=yl(e,n,c);s[0]=ml(t,a,v);s[1]=ml(e,n,c)}function Ll(t,e,r,i,a,n,o,s,l){var u=ee;var f=re;var h=Math.abs(a-n);if(h%wl<1e-4&&h>1e-4){s[0]=t-r;s[1]=e-i;l[0]=t+r;l[1]=e+i;return}bl[0]=_l(a)*r+t;bl[1]=xl(a)*i+e;Sl[0]=_l(n)*r+t;Sl[1]=xl(n)*i+e;u(s,bl,Sl);f(l,bl,Sl);a=a%wl;if(a<0){a=a+wl}n=n%wl;if(n<0){n=n+wl}if(a>n&&!o){n+=wl}else if(a<n&&o){a+=wl}if(o){var v=n;n=a;a=v}for(var c=0;c<n;c+=Math.PI/2){if(c>a){Ml[0]=_l(c)*r+t;Ml[1]=xl(c)*i+e;u(s,Ml,s);f(l,Ml,l)}}}var Pl={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var Ol=[];var Rl=[];var Nl=[];var El=[];var zl=[];var Vl=[];var Bl=Math.min;var Fl=Math.max;var Gl=Math.cos;var Hl=Math.sin;var Wl=Math.abs;var Ul=Math.PI;var Yl=Ul*2;var Xl=typeof Float32Array!=="undefined";var Zl=[];function jl(t){var e=Math.round(t/Ul*1e8)/1e8;return e%2*Ul}function ql(t,e){var r=jl(t[0]);if(r<0){r+=Yl}var i=r-t[0];var a=t[1];a+=i;if(!e&&a-r>=Yl){a=r+Yl}else if(e&&r-a>=Yl){a=r-Yl}else if(!e&&r>a){a=r+(Yl-jl(r-a))}else if(e&&r<a){a=r-(Yl-jl(a-r))}t[0]=r;t[1]=a}var Kl=function(){function t(t){this.dpr=1;this._xi=0;this._yi=0;this._x0=0;this._y0=0;this._len=0;if(t){this._saveData=false}if(this._saveData){this.data=[]}}t.prototype.increaseVersion=function(){this._version++};t.prototype.getVersion=function(){return this._version};t.prototype.setScale=function(t,e,r){r=r||0;if(r>0){this._ux=Wl(r/$a/t)||0;this._uy=Wl(r/$a/e)||0}};t.prototype.setDPR=function(t){this.dpr=t};t.prototype.setContext=function(t){this._ctx=t};t.prototype.getContext=function(){return this._ctx};t.prototype.beginPath=function(){this._ctx&&this._ctx.beginPath();this.reset();return this};t.prototype.reset=function(){if(this._saveData){this._len=0}if(this._pathSegLen){this._pathSegLen=null;this._pathLen=0}this._version++};t.prototype.moveTo=function(t,e){this._drawPendingPt();this.addData(Pl.M,t,e);this._ctx&&this._ctx.moveTo(t,e);this._x0=t;this._y0=e;this._xi=t;this._yi=e;return this};t.prototype.lineTo=function(t,e){var r=Wl(t-this._xi);var i=Wl(e-this._yi);var a=r>this._ux||i>this._uy;this.addData(Pl.L,t,e);if(this._ctx&&a){this._ctx.lineTo(t,e)}if(a){this._xi=t;this._yi=e;this._pendingPtDist=0}else{var n=r*r+i*i;if(n>this._pendingPtDist){this._pendingPtX=t;this._pendingPtY=e;this._pendingPtDist=n}}return this};t.prototype.bezierCurveTo=function(t,e,r,i,a,n){this._drawPendingPt();this.addData(Pl.C,t,e,r,i,a,n);if(this._ctx){this._ctx.bezierCurveTo(t,e,r,i,a,n)}this._xi=a;this._yi=n;return this};t.prototype.quadraticCurveTo=function(t,e,r,i){this._drawPendingPt();this.addData(Pl.Q,t,e,r,i);if(this._ctx){this._ctx.quadraticCurveTo(t,e,r,i)}this._xi=r;this._yi=i;return this};t.prototype.arc=function(t,e,r,i,a,n){this._drawPendingPt();Zl[0]=i;Zl[1]=a;ql(Zl,n);i=Zl[0];a=Zl[1];var o=a-i;this.addData(Pl.A,t,e,r,r,i,o,0,n?0:1);this._ctx&&this._ctx.arc(t,e,r,i,a,n);this._xi=Gl(a)*r+t;this._yi=Hl(a)*r+e;return this};t.prototype.arcTo=function(t,e,r,i,a){this._drawPendingPt();if(this._ctx){this._ctx.arcTo(t,e,r,i,a)}return this};t.prototype.rect=function(t,e,r,i){this._drawPendingPt();this._ctx&&this._ctx.rect(t,e,r,i);this.addData(Pl.R,t,e,r,i);return this};t.prototype.closePath=function(){this._drawPendingPt();this.addData(Pl.Z);var t=this._ctx;var e=this._x0;var r=this._y0;if(t){t.closePath()}this._xi=e;this._yi=r;return this};t.prototype.fill=function(t){t&&t.fill();this.toStatic()};t.prototype.stroke=function(t){t&&t.stroke();this.toStatic()};t.prototype.len=function(){return this._len};t.prototype.setData=function(t){var e=t.length;if(!(this.data&&this.data.length===e)&&Xl){this.data=new Float32Array(e)}for(var r=0;r<e;r++){this.data[r]=t[r]}this._len=e};t.prototype.appendPath=function(t){if(!(t instanceof Array)){t=[t]}var e=t.length;var r=0;var i=this._len;for(var a=0;a<e;a++){r+=t[a].len()}if(Xl&&this.data instanceof Float32Array){this.data=new Float32Array(i+r)}for(var a=0;a<e;a++){var n=t[a].data;for(var o=0;o<n.length;o++){this.data[i++]=n[o]}}this._len=i};t.prototype.addData=function(t,e,r,i,a,n,o,s,l){if(!this._saveData){return}var u=this.data;if(this._len+arguments.length>u.length){this._expandData();u=this.data}for(var f=0;f<arguments.length;f++){u[this._len++]=arguments[f]}};t.prototype._drawPendingPt=function(){if(this._pendingPtDist>0){this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY);this._pendingPtDist=0}};t.prototype._expandData=function(){if(!(this.data instanceof Array)){var t=[];for(var e=0;e<this._len;e++){t[e]=this.data[e]}this.data=t}};t.prototype.toStatic=function(){if(!this._saveData){return}this._drawPendingPt();var t=this.data;if(t instanceof Array){t.length=this._len;if(Xl&&this._len>11){this.data=new Float32Array(t)}}};t.prototype.getBoundingRect=function(){Nl[0]=Nl[1]=zl[0]=zl[1]=Number.MAX_VALUE;El[0]=El[1]=Vl[0]=Vl[1]=-Number.MAX_VALUE;var t=this.data;var e=0;var r=0;var i=0;var a=0;var n;for(n=0;n<this._len;){var o=t[n++];var s=n===1;if(s){e=t[n];r=t[n+1];i=e;a=r}switch(o){case Pl.M:e=i=t[n++];r=a=t[n++];zl[0]=i;zl[1]=a;Vl[0]=i;Vl[1]=a;break;case Pl.L:Tl(e,r,t[n],t[n+1],zl,Vl);e=t[n++];r=t[n++];break;case Pl.C:Al(e,r,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],zl,Vl);e=t[n++];r=t[n++];break;case Pl.Q:kl(e,r,t[n++],t[n++],t[n],t[n+1],zl,Vl);e=t[n++];r=t[n++];break;case Pl.A:var l=t[n++];var u=t[n++];var f=t[n++];var h=t[n++];var v=t[n++];var c=t[n++]+v;n+=1;var p=!t[n++];if(s){i=Gl(v)*f+l;a=Hl(v)*h+u}Ll(l,u,f,h,v,c,p,zl,Vl);e=Gl(c)*f+l;r=Hl(c)*h+u;break;case Pl.R:i=e=t[n++];a=r=t[n++];var d=t[n++];var g=t[n++];Tl(i,a,i+d,a+g,zl,Vl);break;case Pl.Z:e=i;r=a;break}ee(Nl,Nl,zl);re(El,El,Vl)}if(n===0){Nl[0]=Nl[1]=El[0]=El[1]=0}return new er(Nl[0],Nl[1],El[0]-Nl[0],El[1]-Nl[1])};t.prototype._calculateLength=function(){var t=this.data;var e=this._len;var r=this._ux;var i=this._uy;var a=0;var n=0;var o=0;var s=0;if(!this._pathSegLen){this._pathSegLen=[]}var l=this._pathSegLen;var u=0;var f=0;for(var h=0;h<e;){var v=t[h++];var c=h===1;if(c){a=t[h];n=t[h+1];o=a;s=n}var p=-1;switch(v){case Pl.M:a=o=t[h++];n=s=t[h++];break;case Pl.L:{var d=t[h++];var g=t[h++];var y=d-a;var m=g-n;if(Wl(y)>r||Wl(m)>i||h===e-1){p=Math.sqrt(y*y+m*m);a=d;n=g}break}case Pl.C:{var x=t[h++];var _=t[h++];var d=t[h++];var g=t[h++];var w=t[h++];var b=t[h++];p=Kr(a,n,x,_,d,g,w,b,10);a=w;n=b;break}case Pl.Q:{var x=t[h++];var _=t[h++];var d=t[h++];var g=t[h++];p=ii(a,n,x,_,d,g,10);a=d;n=g;break}case Pl.A:var S=t[h++];var M=t[h++];var I=t[h++];var T=t[h++];var C=t[h++];var D=t[h++];var A=D+C;h+=1;if(c){o=Gl(C)*I+S;s=Hl(C)*T+M}p=Fl(I,T)*Bl(Yl,Math.abs(D));a=Gl(A)*I+S;n=Hl(A)*T+M;break;case Pl.R:{o=a=t[h++];s=n=t[h++];var k=t[h++];var L=t[h++];p=k*2+L*2;break}case Pl.Z:{var y=o-a;var m=s-n;p=Math.sqrt(y*y+m*m);a=o;n=s;break}}if(p>=0){l[f++]=p;u+=p}}this._pathLen=u;return u};t.prototype.rebuildPath=function(t,e){var r=this.data;var i=this._ux;var a=this._uy;var n=this._len;var o;var s;var l;var u;var f;var h;var v=e<1;var c;var p;var d=0;var g=0;var y;var m=0;var x;var _;if(v){if(!this._pathSegLen){this._calculateLength()}c=this._pathSegLen;p=this._pathLen;y=e*p;if(!y){return}}t:for(var w=0;w<n;){var b=r[w++];var S=w===1;if(S){l=r[w];u=r[w+1];o=l;s=u}if(b!==Pl.L&&m>0){t.lineTo(x,_);m=0}switch(b){case Pl.M:o=l=r[w++];s=u=r[w++];t.moveTo(l,u);break;case Pl.L:{f=r[w++];h=r[w++];var M=Wl(f-l);var I=Wl(h-u);if(M>i||I>a){if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;t.lineTo(l*(1-C)+f*C,u*(1-C)+h*C);break t}d+=T}t.lineTo(f,h);l=f;u=h;m=0}else{var D=M*M+I*I;if(D>m){x=f;_=h;m=D}}break}case Pl.C:{var A=r[w++];var k=r[w++];var L=r[w++];var P=r[w++];var O=r[w++];var R=r[w++];if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;jr(l,A,L,O,C,Ol);jr(u,k,P,R,C,Rl);t.bezierCurveTo(Ol[1],Rl[1],Ol[2],Rl[2],Ol[3],Rl[3]);break t}d+=T}t.bezierCurveTo(A,k,L,P,O,R);l=O;u=R;break}case Pl.Q:{var A=r[w++];var k=r[w++];var L=r[w++];var P=r[w++];if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;ei(l,A,L,C,Ol);ei(u,k,P,C,Rl);t.quadraticCurveTo(Ol[1],Rl[1],Ol[2],Rl[2]);break t}d+=T}t.quadraticCurveTo(A,k,L,P);l=L;u=P;break}case Pl.A:var N=r[w++];var E=r[w++];var z=r[w++];var V=r[w++];var B=r[w++];var F=r[w++];var G=r[w++];var H=!r[w++];var W=z>V?z:V;var U=Wl(z-V)>.001;var Y=B+F;var X=false;if(v){var T=c[g++];if(d+T>y){Y=B+F*(y-d)/T;X=true}d+=T}if(U&&t.ellipse){t.ellipse(N,E,z,V,G,B,Y,H)}else{t.arc(N,E,W,B,Y,H)}if(X){break t}if(S){o=Gl(B)*z+N;s=Hl(B)*V+E}l=Gl(Y)*z+N;u=Hl(Y)*V+E;break;case Pl.R:o=l=r[w];s=u=r[w+1];f=r[w++];h=r[w++];var Z=r[w++];var j=r[w++];if(v){var T=c[g++];if(d+T>y){var q=y-d;t.moveTo(f,h);t.lineTo(f+Bl(q,Z),h);q-=Z;if(q>0){t.lineTo(f+Z,h+Bl(q,j))}q-=j;if(q>0){t.lineTo(f+Fl(Z-q,0),h+j)}q-=Z;if(q>0){t.lineTo(f,h+Fl(j-q,0))}break t}d+=T}t.rect(f,h,Z,j);break;case Pl.Z:if(v){var T=c[g++];if(d+T>y){var C=(y-d)/T;t.lineTo(l*(1-C)+o*C,u*(1-C)+s*C);break t}d+=T}t.closePath();l=o;u=s}}};t.prototype.clone=function(){var e=new t;var r=this.data;e.data=r.slice?r.slice():Array.prototype.slice.call(r);e._len=this._len;return e};t.CMD=Pl;t.initDefaultProps=function(){var e=t.prototype;e._saveData=true;e._ux=0;e._uy=0;e._pendingPtDist=0;e._version=0}();return t}();function Jl(t,e,r,i,a,n,o){if(a===0){return false}var s=a;var l=0;var u=t;if(o>e+s&&o>i+s||o<e-s&&o<i-s||n>t+s&&n>r+s||n<t-s&&n<r-s){return false}if(t!==r){l=(e-i)/(t-r);u=(t*i-r*e)/(t-r)}else{return Math.abs(n-t)<=s/2}var f=l*n-o+u;var h=f*f/(l*l+1);return h<=s/2*s/2}function $l(t,e,r,i,a,n,o,s,l,u,f){if(l===0){return false}var h=l;if(f>e+h&&f>i+h&&f>n+h&&f>s+h||f<e-h&&f<i-h&&f<n-h&&f<s-h||u>t+h&&u>r+h&&u>a+h&&u>o+h||u<t-h&&u<r-h&&u<a-h&&u<o-h){return false}var v=qr(t,e,r,i,a,n,o,s,u,f,null);return v<=h/2}function Ql(t,e,r,i,a,n,o,s,l){if(o===0){return false}var u=o;if(l>e+u&&l>i+u&&l>n+u||l<e-u&&l<i-u&&l<n-u||s>t+u&&s>r+u&&s>a+u||s<t-u&&s<r-u&&s<a-u){return false}var f=ri(t,e,r,i,a,n,s,l,null);return f<=u/2}var tu=Math.PI*2;function eu(t){t%=tu;if(t<0){t+=tu}return t}var ru=Math.PI*2;function iu(t,e,r,i,a,n,o,s,l){if(o===0){return false}var u=o;s-=t;l-=e;var f=Math.sqrt(s*s+l*l);if(f-u>r||f+u<r){return false}if(Math.abs(i-a)%ru<1e-4){return true}if(n){var h=i;i=eu(a);a=eu(h)}else{i=eu(i);a=eu(a)}if(i>a){a+=ru}var v=Math.atan2(l,s);if(v<0){v+=ru}return v>=i&&v<=a||v+ru>=i&&v+ru<=a}function au(t,e,r,i,a,n){if(n>e&&n>i||n<e&&n<i){return 0}if(i===e){return 0}var o=(n-e)/(i-e);var s=i<e?1:-1;if(o===1||o===0){s=i<e?.5:-.5}var l=o*(r-t)+t;return l===a?Infinity:l>a?s:0}var nu=Kl.CMD;var ou=Math.PI*2;var su=1e-4;function lu(t,e){return Math.abs(t-e)<su}var uu=[-1,-1,-1];var fu=[-1,-1];function hu(){var t=fu[0];fu[0]=fu[1];fu[1]=t}function vu(t,e,r,i,a,n,o,s,l,u){if(u>e&&u>i&&u>n&&u>s||u<e&&u<i&&u<n&&u<s){return 0}var f=Xr(e,i,n,s,u,uu);if(f===0){return 0}else{var h=0;var v=-1;var c=void 0;var p=void 0;for(var d=0;d<f;d++){var g=uu[d];var y=g===0||g===1?.5:1;var m=Ur(t,r,a,o,g);if(m<l){continue}if(v<0){v=Zr(e,i,n,s,fu);if(fu[1]<fu[0]&&v>1){hu()}c=Ur(e,i,n,s,fu[0]);if(v>1){p=Ur(e,i,n,s,fu[1])}}if(v===2){if(g<fu[0]){h+=c<e?y:-y}else if(g<fu[1]){h+=p<c?y:-y}else{h+=s<p?y:-y}}else{if(g<fu[0]){h+=c<e?y:-y}else{h+=s<c?y:-y}}}return h}}function cu(t,e,r,i,a,n,o,s){if(s>e&&s>i&&s>n||s<e&&s<i&&s<n){return 0}var l=Qr(e,i,n,s,uu);if(l===0){return 0}else{var u=ti(e,i,n);if(u>=0&&u<=1){var f=0;var h=Jr(e,i,n,u);for(var v=0;v<l;v++){var c=uu[v]===0||uu[v]===1?.5:1;var p=Jr(t,r,a,uu[v]);if(p<o){continue}if(uu[v]<u){f+=h<e?c:-c}else{f+=n<h?c:-c}}return f}else{var c=uu[0]===0||uu[0]===1?.5:1;var p=Jr(t,r,a,uu[0]);if(p<o){return 0}return n<e?c:-c}}}function pu(t,e,r,i,a,n,o,s){s-=e;if(s>r||s<-r){return 0}var l=Math.sqrt(r*r-s*s);uu[0]=-l;uu[1]=l;var u=Math.abs(i-a);if(u<1e-4){return 0}if(u>=ou-1e-4){i=0;a=ou;var f=n?1:-1;if(o>=uu[0]+t&&o<=uu[1]+t){return f}else{return 0}}if(i>a){var h=i;i=a;a=h}if(i<0){i+=ou;a+=ou}var v=0;for(var c=0;c<2;c++){var p=uu[c];if(p+t>o){var d=Math.atan2(s,p);var f=n?1:-1;if(d<0){d=ou+d}if(d>=i&&d<=a||d+ou>=i&&d+ou<=a){if(d>Math.PI/2&&d<Math.PI*1.5){f=-f}v+=f}}}return v}function du(t,e,r,i,a){var n=t.data;var o=t.len();var s=0;var l=0;var u=0;var f=0;var h=0;var v;var c;for(var p=0;p<o;){var d=n[p++];var g=p===1;if(d===nu.M&&p>1){if(!r){s+=au(l,u,f,h,i,a)}}if(g){l=n[p];u=n[p+1];f=l;h=u}switch(d){case nu.M:f=n[p++];h=n[p++];l=f;u=h;break;case nu.L:if(r){if(Jl(l,u,n[p],n[p+1],e,i,a)){return true}}else{s+=au(l,u,n[p],n[p+1],i,a)||0}l=n[p++];u=n[p++];break;case nu.C:if(r){if($l(l,u,n[p++],n[p++],n[p++],n[p++],n[p],n[p+1],e,i,a)){return true}}else{s+=vu(l,u,n[p++],n[p++],n[p++],n[p++],n[p],n[p+1],i,a)||0}l=n[p++];u=n[p++];break;case nu.Q:if(r){if(Ql(l,u,n[p++],n[p++],n[p],n[p+1],e,i,a)){return true}}else{s+=cu(l,u,n[p++],n[p++],n[p],n[p+1],i,a)||0}l=n[p++];u=n[p++];break;case nu.A:var y=n[p++];var m=n[p++];var x=n[p++];var _=n[p++];var w=n[p++];var b=n[p++];p+=1;var S=!!(1-n[p++]);v=Math.cos(w)*x+y;c=Math.sin(w)*_+m;if(!g){s+=au(l,u,v,c,i,a)}else{f=v;h=c}var M=(i-y)*_/x+y;if(r){if(iu(y,m,_,w,w+b,S,e,M,a)){return true}}else{s+=pu(y,m,_,w,w+b,S,M,a)}l=Math.cos(w+b)*x+y;u=Math.sin(w+b)*_+m;break;case nu.R:f=l=n[p++];h=u=n[p++];var I=n[p++];var T=n[p++];v=f+I;c=h+T;if(r){if(Jl(f,h,v,h,e,i,a)||Jl(v,h,v,c,e,i,a)||Jl(v,c,f,c,e,i,a)||Jl(f,c,f,h,e,i,a)){return true}}else{s+=au(v,h,v,c,i,a);s+=au(f,c,f,h,i,a)}break;case nu.Z:if(r){if(Jl(l,u,f,h,e,i,a)){return true}}else{s+=au(l,u,f,h,i,a)}l=f;u=h;break}}if(!r&&!lu(u,h)){s+=au(l,u,f,h,i,a)||0}return s!==0}function gu(t,e,r){return du(t,0,false,e,r)}function yu(t,e,r,i){return du(t,e,true,r,i)}var mu=E({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:false,strokeFirst:false},ul);var xu={style:E({fill:true,stroke:true,strokePercent:true,fillOpacity:true,strokeOpacity:true,lineDashOffset:true,lineWidth:true,miterLimit:true},fl.style)};var _u=vn.concat(["invisible","culling","z","z2","zlevel","parent"]);var wu=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.update=function(){var r=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var a=this._decalEl=this._decalEl||new e;if(a.buildPath===e.prototype.buildPath){a.buildPath=function(t){r.buildPath(t,r.shape)}}a.silent=true;var n=a.style;for(var o in i){if(n[o]!==i[o]){n[o]=i[o]}}n.fill=i.fill?i.decal:null;n.decal=null;n.shadowColor=null;i.strokeFirst&&(n.stroke=null);for(var s=0;s<_u.length;++s){a[_u[s]]=this[_u[s]]}a.__dirty|=Sr}else if(this._decalEl){this._decalEl=null}};e.prototype.getDecalElement=function(){return this._decalEl};e.prototype._init=function(e){var r=Z(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();if(i){this.useStyle(i)}for(var a=0;a<r.length;a++){var n=r[a];var o=e[n];if(n==="style"){if(!this.style){this.useStyle(o)}else{N(this.style,o)}}else if(n==="shape"){N(this.shape,o)}else{t.prototype.attrKV.call(this,n,o)}}if(!this.style){this.useStyle({})}};e.prototype.getDefaultStyle=function(){return null};e.prototype.getDefaultShape=function(){return{}};e.prototype.canBeInsideText=function(){return this.hasFill()};e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Q(t)){var e=Ni(t,0);if(e>.5){return tn}else if(e>.2){return rn}return en}else if(t){return en}}return tn};e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(Q(e)){var r=this.__zr;var i=!!(r&&r.isDarkMode());var a=Ni(t,0)<Qa;if(i===a){return e}}};e.prototype.buildPath=function(t,e,r){};e.prototype.pathUpdated=function(){this.__dirty&=~Ir};e.prototype.getUpdatedPathProxy=function(t){!this.path&&this.createPathProxy();this.path.beginPath();this.buildPath(this.path,this.shape,t);return this.path};e.prototype.createPathProxy=function(){this.path=new Kl(false)};e.prototype.hasStroke=function(){var t=this.style;var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))};e.prototype.hasFill=function(){var t=this.style;var e=t.fill;return e!=null&&e!=="none"};e.prototype.getBoundingRect=function(){var t=this._rect;var e=this.style;var r=!t;if(r){var i=false;if(!this.path){i=true;this.createPathProxy()}var a=this.path;if(i||this.__dirty&Ir){a.beginPath();this.buildPath(a,this.shape,false);this.pathUpdated()}t=a.getBoundingRect()}this._rect=t;if(this.hasStroke()&&this.path&&this.path.len()>0){var n=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){n.copy(t);var o=e.strokeNoScale?this.getLineScale():1;var s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,l==null?4:l)}if(o>1e-10){n.width+=s/o;n.height+=s/o;n.x-=s/o/2;n.y-=s/o/2}}return n}return t};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();var a=this.style;t=r[0];e=r[1];if(i.contain(t,e)){var n=this.path;if(this.hasStroke()){var o=a.lineWidth;var s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10){if(!this.hasFill()){o=Math.max(o,this.strokeContainThreshold)}if(yu(n,o/s,t,e)){return true}}}if(this.hasFill()){return gu(n,t,e)}}return false};e.prototype.dirtyShape=function(){this.__dirty|=Ir;if(this._rect){this._rect=null}if(this._decalEl){this._decalEl.dirtyShape()}this.markRedraw()};e.prototype.dirty=function(){this.dirtyStyle();this.dirtyShape()};e.prototype.animateShape=function(t){return this.animate("shape",t)};e.prototype.updateDuringAnimation=function(t){if(t==="style"){this.dirtyStyle()}else if(t==="shape"){this.dirtyShape()}else{this.markRedraw()}};e.prototype.attrKV=function(e,r){if(e==="shape"){this.setShape(r)}else{t.prototype.attrKV.call(this,e,r)}};e.prototype.setShape=function(t,e){var r=this.shape;if(!r){r=this.shape={}}if(typeof t==="string"){r[t]=e}else{N(r,t)}this.dirtyShape();return this};e.prototype.shapeChanged=function(){return!!(this.__dirty&Ir)};e.prototype.createStyle=function(t){return Tt(mu,t)};e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;if(e.shape&&!r.shape){r.shape=N({},this.shape)}};e.prototype._applyStateObj=function(e,r,i,a,n,o){t.prototype._applyStateObj.call(this,e,r,i,a,n,o);var s=!(r&&a);var l;if(r&&r.shape){if(n){if(a){l=r.shape}else{l=N({},i.shape);N(l,r.shape)}}else{l=N({},a?this.shape:i.shape);N(l,r.shape)}}else if(s){l=i.shape}if(l){if(n){this.shape=N({},this.shape);var u={};var f=Z(l);for(var h=0;h<f.length;h++){var v=f[h];if(typeof l[v]==="object"){this.shape[v]=l[v]}else{u[v]=l[v]}}this._transitionState(e,{shape:u},o)}else{this.shape=l;this.dirtyShape()}}};e.prototype._mergeStates=function(e){var r=t.prototype._mergeStates.call(this,e);var i;for(var a=0;a<e.length;a++){var n=e[a];if(n.shape){i=i||{};this._mergeStyle(i,n.shape)}}if(i){r.shape=i}return r};e.prototype.getAnimationStyleProps=function(){return xu};e.prototype.isZeroArea=function(){return false};e.extend=function(t){var r=function(e){i(r,e);function r(r){var i=e.call(this,r)||this;t.init&&t.init.call(i,r);return i}r.prototype.getDefaultStyle=function(){return P(t.style)};r.prototype.getDefaultShape=function(){return P(t.shape)};return r}(e);for(var a in t){if(typeof t[a]==="function"){r.prototype[a]=t[a]}}return r};e.initDefaultProps=function(){var t=e.prototype;t.type="path";t.strokeContainThreshold=5;t.segmentIgnoreThreshold=0;t.subPixelOptimize=false;t.autoBatch=false;t.__dirty=Sr|Mr|Ir}();return e}(cl);var bu=E({strokeFirst:true,font:f,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},mu);var Su=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.hasStroke=function(){var t=this.style;var e=t.stroke;return e!=null&&e!=="none"&&t.lineWidth>0};e.prototype.hasFill=function(){var t=this.style;var e=t.fill;return e!=null&&e!=="none"};e.prototype.createStyle=function(t){return Tt(bu,t)};e.prototype.setBoundingRect=function(t){this._rect=t};e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;e!=null?e+="":e="";var r=yn(e,t.font,t.textAlign,t.textBaseline);r.x+=t.x||0;r.y+=t.y||0;if(this.hasStroke()){var i=t.lineWidth;r.x-=i/2;r.y-=i/2;r.width+=i;r.height+=i}this._rect=r}return this._rect};e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}();return e}(cl);Su.prototype.type="tspan";var Mu=E({x:0,y:0},ul);var Iu={style:E({x:true,y:true,width:true,height:true,sx:true,sy:true,sWidth:true,sHeight:true},fl.style)};function Tu(t){return!!(t&&typeof t!=="string"&&t.width&&t.height)}var Cu=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.createStyle=function(t){return Tt(Mu,t)};e.prototype._getSize=function(t){var e=this.style;var r=e[t];if(r!=null){return r}var i=Tu(e.image)?e.image:this.__image;if(!i){return 0}var a=t==="width"?"height":"width";var n=e[a];if(n==null){return i[t]}else{return i[t]/i[a]*n}};e.prototype.getWidth=function(){return this._getSize("width")};e.prototype.getHeight=function(){return this._getSize("height")};e.prototype.getAnimationStyleProps=function(){return Iu};e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){this._rect=new er(t.x||0,t.y||0,this.getWidth(),this.getHeight())}return this._rect};return e}(cl);Cu.prototype.type="image";function Du(t,e){var r=e.x;var i=e.y;var a=e.width;var n=e.height;var o=e.r;var s;var l;var u;var f;if(a<0){r=r+a;a=-a}if(n<0){i=i+n;n=-n}if(typeof o==="number"){s=l=u=f=o}else if(o instanceof Array){if(o.length===1){s=l=u=f=o[0]}else if(o.length===2){s=u=o[0];l=f=o[1]}else if(o.length===3){s=o[0];l=f=o[1];u=o[2]}else{s=o[0];l=o[1];u=o[2];f=o[3]}}else{s=l=u=f=0}var h;if(s+l>a){h=s+l;s*=a/h;l*=a/h}if(u+f>a){h=u+f;u*=a/h;f*=a/h}if(l+u>n){h=l+u;l*=n/h;u*=n/h}if(s+f>n){h=s+f;s*=n/h;f*=n/h}t.moveTo(r+s,i);t.lineTo(r+a-l,i);l!==0&&t.arc(r+a-l,i+l,l,-Math.PI/2,0);t.lineTo(r+a,i+n-u);u!==0&&t.arc(r+a-u,i+n-u,u,0,Math.PI/2);t.lineTo(r+f,i+n);f!==0&&t.arc(r+f,i+n-f,f,Math.PI/2,Math.PI);t.lineTo(r,i+s);s!==0&&t.arc(r+s,i+s,s,Math.PI,Math.PI*1.5)}var Au=Math.round;function ku(t,e,r){if(!e){return}var i=e.x1;var a=e.x2;var n=e.y1;var o=e.y2;t.x1=i;t.x2=a;t.y1=n;t.y2=o;var s=r&&r.lineWidth;if(!s){return t}if(Au(i*2)===Au(a*2)){t.x1=t.x2=Pu(i,s,true)}if(Au(n*2)===Au(o*2)){t.y1=t.y2=Pu(n,s,true)}return t}function Lu(t,e,r){if(!e){return}var i=e.x;var a=e.y;var n=e.width;var o=e.height;t.x=i;t.y=a;t.width=n;t.height=o;var s=r&&r.lineWidth;if(!s){return t}t.x=Pu(i,s,true);t.y=Pu(a,s,true);t.width=Math.max(Pu(i+n,s,false)-t.x,n===0?0:1);t.height=Math.max(Pu(a+o,s,false)-t.y,o===0?0:1);return t}function Pu(t,e,r){if(!e){return t}var i=Au(t*2);return(i+Au(e))%2===0?i/2:(i+(r?1:-1))/2}var Ou=function(){function t(){this.x=0;this.y=0;this.width=0;this.height=0}return t}();var Ru={};var Nu=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Ou};e.prototype.buildPath=function(t,e){var r;var i;var a;var n;if(this.subPixelOptimize){var o=Lu(Ru,e,this.style);r=o.x;i=o.y;a=o.width;n=o.height;o.r=e.r;e=o}else{r=e.x;i=e.y;a=e.width;n=e.height}if(!e.r){t.rect(r,i,a,n)}else{Du(t,e)}};e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height};return e}(wu);Nu.prototype.type="rect";var Eu={fill:"#000"};var zu=2;var Vu={style:E({fill:true,stroke:true,fillOpacity:true,strokeOpacity:true,lineWidth:true,fontSize:true,lineHeight:true,width:true,height:true,textShadowColor:true,textShadowBlur:true,textShadowOffsetX:true,textShadowOffsetY:true,backgroundColor:true,padding:true,borderColor:true,borderWidth:true,borderRadius:true},fl.style)};var Bu=function(t){i(e,t);function e(e){var r=t.call(this)||this;r.type="text";r._children=[];r._defaultStyle=Eu;r.attr(e);return r}e.prototype.childrenRef=function(){return this._children};e.prototype.update=function(){t.prototype.update.call(this);if(this.styleChanged()){this._updateSubTexts()}for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel;r.z=this.z;r.z2=this.z2;r.culling=this.culling;r.cursor=this.cursor;r.invisible=this.invisible}};e.prototype.updateTransform=function(){var e=this.innerTransformable;if(e){e.updateTransform();if(e.transform){this.transform=e.transform}}else{t.prototype.updateTransform.call(this)}};e.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)};e.prototype.getComputedTransform=function(){if(this.__hostTarget){this.__hostTarget.getComputedTransform();this.__hostTarget.updateInnerText(true)}return t.prototype.getComputedTransform.call(this)};e.prototype._updateSubTexts=function(){this._childCursor=0;Xu(this.style);this.style.rich?this._updateRichTexts():this._updatePlainTexts();this._children.length=this._childCursor;this.styleUpdated()};e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++){this._children[r].__zr=e}};e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++){this._children[r].__zr=null}};e.prototype.getBoundingRect=function(){if(this.styleChanged()){this._updateSubTexts()}if(!this._rect){var t=new er(0,0,0,0);var e=this._children;var r=[];var i=null;for(var a=0;a<e.length;a++){var n=e[a];var o=n.getBoundingRect();var s=n.getLocalTransform(r);if(s){t.copy(o);t.applyTransform(s);i=i||t.clone();i.union(t)}else{i=i||o.clone();i.union(o)}}this._rect=i||t}return this._rect};e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Eu};e.prototype.setTextContent=function(t){if(true){throw new Error("Can't attach text on another text")}};e.prototype._mergeStyle=function(t,e){if(!e){return t}var r=e.rich;var i=t.rich||r&&{};N(t,e);if(r&&i){this._mergeRich(i,r);t.rich=i}else if(i){t.rich=i}return t};e.prototype._mergeRich=function(t,e){var r=Z(e);for(var i=0;i<r.length;i++){var a=r[i];t[a]=t[a]||{};N(t[a],e[a])}};e.prototype.getAnimationStyleProps=function(){return Vu};e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];if(!e||!(e instanceof t)){e=new t}this._children[this._childCursor++]=e;e.__zr=this.__zr;e.parent=this;return e};e.prototype._updatePlainTexts=function(){var t=this.style;var e=t.font||f;var r=t.padding;var i=Ju(t);var a=$s(i,t);var n=$u(t);var o=!!t.backgroundColor;var s=a.outerHeight;var l=a.outerWidth;var u=a.contentWidth;var h=a.lines;var v=a.lineHeight;var c=this._defaultStyle;this.isTruncated=!!a.isTruncated;var p=t.x||0;var d=t.y||0;var g=t.align||c.align||"left";var y=t.verticalAlign||c.verticalAlign||"top";var m=p;var x=xn(d,a.contentHeight,y);if(n||r){var _=mn(p,l,g);var w=xn(d,s,y);n&&this._renderBackground(t,t,_,w,l,s)}x+=v/2;if(r){m=Ku(p,g,r);if(y==="top"){x+=r[0]}else if(y==="bottom"){x-=r[2]}}var b=0;var S=false;var M=qu("fill"in t?t.fill:(S=true,c.fill));var I=ju("stroke"in t?t.stroke:!o&&(!c.autoStroke||S)?(b=zu,c.stroke):null);var T=t.textShadowBlur>0;var C=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll");var D=a.calculatedLineHeight;for(var A=0;A<h.length;A++){var k=this._getOrCreateChild(Su);var L=k.createStyle();k.useStyle(L);L.text=h[A];L.x=m;L.y=x;if(g){L.textAlign=g}L.textBaseline="middle";L.opacity=t.opacity;L.strokeFirst=true;if(T){L.shadowBlur=t.textShadowBlur||0;L.shadowColor=t.textShadowColor||"transparent";L.shadowOffsetX=t.textShadowOffsetX||0;L.shadowOffsetY=t.textShadowOffsetY||0}L.stroke=I;L.fill=M;if(I){L.lineWidth=t.lineWidth||b;L.lineDash=t.lineDash;L.lineDashOffset=t.lineDashOffset||0}L.font=e;Uu(L,t);x+=v;if(C){k.setBoundingRect(new er(mn(L.x,u,L.textAlign),xn(L.y,D,L.textBaseline),u,D))}}};e.prototype._updateRichTexts=function(){var t=this.style;var e=Ju(t);var r=rl(e,t);var i=r.width;var a=r.outerWidth;var n=r.outerHeight;var o=t.padding;var s=t.x||0;var l=t.y||0;var u=this._defaultStyle;var f=t.align||u.align;var h=t.verticalAlign||u.verticalAlign;this.isTruncated=!!r.isTruncated;var v=mn(s,a,f);var c=xn(l,n,h);var p=v;var d=c;if(o){p+=o[3];d+=o[0]}var g=p+i;if($u(t)){this._renderBackground(t,t,v,c,a,n)}var y=!!t.backgroundColor;for(var m=0;m<r.lines.length;m++){var x=r.lines[m];var _=x.tokens;var w=_.length;var b=x.lineHeight;var S=x.width;var M=0;var I=p;var T=g;var C=w-1;var D=void 0;while(M<w&&(D=_[M],!D.align||D.align==="left")){this._placeToken(D,t,b,d,I,"left",y);S-=D.width;I+=D.width;M++}while(C>=0&&(D=_[C],D.align==="right")){this._placeToken(D,t,b,d,T,"right",y);S-=D.width;T-=D.width;C--}I+=(i-(I-p)-(g-T)-S)/2;while(M<=C){D=_[M];this._placeToken(D,t,b,d,I+D.width/2,"center",y);I+=D.width;M++}d+=b}};e.prototype._placeToken=function(t,e,r,i,a,n,o){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign;var u=i+r/2;if(l==="top"){u=i+t.height/2}else if(l==="bottom"){u=i+r-t.height/2}var h=!t.isLineHolder&&$u(s);h&&this._renderBackground(s,e,n==="right"?a-t.width:n==="center"?a-t.width/2:a,u-t.height/2,t.width,t.height);var v=!!s.backgroundColor;var c=t.textPadding;if(c){a=Ku(a,n,c);u-=t.height/2-c[0]-t.innerHeight/2}var p=this._getOrCreateChild(Su);var d=p.createStyle();p.useStyle(d);var g=this._defaultStyle;var y=false;var m=0;var x=qu("fill"in s?s.fill:"fill"in e?e.fill:(y=true,g.fill));var _=ju("stroke"in s?s.stroke:"stroke"in e?e.stroke:!v&&!o&&(!g.autoStroke||y)?(m=zu,g.stroke):null);var w=s.textShadowBlur>0||e.textShadowBlur>0;d.text=t.text;d.x=a;d.y=u;if(w){d.shadowBlur=s.textShadowBlur||e.textShadowBlur||0;d.shadowColor=s.textShadowColor||e.textShadowColor||"transparent";d.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0;d.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0}d.textAlign=n;d.textBaseline="middle";d.font=t.font||f;d.opacity=vt(s.opacity,e.opacity,1);Uu(d,s);if(_){d.lineWidth=vt(s.lineWidth,e.lineWidth,m);d.lineDash=ht(s.lineDash,e.lineDash);d.lineDashOffset=e.lineDashOffset||0;d.stroke=_}if(x){d.fill=x}var b=t.contentWidth;var S=t.contentHeight;p.setBoundingRect(new er(mn(d.x,b,d.textAlign),xn(d.y,S,d.textBaseline),b,S))};e.prototype._renderBackground=function(t,e,r,i,a,n){var o=t.backgroundColor;var s=t.borderWidth;var l=t.borderColor;var u=o&&o.image;var f=o&&!u;var h=t.borderRadius;var v=this;var c;var p;if(f||t.lineHeight||s&&l){c=this._getOrCreateChild(Nu);c.useStyle(c.createStyle());c.style.fill=null;var d=c.shape;d.x=r;d.y=i;d.width=a;d.height=n;d.r=h;c.dirtyShape()}if(f){var g=c.style;g.fill=o||null;g.fillOpacity=ht(t.fillOpacity,1)}else if(u){p=this._getOrCreateChild(Cu);p.onload=function(){v.dirtyStyle()};var y=p.style;y.image=o.image;y.x=r;y.y=i;y.width=a;y.height=n}if(s&&l){var g=c.style;g.lineWidth=s;g.stroke=l;g.strokeOpacity=ht(t.strokeOpacity,1);g.lineDash=t.borderDash;g.lineDashOffset=t.borderDashOffset||0;c.strokeContainThreshold=0;if(c.hasFill()&&c.hasStroke()){g.strokeFirst=true;g.lineWidth*=2}}var m=(c||p).style;m.shadowBlur=t.shadowBlur||0;m.shadowColor=t.shadowColor||"transparent";m.shadowOffsetX=t.shadowOffsetX||0;m.shadowOffsetY=t.shadowOffsetY||0;m.opacity=vt(t.opacity,e.opacity,1)};e.makeFont=function(t){var e="";if(Yu(t)){e=[t.fontStyle,t.fontWeight,Wu(t.fontSize),t.fontFamily||"sans-serif"].join(" ")}return e&&gt(e)||t.textFont||t.font};return e}(cl);var Fu={left:true,right:1,center:1};var Gu={top:1,bottom:1,middle:1};var Hu=["fontStyle","fontWeight","fontSize","fontFamily"];function Wu(t){if(typeof t==="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)){return t}else if(!isNaN(+t)){return t+"px"}else{return l+"px"}}function Uu(t,e){for(var r=0;r<Hu.length;r++){var i=Hu[r];var a=e[i];if(a!=null){t[i]=a}}}function Yu(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function Xu(t){Zu(t);H(t.rich,Zu);return t}function Zu(t){if(t){t.font=Bu.makeFont(t);var e=t.align;e==="middle"&&(e="center");t.align=e==null||Fu[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle");t.verticalAlign=r==null||Gu[r]?r:"top";var i=t.padding;if(i){t.padding=pt(t.padding)}}}function ju(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function qu(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function Ku(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function Ju(t){var e=t.text;e!=null&&(e+="");return e}function $u(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Qu=hs();var tf=function(t,e,r,i){if(i){var a=Qu(i);a.dataIndex=r;a.dataType=e;a.seriesIndex=t;a.ssrType="chart";if(i.type==="group"){i.traverse(function(i){var a=Qu(i);a.seriesIndex=t;a.dataIndex=r;a.dataType=e;a.ssrType="chart"})}}};var ef=1;var rf={};var af=hs();var nf=hs();var of=0;var sf=1;var lf=2;var uf=["emphasis","blur","select"];var ff=["normal","emphasis","blur","select"];var hf=10;var vf=9;var cf="highlight";var pf="downplay";var df="select";var gf="unselect";var yf="toggleSelect";function mf(t){return t!=null&&t!=="none"}function xf(t,e,r){if(t.onHoverStateChange&&(t.hoverState||0)!==r){t.onHoverStateChange(e)}t.hoverState=r}function _f(t){xf(t,"emphasis",lf)}function wf(t){if(t.hoverState===lf){xf(t,"normal",of)}}function bf(t){xf(t,"blur",sf)}function Sf(t){if(t.hoverState===sf){xf(t,"normal",of)}}function Mf(t){t.selected=true}function If(t){t.selected=false}function Tf(t,e,r){e(t,r)}function Cf(t,e,r){Tf(t,e,r);t.isGroup&&t.traverse(function(t){Tf(t,e,r)})}function Df(t,e){switch(e){case"emphasis":t.hoverState=lf;break;case"normal":t.hoverState=of;break;case"blur":t.hoverState=sf;break;case"select":t.selected=true}}function Af(t,e,r,i){var a=t.style;var n={};for(var o=0;o<e.length;o++){var s=e[o];var l=a[s];n[s]=l==null?i&&i[s]:l}for(var o=0;o<t.animators.length;o++){var u=t.animators[o];if(u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"){u.saveTo(n,e)}}return n}function kf(t,e,r,i){var a=r&&V(r,"select")>=0;var n=false;if(t instanceof wu){var o=af(t);var s=a?o.selectFill||o.normalFill:o.normalFill;var l=a?o.selectStroke||o.normalStroke:o.normalStroke;if(mf(s)||mf(l)){i=i||{};var u=i.style||{};if(u.fill==="inherit"){n=true;i=N({},i);u=N({},u);u.fill=s}else if(!mf(u.fill)&&mf(s)){n=true;i=N({},i);u=N({},u);u.fill=Vi(s)}else if(!mf(u.stroke)&&mf(l)){if(!n){i=N({},i);u=N({},u)}u.stroke=Vi(l)}i.style=u}}if(i){if(i.z2==null){if(!n){i=N({},i)}var f=t.z2EmphasisLift;i.z2=t.z2+(f!=null?f:hf)}}return i}function Lf(t,e,r){if(r){if(r.z2==null){r=N({},r);var i=t.z2SelectLift;r.z2=t.z2+(i!=null?i:vf)}}return r}function Pf(t,e,r){var i=V(t.currentStates,e)>=0;var a=t.style.opacity;var n=!i?Af(t,["opacity"],e,{opacity:1}):null;r=r||{};var o=r.style||{};if(o.opacity==null){r=N({},r);o=N({opacity:i?a:n.opacity*.1},o);r.style=o}return r}function Of(t,e){var r=this.states[t];if(this.style){if(t==="emphasis"){return kf(this,t,e,r)}else if(t==="blur"){return Pf(this,t,r)}else if(t==="select"){return Lf(this,t,r)}}return r}function Rf(t){t.stateProxy=Of;var e=t.getTextContent();var r=t.getTextGuideLine();if(e){e.stateProxy=Of}if(r){r.stateProxy=Of}}function Nf(t,e){!Wf(t,e)&&!t.__highByOuter&&Cf(t,_f)}function Ef(t,e){!Wf(t,e)&&!t.__highByOuter&&Cf(t,wf)}function zf(t,e){t.__highByOuter|=1<<(e||0);Cf(t,_f)}function Vf(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Cf(t,wf)}function Bf(t){Cf(t,bf)}function Ff(t){Cf(t,Sf)}function Gf(t){Cf(t,Mf)}function Hf(t){Cf(t,If)}function Wf(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Uf(t){var e=t.getModel();var r=[];var i=[];e.eachComponent(function(e,a){var n=nf(a);var o=e==="series";var s=o?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!o&&i.push(s);if(n.isBlured){s.group.traverse(function(t){Sf(t)});o&&r.push(a)}n.isBlured=false});H(i,function(t){if(t&&t.toggleBlurSeries){t.toggleBlurSeries(r,false,e)}})}function Yf(t,e,r,i){var a=i.getModel();r=r||"coordinateSystem";function n(t,e){for(var r=0;r<e.length;r++){var i=t.getItemGraphicEl(e[r]);i&&Ff(i)}}if(t==null){return}if(!e||e==="none"){return}var o=a.getSeriesByIndex(t);var s=o.coordinateSystem;if(s&&s.master){s=s.master}var l=[];a.eachSeries(function(t){var a=o===t;var u=t.coordinateSystem;if(u&&u.master){u=u.master}var f=u&&s?u===s:a;if(!(r==="series"&&!a||r==="coordinateSystem"&&!f||e==="series"&&a)){var h=i.getViewOfSeriesModel(t);h.group.traverse(function(t){if(t.__highByOuter&&a&&e==="self"){return}bf(t)});if(G(e)){n(t.getData(),e)}else if(rt(e)){var v=Z(e);for(var c=0;c<v.length;c++){n(t.getData(v[c]),e[v[c]])}}l.push(t);nf(t).isBlured=true}});a.eachComponent(function(t,e){if(t==="series"){return}var r=i.getViewOfComponentModel(e);if(r&&r.toggleBlurSeries){r.toggleBlurSeries(l,true,a)}})}function Xf(t,e,r){if(t==null||e==null){return}var i=r.getModel().getComponent(t,e);if(!i){return}nf(i).isBlured=true;var a=r.getViewOfComponentModel(i);if(!a||!a.focusBlurEnabled){return}a.group.traverse(function(t){bf(t)})}function Zf(t,e,r){var i=t.seriesIndex;var a=t.getData(e.dataType);if(!a){if(true){Oo("Unknown dataType "+e.dataType)}return}var n=fs(a,e);n=(J(n)?n[0]:n)||0;var o=a.getItemGraphicEl(n);if(!o){var s=a.count();var l=0;while(!o&&l<s){o=a.getItemGraphicEl(l++)}}if(o){var u=Qu(o);Yf(i,u.focus,u.blurScope,r)}else{var f=t.get(["emphasis","focus"]);var h=t.get(["emphasis","blurScope"]);if(f!=null){Yf(i,f,h,r)}}}function jf(t,e,r,i){var a={focusSelf:false,dispatchers:null};if(t==null||t==="series"||e==null||r==null){return a}var n=i.getModel().getComponent(t,e);if(!n){return a}var o=i.getViewOfComponentModel(n);if(!o||!o.findHighDownDispatchers){return a}var s=o.findHighDownDispatchers(r);var l;for(var u=0;u<s.length;u++){if(true&&!lh(s[u])){Oo("param should be highDownDispatcher")}if(Qu(s[u]).focus==="self"){l=true;break}}return{focusSelf:l,dispatchers:s}}function qf(t,e,r){if(true&&!lh(t)){Oo("param should be highDownDispatcher")}var i=Qu(t);var a=jf(i.componentMainType,i.componentIndex,i.componentHighDownName,r),n=a.dispatchers,o=a.focusSelf;if(n){if(o){Xf(i.componentMainType,i.componentIndex,r)}H(n,function(t){return Nf(t,e)})}else{Yf(i.seriesIndex,i.focus,i.blurScope,r);if(i.focus==="self"){Xf(i.componentMainType,i.componentIndex,r)}Nf(t,e)}}function Kf(t,e,r){if(true&&!lh(t)){Oo("param should be highDownDispatcher")}Uf(r);var i=Qu(t);var a=jf(i.componentMainType,i.componentIndex,i.componentHighDownName,r).dispatchers;if(a){H(a,function(t){return Ef(t,e)})}else{Ef(t,e)}}function Jf(t,e,r){if(!hh(e)){return}var i=e.dataType;var a=t.getData(i);var n=fs(a,e);if(!J(n)){n=[n]}t[e.type===yf?"toggleSelect":e.type===df?"select":"unselect"](n,i)}function $f(t){var e=t.getAllData();H(e,function(e){var r=e.data,i=e.type;r.eachItemGraphicEl(function(e,r){t.isSelected(r,i)?Gf(e):Hf(e)})})}function Qf(t){var e=[];t.eachSeries(function(t){var r=t.getAllData();H(r,function(r){var i=r.data,a=r.type;var n=t.getSelectedDataIndices();if(n.length>0){var o={dataIndex:n,seriesIndex:t.seriesIndex};if(a!=null){o.dataType=a}e.push(o)}})});return e}function th(t,e,r){sh(t,true);Cf(t,Rf);ih(t,e,r)}function eh(t){sh(t,false)}function rh(t,e,r,i){i?eh(t):th(t,e,r)}function ih(t,e,r){var i=Qu(t);if(e!=null){i.focus=e;i.blurScope=r}else if(i.focus){i.focus=null}}var ah=["emphasis","blur","select"];var nh={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function oh(t,e,r,i){r=r||"itemStyle";for(var a=0;a<ah.length;a++){var n=ah[a];var o=e.getModel([n,r]);var s=t.ensureState(n);s.style=i?i(o):o[nh[r]]()}}function sh(t,e){var r=e===false;var i=t;if(t.highDownSilentOnTouch){i.__highDownSilentOnTouch=t.highDownSilentOnTouch}if(!r||i.__highDownDispatcher){i.__highByOuter=i.__highByOuter||0;i.__highDownDispatcher=!r}}function lh(t){return!!(t&&t.__highDownDispatcher)}function uh(t,e,r){var i=Qu(t);i.componentMainType=e.mainType;i.componentIndex=e.componentIndex;i.componentHighDownName=r}function fh(t){var e=rf[t];if(e==null&&ef<=32){e=rf[t]=ef++}return e}function hh(t){var e=t.type;return e===df||e===gf||e===yf}function vh(t){var e=t.type;return e===cf||e===pf}function ch(t){var e=af(t);e.normalFill=t.style.fill;e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null;e.selectStroke=r.style&&r.style.stroke||null}var ph=Kl.CMD;var dh=[[],[],[]];var gh=Math.sqrt;var yh=Math.atan2;function mh(t,e){if(!e){return}var r=t.data;var i=t.len();var a;var n;var o;var s;var l;var u;var f=ph.M;var h=ph.C;var v=ph.L;var c=ph.R;var p=ph.A;var d=ph.Q;for(o=0,s=0;o<i;){a=r[o++];s=o;n=0;switch(a){case f:n=1;break;case v:n=1;break;case h:n=3;break;case d:n=2;break;case p:var g=e[4];var y=e[5];var m=gh(e[0]*e[0]+e[1]*e[1]);var x=gh(e[2]*e[2]+e[3]*e[3]);var _=yh(-e[1]/x,e[0]/m);r[o]*=m;r[o++]+=g;r[o]*=x;r[o++]+=y;r[o++]*=m;r[o++]*=x;r[o++]+=_;r[o++]+=_;o+=2;s=o;break;case c:u[0]=r[o++];u[1]=r[o++];te(u,u,e);r[s++]=u[0];r[s++]=u[1];u[0]+=r[o++];u[1]+=r[o++];te(u,u,e);r[s++]=u[0];r[s++]=u[1]}for(l=0;l<n;l++){var w=dh[l];w[0]=r[o++];w[1]=r[o++];te(w,w,e);r[s++]=w[0];r[s++]=w[1]}}t.increaseVersion()}var xh=Math.sqrt;var _h=Math.sin;var wh=Math.cos;var bh=Math.PI;function Sh(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Mh(t,e){return(t[0]*e[0]+t[1]*e[1])/(Sh(t)*Sh(e))}function Ih(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Mh(t,e))}function Th(t,e,r,i,a,n,o,s,l,u,f){var h=l*(bh/180);var v=wh(h)*(t-r)/2+_h(h)*(e-i)/2;var c=-1*_h(h)*(t-r)/2+wh(h)*(e-i)/2;var p=v*v/(o*o)+c*c/(s*s);if(p>1){o*=xh(p);s*=xh(p)}var d=(a===n?-1:1)*xh((o*o*(s*s)-o*o*(c*c)-s*s*(v*v))/(o*o*(c*c)+s*s*(v*v)))||0;var g=d*o*c/s;var y=d*-s*v/o;var m=(t+r)/2+wh(h)*g-_h(h)*y;var x=(e+i)/2+_h(h)*g+wh(h)*y;var _=Ih([1,0],[(v-g)/o,(c-y)/s]);var w=[(v-g)/o,(c-y)/s];var b=[(-1*v-g)/o,(-1*c-y)/s];var S=Ih(w,b);if(Mh(w,b)<=-1){S=bh}if(Mh(w,b)>=1){S=0}if(S<0){var M=Math.round(S/bh*1e6)/1e6;S=bh*2+M%2*bh}f.addData(u,m,x,o,s,_,S,h,n)}var Ch=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi;var Dh=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Ah(t){var e=new Kl;if(!t){return e}var r=0;var i=0;var a=r;var n=i;var o;var s=Kl.CMD;var l=t.match(Ch);if(!l){return e}for(var u=0;u<l.length;u++){var f=l[u];var h=f.charAt(0);var v=void 0;var c=f.match(Dh)||[];var p=c.length;for(var d=0;d<p;d++){c[d]=parseFloat(c[d])}var g=0;while(g<p){var y=void 0;var m=void 0;var x=void 0;var _=void 0;var w=void 0;var b=void 0;var S=void 0;var M=r;var I=i;var T=void 0;var C=void 0;switch(h){case"l":r+=c[g++];i+=c[g++];v=s.L;e.addData(v,r,i);break;case"L":r=c[g++];i=c[g++];v=s.L;e.addData(v,r,i);break;case"m":r+=c[g++];i+=c[g++];v=s.M;e.addData(v,r,i);a=r;n=i;h="l";break;case"M":r=c[g++];i=c[g++];v=s.M;e.addData(v,r,i);a=r;n=i;h="L";break;case"h":r+=c[g++];v=s.L;e.addData(v,r,i);break;case"H":r=c[g++];v=s.L;e.addData(v,r,i);break;case"v":i+=c[g++];v=s.L;e.addData(v,r,i);break;case"V":i=c[g++];v=s.L;e.addData(v,r,i);break;case"C":v=s.C;e.addData(v,c[g++],c[g++],c[g++],c[g++],c[g++],c[g++]);r=c[g-2];i=c[g-1];break;case"c":v=s.C;e.addData(v,c[g++]+r,c[g++]+i,c[g++]+r,c[g++]+i,c[g++]+r,c[g++]+i);r+=c[g-2];i+=c[g-1];break;case"S":y=r;m=i;T=e.len();C=e.data;if(o===s.C){y+=r-C[T-4];m+=i-C[T-3]}v=s.C;M=c[g++];I=c[g++];r=c[g++];i=c[g++];e.addData(v,y,m,M,I,r,i);break;case"s":y=r;m=i;T=e.len();C=e.data;if(o===s.C){y+=r-C[T-4];m+=i-C[T-3]}v=s.C;M=r+c[g++];I=i+c[g++];r+=c[g++];i+=c[g++];e.addData(v,y,m,M,I,r,i);break;case"Q":M=c[g++];I=c[g++];r=c[g++];i=c[g++];v=s.Q;e.addData(v,M,I,r,i);break;case"q":M=c[g++]+r;I=c[g++]+i;r+=c[g++];i+=c[g++];v=s.Q;e.addData(v,M,I,r,i);break;case"T":y=r;m=i;T=e.len();C=e.data;if(o===s.Q){y+=r-C[T-4];m+=i-C[T-3]}r=c[g++];i=c[g++];v=s.Q;e.addData(v,y,m,r,i);break;case"t":y=r;m=i;T=e.len();C=e.data;if(o===s.Q){y+=r-C[T-4];m+=i-C[T-3]}r+=c[g++];i+=c[g++];v=s.Q;e.addData(v,y,m,r,i);break;case"A":x=c[g++];_=c[g++];w=c[g++];b=c[g++];S=c[g++];M=r,I=i;r=c[g++];i=c[g++];v=s.A;Th(M,I,r,i,b,S,x,_,w,v,e);break;case"a":x=c[g++];_=c[g++];w=c[g++];b=c[g++];S=c[g++];M=r,I=i;r+=c[g++];i+=c[g++];v=s.A;Th(M,I,r,i,b,S,x,_,w,v,e);break}}if(h==="z"||h==="Z"){v=s.Z;e.addData(v);r=a;i=n}o=v}e.toStatic();return e}var kh=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.applyTransform=function(t){};return e}(wu);function Lh(t){return t.setData!=null}function Ph(t,e){var r=Ah(t);var i=N({},e);i.buildPath=function(t){if(Lh(t)){t.setData(r.data);var e=t.getContext();if(e){t.rebuildPath(e,1)}}else{var e=t;r.rebuildPath(e,1)}};i.applyTransform=function(t){mh(r,t);this.dirtyShape()};return i}function Oh(t,e){return new kh(Ph(t,e))}function Rh(t,e){var r=Ph(t,e);var a=function(t){i(e,t);function e(e){var i=t.call(this,e)||this;i.applyTransform=r.applyTransform;i.buildPath=r.buildPath;return i}return e}(kh);return a}function Nh(t,e){var r=[];var i=t.length;for(var a=0;a<i;a++){var n=t[a];r.push(n.getUpdatedPathProxy(true))}var o=new wu(e);o.createPathProxy();o.buildPath=function(t){if(Lh(t)){t.appendPath(r);var e=t.getContext();if(e){t.rebuildPath(e,1)}}};return o}function Eh(t,e){e=e||{};var r=new wu;if(t.shape){r.setShape(t.shape)}r.setStyle(t.style);if(e.bakeTransform){mh(r.path,t.getComputedTransform())}else{if(e.toLocal){r.setLocalTransform(t.getComputedTransform())}else{r.copyTransform(t)}}r.buildPath=t.buildPath;r.applyTransform=r.applyTransform;r.z=t.z;r.z2=t.z2;r.zlevel=t.zlevel;return r}var zh=function(){function t(){this.cx=0;this.cy=0;this.r=0}return t}();var Vh=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new zh};e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy);t.arc(e.cx,e.cy,e.r,0,Math.PI*2)};return e}(wu);Vh.prototype.type="circle";var Bh=function(){function t(){this.cx=0;this.cy=0;this.rx=0;this.ry=0}return t}();var Fh=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Bh};e.prototype.buildPath=function(t,e){var r=.5522848;var i=e.cx;var a=e.cy;var n=e.rx;var o=e.ry;var s=n*r;var l=o*r;t.moveTo(i-n,a);t.bezierCurveTo(i-n,a-l,i-s,a-o,i,a-o);t.bezierCurveTo(i+s,a-o,i+n,a-l,i+n,a);t.bezierCurveTo(i+n,a+l,i+s,a+o,i,a+o);t.bezierCurveTo(i-s,a+o,i-n,a+l,i-n,a);t.closePath()};return e}(wu);Fh.prototype.type="ellipse";var Gh=Math.PI;var Hh=Gh*2;var Wh=Math.sin;var Uh=Math.cos;var Yh=Math.acos;var Xh=Math.atan2;var Zh=Math.abs;var jh=Math.sqrt;var qh=Math.max;var Kh=Math.min;var Jh=1e-4;function $h(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var v=h*l-f*u;if(v*v<Jh){return}v=(f*(e-n)-h*(t-a))/v;return[t+v*l,e+v*u]}function Qh(t,e,r,i,a,n,o){var s=t-r;var l=e-i;var u=(o?n:-n)/jh(s*s+l*l);var f=u*l;var h=-u*s;var v=t+f;var c=e+h;var p=r+f;var d=i+h;var g=(v+p)/2;var y=(c+d)/2;var m=p-v;var x=d-c;var _=m*m+x*x;var w=a-n;var b=v*d-p*c;var S=(x<0?-1:1)*jh(qh(0,w*w*_-b*b));var M=(b*x-m*S)/_;var I=(-b*m-x*S)/_;var T=(b*x+m*S)/_;var C=(-b*m+x*S)/_;var D=M-g;var A=I-y;var k=T-g;var L=C-y;if(D*D+A*A>k*k+L*L){M=T;I=C}return{cx:M,cy:I,x0:-f,y0:-h,x1:M*(a/w-1),y1:I*(a/w-1)}}function tv(t){var e;if(J(t)){var r=t.length;if(!r){return t}if(r===1){e=[t[0],t[0],0,0]}else if(r===2){e=[t[0],t[0],t[1],t[1]]}else if(r===3){e=t.concat(t[2])}else{e=t}}else{e=[t,t,t,t]}return e}function ev(t,e){var r;var i=qh(e.r,0);var a=qh(e.r0||0,0);var n=i>0;var o=a>0;if(!n&&!o){return}if(!n){i=a;a=0}if(a>i){var s=i;i=a;a=s}var l=e.startAngle,u=e.endAngle;if(isNaN(l)||isNaN(u)){return}var f=e.cx,h=e.cy;var v=!!e.clockwise;var c=Zh(u-l);var p=c>Hh&&c%Hh;p>Jh&&(c=p);if(!(i>Jh)){t.moveTo(f,h)}else if(c>Hh-Jh){t.moveTo(f+i*Uh(l),h+i*Wh(l));t.arc(f,h,i,l,u,!v);if(a>Jh){t.moveTo(f+a*Uh(u),h+a*Wh(u));t.arc(f,h,a,u,l,v)}}else{var d=void 0;var g=void 0;var y=void 0;var m=void 0;var x=void 0;var _=void 0;var w=void 0;var b=void 0;var S=void 0;var M=void 0;var I=void 0;var T=void 0;var C=void 0;var D=void 0;var A=void 0;var k=void 0;var L=i*Uh(l);var P=i*Wh(l);var O=a*Uh(u);var R=a*Wh(u);var N=c>Jh;if(N){var E=e.cornerRadius;if(E){r=tv(E),d=r[0],g=r[1],y=r[2],m=r[3]}var z=Zh(i-a)/2;x=Kh(z,y);_=Kh(z,m);w=Kh(z,d);b=Kh(z,g);I=S=qh(x,_);T=M=qh(w,b);if(S>Jh||M>Jh){C=i*Uh(u);D=i*Wh(u);A=a*Uh(l);k=a*Wh(l);if(c<Gh){var V=$h(L,P,A,k,C,D,O,R);if(V){var B=L-V[0];var F=P-V[1];var G=C-V[0];var H=D-V[1];var W=1/Wh(Yh((B*G+F*H)/(jh(B*B+F*F)*jh(G*G+H*H)))/2);var U=jh(V[0]*V[0]+V[1]*V[1]);I=Kh(S,(i-U)/(W+1));T=Kh(M,(a-U)/(W-1))}}}}if(!N){t.moveTo(f+L,h+P)}else if(I>Jh){var Y=Kh(y,I);var X=Kh(m,I);var Z=Qh(A,k,L,P,i,Y,v);var j=Qh(C,D,O,R,i,X,v);t.moveTo(f+Z.cx+Z.x0,h+Z.cy+Z.y0);if(I<S&&Y===X){t.arc(f+Z.cx,h+Z.cy,I,Xh(Z.y0,Z.x0),Xh(j.y0,j.x0),!v)}else{Y>0&&t.arc(f+Z.cx,h+Z.cy,Y,Xh(Z.y0,Z.x0),Xh(Z.y1,Z.x1),!v);t.arc(f,h,i,Xh(Z.cy+Z.y1,Z.cx+Z.x1),Xh(j.cy+j.y1,j.cx+j.x1),!v);X>0&&t.arc(f+j.cx,h+j.cy,X,Xh(j.y1,j.x1),Xh(j.y0,j.x0),!v)}}else{t.moveTo(f+L,h+P);t.arc(f,h,i,l,u,!v)}if(!(a>Jh)||!N){t.lineTo(f+O,h+R)}else if(T>Jh){var Y=Kh(d,T);var X=Kh(g,T);var Z=Qh(O,R,C,D,a,-X,v);var j=Qh(L,P,A,k,a,-Y,v);t.lineTo(f+Z.cx+Z.x0,h+Z.cy+Z.y0);if(T<M&&Y===X){t.arc(f+Z.cx,h+Z.cy,T,Xh(Z.y0,Z.x0),Xh(j.y0,j.x0),!v)}else{X>0&&t.arc(f+Z.cx,h+Z.cy,X,Xh(Z.y0,Z.x0),Xh(Z.y1,Z.x1),!v);t.arc(f,h,a,Xh(Z.cy+Z.y1,Z.cx+Z.x1),Xh(j.cy+j.y1,j.cx+j.x1),v);Y>0&&t.arc(f+j.cx,h+j.cy,Y,Xh(j.y1,j.x1),Xh(j.y0,j.x0),!v)}}else{t.lineTo(f+O,h+R);t.arc(f,h,a,u,l,v)}}t.closePath()}var rv=function(){function t(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true;this.cornerRadius=0}return t}();var iv=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new rv};e.prototype.buildPath=function(t,e){ev(t,e)};e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0};return e}(wu);iv.prototype.type="sector";var av=function(){function t(){this.cx=0;this.cy=0;this.r=0;this.r0=0}return t}();var nv=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new av};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.PI*2;t.moveTo(r+e.r,i);t.arc(r,i,e.r,0,a,false);t.moveTo(r+e.r0,i);t.arc(r,i,e.r0,0,a,true)};return e}(wu);nv.prototype.type="ring";function ov(t,e,r,i){var a=[];var n=[];var o=[];var s=[];var l;var u;var f;var h;if(i){f=[Infinity,Infinity];h=[-Infinity,-Infinity];for(var v=0,c=t.length;v<c;v++){ee(f,f,t[v]);re(h,h,t[v])}ee(f,f,i[0]);re(h,h,i[1])}for(var v=0,c=t.length;v<c;v++){var p=t[v];if(r){l=t[v?v-1:c-1];u=t[(v+1)%c]}else{if(v===0||v===c-1){a.push(Rt(t[v]));continue}else{l=t[v-1];u=t[v+1]}}Vt(n,u,l);Xt(n,n,e);var d=jt(p,l);var g=jt(p,u);var y=d+g;if(y!==0){d/=y;g/=y}Xt(o,n,-d);Xt(s,n,g);var m=Et([],p,o);var x=Et([],p,s);if(i){re(m,m,f);ee(m,m,h);re(x,x,f);ee(x,x,h)}a.push(m);a.push(x)}if(r){a.push(a.shift())}return a}function sv(t,e,r){var i=e.smooth;var a=e.points;if(a&&a.length>=2){if(i){var n=ov(a,i,r,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);var o=a.length;for(var s=0;s<(r?o:o-1);s++){var l=n[s*2];var u=n[s*2+1];var f=a[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],f[0],f[1])}}else{t.moveTo(a[0][0],a[0][1]);for(var s=1,h=a.length;s<h;s++){t.lineTo(a[s][0],a[s][1])}}r&&t.closePath()}}var lv=function(){function t(){this.points=null;this.smooth=0;this.smoothConstraint=null}return t}();var uv=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new lv};e.prototype.buildPath=function(t,e){sv(t,e,true)};return e}(wu);uv.prototype.type="polygon";var fv=function(){function t(){this.points=null;this.percent=1;this.smooth=0;this.smoothConstraint=null}return t}();var hv=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new fv};e.prototype.buildPath=function(t,e){sv(t,e,false)};return e}(wu);hv.prototype.type="polyline";var vv={};var cv=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return t}();var pv=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new cv};e.prototype.buildPath=function(t,e){var r;var i;var a;var n;if(this.subPixelOptimize){var o=ku(vv,e,this.style);r=o.x1;i=o.y1;a=o.x2;n=o.y2}else{r=e.x1;i=e.y1;a=e.x2;n=e.y2}var s=e.percent;if(s===0){return}t.moveTo(r,i);if(s<1){a=r*(1-s)+a*s;n=i*(1-s)+n*s}t.lineTo(a,n)};e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]};return e}(wu);pv.prototype.type="line";var dv=[];var gv=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.percent=1}return t}();function yv(t,e,r){var i=t.cpx2;var a=t.cpy2;if(i!=null||a!=null){return[(r?Yr:Ur)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?Yr:Ur)(t.y1,t.cpy1,t.cpy2,t.y2,e)]}else{return[(r?$r:Jr)(t.x1,t.cpx1,t.x2,e),(r?$r:Jr)(t.y1,t.cpy1,t.y2,e)]}}var mv=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new gv};e.prototype.buildPath=function(t,e){var r=e.x1;var i=e.y1;var a=e.x2;var n=e.y2;var o=e.cpx1;var s=e.cpy1;var l=e.cpx2;var u=e.cpy2;var f=e.percent;if(f===0){return}t.moveTo(r,i);if(l==null||u==null){if(f<1){ei(r,o,a,f,dv);o=dv[1];a=dv[2];ei(i,s,n,f,dv);s=dv[1];n=dv[2]}t.quadraticCurveTo(o,s,a,n)}else{if(f<1){jr(r,o,l,a,f,dv);o=dv[1];l=dv[2];a=dv[3];jr(i,s,u,n,f,dv);s=dv[1];u=dv[2];n=dv[3]}t.bezierCurveTo(o,s,l,u,a,n)}};e.prototype.pointAt=function(t){return yv(this.shape,t,false)};e.prototype.tangentAt=function(t){var e=yv(this.shape,t,true);return Zt(e,e)};return e}(wu);mv.prototype.type="bezier-curve";var xv=function(){function t(){this.cx=0;this.cy=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return t}();var _v=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new xv};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.max(e.r,0);var n=e.startAngle;var o=e.endAngle;var s=e.clockwise;var l=Math.cos(n);var u=Math.sin(n);t.moveTo(l*a+r,u*a+i);t.arc(r,i,a,n,o,!s)};return e}(wu);_v.prototype.type="arc";var wv=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="compound";return e}e.prototype._updatePathDirty=function(){var t=this.shape.paths;var e=this.shapeChanged();for(var r=0;r<t.length;r++){e=e||t[r].shapeChanged()}if(e){this.dirtyShape()}};e.prototype.beforeBrush=function(){this._updatePathDirty();var t=this.shape.paths||[];var e=this.getGlobalScale();for(var r=0;r<t.length;r++){if(!t[r].path){t[r].createPathProxy()}t[r].path.setScale(e[0],e[1],t[r].segmentIgnoreThreshold)}};e.prototype.buildPath=function(t,e){var r=e.paths||[];for(var i=0;i<r.length;i++){r[i].buildPath(t,r[i].shape,true)}};e.prototype.afterBrush=function(){var t=this.shape.paths||[];for(var e=0;e<t.length;e++){t[e].pathUpdated()}};e.prototype.getBoundingRect=function(){this._updatePathDirty.call(this);return wu.prototype.getBoundingRect.call(this)};return e}(wu);var bv=function(){function t(t){this.colorStops=t||[]}t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})};return t}();var Sv=function(t){i(e,t);function e(e,r,i,a,n,o){var s=t.call(this,n)||this;s.x=e==null?0:e;s.y=r==null?0:r;s.x2=i==null?1:i;s.y2=a==null?0:a;s.type="linear";s.global=o||false;return s}return e}(bv);var Mv=function(t){i(e,t);function e(e,r,i,a,n){var o=t.call(this,a)||this;o.x=e==null?.5:e;o.y=r==null?.5:r;o.r=i==null?.5:i;o.type="radial";o.global=n||false;return o}return e}(bv);var Iv=[0,0];var Tv=[0,0];var Cv=new Xe;var Dv=new Xe;var Av=function(){function t(t,e){this._corners=[];this._axes=[];this._origin=[0,0];for(var r=0;r<4;r++){this._corners[r]=new Xe}for(var r=0;r<2;r++){this._axes[r]=new Xe}if(t){this.fromBoundingRect(t,e)}}t.prototype.fromBoundingRect=function(t,e){var r=this._corners;var i=this._axes;var a=t.x;var n=t.y;var o=a+t.width;var s=n+t.height;r[0].set(a,n);r[1].set(o,n);r[2].set(o,s);r[3].set(a,s);if(e){for(var l=0;l<4;l++){r[l].transform(e)}}Xe.sub(i[0],r[1],r[0]);Xe.sub(i[1],r[3],r[0]);i[0].normalize();i[1].normalize();for(var l=0;l<2;l++){this._origin[l]=i[l].dot(r[0])}};t.prototype.intersect=function(t,e){var r=true;var i=!e;Cv.set(Infinity,Infinity);Dv.set(0,0);if(!this._intersectCheckOneSide(this,t,Cv,Dv,i,1)){r=false;if(i){return r}}if(!this._intersectCheckOneSide(t,this,Cv,Dv,i,-1)){r=false;if(i){return r}}if(!i){Xe.copy(e,r?Cv:Dv)}return r};t.prototype._intersectCheckOneSide=function(t,e,r,i,a,n){var o=true;for(var s=0;s<2;s++){var l=this._axes[s];this._getProjMinMaxOnAxis(s,t._corners,Iv);this._getProjMinMaxOnAxis(s,e._corners,Tv);if(Iv[1]<Tv[0]||Iv[0]>Tv[1]){o=false;if(a){return o}var u=Math.abs(Tv[0]-Iv[1]);var f=Math.abs(Iv[0]-Tv[1]);if(Math.min(u,f)>i.len()){if(u<f){Xe.scale(i,l,-u*n)}else{Xe.scale(i,l,f*n)}}}else if(r){var u=Math.abs(Tv[0]-Iv[1]);var f=Math.abs(Iv[0]-Tv[1]);if(Math.min(u,f)<r.len()){if(u<f){Xe.scale(r,l,u*n)}else{Xe.scale(r,l,-f*n)}}}}return o};t.prototype._getProjMinMaxOnAxis=function(t,e,r){var i=this._axes[t];var a=this._origin;var n=e[0].dot(i)+a[t];var o=n;var s=n;for(var l=1;l<e.length;l++){var u=e[l].dot(i)+a[t];o=Math.min(u,o);s=Math.max(u,s)}r[0]=o;r[1]=s};return t}();var kv=[];var Lv=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.notClear=true;e.incremental=true;e._displayables=[];e._temporaryDisplayables=[];e._cursor=0;return e}e.prototype.traverse=function(t,e){t.call(e,this)};e.prototype.useStyle=function(){this.style={}};e.prototype.getCursor=function(){return this._cursor};e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length};e.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.markRedraw();this.notClear=false};e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]};e.prototype.addDisplayable=function(t,e){if(e){this._temporaryDisplayables.push(t)}else{this._displayables.push(t)}this.markRedraw()};e.prototype.addDisplayables=function(t,e){e=e||false;for(var r=0;r<t.length;r++){this.addDisplayable(t[r],e)}};e.prototype.getDisplayables=function(){return this._displayables};e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables};e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++){t&&t(this._displayables[e])}for(var e=0;e<this._temporaryDisplayables.length;e++){t&&t(this._temporaryDisplayables[e])}};e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this;e.update();e.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this;e.update();e.parent=null}};e.prototype.getBoundingRect=function(){if(!this._rect){var t=new er(Infinity,Infinity,-Infinity,-Infinity);for(var e=0;e<this._displayables.length;e++){var r=this._displayables[e];var i=r.getBoundingRect().clone();if(r.needLocalTransform()){i.applyTransform(r.getLocalTransform(kv))}t.union(i)}this._rect=t}return this._rect};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();if(i.contain(r[0],r[1])){for(var a=0;a<this._displayables.length;a++){var n=this._displayables[a];if(n.contain(t,e)){return true}}}return false};return e}(cl);var Pv=hs();function Ov(t,e,r,i,a){var n;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();n=o&&o.animation}var s=e&&e.isAnimationEnabled();var l=t==="update";if(s){var u=void 0;var f=void 0;var h=void 0;if(i){u=ht(i.duration,200);f=ht(i.easing,"cubicOut");h=0}else{u=e.getShallow(l?"animationDurationUpdate":"animationDuration");f=e.getShallow(l?"animationEasingUpdate":"animationEasing");h=e.getShallow(l?"animationDelayUpdate":"animationDelay")}if(n){n.duration!=null&&(u=n.duration);n.easing!=null&&(f=n.easing);n.delay!=null&&(h=n.delay)}if($(h)){h=h(r,a)}if($(u)){u=u(r)}var v={duration:u||0,delay:h,easing:f};return v}else{return null}}function Rv(t,e,r,i,a,n,o){var s=false;var l;if($(a)){o=n;n=a;a=null}else if(rt(a)){n=a.cb;o=a.during;s=a.isFrom;l=a.removeOpt;a=a.dataIndex}var u=t==="leave";if(!u){e.stopAnimation("leave")}var f=Ov(t,i,a,u?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,a):null);if(f&&f.duration>0){var h=f.duration;var v=f.delay;var c=f.easing;var p={duration:h,delay:v||0,easing:c,done:n,force:!!n||!!o,setToFinal:!u,scope:t,during:o};s?e.animateFrom(r,p):e.animateTo(r,p)}else{e.stopAnimation();!s&&e.attr(r);o&&o(1);n&&n()}}function Nv(t,e,r,i,a,n){Rv("update",t,e,r,i,a,n)}function Ev(t,e,r,i,a,n){Rv("enter",t,e,r,i,a,n)}function zv(t){if(!t.__zr){return true}for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave"){return true}}return false}function Vv(t,e,r,i,a,n){if(zv(t)){return}Rv("leave",t,e,r,i,a,n)}function Bv(t,e,r,i){t.removeTextContent();t.removeTextGuideLine();Vv(t,{style:{opacity:0}},e,r,i)}function Fv(t,e,r){function i(){t.parent&&t.parent.remove(t)}if(!t.isGroup){Bv(t,e,r,i)}else{t.traverse(function(t){if(!t.isGroup){Bv(t,e,r,i)}})}}function Gv(t){Pv(t).oldStyle=t.style}function Hv(t){return Pv(t).oldStyle}var Wv=Math.max;var Uv=Math.min;var Yv={};function Xv(t){return wu.extend(t)}var Zv=Rh;function jv(t,e){return Zv(t,e)}function qv(t,e){Yv[t]=e}function Kv(t){if(Yv.hasOwnProperty(t)){return Yv[t]}}function Jv(t,e,r,i){var a=Oh(t,e);if(r){if(i==="center"){r=Qv(r,a.getBoundingRect())}ec(a,r)}return a}function $v(t,e,r){var i=new Cu({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if(r==="center"){var a={width:t.width,height:t.height};i.setStyle(Qv(e,a))}}});return i}function Qv(t,e){var r=e.width/e.height;var i=t.height*r;var a;if(i<=t.width){a=t.height}else{i=t.width;a=i/r}var n=t.x+t.width/2;var o=t.y+t.height/2;return{x:n-i/2,y:o-a/2,width:i,height:a}}var tc=Nh;function ec(t,e){if(!t.applyTransform){return}var r=t.getBoundingRect();var i=r.calculateTransform(e);t.applyTransform(i)}function rc(t,e){ku(t,t,{lineWidth:e});return t}function ic(t){Lu(t.shape,t.shape,t.style);return t}var ac=Pu;function nc(t,e){var r=ze([]);while(t&&t!==e){Be(r,t.getLocalTransform(),r);t=t.parent}return r}function oc(t,e,r){if(e&&!G(e)){e=hn.getLocalTransform(e)}if(r){e=We([],e)}return te([],t,e)}function sc(t,e,r){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]);var a=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]);var n=[t==="left"?-i:t==="right"?i:0,t==="top"?-a:t==="bottom"?a:0];n=oc(n,e,r);return Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function lc(t){return!t.isGroup}function uc(t){return t.shape!=null}function fc(t,e,r){if(!t||!e){return}function i(t){var e={};t.traverse(function(t){if(lc(t)&&t.anid){e[t.anid]=t}});return e}function a(t){var e={x:t.x,y:t.y,rotation:t.rotation};if(uc(t)){e.shape=N({},t.shape)}return e}var n=i(t);e.traverse(function(t){if(lc(t)&&t.anid){var e=n[t.anid];if(e){var i=a(t);t.attr(a(e));Nv(t,i,r,Qu(t).dataIndex)}}})}function hc(t,e){return W(t,function(t){var r=t[0];r=Wv(r,e.x);r=Uv(r,e.x+e.width);var i=t[1];i=Wv(i,e.y);i=Uv(i,e.y+e.height);return[r,i]})}function vc(t,e){var r=Wv(t.x,e.x);var i=Uv(t.x+t.width,e.x+e.width);var a=Wv(t.y,e.y);var n=Uv(t.y+t.height,e.y+e.height);if(i>=r&&n>=a){return{x:r,y:a,width:i-r,height:n-a}}}function cc(t,e,r){var i=N({rectHover:true},e);var a=i.style={strokeNoScale:true};r=r||{x:-1,y:-1,width:2,height:2};if(t){return t.indexOf("image://")===0?(a.image=t.slice(8),E(a,r),new Cu(i)):Jv(t.replace("path://",""),i,r,"center")}}function pc(t,e,r,i,a){for(var n=0,o=a[a.length-1];n<a.length;n++){var s=a[n];if(dc(t,e,r,i,s[0],s[1],o[0],o[1])){return true}o=s}}function dc(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var v=gc(f,h,l,u);if(yc(v)){return false}var c=t-a;var p=e-n;var d=gc(c,p,l,u)/v;if(d<0||d>1){return false}var g=gc(c,p,f,h)/v;if(g<0||g>1){return false}return true}function gc(t,e,r,i){return t*i-r*e}function yc(t){return t<=1e-6&&t>=-1e-6}function mc(t){var e=t.itemTooltipOption;var r=t.componentModel;var i=t.itemName;var a=Q(e)?{formatter:e}:e;var n=r.mainType;var o=r.componentIndex;var s={componentType:n,name:i,$vars:["name"]};s[n+"Index"]=o;var l=t.formatterParamsExtra;if(l){H(Z(l),function(t){if(!Dt(s,t)){s[t]=l[t];s.$vars.push(t)}})}var u=Qu(t.el);u.componentMainType=n;u.componentIndex=o;u.tooltipConfig={name:i,option:E({content:i,encodeHTMLContent:true,formatterParams:s},a)}}function xc(t,e){var r;if(t.isGroup){r=e(t)}if(!r){t.traverse(e)}}function _c(t,e){if(t){if(J(t)){for(var r=0;r<t.length;r++){xc(t[r],e)}}else{xc(t,e)}}}qv("circle",Vh);qv("ellipse",Fh);qv("sector",iv);qv("ring",nv);qv("polygon",uv);qv("polyline",hv);qv("rect",Nu);qv("line",pv);qv("bezierCurve",mv);qv("arc",_v);var wc=Object.freeze({__proto__:null,updateProps:Nv,initProps:Ev,removeElement:Vv,removeElementWithFadeOut:Fv,isElementRemoved:zv,extendShape:Xv,extendPath:jv,registerShape:qv,getShapeClass:Kv,makePath:Jv,makeImage:$v,mergePath:tc,resizePath:ec,subPixelOptimizeLine:rc,subPixelOptimizeRect:ic,subPixelOptimize:ac,getTransform:nc,applyTransform:oc,transformDirection:sc,groupTransition:fc,clipPointsByRect:hc,clipRectByRect:vc,createIcon:cc,linePolygonIntersect:pc,lineLineIntersect:dc,setTooltipConfig:mc,traverseElements:_c,Group:En,Image:Cu,Text:Bu,Circle:Vh,Ellipse:Fh,Sector:iv,Ring:nv,Polygon:uv,Polyline:hv,Rect:Nu,Line:pv,BezierCurve:mv,Arc:_v,IncrementalDisplayable:Lv,CompoundPath:wv,LinearGradient:Sv,RadialGradient:Mv,BoundingRect:er,OrientedBoundingRect:Av,Point:Xe,Path:wu});var bc={};function Sc(t,e){for(var r=0;r<uf.length;r++){var i=uf[r];var a=e[i];var n=t.ensureState(i);n.style=n.style||{};n.style.text=a}var o=t.currentStates.slice();t.clearStates(true);t.setStyle({text:e.normal});t.useStates(o,true)}function Mc(t,e,r){var i=t.labelFetcher;var a=t.labelDataIndex;var n=t.labelDimIndex;var o=e.normal;var s;if(i){s=i.getFormattedLabel(a,"normal",null,n,o&&o.get("formatter"),r!=null?{interpolatedValue:r}:null)}if(s==null){s=$(t.defaultText)?t.defaultText(a,t,r):t.defaultText}var l={normal:s};for(var u=0;u<uf.length;u++){var f=uf[u];var h=e[f];l[f]=ht(i?i.getFormattedLabel(a,f,null,n,h&&h.get("formatter")):null,s)}return l}function Ic(t,e,r,i){r=r||bc;var a=t instanceof Bu;var n=false;for(var o=0;o<ff.length;o++){var s=e[ff[o]];if(s&&s.getShallow("show")){n=true;break}}var l=a?t:t.getTextContent();if(n){if(!a){if(!l){l=new Bu;t.setTextContent(l)}if(t.stateProxy){l.stateProxy=t.stateProxy}}var u=Mc(r,e);var f=e.normal;var h=!!f.getShallow("show");var v=Cc(f,i&&i.normal,r,false,!a);v.text=u.normal;if(!a){t.setTextConfig(Dc(f,r,false))}for(var o=0;o<uf.length;o++){var c=uf[o];var s=e[c];if(s){var p=l.ensureState(c);var d=!!ht(s.getShallow("show"),h);if(d!==h){p.ignore=!d}p.style=Cc(s,i&&i[c],r,true,!a);p.style.text=u[c];if(!a){var g=t.ensureState(c);g.textConfig=Dc(s,r,true)}}}l.silent=!!f.getShallow("silent");if(l.style.x!=null){v.x=l.style.x}if(l.style.y!=null){v.y=l.style.y}l.ignore=!h;l.useStyle(v);l.dirty();if(r.enableTextSetter){Ec(l).setLabelText=function(t){var i=Mc(r,e,t);Sc(l,i)}}}else if(l){l.ignore=true}t.dirty()}function Tc(t,e){e=e||"label";var r={normal:t.getModel(e)};for(var i=0;i<uf.length;i++){var a=uf[i];r[a]=t.getModel([a,e])}return r}function Cc(t,e,r,i,a){var n={};Ac(n,t,r,i,a);e&&N(n,e);return n}function Dc(t,e,r){e=e||{};var i={};var a;var n=t.getShallow("rotate");var o=ht(t.getShallow("distance"),r?null:5);var s=t.getShallow("offset");a=t.getShallow("position")||(r?null:"inside");a==="outside"&&(a=e.defaultOutsidePosition||"top");if(a!=null){i.position=a}if(s!=null){i.offset=s}if(n!=null){n*=Math.PI/180;i.rotation=n}if(o!=null){i.distance=o}i.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto";return i}function Ac(t,e,r,i,a){r=r||bc;var n=e.ecModel;var o=n&&n.option.textStyle;var s=kc(e);var l;if(s){l={};for(var u in s){if(s.hasOwnProperty(u)){var f=e.getModel(["rich",u]);Rc(l[u]={},f,o,r,i,a,false,true)}}}if(l){t.rich=l}var h=e.get("overflow");if(h){t.overflow=h}var v=e.get("minMargin");if(v!=null){t.margin=v}Rc(t,e,o,r,i,a,true,false)}function kc(t){var e;while(t&&t!==t.ecModel){var r=(t.option||bc).rich;if(r){e=e||{};var i=Z(r);for(var a=0;a<i.length;a++){var n=i[a];e[n]=1}}t=t.parentModel}return e}var Lc=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"];var Pc=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"];var Oc=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Rc(t,e,r,i,a,n,o,s){r=!a&&r||bc;var l=i&&i.inheritColor;var u=e.getShallow("color");var f=e.getShallow("textBorderColor");var h=ht(e.getShallow("opacity"),r.opacity);if(u==="inherit"||u==="auto"){if(true){if(u==="auto"){No("color: 'auto'","color: 'inherit'")}}if(l){u=l}else{u=null}}if(f==="inherit"||f==="auto"){if(true){if(f==="auto"){No("color: 'auto'","color: 'inherit'")}}if(l){f=l}else{f=null}}if(!n){u=u||r.color;f=f||r.textBorderColor}if(u!=null){t.fill=u}if(f!=null){t.stroke=f}var v=ht(e.getShallow("textBorderWidth"),r.textBorderWidth);if(v!=null){t.lineWidth=v}var c=ht(e.getShallow("textBorderType"),r.textBorderType);if(c!=null){t.lineDash=c}var p=ht(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);if(p!=null){t.lineDashOffset=p}if(!a&&h==null&&!s){h=i&&i.defaultOpacity}if(h!=null){t.opacity=h}if(!a&&!n){if(t.fill==null&&i.inheritColor){t.fill=i.inheritColor}}for(var d=0;d<Lc.length;d++){var g=Lc[d];var y=ht(e.getShallow(g),r[g]);if(y!=null){t[g]=y}}for(var d=0;d<Pc.length;d++){var g=Pc[d];var y=e.getShallow(g);if(y!=null){t[g]=y}}if(t.verticalAlign==null){var m=e.getShallow("baseline");if(m!=null){t.verticalAlign=m}}if(!o||!i.disableBox){for(var d=0;d<Oc.length;d++){var g=Oc[d];var y=e.getShallow(g);if(y!=null){t[g]=y}}var x=e.getShallow("borderType");if(x!=null){t.borderDash=x}if((t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l){if(true){if(t.backgroundColor==="auto"){No("backgroundColor: 'auto'","backgroundColor: 'inherit'")}}t.backgroundColor=l}if((t.borderColor==="auto"||t.borderColor==="inherit")&&l){if(true){if(t.borderColor==="auto"){No("borderColor: 'auto'","borderColor: 'inherit'")}}t.borderColor=l}}}function Nc(t,e){var r=e&&e.getModel("textStyle");return gt([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ec=hs();function zc(t,e,r,i){if(!t){return}var a=Ec(t);a.prevValue=a.value;a.value=r;var n=e.normal;a.valueAnimation=n.get("valueAnimation");if(a.valueAnimation){a.precision=n.get("precision");a.defaultInterpolatedText=i;a.statesModels=e}}function Vc(t,e,r,i,a){var n=Ec(t);if(!n.valueAnimation||n.prevValue===n.value){return}var o=n.defaultInterpolatedText;var s=ht(n.interpolatedValue,n.prevValue);var l=n.value;function u(i){var u=bs(r,n.precision,s,l,i);n.interpolatedValue=i===1?null:u;var f=Mc({labelDataIndex:e,labelFetcher:a,defaultText:o?o(u):u+""},n.statesModels,u);Sc(t,f)}t.percent=0;(n.prevValue==null?Ev:Nv)(t,{percent:1},i,e,null,u)}var Bc=["textStyle","color"];var Fc=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"];var Gc=new Bu;var Hc=function(){function t(){}t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Bc):null)};t.prototype.getFont=function(){return Nc({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)};t.prototype.getTextRect=function(t){var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")};for(var r=0;r<Fc.length;r++){e[Fc[r]]=this.getShallow(Fc[r])}Gc.useStyle(e);Gc.update();return Gc.getBoundingRect()};return t}();var Wc=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]];var Uc=zs(Wc);var Yc=function(){function t(){}t.prototype.getLineStyle=function(t){return Uc(this,t)};return t}();var Xc=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]];var Zc=zs(Xc);var jc=function(){function t(){}t.prototype.getItemStyle=function(t,e){return Zc(this,t,e)};return t}();var qc=function(){function t(t,e,r){this.parentModel=e;this.ecModel=r;this.option=t}t.prototype.init=function(t,e,r){var i=[];for(var a=3;a<arguments.length;a++){i[a-3]=arguments[a]}};t.prototype.mergeOption=function(t,e){O(this.option,t,true)};t.prototype.get=function(t,e){if(t==null){return this.option}return this._doGet(this.parsePath(t),!e&&this.parentModel)};t.prototype.getShallow=function(t,e){var r=this.option;var i=r==null?r:r[t];if(i==null&&!e){var a=this.parentModel;if(a){i=a.getShallow(t)}}return i};t.prototype.getModel=function(e,r){var i=e!=null;var a=i?this.parsePath(e):null;var n=i?this._doGet(a):this.option;r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a));return new t(n,r,this.ecModel)};t.prototype.isEmpty=function(){return this.option==null};t.prototype.restoreData=function(){};t.prototype.clone=function(){var t=this.constructor;return new t(P(this.option))};t.prototype.parsePath=function(t){if(typeof t==="string"){return t.split(".")}return t};t.prototype.resolveParentPath=function(t){return t};t.prototype.isAnimationEnabled=function(){if(!o.node&&this.option){if(this.option.animation!=null){return!!this.option.animation}else if(this.parentModel){return this.parentModel.isAnimationEnabled()}}};t.prototype._doGet=function(t,e){var r=this.option;if(!t){return r}for(var i=0;i<t.length;i++){if(!t[i]){continue}r=r&&typeof r==="object"?r[t[i]]:null;if(r==null){break}}if(r==null&&e){r=e._doGet(this.resolveParentPath(t),e.parentModel)}return r};return t}();As(qc);Os(qc);F(qc,Yc);F(qc,jc);F(qc,Fs);F(qc,Hc);var Kc=Math.round(Math.random()*10);function Jc(t){return[t||"",Kc++].join("_")}function $c(t){var e={};t.registerSubTypeDefaulter=function(t,r){var i=Ts(t);e[i.main]=r};t.determineSubType=function(r,i){var a=i.type;if(!a){var n=Ts(r).main;if(t.hasSubTypes(r)&&e[n]){a=e[n](i)}}return a}}function Qc(t,e){t.topologicalTravel=function(t,e,i,a){if(!t.length){return}var n=r(e);var o=n.graph;var s=n.noEntryList;var l={};H(t,function(t){l[t]=true});while(s.length){var u=s.pop();var f=o[u];var h=!!l[u];if(h){i.call(a,u,f.originalDeps.slice());delete l[u]}H(f.successor,h?c:v)}H(l,function(){var r="";if(true){r=Eo("Circular dependency may exists: ",l,t,e)}throw new Error(r)});function v(t){o[t].entryCount--;if(o[t].entryCount===0){s.push(t)}}function c(t){l[t]=true;v(t)}};function r(t){var r={};var n=[];H(t,function(o){var s=i(r,o);var l=s.originalDeps=e(o);var u=a(l,t);s.entryCount=u.length;if(s.entryCount===0){n.push(o)}H(u,function(t){if(V(s.predecessor,t)<0){s.predecessor.push(t)}var e=i(r,t);if(V(e.successor,t)<0){e.successor.push(o)}})});return{graph:r,noEntryList:n}}function i(t,e){if(!t[e]){t[e]={predecessor:[],successor:[]}}return t[e]}function a(t,e){var r=[];H(t,function(t){V(e,t)>=0&&r.push(t)});return r}}function tp(t,e){return O(O({},t,true),e,true)}var ep={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var rp={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var ip="ZH";var ap="EN";var np=ap;var op={};var sp={};var lp=!o.domSupported?np:function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||np).toUpperCase();return t.indexOf(ip)>-1?ip:np}();function up(t,e){t=t.toUpperCase();sp[t]=new qc(e);op[t]=e}function fp(t){if(Q(t)){var e=op[t.toUpperCase()]||{};if(t===ip||t===ap){return P(e)}else{return O(P(e),P(op[np]),false)}}else{return O(P(t),P(op[np]),false)}}function hp(t){return sp[t]}function vp(){return sp[np]}up(ap,ep);up(ip,rp);var cp=1e3;var pp=cp*60;var dp=pp*60;var gp=dp*24;var yp=gp*365;var mp={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"};var xp="{yyyy}-{MM}-{dd}";var _p={year:"{yyyy}",month:"{yyyy}-{MM}",day:xp,hour:xp+" "+mp.hour,minute:xp+" "+mp.minute,second:xp+" "+mp.second,millisecond:mp.none};var wp=["year","month","day","hour","minute","second","millisecond"];var bp=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Sp(t,e){t+="";return"0000".substr(0,e-t.length)+t}function Mp(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Ip(t){return t===Mp(t)}function Tp(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Cp(t,e,r,i){var a=go(t);var n=a[Lp(r)]();var o=a[Pp(r)]()+1;var s=Math.floor((o-1)/3)+1;var l=a[Op(r)]();var u=a["get"+(r?"UTC":"")+"Day"]();var f=a[Rp(r)]();var h=(f-1)%12+1;var v=a[Np(r)]();var c=a[Ep(r)]();var p=a[zp(r)]();var d=f>=12?"pm":"am";var g=d.toUpperCase();var y=i instanceof qc?i:hp(i||lp)||vp();var m=y.getModel("time");var x=m.get("month");var _=m.get("monthAbbr");var w=m.get("dayOfWeek");var b=m.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,d+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,n+"").replace(/{yy}/g,Sp(n%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,x[o-1]).replace(/{MMM}/g,_[o-1]).replace(/{MM}/g,Sp(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Sp(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,w[u]).replace(/{ee}/g,b[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Sp(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,Sp(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Sp(v,2)).replace(/{m}/g,v+"").replace(/{ss}/g,Sp(c,2)).replace(/{s}/g,c+"").replace(/{SSS}/g,Sp(p,3)).replace(/{S}/g,p+"")}function Dp(t,e,r,i,a){var n=null;if(Q(r)){n=r}else if($(r)){n=r(t.value,e,{level:t.level})}else{var o=N({},mp);if(t.level>0){for(var s=0;s<wp.length;++s){o[wp[s]]="{primary|"+o[wp[s]]+"}"}}var l=r?r.inherit===false?r:E(r,o):o;var u=Ap(t.value,a);if(l[u]){n=l[u]}else if(l.inherit){var f=bp.indexOf(u);for(var s=f-1;s>=0;--s){if(l[u]){n=l[u];break}}n=n||o.none}if(J(n)){var h=t.level==null?0:t.level>=0?t.level:n.length+t.level;h=Math.min(h,n.length-1);n=n[h]}}return Cp(new Date(t.value),n,a,i)}function Ap(t,e){var r=go(t);var i=r[Pp(e)]()+1;var a=r[Op(e)]();var n=r[Rp(e)]();var o=r[Np(e)]();var s=r[Ep(e)]();var l=r[zp(e)]();var u=l===0;var f=u&&s===0;var h=f&&o===0;var v=h&&n===0;var c=v&&a===1;var p=c&&i===1;if(p){return"year"}else if(c){return"month"}else if(v){return"day"}else if(h){return"hour"}else if(f){return"minute"}else if(u){return"second"}else{return"millisecond"}}function kp(t,e,r){var i=et(t)?go(t):t;e=e||Ap(t,r);switch(e){case"year":return i[Lp(r)]();case"half-year":return i[Pp(r)]()>=6?1:0;case"quarter":return Math.floor((i[Pp(r)]()+1)/4);case"month":return i[Pp(r)]();case"day":return i[Op(r)]();case"half-day":return i[Rp(r)]()/24;case"hour":return i[Rp(r)]();case"minute":return i[Np(r)]();case"second":return i[Ep(r)]();case"millisecond":return i[zp(r)]()}}function Lp(t){return t?"getUTCFullYear":"getFullYear"}function Pp(t){return t?"getUTCMonth":"getMonth"}function Op(t){return t?"getUTCDate":"getDate"}function Rp(t){return t?"getUTCHours":"getHours"}function Np(t){return t?"getUTCMinutes":"getMinutes"}function Ep(t){return t?"getUTCSeconds":"getSeconds"}function zp(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Vp(t){return t?"setUTCFullYear":"setFullYear"}function Bp(t){return t?"setUTCMonth":"setMonth"}function Fp(t){return t?"setUTCDate":"setDate"}function Gp(t){return t?"setUTCHours":"setHours"}function Hp(t){return t?"setUTCMinutes":"setMinutes"}function Wp(t){return t?"setUTCSeconds":"setSeconds"}function Up(t){return t?"setUTCMilliseconds":"setMilliseconds"}function Yp(t,e,r,i,a,n,o,s){var l=new Bu({style:{text:t,font:e,align:r,verticalAlign:i,padding:a,rich:n,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function Xp(t){if(!So(t)){return Q(t)?t:"-"}var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Zp(t,e){t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()});if(e&&t){t=t.charAt(0).toUpperCase()+t.slice(1)}return t}var jp=pt;function qp(t,e,r){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(t){return t&&gt(t)?t:"-"}function n(t){return!!(t!=null&&!isNaN(t)&&isFinite(t))}var o=e==="time";var s=t instanceof Date;if(o||s){var l=o?go(t):t;if(!isNaN(+l)){return Cp(l,i,r)}else if(s){return"-"}}if(e==="ordinal"){return tt(t)?a(t):et(t)?n(t)?t+"":"-":"-"}var u=bo(t);return n(u)?Xp(u):tt(t)?a(t):typeof t==="boolean"?t+"":"-"}var Kp=["a","b","c","d","e","f","g"];var Jp=function(t,e){return"{"+t+(e==null?"":e)+"}"};function $p(t,e,r){if(!J(e)){e=[e]}var i=e.length;if(!i){return""}var a=e[0].$vars||[];for(var n=0;n<a.length;n++){var o=Kp[n];t=t.replace(Jp(o),Jp(o,0))}for(var s=0;s<i;s++){for(var l=0;l<a.length;l++){var u=e[s][a[l]];t=t.replace(Jp(Kp[l],s),r?xe(u):u)}}return t}function Qp(t,e,r){H(e,function(e,i){t=t.replace("{"+i+"}",r?xe(e):e)});return t}function td(t,e){var r=Q(t)?{color:t,extraCssText:e}:t||{};var i=r.color;var a=r.type;e=r.extraCssText;var n=r.renderMode||"html";if(!i){return""}if(n==="html"){return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;'+"border-radius:4px;width:4px;height:4px;background-color:"+xe(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;'+"border-radius:10px;width:10px;height:10px;background-color:"+xe(i)+";"+(e||"")+'"></span>'}else{var o=r.markerId||"markerX";return{renderMode:n,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}}function ed(t,e,r){if(true){No("echarts.format.formatTime","echarts.time.format")}if(t==="week"||t==="month"||t==="quarter"||t==="half-year"||t==="year"){t="MM-dd\nyyyy"}var i=go(e);var a=r?"getUTC":"get";var n=i[a+"FullYear"]();var o=i[a+"Month"]()+1;var s=i[a+"Date"]();var l=i[a+"Hours"]();var u=i[a+"Minutes"]();var f=i[a+"Seconds"]();var h=i[a+"Milliseconds"]();t=t.replace("MM",Sp(o,2)).replace("M",o).replace("yyyy",n).replace("yy",Sp(n%100+"",2)).replace("dd",Sp(s,2)).replace("d",s).replace("hh",Sp(l,2)).replace("h",l).replace("mm",Sp(u,2)).replace("m",u).replace("ss",Sp(f,2)).replace("s",f).replace("SSS",Sp(h,3));return t}function rd(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function id(t,e){e=e||"transparent";return Q(t)?t:rt(t)?t.colorStops&&(t.colorStops[0]||{}).color||e:e}function ad(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null;r.location.href=t}else{window.open(t,e)}}var nd=H;var od=["left","right","top","bottom","width","height"];var sd=[["width","left","right"],["height","top","bottom"]];function ld(t,e,r,i,a){var n=0;var o=0;if(i==null){i=Infinity}if(a==null){a=Infinity}var s=0;e.eachChild(function(l,u){var f=l.getBoundingRect();var h=e.childAt(u+1);var v=h&&h.getBoundingRect();var c;var p;if(t==="horizontal"){var d=f.width+(v?-v.x+f.x:0);c=n+d;if(c>i||l.newline){n=0;c=d;o+=s+r;s=f.height}else{s=Math.max(s,f.height)}}else{var g=f.height+(v?-v.y+f.y:0);p=o+g;if(p>a||l.newline){n+=s+r;o=0;p=g;s=f.width}else{s=Math.max(s,f.width)}}if(l.newline){return}l.x=n;l.y=o;l.markRedraw();t==="horizontal"?n=c+r:o=p+r})}var ud=ld;var fd=K(ld,"vertical");var hd=K(ld,"horizontal");function vd(t,e,r){var i=e.width;var a=e.height;var n=ro(t.left,i);var o=ro(t.top,a);var s=ro(t.right,i);var l=ro(t.bottom,a);(isNaN(n)||isNaN(parseFloat(t.left)))&&(n=0);(isNaN(s)||isNaN(parseFloat(t.right)))&&(s=i);(isNaN(o)||isNaN(parseFloat(t.top)))&&(o=0);(isNaN(l)||isNaN(parseFloat(t.bottom)))&&(l=a);r=jp(r||0);return{width:Math.max(s-n-r[1]-r[3],0),height:Math.max(l-o-r[0]-r[2],0)}}function cd(t,e,r){r=jp(r||0);var i=e.width;var a=e.height;var n=ro(t.left,i);var o=ro(t.top,a);var s=ro(t.right,i);var l=ro(t.bottom,a);var u=ro(t.width,i);var f=ro(t.height,a);var h=r[2]+r[0];var v=r[1]+r[3];var c=t.aspect;if(isNaN(u)){u=i-s-v-n}if(isNaN(f)){f=a-l-h-o}if(c!=null){if(isNaN(u)&&isNaN(f)){if(c>i/a){u=i*.8}else{f=a*.8}}if(isNaN(u)){u=c*f}if(isNaN(f)){f=u/c}}if(isNaN(n)){n=i-s-u-v}if(isNaN(o)){o=a-l-f-h}switch(t.left||t.right){case"center":n=i/2-u/2-r[3];break;case"right":n=i-u-v;break}switch(t.top||t.bottom){case"middle":case"center":o=a/2-f/2-r[0];break;case"bottom":o=a-f-h;break}n=n||0;o=o||0;if(isNaN(u)){u=i-v-n-(s||0)}if(isNaN(f)){f=a-h-o-(l||0)}var p=new er(n+r[3],o+r[0],u,f);p.margin=r;return p}function pd(t,e,r,i,a,n){var o=!a||!a.hv||a.hv[0];var s=!a||!a.hv||a.hv[1];var l=a&&a.boundingMode||"all";n=n||t;n.x=t.x;n.y=t.y;if(!o&&!s){return false}var u;if(l==="raw"){u=t.type==="group"?new er(0,0,+e.width||0,+e.height||0):t.getBoundingRect()}else{u=t.getBoundingRect();if(t.needLocalTransform()){var f=t.getLocalTransform();u=u.clone();u.applyTransform(f)}}var h=cd(E({width:u.width,height:u.height},e),r,i);var v=o?h.x-u.x:0;var c=s?h.y-u.y:0;if(l==="raw"){n.x=v;n.y=c}else{n.x+=v;n.y+=c}if(n===t){t.markRedraw()}return true}function dd(t,e){return t[sd[e][0]]!=null||t[sd[e][1]]!=null&&t[sd[e][2]]!=null}function gd(t){var e=t.layoutMode||t.constructor.layoutMode;return rt(e)?e:e?{type:e}:null}function yd(t,e,r){var i=r&&r.ignoreSize;!J(i)&&(i=[i,i]);var a=o(sd[0],0);var n=o(sd[1],1);u(sd[0],t,a);u(sd[1],t,n);function o(r,a){var n={};var o=0;var u={};var f=0;var h=2;nd(r,function(e){u[e]=t[e]});nd(r,function(t){s(e,t)&&(n[t]=u[t]=e[t]);l(n,t)&&o++;l(u,t)&&f++});if(i[a]){if(l(e,r[1])){u[r[2]]=null}else if(l(e,r[2])){u[r[1]]=null}return u}if(f===h||!o){return u}else if(o>=h){return n}else{for(var v=0;v<r.length;v++){var c=r[v];if(!s(n,c)&&s(t,c)){n[c]=t[c];break}}return n}}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return t[e]!=null&&t[e]!=="auto"}function u(t,e,r){nd(t,function(t){e[t]=r[t]})}}function md(t){return xd({},t)}function xd(t,e){e&&t&&nd(od,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])});return t}var _d=hs();var wd=function(t){i(e,t);function e(e,r,i){var a=t.call(this,e,r,i)||this;a.uid=Jc("ec_cpt_model");return a}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r)};e.prototype.mergeDefaultAndTheme=function(t,e){var r=gd(this);var i=r?md(t):{};var a=e.getTheme();O(t,a.get(this.mainType));O(t,this.getDefaultOption());if(r){yd(t,i,r)}};e.prototype.mergeOption=function(t,e){O(this.option,t,true);var r=gd(this);if(r){yd(this.option,t,r)}};e.prototype.optionUpdated=function(t,e){};e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Ds(t)){return t.defaultOption}var e=_d(this);if(!e.defaultOption){var r=[];var i=t;while(i){var a=i.prototype.defaultOption;a&&r.push(a);i=i.superClass}var n={};for(var o=r.length-1;o>=0;o--){n=O(n,r[o],true)}e.defaultOption=n}return e.defaultOption};e.prototype.getReferringComponents=function(t,e){var r=t+"Index";var i=t+"Id";return ys(this.ecModel,t,{index:this.get(r,true),id:this.get(i,true)},e)};e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}};e.prototype.getZLevelKey=function(){return""};e.prototype.setZLevel=function(t){this.option.zlevel=t};e.protoInitialize=function(){var t=e.prototype;t.type="component";t.id="";t.name="";t.mainType="";t.subType="";t.componentIndex=0}();return e}(qc);Ls(wd,qc);Es(wd);$c(wd);Qc(wd,bd);function bd(t){var e=[];H(wd.getClassesByMainType(t),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])});e=W(e,function(t){return Ts(t).main});if(t!=="dataset"&&V(e,"dataset")<=0){e.unshift("dataset")}return e}var Sd="";if(typeof navigator!=="undefined"){Sd=navigator.platform||""}var Md="rgba(0, 0, 0, 0.2)";var Id={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Md,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Md,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Md,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Md,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Md,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Md,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Sd.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:false};var Td=Mt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]);var Cd="original";var Dd="arrayRows";var Ad="objectRows";var kd="keyedColumns";var Ld="typedArray";var Pd="unknown";var Od="column";var Rd="row";var Nd={Must:1,Might:2,Not:3};var Ed=hs();function zd(t){Ed(t).datasetMap=Mt()}function Vd(t,e,r){var i={};var a=Fd(e);if(!a||!t){return i}var n=[];var o=[];var s=e.ecModel;var l=Ed(s).datasetMap;var u=a.uid+"_"+r.seriesLayoutBy;var f;var h;t=t.slice();H(t,function(e,r){var a=rt(e)?e:t[r]={name:e};if(a.type==="ordinal"&&f==null){f=r;h=p(a)}i[a.name]=[]});var v=l.get(u)||l.set(u,{categoryWayDim:h,valueWayDim:0});H(t,function(t,e){var r=t.name;var a=p(t);if(f==null){var s=v.valueWayDim;c(i[r],s,a);c(o,s,a);v.valueWayDim+=a}else if(f===e){c(i[r],0,a);c(n,0,a)}else{var s=v.categoryWayDim;c(i[r],s,a);c(o,s,a);v.categoryWayDim+=a}});function c(t,e,r){for(var i=0;i<r;i++){t.push(e+i)}}function p(t){var e=t.dimsDef;return e?e.length:1}n.length&&(i.itemName=n);o.length&&(i.seriesName=o);return i}function Bd(t,e,r){var i={};var a=Fd(t);if(!a){return i}var n=e.sourceFormat;var o=e.dimensionsDefine;var s;if(n===Ad||n===kd){H(o,function(t,e){if((rt(t)?t.name:t)==="name"){s=e}})}var l=function(){var t={};var i={};var a=[];for(var l=0,u=Math.min(5,r);l<u;l++){var f=Wd(e.data,n,e.seriesLayoutBy,o,e.startIndex,l);a.push(f);var h=f===Nd.Not;if(h&&t.v==null&&l!==s){t.v=l}if(t.n==null||t.n===t.v||!h&&a[t.n]===Nd.Not){t.n=l}if(v(t)&&a[t.n]!==Nd.Not){return t}if(!h){if(f===Nd.Might&&i.v==null&&l!==s){i.v=l}if(i.n==null||i.n===i.v){i.n=l}}}function v(t){return t.v!=null&&t.n!=null}return v(t)?t:v(i)?i:null}();if(l){i.value=[l.v];var u=s!=null?s:l.n;i.itemName=[u];i.seriesName=[u]}return i}function Fd(t){var e=t.get("data",true);if(!e){return ys(t.ecModel,"dataset",{index:t.get("datasetIndex",true),id:t.get("datasetId",true)},ds).models[0]}}function Gd(t){if(!t.get("transform",true)&&!t.get("fromTransformResult",true)){return[]}return ys(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",true),id:t.get("fromDatasetId",true)},ds).models}function Hd(t,e){return Wd(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Wd(t,e,r,i,a,n){var o;var s=5;if(at(t)){return Nd.Not}var l;var u;if(i){var f=i[n];if(rt(f)){l=f.name;u=f.type}else if(Q(f)){l=f}}if(u!=null){return u==="ordinal"?Nd.Must:Nd.Not}if(e===Dd){var h=t;if(r===Rd){var v=h[n];for(var c=0;c<(v||[]).length&&c<s;c++){if((o=_(v[a+c]))!=null){return o}}}else{for(var c=0;c<h.length&&c<s;c++){var p=h[a+c];if(p&&(o=_(p[n]))!=null){return o}}}}else if(e===Ad){var d=t;if(!l){return Nd.Not}for(var c=0;c<d.length&&c<s;c++){var g=d[c];if(g&&(o=_(g[l]))!=null){return o}}}else if(e===kd){var y=t;if(!l){return Nd.Not}var v=y[l];if(!v||at(v)){return Nd.Not}for(var c=0;c<v.length&&c<s;c++){if((o=_(v[c]))!=null){return o}}}else if(e===Cd){var m=t;for(var c=0;c<m.length&&c<s;c++){var g=m[c];var x=Uo(g);if(!J(x)){return Nd.Not}if((o=_(x[n]))!=null){return o}}}function _(t){var e=Q(t);if(t!=null&&Number.isFinite(Number(t))&&t!==""){return e?Nd.Might:Nd.Not}else if(e&&t!=="-"){return Nd.Must}}return Nd.Not}var Ud=Mt();function Yd(t,e){dt(Ud.get(t)==null&&e);Ud.set(t,e)}function Xd(t,e,r){var i=Ud.get(e);if(!i){return r}var a=i(t);if(!a){return r}if(true){for(var n=0;n<a.length;n++){dt(ns(a[n]))}}return r.concat(a)}var Zd=hs();var jd=hs();var qd=function(){function t(){}t.prototype.getColorFromPalette=function(t,e,r){var i=Go(this.get("color",true));var a=this.get("colorLayer",true);return $d(this,Zd,i,a,t,e,r)};t.prototype.clearColorPalette=function(){Qd(this,Zd)};return t}();function Kd(t,e,r,i){var a=Go(t.get(["aria","decal","decals"]));return $d(t,jd,a,null,e,r,i)}function Jd(t,e){var r=t.length;for(var i=0;i<r;i++){if(t[i].length>e){return t[i]}}return t[r-1]}function $d(t,e,r,i,a,n,o){n=n||t;var s=e(n);var l=s.paletteIdx||0;var u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a)){return u[a]}var f=o==null||!i?r:Jd(i,o);f=f||r;if(!f||!f.length){return}var h=f[l];if(a){u[a]=h}s.paletteIdx=(l+1)%f.length;return h}function Qd(t,e){e(t).paletteIdx=0;e(t).paletteNameMap={}}var tg;var eg;var rg;var ig="\0_ec_inner";var ag=1;var ng={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"};var og={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"};var sg={};function lg(t){H(t,function(t,e){if(!wd.hasClass(e)){var r=ng[e];if(r&&!sg[r]){Oo("Component "+e+" is used but not imported.\nimport { "+r+" } from 'echarts/components';\necharts.use(["+r+"]);");sg[r]=true}}})}var ug=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(t,e,r,i,a,n){i=i||{};this.option=null;this._theme=new qc(i);this._locale=new qc(a);this._optionManager=n};e.prototype.setOption=function(t,e,r){if(true){dt(t!=null,"option is null/undefined");dt(t[ig]!==ag,"please use chart.getOption()")}var i=pg(e);this._optionManager.setOption(t,r,i);this._resetOption(null,i)};e.prototype.resetOption=function(t,e){return this._resetOption(t,pg(e))};e.prototype._resetOption=function(t,e){var r=false;var i=this._optionManager;if(!t||t==="recreate"){var a=i.mountOption(t==="recreate");if(true){lg(a)}if(!this.option||t==="recreate"){rg(this,a)}else{this.restoreData();this._mergeOption(a,e)}r=true}if(t==="timeline"||t==="media"){this.restoreData()}if(!t||t==="recreate"||t==="timeline"){var n=i.getTimelineOption(this);if(n){r=true;this._mergeOption(n,e)}}if(!t||t==="recreate"||t==="media"){var o=i.getMediaOption(this);if(o.length){H(o,function(t){r=true;this._mergeOption(t,e)},this)}}return r};e.prototype.mergeOption=function(t){this._mergeOption(t,null)};e.prototype._mergeOption=function(t,e){var r=this.option;var i=this._componentsMap;var a=this._componentsCount;var n=[];var o=Mt();var s=e&&e.replaceMergeMainTypeMap;zd(this);H(t,function(t,e){if(t==null){return}if(!wd.hasClass(e)){r[e]=r[e]==null?P(t):O(r[e],t,true)}else if(e){n.push(e);o.set(e,true)}});if(s){s.each(function(t,e){if(wd.hasClass(e)&&!o.get(e)){n.push(e);o.set(e,true)}})}wd.topologicalTravel(n,wd.getAllClassMainTypes(),l,this);function l(e){var n=Xd(this,e,Go(t[e]));var o=i.get(e);var l=!o?"replaceAll":s&&s.get(e)?"replaceMerge":"normalMerge";var u=Xo(o,n,l);ss(u,e,wd);r[e]=null;i.set(e,null);a.set(e,0);var f=[];var h=[];var v=0;var c;var p;H(u,function(t,r){var i=t.existing;var a=t.newOption;if(!a){if(i){i.mergeOption({},this);i.optionUpdated({},false)}}else{var n=e==="series";var o=wd.getClass(e,t.keyInfo.subType,!n);if(!o){if(true){var s=t.keyInfo.subType;var l=og[s];if(!sg[s]){sg[s]=true;if(l){Oo("Series "+s+" is used but not imported.\nimport { "+l+" } from 'echarts/charts';\necharts.use(["+l+"]);")}else{Oo("Unknown series "+s)}}}return}if(e==="tooltip"){if(c){if(true){if(!p){Po("Currently only one tooltip component is allowed.");p=true}}return}c=true}if(i&&i.constructor===o){i.name=t.keyInfo.name;i.mergeOption(a,this);i.optionUpdated(a,false)}else{var u=N({componentIndex:r},t.keyInfo);i=new o(a,this,this,u);N(i,u);if(t.brandNew){i.__requireNewView=true}i.init(a,this,this);i.optionUpdated(null,true)}}if(i){f.push(i.option);h.push(i);v++}else{f.push(void 0);h.push(void 0)}},this);r[e]=f;i.set(e,h);a.set(e,v);if(e==="series"){tg(this)}}if(!this._seriesIndices){tg(this)}};e.prototype.getOption=function(){var t=P(this.option);H(t,function(e,r){if(wd.hasClass(r)){var i=Go(e);var a=i.length;var n=false;for(var o=a-1;o>=0;o--){if(i[o]&&!ns(i[o])){n=true}else{i[o]=null;!n&&a--}}i.length=a;t[r]=i}});delete t[ig];return t};e.prototype.getTheme=function(){return this._theme};e.prototype.getLocaleModel=function(){return this._locale};e.prototype.setUpdatePayload=function(t){this._payload=t};e.prototype.getUpdatePayload=function(){return this._payload};e.prototype.getComponent=function(t,e){var r=this._componentsMap.get(t);if(r){var i=r[e||0];if(i){return i}else if(e==null){for(var a=0;a<r.length;a++){if(r[a]){return r[a]}}}}};e.prototype.queryComponents=function(t){var e=t.mainType;if(!e){return[]}var r=t.index;var i=t.id;var a=t.name;var n=this._componentsMap.get(e);if(!n||!n.length){return[]}var o;if(r!=null){o=[];H(Go(r),function(t){n[t]&&o.push(n[t])})}else if(i!=null){o=vg("id",i,n)}else if(a!=null){o=vg("name",a,n)}else{o=Y(n,function(t){return!!t})}return cg(o,t)};e.prototype.findComponents=function(t){var e=t.query;var r=t.mainType;var i=n(e);var a=i?this.queryComponents(i):Y(this._componentsMap.get(r),function(t){return!!t});return o(cg(a,t));function n(t){var e=r+"Index";var i=r+"Id";var a=r+"Name";return t&&(t[e]!=null||t[i]!=null||t[a]!=null)?{mainType:r,index:t[e],id:t[i],name:t[a]}:null}function o(e){return t.filter?Y(e,t.filter):e}};e.prototype.eachComponent=function(t,e,r){var i=this._componentsMap;if($(t)){var a=e;var n=t;i.each(function(t,e){for(var r=0;t&&r<t.length;r++){var i=t[r];i&&n.call(a,e,i,i.componentIndex)}})}else{var o=Q(t)?i.get(t):rt(t)?this.findComponents(t):null;for(var s=0;o&&s<o.length;s++){var l=o[s];l&&e.call(r,l,l.componentIndex)}}};e.prototype.getSeriesByName=function(t){var e=es(t,null);return Y(this._componentsMap.get("series"),function(t){return!!t&&e!=null&&t.name===e})};e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]};e.prototype.getSeriesByType=function(t){return Y(this._componentsMap.get("series"),function(e){return!!e&&e.subType===t})};e.prototype.getSeries=function(){return Y(this._componentsMap.get("series"),function(t){return!!t})};e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")};e.prototype.eachSeries=function(t,e){eg(this);H(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)},this)};e.prototype.eachRawSeries=function(t,e){H(this._componentsMap.get("series"),function(r){r&&t.call(e,r,r.componentIndex)})};e.prototype.eachSeriesByType=function(t,e,r){eg(this);H(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];if(a.subType===t){e.call(r,a,i)}},this)};e.prototype.eachRawSeriesByType=function(t,e,r){return H(this.getSeriesByType(t),e,r)};e.prototype.isSeriesFiltered=function(t){eg(this);return this._seriesIndicesMap.get(t.componentIndex)==null};e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()};e.prototype.filterSeries=function(t,e){eg(this);var r=[];H(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(e,a,i)&&r.push(i)},this);this._seriesIndices=r;this._seriesIndicesMap=Mt(r)};e.prototype.restoreData=function(t){tg(this);var e=this._componentsMap;var r=[];e.each(function(t,e){if(wd.hasClass(e)){r.push(e)}});wd.topologicalTravel(r,wd.getAllClassMainTypes(),function(r){H(e.get(r),function(e){if(e&&(r!=="series"||!fg(e,t))){e.restoreData()}})})};e.internalField=function(){tg=function(t){var e=t._seriesIndices=[];H(t._componentsMap.get("series"),function(t){t&&e.push(t.componentIndex)});t._seriesIndicesMap=Mt(e)};eg=function(t){if(true){if(!t._seriesIndices){throw new Error("Option should contains series.")}}};rg=function(t,e){t.option={};t.option[ig]=ag;t._componentsMap=Mt({series:[]});t._componentsCount=Mt();var r=e.aria;if(rt(r)&&r.enabled==null){r.enabled=true}hg(e,t._theme.option);O(e,Id,false);t._mergeOption(e,null)}}();return e}(qc);function fg(t,e){if(e){var r=e.seriesIndex;var i=e.seriesId;var a=e.seriesName;return r!=null&&t.componentIndex!==r||i!=null&&t.id!==i||a!=null&&t.name!==a}}function hg(t,e){var r=t.color&&!t.colorLayer;H(e,function(e,i){if(i==="colorLayer"&&r){return}if(!wd.hasClass(i)){if(typeof e==="object"){t[i]=!t[i]?P(e):O(t[i],e,false)}else{if(t[i]==null){t[i]=e}}}})}function vg(t,e,r){if(J(e)){var i=Mt();H(e,function(t){if(t!=null){var e=es(t,null);e!=null&&i.set(t,true)}});return Y(r,function(e){return e&&i.get(e[t])})}else{var a=es(e,null);return Y(r,function(e){return e&&a!=null&&e[t]===a})}}function cg(t,e){return e.hasOwnProperty("subType")?Y(t,function(t){return t&&t.subType===e.subType}):t}function pg(t){var e=Mt();t&&H(Go(t.replaceMerge),function(t){if(true){dt(wd.hasClass(t),'"'+t+'" is not valid component main type in "replaceMerge"')}e.set(t,true)});return{replaceMergeMainTypeMap:e}}F(ug,qd);var dg=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];var gg=function(){function t(t){H(dg,function(e){this[e]=q(t[e],t)},this)}return t}();var yg={};var mg=function(){function t(){this._coordinateSystems=[]}t.prototype.create=function(t,e){var r=[];H(yg,function(i,a){var n=i.create(t,e);r=r.concat(n||[])});this._coordinateSystems=r};t.prototype.update=function(t,e){H(this._coordinateSystems,function(r){r.update&&r.update(t,e)})};t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()};t.register=function(t,e){yg[t]=e};t.get=function(t){return yg[t]};return t}();var xg=/^(min|max)?(.+)$/;var _g=function(){function t(t){this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[];this._api=t}t.prototype.setOption=function(t,e,r){if(t){H(Go(t.series),function(t){t&&t.data&&at(t.data)&&mt(t.data)});H(Go(t.dataset),function(t){t&&t.source&&at(t.source)&&mt(t.source)})}t=P(t);var i=this._optionBackup;var a=wg(t,e,!i);this._newBaseOption=a.baseOption;if(i){if(a.timelineOptions.length){i.timelineOptions=a.timelineOptions}if(a.mediaList.length){i.mediaList=a.mediaList}if(a.mediaDefault){i.mediaDefault=a.mediaDefault}}else{this._optionBackup=a}};t.prototype.mountOption=function(t){var e=this._optionBackup;this._timelineOptions=e.timelineOptions;this._mediaList=e.mediaList;this._mediaDefault=e.mediaDefault;this._currentMediaIndices=[];return P(t?e.baseOption:this._newBaseOption)};t.prototype.getTimelineOption=function(t){var e;var r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");if(i){e=P(r[i.getCurrentIndex()])}}return e};t.prototype.getMediaOption=function(t){var e=this._api.getWidth();var r=this._api.getHeight();var i=this._mediaList;var a=this._mediaDefault;var n=[];var o=[];if(!i.length&&!a){return o}for(var s=0,l=i.length;s<l;s++){if(bg(i[s].query,e,r)){n.push(s)}}if(!n.length&&a){n=[-1]}if(n.length&&!Mg(n,this._currentMediaIndices)){o=W(n,function(t){return P(t===-1?a.option:i[t].option)})}this._currentMediaIndices=n;return o};return t}();function wg(t,e,r){var i=[];var a;var n;var o=t.baseOption;var s=t.timeline;var l=t.options;var u=t.media;var f=!!t.media;var h=!!(l||s||o&&o.timeline);if(o){n=o;if(!n.timeline){n.timeline=s}}else{if(h||f){t.options=t.media=null}n=t}if(f){if(J(u)){H(u,function(t){if(true){if(t&&!t.option&&rt(t.query)&&rt(t.query.option)){Oo("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }")}}if(t&&t.option){if(t.query){i.push(t)}else if(!a){a=t}}})}else{if(true){Oo("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")}}}v(n);H(l,function(t){return v(t)});H(i,function(t){return v(t.option)});function v(t){H(e,function(e){e(t,r)})}return{baseOption:n,timelineOptions:l||[],mediaDefault:a,mediaList:i}}function bg(t,e,r){var i={width:e,height:r,aspectratio:e/r};var a=true;H(t,function(t,e){var r=e.match(xg);if(!r||!r[1]||!r[2]){return}var n=r[1];var o=r[2].toLowerCase();if(!Sg(i[o],t,n)){a=false}});return a}function Sg(t,e,r){if(r==="min"){return t>=e}else if(r==="max"){return t<=e}else{return t===e}}function Mg(t,e){return t.join(",")===e.join(",")}var Ig=H;var Tg=rt;var Cg=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Dg(t){var e=t&&t.itemStyle;if(!e){return}for(var r=0,i=Cg.length;r<i;r++){var a=Cg[r];var n=e.normal;var o=e.emphasis;if(n&&n[a]){if(true){No("itemStyle.normal."+a,a)}t[a]=t[a]||{};if(!t[a].normal){t[a].normal=n[a]}else{O(t[a].normal,n[a])}n[a]=null}if(o&&o[a]){if(true){No("itemStyle.emphasis."+a,"emphasis."+a)}t[a]=t[a]||{};if(!t[a].emphasis){t[a].emphasis=o[a]}else{O(t[a].emphasis,o[a])}o[a]=null}}}function Ag(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal;var a=t[e].emphasis;if(i){if(true){Ro("'normal' hierarchy in "+e+" has been removed since 4.0. All style properties are configured in "+e+" directly now.")}if(r){t[e].normal=t[e].emphasis=null;E(t[e],i)}else{t[e]=i}}if(a){if(true){Ro(e+".emphasis has been changed to emphasis."+e+" since 4.0")}t.emphasis=t.emphasis||{};t.emphasis[e]=a;if(a.focus){t.emphasis.focus=a.focus}if(a.blurScope){t.emphasis.blurScope=a.blurScope}}}}function kg(t){Ag(t,"itemStyle");Ag(t,"lineStyle");Ag(t,"areaStyle");Ag(t,"label");Ag(t,"labelLine");Ag(t,"upperLabel");Ag(t,"edgeLabel")}function Lg(t,e){var r=Tg(t)&&t[e];var i=Tg(r)&&r.textStyle;if(i){if(true){Ro("textStyle hierarchy in "+e+" has been removed since 4.0. All textStyle properties are configured in "+e+" directly now.")}for(var a=0,n=Wo.length;a<n;a++){var o=Wo[a];if(i.hasOwnProperty(o)){r[o]=i[o]}}}}function Pg(t){if(t){kg(t);Lg(t,"label");t.emphasis&&Lg(t.emphasis,"label")}}function Og(t){if(!Tg(t)){return}Dg(t);kg(t);Lg(t,"label");Lg(t,"upperLabel");Lg(t,"edgeLabel");if(t.emphasis){Lg(t.emphasis,"label");Lg(t.emphasis,"upperLabel");Lg(t.emphasis,"edgeLabel")}var e=t.markPoint;if(e){Dg(e);Pg(e)}var r=t.markLine;if(r){Dg(r);Pg(r)}var i=t.markArea;if(i){Pg(i)}var a=t.data;if(t.type==="graph"){a=a||t.nodes;var n=t.links||t.edges;if(n&&!at(n)){for(var o=0;o<n.length;o++){Pg(n[o])}}H(t.categories,function(t){kg(t)})}if(a&&!at(a)){for(var o=0;o<a.length;o++){Pg(a[o])}}e=t.markPoint;if(e&&e.data){var s=e.data;for(var o=0;o<s.length;o++){Pg(s[o])}}r=t.markLine;if(r&&r.data){var l=r.data;for(var o=0;o<l.length;o++){if(J(l[o])){Pg(l[o][0]);Pg(l[o][1])}else{Pg(l[o])}}}if(t.type==="gauge"){Lg(t,"axisLabel");Lg(t,"title");Lg(t,"detail")}else if(t.type==="treemap"){Ag(t.breadcrumb,"itemStyle");H(t.levels,function(t){kg(t)})}else if(t.type==="tree"){kg(t.leaves)}}function Rg(t){return J(t)?t:t?[t]:[]}function Ng(t){return(J(t)?t[0]:t)||{}}function Eg(t,e){Ig(Rg(t.series),function(t){Tg(t)&&Og(t)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis");Ig(r,function(e){Ig(Rg(t[e]),function(t){if(t){Lg(t,"axisLabel");Lg(t.axisPointer,"label")}})});Ig(Rg(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Lg(e,"axisLabel");Lg(e&&e.axisPointer,"label")});Ig(Rg(t.calendar),function(t){Ag(t,"itemStyle");Lg(t,"dayLabel");Lg(t,"monthLabel");Lg(t,"yearLabel")});Ig(Rg(t.radar),function(t){Lg(t,"name");if(t.name&&t.axisName==null){t.axisName=t.name;delete t.name;if(true){Ro("name property in radar component has been changed to axisName")}}if(t.nameGap!=null&&t.axisNameGap==null){t.axisNameGap=t.nameGap;delete t.nameGap;if(true){Ro("nameGap property in radar component has been changed to axisNameGap")}}if(true){Ig(t.indicator,function(t){if(t.text){No("text","name","radar.indicator")}})}});Ig(Rg(t.geo),function(t){if(Tg(t)){Pg(t);Ig(Rg(t.regions),function(t){Pg(t)})}});Ig(Rg(t.timeline),function(t){Pg(t);Ag(t,"label");Ag(t,"itemStyle");Ag(t,"controlStyle",true);var e=t.data;J(e)&&H(e,function(t){if(rt(t)){Ag(t,"label");Ag(t,"itemStyle")}})});Ig(Rg(t.toolbox),function(t){Ag(t,"iconStyle");Ig(t.feature,function(t){Ag(t,"iconStyle")})});Lg(Ng(t.axisPointer),"label");Lg(Ng(t.tooltip).axisPointer,"label")}function zg(t,e){var r=e.split(",");var i=t;for(var a=0;a<r.length;a++){i=i&&i[r[a]];if(i==null){break}}return i}function Vg(t,e,r,i){var a=e.split(",");var n=t;var o;var s=0;for(;s<a.length-1;s++){o=a[s];if(n[o]==null){n[o]={}}n=n[o]}if(i||n[a[s]]==null){n[a[s]]=r}}function Bg(t){t&&H(Fg,function(e){if(e[0]in t&&!(e[1]in t)){t[e[1]]=t[e[0]]}})}var Fg=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var Gg=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var Hg=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Wg(t){var e=t&&t.itemStyle;if(e){for(var r=0;r<Hg.length;r++){var i=Hg[r][1];var a=Hg[r][0];if(e[i]!=null){e[a]=e[i];if(true){No(i,a)}}}}}function Ug(t){if(!t){return}if(t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null){if(true){No("label.margin","label.edgeDistance","pie")}t.edgeDistance=t.margin}}function Yg(t){if(!t){return}if(t.downplay&&!t.blur){t.blur=t.downplay;if(true){No("downplay","blur","sunburst")}}}function Xg(t){if(!t){return}if(t.focusNodeAdjacency!=null){t.emphasis=t.emphasis||{};if(t.emphasis.focus==null){if(true){No("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey")}t.emphasis.focus="adjacency"}}}function Zg(t,e){if(t){for(var r=0;r<t.length;r++){e(t[r]);t[r]&&Zg(t[r].children,e)}}}function jg(t,e){Eg(t,e);t.series=Go(t.series);H(t.series,function(t){if(!rt(t)){return}var e=t.type;if(e==="line"){if(t.clipOverflow!=null){t.clip=t.clipOverflow;if(true){No("clipOverflow","clip","line")}}}else if(e==="pie"||e==="gauge"){if(t.clockWise!=null){t.clockwise=t.clockWise;if(true){No("clockWise","clockwise")}}Ug(t.label);var r=t.data;if(r&&!at(r)){for(var i=0;i<r.length;i++){Ug(r[i])}}if(t.hoverOffset!=null){t.emphasis=t.emphasis||{};if(t.emphasis.scaleSize=null){if(true){No("hoverOffset","emphasis.scaleSize")}t.emphasis.scaleSize=t.hoverOffset}}}else if(e==="gauge"){var a=zg(t,"pointer.color");a!=null&&Vg(t,"itemStyle.color",a)}else if(e==="bar"){Wg(t);Wg(t.backgroundStyle);Wg(t.emphasis);var r=t.data;if(r&&!at(r)){for(var i=0;i<r.length;i++){if(typeof r[i]==="object"){Wg(r[i]);Wg(r[i]&&r[i].emphasis)}}}}else if(e==="sunburst"){var n=t.highlightPolicy;if(n){t.emphasis=t.emphasis||{};if(!t.emphasis.focus){t.emphasis.focus=n;if(true){No("highlightPolicy","emphasis.focus","sunburst")}}}Yg(t);Zg(t.data,Yg)}else if(e==="graph"||e==="sankey"){Xg(t)}else if(e==="map"){if(t.mapType&&!t.map){if(true){No("mapType","map","map")}t.map=t.mapType}if(t.mapLocation){if(true){Ro("`mapLocation` is not used anymore.")}E(t,t.mapLocation)}}if(t.hoverAnimation!=null){t.emphasis=t.emphasis||{};if(t.emphasis&&t.emphasis.scale==null){if(true){No("hoverAnimation","emphasis.scale")}t.emphasis.scale=t.hoverAnimation}}Bg(t)});if(t.dataRange){t.visualMap=t.dataRange}H(Gg,function(e){var r=t[e];if(r){if(!J(r)){r=[r]}H(r,function(t){Bg(t)})}})}function qg(t){var e=Mt();t.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]);var a=t.getData();var n={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!n.stackedDimension||!(n.isStackedByIndex||n.stackedByDimension)){return}i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel);i.push(n)}});e.each(Kg)}function Kg(t){H(t,function(e,r){var i=[];var a=[NaN,NaN];var n=[e.stackResultDimension,e.stackedOverDimension];var o=e.data;var s=e.isStackedByIndex;var l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(n,function(n,u,f){var h=o.get(e.stackedDimension,f);if(isNaN(h)){return a}var v;var c;if(s){c=o.getRawIndex(f)}else{v=o.get(e.stackedByDimension,f)}var p=NaN;for(var d=r-1;d>=0;d--){var g=t[d];if(!s){c=g.data.rawIndexOf(g.stackedByDimension,v)}if(c>=0){var y=g.data.getByRawIndex(g.stackResultDimension,c);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&h>=0&&y>0||l==="samesign"&&h<=0&&y<0){h=fo(h,y);p=y;break}}}i[0]=h;i[1]=p;return i})})}var Jg=function(){function t(t){this.data=t.data||(t.sourceFormat===kd?{}:[]);this.sourceFormat=t.sourceFormat||Pd;this.seriesLayoutBy=t.seriesLayoutBy||Od;this.startIndex=t.startIndex||0;this.dimensionsDetectedCount=t.dimensionsDetectedCount;this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e){for(var r=0;r<e.length;r++){var i=e[r];if(i.type==null){if(Hd(this,r)===Nd.Must){i.type="ordinal"}}}}}return t}();function $g(t){return t instanceof Jg}function Qg(t,e,r){r=r||ry(t);var i=e.seriesLayoutBy;var a=iy(t,r,i,e.sourceHeader,e.dimensions);var n=new Jg({data:t,sourceFormat:r,seriesLayoutBy:i,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:P(e)});return n}function ty(t){return new Jg({data:t,sourceFormat:at(t)?Ld:Cd})}function ey(t){return new Jg({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:P(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function ry(t){var e=Pd;if(at(t)){e=Ld}else if(J(t)){if(t.length===0){e=Dd}for(var r=0,i=t.length;r<i;r++){var a=t[r];if(a==null){continue}else if(J(a)||at(a)){e=Dd;break}else if(rt(a)){e=Ad;break}}}else if(rt(t)){for(var n in t){if(Dt(t,n)&&G(t[n])){e=kd;break}}}return e}function iy(t,e,r,i,a){var n;var o;if(!t){return{dimensionsDefine:ny(a),startIndex:o,dimensionsDetectedCount:n}}if(e===Dd){var s=t;if(i==="auto"||i==null){oy(function(t){if(t!=null&&t!=="-"){if(Q(t)){o==null&&(o=1)}else{o=0}}},r,s,10)}else{o=et(i)?i:i?1:0}if(!a&&o===1){a=[];oy(function(t,e){a[e]=t!=null?t+"":""},r,s,Infinity)}n=a?a.length:r===Rd?s.length:s[0]?s[0].length:null}else if(e===Ad){if(!a){a=ay(t)}}else if(e===kd){if(!a){a=[];H(t,function(t,e){a.push(e)})}}else if(e===Cd){var l=Uo(t[0]);n=J(l)&&l.length||1}else if(e===Ld){if(true){dt(!!a,"dimensions must be given if data is TypedArray.")}}return{startIndex:o,dimensionsDefine:ny(a),dimensionsDetectedCount:n}}function ay(t){var e=0;var r;while(e<t.length&&!(r=t[e++])){}if(r){return Z(r)}}function ny(t){if(!t){return}var e=Mt();return W(t,function(t,r){t=rt(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null){return i}i.name+="";if(i.displayName==null){i.displayName=i.name}var a=e.get(i.name);if(!a){e.set(i.name,{count:1})}else{i.name+="-"+a.count++}return i})}function oy(t,e,r,i){if(e===Rd){for(var a=0;a<r.length&&a<i;a++){t(r[a]?r[a][0]:null,a)}}else{var n=r[0]||[];for(var a=0;a<n.length&&a<i;a++){t(n[a],a)}}}function sy(t){var e=t.sourceFormat;return e===Ad||e===kd}var ly,uy,fy;var hy;var vy;var cy=function(){function t(t,e){var r=!$g(t)?ty(t):t;this._source=r;var i=this._data=r.data;if(r.sourceFormat===Ld){if(true){if(e==null){throw new Error("Typed array data must specify dimension size")}}this._offset=0;this._dimSize=e;this._data=i}vy(this,i,r)}t.prototype.getSource=function(){return this._source};t.prototype.count=function(){return 0};t.prototype.getItem=function(t,e){return};t.prototype.appendData=function(t){};t.prototype.clean=function(){};t.protoInitialize=function(){var e=t.prototype;e.pure=false;e.persistent=true}();t.internalField=function(){var t;vy=function(t,a,n){var o=n.sourceFormat;var s=n.seriesLayoutBy;var l=n.startIndex;var u=n.dimensionsDefine;var f=hy[Sy(o,s)];if(true){dt(f,"Invalide sourceFormat: "+o)}N(t,f);if(o===Ld){t.getItem=e;t.count=i;t.fillStorage=r}else{var h=gy(o,s);t.getItem=q(h,null,a,l,u);var v=xy(o,s);t.count=q(v,null,a,l,u)}};var e=function(t,e){t=t-this._offset;e=e||[];var r=this._data;var i=this._dimSize;var a=i*t;for(var n=0;n<i;n++){e[n]=r[a+n]}return e};var r=function(t,e,r,i){var a=this._data;var n=this._dimSize;for(var o=0;o<n;o++){var s=i[o];var l=s[0]==null?Infinity:s[0];var u=s[1]==null?-Infinity:s[1];var f=e-t;var h=r[o];for(var v=0;v<f;v++){var c=a[v*n+o];h[t+v]=c;c<l&&(l=c);c>u&&(u=c)}s[0]=l;s[1]=u}};var i=function(){return this._data?this._data.length/this._dimSize:0};hy=(t={},t[Dd+"_"+Od]={pure:true,appendData:a},t[Dd+"_"+Rd]={pure:true,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Ad]={pure:true,appendData:a},t[kd]={pure:true,appendData:function(t){var e=this._data;H(t,function(t,r){var i=e[r]||(e[r]=[]);for(var a=0;a<(t||[]).length;a++){i.push(t[a])}})}},t[Cd]={appendData:a},t[Ld]={persistent:false,pure:true,appendData:function(t){if(true){dt(at(t),"Added data must be TypedArray if data in initialization is TypedArray")}this._data=t},clean:function(){this._offset+=this.count();this._data=null}},t);function a(t){for(var e=0;e<t.length;e++){this._data.push(t[e])}}}();return t}();var py=function(t,e,r,i){return t[i]};var dy=(ly={},ly[Dd+"_"+Od]=function(t,e,r,i){return t[i+e]},ly[Dd+"_"+Rd]=function(t,e,r,i,a){i+=e;var n=a||[];var o=t;for(var s=0;s<o.length;s++){var l=o[s];n[s]=l?l[i]:null}return n},ly[Ad]=py,ly[kd]=function(t,e,r,i,a){var n=a||[];for(var o=0;o<r.length;o++){var s=r[o].name;if(true){if(s==null){throw new Error}}var l=t[s];n[o]=l?l[i]:null}return n},ly[Cd]=py,ly);function gy(t,e){var r=dy[Sy(t,e)];if(true){dt(r,'Do not support get item on "'+t+'", "'+e+'".')}return r}var yy=function(t,e,r){return t.length};var my=(uy={},uy[Dd+"_"+Od]=function(t,e,r){return Math.max(0,t.length-e)},uy[Dd+"_"+Rd]=function(t,e,r){var i=t[0];return i?Math.max(0,i.length-e):0},uy[Ad]=yy,uy[kd]=function(t,e,r){var i=r[0].name;if(true){if(i==null){throw new Error}}var a=t[i];return a?a.length:0},uy[Cd]=yy,uy);function xy(t,e){var r=my[Sy(t,e)];if(true){dt(r,'Do not support count on "'+t+'", "'+e+'".')}return r}var _y=function(t,e,r){return t[e]};var wy=(fy={},fy[Dd]=_y,fy[Ad]=function(t,e,r){return t[r]},fy[kd]=_y,fy[Cd]=function(t,e,r){var i=Uo(t);return!(i instanceof Array)?i:i[e]},fy[Ld]=_y,fy);function by(t){var e=wy[t];if(true){dt(e,'Do not support get value on "'+t+'".')}return e}function Sy(t,e){return t===Dd?t+"_"+e:t}function My(t,e,r){if(!t){return}var i=t.getRawDataItem(e);if(i==null){return}var a=t.getStore();var n=a.getSource().sourceFormat;if(r!=null){var o=t.getDimensionIndex(r);var s=a.getDimensionProperty(o);return by(n)(i,o,s)}else{var l=i;if(n===Cd){l=Uo(i)}return l}}var Iy=/\{@(.+?)\}/g;var Ty=function(){function t(){}t.prototype.getDataParams=function(t,e){var r=this.getData(e);var i=this.getRawValue(t,e);var a=r.getRawIndex(t);var n=r.getName(t);var o=r.getRawDataItem(t);var s=r.getItemVisual(t,"style");var l=s&&s[r.getItemVisual(t,"drawType")||"fill"];var u=s&&s.stroke;var f=this.mainType;var h=f==="series";var v=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:n,dataIndex:a,data:o,dataType:e,value:i,color:l,borderColor:u,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}};t.prototype.getFormattedLabel=function(t,e,r,i,a,n){e=e||"normal";var o=this.getData(r);var s=this.getDataParams(t,r);if(n){s.value=n.interpolatedValue}if(i!=null&&J(s.value)){s.value=s.value[i]}if(!a){var l=o.getItemModel(t);a=l.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if($(a)){s.status=e;s.dimensionIndex=i;return a(s)}else if(Q(a)){var u=$p(a,s);return u.replace(Iy,function(e,r){var i=r.length;var a=r;if(a.charAt(0)==="["&&a.charAt(i-1)==="]"){a=+a.slice(1,i-1);if(true){if(isNaN(a)){Oo("Invalide label formatter: @"+r+", only support @[0], @[1], @[2], ...")}}}var s=My(o,t,a);if(n&&J(n.interpolatedValue)){var l=o.getDimensionIndex(a);if(l>=0){s=n.interpolatedValue[l]}}return s!=null?s+"":""})}};t.prototype.getRawValue=function(t,e){return My(this.getData(e),t)};t.prototype.formatTooltip=function(t,e,r){return};return t}();function Cy(t){var e;var r;if(rt(t)){if(t.type){r=t}else{if(true){console.warn("The return type of `formatTooltip` is not supported: "+Eo(t))}}}else{e=t}return{text:e,frag:r}}function Dy(t){return new Ay(t)}var Ay=function(){function t(t){t=t||{};this._reset=t.reset;this._plan=t.plan;this._count=t.count;this._onDirty=t.onDirty;this._dirty=true}t.prototype.perform=function(t){var e=this._upstream;var r=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var a;if(this._plan&&!r){a=this._plan(this.context)}var n=u(this._modBy);var o=this._modDataCount||0;var s=u(t&&t.modBy);var l=t&&t.modDataCount||0;if(n!==s||o!==l){a="reset"}function u(t){!(t>=1)&&(t=1);return t}var f;if(this._dirty||a==="reset"){this._dirty=false;f=this._doReset(r)}this._modBy=s;this._modDataCount=l;var h=t&&t.step;if(e){if(true){dt(e._outputDueEnd!=null)}this._dueEnd=e._outputDueEnd}else{if(true){dt(!this._progress||this._count)}this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var v=this._dueIndex;var c=Math.min(h!=null?this._dueIndex+h:Infinity,this._dueEnd);if(!r&&(f||v<c)){var p=this._progress;if(J(p)){for(var d=0;d<p.length;d++){this._doProgress(p[d],v,c,s,l)}}else{this._doProgress(p,v,c,s,l)}}this._dueIndex=c;var g=this._settedOutputEnd!=null?this._settedOutputEnd:c;if(true){dt(g>=this._outputDueEnd)}this._outputDueEnd=g}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};t.prototype.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};t.prototype._doProgress=function(t,e,r,i,a){ky.reset(e,r,i,a);this._callingProgress=t;this._callingProgress({start:e,end:r,count:r-e,next:ky.next},this.context)};t.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0;this._settedOutputEnd=null;var e;var r;if(!t&&this._reset){e=this._reset(this.context);if(e&&e.progress){r=e.forceFirstProgress;e=e.progress}if(J(e)&&!e.length){e=null}}this._progress=e;this._modBy=this._modDataCount=null;var i=this._downstream;i&&i.dirty();return r};t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};t.prototype.pipe=function(t){if(true){dt(t&&!t._disposed&&t!==this)}if(this._downstream!==t||this._dirty){this._downstream=t;t._upstream=this;t.dirty()}};t.prototype.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};t.prototype.getUpstream=function(){return this._upstream};t.prototype.getDownstream=function(){return this._downstream};t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};return t}();var ky=function(){var t;var e;var r;var i;var a;var n={reset:function(l,u,f,h){e=l;t=u;r=f;i=h;a=Math.ceil(i/r);n.next=r>1&&i>0?s:o}};return n;function o(){return e<t?e++:null}function s(){var n=e%a*r+Math.ceil(e/a);var o=e>=t?null:n<i?n:e;e++;return o}}();function Ly(t,e){var r=e&&e.type;if(r==="ordinal"){return t}if(r==="time"&&!et(t)&&t!=null&&t!=="-"){t=+go(t)}return t==null||t===""?NaN:Number(t)}var Py=Mt({number:function(t){return parseFloat(t)},time:function(t){return+go(t)},trim:function(t){return Q(t)?gt(t):t}});function Oy(t){return Py.get(t)}var Ry={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}};var Ny=function(){function t(t,e){if(!et(e)){var r="";if(true){r='rvalue of "<", ">", "<=", ">=" can only be number in filter.'}zo(r)}this._opFn=Ry[t];this._rvalFloat=bo(e)}t.prototype.evaluate=function(t){return et(t)?this._opFn(t,this._rvalFloat):this._opFn(bo(t),this._rvalFloat)};return t}();var Ey=function(){function t(t,e){var r=t==="desc";this._resultLT=r?1:-1;if(e==null){e=r?"min":"max"}this._incomparable=e==="min"?-Infinity:Infinity}t.prototype.evaluate=function(t,e){var r=et(t)?t:bo(t);var i=et(e)?e:bo(e);var a=isNaN(r);var n=isNaN(i);if(a){r=this._incomparable}if(n){i=this._incomparable}if(a&&n){var o=Q(t);var s=Q(e);if(o){r=s?t:0}if(s){i=o?e:0}}return r<i?this._resultLT:r>i?-this._resultLT:0};return t}();var zy=function(){function t(t,e){this._rval=e;this._isEQ=t;this._rvalTypeof=typeof e;this._rvalFloat=bo(e)}t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var r=typeof t;if(r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")){e=bo(t)===this._rvalFloat}}return this._isEQ?e:!e};return t}();function Vy(t,e){return t==="eq"||t==="ne"?new zy(t==="eq",e):Dt(Ry,t)?new Ny(t,e):null}var By=function(){function t(){}t.prototype.getRawData=function(){throw new Error("not supported")};t.prototype.getRawDataItem=function(t){throw new Error("not supported")};t.prototype.cloneRawData=function(){return};t.prototype.getDimensionInfo=function(t){return};t.prototype.cloneAllDimensionInfo=function(){return};t.prototype.count=function(){return};t.prototype.retrieveValue=function(t,e){return};t.prototype.retrieveValueFromItem=function(t,e){return};t.prototype.convertValue=function(t,e){return Ly(t,e)};return t}();function Fy(t,e){var r=new By;var i=t.data;var a=r.sourceFormat=t.sourceFormat;var n=t.startIndex;var o="";if(t.seriesLayoutBy!==Od){if(true){o='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'}zo(o)}var s=[];var l={};var u=t.dimensionsDefine;if(u){H(u,function(t,e){var r=t.name;var i={index:e,name:r,displayName:t.displayName};s.push(i);if(r!=null){var a="";if(Dt(l,r)){if(true){a='dimension name "'+r+'" duplicated.'}zo(a)}l[r]=i}})}else{for(var f=0;f<t.dimensionsDetectedCount||0;f++){s.push({index:f})}}var h=gy(a,Od);if(e.__isBuiltIn){r.getRawDataItem=function(t){return h(i,n,s,t)};r.getRawData=q(Gy,null,t)}r.cloneRawData=q(Hy,null,t);var v=xy(a,Od);r.count=q(v,null,i,n,s);var c=by(a);r.retrieveValue=function(t,e){var r=h(i,n,s,t);return p(r,e)};var p=r.retrieveValueFromItem=function(t,e){if(t==null){return}var r=s[e];if(r){return c(t,e,r.name)}};r.getDimensionInfo=q(Wy,null,s,l);r.cloneAllDimensionInfo=q(Uy,null,s);return r}function Gy(t){var e=t.sourceFormat;if(!qy(e)){var r="";if(true){r="`getRawData` is not supported in source format "+e}zo(r)}return t.data}function Hy(t){var e=t.sourceFormat;var r=t.data;if(!qy(e)){var i="";if(true){i="`cloneRawData` is not supported in source format "+e}zo(i)}if(e===Dd){var a=[];for(var n=0,o=r.length;n<o;n++){a.push(r[n].slice())}return a}else if(e===Ad){var a=[];for(var n=0,o=r.length;n<o;n++){a.push(N({},r[n]))}return a}}function Wy(t,e,r){if(r==null){return}if(et(r)||!isNaN(r)&&!Dt(e,r)){return t[r]}else if(Dt(e,r)){return e[r]}}function Uy(t){return P(t)}var Yy=Mt();function Xy(t){t=P(t);var e=t.type;var r="";if(!e){if(true){r="Must have a `type` when `registerTransform`."}zo(r)}var i=e.split(":");if(i.length!==2){if(true){r='Name must include namespace like "ns:regression".'}zo(r)}var a=false;if(i[0]==="echarts"){e=i[1];a=true}t.__isBuiltIn=a;Yy.set(e,t)}function Zy(t,e,r){var i=Go(t);var a=i.length;var n="";if(!a){if(true){n="If `transform` declared, it should at least contain one transform."}zo(n)}for(var o=0,s=a;o<s;o++){var l=i[o];e=jy(l,e,r,a===1?null:o);if(o!==s-1){e.length=Math.max(e.length,1)}}return e}function jy(t,e,r,i){var a="";if(!e.length){if(true){a="Must have at least one upstream dataset."}zo(a)}if(!rt(t)){if(true){a="transform declaration must be an object rather than "+typeof t+"."}zo(a)}var n=t.type;var o=Yy.get(n);if(!o){if(true){a='Can not find transform on type "'+n+'".'}zo(a)}var s=W(e,function(t){return Fy(t,o)});var l=Go(o.transform({upstream:s[0],upstreamList:s,config:P(t.config)}));if(true){if(t.print){var u=W(l,function(t){var e=i!=null?" === pipe index: "+i:"";return["=== dataset index: "+r.datasetIndex+e+" ===","- transform result data:",Eo(t.data),"- transform result dimensions:",Eo(t.dimensions)].join("\n")}).join("\n");Lo(u)}}return W(l,function(t,r){var i="";if(!rt(t)){if(true){i="A transform should not return some empty results."}zo(i)}if(!t.data){if(true){i="Transform result data should be not be null or undefined"}zo(i)}var a=ry(t.data);if(!qy(a)){if(true){i="Transform result data should be array rows or object rows."}zo(i)}var n;var o=e[0];if(o&&r===0&&!t.dimensions){var s=o.startIndex;if(s){t.data=o.data.slice(0,s).concat(t.data)}n={seriesLayoutBy:Od,sourceHeader:s,dimensions:o.metaRawOption.dimensions}}else{n={seriesLayoutBy:Od,sourceHeader:0,dimensions:t.dimensions}}return Qg(t.data,n,null)})}function qy(t){return t===Dd||t===Ad}var Ky="undefined";var Jy=typeof Uint32Array===Ky?Array:Uint32Array;var $y=typeof Uint16Array===Ky?Array:Uint16Array;var Qy=typeof Int32Array===Ky?Array:Int32Array;var tm=typeof Float64Array===Ky?Array:Float64Array;var em={float:tm,int:Qy,ordinal:Array,number:Array,time:tm};var rm;function im(t){return t>65535?Jy:$y}function am(){return[Infinity,-Infinity]}function nm(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function om(t,e,r,i,a){var n=em[r||"float"];if(a){var o=t[e];var s=o&&o.length;if(!(s===i)){var l=new n(i);for(var u=0;u<s;u++){l[u]=o[u]}t[e]=l}}else{t[e]=new n(i)}}var sm=function(){function t(){this._chunks=[];this._rawExtent=[];this._extent=[];this._count=0;this._rawCount=0;this._calcDimNameToIdx=Mt()}t.prototype.initData=function(t,e,r){if(true){dt($(t.getItem)&&$(t.count),"Invalid data provider.")}this._provider=t;this._chunks=[];this._indices=null;this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource();var a=this.defaultDimValueGetter=rm[i.sourceFormat];this._dimValueGetter=r||a;this._rawExtent=[];var n=sy(i);this._dimensions=W(e,function(t){if(true){if(n){dt(t.property!=null)}}return{type:t.type,property:t.property}});this._initDataFromProvider(0,t.count())};t.prototype.getProvider=function(){return this._provider};t.prototype.getSource=function(){return this._provider.getSource()};t.prototype.ensureCalculationDimension=function(t,e){var r=this._calcDimNameToIdx;var i=this._dimensions;var a=r.get(t);if(a!=null){if(i[a].type===e){return a}}else{a=i.length}i[a]={type:e};r.set(t,a);this._chunks[a]=new em[e||"float"](this._rawCount);this._rawExtent[a]=am();return a};t.prototype.collectOrdinalMeta=function(t,e){var r=this._chunks[t];var i=this._dimensions[t];var a=this._rawExtent;var n=i.ordinalOffset||0;var o=r.length;if(n===0){a[t]=am()}var s=a[t];for(var l=n;l<o;l++){var u=r[l]=e.parseAndCollect(r[l]);if(!isNaN(u)){s[0]=Math.min(u,s[0]);s[1]=Math.max(u,s[1])}}i.ordinalMeta=e;i.ordinalOffset=o;i.type="ordinal"};t.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t];var r=e.ordinalMeta;return r};t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property};t.prototype.appendData=function(t){if(true){dt(!this._indices,"appendData can only be called on raw data.")}var e=this._provider;var r=this.count();e.appendData(t);var i=e.count();if(!e.persistent){i+=r}if(r<i){this._initDataFromProvider(r,i,true)}return[r,i]};t.prototype.appendValues=function(t,e){var r=this._chunks;var i=this._dimensions;var a=i.length;var n=this._rawExtent;var o=this.count();var s=o+Math.max(t.length,e||0);for(var l=0;l<a;l++){var u=i[l];om(r,l,u.type,s,true)}var f=[];for(var h=o;h<s;h++){var v=h-o;for(var c=0;c<a;c++){var u=i[c];var p=rm.arrayRows.call(this,t[v]||f,u.property,v,c);r[c][h]=p;var d=n[c];p<d[0]&&(d[0]=p);p>d[1]&&(d[1]=p)}}this._rawCount=this._count=s;return{start:o,end:s}};t.prototype._initDataFromProvider=function(t,e,r){var i=this._provider;var a=this._chunks;var n=this._dimensions;var o=n.length;var s=this._rawExtent;var l=W(n,function(t){return t.property});for(var u=0;u<o;u++){var f=n[u];if(!s[u]){s[u]=am()}om(a,u,f.type,e,r)}if(i.fillStorage){i.fillStorage(t,e,a,s)}else{var h=[];for(var v=t;v<e;v++){h=i.getItem(v,h);for(var c=0;c<o;c++){var p=a[c];var d=this._dimValueGetter(h,l[c],v,c);p[v]=d;var g=s[c];d<g[0]&&(g[0]=d);d>g[1]&&(g[1]=d)}}}if(!i.persistent&&i.clean){i.clean()}this._rawCount=this._count=e;this._extent=[]};t.prototype.count=function(){return this._count};t.prototype.get=function(t,e){if(!(e>=0&&e<this._count)){return NaN}var r=this._chunks[t];return r?r[this.getRawIndex(e)]:NaN};t.prototype.getValues=function(t,e){var r=[];var i=[];if(e==null){e=t;t=[];for(var a=0;a<this._dimensions.length;a++){i.push(a)}}else{i=t}for(var a=0,n=i.length;a<n;a++){r.push(this.get(i[a],e))}return r};t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount)){return NaN}var r=this._chunks[t];return r?r[e]:NaN};t.prototype.getSum=function(t){var e=this._chunks[t];var r=0;if(e){for(var i=0,a=this.count();i<a;i++){var n=this.get(t,i);if(!isNaN(n)){r+=n}}}return r};t.prototype.getMedian=function(t){var e=[];this.each([t],function(t){if(!isNaN(t)){e.push(t)}});var r=e.sort(function(t,e){return t-e});var i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2};t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0){return-1}if(!this._indices){return t}var e=this._indices;var r=e[t];if(r!=null&&r<this._count&&r===t){return t}var i=0;var a=this._count-1;while(i<=a){var n=(i+a)/2|0;if(e[n]<t){i=n+1}else if(e[n]>t){a=n-1}else{return n}}return-1};t.prototype.indicesOfNearest=function(t,e,r){var i=this._chunks;var a=i[t];var n=[];if(!a){return n}if(r==null){r=Infinity}var o=Infinity;var s=-1;var l=0;for(var u=0,f=this.count();u<f;u++){var h=this.getRawIndex(u);var v=e-a[h];var c=Math.abs(v);if(c<=r){if(c<o||c===o&&v>=0&&s<0){o=c;s=v;l=0}if(v===s){n[l++]=u}}}n.length=l;return n};t.prototype.getIndices=function(){var t;var e=this._indices;if(e){var r=e.constructor;var i=this._count;if(r===Array){t=new r(i);for(var a=0;a<i;a++){t[a]=e[a]}}else{t=new r(e.buffer,0,i)}}else{var r=im(this._rawCount);t=new r(this.count());for(var a=0;a<t.length;a++){t[a]=a}}return t};t.prototype.filter=function(t,e){if(!this._count){return this}var r=this.clone();var i=r.count();var a=im(r._rawCount);var n=new a(i);var o=[];var s=t.length;var l=0;var u=t[0];var f=r._chunks;for(var h=0;h<i;h++){var v=void 0;var c=r.getRawIndex(h);if(s===0){v=e(h)}else if(s===1){var p=f[u][c];v=e(p,h)}else{var d=0;for(;d<s;d++){o[d]=f[t[d]][c]}o[d]=h;v=e.apply(null,o)}if(v){n[l++]=c}}if(l<i){r._indices=n}r._count=l;r._extent=[];r._updateGetRawIdx();return r};t.prototype.selectRange=function(t){var e=this.clone();var r=e._count;if(!r){return this}var i=Z(t);var a=i.length;if(!a){return this}var n=e.count();var o=im(e._rawCount);var s=new o(n);var l=0;var u=i[0];var f=t[u][0];var h=t[u][1];var v=e._chunks;var c=false;if(!e._indices){var p=0;if(a===1){var d=v[i[0]];for(var g=0;g<r;g++){var y=d[g];if(y>=f&&y<=h||isNaN(y)){s[l++]=p}p++}c=true}else if(a===2){var d=v[i[0]];var m=v[i[1]];var x=t[i[1]][0];var _=t[i[1]][1];for(var g=0;g<r;g++){var y=d[g];var w=m[g];if((y>=f&&y<=h||isNaN(y))&&(w>=x&&w<=_||isNaN(w))){s[l++]=p}p++}c=true}}if(!c){if(a===1){for(var g=0;g<n;g++){var b=e.getRawIndex(g);var y=v[i[0]][b];if(y>=f&&y<=h||isNaN(y)){s[l++]=b}}}else{for(var g=0;g<n;g++){var S=true;var b=e.getRawIndex(g);for(var M=0;M<a;M++){var I=i[M];var y=v[I][b];if(y<t[I][0]||y>t[I][1]){S=false}}if(S){s[l++]=e.getRawIndex(g)}}}}if(l<n){e._indices=s}e._count=l;e._extent=[];e._updateGetRawIdx();return e};t.prototype.map=function(t,e){var r=this.clone(t);this._updateDims(r,t,e);return r};t.prototype.modify=function(t,e){this._updateDims(this,t,e)};t.prototype._updateDims=function(t,e,r){var i=t._chunks;var a=[];var n=e.length;var o=t.count();var s=[];var l=t._rawExtent;for(var u=0;u<e.length;u++){l[e[u]]=am()}for(var f=0;f<o;f++){var h=t.getRawIndex(f);for(var v=0;v<n;v++){s[v]=i[e[v]][h]}s[n]=f;var c=r&&r.apply(null,s);if(c!=null){if(typeof c!=="object"){a[0]=c;c=a}for(var u=0;u<c.length;u++){var p=e[u];var d=c[u];var g=l[p];var y=i[p];if(y){y[h]=d}if(d<g[0]){g[0]=d}if(d>g[1]){g[1]=d}}}}};t.prototype.lttbDownSample=function(t,e){var r=this.clone([t],true);var i=r._chunks;var a=i[t];var n=this.count();var o=0;var s=Math.floor(1/e);var l=this.getRawIndex(0);var u;var f;var h;var v=new(im(this._rawCount))(Math.min((Math.ceil(n/s)+2)*2,n));v[o++]=l;for(var c=1;c<n-1;c+=s){var p=Math.min(c+s,n-1);var d=Math.min(c+s*2,n);var g=(d+p)/2;var y=0;for(var m=p;m<d;m++){var x=this.getRawIndex(m);var _=a[x];if(isNaN(_)){continue}y+=_}y/=d-p;var w=c;var b=Math.min(c+s,n);var S=c-1;var M=a[l];u=-1;h=w;var I=-1;var T=0;for(var m=w;m<b;m++){var x=this.getRawIndex(m);var _=a[x];if(isNaN(_)){T++;if(I<0){I=x}continue}f=Math.abs((S-g)*(_-M)-(S-m)*(y-M));if(f>u){u=f;h=x}}if(T>0&&T<b-w){v[o++]=Math.min(I,h);h=Math.max(I,h)}v[o++]=h;l=h}v[o++]=this.getRawIndex(n-1);r._count=o;r._indices=v;r.getRawIndex=this._getRawIdx;return r};t.prototype.minmaxDownSample=function(t,e){var r=this.clone([t],true);var i=r._chunks;var a=Math.floor(1/e);var n=i[t];var o=this.count();var s=new(im(this._rawCount))(Math.ceil(o/a)*2);var l=0;for(var u=0;u<o;u+=a){var f=u;var h=n[this.getRawIndex(f)];var v=u;var c=n[this.getRawIndex(v)];var p=a;if(u+a>o){p=o-u}for(var d=0;d<p;d++){var g=this.getRawIndex(u+d);var y=n[g];if(y<h){h=y;f=u+d}if(y>c){c=y;v=u+d}}var m=this.getRawIndex(f);var x=this.getRawIndex(v);if(f<v){s[l++]=m;s[l++]=x}else{s[l++]=x;s[l++]=m}}r._count=l;r._indices=s;r._updateGetRawIdx();return r};t.prototype.downSample=function(t,e,r,i){var a=this.clone([t],true);var n=a._chunks;var o=[];var s=Math.floor(1/e);var l=n[t];var u=this.count();var f=a._rawExtent[t]=am();var h=new(im(this._rawCount))(Math.ceil(u/s));var v=0;for(var c=0;c<u;c+=s){if(s>u-c){s=u-c;o.length=s}for(var p=0;p<s;p++){var d=this.getRawIndex(c+p);o[p]=l[d]}var g=r(o);var y=this.getRawIndex(Math.min(c+i(o,g)||0,u-1));l[y]=g;if(g<f[0]){f[0]=g}if(g>f[1]){f[1]=g}h[v++]=y}a._count=v;a._indices=h;a._updateGetRawIdx();return a};t.prototype.each=function(t,e){if(!this._count){return}var r=t.length;var i=this._chunks;for(var a=0,n=this.count();a<n;a++){var o=this.getRawIndex(a);switch(r){case 0:e(a);break;case 1:e(i[t[0]][o],a);break;case 2:e(i[t[0]][o],i[t[1]][o],a);break;default:var s=0;var l=[];for(;s<r;s++){l[s]=i[t[s]][o]}l[s]=a;e.apply(null,l)}}};t.prototype.getDataExtent=function(t){var e=this._chunks[t];var r=am();if(!e){return r}var i=this.count();var a=!this._indices;var n;if(a){return this._rawExtent[t].slice()}n=this._extent[t];if(n){return n.slice()}n=r;var o=n[0];var s=n[1];for(var l=0;l<i;l++){var u=this.getRawIndex(l);var f=e[u];f<o&&(o=f);f>s&&(s=f)}n=[o,s];this._extent[t]=n;return n};t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(!this._provider.persistent){var r=[];var i=this._chunks;for(var a=0;a<i.length;a++){r.push(i[a][e])}return r}else{return this._provider.getItem(e)}};t.prototype.clone=function(e,r){var i=new t;var a=this._chunks;var n=e&&U(e,function(t,e){t[e]=true;return t},{});if(n){for(var o=0;o<a.length;o++){i._chunks[o]=!n[o]?a[o]:nm(a[o])}}else{i._chunks=a}this._copyCommonProps(i);if(!r){i._indices=this._cloneIndices()}i._updateGetRawIdx();return i};t.prototype._copyCommonProps=function(t){t._count=this._count;t._rawCount=this._rawCount;t._provider=this._provider;t._dimensions=this._dimensions;t._extent=P(this._extent);t._rawExtent=P(this._rawExtent)};t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor;var e=void 0;if(t===Array){var r=this._indices.length;e=new t(r);for(var i=0;i<r;i++){e[i]=this._indices[i]}}else{e=new t(this._indices)}return e}return null};t.prototype._getRawIdxIdentity=function(t){return t};t.prototype._getRawIdx=function(t){if(t<this._count&&t>=0){return this._indices[t]}return-1};t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity};t.internalField=function(){function t(t,e,r,i){return Ly(t[i],this._dimensions[i])}rm={arrayRows:t,objectRows:function(t,e,r,i){return Ly(t[e],this._dimensions[i])},keyedColumns:t,original:function(t,e,r,i){var a=t&&(t.value==null?t:t.value);return Ly(a instanceof Array?a[i]:a,this._dimensions[i])},typedArray:function(t,e,r,i){return t[i]}}}();return t}();var lm=function(){function t(t){this._sourceList=[];this._storeList=[];this._upstreamSignList=[];this._versionSignBase=0;this._dirty=true;this._sourceHost=t}t.prototype.dirty=function(){this._setLocalSource([],[]);this._storeList=[];this._dirty=true};t.prototype._setLocalSource=function(t,e){this._sourceList=t;this._upstreamSignList=e;this._versionSignBase++;if(this._versionSignBase>9e10){this._versionSignBase=0}};t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase};t.prototype.prepareSource=function(){if(this._isDirty()){this._createSource();this._dirty=false}};t.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost;var e=this._getUpstreamSourceManagers();var r=!!e.length;var i;var a;if(fm(t)){var n=t;var o=void 0;var s=void 0;var l=void 0;if(r){var u=e[0];u.prepareSource();l=u.getSource();o=l.data;s=l.sourceFormat;a=[u._getVersionSign()]}else{o=n.get("data",true);s=at(o)?Ld:Cd;a=[]}var f=this._getSourceMetaRawOption()||{};var h=l&&l.metaRawOption||{};var v=ht(f.seriesLayoutBy,h.seriesLayoutBy)||null;var c=ht(f.sourceHeader,h.sourceHeader);var p=ht(f.dimensions,h.dimensions);var d=v!==h.seriesLayoutBy||!!c!==!!h.sourceHeader||p;i=d?[Qg(o,{seriesLayoutBy:v,sourceHeader:c,dimensions:p},s)]:[]}else{var g=t;if(r){var y=this._applyTransform(e);i=y.sourceList;a=y.upstreamSignList}else{var m=g.get("source",true);i=[Qg(m,this._getSourceMetaRawOption(),null)];a=[]}}if(true){dt(i&&a)}this._setLocalSource(i,a)};t.prototype._applyTransform=function(t){var e=this._sourceHost;var r=e.get("transform",true);var i=e.get("fromTransformResult",true);if(true){dt(i!=null||r!=null)}if(i!=null){var a="";if(t.length!==1){if(true){a="When using `fromTransformResult`, there should be only one upstream dataset"}hm(a)}}var n;var o=[];var s=[];H(t,function(t){t.prepareSource();var e=t.getSource(i||0);var r="";if(i!=null&&!e){if(true){r="Can not retrieve result by `fromTransformResult`: "+i}hm(r)}o.push(e);s.push(t._getVersionSign())});if(r){n=Zy(r,o,{datasetIndex:e.componentIndex})}else if(i!=null){n=[ey(o[0])]}return{sourceList:n,upstreamSignList:s}};t.prototype._isDirty=function(){if(this._dirty){return true}var t=this._getUpstreamSourceManagers();for(var e=0;e<t.length;e++){var r=t[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign()){return true}}};t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return e};t.prototype.getSharedDataStore=function(t){if(true){dt(fm(this._sourceHost),"Can only call getDataStore on series source manager.")}var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)};t.prototype._innerGetDataStore=function(t,e,r){var i=0;var a=this._storeList;var n=a[i];if(!n){n=a[i]={}}var o=n[r];if(!o){var s=this._getUpstreamSourceManagers()[0];if(fm(this._sourceHost)&&s){o=s._innerGetDataStore(t,e,r)}else{o=new sm;o.initData(new cy(e,t.length),t)}n[r]=o}return o};t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(fm(t)){var e=Fd(t);return!e?[]:[e.getSourceManager()]}else{return W(Gd(t),function(t){return t.getSourceManager()})}};t.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost;var e;var r;var i;if(fm(t)){e=t.get("seriesLayoutBy",true);r=t.get("sourceHeader",true);i=t.get("dimensions",true)}else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",true);r=a.get("sourceHeader",true);i=a.get("dimensions",true)}return{seriesLayoutBy:e,sourceHeader:r,dimensions:i}};return t}();function um(t){var e=t.option.transform;e&&mt(t.option.transform)}function fm(t){return t.mainType==="series"}function hm(t){throw new Error(t)}var vm="line-height:1";function cm(t){var e=t.lineHeight;if(e==null){return vm}else{return"line-height:"+xe(e+"")+"px"}}function pm(t,e){var r=t.color||"#6e7079";var i=t.fontSize||12;var a=t.fontWeight||"400";var n=t.color||"#464646";var o=t.fontSize||14;var s=t.fontWeight||"900";if(e==="html"){return{nameStyle:"font-size:"+xe(i+"")+"px;color:"+xe(r)+";font-weight:"+xe(a+""),valueStyle:"font-size:"+xe(o+"")+"px;color:"+xe(n)+";font-weight:"+xe(s+"")}}else{return{nameStyle:{fontSize:i,fill:r,fontWeight:a},valueStyle:{fontSize:o,fill:n,fontWeight:s}}}}var dm=[0,10,20,30];var gm=["","\n","\n\n","\n\n\n"];function ym(t,e){e.type=t;return e}function mm(t){return t.type==="section"}function xm(t){return mm(t)?wm:bm}function _m(t){if(mm(t)){var e=0;var r=t.blocks.length;var i=r>1||r>0&&!t.noHeader;H(t.blocks,function(t){var r=_m(t);if(r>=e){e=r+ +(i&&(!r||mm(t)&&!t.noHeader))}});return e}return 0}function wm(t,e,r,i){var a=e.noHeader;var n=Mm(_m(e));var o=[];var s=e.blocks||[];dt(!s||J(s));s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Dt(u,l)){var f=new Ey(u[l],null);s.sort(function(t,e){return f.evaluate(t.sortParam,e.sortParam)})}else if(l==="seriesDesc"){s.reverse()}}H(s,function(r,a){var s=e.valueFormatter;var l=xm(r)(s?N(N({},t),{valueFormatter:s}):t,r,a>0?n.html:0,i);l!=null&&o.push(l)});var h=t.renderMode==="richText"?o.join(n.richText):Im(i,o.join(""),a?r:n.html);if(a){return h}var v=qp(e.header,"ordinal",t.useUTC);var c=pm(i,t.renderMode).nameStyle;var p=cm(i);if(t.renderMode==="richText"){return Dm(t,v,c)+n.richText+h}else{return Im(i,'<div style="'+c+";"+p+';">'+xe(v)+"</div>"+h,r)}}function bm(t,e,r,i){var a=t.renderMode;var n=e.noName;var o=e.noValue;var s=!e.markerType;var l=e.name;var u=t.useUTC;var f=e.valueFormatter||t.valueFormatter||function(t){t=J(t)?t:[t];return W(t,function(t,e){return qp(t,J(c)?c[e]:c,u)})};if(n&&o){return}var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a);var v=n?"":qp(l,"ordinal",u);var c=e.valueType;var p=o?[]:f(e.value,e.dataIndex);var d=!s||!n;var g=!s&&n;var y=pm(i,a),m=y.nameStyle,x=y.valueStyle;return a==="richText"?(s?"":h)+(n?"":Dm(t,v,m))+(o?"":Am(t,p,d,g,x)):Im(i,(s?"":h)+(n?"":Tm(v,!s,m))+(o?"":Cm(p,d,g,x)),r)}function Sm(t,e,r,i,a,n){if(!t){return}var o=xm(t);var s={useUTC:a,renderMode:r,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter};return o(s,t,0,n)}function Mm(t){return{html:dm[t],richText:gm[t]}}function Im(t,e,r){var i='<div style="clear:both"></div>';var a="margin: "+r+"px 0 0";var n=cm(t);return'<div style="'+a+";"+n+';">'+e+i+"</div>"}function Tm(t,e,r){var i=e?"margin-left:2px":"";return'<span style="'+r+";"+i+'">'+xe(t)+"</span>"}function Cm(t,e,r,i){var a=r?"10px":"20px";var n=e?"float:right;margin-left:"+a:"";t=J(t)?t:[t];return'<span style="'+n+";"+i+'">'+W(t,function(t){return xe(t)}).join("&nbsp;&nbsp;")+"</span>"}function Dm(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function Am(t,e,r,i,a){var n=[a];var o=i?10:20;r&&n.push({padding:[0,0,0,o],align:"right"});return t.markupStyleCreator.wrapRichTextStyle(J(e)?e.join("  "):e,n)}function km(t,e){var r=t.getData().getItemVisual(e,"style");var i=r[t.visualDrawType];return id(i)}function Lm(t,e){var r=t.get("padding");return r!=null?r:e==="richText"?[8,10]:10}var Pm=function(){function t(){this.richTextStyles={};this._nextStyleNameId=Mo()}t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++};t.prototype.makeTooltipMarker=function(t,e,r){var i=r==="richText"?this._generateStyleName():null;var a=td({color:e,type:t,renderMode:r,markerId:i});if(Q(a)){return a}else{if(true){dt(i)}this.richTextStyles[i]=a.style;return a.content}};t.prototype.wrapRichTextStyle=function(t,e){var r={};if(J(e)){H(e,function(t){return N(r,t)})}else{N(r,e)}var i=this._generateStyleName();this.richTextStyles[i]=r;return"{"+i+"|"+t+"}"};return t}();function Om(t){var e=t.series;var r=t.dataIndex;var i=t.multipleSeries;var a=e.getData();var n=a.mapDimensionsAll("defaultedTooltip");var o=n.length;var s=e.getRawValue(r);var l=J(s);var u=km(e,r);var f;var h;var v;var c;if(o>1||l&&!o){var p=Rm(s,e,r,n,u);f=p.inlineValues;h=p.inlineValueTypes;v=p.blocks;c=p.inlineValues[0]}else if(o){var d=a.getDimensionInfo(n[0]);c=f=My(a,r,n[0]);h=d.type}else{c=f=l?s[0]:s}var g=as(e);var y=g&&e.name||"";var m=a.getName(r);var x=i?y:m;return ym("section",{header:y,noHeader:i||!g,sortParam:c,blocks:[ym("nameValue",{markerType:"item",markerColor:u,name:x,noName:!gt(x),value:f,valueType:h,dataIndex:r})].concat(v||[])})}function Rm(t,e,r,i,a){var n=e.getData();var o=U(t,function(t,e,r){var i=n.getDimensionInfo(r);return t=t||i&&i.tooltip!==false&&i.displayName!=null},false);var s=[];var l=[];var u=[];i.length?H(i,function(t){f(My(n,r,t),t)}):H(t,f);function f(t,e){var r=n.getDimensionInfo(e);if(!r||r.otherDims.tooltip===false){return}if(o){u.push(ym("nameValue",{markerType:"subItem",markerColor:a,name:r.displayName,value:t,valueType:r.type}))}else{s.push(t);l.push(r.type)}}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Nm=hs();function Em(t,e){return t.getName(e)||t.getId(e)}var zm="__universalTransitionEnabled";var Vm=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._selectedDataIndicesMap={};return e}e.prototype.init=function(t,e,r){this.seriesIndex=this.componentIndex;this.dataTask=Dy({count:Gm,reset:Hm});this.dataTask.context={model:this};this.mergeDefaultAndTheme(t,r);var i=Nm(this).sourceManager=new lm(this);i.prepareSource();var a=this.getInitialData(t,r);Um(a,this);this.dataTask.context.data=a;if(true){dt(a,"getInitialData returned invalid data.")}Nm(this).dataBeforeProcessed=a;Bm(this);this._initSelectedMapFromData(a)};e.prototype.mergeDefaultAndTheme=function(t,e){var r=gd(this);var i=r?md(t):{};var a=this.subType;if(wd.hasClass(a)){a+="Series"}O(t,e.getTheme().get(this.subType));O(t,this.getDefaultOption());Ho(t,"label",["show"]);this.fillDataTextStyle(t.data);if(r){yd(t,i,r)}};e.prototype.mergeOption=function(t,e){t=O(this.option,t,true);this.fillDataTextStyle(t.data);var r=gd(this);if(r){yd(this.option,t,r)}var i=Nm(this).sourceManager;i.dirty();i.prepareSource();var a=this.getInitialData(t,e);Um(a,this);this.dataTask.dirty();this.dataTask.context.data=a;Nm(this).dataBeforeProcessed=a;Bm(this);this._initSelectedMapFromData(a)};e.prototype.fillDataTextStyle=function(t){if(t&&!at(t)){var e=["show"];for(var r=0;r<t.length;r++){if(t[r]&&t[r].label){Ho(t[r],"label",e)}}}};e.prototype.getInitialData=function(t,e){return};e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)};e.prototype.getData=function(t){var e=Xm(this);if(e){var r=e.context.data;return t==null||!r.getLinkedData?r:r.getLinkedData(t)}else{return Nm(this).data}};e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]};e.prototype.setData=function(t){var e=Xm(this);if(e){var r=e.context;r.outputData=t;if(e!==this.dataTask){r.data=t}}Nm(this).data=t};e.prototype.getEncode=function(){var t=this.get("encode",true);if(t){return Mt(t)}};e.prototype.getSourceManager=function(){return Nm(this).sourceManager};e.prototype.getSource=function(){return this.getSourceManager().getSource()};e.prototype.getRawData=function(){return Nm(this).dataBeforeProcessed};e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"};e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"};e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()};e.prototype.formatTooltip=function(t,e,r){return Om({series:this,dataIndex:t,multipleSeries:e})};e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(o.node&&!(t&&t.ssr)){return false}var e=this.getShallow("animation");if(e){if(this.getData().count()>this.getShallow("animationThreshold")){e=false}}return!!e};e.prototype.restoreData=function(){this.dataTask.dirty()};e.prototype.getColorFromPalette=function(t,e,r){var i=this.ecModel;var a=qd.prototype.getColorFromPalette.call(this,t,e,r);if(!a){a=i.getColorFromPalette(t,e,r)}return a};e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)};e.prototype.getProgressive=function(){return this.get("progressive")};e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")};e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)};e.prototype.unselect=function(t,e){var r=this.option.selectedMap;if(!r){return}var i=this.option.selectedMode;var a=this.getData(e);if(i==="series"||r==="all"){this.option.selectedMap={};this._selectedDataIndicesMap={};return}for(var n=0;n<t.length;n++){var o=t[n];var s=Em(a,o);r[s]=false;this._selectedDataIndicesMap[s]=-1}};e.prototype.toggleSelect=function(t,e){var r=[];for(var i=0;i<t.length;i++){r[0]=t[i];this.isSelected(t[i],e)?this.unselect(r,e):this.select(r,e)}};e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all"){return[].slice.call(this.getData().getIndices())}var t=this._selectedDataIndicesMap;var e=Z(t);var r=[];for(var i=0;i<e.length;i++){var a=t[e[i]];if(a>=0){r.push(a)}}return r};e.prototype.isSelected=function(t,e){var r=this.option.selectedMap;if(!r){return false}var i=this.getData(e);return(r==="all"||r[Em(i,t)])&&!i.getItemModel(t).get(["select","disabled"])};e.prototype.isUniversalTransitionEnabled=function(){if(this[zm]){return true}var t=this.option.universalTransition;if(!t){return false}if(t===true){return true}return t&&t.enabled};e.prototype._innerSelect=function(t,e){var r,i;var a=this.option;var n=a.selectedMode;var o=e.length;if(!n||!o){return}if(n==="series"){a.selectedMap="all"}else if(n==="multiple"){if(!rt(a.selectedMap)){a.selectedMap={}}var s=a.selectedMap;for(var l=0;l<o;l++){var u=e[l];var f=Em(t,u);s[f]=true;this._selectedDataIndicesMap[f]=t.getRawIndex(u)}}else if(n==="single"||n===true){var h=e[o-1];var f=Em(t,h);a.selectedMap=(r={},r[f]=true,r);this._selectedDataIndicesMap=(i={},i[f]=t.getRawIndex(h),i)}};e.prototype._initSelectedMapFromData=function(t){if(this.option.selectedMap){return}var e=[];if(t.hasItemOption){t.each(function(r){var i=t.getRawDataItem(r);if(i&&i.selected){e.push(r)}})}if(e.length>0){this._innerSelect(t,e)}};e.registerClass=function(t){return wd.registerClass(t)};e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__";t.seriesIndex=0;t.ignoreStyleOnData=false;t.hasSymbolVisual=false;t.defaultSymbol="circle";t.visualStyleAccessPath="itemStyle";t.visualDrawType="fill"}();return e}(wd);F(Vm,Ty);F(Vm,qd);Ls(Vm,wd);function Bm(t){var e=t.name;if(!as(t)){t.name=Fm(t)||e}}function Fm(t){var e=t.getRawData();var r=e.mapDimensionsAll("seriesName");var i=[];H(r,function(t){var r=e.getDimensionInfo(t);r.displayName&&i.push(r.displayName)});return i.join(" ")}function Gm(t){return t.model.getRawData().count()}function Hm(t){var e=t.model;e.setData(e.getRawData().cloneShallow());return Wm}function Wm(t,e){if(e.outputData&&t.end>e.outputData.count()){e.model.getRawData().cloneShallow(e.outputData)}}function Um(t,e){H(It(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,K(Ym,e))})}function Ym(t,e){var r=Xm(t);if(r){r.setOutputEnd((e||this).count())}return e}function Xm(t){var e=(t.ecModel||{}).scheduler;var r=e&&e.getPipeline(t.uid);if(r){var i=r.currentTask;if(i){var a=i.agentStubMap;if(a){i=a.get(t.uid)}}return i}}var Zm=function(){function t(){this.group=new En;this.uid=Jc("viewComponent")}t.prototype.init=function(t,e){};t.prototype.render=function(t,e,r,i){};t.prototype.dispose=function(t,e){};t.prototype.updateView=function(t,e,r,i){};t.prototype.updateLayout=function(t,e,r,i){};t.prototype.updateVisual=function(t,e,r,i){};t.prototype.toggleBlurSeries=function(t,e,r){};t.prototype.eachRendered=function(t){var e=this.group;if(e){e.traverse(t)}};return t}();As(Zm);Es(Zm);function jm(){var t=hs();return function(e){var r=t(e);var i=e.pipelineContext;var a=!!r.large;var n=!!r.progressiveRender;var o=r.large=!!(i&&i.large);var s=r.progressiveRender=!!(i&&i.progressiveRender);return!!(a!==o||n!==s)&&"reset"}}var qm=hs();var Km=jm();var Jm=function(){function t(){this.group=new En;this.uid=Jc("viewChart");this.renderTask=Dy({plan:tx,reset:ex});this.renderTask.context={view:this}}t.prototype.init=function(t,e){};t.prototype.render=function(t,e,r,i){if(true){throw new Error("render method must been implemented")}};t.prototype.highlight=function(t,e,r,i){var a=t.getData(i&&i.dataType);if(!a){if(true){Oo("Unknown dataType "+i.dataType)}return}Qm(a,i,"emphasis")};t.prototype.downplay=function(t,e,r,i){var a=t.getData(i&&i.dataType);if(!a){if(true){Oo("Unknown dataType "+i.dataType)}return}Qm(a,i,"normal")};t.prototype.remove=function(t,e){this.group.removeAll()};t.prototype.dispose=function(t,e){};t.prototype.updateView=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.updateLayout=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.updateVisual=function(t,e,r,i){this.render(t,e,r,i)};t.prototype.eachRendered=function(t){_c(this.group,t)};t.markUpdateMethod=function(t,e){qm(t).updateMethod=e};t.protoInitialize=function(){var e=t.prototype;e.type="chart"}();return t}();function $m(t,e,r){if(t&&lh(t)){(e==="emphasis"?zf:Vf)(t,r)}}function Qm(t,e,r){var i=fs(t,e);var a=e&&e.highlightKey!=null?fh(e.highlightKey):null;if(i!=null){H(Go(i),function(e){$m(t.getItemGraphicEl(e),r,a)})}else{t.eachItemGraphicEl(function(t){$m(t,r,a)})}}As(Jm,["dispose"]);Es(Jm);function tx(t){return Km(t.model)}function ex(t){var e=t.model;var r=t.ecModel;var i=t.api;var a=t.payload;var n=e.pipelineContext.progressiveRender;var o=t.view;var s=a&&qm(a).updateMethod;var l=n?"incrementalPrepareRender":s&&o[s]?s:"render";if(l!=="render"){o[l](e,r,i,a)}return rx[l]}var rx={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:true,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};var ix="\0__throttleOriginMethod";var ax="\0__throttleRate";var nx="\0__throttleType";function ox(t,e,r){var i;var a=0;var n=0;var o=null;var s;var l;var u;var f;e=e||0;function h(){n=(new Date).getTime();o=null;t.apply(l,u||[])}var v=function(){var t=[];for(var v=0;v<arguments.length;v++){t[v]=arguments[v]}i=(new Date).getTime();l=this;u=t;var c=f||e;var p=f||r;f=null;s=i-(p?a:n)-c;clearTimeout(o);if(p){o=setTimeout(h,c)}else{if(s>=0){h()}else{o=setTimeout(h,-s)}}a=i};v.clear=function(){if(o){clearTimeout(o);o=null}};v.debounceNextCall=function(t){f=t};return v}function sx(t,e,r,i){var a=t[e];if(!a){return}var n=a[ix]||a;var o=a[nx];var s=a[ax];if(s!==r||o!==i){if(r==null||!i){return t[e]=n}a=t[e]=ox(n,r,i==="debounce");a[ix]=n;a[nx]=i;a[ax]=r}return a}function lx(t,e){var r=t[e];if(r&&r[ix]){r.clear&&r.clear();t[e]=r[ix]}}var ux=hs();var fx={itemStyle:zs(Xc,true),lineStyle:zs(Wc,true)};var hx={lineStyle:"stroke",itemStyle:"fill"};function vx(t,e){var r=t.visualStyleMapper||fx[e];if(!r){console.warn("Unknown style type '"+e+"'.");return fx.itemStyle}return r}function cx(t,e){var r=t.visualDrawType||hx[e];if(!r){console.warn("Unknown style type '"+e+"'.");return"fill"}return r}var px={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){var r=t.getData();var i=t.visualStyleAccessPath||"itemStyle";var a=t.getModel(i);var n=vx(t,i);var o=n(a);var s=a.getShallow("decal");if(s){r.setVisual("decal",s);s.dirty=true}var l=cx(t,i);var u=o[l];var f=$(u)?u:null;var h=o.fill==="auto"||o.stroke==="auto";if(!o[l]||f||h){var v=t.getColorFromPalette(t.name,null,e.getSeriesCount());if(!o[l]){o[l]=v;r.setVisual("colorFromPalette",true)}o.fill=o.fill==="auto"||$(o.fill)?v:o.fill;o.stroke=o.stroke==="auto"||$(o.stroke)?v:o.stroke}r.setVisual("style",o);r.setVisual("drawType",l);if(!e.isSeriesFiltered(t)&&f){r.setVisual("colorFromPalette",false);return{dataEach:function(e,r){var i=t.getDataParams(r);var a=N({},o);a[l]=f(i);e.setItemVisual(r,"style",a)}}}}};var dx=new qc;var gx={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){if(t.ignoreStyleOnData||e.isSeriesFiltered(t)){return}var r=t.getData();var i=t.visualStyleAccessPath||"itemStyle";var a=vx(t,i);var n=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(t,e){var r=t.getRawDataItem(e);if(r&&r[i]){dx.option=r[i];var o=a(dx);var s=t.ensureUniqueItemVisual(e,"style");N(s,o);if(dx.option.decal){t.setItemVisual(e,"decal",dx.option.decal);dx.option.decal.dirty=true}if(n in o){t.setItemVisual(e,"colorFromPalette",false)}}}:null}}};var yx={performRawSeries:true,overallReset:function(t){var e=Mt();t.eachSeries(function(t){var r=t.getColorBy();if(t.isColorBySeries()){return}var i=t.type+"-"+r;var a=e.get(i);if(!a){a={};e.set(i,a)}ux(t).scope=a});t.eachSeries(function(e){if(e.isColorBySeries()||t.isSeriesFiltered(e)){return}var r=e.getRawData();var i={};var a=e.getData();var n=ux(e).scope;var o=e.visualStyleAccessPath||"itemStyle";var s=cx(e,o);a.each(function(t){var e=a.getRawIndex(t);i[e]=t});r.each(function(t){var o=i[t];var l=a.getItemVisual(o,"colorFromPalette");if(l){var u=a.ensureUniqueItemVisual(o,"style");var f=r.getName(t)||t+"";var h=r.count();u[s]=e.getColorFromPalette(f,n,h)}})})}};var mx=Math.PI;function xx(t,e){e=e||{};E(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:true,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new En;var i=new Nu({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(i);var a=new Bu({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001});var n=new Nu({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(n);var o;if(e.showSpinner){o=new _v({shape:{startAngle:-mx/2,endAngle:-mx/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});o.animateShape(true).when(1e3,{endAngle:mx*3/2}).start("circularInOut");o.animateShape(true).when(1e3,{startAngle:mx*3/2}).delay(300).start("circularInOut");r.add(o)}r.resize=function(){var r=a.getBoundingRect().width;var s=e.showSpinner?e.spinnerRadius:0;var l=(t.getWidth()-s*2-(e.showSpinner&&r?10:0)-r)/2-(e.showSpinner&&r?0:5+r/2)+(e.showSpinner?0:r/2)+(r?0:s);var u=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:u});n.setShape({x:l-s,y:u-s,width:s*2,height:s*2});i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})};r.resize();return r}var _x=function(){function t(t,e,r,i){this._stageTaskMap=Mt();this.ecInstance=t;this.api=e;r=this._dataProcessorHandlers=r.slice();i=this._visualHandlers=i.slice();this._allHandlers=r.concat(i)}t.prototype.restoreData=function(t,e){t.restoreData(e);this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})};t.prototype.getPerformArgs=function(t,e){if(!t.__pipeline){return}var r=this._pipelineMap.get(t.__pipeline.id);var i=r.context;var a=!e&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex;var n=a?r.step:null;var o=i&&i.modDataCount;var s=o!=null?Math.ceil(o/n):null;return{step:n,modBy:s,modDataCount:o}};t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)};t.prototype.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid);var i=t.getData();var a=i.count();var n=r.progressiveEnabled&&e.incrementalPrepareRender&&a>=r.threshold;var o=t.get("large")&&a>=t.get("largeThreshold");var s=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=r.context={progressiveRender:n,modDataCount:s,large:o}};t.prototype.restorePipelines=function(t){var e=this;var r=e._pipelineMap=Mt();t.eachSeries(function(t){var i=t.getProgressive();var a=t.uid;r.set(a,{id:a,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0});e._pipe(t,t.dataTask)})};t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap;var e=this.api.getModel();var r=this.api;H(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{});var n="";if(true){n='"reset" and "overallReset" must not be both specified.'}dt(!(i.reset&&i.overallReset),n);i.reset&&this._createSeriesStageTask(i,a,e,r);i.overallReset&&this._createOverallStageTask(i,a,e,r)},this)};t.prototype.prepareView=function(t,e,r,i){var a=t.renderTask;var n=a.context;n.model=e;n.ecModel=r;n.api=i;a.__block=!t.incrementalPrepareRender;this._pipe(e,a)};t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:true})};t.prototype.performVisualTasks=function(t,e,r){this._performStageTasks(this._visualHandlers,t,e,r)};t.prototype._performStageTasks=function(t,e,r,i){i=i||{};var a=false;var n=this;H(t,function(t,s){if(i.visualType&&i.visualType!==t.visualType){return}var l=n._stageTaskMap.get(t.uid);var u=l.seriesTaskMap;var f=l.overallTask;if(f){var h;var v=f.agentStubMap;v.each(function(t){if(o(i,t)){t.dirty();h=true}});h&&f.dirty();n.updatePayload(f,r);var c=n.getPerformArgs(f,i.block);v.each(function(t){t.perform(c)});if(f.perform(c)){a=true}}else if(u){u.each(function(s,l){if(o(i,s)){s.dirty()}var u=n.getPerformArgs(s,i.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model);n.updatePayload(s,r);if(s.perform(u)){a=true}})}});function o(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}this.unfinished=a||this.unfinished};t.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e=t.dataTask.perform()||e});this.unfinished=e||this.unfinished};t.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};t.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)};t.prototype._createSeriesStageTask=function(t,e,r,i){var a=this;var n=e.seriesTaskMap;var o=e.seriesTaskMap=Mt();var s=t.seriesType;var l=t.getTargetSeries;if(t.createOnAllSeries){r.eachRawSeries(u)}else if(s){r.eachRawSeriesByType(s,u)}else if(l){l(r,i).each(u)}function u(e){var s=e.uid;var l=o.set(s,n&&n.get(s)||Dy({plan:Tx,reset:Cx,count:kx}));l.context={model:e,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a};a._pipe(e,l)}};t.prototype._createOverallStageTask=function(t,e,r,i){var a=this;var n=e.overallTask=e.overallTask||Dy({reset:bx});n.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:a};var o=n.agentStubMap;var s=n.agentStubMap=Mt();var l=t.seriesType;var u=t.getTargetSeries;var f=true;var h=false;var v="";if(true){v='"createOnAllSeries" is not supported for "overallReset", '+"because it will block all streams."}dt(!t.createOnAllSeries,v);if(l){r.eachRawSeriesByType(l,c)}else if(u){u(r,i).each(c)}else{f=false;H(r.getSeries(),c)}function c(t){var e=t.uid;var r=s.set(e,o&&o.get(e)||(h=true,Dy({reset:Sx,onDirty:Ix})));r.context={model:t,overallProgress:f};r.agent=n;r.__block=f;a._pipe(t,r)}if(h){n.dirty()}};t.prototype._pipe=function(t,e){var r=t.uid;var i=this._pipelineMap.get(r);!i.head&&(i.head=e);i.tail&&i.tail.pipe(e);i.tail=e;e.__idxInPipeline=i.count++;e.__pipeline=i};t.wrapStageHandler=function(t,e){if($(t)){t={overallReset:t,seriesType:Lx(t)}}t.uid=Jc("stageHandler");e&&(t.visualType=e);return t};return t}();function bx(t){t.overallReset(t.ecModel,t.api,t.payload)}function Sx(t){return t.overallProgress&&Mx}function Mx(){this.agent.dirty();this.getDownstream().dirty()}function Ix(){this.agent&&this.agent.dirty()}function Tx(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Cx(t){if(t.useClearVisual){t.data.clearAllVisual()}var e=t.resetDefines=Go(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?W(e,function(t,e){return Ax(e)}):Dx}var Dx=Ax(0);function Ax(t){return function(e,r){var i=r.data;var a=r.resetDefines[t];if(a&&a.dataEach){for(var n=e.start;n<e.end;n++){a.dataEach(i,n)}}else if(a&&a.progress){a.progress(e,i)}}}function kx(t){return t.data.count()}function Lx(t){Rx=null;try{t(Px,Ox)}catch(t){}return Rx}var Px={};var Ox={};var Rx;Nx(Px,ug);Nx(Ox,gg);Px.eachSeriesByType=Px.eachRawSeriesByType=function(t){Rx=t};Px.eachComponent=function(t){if(t.mainType==="series"&&t.subType){Rx=t.subType}};function Nx(t,e){for(var r in e.prototype){t[r]=At}}var Ex=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var zx={color:Ex,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Ex]};var Vx="#B9B8CE";var Bx="#100C2A";var Fx=function(){return{axisLine:{lineStyle:{color:Vx}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}};var Gx=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"];var Hx={darkMode:true,color:Gx,backgroundColor:Bx,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Vx},pageTextStyle:{color:Vx}},textStyle:{color:Vx},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Vx}},dataZoom:{borderColor:"#71708A",textStyle:{color:Vx},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Vx}},timeline:{lineStyle:{color:Vx},label:{color:Vx},controlStyle:{color:Vx,borderColor:Vx}},calendar:{itemStyle:{color:Bx},dayLabel:{color:Vx},monthLabel:{color:Vx},yearLabel:{color:Vx}},timeAxis:Fx(),logAxis:Fx(),valueAxis:Fx(),categoryAxis:Fx(),line:{symbol:"circle"},graph:{color:Gx},gauge:{title:{color:Vx},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Vx},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Hx.categoryAxis.splitLine.show=false;var Wx=function(){function t(){}t.prototype.normalizeQuery=function(t){var e={};var r={};var i={};if(Q(t)){var a=Ts(t);e.mainType=a.main||null;e.subType=a.sub||null}else{var n=["Index","Name","Id"];var o={name:1,dataIndex:1,dataType:1};H(t,function(t,a){var s=false;for(var l=0;l<n.length;l++){var u=n[l];var f=a.lastIndexOf(u);if(f>0&&f===a.length-u.length){var h=a.slice(0,f);if(h!=="data"){e.mainType=h;e[u.toLowerCase()]=t;s=true}}}if(o.hasOwnProperty(a)){r[a]=t;s=true}if(!s){i[a]=t}})}return{cptQuery:e,dataQuery:r,otherQuery:i}};t.prototype.filter=function(t,e){var r=this.eventInfo;if(!r){return true}var i=r.targetEl;var a=r.packedEvent;var n=r.model;var o=r.view;if(!n||!o){return true}var s=e.cptQuery;var l=e.dataQuery;return u(s,n,"mainType")&&u(s,n,"subType")&&u(s,n,"index","componentIndex")&&u(s,n,"name")&&u(s,n,"id")&&u(l,a,"name")&&u(l,a,"dataIndex")&&u(l,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,e.otherQuery,i,a));function u(t,e,r,i){return t[r]==null||e[i||r]===t[r]}};t.prototype.afterTrigger=function(){this.eventInfo=null};return t}();var Ux=["symbol","symbolSize","symbolRotate","symbolOffset"];var Yx=Ux.concat(["symbolKeepAspect"]);var Xx={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){var r=t.getData();if(t.legendIcon){r.setVisual("legendIcon",t.legendIcon)}if(!t.hasSymbolVisual){return}var i={};var a={};var n=false;for(var o=0;o<Ux.length;o++){var s=Ux[o];var l=t.get(s);if($(l)){n=true;a[s]=l}else{i[s]=l}}i.symbol=i.symbol||t.defaultSymbol;r.setVisual(N({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},i));if(e.isSeriesFiltered(t)){return}var u=Z(a);function f(e,r){var i=t.getRawValue(r);var n=t.getDataParams(r);for(var o=0;o<u.length;o++){var s=u[o];e.setItemVisual(r,s,a[s](i,n))}}return{dataEach:n?f:null}}};var Zx={createOnAllSeries:true,performRawSeries:true,reset:function(t,e){if(!t.hasSymbolVisual){return}if(e.isSeriesFiltered(t)){return}var r=t.getData();function i(t,e){var r=t.getItemModel(e);for(var i=0;i<Yx.length;i++){var a=Yx[i];var n=r.getShallow(a,true);if(n!=null){t.setItemVisual(e,a,n)}}}return{dataEach:r.hasItemOption?i:null}}};function jx(t,e,r){switch(r){case"color":var i=t.getItemVisual(e,"style");return i[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r);default:if(true){console.warn("Unknown visual type "+r)}}}function qx(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:if(true){console.warn("Unknown visual type "+e)}}}function Kx(t,e,r,i){switch(r){case"color":var a=t.ensureUniqueItemVisual(e,"style");a[t.getVisual("drawType")]=i;t.setItemVisual(e,"colorFromPalette",false);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,r,i);break;default:if(true){console.warn("Unknown visual type "+r)}}}function Jx(t,e){function r(e,r){var i=[];e.eachComponent({mainType:"series",subType:t,query:r},function(t){i.push(t.seriesIndex)});return i}H([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(t){e(t[0],function(e,i,a){e=N({},e);if(true){No(e.type,t[1])}a.dispatchAction(N(e,{type:t[1],seriesIndex:r(i,e)}))})})}function $x(t,e,r,i,a){var n=t+e;if(!r.isSilent(n)){if(true){Ro("event "+n+" is deprecated.")}i.eachComponent({mainType:"series",subType:"pie"},function(t){var e=t.seriesIndex;var i=t.option.selectedMap;var o=a.selected;for(var s=0;s<o.length;s++){if(o[s].seriesIndex===e){var l=t.getData();var u=fs(l,a.fromActionPayload);r.trigger(n,{type:n,seriesId:t.id,name:J(u)?l.getName(u[0]):l.getName(u),selected:Q(i)?i:N({},i)})}}})}}function Qx(t,e,r){t.on("selectchanged",function(t){var i=r.getModel();if(t.isFromClick){$x("map","selectchanged",e,i,t);$x("pie","selectchanged",e,i,t)}else if(t.fromAction==="select"){$x("map","selected",e,i,t);$x("pie","selected",e,i,t)}else if(t.fromAction==="unselect"){$x("map","unselected",e,i,t);$x("pie","unselected",e,i,t)}})}function t_(t,e,r){var i;while(t){if(e(t)){i=t;if(r){break}}t=t.__hostTarget||t.parent}return i}var e_=Math.round(Math.random()*9);var r_=typeof Object.defineProperty==="function";var i_=function(){function t(){this._id="__ec_inner_"+e_++}t.prototype.get=function(t){return this._guard(t)[this._id]};t.prototype.set=function(t,e){var r=this._guard(t);if(r_){Object.defineProperty(r,this._id,{value:e,enumerable:false,configurable:true})}else{r[this._id]=e}return this};t.prototype["delete"]=function(t){if(this.has(t)){delete this._guard(t)[this._id];return true}return false};t.prototype.has=function(t){return!!this._guard(t)[this._id]};t.prototype._guard=function(t){if(t!==Object(t)){throw TypeError("Value of WeakMap is not a non-null object.")}return t};return t}();var a_=wu.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var a=e.width/2;var n=e.height/2;t.moveTo(r,i-n);t.lineTo(r+a,i+n);t.lineTo(r-a,i+n);t.closePath()}});var n_=wu.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx;var i=e.cy;var a=e.width/2;var n=e.height/2;t.moveTo(r,i-n);t.lineTo(r+a,i);t.lineTo(r,i+n);t.lineTo(r-a,i);t.closePath()}});var o_=wu.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x;var i=e.y;var a=e.width/5*3;var n=Math.max(a,e.height);var o=a/2;var s=o*o/(n-o);var l=i-n+o+s;var u=Math.asin(s/o);var f=Math.cos(u)*o;var h=Math.sin(u);var v=Math.cos(u);var c=o*.6;var p=o*.7;t.moveTo(r-f,l+s);t.arc(r,l,o,Math.PI-u,Math.PI*2+u);t.bezierCurveTo(r+f-h*c,l+s+v*c,r,i-p,r,i);t.bezierCurveTo(r,i-p,r-f+h*c,l+s+v*c,r-f,l+s);t.closePath()}});var s_=wu.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height;var i=e.width;var a=e.x;var n=e.y;var o=i/3*2;t.moveTo(a,n);t.lineTo(a+o,n+r);t.lineTo(a,n+r/4*3);t.lineTo(a-o,n+r);t.lineTo(a,n);t.closePath()}});var l_={line:pv,rect:Nu,roundRect:Nu,square:Nu,circle:Vh,diamond:n_,pin:o_,arrow:s_,triangle:a_};var u_={line:function(t,e,r,i,a){a.x1=t;a.y1=e+i/2;a.x2=t+r;a.y2=e+i/2},rect:function(t,e,r,i,a){a.x=t;a.y=e;a.width=r;a.height=i},roundRect:function(t,e,r,i,a){a.x=t;a.y=e;a.width=r;a.height=i;a.r=Math.min(r,i)/4},square:function(t,e,r,i,a){var n=Math.min(r,i);a.x=t;a.y=e;a.width=n;a.height=n},circle:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.r=Math.min(r,i)/2},diamond:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.width=r;a.height=i},pin:function(t,e,r,i,a){a.x=t+r/2;a.y=e+i/2;a.width=r;a.height=i},arrow:function(t,e,r,i,a){a.x=t+r/2;a.y=e+i/2;a.width=r;a.height=i},triangle:function(t,e,r,i,a){a.cx=t+r/2;a.cy=e+i/2;a.width=r;a.height=i}};var f_={};H(l_,function(t,e){f_[e]=new t});var h_=wu.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var i=bn(t,e,r);var a=this.shape;if(a&&a.symbolType==="pin"&&e.position==="inside"){i.y=r.y+r.height*.4}return i},buildPath:function(t,e,r){var i=e.symbolType;if(i!=="none"){var a=f_[i];if(!a){i="rect";a=f_[i]}u_[i](e.x,e.y,e.width,e.height,a.shape);a.buildPath(t,a.shape,r)}}});function v_(t,e){if(this.type!=="image"){var r=this.style;if(this.__isEmptyBrush){r.stroke=t;r.fill=e||"#fff";r.lineWidth=2}else if(this.shape.symbolType==="line"){r.stroke=t}else{r.fill=t}this.markRedraw()}}function c_(t,e,r,i,a,n,o){var s=t.indexOf("empty")===0;if(s){t=t.substr(5,1).toLowerCase()+t.substr(6)}var l;if(t.indexOf("image://")===0){l=$v(t.slice(8),new er(e,r,i,a),o?"center":"cover")}else if(t.indexOf("path://")===0){l=Jv(t.slice(7),{},new er(e,r,i,a),o?"center":"cover")}else{l=new h_({shape:{symbolType:t,x:e,y:r,width:i,height:a}})}l.__isEmptyBrush=s;l.setColor=v_;if(n){l.setColor(n)}return l}function p_(t){if(!J(t)){t=[+t,+t]}return[t[0]||0,t[1]||0]}function d_(t,e){if(t==null){return}if(!J(t)){t=[t,t]}return[ro(t[0],e[0])||0,ro(ht(t[1],t[0]),e[1])||0]}function g_(t){return isFinite(t)}function y_(t,e,r){var i=e.x==null?0:e.x;var a=e.x2==null?1:e.x2;var n=e.y==null?0:e.y;var o=e.y2==null?0:e.y2;if(!e.global){i=i*r.width+r.x;a=a*r.width+r.x;n=n*r.height+r.y;o=o*r.height+r.y}i=g_(i)?i:0;a=g_(a)?a:1;n=g_(n)?n:0;o=g_(o)?o:0;var s=t.createLinearGradient(i,n,a,o);return s}function m_(t,e,r){var i=r.width;var a=r.height;var n=Math.min(i,a);var o=e.x==null?.5:e.x;var s=e.y==null?.5:e.y;var l=e.r==null?.5:e.r;if(!e.global){o=o*i+r.x;s=s*a+r.y;l=l*n}o=g_(o)?o:.5;s=g_(s)?s:.5;l=l>=0&&g_(l)?l:.5;var u=t.createRadialGradient(o,s,0,o,s,l);return u}function x_(t,e,r){var i=e.type==="radial"?m_(t,e,r):y_(t,e,r);var a=e.colorStops;for(var n=0;n<a.length;n++){i.addColorStop(a[n].offset,a[n].color)}return i}function __(t,e){if(t===e||!t&&!e){return false}if(!t||!e||t.length!==e.length){return true}for(var r=0;r<t.length;r++){if(t[r]!==e[r]){return true}}return false}function w_(t){return parseInt(t,10)}function b_(t,e,r){var i=["width","height"][e];var a=["clientWidth","clientHeight"][e];var n=["paddingLeft","paddingTop"][e];var o=["paddingRight","paddingBottom"][e];if(r[i]!=null&&r[i]!=="auto"){return parseFloat(r[i])}var s=document.defaultView.getComputedStyle(t);return(t[a]||w_(s[i])||w_(t.style[i]))-(w_(s[n])||0)-(w_(s[o])||0)|0}function S_(t,e){if(!t||t==="solid"||!(e>0)){return null}return t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:et(t)?[t]:J(t)?t:null}function M_(t){var e=t.style;var r=e.lineDash&&e.lineWidth>0&&S_(e.lineDash,e.lineWidth);var i=e.lineDashOffset;if(r){var a=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;if(a&&a!==1){r=W(r,function(t){return t/a});i/=a}}return[r,i]}var I_=new Kl(true);function T_(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function C_(t){return typeof t==="string"&&t!=="none"}function D_(t){var e=t.fill;return e!=null&&e!=="none"}function A_(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity;t.fill();t.globalAlpha=r}else{t.fill()}}function k_(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity;t.stroke();t.globalAlpha=r}else{t.stroke()}}function L_(t,e,r){var i=Ws(e.image,e.__image,r);if(Ys(i)){var a=t.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix==="function"&&a&&a.setTransform){var n=new DOMMatrix;n.translateSelf(e.x||0,e.y||0);n.rotateSelf(0,0,(e.rotation||0)*kt);n.scaleSelf(e.scaleX||1,e.scaleY||1);a.setTransform(n)}return a}}function P_(t,e,r,i){var a;var n=T_(r);var o=D_(r);var s=r.strokePercent;var l=s<1;var u=!e.path;if((!e.silent||l)&&u){e.createPathProxy()}var f=e.path||I_;var h=e.__dirty;if(!i){var v=r.fill;var c=r.stroke;var p=o&&!!v.colorStops;var d=n&&!!c.colorStops;var g=o&&!!v.image;var y=n&&!!c.image;var m=void 0;var x=void 0;var _=void 0;var w=void 0;var b=void 0;if(p||d){b=e.getBoundingRect()}if(p){m=h?x_(t,v,b):e.__canvasFillGradient;e.__canvasFillGradient=m}if(d){x=h?x_(t,c,b):e.__canvasStrokeGradient;e.__canvasStrokeGradient=x}if(g){_=h||!e.__canvasFillPattern?L_(t,v,e):e.__canvasFillPattern;e.__canvasFillPattern=_}if(y){w=h||!e.__canvasStrokePattern?L_(t,c,e):e.__canvasStrokePattern;e.__canvasStrokePattern=_}if(p){t.fillStyle=m}else if(g){if(_){t.fillStyle=_}else{o=false}}if(d){t.strokeStyle=x}else if(y){if(w){t.strokeStyle=w}else{n=false}}}var S=e.getGlobalScale();f.setScale(S[0],S[1],e.segmentIgnoreThreshold);var M;var I;if(t.setLineDash&&r.lineDash){a=M_(e),M=a[0],I=a[1]}var T=true;if(u||h&Ir){f.setDPR(t.dpr);if(l){f.setContext(null)}else{f.setContext(t);T=false}f.reset();e.buildPath(f,e.shape,i);f.toStatic();e.pathUpdated()}if(T){f.rebuildPath(t,l?s:1)}if(M){t.setLineDash(M);t.lineDashOffset=I}if(!i){if(r.strokeFirst){if(n){k_(t,r)}if(o){A_(t,r)}}else{if(o){A_(t,r)}if(n){k_(t,r)}}}if(M){t.setLineDash([])}}function O_(t,e,r){var i=e.__image=Ws(r.image,e.__image,e,e.onload);if(!i||!Ys(i)){return}var a=r.x||0;var n=r.y||0;var o=e.getWidth();var s=e.getHeight();var l=i.width/i.height;if(o==null&&s!=null){o=s*l}else if(s==null&&o!=null){s=o/l}else if(o==null&&s==null){o=i.width;s=i.height}if(r.sWidth&&r.sHeight){var u=r.sx||0;var f=r.sy||0;t.drawImage(i,u,f,r.sWidth,r.sHeight,a,n,o,s)}else if(r.sx&&r.sy){var u=r.sx;var f=r.sy;var h=o-u;var v=s-f;t.drawImage(i,u,f,h,v,a,n,o,s)}else{t.drawImage(i,a,n,o,s)}}function R_(t,e,r){var i;var a=r.text;a!=null&&(a+="");if(a){t.font=r.font||f;t.textAlign=r.textAlign;t.textBaseline=r.textBaseline;var n=void 0;var o=void 0;if(t.setLineDash&&r.lineDash){i=M_(e),n=i[0],o=i[1]}if(n){t.setLineDash(n);t.lineDashOffset=o}if(r.strokeFirst){if(T_(r)){t.strokeText(a,r.x,r.y)}if(D_(r)){t.fillText(a,r.x,r.y)}}else{if(D_(r)){t.fillText(a,r.x,r.y)}if(T_(r)){t.strokeText(a,r.x,r.y)}}if(n){t.setLineDash([])}}}var N_=["shadowBlur","shadowOffsetX","shadowOffsetY"];var E_=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function z_(t,e,r,i,a){var n=false;if(!i){r=r||{};if(e===r){return false}}if(i||e.opacity!==r.opacity){j_(t,a);n=true;var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?ul.opacity:o}if(i||e.blend!==r.blend){if(!n){j_(t,a);n=true}t.globalCompositeOperation=e.blend||ul.blend}for(var s=0;s<N_.length;s++){var l=N_[s];if(i||e[l]!==r[l]){if(!n){j_(t,a);n=true}t[l]=t.dpr*(e[l]||0)}}if(i||e.shadowColor!==r.shadowColor){if(!n){j_(t,a);n=true}t.shadowColor=e.shadowColor||ul.shadowColor}return n}function V_(t,e,r,i,a){var n=q_(e,a.inHover);var o=i?null:r&&q_(r,a.inHover)||{};if(n===o){return false}var s=z_(t,n,o,i,a);if(i||n.fill!==o.fill){if(!s){j_(t,a);s=true}C_(n.fill)&&(t.fillStyle=n.fill)}if(i||n.stroke!==o.stroke){if(!s){j_(t,a);s=true}C_(n.stroke)&&(t.strokeStyle=n.stroke)}if(i||n.opacity!==o.opacity){if(!s){j_(t,a);s=true}t.globalAlpha=n.opacity==null?1:n.opacity}if(e.hasStroke()){var l=n.lineWidth;var u=l/(n.strokeNoScale&&e.getLineScale?e.getLineScale():1);if(t.lineWidth!==u){if(!s){j_(t,a);s=true}t.lineWidth=u}}for(var f=0;f<E_.length;f++){var h=E_[f];var v=h[0];if(i||n[v]!==o[v]){if(!s){j_(t,a);s=true}t[v]=n[v]||h[1]}}return s}function B_(t,e,r,i,a){return z_(t,q_(e,a.inHover),r&&q_(r,a.inHover),i,a)}function F_(t,e){var r=e.transform;var i=t.dpr||1;if(r){t.setTransform(i*r[0],i*r[1],i*r[2],i*r[3],i*r[4],i*r[5])}else{t.setTransform(i,0,0,i,0,0)}}function G_(t,e,r){var i=false;for(var a=0;a<t.length;a++){var n=t[a];i=i||n.isZeroArea();F_(e,n);e.beginPath();n.buildPath(e,n.shape);e.clip()}r.allClipped=i}function H_(t,e){if(t&&e){return t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]}else if(!t&&!e){return false}return true}var W_=1;var U_=2;var Y_=3;var X_=4;function Z_(t){var e=D_(t);var r=T_(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!=="string"||r&&typeof t.stroke!=="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function j_(t,e){e.batchFill&&t.fill();e.batchStroke&&t.stroke();e.batchFill="";e.batchStroke=""}function q_(t,e){return e?t.__hoverStyle||t.style:t.style}function K_(t,e){J_(t,e,{inHover:false,viewWidth:0,viewHeight:0},true)}function J_(t,e,r,i){var a=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,false,false)){e.__dirty&=~Sr;e.__isRendered=false;return}var n=e.__clipPaths;var o=r.prevElClipPaths;var s=false;var l=false;if(!o||__(n,o)){if(o&&o.length){j_(t,r);t.restore();l=s=true;r.prevElClipPaths=null;r.allClipped=false;r.prevEl=null}if(n&&n.length){j_(t,r);t.save();G_(n,t,r);s=true}r.prevElClipPaths=n}if(r.allClipped){e.__isRendered=false;return}e.beforeBrush&&e.beforeBrush();e.innerBeforeBrush();var u=r.prevEl;if(!u){l=s=true}var f=e instanceof wu&&e.autoBatch&&Z_(e.style);if(s||H_(a,u.transform)){j_(t,r);F_(t,e)}else if(!f){j_(t,r)}var h=q_(e,r.inHover);if(e instanceof wu){if(r.lastDrawType!==W_){l=true;r.lastDrawType=W_}V_(t,e,u,l,r);if(!f||!r.batchFill&&!r.batchStroke){t.beginPath()}P_(t,e,h,f);if(f){r.batchFill=h.fill||"";r.batchStroke=h.stroke||""}}else{if(e instanceof Su){if(r.lastDrawType!==Y_){l=true;r.lastDrawType=Y_}V_(t,e,u,l,r);R_(t,e,h)}else if(e instanceof Cu){if(r.lastDrawType!==U_){l=true;r.lastDrawType=U_}B_(t,e,u,l,r);O_(t,e,h)}else if(e.getTemporalDisplayables){if(r.lastDrawType!==X_){l=true;r.lastDrawType=X_}$_(t,e,r)}}if(f&&i){j_(t,r)}e.innerAfterBrush();e.afterBrush&&e.afterBrush();r.prevEl=e;e.__dirty=0;e.__isRendered=true}function $_(t,e,r){var i=e.getDisplayables();var a=e.getTemporalDisplayables();t.save();var n={prevElClipPaths:null,prevEl:null,allClipped:false,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover};var o;var s;for(o=e.getCursor(),s=i.length;o<s;o++){var l=i[o];l.beforeBrush&&l.beforeBrush();l.innerBeforeBrush();J_(t,l,n,o===s-1);l.innerAfterBrush();l.afterBrush&&l.afterBrush();n.prevEl=l}for(var u=0,f=a.length;u<f;u++){var l=a[u];l.beforeBrush&&l.beforeBrush();l.innerBeforeBrush();J_(t,l,n,u===f-1);l.innerAfterBrush();l.afterBrush&&l.afterBrush();n.prevEl=l}e.clearTemporalDisplayables();e.notClear=true;t.restore()}var Q_=new i_;var tw=new ui(100);var ew=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function rw(t,e){if(t==="none"){return null}var r=e.getDevicePixelRatio();var i=e.getZr();var a=i.painter.type==="svg";if(t.dirty){Q_["delete"](t)}var n=Q_.get(t);if(n){return n}var o=E(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:true,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(o.backgroundColor==="none"){o.backgroundColor=null}var s={repeat:"repeat"};l(s);s.rotation=o.rotation;s.scaleX=s.scaleY=a?1:1/r;Q_.set(t,s);t.dirty=false;return s;function l(t){var e=[r];var n=true;for(var s=0;s<ew.length;++s){var l=o[ew[s]];if(l!=null&&!J(l)&&!Q(l)&&!et(l)&&typeof l!=="boolean"){n=false;break}e.push(l)}var u;if(n){u=e.join(",")+(a?"-svg":"");var f=tw.get(u);if(f){a?t.svgElement=f:t.image=f}}var h=aw(o.dashArrayX);var v=nw(o.dashArrayY);var c=iw(o.symbol);var p=ow(h);var d=sw(v);var y=!a&&g.createCanvas();var m=a&&{tag:"g",attrs:{},key:"dcl",children:[]};var x=w();var _;if(y){y.width=x.width*r;y.height=x.height*r;_=y.getContext("2d")}b();if(n){tw.put(u,y||m)}t.image=y;t.svgElement=m;t.svgWidth=x.width;t.svgHeight=x.height;function w(){var t=1;for(var e=0,r=p.length;e<r;++e){t=To(t,p[e])}var i=1;for(var e=0,r=c.length;e<r;++e){i=To(i,c[e].length)}t*=i;var a=d*p.length*c.length;if(true){var n=function(t){console.warn("Calculated decal size is greater than "+t+" due to decal option settings so "+t+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+t+" to be larger to avoid incontinuity.")};if(t>o.maxTileWidth){n("maxTileWidth")}if(a>o.maxTileHeight){n("maxTileHeight")}}return{width:Math.max(1,Math.min(t,o.maxTileWidth)),height:Math.max(1,Math.min(a,o.maxTileHeight))}}function b(){if(_){_.clearRect(0,0,y.width,y.height);if(o.backgroundColor){_.fillStyle=o.backgroundColor;_.fillRect(0,0,y.width,y.height)}}var t=0;for(var e=0;e<v.length;++e){t+=v[e]}if(t<=0){return}var n=-d;var s=0;var l=0;var u=0;while(n<x.height){if(s%2===0){var f=l/2%c.length;var p=0;var g=0;var w=0;while(p<x.width*2){var b=0;for(var e=0;e<h[u].length;++e){b+=h[u][e]}if(b<=0){break}if(g%2===0){var S=(1-o.symbolSize)*.5;var M=p+h[u][g]*S;var I=n+v[s]*S;var T=h[u][g]*o.symbolSize;var C=v[s]*o.symbolSize;var D=w/2%c[f].length;A(M,I,T,C,c[f][D])}p+=h[u][g];++w;++g;if(g===h[u].length){g=0}}++u;if(u===h.length){u=0}}n+=v[s];++l;++s;if(s===v.length){s=0}}function A(t,e,n,s,l){var u=a?1:r;var f=c_(l,t*u,e*u,n*u,s*u,o.color,o.symbolKeepAspect);if(a){var h=i.painter.renderOneToVNode(f);if(h){m.children.push(h)}}else{K_(_,f)}}}}}function iw(t){if(!t||t.length===0){return[["rect"]]}if(Q(t)){return[[t]]}var e=true;for(var r=0;r<t.length;++r){if(!Q(t[r])){e=false;break}}if(e){return iw([t])}var i=[];for(var r=0;r<t.length;++r){if(Q(t[r])){i.push([t[r]])}else{i.push(t[r])}}return i}function aw(t){if(!t||t.length===0){return[[0,0]]}if(et(t)){var e=Math.ceil(t);return[[e,e]]}var r=true;for(var i=0;i<t.length;++i){if(!et(t[i])){r=false;break}}if(r){return aw([t])}var a=[];for(var i=0;i<t.length;++i){if(et(t[i])){var e=Math.ceil(t[i]);a.push([e,e])}else{var e=W(t[i],function(t){return Math.ceil(t)});if(e.length%2===1){a.push(e.concat(e))}else{a.push(e)}}}return a}function nw(t){if(!t||typeof t==="object"&&t.length===0){return[0,0]}if(et(t)){var e=Math.ceil(t);return[e,e]}var r=W(t,function(t){return Math.ceil(t)});return t.length%2?r.concat(r):r}function ow(t){return W(t,function(t){return sw(t)})}function sw(t){var e=0;for(var r=0;r<t.length;++r){e+=t[r]}if(t.length%2===1){return e*2}return e}function lw(t,e){t.eachRawSeries(function(r){if(t.isSeriesFiltered(r)){return}var i=r.getData();if(i.hasItemVisual()){i.each(function(t){var r=i.getItemVisual(t,"decal");if(r){var a=i.ensureUniqueItemVisual(t,"style");a.decal=rw(r,e)}})}var a=i.getVisual("decal");if(a){var n=i.getVisual("style");n.decal=rw(a,e)}})}var uw=new oe;var fw={};function hw(t,e){if(true){if(fw[t]){Oo("Already has an implementation of "+t+".")}}fw[t]=e}function vw(t){if(true){if(!fw[t]){Oo("Implementation of "+t+" doesn't exists.")}}return fw[t]}var cw="5.6.0";var pw={zrender:"5.6.1"};var dw=1;var gw=800;var yw=900;var mw=1e3;var xw=2e3;var _w=5e3;var ww=1e3;var bw=1100;var Sw=2e3;var Mw=3e3;var Iw=4e3;var Tw=4500;var Cw=4600;var Dw=5e3;var Aw=6e3;var kw=7e3;var Lw={PROCESSOR:{FILTER:mw,SERIES_FILTER:gw,STATISTIC:_w},VISUAL:{LAYOUT:ww,PROGRESSIVE_LAYOUT:bw,GLOBAL:Sw,CHART:Mw,POST_CHART_LAYOUT:Cw,COMPONENT:Iw,BRUSH:Dw,CHART_ITEM:Tw,ARIA:Aw,DECAL:kw}};var Pw="__flagInMainProcess";var Ow="__pendingUpdate";var Rw="__needsUpdateStatus";var Nw=/^[a-zA-Z0-9_]+$/;var Ew="__connectUpdateStatus";var zw=0;var Vw=1;var Bw=2;function Fw(t){return function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.isDisposed()){vb(this.id);return}return Hw(this,t,e)}}function Gw(t){return function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}return Hw(this,t,e)}}function Hw(t,e,r){r[0]=r[0]&&r[0].toLowerCase();return oe.prototype[e].apply(t,r)}var Ww=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(oe);var Uw=Ww.prototype;Uw.on=Gw("on");Uw.off=Gw("off");var Yw;var Xw;var Zw;var jw;var qw;var Kw;var Jw;var $w;var Qw;var tb;var eb;var rb;var ib;var ab;var nb;var ob;var sb;var lb;var ub=function(t){i(e,t);function e(e,i,a){var n=t.call(this,new Wx)||this;n._chartsViews=[];n._chartsMap={};n._componentsViews=[];n._componentsMap={};n._pendingActions=[];a=a||{};if(Q(i)){i=mb[i]}n._dom=e;var s="canvas";var l="auto";var u=false;if(true){var f=o.hasGlobalWindow?window:r.g;if(f){s=ht(f.__ECHARTS__DEFAULT__RENDERER__,s);l=ht(f.__ECHARTS__DEFAULT__COARSE_POINTER,l);u=ht(f.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,u)}}if(a.ssr){qn(function(t){var e=Qu(t);var r=e.dataIndex;if(r==null){return}var i=Mt();i.set("series_index",e.seriesIndex);i.set("data_index",r);e.ssrType&&i.set("ssr_type",e.ssrType);return i})}var h=n._zr=Hn(e,{renderer:a.renderer||s,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:ht(a.useDirtyRect,u),useCoarsePointer:ht(a.useCoarsePointer,l),pointerSize:a.pointerSize});n._ssr=a.ssr;n._throttledZrFlush=ox(q(h.flush,h),17);i=P(i);i&&jg(i,true);n._theme=i;n._locale=fp(a.locale||lp);n._coordSysMgr=new mg;var v=n._api=nb(n);function c(t,e){return t.__prio-e.__prio}br(yb,c);br(db,c);n._scheduler=new _x(n,v,db,yb);n._messageCenter=new Ww;n._initEvents();n.resize=q(n.resize,n);h.animation.on("frame",n._onframe,n);tb(h,n);eb(h,n);mt(n);return n}e.prototype._onframe=function(){if(this._disposed){return}lb(this);var t=this._scheduler;if(this[Ow]){var e=this[Ow].silent;this[Pw]=true;try{Yw(this);jw.update.call(this,null,this[Ow].updateParams)}catch(t){this[Pw]=false;this[Ow]=null;throw t}this._zr.flush();this[Pw]=false;this[Ow]=null;$w.call(this,e);Qw.call(this,e)}else if(t.unfinished){var r=dw;var i=this._model;var a=this._api;t.unfinished=false;do{var n=+new Date;t.performSeriesTasks(i);t.performDataProcessorTasks(i);Kw(this,i);t.performVisualTasks(i);ab(this,this._model,a,"remain",{});r-=+new Date-n}while(r>0&&t.unfinished);if(!t.unfinished){this._zr.flush()}}};e.prototype.getDom=function(){return this._dom};e.prototype.getId=function(){return this.id};e.prototype.getZr=function(){return this._zr};e.prototype.isSSR=function(){return this._ssr};e.prototype.setOption=function(t,e,r){if(this[Pw]){if(true){Oo("`setOption` should not be called during main process.")}return}if(this._disposed){vb(this.id);return}var i;var a;var n;if(rt(e)){r=e.lazyUpdate;i=e.silent;a=e.replaceMerge;n=e.transition;e=e.notMerge}this[Pw]=true;if(!this._model||e){var o=new _g(this._api);var s=this._theme;var l=this._model=new ug;l.scheduler=this._scheduler;l.ssr=this._ssr;l.init(null,null,null,s,this._locale,o)}this._model.setOption(t,{replaceMerge:a},gb);var u={seriesTransition:n,optionChanged:true};if(r){this[Ow]={silent:i,updateParams:u};this[Pw]=false;this.getZr().wakeUp()}else{try{Yw(this);jw.update.call(this,null,u)}catch(t){this[Ow]=null;this[Pw]=false;throw t}if(!this._ssr){this._zr.flush()}this[Ow]=null;this[Pw]=false;$w.call(this,i);Qw.call(this,i)}};e.prototype.setTheme=function(){Ro("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};e.prototype.getModel=function(){return this._model};e.prototype.getOption=function(){return this._model&&this._model.getOption()};e.prototype.getWidth=function(){return this._zr.getWidth()};e.prototype.getHeight=function(){return this._zr.getHeight()};e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||o.hasGlobalWindow&&window.devicePixelRatio||1};e.prototype.getRenderedCanvas=function(t){if(true){No("getRenderedCanvas","renderToCanvas")}return this.renderToCanvas(t)};e.prototype.renderToCanvas=function(t){t=t||{};var e=this._zr.painter;if(true){if(e.type!=="canvas"){throw new Error("renderToCanvas can only be used in the canvas renderer.")}}return e.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})};e.prototype.renderToSVGString=function(t){t=t||{};var e=this._zr.painter;if(true){if(e.type!=="svg"){throw new Error("renderToSVGString can only be used in the svg renderer.")}}return e.renderToString({useViewBox:t.useViewBox})};e.prototype.getSvgDataURL=function(){if(!o.svgSupported){return}var t=this._zr;var e=t.storage.getDisplayList();H(e,function(t){t.stopAnimation(null,true)});return t.painter.toDataURL()};e.prototype.getDataURL=function(t){if(this._disposed){vb(this.id);return}t=t||{};var e=t.excludeComponents;var r=this._model;var i=[];var a=this;H(e,function(t){r.eachComponent({mainType:t},function(t){var e=a._componentsMap[t.__viewId];if(!e.group.ignore){i.push(e);e.group.ignore=true}})});var n=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));H(i,function(t){t.group.ignore=false});return n};e.prototype.getConnectedDataURL=function(t){if(this._disposed){vb(this.id);return}var e=t.type==="svg";var r=this.group;var i=Math.min;var a=Math.max;var n=Infinity;if(wb[r]){var o=n;var s=n;var l=-n;var u=-n;var f=[];var h=t&&t.pixelRatio||this.getDevicePixelRatio();H(_b,function(n,h){if(n.group===r){var v=e?n.getZr().painter.getSvgDom().innerHTML:n.renderToCanvas(P(t));var c=n.getDom().getBoundingClientRect();o=i(c.left,o);s=i(c.top,s);l=a(c.right,l);u=a(c.bottom,u);f.push({dom:v,left:c.left,top:c.top})}});o*=h;s*=h;l*=h;u*=h;var v=l-o;var c=u-s;var p=g.createCanvas();var d=Hn(p,{renderer:e?"svg":"canvas"});d.resize({width:v,height:c});if(e){var y="";H(f,function(t){var e=t.left-o;var r=t.top-s;y+='<g transform="translate('+e+","+r+')">'+t.dom+"</g>"});d.painter.getSvgRoot().innerHTML=y;if(t.connectedBackgroundColor){d.painter.setBackgroundColor(t.connectedBackgroundColor)}d.refreshImmediately();return d.painter.toDataURL()}else{if(t.connectedBackgroundColor){d.add(new Nu({shape:{x:0,y:0,width:v,height:c},style:{fill:t.connectedBackgroundColor}}))}H(f,function(t){var e=new Cu({style:{x:t.left*h-o,y:t.top*h-s,image:t.dom}});d.add(e)});d.refreshImmediately();return p.toDataURL("image/"+(t&&t.type||"png"))}}else{return this.getDataURL(t)}};e.prototype.convertToPixel=function(t,e){return qw(this,"convertToPixel",t,e)};e.prototype.convertFromPixel=function(t,e){return qw(this,"convertFromPixel",t,e)};e.prototype.containPixel=function(t,e){if(this._disposed){vb(this.id);return}var r=this._model;var i;var a=cs(r,t);H(a,function(t,r){r.indexOf("Models")>=0&&H(t,function(t){var a=t.coordinateSystem;if(a&&a.containPoint){i=i||!!a.containPoint(e)}else if(r==="seriesModels"){var n=this._chartsMap[t.__viewId];if(n&&n.containPoint){i=i||n.containPoint(e,t)}else{if(true){Po(r+": "+(n?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if(true){Po(r+": containPoint is not supported")}}},this)},this);return!!i};e.prototype.getVisual=function(t,e){var r=this._model;var i=cs(r,t,{defaultMainType:"series"});var a=i.seriesModel;if(true){if(!a){Po("There is no specified series model")}}var n=a.getData();var o=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?n.indexOfRawIndex(i.dataIndex):null;return o!=null?jx(n,o,e):qx(n,e)};e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]};e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};e.prototype._initEvents=function(){var t=this;H(hb,function(e){var r=function(r){var i=t.getModel();var a=r.target;var n;var o=e==="globalout";if(o){n={}}else{a&&t_(a,function(t){var e=Qu(t);if(e&&e.dataIndex!=null){var r=e.dataModel||i.getSeriesByIndex(e.seriesIndex);n=r&&r.getDataParams(e.dataIndex,e.dataType,a)||{};return true}else if(e.eventData){n=N({},e.eventData);return true}},true)}if(n){var s=n.componentType;var l=n.componentIndex;if(s==="markLine"||s==="markPoint"||s==="markArea"){s="series";l=n.seriesIndex}var u=s&&l!=null&&i.getComponent(s,l);var f=u&&t[u.mainType==="series"?"_chartsMap":"_componentsMap"][u.__viewId];if(true){if(!o&&!(u&&f)){Po("model or view can not be found by params")}}n.event=r;n.type=e;t._$eventProcessor.eventInfo={targetEl:a,packedEvent:n,model:u,view:f};t.trigger(e,n)}};r.zrEventfulCallAtLast=true;t._zr.on(e,r,t)});H(pb,function(e,r){t._messageCenter.on(r,function(t){this.trigger(r,t)},t)});H(["selectchanged"],function(e){t._messageCenter.on(e,function(t){this.trigger(e,t)},t)});Qx(this._messageCenter,this,this._api)};e.prototype.isDisposed=function(){return this._disposed};e.prototype.clear=function(){if(this._disposed){vb(this.id);return}this.setOption({series:[]},true)};e.prototype.dispose=function(){if(this._disposed){vb(this.id);return}this._disposed=true;var t=this.getDom();if(t){ms(this.getDom(),Mb,"")}var e=this;var r=e._api;var i=e._model;H(e._componentsViews,function(t){t.dispose(i,r)});H(e._chartsViews,function(t){t.dispose(i,r)});e._zr.dispose();e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null;delete _b[e.id]};e.prototype.resize=function(t){if(this[Pw]){if(true){Oo("`resize` should not be called during main process.")}return}if(this._disposed){vb(this.id);return}this._zr.resize(t);var e=this._model;this._loadingFX&&this._loadingFX.resize();if(!e){return}var r=e.resetOption("media");var i=t&&t.silent;if(this[Ow]){if(i==null){i=this[Ow].silent}r=true;this[Ow]=null}this[Pw]=true;try{r&&Yw(this);jw.update.call(this,{type:"resize",animation:N({duration:0},t&&t.animation)})}catch(t){this[Pw]=false;throw t}this[Pw]=false;$w.call(this,i);Qw.call(this,i)};e.prototype.showLoading=function(t,e){if(this._disposed){vb(this.id);return}if(rt(t)){e=t;t=""}t=t||"default";this.hideLoading();if(!xb[t]){if(true){Po("Loading effects "+t+" not exists.")}return}var r=xb[t](this._api,e);var i=this._zr;this._loadingFX=r;i.add(r)};e.prototype.hideLoading=function(){if(this._disposed){vb(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};e.prototype.makeActionFromEvent=function(t){var e=N({},t);e.type=pb[t.type];return e};e.prototype.dispatchAction=function(t,e){if(this._disposed){vb(this.id);return}if(!rt(e)){e={silent:!!e}}if(!cb[t.type]){return}if(!this._model){return}if(this[Pw]){this._pendingActions.push(t);return}var r=e.silent;Jw.call(this,t,r);var i=e.flush;if(i){this._zr.flush()}else if(i!==false&&o.browser.weChat){this._throttledZrFlush()}$w.call(this,r);Qw.call(this,r)};e.prototype.updateLabelLayout=function(){uw.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})};e.prototype.appendData=function(t){if(this._disposed){vb(this.id);return}var e=t.seriesIndex;var r=this.getModel();var i=r.getSeriesByIndex(e);if(true){dt(t.data&&i)}i.appendData(t);this._scheduler.unfinished=true;this.getZr().wakeUp()};e.internalField=function(){Yw=function(t){var e=t._scheduler;e.restorePipelines(t._model);e.prepareStageTasks();Xw(t,true);Xw(t,false);e.plan()};Xw=function(t,e){var r=t._model;var i=t._scheduler;var a=e?t._componentsViews:t._chartsViews;var n=e?t._componentsMap:t._chartsMap;var o=t._zr;var s=t._api;for(var l=0;l<a.length;l++){a[l].__alive=false}e?r.eachComponent(function(t,e){t!=="series"&&u(e)}):r.eachSeries(u);function u(t){var l=t.__requireNewView;t.__requireNewView=false;var u="_ec_"+t.id+"_"+t.type;var f=!l&&n[u];if(!f){var h=Ts(t.type);var v=e?Zm.getClass(h.main,h.sub):Jm.getClass(h.sub);if(true){dt(v,h.sub+" does not exist.")}f=new v;f.init(r,s);n[u]=f;a.push(f);o.add(f.group)}t.__viewId=f.__id=u;f.__alive=true;f.__model=t;f.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex};!e&&i.prepareView(f,t,r,s)}for(var l=0;l<a.length;){var f=a[l];if(!f.__alive){!e&&f.renderTask.dispose();o.remove(f.group);f.dispose(r,s);a.splice(l,1);if(n[f.__id]===f){delete n[f.__id]}f.__id=f.group.__ecComponentInfo=null}else{l++}}};Zw=function(t,e,r,i,a){var n=t._model;n.setUpdatePayload(r);if(!i){H([].concat(t._componentsViews).concat(t._chartsViews),f);return}var o={};o[i+"Id"]=r[i+"Id"];o[i+"Index"]=r[i+"Index"];o[i+"Name"]=r[i+"Name"];var s={mainType:i,query:o};a&&(s.subType=a);var l=r.excludeSeriesId;var u;if(l!=null){u=Mt();H(Go(l),function(t){var e=es(t,null);if(e!=null){u.set(e,true)}})}n&&n.eachComponent(s,function(e){var i=u&&u.get(e.id)!=null;if(i){return}if(vh(r)){if(e instanceof Vm){if(r.type===cf&&!r.notBlur&&!e.get(["emphasis","disabled"])){Zf(e,r,t._api)}}else{var a=jf(e.mainType,e.componentIndex,r.name,t._api),n=a.focusSelf,o=a.dispatchers;if(r.type===cf&&n&&!r.notBlur){Xf(e.mainType,e.componentIndex,t._api)}if(o){H(o,function(t){r.type===cf?zf(t):Vf(t)})}}}else if(hh(r)){if(e instanceof Vm){Jf(e,r,t._api);$f(e);sb(t)}}},t);n&&n.eachComponent(s,function(e){var r=u&&u.get(e.id)!=null;if(r){return}f(t[i==="series"?"_chartsMap":"_componentsMap"][e.__viewId])},t);function f(i){i&&i.__alive&&i[e]&&i[e](i.__model,n,t._api,r)}};jw={prepareAndUpdate:function(t){Yw(this);jw.update.call(this,t,{optionChanged:t.newOption!=null})},update:function(e,r){var i=this._model;var a=this._api;var n=this._zr;var o=this._coordSysMgr;var s=this._scheduler;if(!i){return}i.setUpdatePayload(e);s.restoreData(i,e);s.performSeriesTasks(i);o.create(i,a);s.performDataProcessorTasks(i,e);Kw(this,i);o.update(i,a);t(i);s.performVisualTasks(i,e);rb(this,i,a,e,r);var l=i.get("backgroundColor")||"transparent";var u=i.get("darkMode");n.setBackgroundColor(l);if(u!=null&&u!=="auto"){n.setDarkMode(u)}uw.trigger("afterupdate",i,a)},updateTransform:function(e){var r=this;var i=this._model;var a=this._api;if(!i){return}i.setUpdatePayload(e);var n=[];i.eachComponent(function(t,o){if(t==="series"){return}var s=r.getViewOfComponentModel(o);if(s&&s.__alive){if(s.updateTransform){var l=s.updateTransform(o,i,a,e);l&&l.update&&n.push(s)}else{n.push(s)}}});var o=Mt();i.eachSeries(function(t){var n=r._chartsMap[t.__viewId];if(n.updateTransform){var s=n.updateTransform(t,i,a,e);s&&s.update&&o.set(t.uid,1)}else{o.set(t.uid,1)}});t(i);this._scheduler.performVisualTasks(i,e,{setDirty:true,dirtyMap:o});ab(this,i,a,e,{},o);uw.trigger("afterupdate",i,a)},updateView:function(e){var r=this._model;if(!r){return}r.setUpdatePayload(e);Jm.markUpdateMethod(e,"updateView");t(r);this._scheduler.performVisualTasks(r,e,{setDirty:true});rb(this,r,this._api,e,{});uw.trigger("afterupdate",r,this._api)},updateVisual:function(e){var r=this;var i=this._model;if(!i){return}i.setUpdatePayload(e);i.eachSeries(function(t){t.getData().clearAllVisual()});Jm.markUpdateMethod(e,"updateVisual");t(i);this._scheduler.performVisualTasks(i,e,{visualType:"visual",setDirty:true});i.eachComponent(function(t,a){if(t!=="series"){var n=r.getViewOfComponentModel(a);n&&n.__alive&&n.updateVisual(a,i,r._api,e)}});i.eachSeries(function(t){var a=r._chartsMap[t.__viewId];a.updateVisual(t,i,r._api,e)});uw.trigger("afterupdate",i,this._api)},updateLayout:function(t){jw.update.call(this,t)}};qw=function(t,e,r,i){if(t._disposed){vb(t.id);return}var a=t._model;var n=t._coordSysMgr.getCoordinateSystems();var o;var s=cs(a,r);for(var l=0;l<n.length;l++){var u=n[l];if(u[e]&&(o=u[e](a,s,i))!=null){return o}}if(true){Po("No coordinate system that supports "+e+" found by the given finder.")}};Kw=function(t,e){var r=t._chartsMap;var i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,r[t.__viewId])})};Jw=function(t,e){var r=this;var i=this.getModel();var a=t.type;var n=t.escapeConnect;var o=cb[a];var s=o.actionInfo;var l=(s.update||"update").split(":");var u=l.pop();var f=l[0]!=null&&Ts(l[0]);this[Pw]=true;var h=[t];var v=false;if(t.batch){v=true;h=W(t.batch,function(e){e=E(N({},e),t);e.batch=null;return e})}var c=[];var p;var d=hh(t);var g=vh(t);if(g){Uf(this._api)}H(h,function(e){p=o.action(e,r._model,r._api);p=p||N({},e);p.type=s.event||p.type;c.push(p);if(g){var i=ps(t),a=i.queryOptionMap,n=i.mainTypeSpecified;var l=n?a.keys()[0]:"series";Zw(r,u,e,l);sb(r)}else if(d){Zw(r,u,e,"series");sb(r)}else if(f){Zw(r,u,e,f.main,f.sub)}});if(u!=="none"&&!g&&!d&&!f){try{if(this[Ow]){Yw(this);jw.update.call(this,t);this[Ow]=null}else{jw[u].call(this,t)}}catch(t){this[Pw]=false;throw t}}if(v){p={type:s.event||a,escapeConnect:n,batch:c}}else{p=c[0]}this[Pw]=false;if(!e){var y=this._messageCenter;y.trigger(p.type,p);if(d){var m={type:"selectchanged",escapeConnect:n,selected:Qf(i),isFromClick:t.isFromClick||false,fromAction:t.type,fromActionPayload:t};y.trigger(m.type,m)}}};$w=function(t){var e=this._pendingActions;while(e.length){var r=e.shift();Jw.call(this,r,t)}};Qw=function(t){!t&&this.trigger("updated")};tb=function(t,e){t.on("rendered",function(r){e.trigger("rendered",r);if(t.animation.isFinished()&&!e[Ow]&&!e._scheduler.unfinished&&!e._pendingActions.length){e.trigger("finished")}})};eb=function(t,e){t.on("mouseover",function(t){var r=t.target;var i=t_(r,lh);if(i){qf(i,t,e._api);sb(e)}}).on("mouseout",function(t){var r=t.target;var i=t_(r,lh);if(i){Kf(i,t,e._api);sb(e)}}).on("click",function(t){var r=t.target;var i=t_(r,function(t){return Qu(t).dataIndex!=null},true);if(i){var a=i.selected?"unselect":"select";var n=Qu(i);e._api.dispatchAction({type:a,dataType:n.dataType,dataIndexInside:n.dataIndex,seriesIndex:n.seriesIndex,isFromClick:true})}})};function t(t){t.clearColorPalette();t.eachSeries(function(t){t.clearColorPalette()})}function e(t){var e=[];var r=[];var i=false;t.eachComponent(function(t,a){var n=a.get("zlevel")||0;var o=a.get("z")||0;var s=a.getZLevelKey();i=i||!!s;(t==="series"?r:e).push({zlevel:n,z:o,idx:a.componentIndex,type:t,key:s})});if(i){var a=e.concat(r);var n;var o;br(a,function(t,e){if(t.zlevel===e.zlevel){return t.z-e.z}return t.zlevel-e.zlevel});H(a,function(e){var r=t.getComponent(e.type,e.idx);var i=e.zlevel;var a=e.key;if(n!=null){i=Math.max(n,i)}if(a){if(i===n&&a!==o){i++}o=a}else if(o){if(i===n){i++}o=""}n=i;r.setZLevel(i)})}}rb=function(t,r,i,a,n){e(r);ib(t,r,i,a,n);H(t._chartsViews,function(t){t.__alive=false});ab(t,r,i,a,n);H(t._chartsViews,function(t){if(!t.__alive){t.remove(r,i)}})};ib=function(t,e,r,i,a,n){H(n||t._componentsViews,function(t){var a=t.__model;u(a,t);t.render(a,e,r,i);s(a,t);f(a,t)})};ab=function(t,e,r,i,o,l){var h=t._scheduler;o=N(o||{},{updatedSeries:e.getSeries()});uw.trigger("series:beforeupdate",e,r,o);var v=false;e.eachSeries(function(e){var r=t._chartsMap[e.__viewId];r.__alive=true;var a=r.renderTask;h.updatePayload(a,i);u(e,r);if(l&&l.get(e.uid)){a.dirty()}if(a.perform(h.getPerformArgs(a))){v=true}r.group.silent=!!e.get("silent");n(e,r);$f(e)});h.unfinished=v||h.unfinished;uw.trigger("series:layoutlabels",e,r,o);uw.trigger("series:transition",e,r,o);e.eachSeries(function(e){var r=t._chartsMap[e.__viewId];s(e,r);f(e,r)});a(t,e);uw.trigger("series:afterupdate",e,r,o)};sb=function(t){t[Rw]=true;t.getZr().wakeUp()};lb=function(t){if(!t[Rw]){return}t.getZr().storage.traverse(function(t){if(zv(t)){return}r(t)});t[Rw]=false};function r(t){var e=[];var r=t.currentStates;for(var i=0;i<r.length;i++){var a=r[i];if(!(a==="emphasis"||a==="blur"||a==="select")){e.push(a)}}if(t.selected&&t.states.select){e.push("select")}if(t.hoverState===lf&&t.states.emphasis){e.push("emphasis")}else if(t.hoverState===sf&&t.states.blur){e.push("blur")}t.useStates(e)}function a(t,e){var r=t._zr;var i=r.storage;var a=0;i.traverse(function(t){if(!t.isGroup){a++}});if(a>e.get("hoverLayerThreshold")&&!o.node&&!o.worker){e.eachSeries(function(e){if(e.preventUsingHoverLayer){return}var r=t._chartsMap[e.__viewId];if(r.__alive){r.eachRendered(function(t){if(t.states.emphasis){t.states.emphasis.hoverLayer=true}})}})}}function n(t,e){var r=t.get("blendMode")||null;e.eachRendered(function(t){if(!t.isGroup){t.style.blend=r}})}function s(t,e){if(t.preventAutoZ){return}var r=t.get("z")||0;var i=t.get("zlevel")||0;e.eachRendered(function(t){l(t,r,i,-Infinity);return true})}function l(t,e,r,i){var a=t.getTextContent();var n=t.getTextGuideLine();var o=t.isGroup;if(o){var s=t.childrenRef();for(var u=0;u<s.length;u++){i=Math.max(l(s[u],e,r,i),i)}}else{t.z=e;t.zlevel=r;i=Math.max(t.z2,i)}if(a){a.z=e;a.zlevel=r;isFinite(i)&&(a.z2=i+2)}if(n){var f=t.textGuideLineConfig;n.z=e;n.zlevel=r;isFinite(i)&&(n.z2=i+(f&&f.showAbove?1:-1))}return i}function u(t,e){e.eachRendered(function(t){if(zv(t)){return}var e=t.getTextContent();var r=t.getTextGuideLine();if(t.stateTransition){t.stateTransition=null}if(e&&e.stateTransition){e.stateTransition=null}if(r&&r.stateTransition){r.stateTransition=null}if(t.hasState()){t.prevStates=t.currentStates;t.clearStates()}else if(t.prevStates){t.prevStates=null}})}function f(t,e){var i=t.getModel("stateAnimation");var a=t.isAnimationEnabled();var n=i.get("duration");var o=n>0?{duration:n,delay:i.get("delay"),easing:i.get("easing")}:null;e.eachRendered(function(t){if(t.states&&t.states.emphasis){if(zv(t)){return}if(t instanceof wu){ch(t)}if(t.__dirty){var e=t.prevStates;if(e){t.useStates(e)}}if(a){t.stateTransition=o;var i=t.getTextContent();var n=t.getTextGuideLine();if(i){i.stateTransition=o}if(n){n.stateTransition=o}}if(t.__dirty){r(t)}}})}nb=function(t){return new(function(e){i(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()};r.prototype.getComponentByElement=function(e){while(e){var r=e.__ecComponentInfo;if(r!=null){return t._model.getComponent(r.mainType,r.index)}e=e.parent}};r.prototype.enterEmphasis=function(e,r){zf(e,r);sb(t)};r.prototype.leaveEmphasis=function(e,r){Vf(e,r);sb(t)};r.prototype.enterBlur=function(e){Bf(e);sb(t)};r.prototype.leaveBlur=function(e){Ff(e);sb(t)};r.prototype.enterSelect=function(e){Gf(e);sb(t)};r.prototype.leaveSelect=function(e){Hf(e);sb(t)};r.prototype.getModel=function(){return t.getModel()};r.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)};r.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)};return r}(gg))(t)};ob=function(t){function e(t,e){for(var r=0;r<t.length;r++){var i=t[r];i[Ew]=e}}H(pb,function(r,i){t._messageCenter.on(i,function(r){if(wb[t.group]&&t[Ew]!==zw){if(r&&r.escapeConnect){return}var i=t.makeActionFromEvent(r);var a=[];H(_b,function(e){if(e!==t&&e.group===t.group){a.push(e)}});e(a,zw);H(a,function(t){if(t[Ew]!==Vw){t.dispatchAction(i)}});e(a,Bw)}})})}}();return e}(oe);var fb=ub.prototype;fb.on=Fw("on");fb.off=Fw("off");fb.one=function(t,e,r){var i=this;Ro("ECharts#one is deprecated.");function a(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}e&&e.apply&&e.apply(this,r);i.off(t,a)}this.on.call(this,t,a,r)};var hb=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function vb(t){if(true){Po("Instance "+t+" has been disposed")}}var cb={};var pb={};var db=[];var gb=[];var yb=[];var mb={};var xb={};var _b={};var wb={};var bb=+new Date-0;var Sb=+new Date-0;var Mb="_echarts_instance_";function Ib(t,e,r){var i=!(r&&r.ssr);if(i){if(true){if(!t){throw new Error("Initialize failed: invalid dom.")}}var a=kb(t);if(a){if(true){Po("There is a chart instance already initialized on the dom.")}return a}if(true){if(nt(t)&&t.nodeName.toUpperCase()!=="CANVAS"&&(!t.clientWidth&&(!r||r.width==null)||!t.clientHeight&&(!r||r.height==null))){Po("Can't get DOM width or height. Please check "+"dom.clientWidth and dom.clientHeight. They should not be 0."+"For example, you may need to call this in the callback "+"of window.onload.")}}}var n=new ub(t,e,r);n.id="ec_"+bb++;_b[n.id]=n;i&&ms(t,Mb,n.id);ob(n);uw.trigger("afterinit",n);return n}function Tb(t){if(J(t)){var e=t;t=null;H(e,function(e){if(e.group!=null){t=e.group}});t=t||"g_"+Sb++;H(e,function(e){e.group=t})}wb[t]=true;return t}function Cb(t){wb[t]=false}var Db=Cb;function Ab(t){if(Q(t)){t=_b[t]}else if(!(t instanceof ub)){t=kb(t)}if(t instanceof ub&&!t.isDisposed()){t.dispose()}}function kb(t){return _b[xs(t,Mb)]}function Lb(t){return _b[t]}function Pb(t,e){mb[t]=e}function Ob(t){if(V(gb,t)<0){gb.push(t)}}function Rb(t,e){Ub(db,t,e,xw)}function Nb(t){zb("afterinit",t)}function Eb(t){zb("afterupdate",t)}function zb(t,e){uw.on(t,e)}function Vb(t,e,r){if($(e)){r=e;e=""}var i=rt(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase();e=t.event;if(pb[e]){return}dt(Nw.test(i)&&Nw.test(e));if(!cb[i]){cb[i]={action:r,actionInfo:t}}pb[e]=i}function Bb(t,e){mg.register(t,e)}function Fb(t){var e=mg.get(t);if(e){return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}}function Gb(t,e){Ub(yb,t,e,ww,"layout")}function Hb(t,e){Ub(yb,t,e,Mw,"visual")}var Wb=[];function Ub(t,e,r,i,a){if($(e)||rt(e)){r=e;e=i}if(true){if(isNaN(e)||e==null){throw new Error("Illegal priority")}H(t,function(t){dt(t.__raw!==r)})}if(V(Wb,r)>=0){return}Wb.push(r);var n=_x.wrapStageHandler(r,a);n.__prio=e;n.__raw=r;t.push(n)}function Yb(t,e){xb[t]=e}function Xb(t){if(true){Ro("setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.")}y({createCanvas:t})}function Zb(t,e,r){var i=vw("registerMap");i&&i(t,e,r)}function jb(t){var e=vw("getMap");return e&&e(t)}var qb=Xy;Hb(Sw,px);Hb(Tw,gx);Hb(Tw,yx);Hb(Sw,Xx);Hb(Tw,Zx);Hb(kw,lw);Ob(jg);Rb(yw,qg);Yb("default",xx);Vb({type:cf,event:cf,update:cf},At);Vb({type:pf,event:pf,update:pf},At);Vb({type:df,event:df,update:df},At);Vb({type:gf,event:gf,update:gf},At);Vb({type:yf,event:yf,update:yf},At);Pb("light",zx);Pb("dark",Hx);var Kb={};var Jb=[];var $b={registerPreprocessor:Ob,registerProcessor:Rb,registerPostInit:Nb,registerPostUpdate:Eb,registerUpdateLifecycle:zb,registerAction:Vb,registerCoordinateSystem:Bb,registerLayout:Gb,registerVisual:Hb,registerTransform:qb,registerLoading:Yb,registerMap:Zb,registerImpl:hw,PRIORITY:Lw,ComponentModel:wd,ComponentView:Zm,SeriesModel:Vm,ChartView:Jm,registerComponentModel:function(t){wd.registerClass(t)},registerComponentView:function(t){Zm.registerClass(t)},registerSeriesModel:function(t){Vm.registerClass(t)},registerChartView:function(t){Jm.registerClass(t)},registerSubTypeDefaulter:function(t,e){wd.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Xn(t,e)}};function Qb(t){if(J(t)){H(t,function(t){Qb(t)});return}if(V(Jb,t)>=0){return}Jb.push(t);if($(t)){t={install:t}}t.install($b)}function tS(t){return t==null?0:t.length||1}function eS(t){return t}var rS=function(){function t(t,e,r,i,a,n){this._old=t;this._new=e;this._oldKeyGetter=r||eS;this._newKeyGetter=i||eS;this.context=a;this._diffModeMultiple=n==="multiple"}t.prototype.add=function(t){this._add=t;return this};t.prototype.update=function(t){this._update=t;return this};t.prototype.updateManyToOne=function(t){this._updateManyToOne=t;return this};t.prototype.updateOneToMany=function(t){this._updateOneToMany=t;return this};t.prototype.updateManyToMany=function(t){this._updateManyToMany=t;return this};t.prototype.remove=function(t){this._remove=t;return this};t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()};t.prototype._executeOneToOne=function(){var t=this._old;var e=this._new;var r={};var i=new Array(t.length);var a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter");this._initIndexMap(e,r,a,"_newKeyGetter");for(var n=0;n<t.length;n++){var o=i[n];var s=r[o];var l=tS(s);if(l>1){var u=s.shift();if(s.length===1){r[o]=s[0]}this._update&&this._update(u,n)}else if(l===1){r[o]=null;this._update&&this._update(s,n)}else{this._remove&&this._remove(n)}}this._performRestAdd(a,r)};t.prototype._executeMultiple=function(){var t=this._old;var e=this._new;var r={};var i={};var a=[];var n=[];this._initIndexMap(t,r,a,"_oldKeyGetter");this._initIndexMap(e,i,n,"_newKeyGetter");for(var o=0;o<a.length;o++){var s=a[o];var l=r[s];var u=i[s];var f=tS(l);var h=tS(u);if(f>1&&h===1){this._updateManyToOne&&this._updateManyToOne(u,l);i[s]=null}else if(f===1&&h>1){this._updateOneToMany&&this._updateOneToMany(u,l);i[s]=null}else if(f===1&&h===1){this._update&&this._update(u,l);i[s]=null}else if(f>1&&h>1){this._updateManyToMany&&this._updateManyToMany(u,l);i[s]=null}else if(f>1){for(var v=0;v<f;v++){this._remove&&this._remove(l[v])}}else{this._remove&&this._remove(l)}}this._performRestAdd(n,i)};t.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];var a=e[i];var n=tS(a);if(n>1){for(var o=0;o<n;o++){this._add&&this._add(a[o])}}else if(n===1){this._add&&this._add(a)}e[i]=null}};t.prototype._initIndexMap=function(t,e,r,i){var a=this._diffModeMultiple;for(var n=0;n<t.length;n++){var o="_ec_"+this[i](t[n],n);if(!a){r[n]=o}if(!e){continue}var s=e[o];var l=tS(s);if(l===0){e[o]=n;if(a){r.push(o)}}else if(l===1){e[o]=[s,n]}else{s.push(n)}}};return t}();var iS=function(){function t(t,e){this._encode=t;this._schema=e}t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}};t.prototype._getFullDimensionNames=function(){if(!this._cachedDimNames){this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]}return this._cachedDimNames};return t}();function aS(t,e){var r={};var i=r.encode={};var a=Mt();var n=[];var o=[];var s={};H(t.dimensions,function(e){var r=t.getDimensionInfo(e);var l=r.coordDim;if(l){if(true){dt(Td.get(l)==null)}var u=r.coordDimIndex;nS(i,l)[u]=e;if(!r.isExtraCoord){a.set(l,1);if(sS(r.type)){n[0]=e}nS(s,l)[u]=t.getDimensionIndex(r.name)}if(r.defaultTooltip){o.push(e)}}Td.each(function(t,e){var a=nS(i,e);var n=r.otherDims[e];if(n!=null&&n!==false){a[n]=r.name}})});var l=[];var u={};a.each(function(t,e){var r=i[e];u[e]=r[0];l=l.concat(r)});r.dataDimsOnCoord=l;r.dataDimIndicesOnCoord=W(l,function(e){return t.getDimensionInfo(e).storeDimIndex});r.encodeFirstDimNotExtra=u;var f=i.label;if(f&&f.length){n=f.slice()}var h=i.tooltip;if(h&&h.length){o=h.slice()}else if(!o.length){o=n.slice()}i.defaultedLabel=n;i.defaultedTooltip=o;r.userOutput=new iS(s,e);return r}function nS(t,e){if(!t.hasOwnProperty(e)){t[e]=[]}return t[e]}function oS(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function sS(t){return!(t==="ordinal"||t==="time")}var lS=function(){function t(t){this.otherDims={};if(t!=null){N(this,t)}}return t}();var uS=hs();var fS={float:"f",int:"i",ordinal:"o",number:"n",time:"t"};var hS=function(){function t(t){this.dimensions=t.dimensions;this._dimOmitted=t.dimensionOmitted;this.source=t.source;this._fullDimCount=t.fullDimensionCount;this._updateDimOmitted(t.dimensionOmitted)}t.prototype.isDimensionOmitted=function(){return this._dimOmitted};t.prototype._updateDimOmitted=function(t){this._dimOmitted=t;if(!t){return}if(!this._dimNameMap){this._dimNameMap=pS(this.source)}};t.prototype.getSourceDimensionIndex=function(t){return ht(this._dimNameMap.get(t),-1)};t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e){return e[t]}};t.prototype.makeStoreSchema=function(){var t=this._fullDimCount;var e=sy(this.source);var r=!dS(t);var i="";var a=[];for(var n=0,o=0;n<t;n++){var s=void 0;var l=void 0;var u=void 0;var f=this.dimensions[o];if(f&&f.storeDimIndex===n){s=e?f.name:null;l=f.type;u=f.ordinalMeta;o++}else{var h=this.getSourceDimension(n);if(h){s=e?h.name:null;l=h.type}}a.push({property:s,type:l,ordinalMeta:u});if(e&&s!=null&&(!f||!f.isCalculationCoord)){i+=r?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s}i+="$";i+=fS[l]||"f";if(u){i+=u.uid}i+="$"}var v=this.source;var c=[v.seriesLayoutBy,v.startIndex,i].join("$$");return{dimensions:a,hash:c}};t.prototype.makeOutputDimensionNames=function(){var t=[];for(var e=0,r=0;e<this._fullDimCount;e++){var i=void 0;var a=this.dimensions[r];if(a&&a.storeDimIndex===e){if(!a.isCalculationCoord){i=a.name}r++}else{var n=this.getSourceDimension(e);if(n){i=n.name}}t.push(i)}return t};t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t);t.isCalculationCoord=true;this._fullDimCount++;this._updateDimOmitted(true)};return t}();function vS(t){return t instanceof hS}function cS(t){var e=Mt();for(var r=0;r<(t||[]).length;r++){var i=t[r];var a=rt(i)?i.name:i;if(a!=null&&e.get(a)==null){e.set(a,r)}}return e}function pS(t){var e=uS(t);return e.dimNameMap||(e.dimNameMap=cS(t.dimensionsDefine))}function dS(t){return t>30}var gS=rt;var yS=W;var mS=typeof Int32Array==="undefined"?Array:Int32Array;var xS="e\0\0";var _S=-1;var wS=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"];var bS=["_approximateExtent"];var SS;var MS;var IS;var TS;var CS;var DS;var AS;var kS=function(){function t(t,e){this.type="list";this._dimOmitted=false;this._nameList=[];this._idList=[];this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._approximateExtent={};this._calculationInfo={};this.hasItemOption=false;this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"];this.CHANGABLE_METHODS=["filterSelf","selectRange"];this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r;var i=false;if(vS(t)){r=t.dimensions;this._dimOmitted=t.isDimensionOmitted();this._schema=t}else{i=true;r=t}r=r||["x","y"];var a={};var n=[];var o={};var s=false;var l={};for(var u=0;u<r.length;u++){var f=r[u];var h=Q(f)?new lS({name:f}):!(f instanceof lS)?new lS(f):f;var v=h.name;h.type=h.type||"float";if(!h.coordDim){h.coordDim=v;h.coordDimIndex=0}var c=h.otherDims=h.otherDims||{};n.push(v);a[v]=h;if(l[v]!=null){s=true}if(h.createInvertedIndices){o[v]=[]}if(c.itemName===0){this._nameDimIdx=u}if(c.itemId===0){this._idDimIdx=u}if(true){dt(i||h.storeDimIndex>=0)}if(i){h.storeDimIndex=u}}this.dimensions=n;this._dimInfos=a;this._initGetDimensionInfo(s);this.hostModel=e;this._invertedIndicesMap=o;if(this._dimOmitted){var p=this._dimIdxToName=Mt();H(n,function(t){p.set(a[t].storeDimIndex,t)})}}t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null){return t}e=t;if(!this._dimOmitted){return this.dimensions[e]}var r=this._dimIdxToName.get(e);if(r!=null){return r}var i=this._schema.getSourceDimension(e);if(i){return i.name}};t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null){return e}if(t==null){return-1}var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1};t.prototype._recognizeDimIndex=function(t){if(et(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0)){return+t}};t.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);if(true){if(e==null){throw new Error("Unknown dimension "+t)}}return e};t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))};t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:undefined}:function(t){return e[t]}};t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()};t.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(e==null){return r.encodeFirstDimNotExtra[t]}var i=r.encode[t];return i?i[e]:null};t.prototype.mapDimensionsAll=function(t){var e=this._dimSummary;var r=e.encode[t];return(r||[]).slice()};t.prototype.getStore=function(){return this._store};t.prototype.initData=function(t,e,r){var i=this;var a;if(t instanceof sm){a=t}if(!a){var n=this.dimensions;var o=$g(t)||G(t)?new cy(t,n.length):t;a=new sm;var s=yS(n,function(t){return{type:i._dimInfos[t].type,property:t}});a.initData(o,s,r)}this._store=a;this._nameList=(e||[]).slice();this._idList=[];this._nameRepeatCount={};this._doInit(0,a.count());this._dimSummary=aS(this,this._schema);this.userOutput=this._dimSummary.userOutput};t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])};t.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e&&e.length),i=r.start,a=r.end;var n=this._shouldMakeIdFromName();this._updateOrdinalMeta();if(e){for(var o=i;o<a;o++){var s=o-i;this._nameList[o]=e[s];if(n){AS(this,o)}}}};t.prototype._updateOrdinalMeta=function(){var t=this._store;var e=this.dimensions;for(var r=0;r<e.length;r++){var i=this._dimInfos[e[r]];if(i.ordinalMeta){t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}}};t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Ld&&!t.fillStorage};t.prototype._doInit=function(t,e){if(t>=e){return}var r=this._store;var i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList;var n=this._idList;var o=i.getSource().sourceFormat;var s=o===Cd;if(s&&!i.pure){var l=[];for(var u=t;u<e;u++){var f=i.getItem(u,l);if(!this.hasItemOption&&Yo(f)){this.hasItemOption=true}if(f){var h=f.name;if(a[u]==null&&h!=null){a[u]=es(h,null)}var v=f.id;if(n[u]==null&&v!=null){n[u]=es(v,null)}}}}if(this._shouldMakeIdFromName()){for(var u=t;u<e;u++){AS(this,u)}}SS(this)};t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))};t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e);this._approximateExtent[e]=t.slice()};t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]};t.prototype.setCalculationInfo=function(t,e){gS(t)?N(this._calculationInfo,t):this._calculationInfo[t]=e};t.prototype.getName=function(t){var e=this.getRawIndex(t);var r=this._nameList[e];if(r==null&&this._nameDimIdx!=null){r=IS(this,this._nameDimIdx,e)}if(r==null){r=""}return r};t.prototype._getCategory=function(t,e){var r=this._store.get(t,e);var i=this._store.getOrdinalMeta(t);if(i){return i.categories[r]}return r};t.prototype.getId=function(t){return MS(this,this.getRawIndex(t))};t.prototype.count=function(){return this._store.count()};t.prototype.get=function(t,e){var r=this._store;var i=this._dimInfos[t];if(i){return r.get(i.storeDimIndex,e)}};t.prototype.getByRawIndex=function(t,e){var r=this._store;var i=this._dimInfos[t];if(i){return r.getByRawIndex(i.storeDimIndex,e)}};t.prototype.getIndices=function(){return this._store.getIndices()};t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))};t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))};t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))};t.prototype.getValues=function(t,e){var r=this;var i=this._store;return J(t)?i.getValues(yS(t,function(t){return r._getStoreDimIndex(t)}),e):i.getValues(t)};t.prototype.hasValue=function(t){var e=this._dimSummary.dataDimIndicesOnCoord;for(var r=0,i=e.length;r<i;r++){if(isNaN(this._store.get(e[r],t))){return false}}return true};t.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++){if(this.getName(e)===t){return e}}return-1};t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)};t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)};t.prototype.rawIndexOf=function(t,e){var r=t&&this._invertedIndicesMap[t];if(true){if(!r){throw new Error("Do not supported yet")}}var i=r&&r[e];if(i==null||isNaN(i)){return _S}return i};t.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)};t.prototype.each=function(t,e,r){if($(t)){r=e;e=t;t=[]}var i=r||this;var a=yS(TS(t),this._getStoreDimIndex,this);this._store.each(a,i?q(e,i):e)};t.prototype.filterSelf=function(t,e,r){if($(t)){r=e;e=t;t=[]}var i=r||this;var a=yS(TS(t),this._getStoreDimIndex,this);this._store=this._store.filter(a,i?q(e,i):e);return this};t.prototype.selectRange=function(t){var e=this;var r={};var i=Z(t);H(i,function(i){var a=e._getStoreDimIndex(i);r[a]=t[i]});this._store=this._store.selectRange(r);return this};t.prototype.mapArray=function(t,e,r){if($(t)){r=e;e=t;t=[]}r=r||this;var i=[];this.each(t,function(){i.push(e&&e.apply(this,arguments))},r);return i};t.prototype.map=function(t,e,r,i){var a=r||i||this;var n=yS(TS(t),this._getStoreDimIndex,this);var o=DS(this);o._store=this._store.map(n,a?q(e,a):e);return o};t.prototype.modify=function(t,e,r,i){var a=this;var n=r||i||this;if(true){H(TS(t),function(t){var e=a.getDimensionInfo(t);if(!e.isCalculationCoord){console.error("Danger: only stack dimension can be modified")}})}var o=yS(TS(t),this._getStoreDimIndex,this);this._store.modify(o,n?q(e,n):e)};t.prototype.downSample=function(t,e,r,i){var a=DS(this);a._store=this._store.downSample(this._getStoreDimIndex(t),e,r,i);return a};t.prototype.minmaxDownSample=function(t,e){var r=DS(this);r._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e);return r};t.prototype.lttbDownSample=function(t,e){var r=DS(this);r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e);return r};t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)};t.prototype.getItemModel=function(t){var e=this.hostModel;var r=this.getRawDataItem(t);return new qc(r,e,e&&e.ecModel)};t.prototype.diff=function(t){var e=this;return new rS(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(e){return MS(t,e)},function(t){return MS(e,t)})};t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]};t.prototype.setVisual=function(t,e){this._visual=this._visual||{};if(gS(t)){N(this._visual,t)}else{this._visual[t]=e}};t.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t];var i=r&&r[e];if(i==null){return this.getVisual(e)}return i};t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0};t.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals;var i=r[t];if(!i){i=r[t]={}}var a=i[e];if(a==null){a=this.getVisual(e);if(J(a)){a=a.slice()}else if(gS(a)){a=N({},a)}i[e]=a}return a};t.prototype.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i;if(gS(e)){N(i,e)}else{i[e]=r}};t.prototype.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};t.prototype.setLayout=function(t,e){gS(t)?N(this._layout,t):this._layout[t]=e};t.prototype.getLayout=function(t){return this._layout[t]};t.prototype.getItemLayout=function(t){return this._itemLayouts[t]};t.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?N(this._itemLayouts[t]||{},e):e};t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0};t.prototype.setItemGraphicEl=function(t,e){var r=this.hostModel&&this.hostModel.seriesIndex;tf(r,this.dataType,t,e);this._graphicEls[t]=e};t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]};t.prototype.eachItemGraphicEl=function(t,e){H(this._graphicEls,function(r,i){if(r){t&&t.call(e,r,i)}})};t.prototype.cloneShallow=function(e){if(!e){e=new t(this._schema?this._schema:yS(this.dimensions,this._getDimInfo,this),this.hostModel)}CS(e,this);e._store=this._store;return e};t.prototype.wrapMethod=function(t,e){var r=this[t];if(!$(r)){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(t);this[t]=function(){var t=r.apply(this,arguments);return e.apply(this,[t].concat(ct(arguments)))}};t.internalField=function(){SS=function(t){var e=t._invertedIndicesMap;H(e,function(r,i){var a=t._dimInfos[i];var n=a.ordinalMeta;var o=t._store;if(n){r=e[i]=new mS(n.categories.length);for(var s=0;s<r.length;s++){r[s]=_S}for(var s=0;s<o.count();s++){r[o.get(a.storeDimIndex,s)]=s}}})};IS=function(t,e,r){return es(t._getCategory(e,r),null)};MS=function(t,e){var r=t._idList[e];if(r==null&&t._idDimIdx!=null){r=IS(t,t._idDimIdx,e)}if(r==null){r=xS+e}return r};TS=function(t){if(!J(t)){t=t!=null?[t]:[]}return t};DS=function(e){var r=new t(e._schema?e._schema:yS(e.dimensions,e._getDimInfo,e),e.hostModel);CS(r,e);return r};CS=function(t,e){H(wS.concat(e.__wrappedMethods||[]),function(r){if(e.hasOwnProperty(r)){t[r]=e[r]}});t.__wrappedMethods=e.__wrappedMethods;H(bS,function(r){t[r]=P(e[r])});t._calculationInfo=N({},e._calculationInfo)};AS=function(t,e){var r=t._nameList;var i=t._idList;var a=t._nameDimIdx;var n=t._idDimIdx;var o=r[e];var s=i[e];if(o==null&&a!=null){r[e]=o=IS(t,a,e)}if(s==null&&n!=null){i[e]=s=IS(t,n,e)}if(s==null&&o!=null){var l=t._nameRepeatCount;var u=l[o]=(l[o]||0)+1;s=o;if(u>1){s+="__ec__"+u}i[e]=s}}}();return t}();function LS(t,e){return PS(t,e).dimensions}function PS(t,e){if(!$g(t)){t=ty(t)}e=e||{};var r=e.coordDimensions||[];var i=e.dimensionsDefine||t.dimensionsDefine||[];var a=Mt();var n=[];var o=RS(t,r,i,e.dimensionsCount);var s=e.canOmitUnusedDimensions&&dS(o);var l=i===t.dimensionsDefine;var u=l?pS(t):cS(i);var f=e.encodeDefine;if(!f&&e.encodeDefaulter){f=e.encodeDefaulter(t,o)}var h=Mt(f);var v=new Qy(o);for(var c=0;c<v.length;c++){v[c]=-1}function p(t){var e=v[t];if(e<0){var r=i[t];var a=rt(r)?r:{name:r};var o=new lS;var s=a.name;if(s!=null&&u.get(s)!=null){o.name=o.displayName=s}a.type!=null&&(o.type=a.type);a.displayName!=null&&(o.displayName=a.displayName);var l=n.length;v[t]=l;o.storeDimIndex=t;n.push(o);return o}return n[e]}if(!s){for(var c=0;c<o;c++){p(c)}}h.each(function(t,e){var r=Go(t).slice();if(r.length===1&&!Q(r[0])&&r[0]<0){h.set(e,false);return}var i=h.set(e,[]);H(r,function(t,r){var a=Q(t)?u.get(t):t;if(a!=null&&a<o){i[r]=a;g(p(a),e,r)}})});var d=0;H(r,function(t){var e;var r;var i;var a;if(Q(t)){e=t;a={}}else{a=t;e=a.name;var n=a.ordinalMeta;a.ordinalMeta=null;a=N({},a);a.ordinalMeta=n;r=a.dimsDef;i=a.otherDims;a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var s=h.get(e);if(s===false){return}s=Go(s);if(!s.length){for(var u=0;u<(r&&r.length||1);u++){while(d<o&&p(d).coordDim!=null){d++}d<o&&s.push(d++)}}H(s,function(t,n){var o=p(t);if(l&&a.type!=null){o.type=a.type}g(E(o,a),e,n);if(o.name==null&&r){var s=r[n];!rt(s)&&(s={name:s});o.name=o.displayName=s.name;o.defaultTooltip=s.defaultTooltip}i&&E(o.otherDims,i)})});function g(t,e,r){if(Td.get(e)!=null){t.otherDims[e]=r}else{t.coordDim=e;t.coordDimIndex=r;a.set(e,true)}}var y=e.generateCoord;var m=e.generateCoordCount;var x=m!=null;m=y?m||1:0;var _=y||"value";function w(t){if(t.name==null){t.name=t.coordDim}}if(!s){for(var b=0;b<o;b++){var S=p(b);var M=S.coordDim;if(M==null){S.coordDim=NS(_,a,x);S.coordDimIndex=0;if(!y||m<=0){S.isExtraCoord=true}m--}w(S);if(S.type==null&&(Hd(t,b)===Nd.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))){S.type="ordinal"}}}else{H(n,function(t){w(t)});n.sort(function(t,e){return t.storeDimIndex-e.storeDimIndex})}OS(n);return new hS({source:t,dimensions:n,fullDimensionCount:o,dimensionOmitted:s})}function OS(t){var e=Mt();for(var r=0;r<t.length;r++){var i=t[r];var a=i.name;var n=e.get(a)||0;if(n>0){i.name=a+(n-1)}n++;e.set(a,n)}}function RS(t,e,r,i){var a=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,i||0);H(e,function(t){var e;if(rt(t)&&(e=t.dimsDef)){a=Math.max(a,e.length)}});return a}function NS(t,e,r){if(r||e.hasKey(t)){var i=0;while(e.hasKey(t+i)){i++}t+=i}e.set(t,true);return t}var ES=function(){function t(t){this.coordSysDims=[];this.axisMap=Mt();this.categoryAxisMap=Mt();this.coordSysName=t}return t}();function zS(t){var e=t.get("coordinateSystem");var r=new ES(e);var i=VS[e];if(i){i(t,r,r.axisMap,r.categoryAxisMap);return r}}var VS={cartesian2d:function(t,e,r,i){var a=t.getReferringComponents("xAxis",ds).models[0];var n=t.getReferringComponents("yAxis",ds).models[0];if(true){if(!a){throw new Error('xAxis "'+ft(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found')}if(!n){throw new Error('yAxis "'+ft(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found')}}e.coordSysDims=["x","y"];r.set("x",a);r.set("y",n);if(BS(a)){i.set("x",a);e.firstCategoryDimIndex=0}if(BS(n)){i.set("y",n);e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1)}},singleAxis:function(t,e,r,i){var a=t.getReferringComponents("singleAxis",ds).models[0];if(true){if(!a){throw new Error("singleAxis should be specified.")}}e.coordSysDims=["single"];r.set("single",a);if(BS(a)){i.set("single",a);e.firstCategoryDimIndex=0}},polar:function(t,e,r,i){var a=t.getReferringComponents("polar",ds).models[0];var n=a.findAxisModel("radiusAxis");var o=a.findAxisModel("angleAxis");if(true){if(!o){throw new Error("angleAxis option not found")}if(!n){throw new Error("radiusAxis option not found")}}e.coordSysDims=["radius","angle"];r.set("radius",n);r.set("angle",o);if(BS(n)){i.set("radius",n);e.firstCategoryDimIndex=0}if(BS(o)){i.set("angle",o);e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1)}},geo:function(t,e,r,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,i){var a=t.ecModel;var n=a.getComponent("parallel",t.get("parallelIndex"));var o=e.coordSysDims=n.dimensions.slice();H(n.parallelAxisIndex,function(t,n){var s=a.getComponent("parallelAxis",t);var l=o[n];r.set(l,s);if(BS(s)){i.set(l,s);if(e.firstCategoryDimIndex==null){e.firstCategoryDimIndex=n}}})}};function BS(t){return t.get("type")==="category"}function FS(t,e,r){r=r||{};var i=r.byIndex;var a=r.stackedCoordDimension;var n;var o;var s;if(GS(e)){n=e}else{o=e.schema;n=o.dimensions;s=e.store}var l=!!(t&&t.get("stack"));var u;var f;var h;var v;H(n,function(t,e){if(Q(t)){n[e]=t={name:t}}if(l&&!t.isExtraCoord){if(!i&&!u&&t.ordinalMeta){u=t}if(!f&&t.type!=="ordinal"&&t.type!=="time"&&(!a||a===t.coordDim)){f=t}}});if(f&&!i&&!u){i=true}if(f){h="__\0ecstackresult_"+t.id;v="__\0ecstackedover_"+t.id;if(u){u.createInvertedIndices=true}var c=f.coordDim;var p=f.type;var d=0;H(n,function(t){if(t.coordDim===c){d++}});var g={name:h,coordDim:c,coordDimIndex:d,type:p,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length};var y={name:v,coordDim:v,coordDimIndex:d+1,type:p,isExtraCoord:true,isCalculationCoord:true,storeDimIndex:n.length+1};if(o){if(s){g.storeDimIndex=s.ensureCalculationDimension(v,p);y.storeDimIndex=s.ensureCalculationDimension(h,p)}o.appendCalculationDimension(g);o.appendCalculationDimension(y)}else{n.push(g);n.push(y)}}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:i,stackedOverDimension:v,stackResultDimension:h}}function GS(t){return!vS(t.schema)}function HS(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function WS(t,e){return HS(t,e)?t.getCalculationInfo("stackResultDimension"):e}function US(t,e){var r=t.get("coordinateSystem");var i=mg.get(r);var a;if(e&&e.coordSysDims){a=W(e.coordSysDims,function(t){var r={name:t};var i=e.axisMap.get(t);if(i){var a=i.get("type");r.type=oS(a)}return r})}if(!a){a=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]}return a}function YS(t,e,r){var i;var a;r&&H(t,function(t,n){var o=t.coordDim;var s=r.categoryAxisMap.get(o);if(s){if(i==null){i=n}t.ordinalMeta=s.getOrdinalMeta();if(e){t.createInvertedIndices=true}}if(t.otherDims.itemName!=null){a=true}});if(!a&&i!=null){t[i].otherDims.itemName=0}return i}function XS(t,e,r){r=r||{};var i=e.getSourceManager();var a;var n=false;if(t){n=true;a=ty(t)}else{a=i.getSource();n=a.sourceFormat===Cd}var o=zS(e);var s=US(e,o);var l=r.useEncodeDefaulter;var u=$(l)?l:l?K(Vd,s,e):null;var f={coordDimensions:s,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n};var h=PS(a,f);var v=YS(h.dimensions,r.createInvertedIndices,o);var c=!n?i.getSharedDataStore(h):null;var p=FS(e,{schema:h,store:c});var d=new kS(h,e);d.setCalculationInfo(p);var g=v!=null&&ZS(a)?function(t,e,r,i){return i===v?r:this.defaultDimValueGetter(t,e,r,i)}:null;d.hasItemOption=false;d.initData(n?a:c,null,g);return d}function ZS(t){if(t.sourceFormat===Cd){var e=jS(t.data||[]);return!J(Uo(e))}}function jS(t){var e=0;while(e<t.length&&t[e]==null){e++}return t[e]}var qS=function(){function t(t){this._setting=t||{};this._extent=[Infinity,-Infinity]}t.prototype.getSetting=function(t){return this._setting[t]};t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1])};t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};t.prototype.getExtent=function(){return this._extent.slice()};t.prototype.setExtent=function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=t}if(!isNaN(e)){r[1]=e}};t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t};t.prototype.isBlank=function(){return this._isBlank};t.prototype.setBlank=function(t){this._isBlank=t};return t}();Es(qS);var KS=0;var JS=function(){function t(t){this.categories=t.categories||[];this._needCollect=t.needCollect;this._deduplication=t.deduplication;this.uid=++KS}t.createByAxisModel=function(e){var r=e.option;var i=r.data;var a=i&&W(i,$S);return new t({categories:a,needCollect:!a,deduplication:r.dedplication!==false})};t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)};t.prototype.parseAndCollect=function(t){var e;var r=this._needCollect;if(!Q(t)&&!r){return t}if(r&&!this._deduplication){e=this.categories.length;this.categories[e]=t;return e}var i=this._getOrCreateMap();e=i.get(t);if(e==null){if(r){e=this.categories.length;this.categories[e]=t;i.set(t,e)}else{e=NaN}}return e};t.prototype._getOrCreateMap=function(){return this._map||(this._map=Mt(this.categories))};return t}();function $S(t){if(rt(t)&&t.value!=null){return t.value}else{return t+""}}function QS(t){var e=Math.pow(10,mo(Math.abs(t)));var r=Math.abs(t/e);return r===0||r===1||r===2||r===3||r===5}function tM(t){return t.type==="interval"||t.type==="log"}function eM(t,e,r,i){var a={};var n=t[1]-t[0];var o=a.interval=xo(n/e,true);if(r!=null&&o<r){o=a.interval=r}if(i!=null&&o>i){o=a.interval=i}var s=a.intervalPrecision=iM(o);var l=a.niceTickExtent=[io(Math.ceil(t[0]/o)*o,s),io(Math.floor(t[1]/o)*o,s)];nM(l,t);return a}function rM(t){var e=Math.pow(10,mo(t));var r=t/e;if(!r){r=1}else if(r===2){r=3}else if(r===3){r=5}else{r*=2}return io(r*e)}function iM(t){return no(t)+2}function aM(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function nM(t,e){!isFinite(t[0])&&(t[0]=e[0]);!isFinite(t[1])&&(t[1]=e[1]);aM(t,0,e);aM(t,1,e);if(t[0]>t[1]){t[0]=t[1]}}function oM(t,e){return t>=e[0]&&t<=e[1]}function sM(t,e){if(e[1]===e[0]){return.5}return(t-e[0])/(e[1]-e[0])}function lM(t,e){return t*(e[1]-e[0])+e[0]}var uM=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");if(!i){i=new JS({})}if(J(i)){i=new JS({categories:W(i,function(t){return rt(t)?t.value:t})})}r._ordinalMeta=i;r._extent=r.getSetting("extent")||[0,i.categories.length-1];return r}e.prototype.parse=function(t){if(t==null){return NaN}return Q(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)};e.prototype.contain=function(t){t=this.parse(t);return oM(t,this._extent)&&this._ordinalMeta.categories[t]!=null};e.prototype.normalize=function(t){t=this._getTickNumber(this.parse(t));return sM(t,this._extent)};e.prototype.scale=function(t){t=Math.round(lM(t,this._extent));return this.getRawOrdinalNumber(t)};e.prototype.getTicks=function(){var t=[];var e=this._extent;var r=e[0];while(r<=e[1]){t.push({value:r});r++}return t};e.prototype.getMinorTicks=function(t){return};e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var e=t.ordinalNumbers;var r=this._ordinalNumbersByTick=[];var i=this._ticksByOrdinalNumber=[];var a=0;var n=this._ordinalMeta.categories.length;for(var o=Math.min(n,e.length);a<o;++a){var s=e[a];r[a]=s;i[s]=a}var l=0;for(;a<n;++a){while(i[l]!=null){l++}r.push(l);i[l]=a}};e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t};e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t};e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value);var r=this._ordinalMeta.categories[e];return r==null?"":r+""}};e.prototype.count=function(){return this._extent[1]-this._extent[0]+1};e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};e.prototype.isInExtentRange=function(t){t=this._getTickNumber(t);return this._extent[0]<=t&&this._extent[1]>=t};e.prototype.getOrdinalMeta=function(){return this._ordinalMeta};e.prototype.calcNiceTicks=function(){};e.prototype.calcNiceExtent=function(){};e.type="ordinal";return e}(qS);qS.registerClass(uM);var fM=io;var hM=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="interval";e._interval=0;e._intervalPrecision=2;return e}e.prototype.parse=function(t){return t};e.prototype.contain=function(t){return oM(t,this._extent)};e.prototype.normalize=function(t){return sM(t,this._extent)};e.prototype.scale=function(t){return lM(t,this._extent)};e.prototype.setExtent=function(t,e){var r=this._extent;if(!isNaN(t)){r[0]=parseFloat(t)}if(!isNaN(e)){r[1]=parseFloat(e)}};e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]);t[1]>e[1]&&(e[1]=t[1]);this.setExtent(e[0],e[1])};e.prototype.getInterval=function(){return this._interval};e.prototype.setInterval=function(t){this._interval=t;this._niceExtent=this._extent.slice();this._intervalPrecision=iM(t)};e.prototype.getTicks=function(t){var e=this._interval;var r=this._extent;var i=this._niceExtent;var a=this._intervalPrecision;var n=[];if(!e){return n}var o=1e4;if(r[0]<i[0]){if(t){n.push({value:fM(i[0]-e,a)})}else{n.push({value:r[0]})}}var s=i[0];while(s<=i[1]){n.push({value:s});s=fM(s+e,a);if(s===n[n.length-1].value){break}if(n.length>o){return[]}}var l=n.length?n[n.length-1].value:i[1];if(r[1]>l){if(t){n.push({value:fM(l+e,a)})}else{n.push({value:r[1]})}}return n};e.prototype.getMinorTicks=function(t){var e=this.getTicks(true);var r=[];var i=this.getExtent();for(var a=1;a<e.length;a++){var n=e[a];var o=e[a-1];var s=0;var l=[];var u=n.value-o.value;var f=u/t;while(s<t-1){var h=fM(o.value+(s+1)*f);if(h>i[0]&&h<i[1]){l.push(h)}s++}r.push(l)}return r};e.prototype.getLabel=function(t,e){if(t==null){return""}var r=e&&e.precision;if(r==null){r=no(t.value)||0}else if(r==="auto"){r=this._intervalPrecision}var i=fM(t.value,r,true);return Xp(i)};e.prototype.calcNiceTicks=function(t,e,r){t=t||5;var i=this._extent;var a=i[1]-i[0];if(!isFinite(a)){return}if(a<0){a=-a;i.reverse()}var n=eM(i,t,e,r);this._intervalPrecision=n.intervalPrecision;this._interval=n.interval;this._niceExtent=n.niceTickExtent};e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]){if(e[0]!==0){var r=Math.abs(e[0]);if(!t.fixMax){e[1]+=r/2;e[0]-=r/2}else{e[0]-=r/2}}else{e[1]=1}}var i=e[1]-e[0];if(!isFinite(i)){e[0]=0;e[1]=1}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;if(!t.fixMin){e[0]=fM(Math.floor(e[0]/a)*a)}if(!t.fixMax){e[1]=fM(Math.ceil(e[1]/a)*a)}};e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]};e.type="interval";return e}(qS);qS.registerClass(hM);var vM=typeof Float32Array!=="undefined";var cM=!vM?Array:Float32Array;function pM(t){if(J(t)){return vM?new Float32Array(t):t}return new cM(t)}var dM="__ec_stack_";function gM(t){return t.get("stack")||dM+t.seriesIndex}function yM(t){return t.dim+t.index}function mM(t){var e=[];var r=t.axis;var i="axis0";if(r.type!=="category"){return}var a=r.getBandWidth();for(var n=0;n<t.count||0;n++){e.push(E({bandWidth:a,axisKey:i,stackId:dM+n},t))}var o=bM(e);var s=[];for(var n=0;n<t.count;n++){var l=o[i][dM+n];l.offsetCenter=l.offset+l.width/2;s.push(l)}return s}function xM(t,e){var r=[];e.eachSeriesByType(t,function(t){if(TM(t)){r.push(t)}});return r}function _M(t){var e={};H(t,function(t){var r=t.coordinateSystem;var i=r.getBaseAxis();if(i.type!=="time"&&i.type!=="value"){return}var a=t.getData();var n=i.dim+"_"+i.index;var o=a.getDimensionIndex(a.mapDimension(i.dim));var s=a.getStore();for(var l=0,u=s.count();l<u;++l){var f=s.get(o,l);if(!e[n]){e[n]=[f]}else{e[n].push(f)}}});var r={};for(var i in e){if(e.hasOwnProperty(i)){var a=e[i];if(a){a.sort(function(t,e){return t-e});var n=null;for(var o=1;o<a.length;++o){var s=a[o]-a[o-1];if(s>0){n=n===null?s:Math.min(n,s)}}r[i]=n}}}return r}function wM(t){var e=_M(t);var r=[];H(t,function(t){var i=t.coordinateSystem;var a=i.getBaseAxis();var n=a.getExtent();var o;if(a.type==="category"){o=a.getBandWidth()}else if(a.type==="value"||a.type==="time"){var s=a.dim+"_"+a.index;var l=e[s];var u=Math.abs(n[1]-n[0]);var f=a.scale.getExtent();var h=Math.abs(f[1]-f[0]);o=l?u/h*l:u}else{var v=t.getData();o=Math.abs(n[1]-n[0])/v.count()}var c=ro(t.get("barWidth"),o);var p=ro(t.get("barMaxWidth"),o);var d=ro(t.get("barMinWidth")||(CM(t)?.5:1),o);var g=t.get("barGap");var y=t.get("barCategoryGap");r.push({bandWidth:o,barWidth:c,barMaxWidth:p,barMinWidth:d,barGap:g,barCategoryGap:y,axisKey:yM(a),stackId:gM(t)})});return bM(r)}function bM(t){var e={};H(t,function(t,r){var i=t.axisKey;var a=t.bandWidth;var n=e[i]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}};var o=n.stacks;e[i]=n;var s=t.stackId;if(!o[s]){n.autoWidthCount++}o[s]=o[s]||{width:0,maxWidth:0};var l=t.barWidth;if(l&&!o[s].width){o[s].width=l;l=Math.min(n.remainedWidth,l);n.remainedWidth-=l}var u=t.barMaxWidth;u&&(o[s].maxWidth=u);var f=t.barMinWidth;f&&(o[s].minWidth=f);var h=t.barGap;h!=null&&(n.gap=h);var v=t.barCategoryGap;v!=null&&(n.categoryGap=v)});var r={};H(e,function(t,e){r[e]={};var i=t.stacks;var a=t.bandWidth;var n=t.categoryGap;if(n==null){var o=Z(i).length;n=Math.max(35-o*4,15)+"%"}var s=ro(n,a);var l=ro(t.gap,1);var u=t.remainedWidth;var f=t.autoWidthCount;var h=(u-s)/(f+(f-1)*l);h=Math.max(h,0);H(i,function(t){var e=t.maxWidth;var r=t.minWidth;if(!t.width){var i=h;if(e&&e<i){i=Math.min(e,u)}if(r&&r>i){i=r}if(i!==h){t.width=i;u-=i+l*i;f--}}else{var i=t.width;if(e){i=Math.min(i,e)}if(r){i=Math.max(i,r)}t.width=i;u-=i+l*i;f--}});h=(u-s)/(f+(f-1)*l);h=Math.max(h,0);var v=0;var c;H(i,function(t,e){if(!t.width){t.width=h}c=t;v+=t.width*(1+l)});if(c){v-=c.width*l}var p=-v/2;H(i,function(t,i){r[e][i]=r[e][i]||{bandWidth:a,offset:p,width:t.width};p+=t.width*(1+l)})});return r}function SM(t,e,r){if(t&&e){var i=t[yM(e)];if(i!=null&&r!=null){return i[gM(r)]}return i}}function MM(t,e){var r=xM(t,e);var i=wM(r);H(r,function(t){var e=t.getData();var r=t.coordinateSystem;var a=r.getBaseAxis();var n=gM(t);var o=i[yM(a)][n];var s=o.offset;var l=o.width;e.setLayout({bandWidth:o.bandWidth,offset:s,size:l})})}function IM(t){return{seriesType:t,plan:jm(),reset:function(t){if(!TM(t)){return}var e=t.getData();var r=t.coordinateSystem;var i=r.getBaseAxis();var a=r.getOtherAxis(i);var n=e.getDimensionIndex(e.mapDimension(a.dim));var o=e.getDimensionIndex(e.mapDimension(i.dim));var s=t.get("showBackground",true);var l=e.mapDimension(a.dim);var u=e.getCalculationInfo("stackResultDimension");var f=HS(e,l)&&!!e.getCalculationInfo("stackedOnSeries");var h=a.isHorizontal();var v=DM(i,a);var c=CM(t);var p=t.get("barMinHeight")||0;var d=u&&e.getDimensionIndex(u);var g=e.getLayout("size");var y=e.getLayout("offset");return{progress:function(t,e){var i=t.count;var a=c&&pM(i*3);var l=c&&s&&pM(i*3);var u=c&&pM(i);var m=r.master.getRect();var x=h?m.width:m.height;var _;var w=e.getStore();var b=0;while((_=t.next())!=null){var S=w.get(f?d:n,_);var M=w.get(o,_);var I=v;var T=void 0;if(f){T=+S-w.get(n,_)}var C=void 0;var D=void 0;var A=void 0;var k=void 0;if(h){var L=r.dataToPoint([S,M]);if(f){var P=r.dataToPoint([T,M]);I=P[0]}C=I;D=L[1]+y;A=L[0]-I;k=g;if(Math.abs(A)<p){A=(A<0?-1:1)*p}}else{var L=r.dataToPoint([M,S]);if(f){var P=r.dataToPoint([M,T]);I=P[1]}C=L[0]+y;D=I;A=g;k=L[1]-I;if(Math.abs(k)<p){k=(k<=0?-1:1)*p}}if(!c){e.setItemLayout(_,{x:C,y:D,width:A,height:k})}else{a[b]=C;a[b+1]=D;a[b+2]=h?A:k;if(l){l[b]=h?m.x:C;l[b+1]=h?D:m.y;l[b+2]=x}u[_]=_}b+=3}if(c){e.setLayout({largePoints:a,largeDataIndices:u,largeBackgroundPoints:l,valueAxisHorizontal:h})}}}}}}function TM(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function CM(t){return t.pipelineContext&&t.pipelineContext.large}function DM(t,e){var r=e.model.get("startValue");if(!r){r=0}return e.toGlobalCoord(e.dataToCoord(e.type==="log"?r>0?r:1:r))}var AM=function(t,e,r,i){while(r<i){var a=r+i>>>1;if(t[a][1]<e){r=a+1}else{i=a}}return r};var kM=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="time";return r}e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Cp(t.value,_p[Tp(Mp(this._minLevelUnit))]||_p.second,e,this.getSetting("locale"))};e.prototype.getFormattedLabel=function(t,e,r){var i=this.getSetting("useUTC");var a=this.getSetting("locale");return Dp(t,e,r,a,i)};e.prototype.getTicks=function(){var t=this._interval;var e=this._extent;var r=[];if(!t){return r}r.push({value:e[0],level:0});var i=this.getSetting("useUTC");var a=BM(this._minLevelUnit,this._approxInterval,i,e);r=r.concat(a);r.push({value:e[1],level:0});return r};e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]){e[0]-=gp;e[1]+=gp}if(e[1]===-Infinity&&e[0]===Infinity){var r=new Date;e[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate());e[0]=e[1]-gp}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)};e.prototype.calcNiceTicks=function(t,e,r){t=t||10;var i=this._extent;var a=i[1]-i[0];this._approxInterval=a/t;if(e!=null&&this._approxInterval<e){this._approxInterval=e}if(r!=null&&this._approxInterval>r){this._approxInterval=r}var n=LM.length;var o=Math.min(AM(LM,this._approxInterval,0,n),n-1);this._interval=LM[o][1];this._minLevelUnit=LM[Math.max(o-1,0)][0]};e.prototype.parse=function(t){return et(t)?t:+go(t)};e.prototype.contain=function(t){return oM(this.parse(t),this._extent)};e.prototype.normalize=function(t){return sM(this.parse(t),this._extent)};e.prototype.scale=function(t){return lM(t,this._extent)};e.type="time";return e}(hM);var LM=[["second",cp],["minute",pp],["hour",dp],["quarter-day",dp*6],["half-day",dp*12],["day",gp*1.2],["half-week",gp*3.5],["week",gp*7],["month",gp*31],["quarter",gp*95],["half-year",yp/2],["year",yp]];function PM(t,e,r,i){var a=go(e);var n=go(r);var o=function(t){return kp(a,t,i)===kp(n,t,i)};var s=function(){return o("year")};var l=function(){return s()&&o("month")};var u=function(){return l()&&o("day")};var f=function(){return u()&&o("hour")};var h=function(){return f()&&o("minute")};var v=function(){return h()&&o("second")};var c=function(){return v()&&o("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return f();case"minute":return h();case"second":return v();case"millisecond":return c()}}function OM(t,e){t/=gp;return t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function RM(t){var e=30*gp;t/=e;return t>6?6:t>3?3:t>2?2:1}function NM(t){t/=dp;return t>12?12:t>6?6:t>3.5?4:t>2?2:1}function EM(t,e){t/=e?pp:cp;return t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function zM(t){return xo(t,true)}function VM(t,e,r){var i=new Date(t);switch(Mp(e)){case"year":case"month":i[Bp(r)](0);case"day":i[Fp(r)](1);case"hour":i[Gp(r)](0);case"minute":i[Hp(r)](0);case"second":i[Wp(r)](0);i[Up(r)](0)}return i.getTime()}function BM(t,e,r,i){var a=1e4;var n=bp;var o=0;function s(t,e,r,a,n,o,s){var l=new Date(e);var u=e;var f=l[a]();while(u<r&&u<=i[1]){s.push({value:u});f+=t;l[n](f);u=l.getTime()}s.push({value:u,notAdd:true})}function l(t,a,n){var o=[];var l=!a.length;if(PM(Mp(t),i[0],i[1],r)){return}if(l){a=[{value:VM(new Date(i[0]),t,r)},{value:i[1]}]}for(var u=0;u<a.length-1;u++){var f=a[u].value;var h=a[u+1].value;if(f===h){continue}var v=void 0;var c=void 0;var p=void 0;var d=false;switch(t){case"year":v=Math.max(1,Math.round(e/gp/365));c=Lp(r);p=Vp(r);break;case"half-year":case"quarter":case"month":v=RM(e);c=Pp(r);p=Bp(r);break;case"week":case"half-week":case"day":v=OM(e);c=Op(r);p=Fp(r);d=true;break;case"half-day":case"quarter-day":case"hour":v=NM(e);c=Rp(r);p=Gp(r);break;case"minute":v=EM(e,true);c=Np(r);p=Hp(r);break;case"second":v=EM(e,false);c=Ep(r);p=Wp(r);break;case"millisecond":v=zM(e);c=zp(r);p=Up(r);break}s(v,f,h,c,p,d,o);if(t==="year"&&n.length>1&&u===0){n.unshift({value:n[0].value-v})}}for(var u=0;u<o.length;u++){n.push(o[u])}return o}var u=[];var f=[];var h=0;var v=0;for(var c=0;c<n.length&&o++<a;++c){var p=Mp(n[c]);if(!Ip(n[c])){continue}l(n[c],u[u.length-1]||[],f);var d=n[c+1]?Mp(n[c+1]):null;if(p!==d){if(f.length){v=h;f.sort(function(t,e){return t.value-e.value});var g=[];for(var y=0;y<f.length;++y){var m=f[y].value;if(y===0||f[y-1].value!==m){g.push(f[y]);if(m>=i[0]&&m<=i[1]){h++}}}var x=(i[1]-i[0])/e;if(h>x*1.5&&v>x/1.5){break}u.push(g);if(h>x||t===n[c]){break}}f=[]}}if(true){if(o>=a){Po("Exceed safe limit.")}}var _=Y(W(u,function(t){return Y(t,function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd})}),function(t){return t.length>0});var w=[];var b=_.length-1;for(var c=0;c<_.length;++c){var S=_[c];for(var M=0;M<S.length;++M){w.push({value:S[M].value,level:b-c})}}w.sort(function(t,e){return t.value-e.value});var I=[];for(var c=0;c<w.length;++c){if(c===0||w[c].value!==w[c-1].value){I.push(w[c])}}return I}qS.registerClass(kM);var FM=qS.prototype;var GM=hM.prototype;var HM=io;var WM=Math.floor;var UM=Math.ceil;var YM=Math.pow;var XM=Math.log;var ZM=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="log";e.base=10;e._originalScale=new hM;e._interval=0;return e}e.prototype.getTicks=function(t){var e=this._originalScale;var r=this._extent;var i=e.getExtent();var a=GM.getTicks.call(this,t);return W(a,function(t){var e=t.value;var a=io(YM(this.base,e));a=e===r[0]&&this._fixMin?qM(a,i[0]):a;a=e===r[1]&&this._fixMax?qM(a,i[1]):a;return{value:a}},this)};e.prototype.setExtent=function(t,e){var r=XM(this.base);t=XM(Math.max(0,t))/r;e=XM(Math.max(0,e))/r;GM.setExtent.call(this,t,e)};e.prototype.getExtent=function(){var t=this.base;var e=FM.getExtent.call(this);e[0]=YM(t,e[0]);e[1]=YM(t,e[1]);var r=this._originalScale;var i=r.getExtent();this._fixMin&&(e[0]=qM(e[0],i[0]));this._fixMax&&(e[1]=qM(e[1],i[1]));return e};e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=XM(t[0])/XM(e);t[1]=XM(t[1])/XM(e);FM.unionExtent.call(this,t)};e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))};e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent;var r=e[1]-e[0];if(r===Infinity||r<=0){return}var i=yo(r);var a=t/r*i;if(a<=.5){i*=10}while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0){i*=10}var n=[io(UM(e[0]/i)*i),io(WM(e[1]/i)*i)];this._interval=i;this._niceExtent=n};e.prototype.calcNiceExtent=function(t){GM.calcNiceExtent.call(this,t);this._fixMin=t.fixMin;this._fixMax=t.fixMax};e.prototype.parse=function(t){return t};e.prototype.contain=function(t){t=XM(t)/XM(this.base);return oM(t,this._extent)};e.prototype.normalize=function(t){t=XM(t)/XM(this.base);return sM(t,this._extent)};e.prototype.scale=function(t){t=lM(t,this._extent);return YM(this.base,t)};e.type="log";return e}(qS);var jM=ZM.prototype;jM.getMinorTicks=GM.getMinorTicks;jM.getLabel=GM.getLabel;function qM(t,e){return HM(t,no(e))}qS.registerClass(ZM);var KM=function(){function t(t,e,r){this._prepareParams(t,e,r)}t.prototype._prepareParams=function(t,e,r){if(r[1]<r[0]){r=[NaN,NaN]}this._dataMin=r[0];this._dataMax=r[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",true);if(a==null){a=e.get("startValue",true)}var n=this._modelMinRaw=a;if($(n)){this._modelMinNum=tI(t,n({min:r[0],max:r[1]}))}else if(n!=="dataMin"){this._modelMinNum=tI(t,n)}var o=this._modelMaxRaw=e.get("max",true);if($(o)){this._modelMaxNum=tI(t,o({min:r[0],max:r[1]}))}else if(o!=="dataMax"){this._modelMaxNum=tI(t,o)}if(i){this._axisDataLen=e.getCategories().length}else{var s=e.get("boundaryGap");var l=J(s)?s:[s||0,s||0];if(typeof l[0]==="boolean"||typeof l[1]==="boolean"){if(true){console.warn("Boolean type for boundaryGap is only "+"allowed for ordinal axis. Please use string in "+'percentage instead, e.g., "20%". Currently, '+"boundaryGap is set to be 0.")}this._boundaryGapInner=[0,0]}else{this._boundaryGapInner=[wn(l[0],1),wn(l[1],1)]}}};t.prototype.calculate=function(){var t=this._isOrdinal;var e=this._dataMin;var r=this._dataMax;var i=this._axisDataLen;var a=this._boundaryGapInner;var n=!t?r-e||Math.abs(e):null;var o=this._modelMinRaw==="dataMin"?e:this._modelMinNum;var s=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum;var l=o!=null;var u=s!=null;if(o==null){o=t?i?0:NaN:e-a[0]*n}if(s==null){s=t?i?i-1:NaN:r+a[1]*n}(o==null||!isFinite(o))&&(o=NaN);(s==null||!isFinite(s))&&(s=NaN);var f=ut(o)||ut(s)||t&&!i;if(this._needCrossZero){if(o>0&&s>0&&!l){o=0}if(o<0&&s<0&&!u){s=0}}var h=this._determinedMin;var v=this._determinedMax;if(h!=null){o=h;l=true}if(v!=null){s=v;u=true}return{min:o,max:s,minFixed:l,maxFixed:u,isBlank:f}};t.prototype.modifyDataMinMax=function(t,e){if(true){dt(!this.frozen)}this[$M[t]]=e};t.prototype.setDeterminedMinMax=function(t,e){var r=JM[t];if(true){dt(!this.frozen&&this[r]==null)}this[r]=e};t.prototype.freeze=function(){this.frozen=true};return t}();var JM={min:"_determinedMin",max:"_determinedMax"};var $M={min:"_dataMin",max:"_dataMax"};function QM(t,e,r){var i=t.rawExtentInfo;if(i){return i}i=new KM(t,e,r);t.rawExtentInfo=i;return i}function tI(t,e){return e==null?null:ut(e)?NaN:t.parse(e)}function eI(t,e){var r=t.type;var i=QM(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var a=i.min;var n=i.max;var o=e.ecModel;if(o&&r==="time"){var s=xM("bar",o);var l=false;H(s,function(t){l=l||t.getBaseAxis()===e.axis});if(l){var u=wM(s);var f=rI(a,n,e,u);a=f.min;n=f.max}}return{extent:[a,n],fixMin:i.minFixed,fixMax:i.maxFixed}}function rI(t,e,r,i){var a=r.axis.getExtent();var n=Math.abs(a[1]-a[0]);var o=SM(i,r.axis);if(o===undefined){return{min:t,max:e}}var s=Infinity;H(o,function(t){s=Math.min(t.offset,s)});var l=-Infinity;H(o,function(t){l=Math.max(t.offset+t.width,l)});s=Math.abs(s);l=Math.abs(l);var u=s+l;var f=e-t;var h=1-(s+l)/n;var v=f/h-f;e+=v*(l/u);t-=v*(s/u);return{min:t,max:e}}function iI(t,e){var r=e;var i=eI(t,r);var a=i.extent;var n=r.get("splitNumber");if(t instanceof ZM){t.base=r.get("logBase")}var o=t.type;var s=r.get("interval");var l=o==="interval"||o==="time";t.setExtent(a[0],a[1]);t.calcNiceExtent({splitNumber:n,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null});if(s!=null){t.setInterval&&t.setInterval(s)}}function aI(t,e){e=e||t.get("type");if(e){switch(e){case"category":return new uM({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[Infinity,-Infinity]});case"time":return new kM({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(qS.getClass(e)||hM)}}}function nI(t){var e=t.scale.getExtent();var r=e[0];var i=e[1];return!(r>0&&i>0||r<0&&i<0)}function oI(t){var e=t.getLabelModel().get("formatter");var r=t.type==="category"?t.scale.getExtent()[0]:null;if(t.scale.type==="time"){return function(e){return function(r,i){return t.scale.getFormattedLabel(r,i,e)}}(e)}else if(Q(e)){return function(e){return function(r){var i=t.scale.getLabel(r);var a=e.replace("{value}",i!=null?i:"");return a}}(e)}else if($(e)){return function(e){return function(i,a){if(r!=null){a=i.value-r}return e(sI(t,i),a,i.level!=null?{level:i.level}:null)}}(e)}else{return function(e){return t.scale.getLabel(e)}}}function sI(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function lI(t){var e=t.model;var r=t.scale;if(!e.get(["axisLabel","show"])||r.isBlank()){return}var i;var a;var n=r.getExtent();if(r instanceof uM){a=r.count()}else{i=r.getTicks();a=i.length}var o=t.getLabelModel();var s=oI(t);var l;var u=1;if(a>40){u=Math.ceil(a/40)}for(var f=0;f<a;f+=u){var h=i?i[f]:{value:n[0]+f};var v=s(h,f);var c=o.getTextRect(v);var p=uI(c,o.get("rotate")||0);l?l.union(p):l=p}return l}function uI(t,e){var r=e*Math.PI/180;var i=t.width;var a=t.height;var n=i*Math.abs(Math.cos(r))+Math.abs(a*Math.sin(r));var o=i*Math.abs(Math.sin(r))+Math.abs(a*Math.cos(r));var s=new er(t.x,t.y,n,o);return s}function fI(t){var e=t.get("interval");return e==null?"auto":e}function hI(t){return t.type==="category"&&fI(t.getLabelModel())===0}function vI(t,e){var r={};H(t.mapDimensionsAll(e),function(e){r[WS(t,e)]=true});return Z(r)}function cI(t,e,r){if(e){H(vI(e,r),function(r){var i=e.getApproximateExtent(r);i[0]<t[0]&&(t[0]=i[0]);i[1]>t[1]&&(t[1]=i[1])})}}var pI=function(){function t(){}t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale};t.prototype.getCoordSysModel=function(){return};return t}();function dI(t){return XS(null,t)}var gI={isDimensionStacked:HS,enableDataStack:FS,getStackedDimension:WS};function yI(t,e){var r=e;if(!(e instanceof qc)){r=new qc(e)}var i=aI(r);i.setExtent(t[0],t[1]);iI(i,r);return i}function mI(t){F(t,pI)}function xI(t,e){e=e||{};return Cc(t,null,null,e.state!=="normal")}var _I=Object.freeze({__proto__:null,createList:dI,getLayoutRect:cd,dataStack:gI,createScale:yI,mixinAxisModelCommonMethods:mI,getECData:Qu,createTextStyle:xI,createDimensions:LS,createSymbol:c_,enableHoverEmphasis:th});var wI=1e-8;function bI(t,e){return Math.abs(t-e)<wI}function SI(t,e,r){var i=0;var a=t[0];if(!a){return false}for(var n=1;n<t.length;n++){var o=t[n];i+=au(a[0],a[1],o[0],o[1],e,r);a=o}var s=t[0];if(!bI(a[0],s[0])||!bI(a[1],s[1])){i+=au(a[0],a[1],s[0],s[1],e,r)}return i!==0}var MI=[];function II(t,e){for(var r=0;r<t.length;r++){te(t[r],t[r],e)}}function TI(t,e,r,i){for(var a=0;a<t.length;a++){var n=t[a];if(i){n=i.project(n)}if(n&&isFinite(n[0])&&isFinite(n[1])){ee(e,e,n);re(r,r,n)}}}function CI(t){var e=0;var r=0;var i=0;var a=t.length;var n=t[a-1][0];var o=t[a-1][1];for(var s=0;s<a;s++){var l=t[s][0];var u=t[s][1];var f=n*u-l*o;e+=f;r+=(n+l)*f;i+=(o+u)*f;n=l;o=u}return e?[r/e/3,i/e/3,e]:[t[0][0]||0,t[0][1]||0]}var DI=function(){function t(t){this.name=t}t.prototype.setCenter=function(t){this._center=t};t.prototype.getCenter=function(){var t=this._center;if(!t){t=this._center=this.calcCenter()}return t};return t}();var AI=function(){function t(t,e){this.type="polygon";this.exterior=t;this.interiors=e}return t}();var kI=function(){function t(t){this.type="linestring";this.points=t}return t}();var LI=function(t){i(e,t);function e(e,r,i){var a=t.call(this,e)||this;a.type="geoJSON";a.geometries=r;a._center=i&&[i[0],i[1]];return a}e.prototype.calcCenter=function(){var t=this.geometries;var e;var r=0;for(var i=0;i<t.length;i++){var a=t[i];var n=a.exterior;var o=n&&n.length;if(o>r){e=a;r=o}}if(e){return CI(e.exterior)}var s=this.getBoundingRect();return[s.x+s.width/2,s.y+s.height/2]};e.prototype.getBoundingRect=function(t){var e=this._rect;if(e&&!t){return e}var r=[Infinity,Infinity];var i=[-Infinity,-Infinity];var a=this.geometries;H(a,function(e){if(e.type==="polygon"){TI(e.exterior,r,i,t)}else{H(e.points,function(e){TI(e,r,i,t)})}});if(!(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1]))){r[0]=r[1]=i[0]=i[1]=0}e=new er(r[0],r[1],i[0]-r[0],i[1]-r[1]);if(!t){this._rect=e}return e};e.prototype.contain=function(t){var e=this.getBoundingRect();var r=this.geometries;if(!e.contain(t[0],t[1])){return false}t:for(var i=0,a=r.length;i<a;i++){var n=r[i];if(n.type!=="polygon"){continue}var o=n.exterior;var s=n.interiors;if(SI(o,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++){if(SI(s[l],t[0],t[1])){continue t}}return true}}return false};e.prototype.transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=a.width/a.height;if(!r){r=n*i}else if(!i){i=r/n}var o=new er(t,e,r,i);var s=a.calculateTransform(o);var l=this.geometries;for(var u=0;u<l.length;u++){var f=l[u];if(f.type==="polygon"){II(f.exterior,s);H(f.interiors,function(t){II(t,s)})}else{H(f.points,function(t){II(t,s)})}}a=this._rect;a.copy(o);this._center=[a.x+a.width/2,a.y+a.height/2]};e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);r._rect=this._rect;r.transformTo=null;return r};return e}(DI);var PI=function(t){i(e,t);function e(e,r){var i=t.call(this,e)||this;i.type="geoSVG";i._elOnlyForCalculate=r;return i}e.prototype.calcCenter=function(){var t=this._elOnlyForCalculate;var e=t.getBoundingRect();var r=[e.x+e.width/2,e.y+e.height/2];var i=ze(MI);var a=t;while(a&&!a.isGeoSVGGraphicRoot){Be(i,a.getLocalTransform(),i);a=a.parent}We(i,i);te(r,r,i);return r};return e}(DI);function OI(t){if(!t.UTF8Encoding){return t}var e=t;var r=e.UTF8Scale;if(r==null){r=1024}var i=e.features;H(i,function(t){var e=t.geometry;var i=e.encodeOffsets;var a=e.coordinates;if(!i){return}switch(e.type){case"LineString":e.coordinates=NI(a,i,r);break;case"Polygon":RI(a,i,r);break;case"MultiLineString":RI(a,i,r);break;case"MultiPolygon":H(a,function(t,e){return RI(t,i[e],r)})}});e.UTF8Encoding=false;return e}function RI(t,e,r){for(var i=0;i<t.length;i++){t[i]=NI(t[i],e[i],r)}}function NI(t,e,r){var i=[];var a=e[0];var n=e[1];for(var o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64;var l=t.charCodeAt(o+1)-64;s=s>>1^-(s&1);l=l>>1^-(l&1);s+=a;l+=n;a=s;n=l;i.push([s/r,l/r])}return i}function EI(t,e){t=OI(t);return W(Y(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties;var i=t.geometry;var a=[];switch(i.type){case"Polygon":var n=i.coordinates;a.push(new AI(n[0],n.slice(1)));break;case"MultiPolygon":H(i.coordinates,function(t){if(t[0]){a.push(new AI(t[0],t.slice(1)))}});break;case"LineString":a.push(new kI([i.coordinates]));break;case"MultiLineString":a.push(new kI(i.coordinates))}var o=new LI(r[e||"name"],a,r.cp);o.properties=r;return o})}var zI=Object.freeze({__proto__:null,linearMap:eo,round:io,asc:ao,getPrecision:no,getPrecisionSafe:oo,getPixelPrecision:so,getPercentWithPrecision:lo,MAX_SAFE_INTEGER:ho,remRadian:vo,isRadianAroundZero:co,parseDate:go,quantity:yo,quantityExponent:mo,nice:xo,quantile:_o,reformIntervals:wo,isNumeric:So,numericToNumber:bo});var VI=Object.freeze({__proto__:null,parse:go,format:Cp});var BI=Object.freeze({__proto__:null,extendShape:Xv,extendPath:jv,makePath:Jv,makeImage:$v,mergePath:tc,resizePath:ec,createIcon:cc,updateProps:Nv,initProps:Ev,getTransform:nc,clipPointsByRect:hc,clipRectByRect:vc,registerShape:qv,getShapeClass:Kv,Group:En,Image:Cu,Text:Bu,Circle:Vh,Ellipse:Fh,Sector:iv,Ring:nv,Polygon:uv,Polyline:hv,Rect:Nu,Line:pv,BezierCurve:mv,Arc:_v,IncrementalDisplayable:Lv,CompoundPath:wv,LinearGradient:Sv,RadialGradient:Mv,BoundingRect:er});var FI=Object.freeze({__proto__:null,addCommas:Xp,toCamelCase:Zp,normalizeCssArray:jp,encodeHTML:xe,formatTpl:$p,getTooltipMarker:td,formatTime:ed,capitalFirst:rd,truncateText:Zs,getTextRect:Yp});var GI=Object.freeze({__proto__:null,map:W,each:H,indexOf:V,inherits:B,reduce:U,filter:Y,bind:q,curry:K,isArray:J,isString:Q,isObject:rt,isFunction:$,extend:N,defaults:E,clone:P,merge:O});var HI=hs();function WI(t,e){var r=W(e,function(e){return t.scale.parse(e)});if(t.type==="time"&&r.length>0){r.sort();r.unshift(r[0]);r.push(r[r.length-1])}return r}function UI(t){var e=t.getLabelModel().get("customValues");if(e){var r=oI(t);var i=t.scale.getExtent();var a=WI(t,e);var n=Y(a,function(t){return t>=i[0]&&t<=i[1]});return{labels:W(n,function(e){var i={value:e};return{formattedLabel:r(i),rawLabel:t.scale.getLabel(i),tickValue:e}})}}return t.type==="category"?XI(t):qI(t)}function YI(t,e){var r=t.getTickModel().get("customValues");if(r){var i=t.scale.getExtent();var a=WI(t,r);return{ticks:Y(a,function(t){return t>=i[0]&&t<=i[1]})}}return t.type==="category"?jI(t,e):{ticks:W(t.scale.getTicks(),function(t){return t.value})}}function XI(t){var e=t.getLabelModel();var r=ZI(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function ZI(t,e){var r=KI(t,"labels");var i=fI(e);var a=JI(r,i);if(a){return a}var n;var o;if($(i)){n=iT(t,i)}else{o=i==="auto"?QI(t):i;n=rT(t,o)}return $I(r,i,{labels:n,labelCategoryInterval:o})}function jI(t,e){var r=KI(t,"ticks");var i=fI(e);var a=JI(r,i);if(a){return a}var n;var o;if(!e.get("show")||t.scale.isBlank()){n=[]}if($(i)){n=iT(t,i,true)}else if(i==="auto"){var s=ZI(t,t.getLabelModel());o=s.labelCategoryInterval;n=W(s.labels,function(t){return t.tickValue})}else{o=i;n=rT(t,o,true)}return $I(r,i,{ticks:n,tickCategoryInterval:o})}function qI(t){var e=t.scale.getTicks();var r=oI(t);return{labels:W(e,function(e,i){return{level:e.level,formattedLabel:r(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}})}}function KI(t,e){return HI(t)[e]||(HI(t)[e]=[])}function JI(t,e){for(var r=0;r<t.length;r++){if(t[r].key===e){return t[r].value}}}function $I(t,e,r){t.push({key:e,value:r});return r}function QI(t){var e=HI(t).autoInterval;return e!=null?e:HI(t).autoInterval=t.calculateCategoryInterval()}function tT(t){var e=eT(t);var r=oI(t);var i=(e.axisRotate-e.labelRotate)/180*Math.PI;var a=t.scale;var n=a.getExtent();var o=a.count();if(n[1]-n[0]<1){return 0}var s=1;if(o>40){s=Math.max(1,Math.floor(o/40))}var l=n[0];var u=t.dataToCoord(l+1)-t.dataToCoord(l);var f=Math.abs(u*Math.cos(i));var h=Math.abs(u*Math.sin(i));var v=0;var c=0;for(;l<=n[1];l+=s){var p=0;var d=0;var g=yn(r({value:l}),e.font,"center","top");p=g.width*1.3;d=g.height*1.3;v=Math.max(v,p,7);c=Math.max(c,d,7)}var y=v/f;var m=c/h;isNaN(y)&&(y=Infinity);isNaN(m)&&(m=Infinity);var x=Math.max(0,Math.floor(Math.min(y,m)));var _=HI(t.model);var w=t.getExtent();var b=_.lastAutoInterval;var S=_.lastTickCount;if(b!=null&&S!=null&&Math.abs(b-x)<=1&&Math.abs(S-o)<=1&&b>x&&_.axisExtent0===w[0]&&_.axisExtent1===w[1]){x=b}else{_.lastTickCount=o;_.lastAutoInterval=x;_.axisExtent0=w[0];_.axisExtent1=w[1]}return x}function eT(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function rT(t,e,r){var i=oI(t);var a=t.scale;var n=a.getExtent();var o=t.getLabelModel();var s=[];var l=Math.max((e||0)+1,1);var u=n[0];var f=a.count();if(u!==0&&l>1&&f/l>2){u=Math.round(Math.ceil(u/l)*l)}var h=hI(t);var v=o.get("showMinLabel")||h;var c=o.get("showMaxLabel")||h;if(v&&u!==n[0]){d(n[0])}var p=u;for(;p<=n[1];p+=l){d(p)}if(c&&p-l!==n[1]){d(n[1])}function d(t){var e={value:t};s.push(r?t:{formattedLabel:i(e),rawLabel:a.getLabel(e),tickValue:t})}return s}function iT(t,e,r){var i=t.scale;var a=oI(t);var n=[];H(i.getTicks(),function(t){var o=i.getLabel(t);var s=t.value;if(e(t.value,o)){n.push(r?s:{formattedLabel:a(t),rawLabel:o,tickValue:s})}});return n}var aT=[0,1];var nT=function(){function t(t,e,r){this.onBand=false;this.inverse=false;this.dim=t;this.scale=e;this._extent=r||[0,0]}t.prototype.contain=function(t){var e=this._extent;var r=Math.min(e[0],e[1]);var i=Math.max(e[0],e[1]);return t>=r&&t<=i};t.prototype.containData=function(t){return this.scale.contain(t)};t.prototype.getExtent=function(){return this._extent.slice()};t.prototype.getPixelPrecision=function(t){return so(t||this.scale.getExtent(),this._extent)};t.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t;r[1]=e};t.prototype.dataToCoord=function(t,e){var r=this._extent;var i=this.scale;t=i.normalize(t);if(this.onBand&&i.type==="ordinal"){r=r.slice();oT(r,i.count())}return eo(t,aT,r,e)};t.prototype.coordToData=function(t,e){var r=this._extent;var i=this.scale;if(this.onBand&&i.type==="ordinal"){r=r.slice();oT(r,i.count())}var a=eo(t,r,aT,e);return this.scale.scale(a)};t.prototype.pointToData=function(t,e){return};t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel();var r=YI(this,e);var i=r.ticks;var a=W(i,function(t){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this);var n=e.get("alignWithLabel");sT(this,a,n,t.clamp);return a};t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal"){return[]}var t=this.model.getModel("minorTick");var e=t.get("splitNumber");if(!(e>0&&e<100)){e=5}var r=this.scale.getMinorTicks(e);var i=W(r,function(t){return W(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this);return i};t.prototype.getViewLabels=function(){return UI(this).labels};t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")};t.prototype.getTickModel=function(){return this.model.getModel("axisTick")};t.prototype.getBandWidth=function(){var t=this._extent;var e=this.scale.getExtent();var r=e[1]-e[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r};t.prototype.calculateCategoryInterval=function(){return tT(this)};return t}();function oT(t,e){var r=t[1]-t[0];var i=e;var a=r/i/2;t[0]+=a;t[1]-=a}function sT(t,e,r,i){var a=e.length;if(!t.onBand||r||!a){return}var n=t.getExtent();var o;var s;if(a===1){e[0].coord=n[0];o=e[1]={coord:n[1],tickValue:e[0].tickValue}}else{var l=e[a-1].tickValue-e[0].tickValue;var u=(e[a-1].coord-e[0].coord)/l;H(e,function(t){t.coord-=u/2});var f=t.scale.getExtent();s=1+f[1]-e[a-1].tickValue;o={coord:e[a-1].coord+u*s,tickValue:f[1]+1};e.push(o)}var h=n[0]>n[1];if(v(e[0].coord,n[0])){i?e[0].coord=n[0]:e.shift()}if(i&&v(n[0],e[0].coord)){e.unshift({coord:n[0]})}if(v(n[1],o.coord)){i?o.coord=n[1]:e.pop()}if(i&&v(o.coord,n[1])){e.push({coord:n[1]})}function v(t,e){t=io(t);e=io(e);return h?t>e:t<e}}function lT(t){var e=wd.extend(t);wd.registerClass(e);return e}function uT(t){var e=Zm.extend(t);Zm.registerClass(e);return e}function fT(t){var e=Vm.extend(t);Vm.registerClass(e);return e}function hT(t){var e=Jm.extend(t);Jm.registerClass(e);return e}var vT=Math.PI*2;var cT=Kl.CMD;var pT=["top","right","bottom","left"];function dT(t,e,r,i,a){var n=r.width;var o=r.height;switch(t){case"top":i.set(r.x+n/2,r.y-e);a.set(0,-1);break;case"bottom":i.set(r.x+n/2,r.y+o+e);a.set(0,1);break;case"left":i.set(r.x-e,r.y+o/2);a.set(-1,0);break;case"right":i.set(r.x+n+e,r.y+o/2);a.set(1,0);break}}function gT(t,e,r,i,a,n,o,s,l){o-=t;s-=e;var u=Math.sqrt(o*o+s*s);o/=u;s/=u;var f=o*r+t;var h=s*r+e;if(Math.abs(i-a)%vT<1e-4){l[0]=f;l[1]=h;return u-r}if(n){var v=i;i=eu(a);a=eu(v)}else{i=eu(i);a=eu(a)}if(i>a){a+=vT}var c=Math.atan2(s,o);if(c<0){c+=vT}if(c>=i&&c<=a||c+vT>=i&&c+vT<=a){l[0]=f;l[1]=h;return u-r}var p=r*Math.cos(i)+t;var d=r*Math.sin(i)+e;var g=r*Math.cos(a)+t;var y=r*Math.sin(a)+e;var m=(p-o)*(p-o)+(d-s)*(d-s);var x=(g-o)*(g-o)+(y-s)*(y-s);if(m<x){l[0]=p;l[1]=d;return Math.sqrt(m)}else{l[0]=g;l[1]=y;return Math.sqrt(x)}}function yT(t,e,r,i,a,n,o,s){var l=a-t;var u=n-e;var f=r-t;var h=i-e;var v=Math.sqrt(f*f+h*h);f/=v;h/=v;var c=l*f+u*h;var p=c/v;if(s){p=Math.min(Math.max(p,0),1)}p*=v;var d=o[0]=t+p*f;var g=o[1]=e+p*h;return Math.sqrt((d-a)*(d-a)+(g-n)*(g-n))}function mT(t,e,r,i,a,n,o){if(r<0){t=t+r;r=-r}if(i<0){e=e+i;i=-i}var s=t+r;var l=e+i;var u=o[0]=Math.min(Math.max(a,t),s);var f=o[1]=Math.min(Math.max(n,e),l);return Math.sqrt((u-a)*(u-a)+(f-n)*(f-n))}var xT=[];function _T(t,e,r){var i=mT(e.x,e.y,e.width,e.height,t.x,t.y,xT);r.set(xT[0],xT[1]);return i}function wT(t,e,r){var i=0;var a=0;var n=0;var o=0;var s;var l;var u=Infinity;var f=e.data;var h=t.x;var v=t.y;for(var c=0;c<f.length;){var p=f[c++];if(c===1){i=f[c];a=f[c+1];n=i;o=a}var d=u;switch(p){case cT.M:n=f[c++];o=f[c++];i=n;a=o;break;case cT.L:d=yT(i,a,f[c],f[c+1],h,v,xT,true);i=f[c++];a=f[c++];break;case cT.C:d=qr(i,a,f[c++],f[c++],f[c++],f[c++],f[c],f[c+1],h,v,xT);i=f[c++];a=f[c++];break;case cT.Q:d=ri(i,a,f[c++],f[c++],f[c],f[c+1],h,v,xT);i=f[c++];a=f[c++];break;case cT.A:var g=f[c++];var y=f[c++];var m=f[c++];var x=f[c++];var _=f[c++];var w=f[c++];c+=1;var b=!!(1-f[c++]);s=Math.cos(_)*m+g;l=Math.sin(_)*x+y;if(c<=1){n=s;o=l}var S=(h-g)*x/m+g;d=gT(g,y,x,_,_+w,b,S,v,xT);i=Math.cos(_+w)*m+g;a=Math.sin(_+w)*x+y;break;case cT.R:n=i=f[c++];o=a=f[c++];var M=f[c++];var I=f[c++];d=mT(n,o,M,I,h,v,xT);break;case cT.Z:d=yT(i,a,n,o,h,v,xT,true);i=n;a=o;break}if(d<u){u=d;r.set(xT[0],xT[1])}}return u}var bT=new Xe;var ST=new Xe;var MT=new Xe;var IT=new Xe;var TT=new Xe;function CT(t,e){if(!t){return}var r=t.getTextGuideLine();var i=t.getTextContent();if(!(i&&r)){return}var a=t.textGuideLineConfig||{};var n=[[0,0],[0,0],[0,0]];var o=a.candidates||pT;var s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=Infinity;var u=a.anchor;var f=t.getComputedTransform();var h=f&&We([],f);var v=e.get("length2")||0;if(u){MT.copy(u)}for(var c=0;c<o.length;c++){var p=o[c];dT(p,0,s,bT,IT);Xe.scaleAndAdd(ST,bT,IT,v);ST.transform(h);var d=t.getBoundingRect();var g=u?u.distance(ST):t instanceof wu?wT(ST,t.path,MT):_T(ST,d,MT);if(g<l){l=g;ST.transform(f);MT.transform(f);MT.toArray(n[0]);ST.toArray(n[1]);bT.toArray(n[2])}}kT(n,e.get("minTurnAngle"));r.setShape({points:n})}var DT=[];var AT=new Xe;function kT(t,e){if(!(e<=180&&e>0)){return}e=e/180*Math.PI;bT.fromArray(t[0]);ST.fromArray(t[1]);MT.fromArray(t[2]);Xe.sub(IT,bT,ST);Xe.sub(TT,MT,ST);var r=IT.len();var i=TT.len();if(r<.001||i<.001){return}IT.scale(1/r);TT.scale(1/i);var a=IT.dot(TT);var n=Math.cos(e);if(n<a){var o=yT(ST.x,ST.y,MT.x,MT.y,bT.x,bT.y,DT,false);AT.fromArray(DT);AT.scaleAndAdd(TT,o/Math.tan(Math.PI-e));var s=MT.x!==ST.x?(AT.x-ST.x)/(MT.x-ST.x):(AT.y-ST.y)/(MT.y-ST.y);if(isNaN(s)){return}if(s<0){Xe.copy(AT,ST)}else if(s>1){Xe.copy(AT,MT)}AT.toArray(t[1])}}function LT(t,e,r){if(!(r<=180&&r>0)){return}r=r/180*Math.PI;bT.fromArray(t[0]);ST.fromArray(t[1]);MT.fromArray(t[2]);Xe.sub(IT,ST,bT);Xe.sub(TT,MT,ST);var i=IT.len();var a=TT.len();if(i<.001||a<.001){return}IT.scale(1/i);TT.scale(1/a);var n=IT.dot(e);var o=Math.cos(r);if(n<o){var s=yT(ST.x,ST.y,MT.x,MT.y,bT.x,bT.y,DT,false);AT.fromArray(DT);var l=Math.PI/2;var u=Math.acos(TT.dot(e));var f=l+u-r;if(f>=l){Xe.copy(AT,MT)}else{AT.scaleAndAdd(TT,s/Math.tan(Math.PI/2-f));var h=MT.x!==ST.x?(AT.x-ST.x)/(MT.x-ST.x):(AT.y-ST.y)/(MT.y-ST.y);if(isNaN(h)){return}if(h<0){Xe.copy(AT,ST)}else if(h>1){Xe.copy(AT,MT)}}AT.toArray(t[1])}}function PT(t,e,r,i){var a=r==="normal";var n=a?t:t.ensureState(r);n.ignore=e;var o=i.get("smooth");if(o&&o===true){o=.3}n.shape=n.shape||{};if(o>0){n.shape.smooth=o}var s=i.getModel("lineStyle").getLineStyle();a?t.useStyle(s):n.style=s}function OT(t,e){var r=e.smooth;var i=e.points;if(!i){return}t.moveTo(i[0][0],i[0][1]);if(r>0&&i.length>=3){var a=qt(i[0],i[1]);var n=qt(i[1],i[2]);if(!a||!n){t.lineTo(i[1][0],i[1][1]);t.lineTo(i[2][0],i[2][1]);return}var o=Math.min(a,n)*r;var s=Qt([],i[1],i[0],o/a);var l=Qt([],i[1],i[2],o/n);var u=Qt([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]);t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else{for(var f=1;f<i.length;f++){t.lineTo(i[f][0],i[f][1])}}}function RT(t,e,r){var i=t.getTextGuideLine();var a=t.getTextContent();if(!a){if(i){t.removeTextGuideLine()}return}var n=e.normal;var o=n.get("show");var s=a.ignore;for(var l=0;l<ff.length;l++){var u=ff[l];var f=e[u];var h=u==="normal";if(f){var v=f.get("show");var c=h?s:ht(a.states[u]&&a.states[u].ignore,s);if(c||!ht(v,o)){var p=h?i:i&&i.states[u];if(p){p.ignore=true}if(!!i){PT(i,true,u,f)}continue}if(!i){i=new hv;t.setTextGuideLine(i);if(!h&&(s||!o)){PT(i,true,"normal",e.normal)}if(t.stateProxy){i.stateProxy=t.stateProxy}}PT(i,false,u,f)}}if(i){E(i.style,r);i.style.fill=null;var d=n.get("showAbove");var g=t.textGuideLineConfig=t.textGuideLineConfig||{};g.showAbove=d||false;i.buildPath=OT}}function NT(t,e){e=e||"labelLine";var r={normal:t.getModel(e)};for(var i=0;i<uf.length;i++){var a=uf[i];r[a]=t.getModel([a,e])}return r}function ET(t){var e=[];for(var r=0;r<t.length;r++){var i=t[r];if(i.defaultAttr.ignore){continue}var a=i.label;var n=a.getComputedTransform();var o=a.getBoundingRect();var s=!n||n[1]<1e-5&&n[2]<1e-5;var l=a.style.margin||0;var u=o.clone();u.applyTransform(n);u.x-=l/2;u.y-=l/2;u.width+=l;u.height+=l;var f=s?new Av(o,n):null;e.push({label:a,labelLine:i.labelLine,rect:u,localRect:o,obb:f,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:n})}return e}function zT(t,e,r,i,a,n){var o=t.length;if(o<2){return}t.sort(function(t,r){return t.rect[e]-r.rect[e]});var s=0;var l;var u=false;var f=0;for(var h=0;h<o;h++){var v=t[h];var c=v.rect;l=c[e]-s;if(l<0){c[e]-=l;v.label[e]-=l;u=true}var p=Math.max(-l,0);f+=p;s=c[e]+c[r]}if(f>0&&n){w(-f/o,0,o)}var d=t[0];var g=t[o-1];var y;var m;x();y<0&&b(-y,.8);m<0&&b(m,.8);x();_(y,m,1);_(m,y,-1);x();if(y<0){S(-y)}if(m<0){S(m)}function x(){y=d.rect[e]-i;m=a-g.rect[e]-g.rect[r]}function _(t,e,r){if(t<0){var i=Math.min(e,-t);if(i>0){w(i*r,0,o);var a=i+t;if(a<0){b(-a*r,1)}}else{b(-t*r,1)}}}function w(r,i,a){if(r!==0){u=true}for(var n=i;n<a;n++){var o=t[n];var s=o.rect;s[e]+=r;o.label[e]+=r}}function b(i,a){var n=[];var s=0;for(var l=1;l<o;l++){var u=t[l-1].rect;var f=Math.max(t[l].rect[e]-u[e]-u[r],0);n.push(f);s+=f}if(!s){return}var h=Math.min(Math.abs(i)/s,a);if(i>0){for(var l=0;l<o-1;l++){var v=n[l]*h;w(v,0,l+1)}}else{for(var l=o-1;l>0;l--){var v=n[l-1]*h;w(-v,l,o)}}}function S(t){var e=t<0?-1:1;t=Math.abs(t);var r=Math.ceil(t/(o-1));for(var i=0;i<o-1;i++){if(e>0){w(r,0,i+1)}else{w(-r,o-i-1,o)}t-=r;if(t<=0){return}}}return u}function VT(t,e,r,i){return zT(t,"x","width",e,r,i)}function BT(t,e,r,i){return zT(t,"y","height",e,r,i)}function FT(t){var e=[];t.sort(function(t,e){return e.priority-t.priority});var r=new er(0,0,0,0);function i(t){if(!t.ignore){var e=t.ensureState("emphasis");if(e.ignore==null){e.ignore=false}}t.ignore=true}for(var a=0;a<t.length;a++){var n=t[a];var o=n.axisAligned;var s=n.localRect;var l=n.transform;var u=n.label;var f=n.labelLine;r.copy(n.rect);r.width-=.1;r.height-=.1;r.x+=.05;r.y+=.05;var h=n.obb;var v=false;for(var c=0;c<e.length;c++){var p=e[c];if(!r.intersect(p.rect)){continue}if(o&&p.axisAligned){v=true;break}if(!p.obb){p.obb=new Av(p.localRect,p.transform)}if(!h){h=new Av(s,l)}if(h.intersect(p.obb)){v=true;break}}if(v){i(u);f&&i(f)}else{u.attr("ignore",n.defaultAttr.ignore);f&&f.attr("ignore",n.defaultAttr.labelGuideIgnore);e.push(n)}}}function GT(t){if(t){var e=[];for(var r=0;r<t.length;r++){e.push(t[r].slice())}return e}}function HT(t,e){var r=t.label;var i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:GT(i&&i.shape.points)}}var WT=["align","verticalAlign","width","height","fontSize"];var UT=new hn;var YT=hs();var XT=hs();function ZT(t,e,r){for(var i=0;i<r.length;i++){var a=r[i];if(e[a]!=null){t[a]=e[a]}}}var jT=["x","y","rotation"];var qT=function(){function t(){this._labelList=[];this._chartViewList=[]}t.prototype.clearLabels=function(){this._labelList=[];this._chartViewList=[]};t.prototype._addLabel=function(t,e,r,i,a){var n=i.style;var o=i.__hostTarget;var s=o.textConfig||{};var l=i.getComputedTransform();var u=i.getBoundingRect().plain();er.applyTransform(u,u,l);if(l){UT.setLocalTransform(l)}else{UT.x=UT.y=UT.rotation=UT.originX=UT.originY=0;UT.scaleX=UT.scaleY=1}UT.rotation=eu(UT.rotation);var f=i.__hostTarget;var h;if(f){h=f.getBoundingRect().plain();var v=f.getComputedTransform();er.applyTransform(h,h,v)}var c=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:c,seriesModel:r,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:c&&c.ignore,x:UT.x,y:UT.y,scaleX:UT.scaleX,scaleY:UT.scaleY,rotation:UT.rotation,style:{x:n.x,y:n.y,align:n.align,verticalAlign:n.verticalAlign,width:n.width,height:n.height,fontSize:n.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})};t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var r=t.__model;var i=r.get("labelLayout");if(!($(i)||Z(i).length)){return}t.group.traverse(function(t){if(t.ignore){return true}var a=t.getTextContent();var n=Qu(t);if(a&&!a.disableLabelLayout){e._addLabel(n.dataIndex,n.dataType,r,a,i)}})};t.prototype.updateLayoutConfig=function(t){var e=t.getWidth();var r=t.getHeight();function i(t,e){return function(){CT(t,e)}}for(var a=0;a<this._labelList.length;a++){var n=this._labelList[a];var o=n.label;var s=o.__hostTarget;var l=n.defaultAttr;var u=void 0;if($(n.layoutOption)){u=n.layoutOption(HT(n,s))}else{u=n.layoutOption}u=u||{};n.computedLayoutOption=u;var f=Math.PI/180;if(s){s.setTextConfig({local:false,position:u.x!=null||u.y!=null?null:l.attachedPos,rotation:u.rotate!=null?u.rotate*f:l.attachedRot,offset:[u.dx||0,u.dy||0]})}var h=false;if(u.x!=null){o.x=ro(u.x,e);o.setStyle("x",0);h=true}else{o.x=l.x;o.setStyle("x",l.style.x)}if(u.y!=null){o.y=ro(u.y,r);o.setStyle("y",0);h=true}else{o.y=l.y;o.setStyle("y",l.style.y)}if(u.labelLinePoints){var v=s.getTextGuideLine();if(v){v.setShape({points:u.labelLinePoints});h=false}}var c=YT(o);c.needsUpdateLabelLine=h;o.rotation=u.rotate!=null?u.rotate*f:l.rotation;o.scaleX=l.scaleX;o.scaleY=l.scaleY;for(var p=0;p<WT.length;p++){var d=WT[p];o.setStyle(d,u[d]!=null?u[d]:l.style[d])}if(u.draggable){o.draggable=true;o.cursor="move";if(s){var g=n.seriesModel;if(n.dataIndex!=null){var y=n.seriesModel.getData(n.dataType);g=y.getItemModel(n.dataIndex)}o.on("drag",i(s,g.getModel("labelLine")))}}else{o.off("drag");o.cursor=l.cursor}}};t.prototype.layout=function(t){var e=t.getWidth();var r=t.getHeight();var i=ET(this._labelList);var a=Y(i,function(t){return t.layoutOption.moveOverlap==="shiftX"});var n=Y(i,function(t){return t.layoutOption.moveOverlap==="shiftY"});VT(a,0,e);BT(n,0,r);var o=Y(i,function(t){return t.layoutOption.hideOverlap});FT(o)};t.prototype.processLabelsOverall=function(){var t=this;H(this._chartViewList,function(e){var r=e.__model;var i=e.ignoreLabelLineUpdate;var a=r.isAnimationEnabled();e.group.traverse(function(e){if(e.ignore&&!e.forceLabelAnimation){return true}var n=!i;var o=e.getTextContent();if(!n&&o){n=YT(o).needsUpdateLabelLine}if(n){t._updateLabelLine(e,r)}if(a){t._animateLabels(e,r)}})})};t.prototype._updateLabelLine=function(t,e){var r=t.getTextContent();var i=Qu(t);var a=i.dataIndex;if(r&&a!=null){var n=e.getData(i.dataType);var o=n.getItemModel(a);var s={};var l=n.getItemVisual(a,"style");if(l){var u=n.getVisual("drawType");s.stroke=l[u]}var f=o.getModel("labelLine");RT(t,NT(o),s);CT(t,f)}};t.prototype._animateLabels=function(t,e){var r=t.getTextContent();var i=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!zv(t))){var a=YT(r);var n=a.oldLayout;var o=Qu(t);var s=o.dataIndex;var l={x:r.x,y:r.y,rotation:r.rotation};var u=e.getData(o.dataType);if(!n){r.attr(l);if(!Ec(r).valueAnimation){var f=ht(r.style.opacity,1);r.style.opacity=0;Ev(r,{style:{opacity:f}},e,s)}}else{r.attr(n);var h=t.prevStates;if(h){if(V(h,"select")>=0){r.attr(a.oldLayoutSelect)}if(V(h,"emphasis")>=0){r.attr(a.oldLayoutEmphasis)}}Nv(r,l,e,s)}a.oldLayout=l;if(r.states.select){var v=a.oldLayoutSelect={};ZT(v,l,jT);ZT(v,r.states.select,jT)}if(r.states.emphasis){var c=a.oldLayoutEmphasis={};ZT(c,l,jT);ZT(c,r.states.emphasis,jT)}Vc(r,s,u,e,e)}if(i&&!i.ignore&&!i.invisible){var a=XT(i);var n=a.oldLayout;var p={points:i.shape.points};if(!n){i.setShape(p);i.style.strokePercent=0;Ev(i,{style:{strokePercent:1}},e)}else{i.attr({shape:n});Nv(i,{shape:p},e)}a.oldLayout=p}};return t}();var KT=hs();function JT(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){var i=KT(e).labelManager;if(!i){i=KT(e).labelManager=new qT}i.clearLabels()});t.registerUpdateLifecycle("series:layoutlabels",function(t,e,r){var i=KT(e).labelManager;r.updatedSeries.forEach(function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))});i.updateLayoutConfig(e);i.layout(e);i.processLabelsOverall()})}var $T=Math.sin;var QT=Math.cos;var tC=Math.PI;var eC=Math.PI*2;var rC=180/tC;var iC=function(){function t(){}t.prototype.reset=function(t){this._start=true;this._d=[];this._str="";this._p=Math.pow(10,t||4)};t.prototype.moveTo=function(t,e){this._add("M",t,e)};t.prototype.lineTo=function(t,e){this._add("L",t,e)};t.prototype.bezierCurveTo=function(t,e,r,i,a,n){this._add("C",t,e,r,i,a,n)};t.prototype.quadraticCurveTo=function(t,e,r,i){this._add("Q",t,e,r,i)};t.prototype.arc=function(t,e,r,i,a,n){this.ellipse(t,e,r,r,0,i,a,n)};t.prototype.ellipse=function(t,e,r,i,a,n,o,s){var l=o-n;var u=!s;var f=Math.abs(l);var h=Wi(f-eC)||(u?l>=eC:-l>=eC);var v=l>0?l%eC:l%eC+eC;var c=false;if(h){c=true}else if(Wi(f)){c=false}else{c=v>=tC===!!u}var p=t+r*QT(n);var d=e+i*$T(n);if(this._start){this._add("M",p,d)}var g=Math.round(a*rC);if(h){var y=1/this._p;var m=(u?1:-1)*(eC-y);this._add("A",r,i,g,1,+u,t+r*QT(n+m),e+i*$T(n+m));if(y>.01){this._add("A",r,i,g,0,+u,p,d)}}else{var x=t+r*QT(o);var _=e+i*$T(o);this._add("A",r,i,g,+c,+u,x,_)}};t.prototype.rect=function(t,e,r,i){this._add("M",t,e);this._add("l",r,0);this._add("l",0,i);this._add("l",-r,0);this._add("Z")};t.prototype.closePath=function(){if(this._d.length>0){this._add("Z")}};t.prototype._add=function(t,e,r,i,a,n,o,s,l){var u=[];var f=this._p;for(var h=1;h<arguments.length;h++){var v=arguments[h];if(isNaN(v)){this._invalid=true;return}u.push(Math.round(v*f)/f)}this._d.push(t+u.join(" "));this._start=t==="Z"};t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join("");this._d=[]};t.prototype.getStr=function(){return this._str};return t}();var aC="none";var nC=Math.round;function oC(t){var e=t.fill;return e!=null&&e!==aC}function sC(t){var e=t.stroke;return e!=null&&e!==aC}var lC=["lineCap","miterLimit","lineJoin"];var uC=W(lC,function(t){return"stroke-"+t.toLowerCase()});function fC(t,e,r,i){var a=e.opacity==null?1:e.opacity;if(r instanceof Cu){t("opacity",a);return}if(oC(e)){var n=Gi(e.fill);t("fill",n.color);var o=e.fillOpacity!=null?e.fillOpacity*n.opacity*a:n.opacity*a;if(i||o<1){t("fill-opacity",o)}}else{t("fill",aC)}if(sC(e)){var s=Gi(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?r.getLineScale():1;var u=l?(e.lineWidth||0)/l:0;var f=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*a:s.opacity*a;var h=e.strokeFirst;if(i||u!==1){t("stroke-width",u)}if(i||h){t("paint-order",h?"stroke":"fill")}if(i||f<1){t("stroke-opacity",f)}if(e.lineDash){var v=M_(r),c=v[0],p=v[1];if(c){p=nC(p||0);t("stroke-dasharray",c.join(","));if(p||i){t("stroke-dashoffset",p)}}}else if(i){t("stroke-dasharray",aC)}for(var d=0;d<lC.length;d++){var g=lC[d];if(i||e[g]!==mu[g]){var y=e[g]||mu[g];y&&t(uC[d],y)}}}else if(i){t("stroke",aC)}}var hC="http://www.w3.org/2000/svg";var vC="http://www.w3.org/1999/xlink";var cC="http://www.w3.org/2000/xmlns/";var pC="http://www.w3.org/XML/1998/namespace";var dC="ecmeta_";function gC(t){return document.createElementNS(hC,t)}function yC(t,e,r,i,a){return{tag:t,attrs:r||{},children:i,text:a,key:e}}function mC(t,e){var r=[];if(e){for(var i in e){var a=e[i];var n=i;if(a===false){continue}else if(a!==true&&a!=null){n+='="'+a+'"'}r.push(n)}}return"<"+t+" "+r.join(" ")+">"}function xC(t){return"</"+t+">"}function _C(t,e){e=e||{};var r=e.newline?"\n":"";function i(t){var e=t.children,a=t.tag,n=t.attrs,o=t.text;return mC(a,n)+(a!=="style"?xe(o):o||"")+(e?""+r+W(e,function(t){return i(t)}).join(r)+r:"")+xC(a)}return i(t)}function wC(t,e,r){r=r||{};var i=r.newline?"\n":"";var a=" {"+i;var n=i+"}";var o=W(Z(t),function(e){return e+a+W(Z(t[e]),function(r){return r+":"+t[e][r]+";"}).join(i)+n}).join(i);var s=W(Z(e),function(t){return"@keyframes "+t+a+W(Z(e[t]),function(r){return r+a+W(Z(e[t][r]),function(i){var a=e[t][r][i];if(i==="d"){a='path("'+a+'")'}return i+":"+a+";"}).join(i)+n}).join(i)+n}).join(i);if(!o&&!s){return""}return["<![CDATA[",o,s,"]]>"].join(i)}function bC(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function SC(t,e,r,i){return yC("svg","root",{width:t,height:e,xmlns:hC,"xmlns:xlink":vC,version:"1.1",baseProfile:"full",viewBox:i?"0 0 "+t+" "+e:false},r)}var MC=0;function IC(){return MC++}var TC={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"};var CC="transform-origin";function DC(t,e,r){var i=N({},t.shape);N(i,e);t.buildPath(r,i);var a=new iC;a.reset(aa(t));r.rebuildPath(a,1);a.generateStr();return a.getStr()}function AC(t,e){var r=e.originX,i=e.originY;if(r||i){t[CC]=r+"px "+i+"px"}}var kC={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function LC(t,e){var r=e.zrId+"-ani-"+e.cssAnimIdx++;e.cssAnims[r]=t;return r}function PC(t,e,r){var i=t.shape.paths;var a={};var n;var o;H(i,function(t){var e=bC(r.zrId);e.animation=true;RC(t,{},e,true);var i=e.cssAnims;var s=e.cssNodes;var l=Z(i);var u=l.length;if(!u){return}o=l[u-1];var f=i[o];for(var h in f){var v=f[h];a[h]=a[h]||{d:""};a[h].d+=v.d||""}for(var c in s){var p=s[c].animation;if(p.indexOf(o)>=0){n=p}}});if(!n){return}e.d=false;var s=LC(a,r);return n.replace(o,s)}function OC(t){return Q(t)?TC[t]?"cubic-bezier("+TC[t]+")":ni(t)?t:"":""}function RC(t,e,r,i){var a=t.animators;var n=a.length;var o=[];if(t instanceof wv){var s=PC(t,e,r);if(s){o.push(s)}else if(!n){return}}else if(!n){return}var l={};for(var u=0;u<n;u++){var f=a[u];var h=[f.getMaxTime()/1e3+"s"];var v=OC(f.getClip().easing);var c=f.getDelay();if(v){h.push(v)}else{h.push("linear")}if(c){h.push(c/1e3+"s")}if(f.getLoop()){h.push("infinite")}var p=h.join(" ");l[p]=l[p]||[p,[]];l[p][1].push(f)}function d(a){var n=a[1];var o=n.length;var s={};var l={};var u={};var f="animation-timing-function";function h(t,e,r){var i=t.getTracks();var a=t.getMaxTime();for(var n=0;n<i.length;n++){var o=i[n];if(o.needsAnimate()){var s=o.keyframes;var l=o.propName;r&&(l=r(l));if(l){for(var u=0;u<s.length;u++){var h=s[u];var v=Math.round(h.time/a*100)+"%";var c=OC(h.easing);var p=h.rawValue;if(Q(p)||et(p)){e[v]=e[v]||{};e[v][l]=h.rawValue;if(c){e[v][f]=c}}}}}}}for(var v=0;v<o;v++){var c=n[v];var p=c.targetName;if(!p){!i&&h(c,s)}else if(p==="shape"){h(c,l)}}for(var d in s){var g={};cn(g,t);N(g,s[d]);var y=na(g);var m=s[d][f];u[d]=y?{transform:y}:{};AC(u[d],g);if(m){u[d][f]=m}}var x;var _=true;for(var d in l){u[d]=u[d]||{};var w=!x;var m=l[d][f];if(w){x=new Kl}var b=x.len();x.reset();u[d].d=DC(t,l[d],x);var S=x.len();if(!w&&b!==S){_=false;break}if(m){u[d][f]=m}}if(!_){for(var d in u){delete u[d].d}}if(!i){for(var v=0;v<o;v++){var c=n[v];var p=c.targetName;if(p==="style"){h(c,u,function(t){return kC[t]})}}}var M=Z(u);var I=true;var T;for(var v=1;v<M.length;v++){var C=M[v-1];var D=M[v];if(u[C][CC]!==u[D][CC]){I=false;break}T=u[C][CC]}if(I&&T){for(var d in u){if(u[d][CC]){delete u[d][CC]}}e[CC]=T}if(Y(M,function(t){return Z(u[t]).length>0}).length){var A=LC(u,r);return A+" "+a[0]+" both"}}for(var g in l){var s=d(l[g]);if(s){o.push(s)}}if(o.length){var y=r.zrId+"-cls-"+IC();r.cssNodes["."+y]={animation:o.join(",")};e["class"]=y}}function NC(t,e,r){if(!t.ignore){if(t.isSilent()){var i={"pointer-events":"none"};EC(i,e,r,true)}else{var a=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{};var n=a.fill;if(!n){var o=t.style&&t.style.fill;var s=t.states.select&&t.states.select.style&&t.states.select.style.fill;var l=t.currentStates.indexOf("select")>=0?s||o:o;if(l){n=Vi(l)}}var u=a.lineWidth;if(u){var f=!a.strokeNoScale&&t.transform?t.transform[0]:1;u=u/f}var i={cursor:"pointer"};if(n){i.fill=n}if(a.stroke){i.stroke=a.stroke}if(u){i["stroke-width"]=u}EC(i,e,r,true)}}}function EC(t,e,r,i){var a=JSON.stringify(t);var n=r.cssStyleCache[a];if(!n){n=r.zrId+"-cls-"+IC();r.cssStyleCache[a]=n;r.cssNodes["."+n+(i?":hover":"")]=t}e["class"]=e["class"]?e["class"]+" "+n:n}var zC=Math.round;function VC(t){return t&&Q(t.src)}function BC(t){return t&&$(t.toDataURL)}function FC(t,e,r,i){fC(function(a,n){var o=a==="fill"||a==="stroke";if(o&&ra(n)){eD(e,t,a,i)}else if(o&&Qi(n)){rD(r,t,a,i)}else{t[a]=n}if(o&&i.ssr&&n==="none"){t["pointer-events"]="visible"}},e,r,false);tD(r,t,i)}function GC(t,e){var r=jn(e);if(r){r.each(function(e,r){e!=null&&(t[(dC+r).toLowerCase()]=e+"")});if(e.isSilent()){t[dC+"silent"]="true"}}}function HC(t){return Wi(t[0]-1)&&Wi(t[1])&&Wi(t[2])&&Wi(t[3]-1)}function WC(t){return Wi(t[4])&&Wi(t[5])}function UC(t,e,r){if(e&&!(WC(e)&&HC(e))){var i=r?10:1e4;t.transform=HC(e)?"translate("+zC(e[4]*i)/i+" "+zC(e[5]*i)/i+")":Xi(e)}}function YC(t,e,r){var i=t.points;var a=[];for(var n=0;n<i.length;n++){a.push(zC(i[n][0]*r)/r);a.push(zC(i[n][1]*r)/r)}e.points=a.join(" ")}function XC(t){return!t.smooth}function ZC(t){var e=W(t,function(t){return typeof t==="string"?[t,t]:t});return function(t,r,i){for(var a=0;a<e.length;a++){var n=e[a];var o=t[n[0]];if(o!=null){r[n[1]]=zC(o*i)/i}}}}var jC={circle:[ZC(["cx","cy","r"])],polyline:[YC,XC],polygon:[YC,XC]};function qC(t){var e=t.animators;for(var r=0;r<e.length;r++){if(e[r].targetName==="shape"){return true}}return false}function KC(t,e){var r=t.style;var i=t.shape;var a=jC[t.type];var n={};var o=e.animation;var s="path";var l=t.style.strokePercent;var u=e.compress&&aa(t)||4;if(a&&!e.willUpdate&&!(a[1]&&!a[1](i))&&!(o&&qC(t))&&!(l<1)){s=t.type;var f=Math.pow(10,u);a[0](i,n,f)}else{var h=!t.path||t.shapeChanged();if(!t.path){t.createPathProxy()}var v=t.path;if(h){v.beginPath();t.buildPath(v,t.shape);t.pathUpdated()}var c=v.getVersion();var p=t;var d=p.__svgPathBuilder;if(p.__svgPathVersion!==c||!d||l!==p.__svgPathStrokePercent){if(!d){d=p.__svgPathBuilder=new iC}d.reset(u);v.rebuildPath(d,l);d.generateStr();p.__svgPathVersion=c;p.__svgPathStrokePercent=l}n.d=d.getStr()}UC(n,t.transform);FC(n,r,t,e);GC(n,t);e.animation&&RC(t,n,e);e.emphasis&&NC(t,n,e);return yC(s,t.id+"",n)}function JC(t,e){var r=t.style;var i=r.image;if(i&&!Q(i)){if(VC(i)){i=i.src}else if(BC(i)){i=i.toDataURL()}}if(!i){return}var a=r.x||0;var n=r.y||0;var o=r.width;var s=r.height;var l={href:i,width:o,height:s};if(a){l.x=a}if(n){l.y=n}UC(l,t.transform);FC(l,r,t,e);GC(l,t);e.animation&&RC(t,l,e);return yC("image",t.id+"",l)}function $C(t,e){var r=t.style;var i=r.text;i!=null&&(i+="");if(!i||isNaN(r.x)||isNaN(r.y)){return}var a=r.font||f;var n=r.x||0;var o=ji(r.y||0,_n(a),r.textBaseline);var s=Zi[r.textAlign]||r.textAlign;var l={"dominant-baseline":"central","text-anchor":s};if(Yu(r)){var h="";var v=r.fontStyle;var c=Wu(r.fontSize);if(!parseFloat(c)){return}var p=r.fontFamily||u;var d=r.fontWeight;h+="font-size:"+c+";font-family:"+p+";";if(v&&v!=="normal"){h+="font-style:"+v+";"}if(d&&d!=="normal"){h+="font-weight:"+d+";"}l.style=h}else{l.style="font: "+a}if(i.match(/\s/)){l["xml:space"]="preserve"}if(n){l.x=n}if(o){l.y=o}UC(l,t.transform);FC(l,r,t,e);GC(l,t);e.animation&&RC(t,l,e);return yC("text",t.id+"",l,undefined,i)}function QC(t,e){if(t instanceof wu){return KC(t,e)}else if(t instanceof Cu){return JC(t,e)}else if(t instanceof Su){return $C(t,e)}}function tD(t,e,r){var i=t.style;if(qi(i)){var a=Ki(t);var n=r.shadowCache;var o=n[a];if(!o){var s=t.getGlobalScale();var l=s[0];var u=s[1];if(!l||!u){return}var f=i.shadowOffsetX||0;var h=i.shadowOffsetY||0;var v=i.shadowBlur;var c=Gi(i.shadowColor),p=c.opacity,d=c.color;var g=v/2/l;var y=v/2/u;var m=g+" "+y;o=r.zrId+"-s"+r.shadowIdx++;r.defs[o]=yC("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[yC("feDropShadow","",{dx:f/l,dy:h/u,stdDeviation:m,"flood-color":d,"flood-opacity":p})]);n[a]=o}e.filter=ia(o)}}function eD(t,e,r,i){var a=t[r];var n;var o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(ta(a)){n="linearGradient";o.x1=a.x;o.y1=a.y;o.x2=a.x2;o.y2=a.y2}else if(ea(a)){n="radialGradient";o.cx=ht(a.x,.5);o.cy=ht(a.y,.5);o.r=ht(a.r,.5)}else{if(true){L("Illegal gradient type.")}return}var s=a.colorStops;var l=[];for(var u=0,f=s.length;u<f;++u){var h=Yi(s[u].offset)*100+"%";var v=s[u].color;var c=Gi(v),p=c.color,d=c.opacity;var g={offset:h};g["stop-color"]=p;if(d<1){g["stop-opacity"]=d}l.push(yC("stop",u+"",g))}var y=yC(n,"",o,l);var m=_C(y);var x=i.gradientCache;var _=x[m];if(!_){_=i.zrId+"-g"+i.gradientIdx++;x[m]=_;o.id=_;i.defs[_]=yC(n,_,o,l)}e[r]=ia(_)}function rD(t,e,r,i){var a=t.style[r];var n=t.getBoundingRect();var o={};var s=a.repeat;var l=s==="no-repeat";var u=s==="repeat-x";var f=s==="repeat-y";var h;if(Ji(a)){var v=a.imageWidth;var c=a.imageHeight;var p=void 0;var d=a.image;if(Q(d)){p=d}else if(VC(d)){p=d.src}else if(BC(d)){p=d.toDataURL()}if(typeof Image==="undefined"){var g="Image width/height must been given explictly in svg-ssr renderer.";dt(v,g);dt(c,g)}else if(v==null||c==null){var y=function(t,e){if(t){var r=t.elm;var i=v||e.width;var a=c||e.height;if(t.tag==="pattern"){if(u){a=1;i/=n.width}else if(f){i=1;a/=n.height}}t.attrs.width=i;t.attrs.height=a;if(r){r.setAttribute("width",i);r.setAttribute("height",a)}}};var m=Ws(p,null,t,function(t){l||y(b,t);y(h,t)});if(m&&m.width&&m.height){v=v||m.width;c=c||m.height}}h=yC("image","img",{href:p,width:v,height:c});o.width=v;o.height=c}else if(a.svgElement){h=P(a.svgElement);o.width=a.svgWidth;o.height=a.svgHeight}if(!h){return}var x;var _;if(l){x=_=1}else if(u){_=1;x=o.width/n.width}else if(f){x=1;_=o.height/n.height}else{o.patternUnits="userSpaceOnUse"}if(x!=null&&!isNaN(x)){o.width=x}if(_!=null&&!isNaN(_)){o.height=_}var w=na(a);w&&(o.patternTransform=w);var b=yC("pattern","",o,[h]);var S=_C(b);var M=i.patternCache;var I=M[S];if(!I){I=i.zrId+"-p"+i.patternIdx++;M[S]=I;o.id=I;b=i.defs[I]=yC("pattern",I,o,[h])}e[r]=ia(I)}function iD(t,e,r){var i=r.clipPathCache,a=r.defs;var n=i[t.id];if(!n){n=r.zrId+"-c"+r.clipPathIdx++;var o={id:n};i[t.id]=n;a[n]=yC("clipPath",n,o,[KC(t,r)])}e["clip-path"]=ia(n)}function aD(t){return document.createTextNode(t)}function nD(t,e,r){t.insertBefore(e,r)}function oD(t,e){t.removeChild(e)}function sD(t,e){t.appendChild(e)}function lD(t){return t.parentNode}function uD(t){return t.nextSibling}function fD(t,e){t.textContent=e}var hD=58;var vD=120;var cD=yC("","");function pD(t){return t===undefined}function dD(t){return t!==undefined}function gD(t,e,r){var i={};for(var a=e;a<=r;++a){var n=t[a].key;if(n!==undefined){if(true){if(i[n]!=null){console.error("Duplicate key "+n)}}i[n]=a}}return i}function yD(t,e){var r=t.key===e.key;var i=t.tag===e.tag;return i&&r}function mD(t){var e;var r=t.children;var i=t.tag;if(dD(i)){var a=t.elm=gC(i);wD(cD,t);if(J(r)){for(e=0;e<r.length;++e){var n=r[e];if(n!=null){sD(a,mD(n))}}}else if(dD(t.text)&&!rt(t.text)){sD(a,aD(t.text))}}else{t.elm=aD(t.text)}return t.elm}function xD(t,e,r,i,a){for(;i<=a;++i){var n=r[i];if(n!=null){nD(t,mD(n),e)}}}function _D(t,e,r,i){for(;r<=i;++r){var a=e[r];if(a!=null){if(dD(a.tag)){var n=lD(a.elm);oD(n,a.elm)}else{oD(t,a.elm)}}}}function wD(t,e){var r;var i=e.elm;var a=t&&t.attrs||{};var n=e.attrs||{};if(a===n){return}for(r in n){var o=n[r];var s=a[r];if(s!==o){if(o===true){i.setAttribute(r,"")}else if(o===false){i.removeAttribute(r)}else{if(r==="style"){i.style.cssText=o}else if(r.charCodeAt(0)!==vD){i.setAttribute(r,o)}else if(r==="xmlns:xlink"||r==="xmlns"){i.setAttributeNS(cC,r,o)}else if(r.charCodeAt(3)===hD){i.setAttributeNS(pC,r,o)}else if(r.charCodeAt(5)===hD){i.setAttributeNS(vC,r,o)}else{i.setAttribute(r,o)}}}}for(r in a){if(!(r in n)){i.removeAttribute(r)}}}function bD(t,e,r){var i=0;var a=0;var n=e.length-1;var o=e[0];var s=e[n];var l=r.length-1;var u=r[0];var f=r[l];var h;var v;var c;var p;while(i<=n&&a<=l){if(o==null){o=e[++i]}else if(s==null){s=e[--n]}else if(u==null){u=r[++a]}else if(f==null){f=r[--l]}else if(yD(o,u)){SD(o,u);o=e[++i];u=r[++a]}else if(yD(s,f)){SD(s,f);s=e[--n];f=r[--l]}else if(yD(o,f)){SD(o,f);nD(t,o.elm,uD(s.elm));o=e[++i];f=r[--l]}else if(yD(s,u)){SD(s,u);nD(t,s.elm,o.elm);s=e[--n];u=r[++a]}else{if(pD(h)){h=gD(e,i,n)}v=h[u.key];if(pD(v)){nD(t,mD(u),o.elm)}else{c=e[v];if(c.tag!==u.tag){nD(t,mD(u),o.elm)}else{SD(c,u);e[v]=undefined;nD(t,c.elm,o.elm)}}u=r[++a]}}if(i<=n||a<=l){if(i>n){p=r[l+1]==null?null:r[l+1].elm;xD(t,p,r,a,l)}else{_D(t,e,i,n)}}}function SD(t,e){var r=e.elm=t.elm;var i=t.children;var a=e.children;if(t===e){return}wD(t,e);if(pD(e.text)){if(dD(i)&&dD(a)){if(i!==a){bD(r,i,a)}}else if(dD(a)){if(dD(t.text)){fD(r,"")}xD(r,null,a,0,a.length-1)}else if(dD(i)){_D(r,i,0,i.length-1)}else if(dD(t.text)){fD(r,"")}}else if(t.text!==e.text){if(dD(i)){_D(r,i,0,i.length-1)}fD(r,e.text)}}function MD(t,e){if(yD(t,e)){SD(t,e)}else{var r=t.elm;var i=lD(r);mD(e);if(i!==null){nD(i,e.elm,uD(r));_D(i,[t],0,0)}}return e}var ID=0;var TD=function(){function t(t,e,r){this.type="svg";this.refreshHover=CD("refreshHover");this.configLayer=CD("configLayer");this.storage=e;this._opts=r=N({},r);this.root=t;this._id="zr"+ID++;this._oldVNode=SC(r.width,r.height);if(t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=gC("svg");wD(null,this._oldVNode);i.appendChild(a);t.appendChild(i)}this.resize(r.width,r.height)}t.prototype.getType=function(){return this.type};t.prototype.getViewportRoot=function(){return this._viewport};t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t){return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}}};t.prototype.getSvgDom=function(){return this._svgDom};t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:true});t.attrs.style="position:absolute;left:0;top:0;user-select:none";MD(this._oldVNode,t);this._oldVNode=t}};t.prototype.renderOneToVNode=function(t){return QC(t,bC(this._id))};t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(true);var r=this._width;var i=this._height;var a=bC(this._id);a.animation=t.animation;a.willUpdate=t.willUpdate;a.compress=t.compress;a.emphasis=t.emphasis;a.ssr=this._opts.ssr;var n=[];var o=this._bgVNode=DD(r,i,this._backgroundColor,a);o&&n.push(o);var s=!t.compress?this._mainVNode=yC("g","main",{},[]):null;this._paintList(e,a,s?s.children:n);s&&n.push(s);var l=W(Z(a.defs),function(t){return a.defs[t]});if(l.length){n.push(yC("defs","defs",{},l))}if(t.animation){var u=wC(a.cssNodes,a.cssAnims,{newline:true});if(u){var f=yC("style","stl",{},[],u);n.push(f)}}return SC(r,i,n,t.useViewBox)};t.prototype.renderToString=function(t){t=t||{};return _C(this.renderToVNode({animation:ht(t.cssAnimation,true),emphasis:ht(t.cssEmphasis,true),willUpdate:false,compress:true,useViewBox:ht(t.useViewBox,true)}),{newline:true})};t.prototype.setBackgroundColor=function(t){this._backgroundColor=t};t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm};t.prototype._paintList=function(t,e,r){var i=t.length;var a=[];var n=0;var o;var s;var l=0;for(var u=0;u<i;u++){var f=t[u];if(!f.invisible){var h=f.__clipPaths;var v=h&&h.length||0;var c=s&&s.length||0;var p=void 0;for(p=Math.max(v-1,c-1);p>=0;p--){if(h&&s&&h[p]===s[p]){break}}for(var d=c-1;d>p;d--){n--;o=a[n-1]}for(var g=p+1;g<v;g++){var y={};iD(h[g],y,e);var m=yC("g","clip-g-"+l++,y,[]);(o?o.children:r).push(m);a[n++]=m;o=m}s=h;var x=QC(f,e);if(x){(o?o.children:r).push(x)}}}};t.prototype.resize=function(t,e){var r=this._opts;var i=this.root;var a=this._viewport;t!=null&&(r.width=t);e!=null&&(r.height=e);if(i&&a){a.style.display="none";t=b_(i,0,r);e=b_(i,1,r);a.style.display=""}if(this._width!==t||this._height!==e){this._width=t;this._height=e;if(a){var n=a.style;n.width=t+"px";n.height=e+"px"}if(!Qi(this._backgroundColor)){var o=this._svgDom;if(o){o.setAttribute("width",t);o.setAttribute("height",e)}var s=this._bgVNode&&this._bgVNode.elm;if(s){s.setAttribute("width",t);s.setAttribute("height",e)}}else{this.refresh()}}};t.prototype.getWidth=function(){return this._width};t.prototype.getHeight=function(){return this._height};t.prototype.dispose=function(){if(this.root){this.root.innerHTML=""}this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null};t.prototype.clear=function(){if(this._svgDom){this._svgDom.innerHTML=null}this._oldVNode=null};t.prototype.toDataURL=function(t){var e=this.renderToString();var r="data:image/svg+xml;";if(t){e=oa(e);return e&&r+"base64,"+e}return r+"charset=UTF-8,"+encodeURIComponent(e)};return t}();function CD(t){return function(){if(true){L('In SVG mode painter not support method "'+t+'"')}}}function DD(t,e,r,i){var a;if(r&&r!=="none"){a=yC("rect","bg",{width:t,height:e,x:"0",y:"0"});if(ra(r)){eD({fill:r},a.attrs,"fill",i)}else if(Qi(r)){rD({style:{fill:r},dirty:At,getBoundingRect:function(){return{width:t,height:e}}},a.attrs,"fill",i)}else{var n=Gi(r),o=n.color,s=n.opacity;a.attrs.fill=o;s<1&&(a.attrs["fill-opacity"]=s)}}return a}function AD(t){t.registerPainter("svg",TD)}function kD(t,e,r){var i=g.createCanvas();var a=e.getWidth();var n=e.getHeight();var o=i.style;if(o){o.position="absolute";o.left="0";o.top="0";o.width=a+"px";o.height=n+"px";i.setAttribute("data-zr-dom-id",t)}i.width=a*r;i.height=n*r;return i}var LD=function(t){i(e,t);function e(e,r,i){var a=t.call(this)||this;a.motionBlur=false;a.lastFrameAlpha=.7;a.dpr=1;a.virtual=false;a.config={};a.incremental=false;a.zlevel=0;a.maxRepaintRectCount=5;a.__dirty=true;a.__firstTimePaint=true;a.__used=false;a.__drawIndex=0;a.__startIndex=0;a.__endIndex=0;a.__prevStartIndex=null;a.__prevEndIndex=null;var n;i=i||$a;if(typeof e==="string"){n=kD(e,r,i)}else if(rt(e)){n=e;e=n.id}a.id=e;a.dom=n;var o=n.style;if(o){Ct(n);n.onselectstart=function(){return false};o.padding="0";o.margin="0";o.borderWidth="0"}a.painter=r;a.dpr=i;return a}e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex};e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex;this.__prevEndIndex=this.__endIndex};e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr};e.prototype.setUnpainted=function(){this.__firstTimePaint=true};e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=kD("back-"+this.id,this.painter,t);this.ctxBack=this.domBack.getContext("2d");if(t!==1){this.ctxBack.scale(t,t)}};e.prototype.createRepaintRects=function(t,e,r,i){if(this.__firstTimePaint){this.__firstTimePaint=false;return null}var a=[];var n=this.maxRepaintRectCount;var o=false;var s=new er(0,0,0,0);function l(t){if(!t.isFinite()||t.isZero()){return}if(a.length===0){var e=new er(0,0,0,0);e.copy(t);a.push(e)}else{var r=false;var i=Infinity;var l=0;for(var u=0;u<a.length;++u){var f=a[u];if(f.intersect(t)){var h=new er(0,0,0,0);h.copy(f);h.union(t);a[u]=h;r=true;break}else if(o){s.copy(t);s.union(f);var v=t.width*t.height;var c=f.width*f.height;var p=s.width*s.height;var d=p-v-c;if(d<i){i=d;l=u}}}if(o){a[l].union(t);r=true}if(!r){var e=new er(0,0,0,0);e.copy(t);a.push(e)}if(!o){o=a.length>=n}}}for(var u=this.__startIndex;u<this.__endIndex;++u){var f=t[u];if(f){var h=f.shouldBePainted(r,i,true,true);var v=f.__isRendered&&(f.__dirty&Sr||!h)?f.getPrevPaintRect():null;if(v){l(v)}var c=h&&(f.__dirty&Sr||!f.__isRendered)?f.getPaintRect():null;if(c){l(c)}}}for(var u=this.__prevStartIndex;u<this.__prevEndIndex;++u){var f=e[u];var h=f&&f.shouldBePainted(r,i,true,true);if(f&&(!h||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();if(v){l(v)}}}var p;do{p=false;for(var u=0;u<a.length;){if(a[u].isZero()){a.splice(u,1);continue}for(var d=u+1;d<a.length;){if(a[u].intersect(a[d])){p=true;a[u].union(a[d]);a.splice(d,1)}else{d++}}u++}}while(p);this._paintRects=a;return a};e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()};e.prototype.resize=function(t,e){var r=this.dpr;var i=this.dom;var a=i.style;var n=this.domBack;if(a){a.width=t+"px";a.height=e+"px"}i.width=t*r;i.height=e*r;if(n){n.width=t*r;n.height=e*r;if(r!==1){this.ctxBack.scale(r,r)}}};e.prototype.clear=function(t,e,r){var i=this.dom;var a=this.ctx;var n=i.width;var o=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t;var l=this.lastFrameAlpha;var u=this.dpr;var f=this;if(s){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(i,0,0,n/u,o/u)}var h=this.domBack;function v(t,r,i,n){a.clearRect(t,r,i,n);if(e&&e!=="transparent"){var o=void 0;if(ot(e)){var v=e.global||e.__width===i&&e.__height===n;o=v&&e.__canvasGradient||x_(a,e,{x:0,y:0,width:i,height:n});e.__canvasGradient=o;e.__width=i;e.__height=n}else if(st(e)){e.scaleX=e.scaleX||u;e.scaleY=e.scaleY||u;o=L_(a,e,{dirty:function(){f.setUnpainted();f.painter.refresh()}})}a.save();a.fillStyle=o||e;a.fillRect(t,r,i,n);a.restore()}if(s){a.save();a.globalAlpha=l;a.drawImage(h,t,r,i,n);a.restore()}}if(!r||s){v(0,0,n,o)}else if(r.length){H(r,function(t){v(t.x*u,t.y*u,t.width*u,t.height*u)})}};return e}(oe);var PD=1e5;var OD=314159;var RD=.01;var ND=.001;function ED(t){if(!t){return false}if(t.__builtin__){return true}if(typeof t.resize!=="function"||typeof t.refresh!=="function"){return false}return true}function zD(t,e){var r=document.createElement("div");r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";";return r}var VD=function(){function t(t,e,r,i){this.type="canvas";this._zlevelList=[];this._prevDisplayList=[];this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=N({},r||{});this.dpr=r.devicePixelRatio||$a;this._singleCanvas=a;this.root=t;var n=t.style;if(n){Ct(t);t.innerHTML=""}this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(!a){this._width=b_(t,0,r);this._height=b_(t,1,r);var l=this._domRoot=zD(this._width,this._height);t.appendChild(l)}else{var u=t;var f=u.width;var h=u.height;if(r.width!=null){f=r.width}if(r.height!=null){h=r.height}this.dpr=r.devicePixelRatio||1;u.width=f*this.dpr;u.height=h*this.dpr;this._width=f;this._height=h;var v=new LD(u,this,this.dpr);v.__builtin__=true;v.initContext();s[OD]=v;v.zlevel=OD;o.push(OD);this._domRoot=t}}t.prototype.getType=function(){return"canvas"};t.prototype.isSingleCanvas=function(){return this._singleCanvas};t.prototype.getViewportRoot=function(){return this._domRoot};t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t){return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}}};t.prototype.refresh=function(t){var e=this.storage.getDisplayList(true);var r=this._prevDisplayList;var i=this._zlevelList;this._redrawId=Math.random();this._paintList(e,r,t,this._redrawId);for(var a=0;a<i.length;a++){var n=i[a];var o=this._layers[n];if(!o.__builtin__&&o.refresh){var s=a===0?this._backgroundColor:null;o.refresh(s)}}if(this._opts.useDirtyRect){this._prevDisplayList=e.slice()}return this};t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(false))};t.prototype._paintHoverList=function(t){var e=t.length;var r=this._hoverlayer;r&&r.clear();if(!e){return}var i={inHover:true,viewWidth:this._width,viewHeight:this._height};var a;for(var n=0;n<e;n++){var o=t[n];if(o.__inHover){if(!r){r=this._hoverlayer=this.getLayer(PD)}if(!a){a=r.ctx;a.save()}J_(a,o,i,n===e-1)}}if(a){a.restore()}};t.prototype.getHoverLayer=function(){return this.getLayer(PD)};t.prototype.paintOne=function(t,e){K_(t,e)};t.prototype._paintList=function(t,e,r,i){if(this._redrawId!==i){return}r=r||false;this._updateLayerStatus(t);var a=this._doPaintList(t,e,r),n=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing){this._compositeManually()}if(o){this._paintHoverList(t)}if(!n){var s=this;Lr(function(){s._paintList(t,e,r,i)})}else{this.eachLayer(function(t){t.afterBrush&&t.afterBrush()})}};t.prototype._compositeManually=function(){var t=this.getLayer(OD).ctx;var e=this._domRoot.width;var r=this._domRoot.height;t.clearRect(0,0,e,r);this.eachBuiltinLayer(function(i){if(i.virtual){t.drawImage(i.dom,0,0,e,r)}})};t.prototype._doPaintList=function(t,e,r){var i=this;var a=[];var n=this._opts.useDirtyRect;for(var s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s];var u=this._layers[l];if(u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)){a.push(u)}}var f=true;var h=false;var v=function(o){var s=a[o];var l=s.ctx;var u=n&&s.createRepaintRects(t,e,c._width,c._height);var v=r?s.__startIndex:s.__drawIndex;var p=!r&&s.incremental&&Date.now;var d=p&&Date.now();var g=s.zlevel===c._zlevelList[0]?c._backgroundColor:null;if(s.__startIndex===s.__endIndex){s.clear(false,g,u)}else if(v===s.__startIndex){var y=t[v];if(!y.incremental||!y.notClear||r){s.clear(false,g,u)}}if(v===-1){console.error("For some unknown reason. drawIndex is -1");v=s.__startIndex}var m;var x=function(e){var r={inHover:false,allClipped:false,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(m=v;m<s.__endIndex;m++){var a=t[m];if(a.__inHover){h=true}i._doPaintEl(a,s,n,e,r,m===s.__endIndex-1);if(p){var o=Date.now()-d;if(o>15){break}}}if(r.prevElClipPaths){l.restore()}};if(u){if(u.length===0){m=s.__endIndex}else{var _=c.dpr;for(var w=0;w<u.length;++w){var b=u[w];l.save();l.beginPath();l.rect(b.x*_,b.y*_,b.width*_,b.height*_);l.clip();x(b);l.restore()}}}else{l.save();x();l.restore()}s.__drawIndex=m;if(s.__drawIndex<s.__endIndex){f=false}};var c=this;for(var p=0;p<a.length;p++){v(p)}if(o.wxa){H(this._layers,function(t){if(t&&t.ctx&&t.ctx.draw){t.ctx.draw()}})}return{finished:f,needsRefreshHover:h}};t.prototype._doPaintEl=function(t,e,r,i,a,n){var o=e.ctx;if(r){var s=t.getPaintRect();if(!i||s&&s.intersect(i)){J_(o,t,a,n);t.setPrevPaintRect(s)}}else{J_(o,t,a,n)}};t.prototype.getLayer=function(t,e){if(this._singleCanvas&&!this._needsManuallyCompositing){t=OD}var r=this._layers[t];if(!r){r=new LD("zr_"+t,this,this.dpr);r.zlevel=t;r.__builtin__=true;if(this._layerConfig[t]){O(r,this._layerConfig[t],true)}else if(this._layerConfig[t-RD]){O(r,this._layerConfig[t-RD],true)}if(e){r.virtual=e}this.insertLayer(t,r);r.initContext()}return r};t.prototype.insertLayer=function(t,e){var r=this._layers;var i=this._zlevelList;var a=i.length;var n=this._domRoot;var o=null;var s=-1;if(r[t]){if(true){L("ZLevel "+t+" has been used already")}return}if(!ED(e)){if(true){L("Layer of zlevel "+t+" is not valid")}return}if(a>0&&t>i[0]){for(s=0;s<a-1;s++){if(i[s]<t&&i[s+1]>t){break}}o=r[i[s]]}i.splice(s+1,0,t);r[t]=e;if(!e.virtual){if(o){var l=o.dom;if(l.nextSibling){n.insertBefore(e.dom,l.nextSibling)}else{n.appendChild(e.dom)}}else{if(n.firstChild){n.insertBefore(e.dom,n.firstChild)}else{n.appendChild(e.dom)}}}e.painter||(e.painter=this)};t.prototype.eachLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];t.call(e,this._layers[a],a)}};t.prototype.eachBuiltinLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];var n=this._layers[a];if(n.__builtin__){t.call(e,n,a)}}};t.prototype.eachOtherLayer=function(t,e){var r=this._zlevelList;for(var i=0;i<r.length;i++){var a=r[i];var n=this._layers[a];if(!n.__builtin__){t.call(e,n,a)}}};t.prototype.getLayers=function(){return this._layers};t.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=false});function e(t){if(a){if(a.__endIndex!==t){a.__dirty=true}a.__endIndex=t}}if(this._singleCanvas){for(var r=1;r<t.length;r++){var i=t[r];if(i.zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=true;break}}}var a=null;var n=0;var o;var s;for(s=0;s<t.length;s++){var i=t[s];var l=i.zlevel;var u=void 0;if(o!==l){o=l;n=0}if(i.incremental){u=this.getLayer(l+ND,this._needsManuallyCompositing);u.incremental=true;n=1}else{u=this.getLayer(l+(n>0?RD:0),this._needsManuallyCompositing)}if(!u.__builtin__){L("ZLevel "+l+" has been used by unkown layer "+u.id)}if(u!==a){u.__used=true;if(u.__startIndex!==s){u.__dirty=true}u.__startIndex=s;if(!u.incremental){u.__drawIndex=s}else{u.__drawIndex=-1}e(s);a=u}if(i.__dirty&Sr&&!i.__inHover){u.__dirty=true;if(u.incremental&&u.__drawIndex<0){u.__drawIndex=s}}}e(s);this.eachBuiltinLayer(function(t,e){if(!t.__used&&t.getElementCount()>0){t.__dirty=true;t.__startIndex=t.__endIndex=t.__drawIndex=0}if(t.__dirty&&t.__drawIndex<0){t.__drawIndex=t.__startIndex}})};t.prototype.clear=function(){this.eachBuiltinLayer(this._clearLayer);return this};t.prototype._clearLayer=function(t){t.clear()};t.prototype.setBackgroundColor=function(t){this._backgroundColor=t;H(this._layers,function(t){t.setUnpainted()})};t.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;if(!r[t]){r[t]=e}else{O(r[t],e,true)}for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+RD){var n=this._layers[a];O(n,r[t],true)}}}};t.prototype.delLayer=function(t){var e=this._layers;var r=this._zlevelList;var i=e[t];if(!i){return}i.dom.parentNode.removeChild(i.dom);delete e[t];r.splice(V(r,t),1)};t.prototype.resize=function(t,e){if(!this._domRoot.style){if(t==null||e==null){return}this._width=t;this._height=e;this.getLayer(OD).resize(t,e)}else{var r=this._domRoot;r.style.display="none";var i=this._opts;var a=this.root;t!=null&&(i.width=t);e!=null&&(i.height=e);t=b_(a,0,i);e=b_(a,1,i);r.style.display="";if(this._width!==t||e!==this._height){r.style.width=t+"px";r.style.height=e+"px";for(var n in this._layers){if(this._layers.hasOwnProperty(n)){this._layers[n].resize(t,e)}}this.refresh(true)}this._width=t;this._height=e}return this};t.prototype.clearLayer=function(t){var e=this._layers[t];if(e){e.clear()}};t.prototype.dispose=function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};t.prototype.getRenderedCanvas=function(t){t=t||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[OD].dom}var e=new LD("image",this,t.pixelRatio||this.dpr);e.initContext();e.clear(false,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width;var a=e.dom.height;this.eachLayer(function(t){if(t.__builtin__){r.drawImage(t.dom,0,0,i,a)}else if(t.renderToCanvas){r.save();t.renderToCanvas(r);r.restore()}})}else{var n={inHover:false,viewWidth:this._width,viewHeight:this._height};var o=this.storage.getDisplayList(true);for(var s=0,l=o.length;s<l;s++){var u=o[s];J_(r,u,n,s===l-1)}}return e.dom};t.prototype.getWidth=function(){return this._width};t.prototype.getHeight=function(){return this._height};return t}();function BD(t){t.registerPainter("canvas",VD)}var FD=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t){if(true){var e=t.coordinateSystem;if(e!=="polar"&&e!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return XS(null,this,{useEncodeDefaulter:true})};e.prototype.getLegendIcon=function(t){var e=new En;var r=c_("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,false);e.add(r);r.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol");var a=this.getData().getVisual("symbolRotate");var n=i==="none"?"circle":i;var o=t.itemHeight*.8;var s=c_(n,(t.itemWidth-o)/2,(t.itemHeight-o)/2,o,o,t.itemStyle.fill);e.add(s);s.setStyle(t.itemStyle);var l=t.iconRotate==="inherit"?a:t.iconRotate||0;s.rotation=l*Math.PI/180;s.setOrigin([t.itemWidth/2,t.itemHeight/2]);if(n.indexOf("empty")>-1){s.style.stroke=s.style.fill;s.style.fill="#fff";s.style.lineWidth=2}return e};e.type="series.line";e.dependencies=["grid","polar"];e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:true,clip:true,label:{position:"top"},endLabel:{show:false,valueAnimation:true,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:true},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity,universalTransition:{divideShape:"clone"},triggerLineEvent:false};return e}(Vm);function GD(t,e){var r=t.mapDimensionsAll("defaultedLabel");var i=r.length;if(i===1){var a=My(t,e,r[0]);return a!=null?a+"":null}else if(i){var n=[];for(var o=0;o<r.length;o++){n.push(My(t,e,r[o]))}return n.join(" ")}}function HD(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!J(e)){return e+""}var i=[];for(var a=0;a<r.length;a++){var n=t.getDimensionIndex(r[a]);if(n>=0){i.push(e[n])}}return i.join(" ")}var WD=function(t){i(e,t);function e(e,r,i,a){var n=t.call(this)||this;n.updateData(e,r,i,a);return n}e.prototype._createSymbol=function(t,e,r,i,a){this.removeAll();var n=c_(t,-1,-1,2,2,null,a);n.attr({z2:100,culling:true,scaleX:i[0]/2,scaleY:i[1]/2});n.drift=UD;this._symbolType=t;this.add(n)};e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)};e.prototype.getSymbolType=function(){return this._symbolType};e.prototype.getSymbolPath=function(){return this.childAt(0)};e.prototype.highlight=function(){zf(this.childAt(0))};e.prototype.downplay=function(){Vf(this.childAt(0))};e.prototype.setZ=function(t,e){var r=this.childAt(0);r.zlevel=t;r.z=e};e.prototype.setDraggable=function(t,e){var r=this.childAt(0);r.draggable=t;r.cursor=!e&&t?"move":r.cursor};e.prototype.updateData=function(t,r,i,a){this.silent=false;var n=t.getItemVisual(r,"symbol")||"circle";var o=t.hostModel;var s=e.getSymbolSize(t,r);var l=n!==this._symbolType;var u=a&&a.disableAnimation;if(l){var f=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(n,t,r,s,f)}else{var h=this.childAt(0);h.silent=false;var v={scaleX:s[0]/2,scaleY:s[1]/2};u?h.attr(v):Nv(h,v,o,r);Gv(h)}this._updateCommon(t,r,s,i,a);if(l){var h=this.childAt(0);if(!u){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0;h.style.opacity=0;Ev(h,v,o,r)}}if(u){this.childAt(0).stopAnimation("leave")}};e.prototype._updateCommon=function(t,e,r,i,a){var n=this.childAt(0);var o=t.hostModel;var s;var l;var u;var f;var h;var v;var c;var p;var d;if(i){s=i.emphasisItemStyle;l=i.blurItemStyle;u=i.selectItemStyle;f=i.focus;h=i.blurScope;c=i.labelStatesModels;p=i.hoverScale;d=i.cursorStyle;v=i.emphasisDisabled}if(!i||t.hasItemOption){var g=i&&i.itemModel?i.itemModel:t.getItemModel(e);var y=g.getModel("emphasis");s=y.getModel("itemStyle").getItemStyle();u=g.getModel(["select","itemStyle"]).getItemStyle();l=g.getModel(["blur","itemStyle"]).getItemStyle();f=y.get("focus");h=y.get("blurScope");v=y.get("disabled");c=Tc(g);p=y.getShallow("scale");d=g.getShallow("cursor")}var m=t.getItemVisual(e,"symbolRotate");n.attr("rotation",(m||0)*Math.PI/180||0);var x=d_(t.getItemVisual(e,"symbolOffset"),r);if(x){n.x=x[0];n.y=x[1]}d&&n.attr("cursor",d);var _=t.getItemVisual(e,"style");var w=_.fill;if(n instanceof Cu){var b=n.style;n.useStyle(N({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},_))}else{if(n.__isEmptyBrush){n.useStyle(N({},_))}else{n.useStyle(_)}n.style.decal=null;n.setColor(w,a&&a.symbolInnerColor);n.style.strokeNoScale=true}var S=t.getItemVisual(e,"liftZ");var M=this._z2;if(S!=null){if(M==null){this._z2=n.z2;n.z2+=S}}else if(M!=null){n.z2=M;this._z2=null}var I=a&&a.useNameLabel;Ic(n,c,{labelFetcher:o,labelDataIndex:e,defaultText:T,inheritColor:w,defaultOpacity:_.opacity});function T(e){return I?t.getName(e):GD(t,e)}this._sizeX=r[0]/2;this._sizeY=r[1]/2;var C=n.ensureState("emphasis");C.style=s;n.ensureState("select").style=u;n.ensureState("blur").style=l;var D=p==null||p===true?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;C.scaleX=this._sizeX*D;C.scaleY=this._sizeY*D;this.setSymbolScale(1);rh(this,f,h,v)};e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t};e.prototype.fadeOut=function(t,e,r){var i=this.childAt(0);var a=Qu(this).dataIndex;var n=r&&r.animation;this.silent=i.silent=true;if(r&&r.fadeLabel){var o=i.getTextContent();if(o){Vv(o,{style:{opacity:0}},e,{dataIndex:a,removeOpt:n,cb:function(){i.removeTextContent()}})}}else{i.removeTextContent()}Vv(i,{style:{opacity:0},scaleX:0,scaleY:0},e,{dataIndex:a,cb:t,removeOpt:n})};e.getSymbolSize=function(t,e){return p_(t.getItemVisual(e,"symbolSize"))};return e}(En);function UD(t,e){this.parent.drift(t,e)}function YD(t,e,r,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(r))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function XD(t){if(t!=null&&!rt(t)){t={isIgnore:t}}return t||{}}function ZD(t){var e=t.hostModel;var r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Tc(e),cursorStyle:e.get("cursor")}}var jD=function(){function t(t){this.group=new En;this._SymbolCtor=t||WD}t.prototype.updateData=function(t,e){this._progressiveEls=null;e=XD(e);var r=this.group;var i=t.hostModel;var a=this._data;var n=this._SymbolCtor;var o=e.disableAnimation;var s=ZD(t);var l={disableAnimation:o};var u=e.getSymbolPoint||function(e){return t.getItemLayout(e)};if(!a){r.removeAll()}t.diff(a).add(function(i){var a=u(i);if(YD(t,a,i,e)){var o=new n(t,i,s,l);o.setPosition(a);t.setItemGraphicEl(i,o);r.add(o)}}).update(function(f,h){var v=a.getItemGraphicEl(h);var c=u(f);if(!YD(t,c,f,e)){r.remove(v);return}var p=t.getItemVisual(f,"symbol")||"circle";var d=v&&v.getSymbolType&&v.getSymbolType();if(!v||d&&d!==p){r.remove(v);v=new n(t,f,s,l);v.setPosition(c)}else{v.updateData(t,f,s,l);var g={x:c[0],y:c[1]};o?v.attr(g):Nv(v,g,i)}r.add(v);t.setItemGraphicEl(f,v)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut(function(){r.remove(e)},i)}).execute();this._getSymbolPoint=u;this._data=t};t.prototype.updateLayout=function(){var t=this;var e=this._data;if(e){e.eachItemGraphicEl(function(e,r){var i=t._getSymbolPoint(r);e.setPosition(i);e.markRedraw()})}};t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=ZD(t);this._data=null;this.group.removeAll()};t.prototype.incrementalUpdate=function(t,e,r){this._progressiveEls=[];r=XD(r);function i(t){if(!t.isGroup){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var a=t.start;a<t.end;a++){var n=e.getItemLayout(a);if(YD(e,n,a,r)){var o=new this._SymbolCtor(e,a,this._seriesScope);o.traverse(i);o.setPosition(n);this.group.add(o);e.setItemGraphicEl(a,o);this._progressiveEls.push(o)}}};t.prototype.eachRendered=function(t){_c(this._progressiveEls||this.group,t)};t.prototype.remove=function(t){var e=this.group;var r=this._data;if(r&&t){r.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)},r.hostModel)})}else{e.removeAll()}};return t}();function qD(t,e,r){var i=t.getBaseAxis();var a=t.getOtherAxis(i);var n=KD(a,r);var o=i.dim;var s=a.dim;var l=e.mapDimension(s);var u=e.mapDimension(o);var f=s==="x"||s==="radius"?1:0;var h=W(t.dimensions,function(t){return e.mapDimension(t)});var v=false;var c=e.getCalculationInfo("stackResultDimension");if(HS(e,h[0])){v=true;h[0]=c}if(HS(e,h[1])){v=true;h[1]=c}return{dataDimsForPoint:h,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!v,valueDim:l,baseDim:u,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function KD(t,e){var r=0;var i=t.scale.getExtent();if(e==="start"){r=i[0]}else if(e==="end"){r=i[1]}else if(et(e)&&!isNaN(e)){r=e}else{if(i[0]>0){r=i[0]}else if(i[1]<0){r=i[1]}}return r}function JD(t,e,r,i){var a=NaN;if(t.stacked){a=r.get(r.getCalculationInfo("stackedOverDimension"),i)}if(isNaN(a)){a=t.valueStart}var n=t.baseDataOffset;var o=[];o[n]=r.get(t.baseDim,i);o[1-n]=a;return e.dataToPoint(o)}function $D(t,e){var r=[];e.diff(t).add(function(t){r.push({cmd:"+",idx:t})}).update(function(t,e){r.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){r.push({cmd:"-",idx:t})}).execute();return r}function QD(t,e,r,i,a,n,o,s){var l=$D(t,e);var u=[];var f=[];var h=[];var v=[];var c=[];var p=[];var d=[];var g=qD(a,e,o);var y=t.getLayout("points")||[];var m=e.getLayout("points")||[];for(var x=0;x<l.length;x++){var _=l[x];var w=true;var b=void 0;var S=void 0;switch(_.cmd){case"=":b=_.idx*2;S=_.idx1*2;var M=y[b];var I=y[b+1];var T=m[S];var C=m[S+1];if(isNaN(M)||isNaN(I)){M=T;I=C}u.push(M,I);f.push(T,C);h.push(r[b],r[b+1]);v.push(i[S],i[S+1]);d.push(e.getRawIndex(_.idx1));break;case"+":var D=_.idx;var A=g.dataDimsForPoint;var k=a.dataToPoint([e.get(A[0],D),e.get(A[1],D)]);S=D*2;u.push(k[0],k[1]);f.push(m[S],m[S+1]);var L=JD(g,a,e,D);h.push(L[0],L[1]);v.push(i[S],i[S+1]);d.push(e.getRawIndex(D));break;case"-":w=false}if(w){c.push(_);p.push(p.length)}}p.sort(function(t,e){return d[t]-d[e]});var P=u.length;var O=pM(P);var R=pM(P);var N=pM(P);var E=pM(P);var z=[];for(var x=0;x<p.length;x++){var V=p[x];var B=x*2;var F=V*2;O[B]=u[F];O[B+1]=u[F+1];R[B]=f[F];R[B+1]=f[F+1];N[B]=h[F];N[B+1]=h[F+1];E[B]=v[F];E[B+1]=v[F+1];z[x]=c[V]}return{current:O,next:R,stackedOnCurrent:N,stackedOnNext:E,status:z}}var tA=Math.min;var eA=Math.max;function rA(t,e){return isNaN(t)||isNaN(e)}function iA(t,e,r,i,a,n,o,s,l){var u;var f;var h;var v;var c;var p;var d=r;var g=0;for(;g<i;g++){var y=e[d*2];var m=e[d*2+1];if(d>=a||d<0){break}if(rA(y,m)){if(l){d+=n;continue}break}if(d===r){t[n>0?"moveTo":"lineTo"](y,m);h=y;v=m}else{var x=y-u;var _=m-f;if(x*x+_*_<.5){d+=n;continue}if(o>0){var w=d+n;var b=e[w*2];var S=e[w*2+1];while(b===y&&S===m&&g<i){g++;w+=n;d+=n;b=e[w*2];S=e[w*2+1];y=e[d*2];m=e[d*2+1];x=y-u;_=m-f}var M=g+1;if(l){while(rA(b,S)&&M<i){M++;w+=n;b=e[w*2];S=e[w*2+1]}}var I=.5;var T=0;var C=0;var D=void 0;var A=void 0;if(M>=i||rA(b,S)){c=y;p=m}else{T=b-u;C=S-f;var k=y-u;var L=b-y;var P=m-f;var O=S-m;var R=void 0;var N=void 0;if(s==="x"){R=Math.abs(k);N=Math.abs(L);var E=T>0?1:-1;c=y-E*R*o;p=m;D=y+E*N*o;A=m}else if(s==="y"){R=Math.abs(P);N=Math.abs(O);var z=C>0?1:-1;c=y;p=m-z*R*o;D=y;A=m+z*N*o}else{R=Math.sqrt(k*k+P*P);N=Math.sqrt(L*L+O*O);I=N/(N+R);c=y-T*o*(1-I);p=m-C*o*(1-I);D=y+T*o*I;A=m+C*o*I;D=tA(D,eA(b,y));A=tA(A,eA(S,m));D=eA(D,tA(b,y));A=eA(A,tA(S,m));T=D-y;C=A-m;c=y-T*R/N;p=m-C*R/N;c=tA(c,eA(u,y));p=tA(p,eA(f,m));c=eA(c,tA(u,y));p=eA(p,tA(f,m));T=y-c;C=m-p;D=y+T*N/R;A=m+C*N/R}}t.bezierCurveTo(h,v,c,p,y,m);h=D;v=A}else{t.lineTo(y,m)}}u=y;f=m;d+=n}return g}var aA=function(){function t(){this.smooth=0;this.smoothConstraint=true}return t}();var nA=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-polyline";return r}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new aA};e.prototype.buildPath=function(t,e){var r=e.points;var i=0;var a=r.length/2;if(e.connectNulls){for(;a>0;a--){if(!rA(r[a*2-2],r[a*2-1])){break}}for(;i<a;i++){if(!rA(r[i*2],r[i*2+1])){break}}}while(i<a){i+=iA(t,r,i,a,a,1,e.smooth,e.smoothMonotone,e.connectNulls)+1}};e.prototype.getPointOn=function(t,e){if(!this.path){this.createPathProxy();this.buildPath(this.path,this.shape)}var r=this.path;var i=r.data;var a=Kl.CMD;var n;var o;var s=e==="x";var l=[];for(var u=0;u<i.length;){var f=i[u++];var h=void 0;var v=void 0;var c=void 0;var p=void 0;var d=void 0;var g=void 0;var y=void 0;switch(f){case a.M:n=i[u++];o=i[u++];break;case a.L:h=i[u++];v=i[u++];y=s?(t-n)/(h-n):(t-o)/(v-o);if(y<=1&&y>=0){var m=s?(v-o)*y+o:(h-n)*y+n;return s?[t,m]:[m,t]}n=h;o=v;break;case a.C:h=i[u++];v=i[u++];c=i[u++];p=i[u++];d=i[u++];g=i[u++];var x=s?Xr(n,h,c,d,t,l):Xr(o,v,p,g,t,l);if(x>0){for(var _=0;_<x;_++){var w=l[_];if(w<=1&&w>=0){var m=s?Ur(o,v,p,g,w):Ur(n,h,c,d,w);return s?[t,m]:[m,t]}}}n=d;o=g;break}}};return e}(wu);var oA=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(aA);var sA=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-polygon";return r}e.prototype.getDefaultShape=function(){return new oA};e.prototype.buildPath=function(t,e){var r=e.points;var i=e.stackedOnPoints;var a=0;var n=r.length/2;var o=e.smoothMonotone;if(e.connectNulls){for(;n>0;n--){if(!rA(r[n*2-2],r[n*2-1])){break}}for(;a<n;a++){if(!rA(r[a*2],r[a*2+1])){break}}}while(a<n){var s=iA(t,r,a,n,n,1,e.smooth,o,e.connectNulls);iA(t,i,a+s-1,s,n,-1,e.stackedOnSmooth,o,e.connectNulls);a+=s+1;t.closePath()}};return e}(wu);function lA(t,e,r,i,a){var n=t.getArea();var o=n.x;var s=n.y;var l=n.width;var u=n.height;var f=r.get(["lineStyle","width"])||0;o-=f/2;s-=f/2;l+=f;u+=f;l=Math.ceil(l);if(o!==Math.floor(o)){o=Math.floor(o);l++}var h=new Nu({shape:{x:o,y:s,width:l,height:u}});if(e){var v=t.getBaseAxis();var c=v.isHorizontal();var p=v.inverse;if(c){if(p){h.shape.x+=l}h.shape.width=0}else{if(!p){h.shape.y+=u}h.shape.height=0}var d=$(a)?function(t){a(t,h)}:null;Ev(h,{shape:{width:l,height:u,x:o,y:s}},r,null,i,d)}return h}function uA(t,e,r){var i=t.getArea();var a=io(i.r0,1);var n=io(i.r,1);var o=new iv({shape:{cx:io(t.cx,1),cy:io(t.cy,1),r0:a,r:n,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";if(s){o.shape.endAngle=i.startAngle}else{o.shape.r=a}Ev(o,{shape:{endAngle:i.endAngle,r:n}},r)}return o}function fA(t,e,r,i,a){if(!t){return null}else if(t.type==="polar"){return uA(t,e,r)}else if(t.type==="cartesian2d"){return lA(t,e,r,i,a)}return null}function hA(t,e){return t.type===e}function vA(t,e){if(t.length!==e.length){return}for(var r=0;r<t.length;r++){if(t[r]!==e[r]){return}}return true}function cA(t){var e=Infinity;var r=Infinity;var i=-Infinity;var a=-Infinity;for(var n=0;n<t.length;){var o=t[n++];var s=t[n++];if(!isNaN(o)){e=Math.min(o,e);i=Math.max(o,i)}if(!isNaN(s)){r=Math.min(s,r);a=Math.max(s,a)}}return[[e,r],[i,a]]}function pA(t,e){var r=cA(t),i=r[0],a=r[1];var n=cA(e),o=n[0],s=n[1];return Math.max(Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function dA(t){return et(t)?t:t?.5:0}function gA(t,e,r){if(!r.valueDim){return[]}var i=e.count();var a=pM(i*2);for(var n=0;n<i;n++){var o=JD(r,t,e,n);a[n*2]=o[0];a[n*2+1]=o[1]}return a}function yA(t,e,r,i,a){var n=r.getBaseAxis();var o=n.dim==="x"||n.dim==="radius"?0:1;var s=[];var l=0;var u=[];var f=[];var h=[];var v=[];if(a){for(l=0;l<t.length;l+=2){var c=e||t;if(!isNaN(c[l])&&!isNaN(c[l+1])){v.push(t[l],t[l+1])}}t=v}for(l=0;l<t.length-2;l+=2){h[0]=t[l+2];h[1]=t[l+3];f[0]=t[l];f[1]=t[l+1];s.push(f[0],f[1]);switch(i){case"end":u[o]=h[o];u[1-o]=f[1-o];s.push(u[0],u[1]);break;case"middle":var p=(f[o]+h[o])/2;var d=[];u[o]=d[o]=p;u[1-o]=f[1-o];d[1-o]=h[1-o];s.push(u[0],u[1]);s.push(d[0],d[1]);break;default:u[o]=f[o];u[1-o]=h[1-o];s.push(u[0],u[1])}}s.push(t[l++],t[l++]);return s}function mA(t,e){var r=[];var i=t.length;var a;var n;function o(t,e,r){var i=t.coord;var a=(r-i)/(e.coord-i);var n=ki(a,[t.color,e.color]);return{coord:r,color:n}}for(var s=0;s<i;s++){var l=t[s];var u=l.coord;if(u<0){a=l}else if(u>e){if(n){r.push(o(n,l,e))}else if(a){r.push(o(a,l,0),o(a,l,e))}break}else{if(a){r.push(o(a,l,0));a=null}r.push(l);n=l}}return r}function xA(t,e,r){var i=t.getVisual("visualMeta");if(!i||!i.length||!t.count()){return}if(e.type!=="cartesian2d"){if(true){console.warn("Visual map on line style is only supported on cartesian2d.")}return}var a;var n;for(var o=i.length-1;o>=0;o--){var s=t.getDimensionInfo(i[o].dimension);a=s&&s.coordDim;if(a==="x"||a==="y"){n=i[o];break}}if(!n){if(true){console.warn("Visual map on line style only support x or y dimension.")}return}var l=e.getAxis(a);var u=W(n.stops,function(t){return{coord:l.toGlobalCoord(l.dataToCoord(t.value)),color:t.color}});var f=u.length;var h=n.outerColors.slice();if(f&&u[0].coord>u[f-1].coord){u.reverse();h.reverse()}var v=mA(u,a==="x"?r.getWidth():r.getHeight());var c=v.length;if(!c&&f){return u[0].coord<0?h[1]?h[1]:u[f-1].color:h[0]?h[0]:u[0].color}var p=10;var d=v[0].coord-p;var g=v[c-1].coord+p;var y=g-d;if(y<.001){return"transparent"}H(v,function(t){t.offset=(t.coord-d)/y});v.push({offset:c?v[c-1].offset:.5,color:h[1]||"transparent"});v.unshift({offset:c?v[0].offset:.5,color:h[0]||"transparent"});var m=new Sv(0,0,0,0,v,true);m[a]=d;m[a+"2"]=g;return m}function _A(t,e,r){var i=t.get("showAllSymbol");var a=i==="auto";if(i&&!a){return}var n=r.getAxesByScale("ordinal")[0];if(!n){return}if(a&&wA(n,e)){return}var o=e.mapDimension(n.dim);var s={};H(n.getViewLabels(),function(t){var e=n.scale.getRawOrdinalNumber(t.tickValue);s[e]=1});return function(t){return!s.hasOwnProperty(e.get(o,t))}}function wA(t,e){var r=t.getExtent();var i=Math.abs(r[1]-r[0])/t.scale.count();isNaN(i)&&(i=0);var a=e.count();var n=Math.max(1,Math.round(a/5));for(var o=0;o<a;o+=n){if(WD.getSymbolSize(e,o)[t.isHorizontal()?1:0]*1.5>i){return false}}return true}function bA(t,e){return isNaN(t)||isNaN(e)}function SA(t){var e=t.length/2;for(;e>0;e--){if(!bA(t[e*2-2],t[e*2-1])){break}}return e-1}function MA(t,e){return[t[e*2],t[e*2+1]]}function IA(t,e,r){var i=t.length/2;var a=r==="x"?0:1;var n;var o;var s=0;var l=-1;for(var u=0;u<i;u++){o=t[u*2+a];if(isNaN(o)||isNaN(t[u*2+1-a])){continue}if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u;n=o}return{range:[s,l],t:(e-n)/(o-n)}}function TA(t){if(t.get(["endLabel","show"])){return true}for(var e=0;e<uf.length;e++){if(t.get([uf[e],"endLabel","show"])){return true}}return false}function CA(t,e,r,i){if(hA(e,"cartesian2d")){var a=i.getModel("endLabel");var n=a.get("valueAnimation");var o=i.getData();var s={lastFrameIndex:0};var l=TA(i)?function(r,i){t._endLabelOnDuring(r,i,o,s,n,a,e)}:null;var u=e.getBaseAxis().isHorizontal();var f=lA(e,r,i,function(){var e=t._endLabel;if(e&&r){if(s.originalX!=null){e.attr({x:s.originalX,y:s.originalY})}}},l);if(!i.get("clip",true)){var h=f.shape;var v=Math.max(h.width,h.height);if(u){h.y-=v;h.height+=v*2}else{h.x-=v;h.width+=v*2}}if(l){l(1,f)}return f}else{if(true){if(i.get(["endLabel","show"])){console.warn("endLabel is not supported for lines in polar systems.")}}return uA(e,r,i)}}function DA(t,e){var r=e.getBaseAxis();var i=r.isHorizontal();var a=r.inverse;var n=i?a?"right":"left":"center";var o=i?"middle":a?"top":"bottom";return{normal:{align:t.get("align")||n,verticalAlign:t.get("verticalAlign")||o}}}var AA=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(){var t=new En;var e=new jD;this.group.add(e.group);this._symbolDraw=e;this._lineGroup=t;this._changePolyState=q(this._changePolyState,this)};e.prototype.render=function(t,e,r){var i=t.coordinateSystem;var a=this.group;var n=t.getData();var o=t.getModel("lineStyle");var s=t.getModel("areaStyle");var l=n.getLayout("points")||[];var u=i.type==="polar";var f=this._coordSys;var h=this._symbolDraw;var v=this._polyline;var c=this._polygon;var p=this._lineGroup;var d=!e.ssr&&t.get("animation");var g=!s.isEmpty();var y=s.get("origin");var m=qD(i,n,y);var x=g&&gA(i,n,m);var _=t.get("showSymbol");var w=t.get("connectNulls");var b=_&&!u&&_A(t,n,i);var S=this._data;S&&S.eachItemGraphicEl(function(t,e){if(t.__temp){a.remove(t);S.setItemGraphicEl(e,null)}});if(!_){h.remove()}a.add(p);var M=!u?t.get("step"):false;var I;if(i&&i.getArea&&t.get("clip",true)){I=i.getArea();if(I.width!=null){I.x-=.1;I.y-=.1;I.width+=.2;I.height+=.2}else if(I.r0){I.r0-=.5;I.r+=.5}}this._clipShapeForSymbol=I;var T=xA(n,i,r)||n.getVisual("style")[n.getVisual("drawType")];if(!(v&&f.type===i.type&&M===this._step)){_&&h.updateData(n,{isIgnore:b,clipShape:I,disableAnimation:true,getSymbolPoint:function(t){return[l[t*2],l[t*2+1]]}});d&&this._initSymbolLabelAnimation(n,i,I);if(M){if(x){x=yA(x,l,i,M,w)}l=yA(l,null,i,M,w)}v=this._newPolyline(l);if(g){c=this._newPolygon(l,x)}else if(c){p.remove(c);c=this._polygon=null}if(!u){this._initOrUpdateEndLabel(t,i,id(T))}p.setClipPath(CA(this,i,true,t))}else{if(g&&!c){c=this._newPolygon(l,x)}else if(c&&!g){p.remove(c);c=this._polygon=null}if(!u){this._initOrUpdateEndLabel(t,i,id(T))}var C=p.getClipPath();if(C){var D=CA(this,i,false,t);Ev(C,{shape:D.shape},t)}else{p.setClipPath(CA(this,i,true,t))}_&&h.updateData(n,{isIgnore:b,clipShape:I,disableAnimation:true,getSymbolPoint:function(t){return[l[t*2],l[t*2+1]]}});if(!vA(this._stackedOnPoints,x)||!vA(this._points,l)){if(d){this._doUpdateAnimation(n,x,i,r,M,y,w)}else{if(M){if(x){x=yA(x,l,i,M,w)}l=yA(l,null,i,M,w)}v.setShape({points:l});c&&c.setShape({points:l,stackedOnPoints:x})}}}var A=t.getModel("emphasis");var k=A.get("focus");var L=A.get("blurScope");var P=A.get("disabled");v.useStyle(E(o.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"}));oh(v,t,"lineStyle");if(v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var O=v.getState("emphasis").style;O.lineWidth=+v.style.lineWidth+1}Qu(v).seriesIndex=t.seriesIndex;rh(v,k,L,P);var R=dA(t.get("smooth"));var N=t.get("smoothMonotone");v.setShape({smooth:R,smoothMonotone:N,connectNulls:w});if(c){var z=n.getCalculationInfo("stackedOnSeries");var V=0;c.useStyle(E(s.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:n.getVisual("style").decal}));if(z){V=dA(z.get("smooth"))}c.setShape({smooth:R,stackedOnSmooth:V,smoothMonotone:N,connectNulls:w});oh(c,t,"areaStyle");Qu(c).seriesIndex=t.seriesIndex;rh(c,k,L,P)}var B=this._changePolyState;n.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=B)});this._polyline.onHoverStateChange=B;this._data=n;this._coordSys=i;this._stackedOnPoints=x;this._points=l;this._step=M;this._valueOrigin=y;if(t.get("triggerLineEvent")){this.packEventData(t,v);c&&this.packEventData(t,c)}};e.prototype.packEventData=function(t,e){Qu(e).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}};e.prototype.highlight=function(t,e,r,i){var a=t.getData();var n=fs(a,i);this._changePolyState("emphasis");if(!(n instanceof Array)&&n!=null&&n>=0){var o=a.getLayout("points");var s=a.getItemGraphicEl(n);if(!s){var l=o[n*2];var u=o[n*2+1];if(isNaN(l)||isNaN(u)){return}if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,u)){return}var f=t.get("zlevel")||0;var h=t.get("z")||0;s=new WD(a,n);s.x=l;s.y=u;s.setZ(f,h);var v=s.getSymbolPath().getTextContent();if(v){v.zlevel=f;v.z=h;v.z2=this._polyline.z2+1}s.__temp=true;a.setItemGraphicEl(n,s);s.stopSymbolAnimation(true);this.group.add(s)}s.highlight()}else{Jm.prototype.highlight.call(this,t,e,r,i)}};e.prototype.downplay=function(t,e,r,i){var a=t.getData();var n=fs(a,i);this._changePolyState("normal");if(n!=null&&n>=0){var o=a.getItemGraphicEl(n);if(o){if(o.__temp){a.setItemGraphicEl(n,null);this.group.remove(o)}else{o.downplay()}}}else{Jm.prototype.downplay.call(this,t,e,r,i)}};e.prototype._changePolyState=function(t){var e=this._polygon;Df(this._polyline,t);e&&Df(e,t)};e.prototype._newPolyline=function(t){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new nA({shape:{points:t},segmentIgnoreThreshold:2,z2:10});this._lineGroup.add(e);this._polyline=e;return e};e.prototype._newPolygon=function(t,e){var r=this._polygon;if(r){this._lineGroup.remove(r)}r=new sA({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2});this._lineGroup.add(r);this._polygon=r;return r};e.prototype._initSymbolLabelAnimation=function(t,e,r){var i;var a;var n=e.getBaseAxis();var o=n.inverse;if(e.type==="cartesian2d"){i=n.isHorizontal();a=false}else if(e.type==="polar"){i=n.dim==="angle";a=true}var s=t.hostModel;var l=s.get("animationDuration");if($(l)){l=l(null)}var u=s.get("animationDelay")||0;var f=$(u)?u(null):u;t.eachItemGraphicEl(function(t,n){var s=t;if(s){var h=[t.x,t.y];var v=void 0;var c=void 0;var p=void 0;if(r){if(a){var d=r;var g=e.pointToCoord(h);if(i){v=d.startAngle;c=d.endAngle;p=-g[1]/180*Math.PI}else{v=d.r0;c=d.r;p=g[0]}}else{var y=r;if(i){v=y.x;c=y.x+y.width;p=t.x}else{v=y.y+y.height;c=y.y;p=t.y}}}var m=c===v?0:(p-v)/(c-v);if(o){m=1-m}var x=$(u)?u(n):l*m+f;var _=s.getSymbolPath();var w=_.getTextContent();s.attr({scaleX:0,scaleY:0});s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:true,delay:x});if(w){w.animateFrom({style:{opacity:0}},{duration:300,delay:x})}_.disableLabelAnimation=true}})};e.prototype._initOrUpdateEndLabel=function(t,e,r){var i=t.getModel("endLabel");if(TA(t)){var a=t.getData();var n=this._polyline;var o=a.getLayout("points");if(!o){n.removeTextContent();this._endLabel=null;return}var s=this._endLabel;if(!s){s=this._endLabel=new Bu({z2:200});s.ignoreClip=true;n.setTextContent(this._endLabel);n.disableLabelAnimation=true}var l=SA(o);if(l>=0){Ic(n,Tc(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:l,defaultText:function(t,e,r){return r!=null?HD(a,r):GD(a,t)},enableTextSetter:true},DA(i,e));n.textConfig.position=null}}else if(this._endLabel){this._polyline.removeTextContent();this._endLabel=null}};e.prototype._endLabelOnDuring=function(t,e,r,i,a,n,o){var s=this._endLabel;var l=this._polyline;if(s){if(t<1&&i.originalX==null){i.originalX=s.x;i.originalY=s.y}var u=r.getLayout("points");var f=r.hostModel;var h=f.get("connectNulls");var v=n.get("precision");var c=n.get("distance")||0;var p=o.getBaseAxis();var d=p.isHorizontal();var g=p.inverse;var y=e.shape;var m=g?d?y.x:y.y+y.height:d?y.x+y.width:y.y;var x=(d?c:0)*(g?-1:1);var _=(d?0:-c)*(g?-1:1);var w=d?"x":"y";var b=IA(u,m,w);var S=b.range;var M=S[1]-S[0];var I=void 0;if(M>=1){if(M>1&&!h){var T=MA(u,S[0]);s.attr({x:T[0]+x,y:T[1]+_});a&&(I=f.getRawValue(S[0]))}else{var T=l.getPointOn(m,w);T&&s.attr({x:T[0]+x,y:T[1]+_});var C=f.getRawValue(S[0]);var D=f.getRawValue(S[1]);a&&(I=bs(r,v,C,D,b.t))}i.lastFrameIndex=S[0]}else{var A=t===1||i.lastFrameIndex>0?S[0]:0;var T=MA(u,A);a&&(I=f.getRawValue(A));s.attr({x:T[0]+x,y:T[1]+_})}if(a){var k=Ec(s);if(typeof k.setLabelText==="function"){k.setLabelText(I)}}}};e.prototype._doUpdateAnimation=function(t,e,r,i,a,n,o){var s=this._polyline;var l=this._polygon;var u=t.hostModel;var f=QD(this._data,t,this._stackedOnPoints,e,this._coordSys,r,this._valueOrigin);var h=f.current;var v=f.stackedOnCurrent;var c=f.next;var p=f.stackedOnNext;if(a){v=yA(f.stackedOnCurrent,f.current,r,a,o);h=yA(f.current,null,r,a,o);p=yA(f.stackedOnNext,f.next,r,a,o);c=yA(f.next,null,r,a,o)}if(pA(h,c)>3e3||l&&pA(v,p)>3e3){s.stopAnimation();s.setShape({points:c});if(l){l.stopAnimation();l.setShape({points:c,stackedOnPoints:p})}return}s.shape.__points=f.current;s.shape.points=h;var d={shape:{points:c}};if(f.current!==h){d.shape.__points=f.next}s.stopAnimation();Nv(s,d,u);if(l){l.setShape({points:h,stackedOnPoints:v});l.stopAnimation();Nv(l,{shape:{stackedOnPoints:p}},u);if(s.shape.points!==l.shape.points){l.shape.points=s.shape.points}}var g=[];var y=f.status;for(var m=0;m<y.length;m++){var x=y[m].cmd;if(x==="="){var _=t.getItemGraphicEl(y[m].idx1);if(_){g.push({el:_,ptIdx:m})}}}if(s.animators&&s.animators.length){s.animators[0].during(function(){l&&l.dirtyShape();var t=s.shape.__points;for(var e=0;e<g.length;e++){var r=g[e].el;var i=g[e].ptIdx*2;r.x=t[i];r.y=t[i+1];r.markRedraw()}})}};e.prototype.remove=function(t){var e=this.group;var r=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);r&&r.eachItemGraphicEl(function(t,i){if(t.__temp){e.remove(t);r.setItemGraphicEl(i,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null};e.type="line";return e}(Jm);function kA(t,e){return{seriesType:t,plan:jm(),reset:function(t){var r=t.getData();var i=t.coordinateSystem;var a=t.pipelineContext;var n=e||a.large;if(!i){return}var o=W(i.dimensions,function(t){return r.mapDimension(t)}).slice(0,2);var s=o.length;var l=r.getCalculationInfo("stackResultDimension");if(HS(r,o[0])){o[0]=l}if(HS(r,o[1])){o[1]=l}var u=r.getStore();var f=r.getDimensionIndex(o[0]);var h=r.getDimensionIndex(o[1]);return s&&{progress:function(t,e){var r=t.end-t.start;var a=n&&pM(r*s);var o=[];var l=[];for(var v=t.start,c=0;v<t.end;v++){var p=void 0;if(s===1){var d=u.get(f,v);p=i.dataToPoint(d,null,l)}else{o[0]=u.get(f,v);o[1]=u.get(h,v);p=i.dataToPoint(o,null,l)}if(n){a[c++]=p[0];a[c++]=p[1]}else{e.setItemLayout(v,p.slice())}}n&&e.setLayout("points",a)}}}}}var LA={average:function(t){var e=0;var r=0;for(var i=0;i<t.length;i++){if(!isNaN(t[i])){e+=t[i];r++}}return r===0?NaN:e/r},sum:function(t){var e=0;for(var r=0;r<t.length;r++){e+=t[r]||0}return e},max:function(t){var e=-Infinity;for(var r=0;r<t.length;r++){t[r]>e&&(e=t[r])}return isFinite(e)?e:NaN},min:function(t){var e=Infinity;for(var r=0;r<t.length;r++){t[r]<e&&(e=t[r])}return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};var PA=function(t){return Math.round(t.length/2)};function OA(t){return{seriesType:t,reset:function(t,e,r){var i=t.getData();var a=t.get("sampling");var n=t.coordinateSystem;var o=i.count();if(o>10&&n.type==="cartesian2d"&&a){var s=n.getBaseAxis();var l=n.getOtherAxis(s);var u=s.getExtent();var f=r.getDevicePixelRatio();var h=Math.abs(u[1]-u[0])*(f||1);var v=Math.round(o/h);if(isFinite(v)&&v>1){if(a==="lttb"){t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/v))}else if(a==="minmax"){t.setData(i.minmaxDownSample(i.mapDimension(l.dim),1/v))}var c=void 0;if(Q(a)){c=LA[a]}else if($(a)){c=a}if(c){t.setData(i.downSample(i.mapDimension(l.dim),1/v,c,PA))}}}}}}function RA(t){t.registerChartView(AA);t.registerSeriesModel(FD);t.registerLayout(kA("line",true));t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData();var r=t.getModel("lineStyle").getLineStyle();if(r&&!r.stroke){r.stroke=e.getVisual("style").fill}e.setVisual("legendLineStyle",r)}});t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,OA("line"))}var NA=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){return XS(null,this,{useEncodeDefaulter:true})};e.prototype.getMarkerPosition=function(t,e,r){var i=this.coordinateSystem;if(i&&i.clampData){var a=i.clampData(t);var n=i.dataToPoint(a);if(r){H(i.getAxes(),function(t,r){if(t.type==="category"&&e!=null){var i=t.getTicksCoords();var o=t.getTickModel().get("alignWithLabel");var s=a[r];var l=e[r]==="x1"||e[r]==="y1";if(l&&!o){s+=1}if(i.length<2){return}else if(i.length===2){n[r]=t.toGlobalCoord(t.getExtent()[l?1:0]);return}var u=void 0;var f=void 0;var h=1;for(var v=0;v<i.length;v++){var c=i[v].coord;var p=v===i.length-1?i[v-1].tickValue+h:i[v].tickValue;if(p===s){f=c;break}else if(p<s){u=c}else if(u!=null&&p>s){f=(c+u)/2;break}if(v===1){h=p-i[0].tickValue}}if(f==null){if(!u){f=i[0].coord}else if(u){f=i[i.length-1].coord}}n[r]=t.toGlobalCoord(f)}})}else{var o=this.getData();var s=o.getLayout("offset");var l=o.getLayout("size");var u=i.getBaseAxis().isHorizontal()?0:1;n[u]+=s+l/2}return n}return[NaN,NaN]};e.type="series.__base_bar__";e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"};return e}(Vm);Vm.registerClass(NA);var EA=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(){return XS(null,this,{useEncodeDefaulter:true,createInvertedIndices:!!this.get("realtimeSort",true)||null})};e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):false};e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold");var e=this.get("largeThreshold");if(e>t){t=e}return t};e.prototype.brushSelector=function(t,e,r){return r.rect(e.getItemLayout(t))};e.type="series.bar";e.dependencies=["grid","polar"];e.defaultOption=tp(NA.defaultOption,{clip:true,roundCap:false,showBackground:false,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:false});return e}(NA);var zA=function(){function t(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return t}();var VA=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="sausage";return r}e.prototype.getDefaultShape=function(){return new zA};e.prototype.buildPath=function(t,e){var r=e.cx;var i=e.cy;var a=Math.max(e.r0||0,0);var n=Math.max(e.r,0);var o=(n-a)*.5;var s=a+o;var l=e.startAngle;var u=e.endAngle;var f=e.clockwise;var h=Math.PI*2;var v=f?u-l<h:l-u<h;if(!v){l=u-(f?h:-h)}var c=Math.cos(l);var p=Math.sin(l);var d=Math.cos(u);var g=Math.sin(u);if(v){t.moveTo(c*a+r,p*a+i);t.arc(c*s+r,p*s+i,o,-Math.PI+l,l,!f)}else{t.moveTo(c*n+r,p*n+i)}t.arc(r,i,n,l,u,!f);t.arc(d*s+r,g*s+i,o,u-Math.PI*2,u-Math.PI,!f);if(a!==0){t.arc(r,i,a,u,l,f)}};return e}(wu);function BA(t,e){e=e||{};var r=e.isRoundCap;return function(e,i,a){var n=i.position;if(!n||n instanceof Array){return bn(e,i,a)}var o=t(n);var s=i.distance!=null?i.distance:5;var l=this.shape;var u=l.cx;var f=l.cy;var h=l.r;var v=l.r0;var c=(h+v)/2;var p=l.startAngle;var d=l.endAngle;var g=(p+d)/2;var y=r?Math.abs(h-v)/2:0;var m=Math.cos;var x=Math.sin;var _=u+h*m(p);var w=f+h*x(p);var b="left";var S="top";switch(o){case"startArc":_=u+(v-s)*m(g);w=f+(v-s)*x(g);b="center";S="top";break;case"insideStartArc":_=u+(v+s)*m(g);w=f+(v+s)*x(g);b="center";S="bottom";break;case"startAngle":_=u+c*m(p)+GA(p,s+y,false);w=f+c*x(p)+HA(p,s+y,false);b="right";S="middle";break;case"insideStartAngle":_=u+c*m(p)+GA(p,-s+y,false);w=f+c*x(p)+HA(p,-s+y,false);b="left";S="middle";break;case"middle":_=u+c*m(g);w=f+c*x(g);b="center";S="middle";break;case"endArc":_=u+(h+s)*m(g);w=f+(h+s)*x(g);b="center";S="bottom";break;case"insideEndArc":_=u+(h-s)*m(g);w=f+(h-s)*x(g);b="center";S="top";break;case"endAngle":_=u+c*m(d)+GA(d,s+y,true);w=f+c*x(d)+HA(d,s+y,true);b="left";S="middle";break;case"insideEndAngle":_=u+c*m(d)+GA(d,-s+y,true);w=f+c*x(d)+HA(d,-s+y,true);b="right";S="middle";break;default:return bn(e,i,a)}e=e||{};e.x=_;e.y=w;e.align=b;e.verticalAlign=S;return e}}function FA(t,e,r,i){if(et(i)){t.setTextConfig({rotation:i});return}else if(J(e)){t.setTextConfig({rotation:0});return}var a=t.shape;var n=a.clockwise?a.startAngle:a.endAngle;var o=a.clockwise?a.endAngle:a.startAngle;var s=(n+o)/2;var l;var u=r(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:t.setTextConfig({rotation:0});return}var f=Math.PI*1.5-l;if(u==="middle"&&f>Math.PI/2&&f<Math.PI*1.5){f-=Math.PI}t.setTextConfig({rotation:f})}function GA(t,e,r){return e*Math.sin(t)*(r?-1:1)}function HA(t,e,r){return e*Math.cos(t)*(r?1:-1)}function WA(t,e,r){var i=t.get("borderRadius");if(i==null){return r?{cornerRadius:0}:null}if(!J(i)){i=[i,i,i,i]}var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:W(i,function(t){return wn(t,a)})}}var UA=Math.max;var YA=Math.min;function XA(t,e){var r=t.getArea&&t.getArea();if(hA(t,"cartesian2d")){var i=t.getBaseAxis();if(i.type!=="category"||!i.onBand){var a=e.getLayout("bandWidth");if(i.isHorizontal()){r.x-=a;r.width+=a*2}else{r.y-=a;r.height+=a*2}}}return r}var ZA=function(t){i(e,t);function e(){var r=t.call(this)||this;r.type=e.type;r._isFirstFrame=true;return r}e.prototype.render=function(t,e,r,i){this._model=t;this._removeOnRenderedListener(r);this._updateDrawMode(t);var a=t.get("coordinateSystem");if(a==="cartesian2d"||a==="polar"){this._progressiveEls=null;this._isLargeDraw?this._renderLarge(t,e,r):this._renderNormal(t,e,r,i)}else if(true){Po("Only cartesian2d and polar supported for bar.")}};e.prototype.incrementalPrepareRender=function(t){this._clear();this._updateDrawMode(t);this._updateLargeClip(t)};e.prototype.incrementalRender=function(t,e){this._progressiveEls=[];this._incrementalRenderLarge(t,e)};e.prototype.eachRendered=function(t){_c(this._progressiveEls||this.group,t)};e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;if(this._isLargeDraw==null||e!==this._isLargeDraw){this._isLargeDraw=e;this._clear()}};e.prototype._renderNormal=function(t,e,r,i){var a=this.group;var n=t.getData();var o=this._data;var s=t.coordinateSystem;var l=s.getBaseAxis();var u;if(s.type==="cartesian2d"){u=l.isHorizontal()}else if(s.type==="polar"){u=l.dim==="angle"}var f=t.isAnimationEnabled()?t:null;var h=KA(t,s);if(h){this._enableRealtimeSort(h,n,r)}var v=t.get("clip",true)||h;var c=XA(s,n);a.removeClipPath();var p=t.get("roundCap",true);var d=t.get("showBackground",true);var g=t.getModel("backgroundStyle");var y=g.get("borderRadius")||0;var m=[];var x=this._backgroundEls;var _=i&&i.isInitSort;var w=i&&i.type==="changeAxisOrder";function b(t){var e=rk[s.type](n,t);var r=ck(s,u,e);r.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){r.setShape("r",y)}else{r.setShape("cornerRadius",y)}m[t]=r;return r}n.diff(o).add(function(e){var r=n.getItemModel(e);var i=rk[s.type](n,e,r);if(d){b(e)}if(!n.hasValue(e)||!ek[s.type](i)){return}var o=false;if(v){o=jA[s.type](c,i)}var g=qA[s.type](t,n,e,i,u,f,l.model,false,p);if(h){g.forceLabelAnimation=true}nk(g,n,e,r,i,t,u,s.type==="polar");if(_){g.attr({shape:i})}else if(h){JA(h,f,g,i,e,u,false,false)}else{Ev(g,{shape:i},t,e)}n.setItemGraphicEl(e,g);a.add(g);g.ignore=o}).update(function(e,r){var i=n.getItemModel(e);var S=rk[s.type](n,e,i);if(d){var M=void 0;if(x.length===0){M=b(r)}else{M=x[r];M.useStyle(g.getItemStyle());if(s.type==="cartesian2d"){M.setShape("r",y)}else{M.setShape("cornerRadius",y)}m[e]=M}var I=rk[s.type](n,e);var T=vk(u,I,s);Nv(M,{shape:T},f,e)}var C=o.getItemGraphicEl(r);if(!n.hasValue(e)||!ek[s.type](S)){a.remove(C);return}var D=false;if(v){D=jA[s.type](c,S);if(D){a.remove(C)}}if(!C){C=qA[s.type](t,n,e,S,u,f,l.model,!!C,p)}else{Gv(C)}if(h){C.forceLabelAnimation=true}if(w){var A=C.getTextContent();if(A){var k=Ec(A);if(k.prevValue!=null){k.prevValue=k.value}}}else{nk(C,n,e,i,S,t,u,s.type==="polar")}if(_){C.attr({shape:S})}else if(h){JA(h,f,C,S,e,u,true,w)}else{Nv(C,{shape:S},t,e,null)}n.setItemGraphicEl(e,C);C.ignore=D;a.add(C)}).remove(function(e){var r=o.getItemGraphicEl(e);r&&Fv(r,t,e)}).execute();var S=this._backgroundGroup||(this._backgroundGroup=new En);S.removeAll();for(var M=0;M<m.length;++M){S.add(m[M])}a.add(S);this._backgroundEls=m;this._data=n};e.prototype._renderLarge=function(t,e,r){this._clear();uk(t,this.group);this._updateLargeClip(t)};e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground();uk(e,this.group,this._progressiveEls,true)};e.prototype._updateLargeClip=function(t){var e=t.get("clip",true)&&fA(t.coordinateSystem,false,t);var r=this.group;if(e){r.setClipPath(e)}else{r.removeClipPath()}};e.prototype._enableRealtimeSort=function(t,e,r){var i=this;if(!e.count()){return}var a=t.baseAxis;if(this._isFirstFrame){this._dispatchInitSort(e,t,r);this._isFirstFrame=false}else{var n=function(t){var r=e.getItemGraphicEl(t);var i=r&&r.shape;return i&&Math.abs(a.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,n,a,r)};r.getZr().on("rendered",this._onRendered)}};e.prototype._dataSort=function(t,e,r){var i=[];t.each(t.mapDimension(e.dim),function(t,e){var a=r(e);a=a==null?NaN:a;i.push({dataIndex:e,mappedValue:a,ordinalNumber:t})});i.sort(function(t,e){return e.mappedValue-t.mappedValue});return{ordinalNumbers:W(i,function(t){return t.ordinalNumber})}};e.prototype._isOrderChangedWithinSameData=function(t,e,r){var i=r.scale;var a=t.mapDimension(r.dim);var n=Number.MAX_VALUE;for(var o=0,s=i.getOrdinalMeta().categories.length;o<s;++o){var l=t.rawIndexOf(a,i.getRawOrdinalNumber(o));var u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>n){return true}n=u}return false};e.prototype._isOrderDifferentInView=function(t,e){var r=e.scale;var i=r.getExtent();var a=Math.max(0,i[0]);var n=Math.min(i[1],r.getOrdinalMeta().categories.length-1);for(;a<=n;++a){if(t.ordinalNumbers[a]!==r.getRawOrdinalNumber(a)){return true}}};e.prototype._updateSortWithinSameData=function(t,e,r,i){if(!this._isOrderChangedWithinSameData(t,e,r)){return}var a=this._dataSort(t,r,e);if(this._isOrderDifferentInView(a,r)){this._removeOnRenderedListener(i);i.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a})}};e.prototype._dispatchInitSort=function(t,e,r){var i=e.baseAxis;var a=this._dataSort(t,i,function(r){return t.get(t.mapDimension(e.otherAxis.dim),r)});r.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:true,axisId:i.index,sortInfo:a})};e.prototype.remove=function(t,e){this._clear(this._model);this._removeOnRenderedListener(e)};e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)};e.prototype._removeOnRenderedListener=function(t){if(this._onRendered){t.getZr().off("rendered",this._onRendered);this._onRendered=null}};e.prototype._clear=function(t){var e=this.group;var r=this._data;if(t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw){this._removeBackground();this._backgroundEls=[];r.eachItemGraphicEl(function(e){Fv(e,t,Qu(e).dataIndex)})}else{e.removeAll()}this._data=null;this._isFirstFrame=true};e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null};e.type="bar";return e}(Jm);var jA={cartesian2d:function(t,e){var r=e.width<0?-1:1;var i=e.height<0?-1:1;if(r<0){e.x+=e.width;e.width=-e.width}if(i<0){e.y+=e.height;e.height=-e.height}var a=t.x+t.width;var n=t.y+t.height;var o=UA(e.x,t.x);var s=YA(e.x+e.width,a);var l=UA(e.y,t.y);var u=YA(e.y+e.height,n);var f=s<o;var h=u<l;e.x=f&&o>a?s:o;e.y=h&&l>n?u:l;e.width=f?0:s-o;e.height=h?0:u-l;if(r<0){e.x+=e.width;e.width=-e.width}if(i<0){e.y+=e.height;e.height=-e.height}return f||h},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var i=e.r;e.r=e.r0;e.r0=i}var a=YA(e.r,t.r);var n=UA(e.r0,t.r0);e.r=a;e.r0=n;var o=a-n<0;if(r<0){var i=e.r;e.r=e.r0;e.r0=i}return o}};var qA={cartesian2d:function(t,e,r,i,a,n,o,s,l){var u=new Nu({shape:N({},i),z2:1});u.__dataIndex=r;u.name="item";if(n){var f=u.shape;var h=a?"height":"width";f[h]=0}return u},polar:function(t,e,r,i,a,n,o,s,l){var u=!a&&l?VA:iv;var f=new u({shape:i,z2:1});f.name="item";var h=ak(a);f.calculateTextPosition=BA(h,{isRoundCap:u===VA});if(n){var v=f.shape;var c=a?"r":"endAngle";var p={};v[c]=a?i.r0:i.startAngle;p[c]=i[c];(s?Nv:Ev)(f,{shape:p},n)}return f}};function KA(t,e){var r=t.get("realtimeSort",true);var i=e.getBaseAxis();if(true){if(r){if(i.type!=="category"){Po("`realtimeSort` will not work because this bar series is not based on a category axis.")}if(e.type!=="cartesian2d"){Po("`realtimeSort` will not work because this bar series is not on cartesian2d.")}}}if(r&&i.type==="category"&&e.type==="cartesian2d"){return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}}function JA(t,e,r,i,a,n,o,s){var l;var u;if(n){u={x:i.x,width:i.width};l={y:i.y,height:i.height}}else{u={y:i.y,height:i.height};l={x:i.x,width:i.width}}if(!s){(o?Nv:Ev)(r,{shape:l},e,a,null)}var f=e?t.baseAxis.model:null;(o?Nv:Ev)(r,{shape:u},f,a)}function $A(t,e){for(var r=0;r<e.length;r++){if(!isFinite(t[e[r]])){return true}}return false}var QA=["x","y","width","height"];var tk=["cx","cy","r","startAngle","endAngle"];var ek={cartesian2d:function(t){return!$A(t,QA)},polar:function(t){return!$A(t,tk)}};var rk={cartesian2d:function(t,e,r){var i=t.getItemLayout(e);var a=r?ok(r,i):0;var n=i.width>0?1:-1;var o=i.height>0?1:-1;return{x:i.x+n*a/2,y:i.y+o*a/2,width:i.width-n*a,height:i.height-o*a}},polar:function(t,e,r){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function ik(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function ak(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function nk(t,e,r,i,a,n,o,s){var l=e.getItemVisual(r,"style");if(!s){var u=i.get(["itemStyle","borderRadius"])||0;t.setShape("r",u)}else if(!n.get("roundCap")){var f=t.shape;var h=WA(i.getModel("itemStyle"),f,true);N(f,h);t.setShape(f)}t.useStyle(l);var v=i.getShallow("cursor");v&&t.attr("cursor",v);var c=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left";var p=Tc(i);Ic(t,p,{labelFetcher:n,labelDataIndex:r,defaultText:GD(n.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:c});var d=t.getTextContent();if(s&&d){var g=i.get(["label","position"]);t.textConfig.inside=g==="middle"?true:null;FA(t,g==="outside"?c:g,ak(o),i.get(["label","rotate"]))}zc(d,p,n.getRawValue(r),function(t){return HD(e,t)});var y=i.getModel(["emphasis"]);rh(t,y.get("focus"),y.get("blurScope"),y.get("disabled"));oh(t,i);if(ik(a)){t.style.fill="none";t.style.stroke="none";H(t.states,function(t){if(t.style){t.style.fill=t.style.stroke="none"}})}}function ok(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none"){return 0}var i=t.get(["itemStyle","borderWidth"])||0;var a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width);var n=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,a,n)}var sk=function(){function t(){}return t}();var lk=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="largeBar";return r}e.prototype.getDefaultShape=function(){return new sk};e.prototype.buildPath=function(t,e){var r=e.points;var i=this.baseDimIdx;var a=1-this.baseDimIdx;var n=[];var o=[];var s=this.barWidth;for(var l=0;l<r.length;l+=3){o[i]=s;o[a]=r[l+2];n[i]=r[l+i];n[a]=r[l+a];t.rect(n[0],n[1],o[0],o[1])}};return e}(wu);function uk(t,e,r,i){var a=t.getData();var n=a.getLayout("valueAxisHorizontal")?1:0;var o=a.getLayout("largeDataIndices");var s=a.getLayout("size");var l=t.getModel("backgroundStyle");var u=a.getLayout("largeBackgroundPoints");if(u){var f=new lk({shape:{points:u},incremental:!!i,silent:true,z2:0});f.baseDimIdx=n;f.largeDataIndices=o;f.barWidth=s;f.useStyle(l.getItemStyle());e.add(f);r&&r.push(f)}var h=new lk({shape:{points:a.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:true,z2:1});h.baseDimIdx=n;h.largeDataIndices=o;h.barWidth=s;e.add(h);h.useStyle(a.getVisual("style"));h.style.stroke=null;Qu(h).seriesIndex=t.seriesIndex;if(!t.get("silent")){h.on("mousedown",fk);h.on("mousemove",fk)}r&&r.push(h)}var fk=ox(function(t){var e=this;var r=hk(e,t.offsetX,t.offsetY);Qu(e).dataIndex=r>=0?r:null},30,false);function hk(t,e,r){var i=t.baseDimIdx;var a=1-i;var n=t.shape.points;var o=t.largeDataIndices;var s=[];var l=[];var u=t.barWidth;for(var f=0,h=n.length/3;f<h;f++){var v=f*3;l[i]=u;l[a]=n[v+2];s[i]=n[v+i];s[a]=n[v+a];if(l[a]<0){s[a]+=l[a];l[a]=-l[a]}if(e>=s[0]&&e<=s[0]+l[0]&&r>=s[1]&&r<=s[1]+l[1]){return o[f]}}return-1}function vk(t,e,r){if(hA(r,"cartesian2d")){var i=e;var a=r.getArea();return{x:t?i.x:a.x,y:t?a.y:i.y,width:t?i.width:a.width,height:t?a.height:i.height}}else{var a=r.getArea();var n=e;return{cx:a.cx,cy:a.cy,r0:t?a.r0:n.r0,r:t?a.r:n.r,startAngle:t?n.startAngle:0,endAngle:t?n.endAngle:Math.PI*2}}}function ck(t,e,r){var i=t.type==="polar"?iv:Nu;return new i({shape:vk(e,r,t),silent:true,z2:0})}function pk(t){t.registerChartView(ZA);t.registerSeriesModel(EA);t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,K(MM,"bar"));t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,IM("bar"));t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,OA("bar"));t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(e){if(t.sortInfo){e.axis.setCategorySortInfo(t.sortInfo)}})})}var dk=Math.PI*2;var gk=Math.PI/180;function yk(t,e){return cd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function mk(t,e){var r=yk(t,e);var i=t.get("center");var a=t.get("radius");if(!J(a)){a=[0,a]}var n=ro(r.width,e.getWidth());var o=ro(r.height,e.getHeight());var s=Math.min(n,o);var l=ro(a[0],s/2);var u=ro(a[1],s/2);var f;var h;var v=t.coordinateSystem;if(v){var c=v.dataToPoint(i);f=c[0]||0;h=c[1]||0}else{if(!J(i)){i=[i,i]}f=ro(i[0],n)+r.x;h=ro(i[1],o)+r.y}return{cx:f,cy:h,r0:l,r:u}}function xk(t,e,r){e.eachSeriesByType(t,function(t){var e=t.getData();var i=e.mapDimension("value");var a=yk(t,r);var n=mk(t,r),o=n.cx,s=n.cy,l=n.r,u=n.r0;var f=-t.get("startAngle")*gk;var h=t.get("endAngle");var v=t.get("padAngle")*gk;h=h==="auto"?f-dk:-h*gk;var c=t.get("minAngle")*gk;var p=c+v;var d=0;e.each(i,function(t){!isNaN(t)&&d++});var g=e.getSum(i);var y=Math.PI/(g||d)*2;var m=t.get("clockwise");var x=t.get("roseType");var _=t.get("stillShowZeroSum");var w=e.getDataExtent(i);w[0]=0;var b=m?1:-1;var S=[f,h];var M=b*v/2;ql(S,!m);f=S[0],h=S[1];var I=_k(t);I.startAngle=f;I.endAngle=h;I.clockwise=m;var T=Math.abs(h-f);var C=T;var D=0;var A=f;e.setLayout({viewRect:a,r:l});e.each(i,function(t,r){var i;if(isNaN(t)){e.setItemLayout(r,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:m,cx:o,cy:s,r0:u,r:x?NaN:l});return}if(x!=="area"){i=g===0&&_?y:t*y}else{i=T/d}if(i<p){i=p;C-=p}else{D+=t}var a=A+b*i;var n=0;var f=0;if(v>i){n=A+b*i/2;f=n}else{n=A+M;f=a-M}e.setItemLayout(r,{angle:i,startAngle:n,endAngle:f,clockwise:m,cx:o,cy:s,r0:u,r:x?eo(t,w,[u,l]):l});A=a});if(C<dk&&d){if(C<=.001){var k=T/d;e.each(i,function(t,r){if(!isNaN(t)){var i=e.getItemLayout(r);i.angle=k;var a=0;var n=0;if(k<v){a=f+b*(r+1/2)*k;n=a}else{a=f+b*r*k+M;n=f+b*(r+1)*k-M}i.startAngle=a;i.endAngle=n}})}else{y=C/D;A=f;e.each(i,function(t,r){if(!isNaN(t)){var i=e.getItemLayout(r);var a=i.angle===p?p:t*y;var n=0;var o=0;if(a<v){n=A+b*a/2;o=n}else{n=A+M;o=A+b*a-M}i.startAngle=n;i.endAngle=o;A+=b*a}})}}})}var _k=hs();function wk(t){return{seriesType:t,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!r||!r.length){return}var i=t.getData();i.filterSelf(function(t){var e=i.getName(t);for(var a=0;a<r.length;a++){if(!r[a].isSelected(e)){return false}}return true})}}}var bk=Math.PI/180;function Sk(t,e,r,i,a,n,o,s,l,u){if(t.length<2){return}function f(t){var n=t.rB;var o=n*n;for(var s=0;s<t.list.length;s++){var l=t.list[s];var u=Math.abs(l.label.y-r);var f=i+l.len;var h=f*f;var v=Math.sqrt(Math.abs((1-u*u/o)*h));var c=e+(v+l.len2)*a;var p=c-l.label.x;var d=l.targetTextWidth-p*a;Ik(l,d,true);l.label.x=c}}function h(t){var n={list:[],maxY:0};var o={list:[],maxY:0};for(var s=0;s<t.length;s++){if(t[s].labelAlignTo!=="none"){continue}var l=t[s];var u=l.label.y>r?o:n;var h=Math.abs(l.label.y-r);if(h>=u.maxY){var v=l.label.x-e-l.len2*a;var c=i+l.len;var p=Math.abs(v)<c?Math.sqrt(h*h/(1-v*v/c/c)):c;u.rB=p;u.maxY=h}u.list.push(l)}f(n);f(o)}var v=t.length;for(var c=0;c<v;c++){if(t[c].position==="outer"&&t[c].labelAlignTo==="labelLine"){var p=t[c].label.x-u;t[c].linePoints[1][0]+=p;t[c].label.x=u}}if(BT(t,l,l+o)){h(t)}}function Mk(t,e,r,i,a,n,o,s){var l=[];var u=[];var f=Number.MAX_VALUE;var h=-Number.MAX_VALUE;for(var v=0;v<t.length;v++){var c=t[v].label;if(Tk(t[v])){continue}if(c.x<e){f=Math.min(f,c.x);l.push(t[v])}else{h=Math.max(h,c.x);u.push(t[v])}}for(var v=0;v<t.length;v++){var p=t[v];if(!Tk(p)&&p.linePoints){if(p.labelStyleWidth!=null){continue}var c=p.label;var d=p.linePoints;var g=void 0;if(p.labelAlignTo==="edge"){if(c.x<e){g=d[2][0]-p.labelDistance-o-p.edgeDistance}else{g=o+a-p.edgeDistance-d[2][0]-p.labelDistance}}else if(p.labelAlignTo==="labelLine"){if(c.x<e){g=f-o-p.bleedMargin}else{g=o+a-h-p.bleedMargin}}else{if(c.x<e){g=c.x-o-p.bleedMargin}else{g=o+a-c.x-p.bleedMargin}}p.targetTextWidth=g;Ik(p,g)}}Sk(u,e,r,i,1,a,n,o,s,h);Sk(l,e,r,i,-1,a,n,o,s,f);for(var v=0;v<t.length;v++){var p=t[v];if(!Tk(p)&&p.linePoints){var c=p.label;var d=p.linePoints;var y=p.labelAlignTo==="edge";var m=c.style.padding;var x=m?m[1]+m[3]:0;var _=c.style.backgroundColor?0:x;var w=p.rect.width+_;var b=d[1][0]-d[2][0];if(y){if(c.x<e){d[2][0]=o+p.edgeDistance+w+p.labelDistance}else{d[2][0]=o+a-p.edgeDistance-w-p.labelDistance}}else{if(c.x<e){d[2][0]=c.x+p.labelDistance}else{d[2][0]=c.x-p.labelDistance}d[1][0]=d[2][0]+b}d[1][1]=d[2][1]=c.y}}}function Ik(t,e,r){if(r===void 0){r=false}if(t.labelStyleWidth!=null){return}var i=t.label;var a=i.style;var n=t.rect;var o=a.backgroundColor;var s=a.padding;var l=s?s[1]+s[3]:0;var u=a.overflow;var f=n.width+(o?0:l);if(e<f||r){var h=n.height;if(u&&u.match("break")){i.setStyle("backgroundColor",null);i.setStyle("width",e-l);var v=i.getBoundingRect();i.setStyle("width",Math.ceil(v.width));i.setStyle("backgroundColor",o)}else{var c=e-l;var p=e<f?c:r?c>t.unconstrainedWidth?null:c:null;i.setStyle("width",p)}var d=i.getBoundingRect();n.width=d.width;var g=(i.style.margin||0)+2.1;n.height=d.height+g;n.y-=(n.height-h)/2}}function Tk(t){return t.position==="center"}function Ck(t){var e=t.getData();var r=[];var i;var a;var n=false;var o=(t.get("minShowLabelAngle")||0)*bk;var s=e.getLayout("viewRect");var l=e.getLayout("r");var u=s.width;var f=s.x;var h=s.y;var v=s.height;function c(t){t.ignore=true}function p(t){if(!t.ignore){return true}for(var e in t.states){if(t.states[e].ignore===false){return true}}return false}e.each(function(t){var s=e.getItemGraphicEl(t);var h=s.shape;var v=s.getTextContent();var d=s.getTextGuideLine();var g=e.getItemModel(t);var y=g.getModel("label");var m=y.get("position")||g.get(["emphasis","label","position"]);var x=y.get("distanceToLabelLine");var _=y.get("alignTo");var w=ro(y.get("edgeDistance"),u);var b=y.get("bleedMargin");var S=g.getModel("labelLine");var M=S.get("length");M=ro(M,u);var I=S.get("length2");I=ro(I,u);if(Math.abs(h.endAngle-h.startAngle)<o){H(v.states,c);v.ignore=true;if(d){H(d.states,c);d.ignore=true}return}if(!p(v)){return}var T=(h.startAngle+h.endAngle)/2;var C=Math.cos(T);var D=Math.sin(T);var A;var k;var L;var P;i=h.cx;a=h.cy;var O=m==="inside"||m==="inner";if(m==="center"){A=h.cx;k=h.cy;P="center"}else{var R=(O?(h.r+h.r0)/2*C:h.r*C)+i;var N=(O?(h.r+h.r0)/2*D:h.r*D)+a;A=R+C*3;k=N+D*3;if(!O){var E=R+C*(M+l-h.r);var z=N+D*(M+l-h.r);var V=E+(C<0?-1:1)*I;var B=z;if(_==="edge"){A=C<0?f+w:f+u-w}else{A=V+(C<0?-x:x)}k=B;L=[[R,N],[E,z],[V,B]]}P=O?"center":_==="edge"?C>0?"right":"left":C>0?"left":"right"}var F=Math.PI;var G=0;var W=y.get("rotate");if(et(W)){G=W*(F/180)}else if(m==="center"){G=0}else if(W==="radial"||W===true){var U=C<0?-T+F:-T;G=U}else if(W==="tangential"&&m!=="outside"&&m!=="outer"){var Y=Math.atan2(C,D);if(Y<0){Y=F*2+Y}var X=D>0;if(X){Y=F+Y}G=Y-F}n=!!G;v.x=A;v.y=k;v.rotation=G;v.setStyle({verticalAlign:"middle"});if(!O){var Z=v.getBoundingRect().clone();Z.applyTransform(v.getComputedTransform());var j=(v.style.margin||0)+2.1;Z.y-=j/2;Z.height+=j;r.push({label:v,labelLine:d,position:m,len:M,len2:I,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new Xe(C,D),linePoints:L,textAlign:P,labelDistance:x,labelAlignTo:_,edgeDistance:w,bleedMargin:b,rect:Z,unconstrainedWidth:Z.width,labelStyleWidth:v.style.width})}else{v.setStyle({align:P});var q=v.states.select;if(q){q.x+=v.x;q.y+=v.y}}s.setTextConfig({inside:O})});if(!n&&t.get("avoidLabelOverlap")){Mk(r,i,a,l,u,v,f,h)}for(var d=0;d<r.length;d++){var g=r[d];var y=g.label;var m=g.labelLine;var x=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:g.textAlign});if(x){H(y.states,c);y.ignore=true}var _=y.states.select;if(_){_.x+=y.x;_.y+=y.y}}if(m){var w=g.linePoints;if(x||!w){H(m.states,c);m.ignore=true}else{kT(w,g.minTurnAngle);LT(w,g.surfaceNormal,g.maxSurfaceAngle);m.setShape({points:w});y.__hostTarget.textGuideLineConfig={anchor:new Xe(w[0][0],w[0][1])}}}}}var Dk=function(t){i(e,t);function e(e,r,i){var a=t.call(this)||this;a.z2=2;var n=new Bu;a.setTextContent(n);a.updateData(e,r,i,true);return a}e.prototype.updateData=function(t,e,r,i){var a=this;var n=t.hostModel;var o=t.getItemModel(e);var s=o.getModel("emphasis");var l=t.getItemLayout(e);var u=N(WA(o.getModel("itemStyle"),l,true),l);if(isNaN(u.startAngle)){a.setShape(u);return}if(i){a.setShape(u);var f=n.getShallow("animationType");if(n.ecModel.ssr){Ev(a,{scaleX:0,scaleY:0},n,{dataIndex:e,isFrom:true});a.originX=u.cx;a.originY=u.cy}else if(f==="scale"){a.shape.r=l.r0;Ev(a,{shape:{r:l.r}},n,e)}else{if(r!=null){a.setShape({startAngle:r,endAngle:r});Ev(a,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},n,e)}else{a.shape.endAngle=l.startAngle;Nv(a,{shape:{endAngle:l.endAngle}},n,e)}}}else{Gv(a);Nv(a,{shape:u},n,e)}a.useStyle(t.getItemVisual(e,"style"));oh(a,o);var h=(l.startAngle+l.endAngle)/2;var v=n.get("selectedOffset");var c=Math.cos(h)*v;var p=Math.sin(h)*v;var d=o.getShallow("cursor");d&&a.attr("cursor",d);this._updateLabel(n,t,e);a.ensureState("emphasis").shape=N({r:l.r+(s.get("scale")?s.get("scaleSize")||0:0)},WA(s.getModel("itemStyle"),l));N(a.ensureState("select"),{x:c,y:p,shape:WA(o.getModel(["select","itemStyle"]),l)});N(a.ensureState("blur"),{shape:WA(o.getModel(["blur","itemStyle"]),l)});var g=a.getTextGuideLine();var y=a.getTextContent();g&&N(g.ensureState("select"),{x:c,y:p});N(y.ensureState("select"),{x:c,y:p});rh(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))};e.prototype._updateLabel=function(t,e,r){var i=this;var a=e.getItemModel(r);var n=a.getModel("labelLine");var o=e.getItemVisual(r,"style");var s=o&&o.fill;var l=o&&o.opacity;Ic(i,Tc(a),{labelFetcher:e.hostModel,labelDataIndex:r,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(r,"normal")||e.getName(r)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null});u.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer"){i.removeTextGuideLine()}else{var h=this.getTextGuideLine();if(!h){h=new hv;this.setTextGuideLine(h)}RT(this,NT(a),{stroke:s,opacity:vt(n.get(["lineStyle","opacity"]),l,1)})}};return e}(iv);var Ak=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.ignoreLabelLineUpdate=true;return e}e.prototype.render=function(t,e,r,i){var a=t.getData();var n=this._data;var o=this.group;var s;if(!n&&a.count()>0){var l=a.getItemLayout(0);for(var u=1;isNaN(l&&l.startAngle)&&u<a.count();++u){l=a.getItemLayout(u)}if(l){s=l.startAngle}}if(this._emptyCircleSector){o.remove(this._emptyCircleSector)}if(a.count()===0&&t.get("showEmptyCircle")){var f=_k(t);var h=new iv({shape:N(mk(t,r),f)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle());this._emptyCircleSector=h;o.add(h)}a.diff(n).add(function(t){var e=new Dk(a,t,s);a.setItemGraphicEl(t,e);o.add(e)}).update(function(t,e){var r=n.getItemGraphicEl(e);r.updateData(a,t,s);r.off("click");o.add(r);a.setItemGraphicEl(t,r)}).remove(function(e){var r=n.getItemGraphicEl(e);Fv(r,t,e)}).execute();Ck(t);if(t.get("animationTypeUpdate")!=="expansion"){this._data=a}};e.prototype.dispose=function(){};e.prototype.containPoint=function(t,e){var r=e.getData();var i=r.getItemLayout(0);if(i){var a=t[0]-i.cx;var n=t[1]-i.cy;var o=Math.sqrt(a*a+n*n);return o<=i.r&&o>=i.r0}};e.type="pie";return e}(Jm);function kk(t,e,r){e=J(e)&&{coordDimensions:e}||N({encodeDefine:t.getEncode()},e);var i=t.getSource();var a=PS(i,e).dimensions;var n=new kS(a,t);n.initData(i,r);return n}var Lk=function(){function t(t,e){this._getDataWithEncodedVisual=t;this._getRawData=e}t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)};t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0};t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)};t.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)};return t}();var Pk=hs();var Ok=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Lk(q(this.getData,this),q(this.getRawData,this));this._defaultLabelLine(e)};e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)};e.prototype.getInitialData=function(){return kk(this,{coordDimensions:["value"],encodeDefaulter:K(Bd,this)})};e.prototype.getDataParams=function(e){var r=this.getData();var i=Pk(r);var a=i.seats;if(!a){var n=[];r.each(r.mapDimension("value"),function(t){n.push(t)});a=i.seats=uo(n,r.hostModel.get("percentPrecision"))}var o=t.prototype.getDataParams.call(this,e);o.percent=a[e]||0;o.$vars.push("percent");return o};e.prototype._defaultLabelLine=function(t){Ho(t,"labelLine",["show"]);var e=t.labelLine;var r=t.emphasis.labelLine;e.show=e.show&&t.label.show;r.show=r.show&&t.emphasis.label.show};e.type="series.pie";e.defaultOption={z:2,legendHoverLink:true,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:true,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:true,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:true,length:15,length2:15,smooth:false,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:true,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:true},emphasis:{scale:true,scaleSize:5},avoidLabelOverlap:true,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};return e}(Vm);function Rk(t){return{seriesType:t,reset:function(t,e){var r=t.getData();r.filterSelf(function(t){var e=r.mapDimension("value");var i=r.get(e,t);if(et(i)&&!isNaN(i)&&i<0){return false}return true})}}}function Nk(t){t.registerChartView(Ak);t.registerSeriesModel(Ok);Jx("pie",t.registerAction);t.registerLayout(K(xk,"pie"));t.registerProcessor(wk("pie"));t.registerProcessor(Rk("pie"))}var Ek=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t,e){return XS(null,this,{useEncodeDefaulter:true})};e.prototype.getProgressive=function(){var t=this.option.progressive;if(t==null){return this.option.large?5e3:this.get("progressive")}return t};e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;if(t==null){return this.option.large?1e4:this.get("progressiveThreshold")}return t};e.prototype.brushSelector=function(t,e,r){return r.point(e.getItemLayout(t))};e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""};e.type="series.scatter";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,symbolSize:10,large:false,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:true},clip:true,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}};return e}(Vm);var zk=4;var Vk=function(){function t(){}return t}();var Bk=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r._off=0;r.hoverDataIdx=-1;return r}e.prototype.getDefaultShape=function(){return new Vk};e.prototype.reset=function(){this.notClear=false;this._off=0};e.prototype.buildPath=function(t,e){var r=e.points;var i=e.size;var a=this.symbolProxy;var n=a.shape;var o=t.getContext?t.getContext():t;var s=o&&i[0]<zk;var l=this.softClipShape;var u;if(s){this._ctx=o;return}this._ctx=null;for(u=this._off;u<r.length;){var f=r[u++];var h=r[u++];if(isNaN(f)||isNaN(h)){continue}if(l&&!l.contain(f,h)){continue}n.x=f-i[0]/2;n.y=h-i[1]/2;n.width=i[0];n.height=i[1];a.buildPath(t,n,true)}if(this.incremental){this._off=u;this.notClear=true}};e.prototype.afterBrush=function(){var t=this.shape;var e=t.points;var r=t.size;var i=this._ctx;var a=this.softClipShape;var n;if(!i){return}for(n=this._off;n<e.length;){var o=e[n++];var s=e[n++];if(isNaN(o)||isNaN(s)){continue}if(a&&!a.contain(o,s)){continue}i.fillRect(o-r[0]/2,s-r[1]/2,r[0],r[1])}if(this.incremental){this._off=n;this.notClear=true}};e.prototype.findDataIndex=function(t,e){var r=this.shape;var i=r.points;var a=r.size;var n=Math.max(a[0],4);var o=Math.max(a[1],4);for(var s=i.length/2-1;s>=0;s--){var l=s*2;var u=i[l]-n/2;var f=i[l+1]-o/2;if(t>=u&&e>=f&&t<=u+n&&e<=f+o){return s}}return-1};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();t=r[0];e=r[1];if(i.contain(t,e)){var a=this.hoverDataIdx=this.findDataIndex(t,e);return a>=0}this.hoverDataIdx=-1;return false};e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){var e=this.shape;var r=e.points;var i=e.size;var a=i[0];var n=i[1];var o=Infinity;var s=Infinity;var l=-Infinity;var u=-Infinity;for(var f=0;f<r.length;){var h=r[f++];var v=r[f++];o=Math.min(h,o);l=Math.max(h,l);s=Math.min(v,s);u=Math.max(v,u)}t=this._rect=new er(o-a/2,s-n/2,l-o+a,u-s+n)}return t};return e}(wu);var Fk=function(){function t(){this.group=new En}t.prototype.updateData=function(t,e){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")});this._setCommon(r,t,e)};t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(t){if(t.startIndex!=null){var r=(t.endIndex-t.startIndex)*2;var i=t.startIndex*4*2;e=new Float32Array(e.buffer,i,r)}t.setShape("points",e);t.reset()})};t.prototype.incrementalPrepareUpdate=function(t){this._clear()};t.prototype.incrementalUpdate=function(t,e,r){var i=this._newAdded[0];var a=e.getLayout("points");var n=i&&i.shape.points;if(n&&n.length<2e4){var o=n.length;var s=new Float32Array(o+a.length);s.set(n);s.set(a,o);i.endIndex=t.end;i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start;l.endIndex=t.end;l.incremental=true;l.setShape({points:a});this._setCommon(l,e,r)}};t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])};t.prototype._create=function(){var t=new Bk({cursor:"default"});t.ignoreCoarsePointer=true;this.group.add(t);this._newAdded.push(t);return t};t.prototype._setCommon=function(t,e,r){var i=e.hostModel;r=r||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]);t.softClipShape=r.clipShape||null;t.symbolProxy=c_(e.getVisual("symbol"),0,0,0,0);t.setColor=t.symbolProxy.setColor;var n=t.shape.size[0]<zk;t.useStyle(i.getModel("itemStyle").getItemStyle(n?["color","shadowBlur","shadowColor"]:["color"]));var o=e.getVisual("style");var s=o&&o.fill;if(s){t.setColor(s)}var l=Qu(t);l.seriesIndex=i.seriesIndex;t.on("mousemove",function(e){l.dataIndex=null;var r=t.hoverDataIdx;if(r>=0){l.dataIndex=r+(t.startIndex||0)}})};t.prototype.remove=function(){this._clear()};t.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return t}();var Gk=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._updateSymbolDraw(i,t);a.updateData(i,{clipShape:this._getClipShape(t)});this._finished=true};e.prototype.incrementalPrepareRender=function(t,e,r){var i=t.getData();var a=this._updateSymbolDraw(i,t);a.incrementalPrepareUpdate(i);this._finished=false};e.prototype.incrementalRender=function(t,e,r){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)});this._finished=t.end===e.getData().count()};e.prototype.updateTransform=function(t,e,r){var i=t.getData();this.group.dirty();if(!this._finished||i.count()>1e4){return{update:true}}else{var a=kA("").reset(t,e,r);if(a.progress){a.progress({start:0,end:i.count(),count:i.count()},i)}this._symbolDraw.updateLayout(i)}};e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)};e.prototype._getClipShape=function(t){if(!t.get("clip",true)){return}var e=t.coordinateSystem;return e&&e.getArea&&e.getArea(.1)};e.prototype._updateSymbolDraw=function(t,e){var r=this._symbolDraw;var i=e.pipelineContext;var a=i.large;if(!r||a!==this._isLargeDraw){r&&r.remove();r=this._symbolDraw=a?new Fk:new jD;this._isLargeDraw=a;this.group.removeAll()}this.group.add(r.group);return r};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null};e.prototype.dispose=function(){};e.type="scatter";return e}(Jm);var Hk=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.type="grid";e.dependencies=["xAxis","yAxis"];e.layoutMode="box";e.defaultOption={show:false,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};return e}(wd);var Wk=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ds).models[0]};e.type="cartesian2dAxis";return e}(wd);F(Wk,pI);var Uk={show:true,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,showMinLine:true,showMaxLine:true,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}};var Yk=O({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},Uk);var Xk=O({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:false,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:false,lineStyle:{color:"#F4F7FD",width:1}}},Uk);var Zk=O({splitNumber:6,axisLabel:{showMinLabel:false,showMaxLabel:false,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:false}},Xk);var jk=E({logBase:10},Xk);var qk={category:Yk,value:Xk,time:Zk,log:jk};var Kk={value:1,category:1,time:1,log:1};function Jk(t,e,r,a){H(Kk,function(n,o){var s=O(O({},qk[o],true),a,true);var l=function(t){i(r,t);function r(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e+"Axis."+o;return r}r.prototype.mergeDefaultAndTheme=function(t,e){var r=gd(this);var i=r?md(t):{};var a=e.getTheme();O(t,a.get(o+"Axis"));O(t,this.getDefaultOption());t.type=$k(t);if(r){yd(t,i,r)}};r.prototype.optionUpdated=function(){var t=this.option;if(t.type==="category"){this.__ordinalMeta=JS.createByAxisModel(this)}};r.prototype.getCategories=function(t){var e=this.option;if(e.type==="category"){if(t){return e.data}return this.__ordinalMeta.categories}};r.prototype.getOrdinalMeta=function(){return this.__ordinalMeta};r.type=e+"Axis."+o;r.defaultOption=s;return r}(r);t.registerComponentModel(l)});t.registerSubTypeDefaulter(e+"Axis",$k)}function $k(t){return t.type||(t.data?"category":"value")}var Qk=function(){function t(t){this.type="cartesian";this._dimList=[];this._axes={};this.name=t||""}t.prototype.getAxis=function(t){return this._axes[t]};t.prototype.getAxes=function(){return W(this._dimList,function(t){return this._axes[t]},this)};t.prototype.getAxesByScale=function(t){t=t.toLowerCase();return Y(this.getAxes(),function(e){return e.scale.type===t})};t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t;this._dimList.push(e)};return t}();var tL=["x","y"];function eL(t){return t.type==="interval"||t.type==="time"}var rL=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="cartesian2d";e.dimensions=tL;return e}e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale;var e=this.getAxis("y").scale;if(!eL(t)||!eL(e)){return}var r=t.getExtent();var i=e.getExtent();var a=this.dataToPoint([r[0],i[0]]);var n=this.dataToPoint([r[1],i[1]]);var o=r[1]-r[0];var s=i[1]-i[0];if(!o||!s){return}var l=(n[0]-a[0])/o;var u=(n[1]-a[1])/s;var f=a[0]-r[0]*l;var h=a[1]-i[0]*u;var v=this._transform=[l,0,0,u,f,h];this._invTransform=We([],v)};e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")};e.prototype.containPoint=function(t){var e=this.getAxis("x");var r=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))};e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])};e.prototype.containZone=function(t,e){var r=this.dataToPoint(t);var i=this.dataToPoint(e);var a=this.getArea();var n=new er(r[0],r[1],i[0]-r[0],i[1]-r[1]);return a.intersect(n)};e.prototype.dataToPoint=function(t,e,r){r=r||[];var i=t[0];var a=t[1];if(this._transform&&i!=null&&isFinite(i)&&a!=null&&isFinite(a)){return te(r,t,this._transform)}var n=this.getAxis("x");var o=this.getAxis("y");r[0]=n.toGlobalCoord(n.dataToCoord(i,e));r[1]=o.toGlobalCoord(o.dataToCoord(a,e));return r};e.prototype.clampData=function(t,e){var r=this.getAxis("x").scale;var i=this.getAxis("y").scale;var a=r.getExtent();var n=i.getExtent();var o=r.parse(t[0]);var s=i.parse(t[1]);e=e||[];e[0]=Math.min(Math.max(Math.min(a[0],a[1]),o),Math.max(a[0],a[1]));e[1]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1]));return e};e.prototype.pointToData=function(t,e){var r=[];if(this._invTransform){return te(r,t,this._invTransform)}var i=this.getAxis("x");var a=this.getAxis("y");r[0]=i.coordToData(i.toLocalCoord(t[0]),e);r[1]=a.coordToData(a.toLocalCoord(t[1]),e);return r};e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")};e.prototype.getArea=function(t){t=t||0;var e=this.getAxis("x").getGlobalExtent();var r=this.getAxis("y").getGlobalExtent();var i=Math.min(e[0],e[1])-t;var a=Math.min(r[0],r[1])-t;var n=Math.max(e[0],e[1])-i+t;var o=Math.max(r[0],r[1])-a+t;return new er(i,a,n,o)};return e}(Qk);var iL=function(t){i(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.index=0;o.type=a||"value";o.position=n||"bottom";return o}e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"};e.prototype.getGlobalExtent=function(t){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);t&&e[0]>e[1]&&e.reverse();return e};e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),e)};e.prototype.setCategorySortInfo=function(t){if(this.type!=="category"){return false}this.model.option.categorySortInfo=t;this.scale.setSortInfo(t)};return e}(nT);function aL(t,e,r){r=r||{};var i=t.coordinateSystem;var a=e.axis;var n={};var o=a.getAxesOnZeroOf()[0];var s=a.position;var l=o?"onZero":s;var u=a.dim;var f=i.getRect();var h=[f.x,f.x+f.width,f.y,f.y+f.height];var v={left:0,right:1,top:0,bottom:1,onZero:2};var c=e.get("offset")||0;var p=u==="x"?[h[2]-c,h[3]+c]:[h[0]-c,h[1]+c];if(o){var d=o.toGlobalCoord(o.dataToCoord(0));p[v.onZero]=Math.max(Math.min(d,p[1]),p[0])}n.position=[u==="y"?p[v[l]]:h[0],u==="x"?p[v[l]]:h[3]];n.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=g[s];n.labelOffset=o?p[v[s]]-p[v.onZero]:0;if(e.get(["axisTick","inside"])){n.tickDirection=-n.tickDirection}if(ft(r.labelInside,e.get(["axisLabel","inside"]))){n.labelDirection=-n.labelDirection}var y=e.get(["axisLabel","rotate"]);n.labelRotate=l==="top"?-y:y;n.z2=1;return n}function nL(t){return t.get("coordinateSystem")==="cartesian2d"}function oL(t){var e={xAxisModel:null,yAxisModel:null};H(e,function(r,i){var a=i.replace(/Model$/,"");var n=t.getReferringComponents(a,ds).models[0];if(true){if(!n){throw new Error(a+' "'+vt(t.get(a+"Index"),t.get(a+"Id"),0)+'" not found')}}e[i]=n});return e}var sL=Math.log;function lL(t,e,r){var i=hM.prototype;var a=i.getTicks.call(r);var n=i.getTicks.call(r,true);var o=a.length-1;var s=i.getInterval.call(r);var l=eI(t,e);var u=l.extent;var f=l.fixMin;var h=l.fixMax;if(t.type==="log"){var v=sL(t.base);u=[sL(u[0])/v,sL(u[1])/v]}t.setExtent(u[0],u[1]);t.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:h});var c=i.getExtent.call(t);if(f){u[0]=c[0]}if(h){u[1]=c[1]}var p=i.getInterval.call(t);var d=u[0];var g=u[1];if(f&&h){p=(g-d)/o}else if(f){g=u[0]+p*o;while(g<u[1]&&isFinite(g)&&isFinite(u[1])){p=rM(p);g=u[0]+p*o}}else if(h){d=u[1]-p*o;while(d>u[0]&&isFinite(d)&&isFinite(u[0])){p=rM(p);d=u[1]-p*o}}else{var y=t.getTicks().length-1;if(y>o){p=rM(p)}var m=p*o;g=Math.ceil(u[1]/p)*p;d=io(g-m);if(d<0&&u[0]>=0){d=0;g=io(m)}else if(g>0&&u[1]<=0){g=0;d=-io(m)}}var x=(a[0].value-n[0].value)/s;var _=(a[o].value-n[o].value)/s;i.setExtent.call(t,d+p*x,g+p*_);i.setInterval.call(t,p);if(x||_){i.setNiceExtent.call(t,d+p,g-p)}if(true){var w=i.getTicks.call(t);if(w[1]&&(!QS(p)||oo(w[1].value)>oo(p))){Po("The ticks may be not readable when set min: "+e.get("min")+", max: "+e.get("max")+" and alignTicks: true")}}}var uL=function(){function t(t,e,r){this.type="grid";this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this.axisPointerEnabled=true;this.dimensions=tL;this._initCartesian(t,e,r);this.model=t}t.prototype.getRect=function(){return this._rect};t.prototype.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model);function i(t){var e;var r=Z(t);var i=r.length;if(!i){return}var a=[];for(var n=i-1;n>=0;n--){var o=+r[n];var s=t[o];var l=s.model;var u=s.scale;if(tM(u)&&l.get("alignTicks")&&l.get("interval")==null){a.push(s)}else{iI(u,l);if(tM(u)){e=s}}}if(a.length){if(!e){e=a.pop();iI(e.scale,e.model)}H(a,function(t){lL(t.scale,t.model,e.scale)})}}i(r.x);i(r.y);var a={};H(r.x,function(t){hL(r,"y",t,a)});H(r.y,function(t){hL(r,"x",t,a)});this.resize(this.model,e)};t.prototype.resize=function(t,e,r){var i=t.getBoxLayoutParams();var a=!r&&t.get("containLabel");var n=cd(i,{width:e.getWidth(),height:e.getHeight()});this._rect=n;var o=this._axesList;s();if(a){H(o,function(t){if(!t.model.get(["axisLabel","inside"])){var e=lI(t);if(e){var r=t.isHorizontal()?"height":"width";var i=t.model.get(["axisLabel","margin"]);n[r]-=e[r]+i;if(t.position==="top"){n.y+=e.height+i}else if(t.position==="left"){n.x+=e.width+i}}}});s()}H(this._coordsList,function(t){t.calcAffineTransform()});function s(){H(o,function(t){var e=t.isHorizontal();var r=e?[0,n.width]:[0,n.height];var i=t.inverse?1:0;t.setExtent(r[i],r[1-i]);cL(t,e?n.x:n.y)})}};t.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(r!=null){return r[e||0]}};t.prototype.getAxes=function(){return this._axesList.slice()};t.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var r="x"+t+"y"+e;return this._coordsMap[r]}if(rt(t)){e=t.yAxisIndex;t=t.xAxisIndex}for(var i=0,a=this._coordsList;i<a.length;i++){if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e){return a[i]}}};t.prototype.getCartesians=function(){return this._coordsList.slice()};t.prototype.convertToPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null};t.prototype.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null};t.prototype._findConvertTarget=function(t){var e=t.seriesModel;var r=t.xAxisModel||e&&e.getReferringComponents("xAxis",ds).models[0];var i=t.yAxisModel||e&&e.getReferringComponents("yAxis",ds).models[0];var a=t.gridModel;var n=this._coordsList;var o;var s;if(e){o=e.coordinateSystem;V(n,o)<0&&(o=null)}else if(r&&i){o=this.getCartesian(r.componentIndex,i.componentIndex)}else if(r){s=this.getAxis("x",r.componentIndex)}else if(i){s=this.getAxis("y",i.componentIndex)}else if(a){var l=a.coordinateSystem;if(l===this){o=this._coordsList[0]}}return{cartesian:o,axis:s}};t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e){return e.containPoint(t)}};t.prototype._initCartesian=function(t,e,r){var i=this;var a=this;var n={left:false,right:false,top:false,bottom:false};var o={x:{},y:{}};var s={x:0,y:0};e.eachComponent("xAxis",l("x"),this);e.eachComponent("yAxis",l("y"),this);if(!s.x||!s.y){this._axesMap={};this._axesList=[];return}this._axesMap=o;H(o.x,function(e,r){H(o.y,function(a,n){var o="x"+r+"y"+n;var s=new rL(o);s.master=i;s.model=t;i._coordsMap[o]=s;i._coordsList.push(s);s.addAxis(e);s.addAxis(a)})});function l(e){return function(r,i){if(!fL(r,t)){return}var l=r.get("position");if(e==="x"){if(l!=="top"&&l!=="bottom"){l=n.bottom?"top":"bottom"}}else{if(l!=="left"&&l!=="right"){l=n.left?"right":"left"}}n[l]=true;var u=new iL(e,aI(r),[0,0],r.get("type"),l);var f=u.type==="category";u.onBand=f&&r.get("boundaryGap");u.inverse=r.get("inverse");r.axis=u;u.model=r;u.grid=a;u.index=i;a._axesList.push(u);o[e][i]=u;s[e]++}}};t.prototype._updateScale=function(t,e){H(this._axesList,function(t){t.scale.setExtent(Infinity,-Infinity);if(t.type==="category"){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}});t.eachSeries(function(t){if(nL(t)){var i=oL(t);var a=i.xAxisModel;var n=i.yAxisModel;if(!fL(a,e)||!fL(n,e)){return}var o=this.getCartesian(a.componentIndex,n.componentIndex);var s=t.getData();var l=o.getAxis("x");var u=o.getAxis("y");r(s,l);r(s,u)}},this);function r(t,e){H(vI(t,e.dim),function(r){e.scale.unionExtentFromData(t,r)})}};t.prototype.getTooltipAxes=function(t){var e=[];var r=[];H(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis();var n=i.getOtherAxis(a);V(e,a)<0&&e.push(a);V(r,n)<0&&r.push(n)});return{baseAxes:e,otherAxes:r}};t.create=function(e,r){var i=[];e.eachComponent("grid",function(a,n){var o=new t(a,e,r);o.name="grid_"+n;o.resize(a,r,true);a.coordinateSystem=o;i.push(o)});e.eachSeries(function(t){if(!nL(t)){return}var e=oL(t);var r=e.xAxisModel;var i=e.yAxisModel;var a=r.getCoordSysModel();if(true){if(!a){throw new Error('Grid "'+vt(r.get("gridIndex"),r.get("gridId"),0)+'" not found')}if(r.getCoordSysModel()!==i.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var n=a.coordinateSystem;t.coordinateSystem=n.getCartesian(r.componentIndex,i.componentIndex)});return i};t.dimensions=tL;return t}();function fL(t,e){return t.getCoordSysModel()===e}function hL(t,e,r,i){r.getAxesOnZeroOf=function(){return n?[n]:[]};var a=t[e];var n;var o=r.model;var s=o.get(["axisLine","onZero"]);var l=o.get(["axisLine","onZeroAxisIndex"]);if(!s){return}if(l!=null){if(vL(a[l])){n=a[l]}}else{for(var u in a){if(a.hasOwnProperty(u)&&vL(a[u])&&!i[f(a[u])]){n=a[u];break}}}if(n){i[f(n)]=true}function f(t){return t.dim+"_"+t.index}}function vL(t){return t&&t.type!=="category"&&t.type!=="time"&&nI(t)}function cL(t,e){var r=t.getExtent();var i=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(t){return t+e}:function(t){return i-t+e};t.toLocalCoord=t.dim==="x"?function(t){return t-e}:function(t){return i-t+e}}var pL=Math.PI;var dL=function(){function t(t,e){this.group=new En;this.opt=e;this.axisModel=t;E(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true,handleAutoShown:function(){return true}});var r=new En({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform();this._transformGroup=r}t.prototype.hasBuilder=function(t){return!!gL[t]};t.prototype.add=function(t){gL[t](this.opt,this.axisModel,this.group,this._transformGroup)};t.prototype.getGroup=function(){return this.group};t.innerTextLayout=function(t,e,r){var i=vo(e-t);var a;var n;if(co(i)){n=r>0?"top":"bottom";a="center"}else if(co(i-pL)){n=r>0?"bottom":"top";a="center"}else{n="middle";if(i>0&&i<pL){a=r>0?"right":"left"}else{a=r>0?"left":"right"}}return{rotation:i,textAlign:a,textVerticalAlign:n}};t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};e[t.mainType+"Index"]=t.componentIndex;return e};t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};return t}();var gL={axisLine:function(t,e,r,i){var a=e.get(["axisLine","show"]);if(a==="auto"&&t.handleAutoShown){a=t.handleAutoShown("axisLine")}if(!a){return}var n=e.axis.getExtent();var o=i.transform;var s=[n[0],0];var l=[n[1],0];var u=s[0]>l[0];if(o){te(s,s,o);te(l,l,o)}var f=N({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle());var h=new pv({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:f,strokeContainThreshold:t.strokeContainThreshold||5,silent:true,z2:1});rc(h.shape,h.style.lineWidth);h.anid="line";r.add(h);var v=e.get(["axisLine","symbol"]);if(v!=null){var c=e.get(["axisLine","symbolSize"]);if(Q(v)){v=[v,v]}if(Q(c)||et(c)){c=[c,c]}var p=d_(e.get(["axisLine","symbolOffset"])||0,c);var d=c[0];var g=c[1];H([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(e,i){if(v[i]!=="none"&&v[i]!=null){var a=c_(v[i],-d/2,-g/2,d,g,f.stroke,true);var n=e.r+e.offset;var o=u?l:s;a.attr({rotation:e.rotate,x:o[0]+n*Math.cos(t.rotation),y:o[1]-n*Math.sin(t.rotation),silent:true,z2:11});r.add(a)}})}},axisTickLabel:function(t,e,r,i){var a=SL(r,i,e,t);var n=IL(r,i,e,t);mL(e,n,a);ML(r,i,e,t.tickDirection);if(e.get(["axisLabel","hideOverlap"])){var o=ET(W(n,function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}}));FT(o)}},axisName:function(t,e,r,i){var a=ft(t.axisName,e.get("name"));if(!a){return}var n=e.get("nameLocation");var o=t.nameDirection;var s=e.getModel("nameTextStyle");var l=e.get("nameGap")||0;var u=e.axis.getExtent();var f=u[0]>u[1]?-1:1;var h=[n==="start"?u[0]-f*l:n==="end"?u[1]+f*l:(u[0]+u[1])/2,wL(n)?t.labelOffset+o*l:0];var v;var c=e.get("nameRotate");if(c!=null){c=c*pL/180}var p;if(wL(n)){v=dL.innerTextLayout(t.rotation,c!=null?c:t.rotation,o)}else{v=yL(t.rotation,n,c||0,u);p=t.axisNameAvailableWidth;if(p!=null){p=Math.abs(p/Math.sin(v.rotation));!isFinite(p)&&(p=null)}}var d=s.getFont();var g=e.get("nameTruncate",true)||{};var y=g.ellipsis;var m=ft(t.nameTruncateMaxWidth,g.maxWidth,p);var x=new Bu({x:h[0],y:h[1],rotation:v.rotation,silent:dL.isLabelSilent(e),style:Cc(s,{text:a,font:d,overflow:"truncate",width:m,ellipsis:y,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||v.textAlign,verticalAlign:s.get("verticalAlign")||v.textVerticalAlign}),z2:1});mc({el:x,componentModel:e,itemName:a});x.__fullText=a;x.anid="name";if(e.get("triggerEvent")){var _=dL.makeAxisEventDataBase(e);_.targetType="axisName";_.name=a;Qu(x).eventData=_}i.add(x);x.updateTransform();r.add(x);x.decomposeTransform()}};function yL(t,e,r,i){var a=vo(r-t);var n;var o;var s=i[0]>i[1];var l=e==="start"&&!s||e!=="start"&&s;if(co(a-pL/2)){o=l?"bottom":"top";n="center"}else if(co(a-pL*1.5)){o=l?"top":"bottom";n="center"}else{o="middle";if(a<pL*1.5&&a>pL/2){n=l?"left":"right"}else{n=l?"right":"left"}}return{rotation:a,textAlign:n,textVerticalAlign:o}}function mL(t,e,r){if(hI(t.axis)){return}var i=t.get(["axisLabel","showMinLabel"]);var a=t.get(["axisLabel","showMaxLabel"]);e=e||[];r=r||[];var n=e[0];var o=e[1];var s=e[e.length-1];var l=e[e.length-2];var u=r[0];var f=r[1];var h=r[r.length-1];var v=r[r.length-2];if(i===false){xL(n);xL(u)}else if(_L(n,o)){if(i){xL(o);xL(f)}else{xL(n);xL(u)}}if(a===false){xL(s);xL(h)}else if(_L(l,s)){if(a){xL(l);xL(v)}else{xL(s);xL(h)}}}function xL(t){t&&(t.ignore=true)}function _L(t,e){var r=t&&t.getBoundingRect().clone();var i=e&&e.getBoundingRect().clone();if(!r||!i){return}var a=ze([]);Ge(a,a,-t.rotation);r.applyTransform(Be([],a,t.getLocalTransform()));i.applyTransform(Be([],a,e.getLocalTransform()));return r.intersect(i)}function wL(t){return t==="middle"||t==="center"}function bL(t,e,r,i,a){var n=[];var o=[];var s=[];for(var l=0;l<t.length;l++){var u=t[l].coord;o[0]=u;o[1]=0;s[0]=u;s[1]=r;if(e){te(o,o,e);te(s,s,e)}var f=new pv({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:true,silent:true});rc(f.shape,f.style.lineWidth);f.anid=a+"_"+t[l].tickValue;n.push(f)}return n}function SL(t,e,r,i){var a=r.axis;var n=r.getModel("axisTick");var o=n.get("show");if(o==="auto"&&i.handleAutoShown){o=i.handleAutoShown("axisTick")}if(!o||a.scale.isBlank()){return}var s=n.getModel("lineStyle");var l=i.tickDirection*n.get("length");var u=a.getTicksCoords();var f=bL(u,e.transform,l,E(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks");for(var h=0;h<f.length;h++){t.add(f[h])}return f}function ML(t,e,r,i){var a=r.axis;var n=r.getModel("minorTick");if(!n.get("show")||a.scale.isBlank()){return}var o=a.getMinorTicksCoords();if(!o.length){return}var s=n.getModel("lineStyle");var l=i*n.get("length");var u=E(s.getLineStyle(),E(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}));for(var f=0;f<o.length;f++){var h=bL(o[f],e.transform,l,u,"minorticks_"+f);for(var v=0;v<h.length;v++){t.add(h[v])}}}function IL(t,e,r,i){var a=r.axis;var n=ft(i.axisLabelShow,r.get(["axisLabel","show"]));if(!n||a.scale.isBlank()){return}var o=r.getModel("axisLabel");var s=o.get("margin");var l=a.getViewLabels();var u=(ft(i.labelRotate,o.get("rotate"))||0)*pL/180;var f=dL.innerTextLayout(i.rotation,u,i.labelDirection);var h=r.getCategories&&r.getCategories(true);var v=[];var c=dL.isLabelSilent(r);var p=r.get("triggerEvent");H(l,function(n,u){var d=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(n.tickValue):n.tickValue;var g=n.formattedLabel;var y=n.rawLabel;var m=o;if(h&&h[d]){var x=h[d];if(rt(x)&&x.textStyle){m=new qc(x.textStyle,o,r.ecModel)}}var _=m.getTextColor()||r.get(["axisLine","lineStyle","color"]);var w=a.dataToCoord(d);var b=m.getShallow("align",true)||f.textAlign;var S=ht(m.getShallow("alignMinLabel",true),b);var M=ht(m.getShallow("alignMaxLabel",true),b);var I=m.getShallow("verticalAlign",true)||m.getShallow("baseline",true)||f.textVerticalAlign;var T=ht(m.getShallow("verticalAlignMinLabel",true),I);var C=ht(m.getShallow("verticalAlignMaxLabel",true),I);var D=new Bu({x:w,y:i.labelOffset+i.labelDirection*s,rotation:f.rotation,silent:c,z2:10+(n.level||0),style:Cc(m,{text:g,align:u===0?S:u===l.length-1?M:b,verticalAlign:u===0?T:u===l.length-1?C:I,fill:$(_)?_(a.type==="category"?y:a.type==="value"?d+"":d,u):_})});D.anid="label_"+d;mc({el:D,componentModel:r,itemName:g,formatterParamsExtra:{isTruncated:function(){return D.isTruncated},value:y,tickIndex:u}});if(p){var A=dL.makeAxisEventDataBase(r);A.targetType="axisLabel";A.value=y;A.tickIndex=u;if(a.type==="category"){A.dataIndex=d}Qu(D).eventData=A}e.add(D);D.updateTransform();v.push(D);t.add(D);D.decomposeTransform()});return v}function TL(t,e){var r={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};CL(r,t,e);r.seriesInvolved&&AL(r,t);return r}function CL(t,e,r){var i=e.getComponent("tooltip");var a=e.getComponent("axisPointer");var n=a.get("link",true)||[];var o=[];H(r.getCoordinateSystems(),function(r){if(!r.axisPointerEnabled){return}var s=EL(r.model);var l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=r;var u=r.model;var f=u.getModel("tooltip",i);H(r.getAxes(),K(p,false,null));if(r.getTooltipAxes&&i&&f.get("show")){var h=f.get("trigger")==="axis";var v=f.get(["axisPointer","type"])==="cross";var c=r.getTooltipAxes(f.get(["axisPointer","axis"]));if(h||v){H(c.baseAxes,K(p,v?"cross":true,h))}if(v){H(c.otherAxes,K(p,"cross",false))}}function p(i,s,u){var h=u.model.getModel("axisPointer",a);var v=h.get("show");if(!v||v==="auto"&&!i&&!NL(h)){return}if(s==null){s=h.get("triggerTooltip")}h=i?DL(u,f,a,e,i,s):h;var c=h.get("snap");var p=h.get("triggerEmphasis");var d=EL(u.model);var g=s||c||u.type==="category";var y=t.axesInfo[d]={key:d,axis:u,coordSys:r,axisPointerModel:h,triggerTooltip:s,triggerEmphasis:p,involveSeries:g,snap:c,useHandle:NL(h),seriesModels:[],linkGroup:null};l[d]=y;t.seriesInvolved=t.seriesInvolved||g;var m=kL(n,u);if(m!=null){var x=o[m]||(o[m]={axesInfo:{}});x.axesInfo[d]=y;x.mapper=n[m].mapper;y.linkGroup=x}}})}function DL(t,e,r,i,a,n){var o=e.getModel("axisPointer");var s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"];var l={};H(s,function(t){l[t]=P(o.get(t))});l.snap=t.type!=="category"&&!!n;if(o.get("type")==="cross"){l.type="line"}var u=l.label||(l.label={});u.show==null&&(u.show=false);if(a==="cross"){var f=o.get(["label","show"]);u.show=f!=null?f:true;if(!n){var h=l.lineStyle=o.get("crossStyle");h&&E(u,h.textStyle)}}return t.model.getModel("axisPointer",new qc(l,r,i))}function AL(t,e){e.eachSeries(function(e){var r=e.coordinateSystem;var i=e.get(["tooltip","trigger"],true);var a=e.get(["tooltip","show"],true);if(!r||i==="none"||i===false||i==="item"||a===false||e.get(["axisPointer","show"],true)===false){return}H(t.coordSysAxesInfo[EL(r.model)],function(t){var i=t.axis;if(r.getAxis(i.dim)===i){t.seriesModels.push(e);t.seriesDataCount==null&&(t.seriesDataCount=0);t.seriesDataCount+=e.getData().count()}})})}function kL(t,e){var r=e.model;var i=e.dim;for(var a=0;a<t.length;a++){var n=t[a]||{};if(LL(n[i+"AxisId"],r.id)||LL(n[i+"AxisIndex"],r.componentIndex)||LL(n[i+"AxisName"],r.name)){return a}}}function LL(t,e){return t==="all"||J(t)&&V(t,e)>=0||t===e}function PL(t){var e=OL(t);if(!e){return}var r=e.axisPointerModel;var i=e.axis.scale;var a=r.option;var n=r.get("status");var o=r.get("value");if(o!=null){o=i.parse(o)}var s=NL(r);if(n==null){a.status=s?"show":"hide"}var l=i.getExtent().slice();l[0]>l[1]&&l.reverse();if(o==null||o>l[1]){o=l[1]}if(o<l[0]){o=l[0]}a.value=o;if(s){a.status=e.axis.scale.isBlank()?"hide":"show"}}function OL(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[EL(t)]}function RL(t){var e=OL(t);return e&&e.axisPointerModel}function NL(t){return!!t.get(["handle","show"])}function EL(t){return t.type+"||"+t.id}var zL={};var VL=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(e,r,i,a){this.axisPointerClass&&PL(e);t.prototype.render.apply(this,arguments);this._doUpdateAxisPointerClass(e,i,true)};e.prototype.updateAxisPointer=function(t,e,r,i){this._doUpdateAxisPointerClass(t,r,false)};e.prototype.remove=function(t,e){var r=this._axisPointer;r&&r.remove(e)};e.prototype.dispose=function(e,r){this._disposeAxisPointer(r);t.prototype.dispose.apply(this,arguments)};e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(!a){return}var n=RL(t);n?(this._axisPointer||(this._axisPointer=new a)).render(t,n,r,i):this._disposeAxisPointer(r)};e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t);this._axisPointer=null};e.registerAxisPointerClass=function(t,e){if(true){if(zL[t]){throw new Error("axisPointer "+t+" exists")}}zL[t]=e};e.getAxisPointerClass=function(t){return t&&zL[t]};e.type="axis";return e}(Zm);var BL=hs();function FL(t,e,r,i){var a=r.axis;if(a.scale.isBlank()){return}var n=r.getModel("splitArea");var o=n.getModel("areaStyle");var s=o.get("color");var l=i.coordinateSystem.getRect();var u=a.getTicksCoords({tickModel:n,clamp:true});if(!u.length){return}var f=s.length;var h=BL(t).splitAreaColors;var v=Mt();var c=0;if(h){for(var p=0;p<u.length;p++){var d=h.get(u[p].tickValue);if(d!=null){c=(d+(f-1)*p)%f;break}}}var g=a.toGlobalCoord(u[0].coord);var y=o.getAreaStyle();s=J(s)?s:[s];for(var p=1;p<u.length;p++){var m=a.toGlobalCoord(u[p].coord);var x=void 0;var _=void 0;var w=void 0;var b=void 0;if(a.isHorizontal()){x=g;_=l.y;w=m-x;b=l.height;g=x+w}else{x=l.x;_=g;w=l.width;b=m-_;g=_+b}var S=u[p-1].tickValue;S!=null&&v.set(S,c);e.add(new Nu({anid:S!=null?"area_"+S:null,shape:{x:x,y:_,width:w,height:b},style:E({fill:s[c]},y),autoBatch:true,silent:true}));c=(c+1)%f}BL(t).splitAreaColors=v}function GL(t){BL(t).splitAreaColors=null}var HL=["axisLine","axisTickLabel","axisName"];var WL=["splitArea","splitLine","minorSplitLine"];var UL=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="CartesianAxisPointer";return r}e.prototype.render=function(e,r,i,a){this.group.removeAll();var n=this._axisGroup;this._axisGroup=new En;this.group.add(this._axisGroup);if(!e.get("show")){return}var o=e.getCoordSysModel();var s=aL(o,e);var l=new dL(e,N({handleAutoShown:function(t){var r=o.coordinateSystem.getCartesians();for(var i=0;i<r.length;i++){if(tM(r[i].getOtherAxis(e.axis).scale)){return true}}return false}},s));H(HL,l.add,l);this._axisGroup.add(l.getGroup());H(WL,function(t){if(e.get([t,"show"])){YL[t](this,this._axisGroup,e,o)}},this);var u=a&&a.type==="changeAxisOrder"&&a.isInitSort;if(!u){fc(n,this._axisGroup,e)}t.prototype.render.call(this,e,r,i,a)};e.prototype.remove=function(){GL(this)};e.type="cartesianAxis";return e}(VL);var YL={splitLine:function(t,e,r,i){var a=r.axis;if(a.scale.isBlank()){return}var n=r.getModel("splitLine");var o=n.getModel("lineStyle");var s=o.get("color");var l=n.get("showMinLine")!==false;var u=n.get("showMaxLine")!==false;s=J(s)?s:[s];var f=i.coordinateSystem.getRect();var h=a.isHorizontal();var v=0;var c=a.getTicksCoords({tickModel:n});var p=[];var d=[];var g=o.getLineStyle();for(var y=0;y<c.length;y++){var m=a.toGlobalCoord(c[y].coord);if(y===0&&!l||y===c.length-1&&!u){continue}var x=c[y].tickValue;if(h){p[0]=m;p[1]=f.y;d[0]=m;d[1]=f.y+f.height}else{p[0]=f.x;p[1]=m;d[0]=f.x+f.width;d[1]=m}var _=v++%s.length;var w=new pv({anid:x!=null?"line_"+x:null,autoBatch:true,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:E({stroke:s[_]},g),silent:true});rc(w.shape,g.lineWidth);e.add(w)}},minorSplitLine:function(t,e,r,i){var a=r.axis;var n=r.getModel("minorSplitLine");var o=n.getModel("lineStyle");var s=i.coordinateSystem.getRect();var l=a.isHorizontal();var u=a.getMinorTicksCoords();if(!u.length){return}var f=[];var h=[];var v=o.getLineStyle();for(var c=0;c<u.length;c++){for(var p=0;p<u[c].length;p++){var d=a.toGlobalCoord(u[c][p].coord);if(l){f[0]=d;f[1]=s.y;h[0]=d;h[1]=s.y+s.height}else{f[0]=s.x;f[1]=d;h[0]=s.x+s.width;h[1]=d}var g=new pv({anid:"minor_line_"+u[c][p].tickValue,autoBatch:true,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:v,silent:true});rc(g.shape,v.lineWidth);e.add(g)}}},splitArea:function(t,e,r,i){FL(t,e,r,i)}};var XL=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="xAxis";return e}(UL);var ZL=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type=XL.type;return e}e.type="yAxis";return e}(UL);var jL=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="grid";return e}e.prototype.render=function(t,e){this.group.removeAll();if(t.get("show")){this.group.add(new Nu({shape:t.coordinateSystem.getRect(),style:E({fill:t.get("backgroundColor")},t.getItemStyle()),silent:true,z2:-1}))}};e.type="grid";return e}(Zm);var qL={offset:0};function KL(t){t.registerComponentView(jL);t.registerComponentModel(Hk);t.registerCoordinateSystem("cartesian2d",uL);Jk(t,"x",Wk,qL);Jk(t,"y",Wk,qL);t.registerComponentView(XL);t.registerComponentView(ZL);t.registerPreprocessor(function(t){if(t.xAxis&&t.yAxis&&!t.grid){t.grid={}}})}function JL(t){Qb(KL);t.registerSeriesModel(Ek);t.registerChartView(Gk);t.registerLayout(kA("scatter"))}function $L(t){t.eachSeriesByType("radar",function(t){var e=t.getData();var r=[];var i=t.coordinateSystem;if(!i){return}var a=i.getIndicatorAxes();H(a,function(t,n){e.each(e.mapDimension(a[n].dim),function(t,e){r[e]=r[e]||[];var a=i.dataToPoint(t,n);r[e][n]=QL(a)?a:tP(i)})});e.each(function(t){var a=X(r[t],function(t){return QL(t)})||tP(i);r[t].push(a.slice());e.setItemLayout(t,r[t])})})}function QL(t){return!isNaN(t[0])&&!isNaN(t[1])}function tP(t){return[t.cx,t.cy]}function eP(t){var e=t.polar;if(e){if(!J(e)){e=[e]}var r=[];H(e,function(e,i){if(e.indicator){if(e.type&&!e.shape){e.shape=e.type}t.radar=t.radar||[];if(!J(t.radar)){t.radar=[t.radar]}t.radar.push(e)}else{r.push(e)}});t.polar=r}H(t.series,function(t){if(t&&t.type==="radar"&&t.polarIndex){t.radarIndex=t.polarIndex}})}var rP=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.coordinateSystem;var a=this.group;var n=t.getData();var o=this._data;function s(t,e){var r=t.getItemVisual(e,"symbol")||"circle";if(r==="none"){return}var i=p_(t.getItemVisual(e,"symbolSize"));var a=c_(r,-1,-1,2,2);var n=t.getItemVisual(e,"symbolRotate")||0;a.attr({style:{strokeNoScale:true},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:n*Math.PI/180||0});return a}function l(e,r,i,a,n,o){i.removeAll();for(var l=0;l<r.length-1;l++){var u=s(a,n);if(u){u.__dimIdx=l;if(e[l]){u.setPosition(e[l]);wc[o?"initProps":"updateProps"](u,{x:r[l][0],y:r[l][1]},t,n)}else{u.setPosition(r[l])}i.add(u)}}}function u(t){return W(t,function(t){return[i.cx,i.cy]})}n.diff(o).add(function(e){var r=n.getItemLayout(e);if(!r){return}var i=new uv;var a=new hv;var o={shape:{points:r}};i.shape.points=u(r);a.shape.points=u(r);Ev(i,o,t,e);Ev(a,o,t,e);var s=new En;var f=new En;s.add(a);s.add(i);s.add(f);l(a.shape.points,r,f,n,e,true);n.setItemGraphicEl(e,s)}).update(function(e,r){var i=o.getItemGraphicEl(r);var a=i.childAt(0);var s=i.childAt(1);var u=i.childAt(2);var f={shape:{points:n.getItemLayout(e)}};if(!f.shape.points){return}l(a.shape.points,f.shape.points,u,n,e,false);Gv(s);Gv(a);Nv(a,f,t);Nv(s,f,t);n.setItemGraphicEl(e,i)}).remove(function(t){a.remove(o.getItemGraphicEl(t))}).execute();n.eachItemGraphicEl(function(t,e){var r=n.getItemModel(e);var i=t.childAt(0);var o=t.childAt(1);var s=t.childAt(2);var l=n.getItemVisual(e,"style");var u=l.fill;a.add(t);i.useStyle(E(r.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u}));oh(i,r,"lineStyle");oh(o,r,"areaStyle");var f=r.getModel("areaStyle");var h=f.isEmpty()&&f.parentModel.isEmpty();o.ignore=h;H(["emphasis","select","blur"],function(t){var e=r.getModel([t,"areaStyle"]);var i=e.isEmpty()&&e.parentModel.isEmpty();o.ensureState(t).ignore=i&&h});o.useStyle(E(f.getAreaStyle(),{fill:u,opacity:.7,decal:l.decal}));var v=r.getModel("emphasis");var c=v.getModel("itemStyle").getItemStyle();s.eachChild(function(t){if(t instanceof Cu){var i=t.style;t.useStyle(N({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else{t.useStyle(l);t.setColor(u);t.style.strokeNoScale=true}var a=t.ensureState("emphasis");a.style=P(c);var o=n.getStore().get(n.getDimensionIndex(t.__dimIdx),e);(o==null||isNaN(o))&&(o="");Ic(t,Tc(r),{labelFetcher:n.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:o,inheritColor:u,defaultOpacity:l.opacity})});rh(t,v.get("focus"),v.get("blurScope"),v.get("disabled"))});this._data=n};e.prototype.remove=function(){this.group.removeAll();this._data=null};e.type="radar";return e}(Jm);var iP=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Lk(q(this.getData,this),q(this.getRawData,this))};e.prototype.getInitialData=function(t,e){return kk(this,{generateCoord:"indicator_",generateCoordCount:Infinity})};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.coordinateSystem;var n=a.getIndicatorAxes();var o=this.getData().getName(t);var s=o===""?this.name:o;var l=km(this,t);return ym("section",{header:s,sortBlocks:true,blocks:W(n,function(e){var r=i.get(i.mapDimension(e.dim),t);return ym("nameValue",{markerType:"subItem",markerColor:l,name:e.name,value:r,sortParam:r})})})};e.prototype.getTooltipPosition=function(t){if(t!=null){var e=this.getData();var r=this.coordinateSystem;var i=e.getValues(W(r.dimensions,function(t){return e.mapDimension(t)}),t);for(var a=0,n=i.length;a<n;a++){if(!isNaN(i[a])){var o=r.getIndicatorAxes();return r.coordToPoint(o[a].dataToCoord(i[a]),a)}}}};e.type="series.radar";e.dependencies=["radar"];e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8};return e}(Vm);var aP=qk.value;function nP(t,e){return E({show:e},t)}var oP=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){var t=this.get("boundaryGap");var e=this.get("splitNumber");var r=this.get("scale");var i=this.get("axisLine");var a=this.get("axisTick");var n=this.get("axisLabel");var o=this.get("axisName");var s=this.get(["axisName","show"]);var l=this.get(["axisName","formatter"]);var u=this.get("axisNameGap");var f=this.get("triggerEvent");var h=W(this.get("indicator")||[],function(h){if(h.max!=null&&h.max>0&&!h.min){h.min=0}else if(h.min!=null&&h.min<0&&!h.max){h.max=0}var v=o;if(h.color!=null){v=E({color:h.color},o)}var c=O(P(h),{boundaryGap:t,splitNumber:e,scale:r,axisLine:i,axisTick:a,axisLabel:n,name:h.text,showName:s,nameLocation:"end",nameGap:u,nameTextStyle:v,triggerEvent:f},false);if(Q(l)){var p=c.name;c.name=l.replace("{value}",p!=null?p:"")}else if($(l)){c.name=l(c.name,c)}var d=new qc(c,null,this.ecModel);F(d,pI.prototype);d.mainType="radar";d.componentIndex=this.componentIndex;return d},this);this._indicatorModels=h};e.prototype.getIndicatorModels=function(){return this._indicatorModels};e.type="radar";e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:true},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:false,shape:"polygon",axisLine:O({lineStyle:{color:"#bbb"}},aP.axisLine),axisLabel:nP(aP.axisLabel,false),axisTick:nP(aP.axisTick,false),splitLine:nP(aP.splitLine,true),splitArea:nP(aP.splitArea,true),indicator:[]};return e}(wd);var sP=["axisLine","axisTickLabel","axisName"];var lP=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;i.removeAll();this._buildAxes(t);this._buildSplitLineAndArea(t)};e.prototype._buildAxes=function(t){var e=t.coordinateSystem;var r=e.getIndicatorAxes();var i=W(r,function(t){var r=t.model.get("showName")?t.name:"";var i=new dL(t.model,{axisName:r,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return i});H(i,function(t){H(sP,t.add,t);this.group.add(t.getGroup())},this)};e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem;var r=e.getIndicatorAxes();if(!r.length){return}var i=t.get("shape");var a=t.getModel("splitLine");var n=t.getModel("splitArea");var o=a.getModel("lineStyle");var s=n.getModel("areaStyle");var l=a.get("show");var u=n.get("show");var f=o.get("color");var h=s.get("color");var v=J(f)?f:[f];var c=J(h)?h:[h];var p=[];var d=[];function g(t,e,r){var i=r%e.length;t[i]=t[i]||[];return i}if(i==="circle"){var y=r[0].getTicksCoords();var m=e.cx;var x=e.cy;for(var _=0;_<y.length;_++){if(l){var w=g(p,v,_);p[w].push(new Vh({shape:{cx:m,cy:x,r:y[_].coord}}))}if(u&&_<y.length-1){var w=g(d,c,_);d[w].push(new nv({shape:{cx:m,cy:x,r0:y[_].coord,r:y[_+1].coord}}))}}}else{var b;var S=W(r,function(t,r){var i=t.getTicksCoords();b=b==null?i.length-1:Math.min(i.length-1,b);return W(i,function(t){return e.coordToPoint(t.coord,r)})});var M=[];for(var _=0;_<=b;_++){var I=[];for(var T=0;T<r.length;T++){I.push(S[T][_])}if(I[0]){I.push(I[0].slice())}else{if(true){console.error("Can't draw value axis "+_)}}if(l){var w=g(p,v,_);p[w].push(new hv({shape:{points:I}}))}if(u&&M){var w=g(d,c,_-1);d[w].push(new uv({shape:{points:I.concat(M)}}))}M=I.slice().reverse()}}var C=o.getLineStyle();var D=s.getAreaStyle();H(d,function(t,e){this.group.add(tc(t,{style:E({stroke:"none",fill:c[e%c.length]},D),silent:true}))},this);H(p,function(t,e){this.group.add(tc(t,{style:E({fill:"none",stroke:v[e%v.length]},C),silent:true}))},this)};e.type="radar";return e}(Zm);var uP=function(t){i(e,t);function e(e,r,i){var a=t.call(this,e,r,i)||this;a.type="value";a.angle=0;a.name="";return a}return e}(nT);var fP=function(){function t(t,e,r){this.dimensions=[];this._model=t;this._indicatorAxes=W(t.getIndicatorModels(),function(t,e){var r="indicator_"+e;var i=new uP(r,new hM);i.name=t.get("name");i.model=t;t.axis=i;this.dimensions.push(r);return i},this);this.resize(t,r)}t.prototype.getIndicatorAxes=function(){return this._indicatorAxes};t.prototype.dataToPoint=function(t,e){var r=this._indicatorAxes[e];return this.coordToPoint(r.dataToCoord(t),e)};t.prototype.coordToPoint=function(t,e){var r=this._indicatorAxes[e];var i=r.angle;var a=this.cx+t*Math.cos(i);var n=this.cy-t*Math.sin(i);return[a,n]};t.prototype.pointToData=function(t){var e=t[0]-this.cx;var r=t[1]-this.cy;var i=Math.sqrt(e*e+r*r);e/=i;r/=i;var a=Math.atan2(-r,e);var n=Infinity;var o;var s=-1;for(var l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l];var f=Math.abs(a-u.angle);if(f<n){o=u;s=l;n=f}}return[s,+(o&&o.coordToData(i))]};t.prototype.resize=function(t,e){var r=t.get("center");var i=e.getWidth();var a=e.getHeight();var n=Math.min(i,a)/2;this.cx=ro(r[0],i);this.cy=ro(r[1],a);this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");if(Q(o)||et(o)){o=[0,o]}this.r0=ro(o[0],n);this.r=ro(o[1],n);H(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var r=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;r=Math.atan2(Math.sin(r),Math.cos(r));t.angle=r},this)};t.prototype.update=function(t,e){var r=this._indicatorAxes;var i=this._model;H(r,function(t){t.scale.setExtent(Infinity,-Infinity)});t.eachSeriesByType("radar",function(e,a){if(e.get("coordinateSystem")!=="radar"||t.getComponent("radar",e.get("radarIndex"))!==i){return}var n=e.getData();H(r,function(t){t.scale.unionExtentFromData(n,n.mapDimension(t.dim))})},this);var a=i.get("splitNumber");var n=new hM;n.setExtent(0,a);n.setInterval(1);H(r,function(t,e){lL(t.scale,t.model,n)})};t.prototype.convertToPixel=function(t,e,r){console.warn("Not implemented.");return null};t.prototype.convertFromPixel=function(t,e,r){console.warn("Not implemented.");return null};t.prototype.containPoint=function(t){console.warn("Not implemented.");return false};t.create=function(e,r){var i=[];e.eachComponent("radar",function(a){var n=new t(a,e,r);i.push(n);a.coordinateSystem=n});e.eachSeriesByType("radar",function(t){if(t.get("coordinateSystem")==="radar"){t.coordinateSystem=i[t.get("radarIndex")||0]}});return i};t.dimensions=[];return t}();function hP(t){t.registerCoordinateSystem("radar",fP);t.registerComponentModel(oP);t.registerComponentView(lP);t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(t){e.setItemVisual(t,"legendIcon","roundRect")});e.setVisual("legendIcon","roundRect")}})}function vP(t){Qb(hP);t.registerChartView(rP);t.registerSeriesModel(iP);t.registerLayout($L);t.registerProcessor(wk("radar"));t.registerPreprocessor(eP)}var cP="\0_ec_interaction_mutex";function pP(t,e,r){var i=yP(t);i[e]=r}function dP(t,e,r){var i=yP(t);var a=i[e];if(a===r){i[e]=null}}function gP(t,e){return!!yP(t)[e]}function yP(t){return t[cP]||(t[cP]={})}Vb({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},At);var mP=function(t){i(e,t);function e(e){var r=t.call(this)||this;r._zr=e;var i=q(r._mousedownHandler,r);var a=q(r._mousemoveHandler,r);var n=q(r._mouseupHandler,r);var o=q(r._mousewheelHandler,r);var s=q(r._pinchHandler,r);r.enable=function(t,r){this.disable();this._opt=E(P(r)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(t==null){t=true}if(t===true||t==="move"||t==="pan"){e.on("mousedown",i);e.on("mousemove",a);e.on("mouseup",n)}if(t===true||t==="scale"||t==="zoom"){e.on("mousewheel",o);e.on("pinch",s)}};r.disable=function(){e.off("mousedown",i);e.off("mousemove",a);e.off("mouseup",n);e.off("mousewheel",o);e.off("pinch",s)};return r}e.prototype.isDragging=function(){return this._dragging};e.prototype.isPinching=function(){return this._pinching};e.prototype.setPointerChecker=function(t){this.pointerChecker=t};e.prototype.dispose=function(){this.disable()};e.prototype._mousedownHandler=function(t){if(Le(t)){return}var e=t.target;while(e){if(e.draggable){return}e=e.__hostTarget||e.parent}var r=t.offsetX;var i=t.offsetY;if(this.pointerChecker&&this.pointerChecker(t,r,i)){this._x=r;this._y=i;this._dragging=true}};e.prototype._mousemoveHandler=function(t){if(!this._dragging||!wP("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||gP(this._zr,"globalPan")){return}var e=t.offsetX;var r=t.offsetY;var i=this._x;var a=this._y;var n=e-i;var o=r-a;this._x=e;this._y=r;this._opt.preventDefaultMouseMove&&ke(t.event);_P(this,"pan","moveOnMouseMove",t,{dx:n,dy:o,oldX:i,oldY:a,newX:e,newY:r,isAvailableBehavior:null})};e.prototype._mouseupHandler=function(t){if(!Le(t)){this._dragging=false}};e.prototype._mousewheelHandler=function(t){var e=wP("zoomOnMouseWheel",t,this._opt);var r=wP("moveOnMouseWheel",t,this._opt);var i=t.wheelDelta;var a=Math.abs(i);var n=t.offsetX;var o=t.offsetY;if(i===0||!e&&!r){return}if(e){var s=a>3?1.4:a>1?1.2:1.1;var l=i>0?s:1/s;xP(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:n,originY:o,isAvailableBehavior:null})}if(r){var u=Math.abs(i);var f=(i>0?1:-1)*(u>3?.4:u>1?.15:.05);xP(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:n,originY:o,isAvailableBehavior:null})}};e.prototype._pinchHandler=function(t){if(gP(this._zr,"globalPan")){return}var e=t.pinchScale>1?1.1:1/1.1;xP(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})};return e}(oe);function xP(t,e,r,i,a){if(t.pointerChecker&&t.pointerChecker(i,a.originX,a.originY)){ke(i.event);_P(t,e,r,i,a)}}function _P(t,e,r,i,a){a.isAvailableBehavior=q(wP,null,r,i);t.trigger(e,a)}function wP(t,e,r){var i=r[t];return!t||i&&(!Q(i)||e.event[i+"Key"])}function bP(t,e,r){var i=t.target;i.x+=e;i.y+=r;i.dirty()}function SP(t,e,r,i){var a=t.target;var n=t.zoomLimit;var o=t.zoom=t.zoom||1;o*=e;if(n){var s=n.min||0;var l=n.max||Infinity;o=Math.max(Math.min(l,o),s)}var u=o/t.zoom;t.zoom=o;a.x-=(r-a.x)*(u-1);a.y-=(i-a.y)*(u-1);a.scaleX*=u;a.scaleY*=u;a.dirty()}var MP={axisPointer:1,tooltip:1,brush:1};function IP(t,e,r){var i=e.getComponentByElement(t.topTarget);var a=i&&i.coordinateSystem;return i&&i!==r&&!MP.hasOwnProperty(i.mainType)&&a&&a.model!==r}function TP(t){if(Q(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var r=t;if(r.nodeType===9){r=r.firstChild}while(r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1){r=r.nextSibling}return r}var CP;var DP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"};var AP=Z(DP);var kP={"alignment-baseline":"textBaseline","stop-color":"stopColor"};var LP=Z(kP);var PP=function(){function t(){this._defs={};this._root=null}t.prototype.parse=function(t,e){e=e||{};var r=TP(t);if(true){if(!r){throw new Error("Illegal svg")}}this._defsUsePending=[];var i=new En;this._root=i;var a=[];var n=r.getAttribute("viewBox")||"";var o=parseFloat(r.getAttribute("width")||e.width);var s=parseFloat(r.getAttribute("height")||e.height);isNaN(o)&&(o=null);isNaN(s)&&(s=null);VP(r,i,null,true,false);var l=r.firstChild;while(l){this._parseNode(l,i,a,null,false,false);l=l.nextSibling}HP(this._defs,this._defsUsePending);this._defsUsePending=[];var u;var f;if(n){var h=UP(n);if(h.length>=4){u={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])}}}if(u&&o!=null&&s!=null){f=JP(u,{x:0,y:0,width:o,height:s});if(!e.ignoreViewBox){var v=i;i=new En;i.add(v);v.scaleX=v.scaleY=f.scale;v.x=f.x;v.y=f.y}}if(!e.ignoreRootClip&&o!=null&&s!=null){i.setClipPath(new Nu({shape:{x:0,y:0,width:o,height:s}}))}return{root:i,width:o,height:s,viewBoxRect:u,viewBoxTransform:f,named:a}};t.prototype._parseNode=function(t,e,r,i,a,n){var o=t.nodeName.toLowerCase();var s;var l=i;if(o==="defs"){a=true}if(o==="text"){n=true}if(o==="defs"||o==="switch"){s=e}else{if(!a){var u=CP[o];if(u&&Dt(CP,o)){s=u.call(this,t,e);var f=t.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:s};r.push(h);if(o==="g"){l=h}}else if(i){r.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:s})}e.add(s)}}var v=OP[o];if(v&&Dt(OP,o)){var c=v.call(this,t);var p=t.getAttribute("id");if(p){this._defs[p]=c}}}if(s&&s.isGroup){var d=t.firstChild;while(d){if(d.nodeType===1){this._parseNode(d,s,r,l,a,n)}else if(d.nodeType===3&&n){this._parseText(d,s)}d=d.nextSibling}}};t.prototype._parseText=function(t,e){var r=new Su({style:{text:t.textContent},silent:true,x:this._textX||0,y:this._textY||0});EP(e,r);VP(t,r,this._defsUsePending,false,false);BP(r,e);var i=r.style;var a=i.fontSize;if(a&&a<9){i.fontSize=9;r.scaleX*=a/9;r.scaleY*=a/9}var n=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=n;var o=r.getBoundingRect();this._textX+=o.width;e.add(r);return r};t.internalField=function(){CP={g:function(t,e){var r=new En;EP(e,r);VP(t,r,this._defsUsePending,false,false);return r},rect:function(t,e){var r=new Nu;EP(e,r);VP(t,r,this._defsUsePending,false,false);r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")});r.silent=true;return r},circle:function(t,e){var r=new Vh;EP(e,r);VP(t,r,this._defsUsePending,false,false);r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")});r.silent=true;return r},line:function(t,e){var r=new pv;EP(e,r);VP(t,r,this._defsUsePending,false,false);r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")});r.silent=true;return r},ellipse:function(t,e){var r=new Fh;EP(e,r);VP(t,r,this._defsUsePending,false,false);r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")});r.silent=true;return r},polygon:function(t,e){var r=t.getAttribute("points");var i;if(r){i=zP(r)}var a=new uv({shape:{points:i||[]},silent:true});EP(e,a);VP(t,a,this._defsUsePending,false,false);return a},polyline:function(t,e){var r=t.getAttribute("points");var i;if(r){i=zP(r)}var a=new hv({shape:{points:i||[]},silent:true});EP(e,a);VP(t,a,this._defsUsePending,false,false);return a},image:function(t,e){var r=new Cu;EP(e,r);VP(t,r,this._defsUsePending,false,false);r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")});r.silent=true;return r},text:function(t,e){var r=t.getAttribute("x")||"0";var i=t.getAttribute("y")||"0";var a=t.getAttribute("dx")||"0";var n=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a);this._textY=parseFloat(i)+parseFloat(n);var o=new En;EP(e,o);VP(t,o,this._defsUsePending,false,true);return o},tspan:function(t,e){var r=t.getAttribute("x");var i=t.getAttribute("y");if(r!=null){this._textX=parseFloat(r)}if(i!=null){this._textY=parseFloat(i)}var a=t.getAttribute("dx")||"0";var n=t.getAttribute("dy")||"0";var o=new En;EP(e,o);VP(t,o,this._defsUsePending,false,true);this._textX+=parseFloat(a);this._textY+=parseFloat(n);return o},path:function(t,e){var r=t.getAttribute("d")||"";var i=Oh(r);EP(e,i);VP(t,i,this._defsUsePending,false,false);i.silent=true;return i}}}();return t}();var OP={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10);var r=parseInt(t.getAttribute("y1")||"0",10);var i=parseInt(t.getAttribute("x2")||"10",10);var a=parseInt(t.getAttribute("y2")||"0",10);var n=new Sv(e,r,i,a);RP(t,n);NP(t,n);return n},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10);var r=parseInt(t.getAttribute("cy")||"0",10);var i=parseInt(t.getAttribute("r")||"0",10);var a=new Mv(e,r,i);RP(t,a);NP(t,a);return a}};function RP(t,e){var r=t.getAttribute("gradientUnits");if(r==="userSpaceOnUse"){e.global=true}}function NP(t,e){var r=t.firstChild;while(r){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var i=r.getAttribute("offset");var a=void 0;if(i&&i.indexOf("%")>0){a=parseInt(i,10)/100}else if(i){a=parseFloat(i)}else{a=0}var n={};qP(r,n,n);var o=n.stopColor||r.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:a,color:o})}r=r.nextSibling}}function EP(t,e){if(t&&t.__inheritedStyle){if(!e.__inheritedStyle){e.__inheritedStyle={}}E(e.__inheritedStyle,t.__inheritedStyle)}}function zP(t){var e=UP(t);var r=[];for(var i=0;i<e.length;i+=2){var a=parseFloat(e[i]);var n=parseFloat(e[i+1]);r.push([a,n])}return r}function VP(t,e,r,i,a){var n=e;var o=n.__inheritedStyle=n.__inheritedStyle||{};var s={};if(t.nodeType===1){ZP(t,e);qP(t,o,s);if(!i){KP(t,o,s)}}n.style=n.style||{};if(o.fill!=null){n.style.fill=GP(n,"fill",o.fill,r)}if(o.stroke!=null){n.style.stroke=GP(n,"stroke",o.stroke,r)}H(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){if(o[t]!=null){n.style[t]=parseFloat(o[t])}});H(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(t){if(o[t]!=null){n.style[t]=o[t]}});if(a){n.__selfStyle=s}if(o.lineDash){n.style.lineDash=W(UP(o.lineDash),function(t){return parseFloat(t)})}if(o.visibility==="hidden"||o.visibility==="collapse"){n.invisible=true}if(o.display==="none"){n.ignore=true}}function BP(t,e){var r=e.__selfStyle;if(r){var i=r.textBaseline;var a=i;if(!i||i==="auto"){a="alphabetic"}else if(i==="baseline"){a="alphabetic"}else if(i==="before-edge"||i==="text-before-edge"){a="top"}else if(i==="after-edge"||i==="text-after-edge"){a="bottom"}else if(i==="central"||i==="mathematical"){a="middle"}t.style.textBaseline=a}var n=e.__inheritedStyle;if(n){var o=n.textAlign;var s=o;if(o){if(o==="middle"){s="center"}t.style.textAlign=s}}}var FP=/^url\(\s*#(.*?)\)/;function GP(t,e,r,i){var a=r&&r.match(FP);if(a){var n=gt(a[1]);i.push([t,e,n]);return}if(r==="none"){r=null}return r}function HP(t,e){for(var r=0;r<e.length;r++){var i=e[r];i[0].style[i[1]]=t[i[2]]}}var WP=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function UP(t){return t.match(WP)||[]}var YP=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g;var XP=Math.PI/180;function ZP(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var i=[];var a=null;r.replace(YP,function(t,e,r){i.push(e,r);return""});for(var n=i.length-1;n>0;n-=2){var o=i[n];var s=i[n-1];var l=UP(o);a=a||Ee();switch(s){case"translate":Fe(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":He(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ge(a,a,-parseFloat(l[0])*XP,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*XP);Be(a,[1,0,u,1,0,0],a);break;case"skewY":var f=Math.tan(parseFloat(l[0])*XP);Be(a,[1,f,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]);a[1]=parseFloat(l[1]);a[2]=parseFloat(l[2]);a[3]=parseFloat(l[3]);a[4]=parseFloat(l[4]);a[5]=parseFloat(l[5]);break}}e.setLocalTransform(a)}}var jP=/([^\s:;]+)\s*:\s*([^:;]+)/g;function qP(t,e,r){var i=t.getAttribute("style");if(!i){return}jP.lastIndex=0;var a;while((a=jP.exec(i))!=null){var n=a[1];var o=Dt(DP,n)?DP[n]:null;if(o){e[o]=a[2]}var s=Dt(kP,n)?kP[n]:null;if(s){r[s]=a[2]}}}function KP(t,e,r){for(var i=0;i<AP.length;i++){var a=AP[i];var n=t.getAttribute(a);if(n!=null){e[DP[a]]=n}}for(var i=0;i<LP.length;i++){var a=LP[i];var n=t.getAttribute(a);if(n!=null){r[kP[a]]=n}}}function JP(t,e){var r=e.width/t.width;var i=e.height/t.height;var a=Math.min(r,i);return{scale:a,x:-(t.x+t.width/2)*a+(e.x+e.width/2),y:-(t.y+t.height/2)*a+(e.y+e.height/2)}}function $P(t,e){var r=new PP;return r.parse(t,e)}var QP=Mt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]);var tO=function(){function t(t,e){this.type="geoSVG";this._usedGraphicMap=Mt();this._freedGraphics=[];this._mapName=t;this._parsedXML=TP(e)}t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML);this._freedGraphics.push(t);this._boundingRect=this._firstGraphic.boundingRect.clone();var e=rO(t.named),r=e.regions,i=e.regionsMap;this._regions=r;this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}};t.prototype._buildGraphic=function(t){var e;var r;try{e=t&&$P(t,{ignoreViewBox:true,ignoreRootClip:true})||{};r=e.root;dt(r!=null)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var i=new En;i.add(r);i.isGeoSVGGraphicRoot=true;var a=e.width;var n=e.height;var o=e.viewBoxRect;var s=this._boundingRect;if(!s){var l=void 0;var u=void 0;var f=void 0;var h=void 0;if(a!=null){l=0;f=a}else if(o){l=o.x;f=o.width}if(n!=null){u=0;h=n}else if(o){u=o.y;h=o.height}if(l==null||u==null){var v=r.getBoundingRect();if(l==null){l=v.x;f=v.width}if(u==null){u=v.y;h=v.height}}s=this._boundingRect=new er(l,u,f,h)}if(o){var c=JP(o,s);r.scaleX=r.scaleY=c.scale;r.x=c.x;r.y=c.y}i.setClipPath(new Nu({shape:s.plain()}));var p=[];H(e.named,function(t){if(QP.get(t.svgNodeTagLower)!=null){p.push(t);eO(t.el)}});return{root:i,boundingRect:s,named:p}};t.prototype.useGraphic=function(t){var e=this._usedGraphicMap;var r=e.get(t);if(r){return r}r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML);e.set(t,r);return r};t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap;var r=e.get(t);if(r){e.removeKey(t);this._freedGraphics.push(r)}};return t}();function eO(t){t.silent=false;if(t.isGroup){t.traverse(function(t){t.silent=false})}}function rO(t){var e=[];var r=Mt();H(t,function(t){if(t.namedFrom!=null){return}var i=new PI(t.name,t.el);e.push(i);r.set(t.name,i)});return{regions:e,regionsMap:r}}var iO=[126,25];var aO="";var nO=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var oO=0;oO<nO.length;oO++){for(var sO=0;sO<nO[oO].length;sO++){nO[oO][sO][0]/=10.5;nO[oO][sO][1]/=-10.5/.75;nO[oO][sO][0]+=iO[0];nO[oO][sO][1]+=iO[1]}}function lO(t,e){if(t==="china"){for(var r=0;r<e.length;r++){if(e[r].name===aO){return}}e.push(new LI(aO,W(nO,function(t){return{type:"polygon",exterior:t}}),iO))}}var uO={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};function fO(t,e){if(t==="china"){var r=uO[e.name];if(r){var i=e.getCenter();i[0]+=r[0]/10.5;i[1]+=-r[1]/(10.5/.75);e.setCenter(i)}}}var hO=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function vO(t,e){if(t==="china"&&e.name===""){e.geometries.push({type:"polygon",exterior:hO[0]})}}var cO="name";var pO=function(){function t(t,e,r){this.type="geoJSON";this._parsedMap=Mt();this._mapName=t;this._specialAreas=r;this._geoJSON=gO(e)}t.prototype.load=function(t,e){e=e||cO;var r=this._parsedMap.get(e);if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:dO(i)})}var a=Mt();var n=[];H(r.regions,function(e){var r=e.name;if(t&&Dt(t,r)){e=e.cloneShallow(r=t[r])}n.push(e);a.set(r,e)});return{regions:n,boundingRect:r.boundingRect||new er(0,0,0,0),regionsMap:a}};t.prototype._parseToRegions=function(t){var e=this._mapName;var r=this._geoJSON;var i;try{i=r?EI(r,t):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}lO(e,i);H(i,function(t){var r=t.name;fO(e,t);vO(e,t);var i=this._specialAreas&&this._specialAreas[r];if(i){t.transformTo(i.left,i.top,i.width,i.height)}},this);return i};t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};return t}();function dO(t){var e;for(var r=0;r<t.length;r++){var i=t[r].getBoundingRect();e=e||i.clone();e.union(i)}return e}function gO(t){return!Q(t)?t:typeof JSON!=="undefined"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")()}var yO=Mt();var mO={registerMap:function(t,e,r){if(e.svg){var i=new tO(t,e.svg);yO.set(t,i)}else{var a=e.geoJson||e.geoJSON;if(a&&!e.features){r=e.specialAreas}else{a=e}var i=new pO(t,a,r);yO.set(t,i)}},getGeoResource:function(t){return yO.get(t)},getMapForUser:function(t){var e=yO.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(t,e,r){var i=yO.get(t);if(!i){if(true){console.error("Map "+t+" not exists. The GeoJSON of the map must be provided.")}return}return i.load(e,r)}};var xO=["rect","circle","line","ellipse","polygon","polyline","path"];var _O=Mt(xO);var wO=Mt(xO.concat(["g"]));var bO=Mt(xO.concat(["g"]));var SO=hs();function MO(t){var e=t.getItemStyle();var r=t.get("areaColor");if(r!=null){e.fill=r}return e}function IO(t){var e=t.style;if(e){e.stroke=e.stroke||e.fill;e.fill=null}}var TO=function(){function t(t){var e=new En;this.uid=Jc("ec_map_draw");this._controller=new mP(t.getZr());this._controllerHost={target:e};this.group=e;e.add(this._regionsGroup=new En);e.add(this._svgGroup=new En)}t.prototype.draw=function(t,e,r,i,a){var n=t.mainType==="geo";var o=t.getData&&t.getData();n&&e.eachComponent({mainType:"series",subType:"map"},function(e){if(!o&&e.getHostGeoModel()===t){o=e.getData()}});var s=t.coordinateSystem;var l=this._regionsGroup;var u=this.group;var f=s.getTransformInfo();var h=f.raw;var v=f.roam;var c=!l.childAt(0)||a;if(c){u.x=v.x;u.y=v.y;u.scaleX=v.scaleX;u.scaleY=v.scaleY;u.dirty()}else{Nv(u,v,t)}var p=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0;var d={api:r,geo:s,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:p,isGeo:n,transformInfoRaw:h};if(s.resourceType==="geoJSON"){this._buildGeoJSON(d)}else if(s.resourceType==="geoSVG"){this._buildSVG(d)}this._updateController(t,e,r);this._updateMapSelectHandler(t,l,r,i)};t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Mt();var r=Mt();var i=this._regionsGroup;var a=t.transformInfoRaw;var n=t.mapOrGeoModel;var o=t.data;var s=t.geo.projection;var l=s&&s.stream;function u(t,e){if(e){t=e(t)}return t&&[t[0]*a.scaleX+a.x,t[1]*a.scaleY+a.y]}function f(t){var e=[];var r=!l&&s&&s.project;for(var i=0;i<t.length;++i){var a=u(t[i],r);a&&e.push(a)}return e}function h(t){return{shape:{points:f(t)}}}i.removeAll();H(t.geo.regions,function(a){var f=a.name;var v=e.get(f);var c=r.get(f)||{},p=c.dataIdx,d=c.regionModel;if(!v){v=e.set(f,new En);i.add(v);p=o?o.indexOfName(f):null;d=t.isGeo?n.getRegionModel(f):o?o.getItemModel(p):null;var g=d.get("silent",true);g!=null&&(v.silent=g);r.set(f,{dataIdx:p,regionModel:d})}var y=[];var m=[];H(a.geometries,function(t){if(t.type==="polygon"){var e=[t.exterior].concat(t.interiors||[]);if(l){e=PO(e,l)}H(e,function(t){y.push(new uv(h(t)))})}else{var r=t.points;if(l){r=PO(r,l,true)}H(r,function(t){m.push(new hv(h(t)))})}});var x=u(a.getCenter(),s&&s.project);function _(e,r){if(!e.length){return}var i=new wv({culling:true,segmentIgnoreThreshold:1,shape:{paths:e}});v.add(i);CO(t,i,p,d);DO(t,i,f,d,n,p,x);if(r){IO(i);H(i.states,IO)}}_(y);_(m,true)});e.each(function(e,i){var a=r.get(i),o=a.dataIdx,s=a.regionModel;AO(t,e,i,s,n,o);kO(t,e,i,s,n);LO(t,e,i,s,n)},this)};t.prototype._buildSVG=function(t){var e=t.geo.map;var r=t.transformInfoRaw;this._svgGroup.x=r.x;this._svgGroup.y=r.y;this._svgGroup.scaleX=r.scaleX;this._svgGroup.scaleY=r.scaleY;if(this._svgResourceChanged(e)){this._freeSVG();this._useSVG(e)}var i=this._svgDispatcherMap=Mt();var a=false;H(this._svgGraphicRecord.named,function(e){var r=e.name;var n=t.mapOrGeoModel;var o=t.data;var s=e.svgNodeTagLower;var l=e.el;var u=o?o.indexOfName(r):null;var f=n.getRegionModel(r);if(_O.get(s)!=null&&l instanceof cl){CO(t,l,u,f)}if(l instanceof cl){l.culling=true}var h=f.get("silent",true);h!=null&&(l.silent=h);l.z2EmphasisLift=0;if(!e.namedFrom){if(bO.get(s)!=null){DO(t,l,r,f,n,u,null)}AO(t,l,r,f,n,u);kO(t,l,r,f,n);if(wO.get(s)!=null){var v=LO(t,l,r,f,n);if(v==="self"){a=true}var c=i.get(r)||i.set(r,[]);c.push(l)}}},this);this._enableBlurEntireSVG(a,t)};t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var r=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle();var i=r.opacity;this._svgGraphicRecord.root.traverse(function(t){if(!t.isGroup){Rf(t);var e=t.ensureState("blur").style||{};if(e.opacity==null&&i!=null){e.opacity=i}t.ensureState("emphasis")}})}};t.prototype.remove=function(){this._regionsGroup.removeAll();this._regionsGroupByName=null;this._svgGroup.removeAll();this._freeSVG();this._controller.dispose();this._controllerHost=null};t.prototype.findHighDownDispatchers=function(t,e){if(t==null){return[]}var r=e.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(r.resourceType==="geoSVG"){return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]}};t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t};t.prototype._useSVG=function(t){var e=mO.getGeoResource(t);if(e&&e.type==="geoSVG"){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root);this._svgGraphicRecord=r;this._svgMapName=t}};t.prototype._freeSVG=function(){var t=this._svgMapName;if(t==null){return}var e=mO.getGeoResource(t);if(e&&e.type==="geoSVG"){e.freeGraphic(this.uid)}this._svgGraphicRecord=null;this._svgDispatcherMap=null;this._svgGroup.removeAll();this._svgMapName=null};t.prototype._updateController=function(t,e,r){var i=t.coordinateSystem;var a=this._controller;var n=this._controllerHost;n.zoomLimit=t.get("scaleLimit");n.zoom=i.getZoom();a.enable(t.get("roam")||false);var o=t.mainType;function s(){var e={type:"geoRoam",componentType:o};e[o+"Id"]=t.id;return e}a.off("pan").on("pan",function(t){this._mouseDownFlag=false;bP(n,t.dx,t.dy);r.dispatchAction(N(s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))},this);a.off("zoom").on("zoom",function(t){this._mouseDownFlag=false;SP(n,t.scale,t.originX,t.originY);r.dispatchAction(N(s(),{totalZoom:n.zoom,zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))},this);a.setPointerChecker(function(e,a,n){return i.containPoint([a,n])&&!IP(e,r,t)})};t.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();if(e){e.ignore=SO(e).ignore}})};t.prototype._updateMapSelectHandler=function(t,e,r,i){var a=this;e.off("mousedown");e.off("click");if(t.get("selectedMode")){e.on("mousedown",function(){a._mouseDownFlag=true});e.on("click",function(t){if(!a._mouseDownFlag){return}a._mouseDownFlag=false})}};return t}();function CO(t,e,r,i){var a=i.getModel("itemStyle");var n=i.getModel(["emphasis","itemStyle"]);var o=i.getModel(["blur","itemStyle"]);var s=i.getModel(["select","itemStyle"]);var l=MO(a);var u=MO(n);var f=MO(s);var h=MO(o);var v=t.data;if(v){var c=v.getItemVisual(r,"style");var p=v.getItemVisual(r,"decal");if(t.isVisualEncodedByVisualMap&&c.fill){l.fill=c.fill}if(p){l.decal=rw(p,t.api)}}e.setStyle(l);e.style.strokeNoScale=true;e.ensureState("emphasis").style=u;e.ensureState("select").style=f;e.ensureState("blur").style=h;Rf(e)}function DO(t,e,r,i,a,n,o){var s=t.data;var l=t.isGeo;var u=s&&isNaN(s.get(s.mapDimension("value"),n));var f=s&&s.getItemLayout(n);if(l||u||f&&f.showLabel){var h=!l?n:r;var v=void 0;if(!s||n>=0){v=a}var c=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Ic(e,Tc(i),{labelFetcher:v,labelDataIndex:h,defaultText:r},c);var p=e.getTextContent();if(p){SO(p).ignore=p.ignore;if(e.textConfig&&o){var d=e.getBoundingRect().clone();e.textConfig.layoutRect=d;e.textConfig.position=[(o[0]-d.x)/d.width*100+"%",(o[1]-d.y)/d.height*100+"%"]}}e.disableLabelAnimation=true}else{e.removeTextContent();e.removeTextConfig();e.disableLabelAnimation=null}}function AO(t,e,r,i,a,n){if(t.data){t.data.setItemGraphicEl(n,e)}else{Qu(e).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:r,region:i&&i.option||{}}}}function kO(t,e,r,i,a){if(!t.data){mc({el:e,componentModel:a,itemName:r,itemTooltipOption:i.get("tooltip")})}}function LO(t,e,r,i,a){e.highDownSilentOnTouch=!!a.get("selectedMode");var n=i.getModel("emphasis");var o=n.get("focus");rh(e,o,n.get("blurScope"),n.get("disabled"));if(t.isGeo){uh(e,a,r)}return o}function PO(t,e,r){var i=[];var a;function n(){a=[]}function o(){if(a.length){i.push(a);a=[]}}var s=e({polygonStart:n,polygonEnd:o,lineStart:n,lineEnd:o,point:function(t,e){if(isFinite(t)&&isFinite(e)){a.push([t,e])}},sphere:function(){}});!r&&s.polygonStart();H(t,function(t){s.lineStart();for(var e=0;e<t.length;e++){s.point(t[e][0],t[e][1])}s.lineEnd()});!r&&s.polygonEnd();return i}var OO=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){if(i&&i.type==="mapToggleSelect"&&i.from===this.uid){return}var a=this.group;a.removeAll();if(t.getHostGeoModel()){return}if(this._mapDraw&&i&&i.type==="geoRoam"){this._mapDraw.resetForLabelLayout()}if(!(i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===t.id)){if(t.needsDrawMap){var n=this._mapDraw||new TO(r);a.add(n.group);n.draw(t,e,r,this,i);this._mapDraw=n}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var n=this._mapDraw;n&&a.add(n.group)}t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,r)};e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()};e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null};e.prototype._renderSymbols=function(t,e,r){var i=t.originalData;var a=this.group;i.each(i.mapDimension("value"),function(e,r){if(isNaN(e)){return}var n=i.getItemLayout(r);if(!n||!n.point){return}var o=n.point;var s=n.offset;var l=new Vh({style:{fill:t.getData().getVisual("style").fill},shape:{cx:o[0]+s*9,cy:o[1],r:3},silent:true,z2:8+(!s?hf+1:0)});if(!s){var u=t.mainSeries.getData();var f=i.getName(r);var h=u.indexOfName(f);var v=i.getItemModel(r);var c=v.getModel("label");var p=u.getItemGraphicEl(h);Ic(l,Tc(v),{labelFetcher:{getFormattedLabel:function(e,r){return t.getFormattedLabel(h,r)}},defaultText:f});l.disableLabelAnimation=true;if(!c.get("position")){l.setTextConfig({position:"bottom"})}p.onHoverStateChange=function(t){Df(l,t)}}a.add(l)})};e.type="map";return e}(Jm);var RO=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.needsDrawMap=false;r.seriesGroup=[];r.getTooltipPosition=function(t){if(t!=null){var e=this.getData().getName(t);var r=this.coordinateSystem;var i=r.getRegion(e);return i&&r.dataToPoint(i.getCenter())}};return r}e.prototype.getInitialData=function(t){var e=kk(this,{coordDimensions:["value"],encodeDefaulter:K(Bd,this)});var r=Mt();var i=[];for(var a=0,n=e.count();a<n;a++){var o=e.getName(a);r.set(o,a)}var s=mO.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);H(s.regions,function(t){var a=t.name;var n=r.get(a);var o=t.properties&&t.properties.echartsStyle;var s;if(n==null){s={name:a};i.push(s)}else{s=e.getRawDataItem(n)}o&&O(s,o)});e.appendData(i);return e};e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null};e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map};e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)};e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);var o=this.seriesGroup;var s=[];for(var l=0;l<o.length;l++){var u=o[l].originalData.indexOfName(n);var f=i.mapDimension("value");if(!isNaN(o[l].originalData.get(f,u))){s.push(o[l].name)}}return ym("section",{header:s.join(", "),noHeader:!s.length,blocks:[ym("nameValue",{name:n,value:a})]})};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect";var r=c_(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);r.setStyle(t.itemStyle);r.style.stroke="none";if(e.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r};e.type="series.map";e.dependencies=["geo"];e.layoutMode="box";e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:true,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};return e}(Vm);function NO(t,e){var r={};H(t,function(t){t.each(t.mapDimension("value"),function(e,i){var a="ec-"+t.getName(i);r[a]=r[a]||[];if(!isNaN(e)){r[a].push(e)}})});return t[0].map(t[0].mapDimension("value"),function(i,a){var n="ec-"+t[0].getName(a);var o=0;var s=Infinity;var l=-Infinity;var u=r[n].length;for(var f=0;f<u;f++){s=Math.min(s,r[n][f]);l=Math.max(l,r[n][f]);o+=r[n][f]}var h;if(e==="min"){h=s}else if(e==="max"){h=l}else if(e==="average"){h=o/u}else{h=o}return u===0?NaN:h})}function EO(t){var e={};t.eachSeriesByType("map",function(t){var r=t.getHostGeoModel();var i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)});H(e,function(t,e){var r=NO(W(t,function(t){return t.getData()}),t[0].get("mapValueCalculation"));for(var i=0;i<t.length;i++){t[i].originalData=t[i].getData()}for(var i=0;i<t.length;i++){t[i].seriesGroup=t;t[i].needsDrawMap=i===0&&!t[i].getHostGeoModel();t[i].setData(r.cloneShallow());t[i].mainSeries=t[0]}})}function zO(t){var e={};t.eachSeriesByType("map",function(r){var i=r.getMapType();if(r.getHostGeoModel()||e[i]){return}var a={};H(r.seriesGroup,function(e){var r=e.coordinateSystem;var i=e.originalData;if(e.get("showLegendSymbol")&&t.getComponent("legend")){i.each(i.mapDimension("value"),function(t,e){var n=i.getName(e);var o=r.getRegion(n);if(!o||isNaN(t)){return}var s=a[n]||0;var l=r.dataToPoint(o.getCenter());a[n]=s+1;i.setItemLayout(e,{point:l,offset:s})})}});var n=r.getData();n.each(function(t){var e=n.getName(t);var r=n.getItemLayout(t)||{};r.showLabel=!a[e];n.setItemLayout(t,r)});e[i]=true})}var VO=te;var BO=function(t){i(e,t);function e(e){var r=t.call(this)||this;r.type="view";r.dimensions=["x","y"];r._roamTransformable=new hn;r._rawTransformable=new hn;r.name=e;return r}e.prototype.setBoundingRect=function(t,e,r,i){this._rect=new er(t,e,r,i);return this._rect};e.prototype.getBoundingRect=function(){return this._rect};e.prototype.setViewRect=function(t,e,r,i){this._transformTo(t,e,r,i);this._viewRect=new er(t,e,r,i)};e.prototype._transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=this._rawTransformable;n.transform=a.calculateTransform(new er(t,e,r,i));var o=n.parent;n.parent=null;n.decomposeTransform();n.parent=o;this._updateTransform()};e.prototype.setCenter=function(t,e){if(!t){return}this._center=[ro(t[0],e.getWidth()),ro(t[1],e.getHeight())];this._updateCenterAndZoom()};e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;if(e){if(e.max!=null){t=Math.min(e.max,t)}if(e.min!=null){t=Math.max(e.min,t)}}this._zoom=t;this._updateCenterAndZoom()};e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();var e=t.x+t.width/2;var r=t.y+t.height/2;return[e,r]};e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()};e.prototype.getZoom=function(){return this._zoom||1};e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()};e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform();var e=this._roamTransformable;var r=this.getDefaultCenter();var i=this.getCenter();var a=this.getZoom();i=te([],i,t);r=te([],r,t);e.originX=i[0];e.originY=i[1];e.x=r[0]-i[0];e.y=r[1]-i[1];e.scaleX=e.scaleY=a;this._updateTransform()};e.prototype._updateTransform=function(){var t=this._roamTransformable;var e=this._rawTransformable;e.parent=t;t.updateTransform();e.updateTransform();Ve(this.transform||(this.transform=[]),e.transform||Ee());this._rawTransform=e.getLocalTransform();this.invTransform=this.invTransform||[];We(this.invTransform,this.transform);this.decomposeTransform()};e.prototype.getTransformInfo=function(){var t=this._rawTransformable;var e=this._roamTransformable;var r=new hn;r.transform=e.transform;r.decomposeTransform();return{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}};e.prototype.getViewRect=function(){return this._viewRect};e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();t.applyTransform(this.transform);return t};e.prototype.dataToPoint=function(t,e,r){var i=e?this._rawTransform:this.transform;r=r||[];return i?VO(r,t,i):Ot(r,t)};e.prototype.pointToData=function(t){var e=this.invTransform;return e?VO([],t,e):[t[0],t[1]]};e.prototype.convertToPixel=function(t,e,r){var i=FO(e);return i===this?i.dataToPoint(r):null};e.prototype.convertFromPixel=function(t,e,r){var i=FO(e);return i===this?i.pointToData(r):null};e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])};e.dimensions=["x","y"];return e}(hn);function FO(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var GO={geoJSON:{aspectScale:.75,invertLongitute:true},geoSVG:{aspectScale:1,invertLongitute:false}};var HO=["lng","lat"];var WO=function(t){i(e,t);function e(e,r,i){var a=t.call(this,e)||this;a.dimensions=HO;a.type="geo";a._nameCoordMap=Mt();a.map=r;var n=i.projection;var o=mO.load(r,i.nameMap,i.nameProperty);var s=mO.getGeoResource(r);var l=a.resourceType=s?s.type:null;var u=a.regions=o.regions;var f=GO[s.type];a._regionsMap=o.regionsMap;a.regions=o.regions;if(true&&n){if(l==="geoSVG"){if(true){Po("Map "+r+" with SVG source can't use projection. Only GeoJSON source supports projection.")}n=null}if(!(n.project&&n.unproject)){if(true){Po("project and unproject must be both provided in the projeciton.")}n=null}}a.projection=n;var h;if(n){for(var v=0;v<u.length;v++){var c=u[v].getBoundingRect(n);h=h||c.clone();h.union(c)}}else{h=o.boundingRect}a.setBoundingRect(h.x,h.y,h.width,h.height);a.aspectScale=n?1:ht(i.aspectScale,f.aspectScale);a._invertLongitute=n?false:f.invertLongitute;return a}e.prototype._transformTo=function(t,e,r,i){var a=this.getBoundingRect();var n=this._invertLongitute;a=a.clone();if(n){a.y=-a.y-a.height}var o=this._rawTransformable;o.transform=a.calculateTransform(new er(t,e,r,i));var s=o.parent;o.parent=null;o.decomposeTransform();o.parent=s;if(n){o.scaleY=-o.scaleY}this._updateTransform()};e.prototype.getRegion=function(t){return this._regionsMap.get(t)};e.prototype.getRegionByCoord=function(t){var e=this.regions;for(var r=0;r<e.length;r++){var i=e[r];if(i.type==="geoJSON"&&i.contain(t)){return e[r]}}};e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)};e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()};e.prototype.dataToPoint=function(t,e,r){if(Q(t)){t=this.getGeoCoord(t)}if(t){var i=this.projection;if(i){t=i.project(t)}return t&&this.projectedToPoint(t,e,r)}};e.prototype.pointToData=function(t){var e=this.projection;if(e){t=e.unproject(t)}return t&&this.pointToProjected(t)};e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)};e.prototype.projectedToPoint=function(e,r,i){return t.prototype.dataToPoint.call(this,e,r,i)};e.prototype.convertToPixel=function(t,e,r){var i=UO(e);return i===this?i.dataToPoint(r):null};e.prototype.convertFromPixel=function(t,e,r){var i=UO(e);return i===this?i.pointToData(r):null};return e}(BO);F(WO,BO);function UO(t){var e=t.geoModel;var r=t.seriesModel;return e?e.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",ds).models[0]||{}).coordinateSystem:null}function YO(t,e){var r=t.get("boundingCoords");if(r!=null){var i=r[0];var a=r[1];if(!(isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1]))){if(true){console.error("Invalid boundingCoords")}}else{var n=this.projection;if(n){var o=i[0];var s=i[1];var l=a[0];var u=a[1];i=[Infinity,Infinity];a=[-Infinity,-Infinity];var f=function(t,e,r,o){var s=r-t;var l=o-e;for(var u=0;u<=100;u++){var f=u/100;var h=n.project([t+s*f,e+l*f]);ee(i,i,h);re(a,a,h)}};f(o,s,l,s);f(l,s,l,u);f(l,u,o,u);f(o,u,l,s)}this.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1])}}var h=this.getBoundingRect();var v=t.get("layoutCenter");var c=t.get("layoutSize");var p=e.getWidth();var d=e.getHeight();var g=h.width/h.height*this.aspectScale;var y=false;var m;var x;if(v&&c){m=[ro(v[0],p),ro(v[1],d)];x=ro(c,Math.min(p,d));if(!isNaN(m[0])&&!isNaN(m[1])&&!isNaN(x)){y=true}else{if(true){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var _;if(y){_={};if(g>1){_.width=x;_.height=x/g}else{_.height=x;_.width=x*g}_.y=m[1]-_.height/2;_.x=m[0]-_.width/2}else{var w=t.getBoxLayoutParams();w.aspect=g;_=cd(w,{width:p,height:d})}this.setViewRect(_.x,_.y,_.width,_.height);this.setCenter(t.get("center"),e);this.setZoom(t.get("zoom"))}function XO(t,e){H(e.get("geoCoord"),function(e,r){t.addGeoCoord(r,e)})}var ZO=function(){function t(){this.dimensions=HO}t.prototype.create=function(t,e){var r=[];function i(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",function(t,a){var n=t.get("map");var o=new WO(n+a,n,N({nameMap:t.get("nameMap")},i(t)));o.zoomLimit=t.get("scaleLimit");r.push(o);t.coordinateSystem=o;o.model=t;o.resize=YO;o.resize(t,e)});t.eachSeries(function(t){var e=t.get("coordinateSystem");if(e==="geo"){var i=t.get("geoIndex")||0;t.coordinateSystem=r[i]}});var a={};t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();a[e]=a[e]||[];a[e].push(t)}});H(a,function(t,a){var n=W(t,function(t){return t.get("nameMap")});var o=new WO(a,a,N({nameMap:R(n)},i(t[0])));o.zoomLimit=ft.apply(null,W(t,function(t){return t.get("scaleLimit")}));r.push(o);o.resize=YO;o.resize(t[0],e);H(t,function(t){t.coordinateSystem=o;XO(o,t)})});return r};t.prototype.getFilledRegions=function(t,e,r,i){var a=(t||[]).slice();var n=Mt();for(var o=0;o<a.length;o++){n.set(a[o].name,a[o])}var s=mO.load(e,r,i);H(s.regions,function(t){var e=t.name;var r=n.get(e);var i=t.properties&&t.properties.echartsStyle;if(!r){r={name:e};a.push(r)}i&&O(r,i)});return a};return t}();var jO=new ZO;var qO=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e,r){var i=mO.getGeoResource(t.map);if(i&&i.type==="geoJSON"){var a=t.itemStyle=t.itemStyle||{};if(!("color"in a)){a.color="#eee"}}this.mergeDefaultAndTheme(t,r);Ho(t,"label",["show"])};e.prototype.optionUpdated=function(){var t=this;var e=this.option;e.regions=jO.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var r={};this._optionModelMap=U(e.regions||[],function(e,i){var a=i.name;if(a){e.set(a,new qc(i,t,t.ecModel));if(i.selected){r[a]=true}}return e},Mt());if(!e.selectedMap){e.selectedMap=r}};e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new qc(null,this,this.ecModel)};e.prototype.getFormattedLabel=function(t,e){var r=this.getRegionModel(t);var i=e==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]);var a={name:t};if($(i)){a.status=e;return i(a)}else if(Q(i)){return i.replace("{a}",t!=null?t:"")}};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.select=function(t){var e=this.option;var r=e.selectedMode;if(!r){return}if(r!=="multiple"){e.selectedMap=null}var i=e.selectedMap||(e.selectedMap={});i[t]=true};e.prototype.unSelect=function(t){var e=this.option.selectedMap;if(e){e[t]=false}};e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)};e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!!(e&&e[t])};e.type="geo";e.layoutMode="box";e.defaultOption={z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};return e}(wd);function KO(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function JO(t,e,r,i){var a=t.getZoom();var n=t.getCenter();var o=e.zoom;var s=t.projectedToPoint?t.projectedToPoint(n):t.dataToPoint(n);if(e.dx!=null&&e.dy!=null){s[0]-=e.dx;s[1]-=e.dy;t.setCenter(KO(t,s),i)}if(o!=null){if(r){var l=r.min||0;var u=r.max||Infinity;o=Math.max(Math.min(a*o,u),l)/a}t.scaleX*=o;t.scaleY*=o;var f=(e.originX-t.x)*(o-1);var h=(e.originY-t.y)*(o-1);t.x-=f;t.y-=h;t.updateTransform();t.setCenter(KO(t,s),i);t.setZoom(o*a)}return{center:t.getCenter(),zoom:t.getZoom()}}var $O=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.focusBlurEnabled=true;return r}e.prototype.init=function(t,e){this._api=e};e.prototype.render=function(t,e,r,i){this._model=t;if(!t.get("show")){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;return}if(!this._mapDraw){this._mapDraw=new TO(r)}var a=this._mapDraw;a.draw(t,e,r,this,i);a.group.on("click",this._handleRegionClick,this);a.group.silent=t.get("silent");this.group.add(a.group);this.updateSelectStatus(t,e,r)};e.prototype._handleRegionClick=function(t){var e;t_(t.target,function(t){return(e=Qu(t).eventData)!=null},true);if(e){this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})}};e.prototype.updateSelectStatus=function(t,e,r){var i=this;this._mapDraw.group.traverse(function(t){var e=Qu(t).eventData;if(e){i._model.isSelected(e.name)?r.enterSelect(t):r.leaveSelect(t);return true}})};e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)};e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()};e.type="geo";return e}(Zm);function QO(t,e,r){mO.registerMap(t,e,r)}function tR(t){t.registerCoordinateSystem("geo",jO);t.registerComponentModel(qO);t.registerComponentView($O);t.registerImpl("registerMap",QO);t.registerImpl("getMap",function(t){return mO.getMapForUser(t)});function e(e,r){r.update="geo:updateSelectStatus";t.registerAction(r,function(t,r){var i={};var a=[];r.eachComponent({mainType:"geo",query:t},function(r){r[e](t.name);var n=r.coordinateSystem;H(n.regions,function(t){i[t.name]=r.isSelected(t.name)||false});var o=[];H(i,function(t,e){i[e]&&o.push(e)});a.push({geoIndex:r.componentIndex,name:o})});return{selected:i,allSelected:a,name:t.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});e("select",{type:"geoSelect",event:"geoselected"});e("unSelect",{type:"geoUnSelect",event:"geounselected"});t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e,r){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(e){var a=e.coordinateSystem;if(a.type!=="geo"){return}var n=JO(a,t,e.get("scaleLimit"),r);e.setCenter&&e.setCenter(n.center);e.setZoom&&e.setZoom(n.zoom);if(i==="series"){H(e.seriesGroup,function(t){t.setCenter(n.center);t.setZoom(n.zoom)})}})})}function eR(t){Qb(tR);t.registerChartView(OO);t.registerSeriesModel(RO);t.registerLayout(zO);t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,EO);Jx("map",t.registerAction)}function rR(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var r=[e];var i;var a;while(i=r.pop()){a=i.children;if(i.isExpand&&a.length){var n=a.length;for(var o=n-1;o>=0;o--){var s=a[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null};r.push(s)}}}}function iR(t,e){var r=t.isExpand?t.children:[];var i=t.parentNode.children;var a=t.hierNode.i?i[t.hierNode.i-1]:null;if(r.length){lR(t);var n=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;if(a){t.hierNode.prelim=a.hierNode.prelim+e(t,a);t.hierNode.modifier=t.hierNode.prelim-n}else{t.hierNode.prelim=n}}else if(a){t.hierNode.prelim=a.hierNode.prelim+e(t,a)}t.parentNode.hierNode.defaultAncestor=uR(t,a,t.parentNode.hierNode.defaultAncestor||i[0],e)}function aR(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},true);t.hierNode.modifier+=t.parentNode.hierNode.modifier}function nR(t){return arguments.length?t:pR}function oR(t,e){t-=Math.PI/2;return{x:e*Math.cos(t),y:e*Math.sin(t)}}function sR(t,e){return cd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function lR(t){var e=t.children;var r=e.length;var i=0;var a=0;while(--r>=0){var n=e[r];n.hierNode.prelim+=i;n.hierNode.modifier+=i;a+=n.hierNode.change;i+=n.hierNode.shift+a}}function uR(t,e,r,i){if(e){var a=t;var n=t;var o=n.parentNode.children[0];var s=e;var l=a.hierNode.modifier;var u=n.hierNode.modifier;var f=o.hierNode.modifier;var h=s.hierNode.modifier;while(s=fR(s),n=hR(n),s&&n){a=fR(a);o=hR(o);a.hierNode.ancestor=t;var v=s.hierNode.prelim+h-n.hierNode.prelim-u+i(s,n);if(v>0){cR(vR(s,t,r),t,v);u+=v;l+=v}h+=s.hierNode.modifier;u+=n.hierNode.modifier;l+=a.hierNode.modifier;f+=o.hierNode.modifier}if(s&&!fR(a)){a.hierNode.thread=s;a.hierNode.modifier+=h-l}if(n&&!hR(o)){o.hierNode.thread=n;o.hierNode.modifier+=u-f;r=t}}return r}function fR(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function hR(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function vR(t,e,r){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:r}function cR(t,e,r){var i=r/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i;e.hierNode.shift+=r;e.hierNode.modifier+=r;e.hierNode.prelim+=r;t.hierNode.change+=i}function pR(t,e){return t.parentNode===e.parentNode?1:2}var dR=function(){function t(){this.parentPoint=[];this.childPoints=[]}return t}();var gR=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new dR};e.prototype.buildPath=function(t,e){var r=e.childPoints;var i=r.length;var a=e.parentPoint;var n=r[0];var o=r[i-1];if(i===1){t.moveTo(a[0],a[1]);t.lineTo(n[0],n[1]);return}var s=e.orient;var l=s==="TB"||s==="BT"?0:1;var u=1-l;var f=ro(e.forkPosition,1);var h=[];h[l]=a[l];h[u]=a[u]+(o[u]-a[u])*f;t.moveTo(a[0],a[1]);t.lineTo(h[0],h[1]);t.moveTo(n[0],n[1]);h[l]=n[l];t.lineTo(h[0],h[1]);h[l]=o[l];t.lineTo(h[0],h[1]);t.lineTo(o[0],o[1]);for(var v=1;v<i-1;v++){var c=r[v];t.moveTo(c[0],c[1]);h[l]=c[l];t.lineTo(h[0],h[1])}};return e}(wu);var yR=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._mainGroup=new En;return r}e.prototype.init=function(t,e){this._controller=new mP(e.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)};e.prototype.render=function(t,e,r){var i=t.getData();var a=t.layoutInfo;var n=this._mainGroup;var o=t.get("layout");if(o==="radial"){n.x=a.x+a.width/2;n.y=a.y+a.height/2}else{n.x=a.x;n.y=a.y}this._updateViewCoordSys(t,r);this._updateController(t,e,r);var s=this._data;i.diff(s).add(function(e){if(mR(i,e)){xR(i,e,null,n,t)}}).update(function(e,r){var a=s.getItemGraphicEl(r);if(!mR(i,e)){a&&SR(s,r,a,n,t);return}xR(i,e,a,n,t)}).remove(function(e){var r=s.getItemGraphicEl(e);if(r){SR(s,e,r,n,t)}}).execute();this._nodeScaleRatio=t.get("nodeScaleRatio");this._updateNodeAndLinkScale(t);if(t.get("expandAndCollapse")===true){i.eachItemGraphicEl(function(e,i){e.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})})})}this._data=i};e.prototype._updateViewCoordSys=function(t,e){var r=t.getData();var i=[];r.each(function(t){var e=r.getItemLayout(t);if(e&&!isNaN(e.x)&&!isNaN(e.y)){i.push([+e.x,+e.y])}});var a=[];var n=[];Il(i,a,n);var o=this._min;var s=this._max;if(n[0]-a[0]===0){a[0]=o?o[0]:a[0]-1;n[0]=s?s[0]:n[0]+1}if(n[1]-a[1]===0){a[1]=o?o[1]:a[1]-1;n[1]=s?s[1]:n[1]+1}var l=t.coordinateSystem=new BO;l.zoomLimit=t.get("scaleLimit");l.setBoundingRect(a[0],a[1],n[0]-a[0],n[1]-a[1]);l.setCenter(t.get("center"),e);l.setZoom(t.get("zoom"));this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY});this._min=a;this._max=n};e.prototype._updateController=function(t,e,r){var i=this;var a=this._controller;var n=this._controllerHost;var o=this.group;a.setPointerChecker(function(e,i,a){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(i,a)&&!IP(e,r,t)});a.enable(t.get("roam"));n.zoomLimit=t.get("scaleLimit");n.zoom=t.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",function(e){bP(n,e.dx,e.dy);r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){SP(n,e.scale,e.originX,e.originY);r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY});i._updateNodeAndLinkScale(t);r.updateLabelLayout()})};e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData();var r=this._getNodeGlobalScale(t);e.eachItemGraphicEl(function(t,e){t.setSymbolScale(r)})};e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if(e.type!=="view"){return 1}var r=this._nodeScaleRatio;var i=e.scaleX||1;var a=e.getZoom();var n=(a-1)*r+1;return n/i};e.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};e.prototype.remove=function(){this._mainGroup.removeAll();this._data=null};e.type="tree";return e}(Jm);function mR(t,e){var r=t.getItemLayout(e);return r&&!isNaN(r.x)&&!isNaN(r.y)}function xR(t,e,r,i,a){var n=!r;var o=t.tree.getNodeByDataIndex(e);var s=o.getModel();var l=o.getVisual("style").fill;var u=o.isExpand===false&&o.children.length!==0?l:"#fff";var f=t.tree.root;var h=o.parentNode===f?o:o.parentNode||o;var v=t.getItemGraphicEl(h.dataIndex);var c=h.getLayout();var p=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:c;var d=o.getLayout();if(n){r=new WD(t,e,null,{symbolInnerColor:u,useNameLabel:true});r.x=p.x;r.y=p.y}else{r.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:true})}r.__radialOldRawX=r.__radialRawX;r.__radialOldRawY=r.__radialRawY;r.__radialRawX=d.rawX;r.__radialRawY=d.rawY;i.add(r);t.setItemGraphicEl(e,r);r.__oldX=r.x;r.__oldY=r.y;Nv(r,{x:d.x,y:d.y},a);var g=r.getSymbolPath();if(a.get("layout")==="radial"){var y=f.children[0];var m=y.getLayout();var x=y.children.length;var _=void 0;var w=void 0;if(d.x===m.x&&o.isExpand===true&&y.children.length){var b={x:(y.children[0].getLayout().x+y.children[x-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[x-1].getLayout().y)/2};_=Math.atan2(b.y-m.y,b.x-m.x);if(_<0){_=Math.PI*2+_}w=b.x<m.x;if(w){_=_-Math.PI}}else{_=Math.atan2(d.y-m.y,d.x-m.x);if(_<0){_=Math.PI*2+_}if(o.children.length===0||o.children.length!==0&&o.isExpand===false){w=d.x<m.x;if(w){_=_-Math.PI}}else{w=d.x>m.x;if(!w){_=_-Math.PI}}}var S=w?"left":"right";var M=s.getModel("label");var I=M.get("rotate");var T=I*(Math.PI/180);var C=g.getTextContent();if(C){g.setTextConfig({position:M.get("position")||S,rotation:I==null?-_:T,origin:"center"});C.setStyle("verticalAlign","middle")}}var D=s.get(["emphasis","focus"]);var A=D==="relative"?It(o.getAncestorsIndices(),o.getDescendantIndices()):D==="ancestor"?o.getAncestorsIndices():D==="descendant"?o.getDescendantIndices():null;if(A){Qu(r).focus=A}_R(a,o,f,r,p,c,d,i);if(r.__edge){r.onHoverStateChange=function(e){if(e!=="blur"){var i=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);if(!(i&&i.hoverState===sf)){Df(r.__edge,e)}}}}}function _R(t,e,r,i,a,n,o,s){var l=e.getModel();var u=t.get("edgeShape");var f=t.get("layout");var h=t.getOrient();var v=t.get(["lineStyle","curveness"]);var c=t.get("edgeForkPosition");var p=l.getModel("lineStyle").getLineStyle();var d=i.__edge;if(u==="curve"){if(e.parentNode&&e.parentNode!==r){if(!d){d=i.__edge=new mv({shape:MR(f,h,v,a,a)})}Nv(d,{shape:MR(f,h,v,n,o)},t)}}else if(u==="polyline"){if(f==="orthogonal"){if(e!==r&&e.children&&e.children.length!==0&&e.isExpand===true){var g=e.children;var y=[];for(var m=0;m<g.length;m++){var x=g[m].getLayout();y.push([x.x,x.y])}if(!d){d=i.__edge=new gR({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:c}})}Nv(d,{shape:{parentPoint:[o.x,o.y],childPoints:y}},t)}}else{if(true){throw new Error("The polyline edgeShape can only be used in orthogonal layout")}}}if(d&&!(u==="polyline"&&!e.isExpand)){d.useStyle(E({strokeNoScale:true,fill:null},p));oh(d,l,"lineStyle");Rf(d);s.add(d)}}function wR(t,e,r,i,a){var n=e.tree.root;var o=bR(n,t),s=o.source,l=o.sourceLayout;var u=e.getItemGraphicEl(t.dataIndex);if(!u){return}var f=e.getItemGraphicEl(s.dataIndex);var h=f.__edge;var v=u.__edge||(s.isExpand===false||s.children.length===1?h:undefined);var c=i.get("edgeShape");var p=i.get("layout");var d=i.get("orient");var g=i.get(["lineStyle","curveness"]);if(v){if(c==="curve"){Vv(v,{shape:MR(p,d,g,l,l),style:{opacity:0}},i,{cb:function(){r.remove(v)},removeOpt:a})}else if(c==="polyline"&&i.get("layout")==="orthogonal"){Vv(v,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){r.remove(v)},removeOpt:a})}}}function bR(t,e){var r=e.parentNode===t?e:e.parentNode||e;var i;while(i=r.getLayout(),i==null){r=r.parentNode===t?r:r.parentNode||r}return{source:r,sourceLayout:i}}function SR(t,e,r,i,a){var n=t.tree.getNodeByDataIndex(e);var o=t.tree.root;var s=bR(o,n).sourceLayout;var l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};Vv(r,{x:s.x+1,y:s.y+1},a,{cb:function(){i.remove(r);t.setItemGraphicEl(e,null)},removeOpt:l});r.fadeOut(null,t.hostModel,{fadeLabel:true,animation:l});n.children.forEach(function(e){wR(e,t,i,a,l)});wR(n,t,i,a,l)}function MR(t,e,r,i,a){var n;var o;var s;var l;var u;var f;var h;var v;if(t==="radial"){u=i.rawX;h=i.rawY;f=a.rawX;v=a.rawY;var c=oR(u,h);var p=oR(u,h+(v-h)*r);var d=oR(f,v+(h-v)*r);var g=oR(f,v);return{x1:c.x||0,y1:c.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:d.x||0,cpy2:d.y||0}}else{u=i.x;h=i.y;f=a.x;v=a.y;if(e==="LR"||e==="RL"){n=u+(f-u)*r;o=h;s=f+(u-f)*r;l=v}if(e==="TB"||e==="BT"){n=u;o=h+(v-h)*r;s=f;l=v+(h-v)*r}}return{x1:u,y1:h,x2:f,y2:v,cpx1:n,cpy1:o,cpx2:s,cpy2:l}}var IR=hs();function TR(t){var e=t.mainData;var r=t.datas;if(!r){r={main:e};t.datasAttr={main:"data"}}t.datas=t.mainData=null;OR(e,r,t);H(r,function(r){H(e.TRANSFERABLE_METHODS,function(e){r.wrapMethod(e,K(CR,t))})});e.wrapMethod("cloneShallow",K(AR,t));H(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,K(DR,t))});dt(r[e.dataType]===e)}function CR(t,e){if(PR(this)){var r=N({},IR(this).datas);r[this.dataType]=e;OR(e,r,t)}else{RR(e,this.dataType,IR(this).mainData,t)}return e}function DR(t,e){t.struct&&t.struct.update();return e}function AR(t,e){H(IR(e).datas,function(r,i){r!==e&&RR(r.cloneShallow(),i,e,t)});return e}function kR(t){var e=IR(this).mainData;return t==null||e==null?e:IR(e).datas[t]}function LR(){var t=IR(this).mainData;return t==null?[{data:t}]:W(Z(IR(t).datas),function(e){return{type:e,data:IR(t).datas[e]}})}function PR(t){return IR(t).mainData===t}function OR(t,e,r){IR(t).datas={};H(e,function(e,i){RR(e,i,t,r)})}function RR(t,e,r,i){IR(r).datas[e]=t;IR(t).mainData=r;t.dataType=e;if(i.struct){t[i.structAttr]=i.struct;i.struct[i.datasAttr[e]]=t}t.getLinkedData=kR;t.getLinkedDataAll=LR}var NR=function(){function t(t,e){this.depth=0;this.height=0;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.isExpand=false;this.name=t||"";this.hostTree=e}t.prototype.isRemoved=function(){return this.dataIndex<0};t.prototype.eachNode=function(t,e,r){if($(t)){r=e;e=t;t=null}t=t||{};if(Q(t)){t={order:t}}var i=t.order||"preorder";var a=this[t.attr||"children"];var n;i==="preorder"&&(n=e.call(r,this));for(var o=0;!n&&o<a.length;o++){a[o].eachNode(t,e,r)}i==="postorder"&&e.call(r,this)};t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1);if(i.height>e){e=i.height}}this.height=e+1};t.prototype.getNodeById=function(t){if(this.getId()===t){return this}for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].getNodeById(t);if(a){return a}}};t.prototype.contains=function(t){if(t===this){return true}for(var e=0,r=this.children,i=r.length;e<i;e++){var a=r[e].contains(t);if(a){return a}}};t.prototype.getAncestors=function(t){var e=[];var r=t?this:this.parentNode;while(r){e.push(r);r=r.parentNode}e.reverse();return e};t.prototype.getAncestorsIndices=function(){var t=[];var e=this;while(e){t.push(e.dataIndex);e=e.parentNode}t.reverse();return t};t.prototype.getDescendantIndices=function(){var t=[];this.eachNode(function(e){t.push(e.dataIndex)});return t};t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)};t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)};t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)};t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostTree;var r=e.data.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]};t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)};t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)};t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)};t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)};t.prototype.getChildIndex=function(){if(this.parentNode){var t=this.parentNode.children;for(var e=0;e<t.length;++e){if(t[e]===this){return e}}return-1}return-1};t.prototype.isAncestorOf=function(t){var e=t.parentNode;while(e){if(e===this){return true}e=e.parentNode}return false};t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)};return t}();var ER=function(){function t(t){this.type="tree";this._nodes=[];this.hostModel=t}t.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)};t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]};t.prototype.getNodeById=function(t){return this.root.getNodeById(t)};t.prototype.update=function(){var t=this.data;var e=this._nodes;for(var r=0,i=e.length;r<i;r++){e[r].dataIndex=-1}for(var r=0,i=t.count();r<i;r++){e[t.getRawIndex(r)].dataIndex=r}};t.prototype.clearLayouts=function(){this.data.clearItemLayouts()};t.createTree=function(e,r,i){var a=new t(r);var n=[];var o=1;s(e);function s(t,e){var r=t.value;o=Math.max(o,J(r)?r.length:1);n.push(t);var i=new NR(es(t.name,""),a);e?zR(i,e):a.root=i;a._nodes.push(i);var l=t.children;if(l){for(var u=0;u<l.length;u++){s(l[u],i)}}}a.root.updateDepthAndHeight(0);var l=PS(n,{coordDimensions:["value"],dimensionsCount:o}).dimensions;var u=new kS(l,r);u.initData(n);i&&i(u);TR({mainData:u,struct:a,structAttr:"tree"});a.update();return a};return t}();function zR(t,e){var r=e.children;if(t.parentNode===e){return}r.push(t);t.parentNode=e}function VR(t,e,r){if(t&&V(e,t.type)>=0){var i=r.getData().tree.root;var a=t.targetNode;if(Q(a)){a=i.getNodeById(a)}if(a&&i.contains(a)){return{node:a}}var n=t.targetNodeId;if(n!=null&&(a=i.getNodeById(n))){return{node:a}}}}function BR(t){var e=[];while(t){t=t.parentNode;t&&e.push(t)}return e.reverse()}function FR(t,e){var r=BR(t);return V(r,e)>=0}function GR(t,e){var r=[];while(t){var i=t.dataIndex;r.push({name:t.name,dataIndex:i,value:e.getRawValue(i)});t=t.parentNode}r.reverse();return r}var HR=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.hasSymbolVisual=true;e.ignoreStyleOnData=true;return e}e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data};var r=t.leaves||{};var i=new qc(r,this,this.ecModel);var a=ER.createTree(e,this,n);function n(t){t.wrapMethod("getItemModel",function(t,e){var r=a.getNodeByDataIndex(e);if(!(r&&r.children.length&&r.isExpand)){t.parentModel=i}return t})}var o=0;a.eachNode("preorder",function(t){if(t.depth>o){o=t.depth}});var s=t.expandAndCollapse;var l=s&&t.initialTreeDepth>=0?t.initialTreeDepth:o;a.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&e.collapsed!=null?!e.collapsed:t.depth<=l});return a.data};e.prototype.getOrient=function(){var t=this.get("orient");if(t==="horizontal"){t="LR"}else if(t==="vertical"){t="TB"}return t};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.formatTooltip=function(t,e,r){var i=this.getData().tree;var a=i.root.children[0];var n=i.getNodeByDataIndex(t);var o=n.getValue();var s=n.name;while(n&&n!==a){s=n.parentNode.name+"."+s;n=n.parentNode}return ym("nameValue",{name:s,value:o,noValue:isNaN(o)||o==null})};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=GR(i,this);r.collapsed=!i.isExpand;return r};e.type="series.tree";e.layoutMode="box";e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:false,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:true},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};return e}(Vm);function WR(t,e,r){var i=[t];var a=[];var n;while(n=i.pop()){a.push(n);if(n.isExpand){var o=n.children;if(o.length){for(var s=0;s<o.length;s++){i.push(o[s])}}}}while(n=a.pop()){e(n,r)}}function UR(t,e){var r=[t];var i;while(i=r.pop()){e(i);if(i.isExpand){var a=i.children;if(a.length){for(var n=a.length-1;n>=0;n--){r.push(a[n])}}}}}function YR(t,e){t.eachSeriesByType("tree",function(t){XR(t,e)})}function XR(t,e){var r=sR(t,e);t.layoutInfo=r;var i=t.get("layout");var a=0;var n=0;var o=null;if(i==="radial"){a=2*Math.PI;n=Math.min(r.height,r.width)/2;o=nR(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})}else{a=r.width;n=r.height;o=nR()}var s=t.getData().tree.root;var l=s.children[0];if(l){rR(s);WR(l,iR,o);s.hierNode.modifier=-l.hierNode.prelim;UR(l,aR);var u=l;var f=l;var h=l;UR(l,function(t){var e=t.getLayout().x;if(e<u.getLayout().x){u=t}if(e>f.getLayout().x){f=t}if(t.depth>h.depth){h=t}});var v=u===f?1:o(u,f)/2;var c=v-u.getLayout().x;var p=0;var d=0;var g=0;var y=0;if(i==="radial"){p=a/(f.getLayout().x+v+c);d=n/(h.depth-1||1);UR(l,function(t){g=(t.getLayout().x+c)*p;y=(t.depth-1)*d;var e=oR(g,y);t.setLayout({x:e.x,y:e.y,rawX:g,rawY:y},true)})}else{var m=t.getOrient();if(m==="RL"||m==="LR"){d=n/(f.getLayout().x+v+c);p=a/(h.depth-1||1);UR(l,function(t){y=(t.getLayout().x+c)*d;g=m==="LR"?(t.depth-1)*p:a-(t.depth-1)*p;t.setLayout({x:g,y:y},true)})}else if(m==="TB"||m==="BT"){p=a/(f.getLayout().x+v+c);d=n/(h.depth-1||1);UR(l,function(t){g=(t.getLayout().x+c)*p;y=m==="TB"?(t.depth-1)*d:n-(t.depth-1)*d;t.setLayout({x:g,y:y},true)})}}}}function ZR(t){t.eachSeriesByType("tree",function(t){var e=t.getData();var r=e.tree;r.eachNode(function(t){var r=t.getModel();var i=r.getModel("itemStyle").getItemStyle();var a=e.ensureUniqueItemVisual(t.dataIndex,"style");N(a,i)})})}function jR(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var r=t.dataIndex;var i=e.getData().tree;var a=i.getNodeByDataIndex(r);a.isExpand=!a.isExpand})});t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,r){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var i=e.coordinateSystem;var a=JO(i,t,undefined,r);e.setCenter&&e.setCenter(a.center);e.setZoom&&e.setZoom(a.zoom)})})}function qR(t){t.registerChartView(yR);t.registerSeriesModel(HR);t.registerLayout(YR);t.registerVisual(ZR);jR(t)}var KR=["treemapZoomToNode","treemapRender","treemapMove"];function JR(t){for(var e=0;e<KR.length;e++){t.registerAction({type:KR[e],update:"updateView"},At)}t.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},r);function r(e,r){var i=["treemapZoomToNode","treemapRootToNode"];var a=VR(t,i,e);if(a){var n=e.getViewRoot();if(n){t.direction=FR(n,a.node)?"rollUp":"drillDown"}e.resetViewRoot(a.node)}}})}function $R(t){var e=t.getData();var r=e.tree;var i={};r.eachNode(function(e){var r=e;while(r&&r.depth>1){r=r.parentNode}var a=Kd(t.ecModel,r.name||r.dataIndex+"",i);e.setVisual("decal",a)})}var QR=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.preventUsingHoverLayer=true;return r}e.prototype.getInitialData=function(t,e){var r={name:t.name,children:t.data};tN(r);var i=t.levels||[];var a=this.designatedVisualItemStyle={};var n=new qc({itemStyle:a},this,e);i=t.levels=eN(i,e);var o=W(i||[],function(t){return new qc(t,n,e)},this);var s=ER.createTree(r,this,l);function l(t){t.wrapMethod("getItemModel",function(t,e){var r=s.getNodeByDataIndex(e);var i=r?o[r.depth]:null;t.parentModel=i||n;return t})}return s.data};e.prototype.optionUpdated=function(){this.resetViewRoot()};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);return ym("nameValue",{name:n,value:a})};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treeAncestors=GR(i,this);r.treePathInfo=r.treeAncestors;return r};e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{};N(this.layoutInfo,t)};e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;if(!e){e=this._idIndexMap=Mt();this._idIndexMapCount=0}var r=e.get(t);if(r==null){e.set(t,r=this._idIndexMapCount++)}return r};e.prototype.getViewRoot=function(){return this._viewRoot};e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;if(!t||t!==e&&!e.contains(t)){this._viewRoot=e}};e.prototype.enableAriaDecal=function(){$R(this)};e.type="series.treemap";e.layoutMode="box";e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:false,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};return e}(Vm);function tN(t){var e=0;H(t.children,function(t){tN(t);var r=t.value;J(r)&&(r=r[0]);e+=r});var r=t.value;if(J(r)){r=r[0]}if(r==null||isNaN(r)){r=e}if(r<0){r=0}J(t.value)?t.value[0]=r:t.value=r}function eN(t,e){var r=Go(e.get("color"));var i=Go(e.get(["aria","decal","decals"]));if(!r){return}t=t||[];var a;var n;H(t,function(t){var e=new qc(t);var r=e.get("color");var i=e.get("decal");if(e.get(["itemStyle","color"])||r&&r!=="none"){a=true}if(e.get(["itemStyle","decal"])||i&&i!=="none"){n=true}});var o=t[0]||(t[0]={});if(!a){o.color=r.slice()}if(!n&&i){o.decal=i.slice()}return t}var rN=8;var iN=8;var aN=5;var nN=function(){function t(t){this.group=new En;t.add(this.group)}t.prototype.render=function(t,e,r,i){var a=t.getModel("breadcrumb");var n=this.group;n.removeAll();if(!a.get("show")||!r){return}var o=a.getModel("itemStyle");var s=a.getModel("emphasis");var l=o.getModel("textStyle");var u=s.getModel(["itemStyle","textStyle"]);var f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,l);this._renderContent(t,f,o,s,l,u,i);pd(n,f.pos,f.box)};t.prototype._prepare=function(t,e,r){for(var i=t;i;i=i.parentNode){var a=es(i.getModel().get("name"),"");var n=r.getTextRect(a);var o=Math.max(n.width+rN*2,e.emptyItemWidth);e.totalWidth+=o+iN;e.renderList.push({node:i,text:a,width:o})}};t.prototype._renderContent=function(t,e,r,i,a,n,o){var s=0;var l=e.emptyItemWidth;var u=t.get(["breadcrumb","height"]);var f=vd(e.pos,e.box);var h=e.totalWidth;var v=e.renderList;var c=i.getModel("itemStyle").getItemStyle();for(var p=v.length-1;p>=0;p--){var d=v[p];var g=d.node;var y=d.width;var m=d.text;if(h>f.width){h-=y-l;y=l;m=null}var x=new uv({shape:{points:oN(s,0,y,u,p===v.length-1,p===0)},style:E(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new Bu({style:Cc(a,{text:m})}),textConfig:{position:"inside"},z2:hf*1e4,onclick:K(o,g)});x.disableLabelAnimation=true;x.getTextContent().ensureState("emphasis").style=Cc(n,{text:m});x.ensureState("emphasis").style=c;rh(x,i.get("focus"),i.get("blurScope"),i.get("disabled"));this.group.add(x);sN(x,t,g);s+=y+iN}};t.prototype.remove=function(){this.group.removeAll()};return t}();function oN(t,e,r,i,a,n){var o=[[a?t:t-aN,e],[t+r,e],[t+r,e+i],[a?t:t-aN,e+i]];!n&&o.splice(2,0,[t+r+aN,e+i/2]);!a&&o.push([t,e+i/2]);return o}function sN(t,e,r){Qu(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&GR(r,e)}}var lN=function(){function t(){this._storage=[];this._elExistsMap={}}t.prototype.add=function(t,e,r,i,a){if(this._elExistsMap[t.id]){return false}this._elExistsMap[t.id]=true;this._storage.push({el:t,target:e,duration:r,delay:i,easing:a});return true};t.prototype.finished=function(t){this._finishedCallback=t;return this};t.prototype.start=function(){var t=this;var e=this._storage.length;var r=function(){e--;if(e<=0){t._storage.length=0;t._elExistsMap={};t._finishedCallback&&t._finishedCallback()}};for(var i=0,a=this._storage.length;i<a;i++){var n=this._storage[i];n.el.animateTo(n.target,{duration:n.duration,delay:n.delay,easing:n.easing,setToFinal:true,done:r,aborted:r})}return this};return t}();function uN(){return new lN}var fN=En;var hN=Nu;var vN=3;var cN="label";var pN="upperLabel";var dN=hf*10;var gN=hf*2;var yN=hf*3;var mN=zs([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var xN=function(t){var e=mN(t);e.stroke=e.fill=e.lineWidth=null;return e};var _N=hs();var wN=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._state="ready";r._storage=bN();return r}e.prototype.render=function(t,e,r,i){var a=e.findComponents({mainType:"series",subType:"treemap",query:i});if(V(a,t)<0){return}this.seriesModel=t;this.api=r;this.ecModel=e;var n=["treemapZoomToNode","treemapRootToNode"];var o=VR(i,n,t);var s=i&&i.type;var l=t.layoutInfo;var u=!this._oldTree;var f=this._storage;var h=s==="treemapRootToNode"&&o&&f?{rootNodeGroup:f.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null;var v=this._giveContainerGroup(l);var c=t.get("animation");var p=this._doRender(v,t,h);c&&!u&&(!s||s==="treemapZoomToNode"||s==="treemapRootToNode")?this._doAnimation(v,p,t,h):p.renderFinally();this._resetController(r);this._renderBreadcrumb(t,r,o)};e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;if(!e){e=this._containerGroup=new fN;this._initEvents(e);this.group.add(e)}e.x=t.x;e.y=t.y;return e};e.prototype._doRender=function(t,e,r){var i=e.getData().tree;var a=this._oldTree;var n=bN();var o=bN();var s=this._storage;var l=[];function u(t,i,a,u){return SN(e,o,s,r,n,l,t,i,a,u)}c(i.root?[i.root]:[],a&&a.root?[a.root]:[],t,i===a||!a,0);var f=p(s);this._oldTree=i;this._storage=o;if(this._controllerHost){var h=this.seriesModel.layoutInfo;var v=i.root.getLayout();if(v.width===h.width&&v.height===h.height){this._controllerHost.zoom=1}}return{lastsForAnimation:n,willDeleteEls:f,renderFinally:d};function c(t,e,r,i,a){if(i){e=t;H(t,function(t,e){!t.isRemoved()&&o(e,e)})}else{new rS(e,t,n,n).add(o).update(o).remove(K(o,null)).execute()}function n(t){return t.getId()}function o(n,o){var s=n!=null?t[n]:null;var l=o!=null?e[o]:null;var f=u(s,l,r,a);f&&c(s&&s.viewChildren||[],l&&l.viewChildren||[],f,i,a+1)}}function p(t){var e=bN();t&&H(t,function(t,r){var i=e[r];H(t,function(t){t&&(i.push(t),_N(t).willDelete=true)})});return e}function d(){H(f,function(t){H(t,function(t){t.parent&&t.parent.remove(t)})});H(l,function(t){t.invisible=true;t.dirty()})}};e.prototype._doAnimation=function(t,e,r,i){var a=r.get("animationDurationUpdate");var n=r.get("animationEasing");var o=($(a)?0:a)||0;var s=($(n)?null:n)||"cubicOut";var l=uN();H(e.willDeleteEls,function(t,e){H(t,function(t,r){if(t.invisible){return}var a=t.parent;var n;var u=_N(a);if(i&&i.direction==="drillDown"){n=a===i.rootNodeGroup?{shape:{x:0,y:0,width:u.nodeWidth,height:u.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var f=0;var h=0;if(!u.willDelete){f=u.nodeWidth/2;h=u.nodeHeight/2}n=e==="nodeGroup"?{x:f,y:h,style:{opacity:0}}:{shape:{x:f,y:h,width:0,height:0},style:{opacity:0}}}n&&l.add(t,n,o,0,s)})});H(this._storage,function(t,r){H(t,function(t,i){var a=e.lastsForAnimation[r][i];var n={};if(!a){return}if(t instanceof En){if(a.oldX!=null){n.x=t.x;n.y=t.y;t.x=a.oldX;t.y=a.oldY}}else{if(a.oldShape){n.shape=N({},t.shape);t.setShape(a.oldShape)}if(a.fadein){t.setStyle("opacity",0);n.style={opacity:1}}else if(t.style.opacity!==1){n.style={opacity:1}}}l.add(t,n,o,0,s)})},this);this._state="animating";l.finished(q(function(){this._state="ready";e.renderFinally()},this)).start()};e.prototype._resetController=function(t){var e=this._controller;var r=this._controllerHost;if(!r){this._controllerHost={target:this.group};r=this._controllerHost}if(!e){e=this._controller=new mP(t.getZr());e.enable(this.seriesModel.get("roam"));r.zoomLimit=this.seriesModel.get("scaleLimit");r.zoom=this.seriesModel.get("zoom");e.on("pan",q(this._onPan,this));e.on("zoom",q(this._onZoom,this))}var i=new er(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,r){return i.contain(e,r)})};e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null;if(t){t.dispose();t=null}};e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>vN||Math.abs(t.dy)>vN)){var e=this.seriesModel.getData().tree.root;if(!e){return}var r=e.getLayout();if(!r){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}};e.prototype._onZoom=function(t){var e=t.originX;var r=t.originY;var i=t.scale;if(this._state!=="animating"){var a=this.seriesModel.getData().tree.root;if(!a){return}var n=a.getLayout();if(!n){return}var o=new er(n.x,n.y,n.width,n.height);var s=null;var l=this._controllerHost;s=l.zoomLimit;var u=l.zoom=l.zoom||1;u*=i;if(s){var f=s.min||0;var h=s.max||Infinity;u=Math.max(Math.min(h,u),f)}var v=u/l.zoom;l.zoom=u;var c=this.seriesModel.layoutInfo;e-=c.x;r-=c.y;var p=Ee();Fe(p,p,[-e,-r]);He(p,p,[v,v]);Fe(p,p,[e,r]);o.applyTransform(p);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}};e.prototype._initEvents=function(t){var e=this;t.on("click",function(t){if(e._state!=="ready"){return}var r=e.seriesModel.get("nodeClick",true);if(!r){return}var i=e.findTarget(t.offsetX,t.offsetY);if(!i){return}var a=i.node;if(a.getLayout().isLeafRoot){e._rootToNode(i)}else{if(r==="zoomToNode"){e._zoomToNode(i)}else if(r==="link"){var n=a.hostTree.data.getItemModel(a.dataIndex);var o=n.get("link",true);var s=n.get("target",true)||"blank";o&&ad(o,s)}}},this)};e.prototype._renderBreadcrumb=function(t,e,r){var i=this;if(!r){r=t.get("leafDepth",true)!=null?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2);if(!r){r={node:t.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new nN(this.group))).render(t,e,r.node,function(e){if(i._state!=="animating"){FR(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e})}})};e.prototype.remove=function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=bN();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()};e.prototype.dispose=function(){this._clearController()};e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})};e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})};e.prototype.findTarget=function(t,e){var r;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},function(i){var a=this._storage.background[i.getRawIndex()];if(a){var n=a.transformCoordToLocal(t,e);var o=a.shape;if(o.x<=n[0]&&n[0]<=o.x+o.width&&o.y<=n[1]&&n[1]<=o.y+o.height){r={node:i,offsetX:n[0],offsetY:n[1]}}else{return false}}},this);return r};e.type="treemap";return e}(Jm);function bN(){return{nodeGroup:[],background:[],content:[]}}function SN(t,e,r,i,a,n,o,s,l,u){if(!o){return}var f=o.getLayout();var h=t.getData();var v=o.getModel();h.setItemGraphicEl(o.dataIndex,null);if(!f||!f.isInView){return}var c=f.width;var p=f.height;var d=f.borderWidth;var g=f.invisible;var y=o.getRawIndex();var m=s&&s.getRawIndex();var x=o.viewChildren;var _=f.upperHeight;var w=x&&x.length;var b=v.getModel("itemStyle");var S=v.getModel(["emphasis","itemStyle"]);var M=v.getModel(["blur","itemStyle"]);var I=v.getModel(["select","itemStyle"]);var T=b.get("borderRadius")||0;var C=H("nodeGroup",fN);if(!C){return}l.add(C);C.x=f.x||0;C.y=f.y||0;C.markRedraw();_N(C).nodeWidth=c;_N(C).nodeHeight=p;if(f.isAboveViewRoot){return C}var D=H("background",hN,u,gN);D&&z(C,D,w&&f.upperLabelHeight);var A=v.getModel("emphasis");var k=A.get("focus");var L=A.get("blurScope");var P=A.get("disabled");var O=k==="ancestor"?o.getAncestorsIndices():k==="descendant"?o.getDescendantIndices():k;if(w){if(lh(C)){sh(C,false)}if(D){sh(D,!P);h.setItemGraphicEl(o.dataIndex,D);ih(D,O,L)}}else{var R=H("content",hN,u,yN);R&&V(C,R);D.disableMorphing=true;if(D&&lh(D)){sh(D,false)}sh(C,!P);h.setItemGraphicEl(o.dataIndex,C);var E=v.getShallow("cursor");E&&R.attr("cursor",E);ih(C,O,L)}return C;function z(e,r,i){var a=Qu(r);a.dataIndex=o.dataIndex;a.seriesIndex=t.seriesIndex;r.setShape({x:0,y:0,width:c,height:p,r:T});if(g){B(r)}else{r.invisible=false;var n=o.getVisual("style");var s=n.stroke;var l=xN(b);l.fill=s;var u=mN(S);u.fill=S.get("borderColor");var f=mN(M);f.fill=M.get("borderColor");var h=mN(I);h.fill=I.get("borderColor");if(i){var v=c-2*d;F(r,s,n.opacity,{x:d,y:0,width:v,height:_})}else{r.removeTextContent()}r.setStyle(l);r.ensureState("emphasis").style=u;r.ensureState("blur").style=f;r.ensureState("select").style=h;Rf(r)}e.add(r)}function V(e,r){var i=Qu(r);i.dataIndex=o.dataIndex;i.seriesIndex=t.seriesIndex;var a=Math.max(c-2*d,0);var n=Math.max(p-2*d,0);r.culling=true;r.setShape({x:d,y:d,width:a,height:n,r:T});if(g){B(r)}else{r.invisible=false;var s=o.getVisual("style");var l=s.fill;var u=xN(b);u.fill=l;u.decal=s.decal;var f=mN(S);var h=mN(M);var v=mN(I);F(r,l,s.opacity,null);r.setStyle(u);r.ensureState("emphasis").style=f;r.ensureState("blur").style=h;r.ensureState("select").style=v;Rf(r)}e.add(r)}function B(t){!t.invisible&&n.push(t)}function F(e,r,i,a){var n=v.getModel(a?pN:cN);var s=es(v.get("name"),null);var l=n.getShallow("show");Ic(e,Tc(v,a?pN:cN),{defaultText:l?s:null,inheritColor:r,defaultOpacity:i,labelFetcher:t,labelDataIndex:o.dataIndex});var u=e.getTextContent();if(!u){return}var h=u.style;var c=pt(h.padding||0);if(a){e.setTextConfig({layoutRect:a});u.disableLabelLayout=true}u.beforeUpdate=function(){var t=Math.max((a?a.width:e.shape.width)-c[1]-c[3],0);var r=Math.max((a?a.height:e.shape.height)-c[0]-c[2],0);if(h.width!==t||h.height!==r){u.setStyle({width:t,height:r})}};h.truncateMinChar=2;h.lineOverflow="truncate";G(h,a,f);var p=u.getState("emphasis");G(p?p.style:null,a,f)}function G(e,r,i){var a=e?e.text:null;if(!r&&i.isLeafRoot&&a!=null){var n=t.get("drillDownIcon",true);e.text=n?n+" "+a:a}}function H(t,i,n,o){var s=m!=null&&r[t][m];var l=a[t];if(s){r[t][m]=null;W(l,s)}else if(!g){s=new i;if(s instanceof cl){s.z2=MN(n,o)}U(l,s)}return e[t][y]=s}function W(t,e){var r=t[y]={};if(e instanceof fN){r.oldX=e.x;r.oldY=e.y}else{r.oldShape=N({},e.shape)}}function U(t,e){var r=t[y]={};var n=o.parentNode;var s=e instanceof En;if(n&&(!i||i.direction==="drillDown")){var l=0;var u=0;var f=a.background[n.getRawIndex()];if(!i&&f&&f.oldShape){l=f.oldShape.width;u=f.oldShape.height}if(s){r.oldX=0;r.oldY=u}else{r.oldShape={x:l,y:u,width:0,height:0}}}r.fadein=!s}}function MN(t,e){return t*dN+e}var IN=H;var TN=rt;var CN=-1;var DN=function(){function t(e){var r=e.mappingMethod;var i=e.type;var a=this.option=P(e);this.type=i;this.mappingMethod=r;this._normalizeData=FN[r];var n=t.visualHandlers[i];this.applyVisual=n.applyVisual;this.getColorMapper=n.getColorMapper;this._normalizedToVisual=n._normalizedToVisual[r];if(r==="piecewise"){LN(a);AN(a)}else if(r==="category"){a.categories?kN(a):LN(a,true)}else{dt(r!=="linear"||a.dataExtent);LN(a)}}t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)};t.prototype.getNormalizer=function(){return q(this._normalizeData,this)};t.listVisualTypes=function(){return Z(t.visualHandlers)};t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)};t.eachVisual=function(t,e,r){if(rt(t)){H(t,e,r)}else{e.call(r,t)}};t.mapVisual=function(e,r,i){var a;var n=J(e)?[]:rt(e)?{}:(a=true,null);t.eachVisual(e,function(t,e){var o=r.call(i,t,e);a?n=o:n[e]=o});return n};t.retrieveVisuals=function(e){var r={};var i;e&&IN(t.visualHandlers,function(t,a){if(e.hasOwnProperty(a)){r[a]=e[a];i=true}});return i?r:null};t.prepareVisualTypes=function(t){if(J(t)){t=t.slice()}else if(TN(t)){var e=[];IN(t,function(t,r){e.push(r)});t=e}else{return[]}t.sort(function(t,e){return e==="color"&&t!=="color"&&t.indexOf("color")===0?1:-1});return t};t.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e};t.findPieceIndex=function(t,e,r){var i;var a=Infinity;for(var n=0,o=e.length;n<o;n++){var s=e[n].value;if(s!=null){if(s===t||Q(s)&&s===t+""){return n}r&&h(s,n)}}for(var n=0,o=e.length;n<o;n++){var l=e[n];var u=l.interval;var f=l.close;if(u){if(u[0]===-Infinity){if(GN(f[1],t,u[1])){return n}}else if(u[1]===Infinity){if(GN(f[0],u[0],t)){return n}}else if(GN(f[0],u[0],t)&&GN(f[1],t,u[1])){return n}r&&h(u[0],n);r&&h(u[1],n)}}if(r){return t===Infinity?e.length-1:t===-Infinity?0:i}function h(e,r){var n=Math.abs(e-t);if(n<a){a=n;i=r}}};t.visualHandlers={color:{applyVisual:RN("color"),getColorMapper:function(){var t=this.option;return q(t.mappingMethod==="category"?function(t,e){!e&&(t=this._normalizeData(t));return NN.call(this,t)}:function(e,r,i){var a=!!i;!r&&(e=this._normalizeData(e));i=Di(e,t.parsedVisual,i);return a?i:Ri(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Ri(Di(t,this.option.parsedVisual),"rgba")},category:NN,piecewise:function(t,e){var r=VN.call(this,e);if(r==null){r=Ri(Di(t,this.option.parsedVisual),"rgba")}return r},fixed:EN}},colorHue:PN(function(t,e){return Pi(t,e)}),colorSaturation:PN(function(t,e){return Pi(t,null,e)}),colorLightness:PN(function(t,e){return Pi(t,null,null,e)}),colorAlpha:PN(function(t,e){return Oi(t,e)}),decal:{applyVisual:RN("decal"),_normalizedToVisual:{linear:null,category:NN,piecewise:null,fixed:null}},opacity:{applyVisual:RN("opacity"),_normalizedToVisual:zN([0,1])},liftZ:{applyVisual:RN("liftZ"),_normalizedToVisual:{linear:EN,category:EN,piecewise:EN,fixed:EN}},symbol:{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:ON,category:NN,piecewise:function(t,e){var r=VN.call(this,e);if(r==null){r=ON.call(this,t)}return r},fixed:EN}},symbolSize:{applyVisual:RN("symbolSize"),_normalizedToVisual:zN([0,1])}};return t}();function AN(t){var e=t.pieceList;t.hasSpecialVisual=false;H(e,function(e,r){e.originIndex=r;if(e.visual!=null){t.hasSpecialVisual=true}})}function kN(t){var e=t.categories;var r=t.categoryMap={};var i=t.visual;IN(e,function(t,e){r[t]=e});if(!J(i)){var a=[];if(rt(i)){IN(i,function(t,e){var i=r[e];a[i!=null?i:CN]=t})}else{a[CN]=i}i=BN(t,a)}for(var n=e.length-1;n>=0;n--){if(i[n]==null){delete r[e[n]];e.pop()}}}function LN(t,e){var r=t.visual;var i=[];if(rt(r)){IN(r,function(t){i.push(t)})}else if(r!=null){i.push(r)}var a={color:1,symbol:1};if(!e&&i.length===1&&!a.hasOwnProperty(t.type)){i[1]=i[0]}BN(t,i)}function PN(t){return{applyVisual:function(e,r,i){var a=this.mapValueToVisual(e);i("color",t(r("color"),a))},_normalizedToVisual:zN([0,1])}}function ON(t){var e=this.option.visual;return e[Math.round(eo(t,[0,1],[0,e.length-1],true))]||{}}function RN(t){return function(e,r,i){i(t,this.mapValueToVisual(e))}}function NN(t){var e=this.option.visual;return e[this.option.loop&&t!==CN?t%e.length:t]}function EN(){return this.option.visual[0]}function zN(t){return{linear:function(e){return eo(e,t,this.option.visual,true)},category:NN,piecewise:function(e,r){var i=VN.call(this,r);if(i==null){i=eo(e,t,this.option.visual,true)}return i},fixed:EN}}function VN(t){var e=this.option;var r=e.pieceList;if(e.hasSpecialVisual){var i=DN.findPieceIndex(t,r);var a=r[i];if(a&&a.visual){return a.visual[this.type]}}}function BN(t,e){t.visual=e;if(t.type==="color"){t.parsedVisual=W(e,function(t){var e=Si(t);if(!e&&"development"!=="production"){Po("'"+t+"' is an illegal color, fallback to '#000000'",true)}return e||[0,0,0,1]})}return e}var FN={linear:function(t){return eo(t,this.option.dataExtent,[0,1],true)},piecewise:function(t){var e=this.option.pieceList;var r=DN.findPieceIndex(t,e,true);if(r!=null){return eo(r,[0,e.length-1],[0,1],true)}},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e==null?CN:e},fixed:At};function GN(t,e,r){return t?e<=r:e<r}var HN="itemStyle";var WN=hs();var UN={seriesType:"treemap",reset:function(t){var e=t.getData().tree;var r=e.root;if(r.isRemoved()){return}YN(r,{},t.getViewRoot().getAncestors(),t)}};function YN(t,e,r,i){var a=t.getModel();var n=t.getLayout();var o=t.hostTree.data;if(!n||n.invisible||!n.isInView){return}var s=a.getModel(HN);var l=XN(s,e,i);var u=o.ensureUniqueItemVisual(t.dataIndex,"style");var f=s.get("borderColor");var h=s.get("borderColorSaturation");var v;if(h!=null){v=ZN(l);f=jN(h,v)}u.stroke=f;var c=t.viewChildren;if(!c||!c.length){v=ZN(l);u.fill=v}else{var p=KN(t,a,n,s,l,c);H(c,function(t,e){if(t.depth>=r.length||t===r[t.depth]){var n=$N(a,l,t,e,p,i);YN(t,n,r,i)}})}}function XN(t,e,r){var i=N({},e);var a=r.designatedVisualItemStyle;H(["color","colorAlpha","colorSaturation"],function(r){a[r]=e[r];var n=t.get(r);a[r]=null;n!=null&&(i[r]=n)});return i}function ZN(t){var e=qN(t,"color");if(e){var r=qN(t,"colorAlpha");var i=qN(t,"colorSaturation");if(i){e=Pi(e,null,null,i)}if(r){e=Oi(e,r)}return e}}function jN(t,e){return e!=null?Pi(e,null,null,t):null}function qN(t,e){var r=t[e];if(r!=null&&r!=="none"){return r}}function KN(t,e,r,i,a,n){if(!n||!n.length){return}var o=JN(e,"color")||a.color!=null&&a.color!=="none"&&(JN(e,"colorAlpha")||JN(e,"colorSaturation"));if(!o){return}var s=e.get("visualMin");var l=e.get("visualMax");var u=r.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s);l!=null&&l>u[1]&&(u[1]=l);var f=e.get("colorMappingBy");var h={type:o.name,dataExtent:u,visual:o.range};if(h.type==="color"&&(f==="index"||f==="id")){h.mappingMethod="category";h.loop=true}else{h.mappingMethod="linear"}var v=new DN(h);WN(v).drColorMappingBy=f;return v}function JN(t,e){var r=t.get(e);return J(r)&&r.length?{name:e,range:r}:null}function $N(t,e,r,i,a,n){var o=N({},e);if(a){var s=a.type;var l=s==="color"&&WN(a).drColorMappingBy;var u=l==="index"?i:l==="id"?n.mapIdToIndex(r.getId()):r.getValue(t.get("visualDimension"));o[s]=a.mapValueToVisual(u)}return o}var QN=Math.max;var tE=Math.min;var eE=ft;var rE=H;var iE=["itemStyle","borderWidth"];var aE=["itemStyle","gapWidth"];var nE=["upperLabel","show"];var oE=["upperLabel","height"];var sE={seriesType:"treemap",reset:function(t,e,r,i){var a=r.getWidth();var n=r.getHeight();var o=t.option;var s=cd(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()});var l=o.size||[];var u=ro(eE(s.width,l[0]),a);var f=ro(eE(s.height,l[1]),n);var h=i&&i.type;var v=["treemapZoomToNode","treemapRootToNode"];var c=VR(i,v,t);var p=h==="treemapRender"||h==="treemapMove"?i.rootRect:null;var d=t.getViewRoot();var g=BR(d);if(h!=="treemapMove"){var y=h==="treemapZoomToNode"?dE(t,c,d,u,f):p?[p.width,p.height]:[u,f];var m=o.sort;if(m&&m!=="asc"&&m!=="desc"){m="desc"}var x={squareRatio:o.squareRatio,sort:m,leafDepth:o.leafDepth};d.hostTree.clearLayouts();var _={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};d.setLayout(_);lE(d,x,false,0);_=d.getLayout();rE(g,function(t,e){var r=(g[e+1]||d).getValue();t.setLayout(N({dataExtent:[r,r],borderWidth:0,upperHeight:0},_))})}var w=t.getData().tree.root;w.setLayout(gE(s,p,c),true);t.setLayoutInfo(s);yE(w,new er(-s.x,-s.y,a,n),g,d,0)}};function lE(t,e,r,i){var a;var n;if(t.isRemoved()){return}var o=t.getLayout();a=o.width;n=o.height;var s=t.getModel();var l=s.get(iE);var u=s.get(aE)/2;var f=mE(s);var h=Math.max(l,f);var v=l-u;var c=h-u;t.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:f},true);a=QN(a-2*v,0);n=QN(n-v-c,0);var p=a*n;var d=uE(t,s,p,e,r,i);if(!d.length){return}var g={x:v,y:c,width:a,height:n};var y=tE(a,n);var m=Infinity;var x=[];x.area=0;for(var _=0,w=d.length;_<w;){var b=d[_];x.push(b);x.area+=b.getLayout().area;var S=cE(x,y,e.squareRatio);if(S<=m){_++;m=S}else{x.area-=x.pop().getLayout().area;pE(x,y,g,u,false);y=tE(g.width,g.height);x.length=x.area=0;m=Infinity}}if(x.length){pE(x,y,g,u,true)}if(!r){var M=s.get("childrenVisibleMin");if(M!=null&&p<M){r=true}}for(var _=0,w=d.length;_<w;_++){lE(d[_],e,r,i+1)}}function uE(t,e,r,i,a,n){var o=t.children||[];var s=i.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=i.leafDepth!=null&&i.leafDepth<=n;if(a&&!l){return t.viewChildren=[]}o=Y(o,function(t){return!t.isRemoved()});hE(o,s);var u=vE(e,o,s);if(u.sum===0){return t.viewChildren=[]}u.sum=fE(e,r,u.sum,s,o);if(u.sum===0){return t.viewChildren=[]}for(var f=0,h=o.length;f<h;f++){var v=o[f].getValue()/u.sum*r;o[f].setLayout({area:v})}if(l){o.length&&t.setLayout({isLeafRoot:true},true);o.length=0}t.viewChildren=o;t.setLayout({dataExtent:u.dataExtent},true);return o}function fE(t,e,r,i,a){if(!i){return r}var n=t.get("visibleMin");var o=a.length;var s=o;for(var l=o-1;l>=0;l--){var u=a[i==="asc"?o-l-1:l].getValue();if(u/r*e<n){s=l;r-=u}}i==="asc"?a.splice(0,o-s):a.splice(s,o-s);return r}function hE(t,e){if(e){t.sort(function(t,r){var i=e==="asc"?t.getValue()-r.getValue():r.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:i})}return t}function vE(t,e,r){var i=0;for(var a=0,n=e.length;a<n;a++){i+=e[a].getValue()}var o=t.get("visualDimension");var s;if(!e||!e.length){s=[NaN,NaN]}else if(o==="value"&&r){s=[e[e.length-1].getValue(),e[0].getValue()];r==="asc"&&s.reverse()}else{s=[Infinity,-Infinity];rE(e,function(t){var e=t.getValue(o);e<s[0]&&(s[0]=e);e>s[1]&&(s[1]=e)})}return{sum:i,dataExtent:s}}function cE(t,e,r){var i=0;var a=Infinity;for(var n=0,o=void 0,s=t.length;n<s;n++){o=t[n].getLayout().area;if(o){o<a&&(a=o);o>i&&(i=o)}}var l=t.area*t.area;var u=e*e*r;return l?QN(u*i/l,l/(u*a)):Infinity}function pE(t,e,r,i,a){var n=e===r.width?0:1;var o=1-n;var s=["x","y"];var l=["width","height"];var u=r[s[n]];var f=e?t.area/e:0;if(a||f>r[l[o]]){f=r[l[o]]}for(var h=0,v=t.length;h<v;h++){var c=t[h];var p={};var d=f?c.getLayout().area/f:0;var g=p[l[o]]=QN(f-2*i,0);var y=r[s[n]]+r[l[n]]-u;var m=h===v-1||y<d?y:d;var x=p[l[n]]=QN(m-2*i,0);p[s[o]]=r[s[o]]+tE(i,g/2);p[s[n]]=u+tE(i,x/2);u+=m;c.setLayout(p,true)}r[s[o]]+=f;r[l[o]]-=f}function dE(t,e,r,i,a){var n=(e||{}).node;var o=[i,a];if(!n||n===r){return o}var s;var l=i*a;var u=l*t.option.zoomToNodeRatio;while(s=n.parentNode){var f=0;var h=s.children;for(var v=0,c=h.length;v<c;v++){f+=h[v].getValue()}var p=n.getValue();if(p===0){return o}u*=f/p;var d=s.getModel();var g=d.get(iE);var y=Math.max(g,mE(d));u+=4*g*g+(3*g+y)*Math.pow(u,.5);u>ho&&(u=ho);n=s}u<l&&(u=l);var m=Math.pow(u/l,.5);return[i*m,a*m]}function gE(t,e,r){if(e){return{x:e.x,y:e.y}}var i={x:0,y:0};if(!r){return i}var a=r.node;var n=a.getLayout();if(!n){return i}var o=[n.width/2,n.height/2];var s=a;while(s){var l=s.getLayout();o[0]+=l.x;o[1]+=l.y;s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}function yE(t,e,r,i,a){var n=t.getLayout();var o=r[a];var s=o&&o===t;if(o&&!s||a===r.length&&t!==i){return}t.setLayout({isInView:true,invisible:!s&&!e.intersect(n),isAboveViewRoot:s},true);var l=new er(e.x-n.x,e.y-n.y,e.width,e.height);rE(t.viewChildren||[],function(t){yE(t,l,r,i,a+1)})}function mE(t){return t.get(nE)?t.get(oE):0}function xE(t){t.registerSeriesModel(QR);t.registerChartView(wN);t.registerVisual(UN);t.registerLayout(sE);JR(t)}function _E(t){var e=t.findComponents({mainType:"legend"});if(!e||!e.length){return}t.eachSeriesByType("graph",function(t){var r=t.getCategoriesData();var i=t.getGraph();var a=i.data;var n=r.mapArray(r.getName);a.filterSelf(function(t){var r=a.getItemModel(t);var i=r.getShallow("category");if(i!=null){if(et(i)){i=n[i]}for(var o=0;o<e.length;o++){if(!e[o].isSelected(i)){return false}}}return true})})}function wE(t){var e={};t.eachSeriesByType("graph",function(t){var r=t.getCategoriesData();var i=t.getData();var a={};r.each(function(i){var n=r.getName(i);a["ec-"+n]=i;var o=r.getItemModel(i);var s=o.getModel("itemStyle").getItemStyle();if(!s.fill){s.fill=t.getColorFromPalette(n,e)}r.setItemVisual(i,"style",s);var l=["symbol","symbolSize","symbolKeepAspect"];for(var u=0;u<l.length;u++){var f=o.getShallow(l[u],true);if(f!=null){r.setItemVisual(i,l[u],f)}}});if(r.count()){i.each(function(t){var e=i.getItemModel(t);var n=e.getShallow("category");if(n!=null){if(Q(n)){n=a["ec-"+n]}var o=r.getItemVisual(n,"style");var s=i.ensureUniqueItemVisual(t,"style");N(s,o);var l=["symbol","symbolSize","symbolKeepAspect"];for(var u=0;u<l.length;u++){i.setItemVisual(t,l[u],r.getItemVisual(n,l[u]))}}})}})}function bE(t){if(!(t instanceof Array)){t=[t,t]}return t}function SE(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph();var r=t.getEdgeData();var i=bE(t.get("edgeSymbol"));var a=bE(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]);r.setVisual("toSymbol",i&&i[1]);r.setVisual("fromSymbolSize",a&&a[0]);r.setVisual("toSymbolSize",a&&a[1]);r.setVisual("style",t.getModel("lineStyle").getLineStyle());r.each(function(t){var i=r.getItemModel(t);var a=e.getEdgeByIndex(t);var n=bE(i.getShallow("symbol",true));var o=bE(i.getShallow("symbolSize",true));var s=i.getModel("lineStyle").getLineStyle();var l=r.ensureUniqueItemVisual(t,"style");N(l,s);switch(l.stroke){case"source":{var u=a.node1.getVisual("style");l.stroke=u&&u.fill;break}case"target":{var u=a.node2.getVisual("style");l.stroke=u&&u.fill;break}}n[0]&&a.setVisual("fromSymbol",n[0]);n[1]&&a.setVisual("toSymbol",n[1]);o[0]&&a.setVisual("fromSymbolSize",o[0]);o[1]&&a.setVisual("toSymbolSize",o[1])})})}var ME="--\x3e";var IE=function(t){return t.get("autoCurveness")||null};var TE=function(t,e){var r=IE(t);var i=20;var a=[];if(et(r)){i=r}else if(J(r)){t.__curvenessList=r;return}if(e>i){i=e}var n=i%2?i+2:i+3;a=[];for(var o=0;o<n;o++){a.push((o%2?o+1:o)/10*(o%2?-1:1))}t.__curvenessList=a};var CE=function(t,e,r){var i=[t.id,t.dataIndex].join(".");var a=[e.id,e.dataIndex].join(".");return[r.uid,i,a].join(ME)};var DE=function(t){var e=t.split(ME);return[e[0],e[2],e[1]].join(ME)};var AE=function(t,e){var r=CE(t.node1,t.node2,e);return e.__edgeMap[r]};var kE=function(t,e){var r=LE(CE(t.node1,t.node2,e),e);var i=LE(CE(t.node2,t.node1,e),e);return r+i};var LE=function(t,e){var r=e.__edgeMap;return r[t]?r[t].length:0};function PE(t){if(!IE(t)){return}t.__curvenessList=[];t.__edgeMap={};TE(t)}function OE(t,e,r,i){if(!IE(r)){return}var a=CE(t,e,r);var n=r.__edgeMap;var o=n[DE(a)];if(n[a]&&!o){n[a].isForward=true}else if(o&&n[a]){o.isForward=true;n[a].isForward=false}n[a]=n[a]||[];n[a].push(i)}function RE(t,e,r,i){var a=IE(e);var n=J(a);if(!a){return null}var o=AE(t,e);if(!o){return null}var s=-1;for(var l=0;l<o.length;l++){if(o[l]===r){s=l;break}}var u=kE(t,e);TE(e,u);t.lineStyle=t.lineStyle||{};var f=CE(t.node1,t.node2,e);var h=e.__curvenessList;var v=n?0:u%2?0:1;if(!o.isForward){var c=DE(f);var p=LE(c,e);var d=h[s+p+v];if(i){if(n){if(a&&a[0]===0){return(p+v)%2?d:-d}else{return((p%2?0:1)+v)%2?d:-d}}else{return(p+v)%2?d:-d}}else{return h[s+p+v]}}else{return h[v+s]}}function NE(t){var e=t.coordinateSystem;if(e&&e.type!=="view"){return}var r=t.getGraph();r.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])});EE(r,t)}function EE(t,e){t.eachEdge(function(t,r){var i=vt(t.getModel().get(["lineStyle","curveness"]),-RE(t,e,r,true),0);var a=Rt(t.node1.getLayout());var n=Rt(t.node2.getLayout());var o=[a,n];if(+i){o.push([(a[0]+n[0])/2-(a[1]-n[1])*i,(a[1]+n[1])/2-(n[0]-a[0])*i])}t.setLayout(o)})}function zE(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout");var r=t.coordinateSystem;if(r&&r.type!=="view"){var i=t.getData();var a=[];H(r.dimensions,function(t){a=a.concat(i.mapDimensionsAll(t))});for(var n=0;n<i.count();n++){var o=[];var s=false;for(var l=0;l<a.length;l++){var u=i.get(a[l],n);if(!isNaN(u)){s=true}o.push(u)}if(s){i.setItemLayout(n,r.dataToPoint(o))}else{i.setItemLayout(n,[NaN,NaN])}}EE(i.graph,t)}else if(!e||e==="none"){NE(t)}})}function VE(t){var e=t.coordinateSystem;if(e.type!=="view"){return 1}var r=t.option.nodeScaleRatio;var i=e.scaleX;var a=e.getZoom();var n=(a-1)*r+1;return n/i}function BE(t){var e=t.getVisual("symbolSize");if(e instanceof Array){e=(e[0]+e[1])/2}return+e}var FE=Math.PI;var GE=[];function HE(t,e,r,i){var a=t.coordinateSystem;if(a&&a.type!=="view"){return}var n=a.getBoundingRect();var o=t.getData();var s=o.graph;var l=n.width/2+n.x;var u=n.height/2+n.y;var f=Math.min(n.width,n.height)/2;var h=o.count();o.setLayout({cx:l,cy:u});if(!h){return}if(r){var v=a.pointToData(i),c=v[0],p=v[1];var d=[c-l,p-u];Zt(d,d);Xt(d,d,f);r.setLayout([l+d[0],u+d[1]],true);var g=t.get(["circular","rotateLabel"]);UE(r,g,l,u)}WE[e](t,s,o,f,l,u,h);s.eachEdge(function(e,r){var i=vt(e.getModel().get(["lineStyle","curveness"]),RE(e,t,r),0);var a=Rt(e.node1.getLayout());var n=Rt(e.node2.getLayout());var o;var s=(a[0]+n[0])/2;var f=(a[1]+n[1])/2;if(+i){i*=3;o=[l*i+s*(1-i),u*i+f*(1-i)]}e.setLayout([a,n,o])})}var WE={value:function(t,e,r,i,a,n,o){var s=0;var l=r.getSum("value");var u=Math.PI*2/(l||o);e.eachNode(function(t){var e=t.getValue("value");var r=u*(l?e:1)/2;s+=r;t.setLayout([i*Math.cos(s)+a,i*Math.sin(s)+n]);s+=r})},symbolSize:function(t,e,r,i,a,n,o){var s=0;GE.length=o;var l=VE(t);e.eachNode(function(t){var e=BE(t);isNaN(e)&&(e=2);e<0&&(e=0);e*=l;var r=Math.asin(e/2/i);isNaN(r)&&(r=FE/2);GE[t.dataIndex]=r;s+=r*2});var u=(2*FE-s)/o/2;var f=0;e.eachNode(function(t){var e=u+GE[t.dataIndex];f+=e;(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([i*Math.cos(f)+a,i*Math.sin(f)+n]);f+=e})}};function UE(t,e,r,i){var a=t.getGraphicEl();if(!a){return}var n=t.getModel();var o=n.get(["label","rotate"])||0;var s=a.getSymbolPath();if(e){var l=t.getLayout();var u=Math.atan2(l[1]-i,l[0]-r);if(u<0){u=Math.PI*2+u}var f=l[0]<r;if(f){u=u-Math.PI}var h=f?"left":"right";s.setTextConfig({rotation:-u,position:h,origin:"center"});var v=s.ensureState("emphasis");N(v.textConfig||(v.textConfig={}),{position:h})}else{s.setTextConfig({rotation:o*=Math.PI/180})}}function YE(t){t.eachSeriesByType("graph",function(t){if(t.get("layout")==="circular"){HE(t,"symbolSize")}})}var XE=zt;function ZE(t,e,r){var i=t;var a=e;var n=r.rect;var o=n.width;var s=n.height;var l=[n.x+o/2,n.y+s/2];var u=r.gravity==null?.1:r.gravity;for(var f=0;f<i.length;f++){var h=i[f];if(!h.p){h.p=Pt(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])}h.pp=Rt(h.p);h.edges=null}var v=r.friction==null?.6:r.friction;var c=v;var p;var d;return{warmUp:function(){c=v*.8},setFixed:function(t){i[t].fixed=true},setUnfixed:function(t){i[t].fixed=false},beforeStep:function(t){p=t},afterStep:function(t){d=t},step:function(t){p&&p(i,a);var e=[];var r=i.length;for(var n=0;n<a.length;n++){var o=a[n];if(o.ignoreForceLayout){continue}var s=o.n1;var f=o.n2;Vt(e,f.p,s.p);var h=Bt(e)-o.d;var v=f.w/(s.w+f.w);if(isNaN(v)){v=0}Zt(e,e);!s.fixed&&XE(s.p,s.p,e,v*h*c);!f.fixed&&XE(f.p,f.p,e,-(1-v)*h*c)}for(var n=0;n<r;n++){var g=i[n];if(!g.fixed){Vt(e,l,g.p);XE(g.p,g.p,e,u*c)}}for(var n=0;n<r;n++){var s=i[n];for(var y=n+1;y<r;y++){var f=i[y];Vt(e,f.p,s.p);var h=Bt(e);if(h===0){Nt(e,Math.random()-.5,Math.random()-.5);h=1}var m=(s.rep+f.rep)/h/h;!s.fixed&&XE(s.pp,s.pp,e,m);!f.fixed&&XE(f.pp,f.pp,e,-m)}}var x=[];for(var n=0;n<r;n++){var g=i[n];if(!g.fixed){Vt(x,g.p,g.pp);XE(g.p,g.p,x,c);Ot(g.pp,g.p)}}c=c*.992;var _=c<.01;d&&d(i,a,_);t&&t(_)}}}function jE(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(e&&e.type!=="view"){return}if(t.get("layout")==="force"){var r=t.preservedPoints||{};var i=t.getGraph();var a=i.data;var n=i.edgeData;var o=t.getModel("force");var s=o.get("initLayout");if(t.preservedPoints){a.each(function(t){var e=a.getId(t);a.setItemLayout(t,r[e]||[NaN,NaN])})}else if(!s||s==="none"){NE(t)}else if(s==="circular"){HE(t,"value")}var l=a.getDataExtent("value");var u=n.getDataExtent("value");var f=o.get("repulsion");var h=o.get("edgeLength");var v=J(f)?f:[f,f];var c=J(h)?h:[h,h];c=[c[1],c[0]];var p=a.mapArray("value",function(t,e){var r=a.getItemLayout(e);var i=eo(t,l,v);if(isNaN(i)){i=(v[0]+v[1])/2}return{w:i,rep:i,fixed:a.getItemModel(e).get("fixed"),p:!r||isNaN(r[0])||isNaN(r[1])?null:r}});var d=n.mapArray("value",function(e,r){var a=i.getEdgeByIndex(r);var n=eo(e,u,c);if(isNaN(n)){n=(c[0]+c[1])/2}var o=a.getModel();var s=vt(a.getModel().get(["lineStyle","curveness"]),-RE(a,t,r,true),0);return{n1:p[a.node1.dataIndex],n2:p[a.node2.dataIndex],d:n,curveness:s,ignoreForceLayout:o.get("ignoreForceLayout")}});var g=e.getBoundingRect();var y=ZE(p,d,{rect:g,gravity:o.get("gravity"),friction:o.get("friction")});y.beforeStep(function(t,e){for(var r=0,a=t.length;r<a;r++){if(t[r].fixed){Ot(t[r].p,i.getNodeByIndex(r).getLayout())}}});y.afterStep(function(t,e,n){for(var o=0,s=t.length;o<s;o++){if(!t[o].fixed){i.getNodeByIndex(o).setLayout(t[o].p)}r[a.getId(o)]=t[o].p}for(var o=0,s=e.length;o<s;o++){var l=e[o];var u=i.getEdgeByIndex(o);var f=l.n1.p;var h=l.n2.p;var v=u.getLayout();v=v?v.slice():[];v[0]=v[0]||[];v[1]=v[1]||[];Ot(v[0],f);Ot(v[1],h);if(+l.curveness){v[2]=[(f[0]+h[0])/2-(f[1]-h[1])*l.curveness,(f[1]+h[1])/2-(h[0]-f[0])*l.curveness]}u.setLayout(v)}});t.forceLayout=y;t.preservedPoints=r;y.step()}else{t.forceLayout=null}})}function qE(t,e,r){var i=N(t.getBoxLayoutParams(),{aspect:r});return cd(i,{width:e.getWidth(),height:e.getHeight()})}function KE(t,e){var r=[];t.eachSeriesByType("graph",function(t){var i=t.get("coordinateSystem");if(!i||i==="view"){var a=t.getData();var n=a.mapArray(function(t){var e=a.getItemModel(t);return[+e.get("x"),+e.get("y")]});var o=[];var s=[];Il(n,o,s);if(s[0]-o[0]===0){s[0]+=1;o[0]-=1}if(s[1]-o[1]===0){s[1]+=1;o[1]-=1}var l=(s[0]-o[0])/(s[1]-o[1]);var u=qE(t,e,l);if(isNaN(l)){o=[u.x,u.y];s=[u.x+u.width,u.y+u.height]}var f=s[0]-o[0];var h=s[1]-o[1];var v=u.width;var c=u.height;var p=t.coordinateSystem=new BO;p.zoomLimit=t.get("scaleLimit");p.setBoundingRect(o[0],o[1],f,h);p.setViewRect(u.x,u.y,v,c);p.setCenter(t.get("center"),e);p.setZoom(t.get("zoom"));r.push(p)}});return r}var JE=pv.prototype;var $E=mv.prototype;var QE=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return t}();var tz=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(QE);function ez(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var rz=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="ec-line";return r}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new QE};e.prototype.buildPath=function(t,e){if(ez(e)){JE.buildPath.call(this,t,e)}else{$E.buildPath.call(this,t,e)}};e.prototype.pointAt=function(t){if(ez(this.shape)){return JE.pointAt.call(this,t)}else{return $E.pointAt.call(this,t)}};e.prototype.tangentAt=function(t){var e=this.shape;var r=ez(e)?[e.x2-e.x1,e.y2-e.y1]:$E.tangentAt.call(this,t);return Zt(r,r)};return e}(wu);var iz=["fromSymbol","toSymbol"];function az(t){return"_"+t+"Type"}function nz(t,e,r){var i=e.getItemVisual(r,t);if(!i||i==="none"){return i}var a=e.getItemVisual(r,t+"Size");var n=e.getItemVisual(r,t+"Rotate");var o=e.getItemVisual(r,t+"Offset");var s=e.getItemVisual(r,t+"KeepAspect");var l=p_(a);var u=d_(o||0,l);return i+l+u+(n||"")+(s||"")}function oz(t,e,r){var i=e.getItemVisual(r,t);if(!i||i==="none"){return}var a=e.getItemVisual(r,t+"Size");var n=e.getItemVisual(r,t+"Rotate");var o=e.getItemVisual(r,t+"Offset");var s=e.getItemVisual(r,t+"KeepAspect");var l=p_(a);var u=d_(o||0,l);var f=c_(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);f.__specifiedRotation=n==null||isNaN(n)?void 0:+n*Math.PI/180||0;f.name=t;return f}function sz(t){var e=new rz({name:"line",subPixelOptimize:true});lz(e.shape,t);return e}function lz(t,e){t.x1=e[0][0];t.y1=e[0][1];t.x2=e[1][0];t.y2=e[1][1];t.percent=1;var r=e[2];if(r){t.cpx1=r[0];t.cpy1=r[1]}else{t.cpx1=NaN;t.cpy1=NaN}}var uz=function(t){i(e,t);function e(e,r,i){var a=t.call(this)||this;a._createLine(e,r,i);return a}e.prototype._createLine=function(t,e,r){var i=t.hostModel;var a=t.getItemLayout(e);var n=sz(a);n.shape.percent=0;Ev(n,{shape:{percent:1}},i,e);this.add(n);H(iz,function(r){var i=oz(r,t,e);this.add(i);this[az(r)]=nz(r,t,e)},this);this._updateCommonStl(t,e,r)};e.prototype.updateData=function(t,e,r){var i=t.hostModel;var a=this.childOfName("line");var n=t.getItemLayout(e);var o={shape:{}};lz(o.shape,n);Nv(a,o,i,e);H(iz,function(r){var i=nz(r,t,e);var a=az(r);if(this[a]!==i){this.remove(this.childOfName(r));var n=oz(r,t,e);this.add(n)}this[a]=i},this);this._updateCommonStl(t,e,r)};e.prototype.getLinePath=function(){return this.childAt(0)};e.prototype._updateCommonStl=function(t,e,r){var i=t.hostModel;var a=this.childOfName("line");var n=r&&r.emphasisLineStyle;var o=r&&r.blurLineStyle;var s=r&&r.selectLineStyle;var l=r&&r.labelStatesModels;var u=r&&r.emphasisDisabled;var f=r&&r.focus;var h=r&&r.blurScope;if(!r||t.hasItemOption){var v=t.getItemModel(e);var c=v.getModel("emphasis");n=c.getModel("lineStyle").getLineStyle();o=v.getModel(["blur","lineStyle"]).getLineStyle();s=v.getModel(["select","lineStyle"]).getLineStyle();u=c.get("disabled");f=c.get("focus");h=c.get("blurScope");l=Tc(v)}var p=t.getItemVisual(e,"style");var d=p.stroke;a.useStyle(p);a.style.fill=null;a.style.strokeNoScale=true;a.ensureState("emphasis").style=n;a.ensureState("blur").style=o;a.ensureState("select").style=s;H(iz,function(t){var e=this.childOfName(t);if(e){e.setColor(d);e.style.opacity=p.opacity;for(var r=0;r<uf.length;r++){var i=uf[r];var n=a.getState(i);if(n){var o=n.style||{};var s=e.ensureState(i);var l=s.style||(s.style={});if(o.stroke!=null){l[e.__isEmptyBrush?"stroke":"fill"]=o.stroke}if(o.opacity!=null){l.opacity=o.opacity}}}e.markRedraw()}},this);var g=i.getRawValue(e);Ic(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,r){return i.getFormattedLabel(e,r,t.dataType)}},inheritColor:d||"#000",defaultOpacity:p.opacity,defaultText:(g==null?t.getName(e):isFinite(g)?io(g):g)+""});var y=this.getTextContent();if(y){var m=l.normal;y.__align=y.style.align;y.__verticalAlign=y.style.verticalAlign;y.__position=m.get("position")||"middle";var x=m.get("distance");if(!J(x)){x=[x,x]}y.__labelDistance=x}this.setTextConfig({position:null,local:true,inside:false});rh(this,f,h,u)};e.prototype.highlight=function(){zf(this)};e.prototype.downplay=function(){Vf(this)};e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))};e.prototype.setLinePoints=function(t){var e=this.childOfName("line");lz(e.shape,t);e.dirty()};e.prototype.beforeUpdate=function(){var t=this;var e=t.childOfName("fromSymbol");var r=t.childOfName("toSymbol");var i=t.getTextContent();if(!e&&!r&&(!i||i.ignore)){return}var a=1;var n=this.parent;while(n){if(n.scaleX){a/=n.scaleX}n=n.parent}var o=t.childOfName("line");if(!this.__dirty&&!o.__dirty){return}var s=o.shape.percent;var l=o.pointAt(0);var u=o.pointAt(s);var f=Vt([],u,l);Zt(f,f);function h(t,e){var r=t.__specifiedRotation;if(r==null){var i=o.tangentAt(e);t.attr("rotation",(e===1?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else{t.attr("rotation",r)}}if(e){e.setPosition(l);h(e,0);e.scaleX=e.scaleY=a*s;e.markRedraw()}if(r){r.setPosition(u);h(r,1);r.scaleX=r.scaleY=a*s;r.markRedraw()}if(i&&!i.ignore){i.x=i.y=0;i.originX=i.originY=0;var v=void 0;var c=void 0;var p=i.__labelDistance;var d=p[0]*a;var g=p[1]*a;var y=s/2;var m=o.tangentAt(y);var x=[m[1],-m[0]];var _=o.pointAt(y);if(x[1]>0){x[0]=-x[0];x[1]=-x[1]}var w=m[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var b=-Math.atan2(m[1],m[0]);if(u[0]<l[0]){b=Math.PI+b}i.rotation=b}var S=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-g;c="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=g;c="top";break;default:S=0;c="middle"}switch(i.__position){case"end":i.x=f[0]*d+u[0];i.y=f[1]*g+u[1];v=f[0]>.8?"left":f[0]<-.8?"right":"center";c=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":i.x=-f[0]*d+l[0];i.y=-f[1]*g+l[1];v=f[0]>.8?"right":f[0]<-.8?"left":"center";c=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=d*w+l[0];i.y=l[1]+S;v=m[0]<0?"right":"left";i.originX=-d*w;i.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=_[0];i.y=_[1]+S;v="center";i.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-d*w+u[0];i.y=u[1]+S;v=m[0]>=0?"right":"left";i.originX=d*w;i.originY=-S;break}i.scaleX=i.scaleY=a;i.setStyle({verticalAlign:i.__verticalAlign||c,align:i.__align||v})}};return e}(En);var fz=function(){function t(t){this.group=new En;this._LineCtor=t||uz}t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var r=this;var i=r.group;var a=r._lineData;r._lineData=t;if(!a){i.removeAll()}var n=vz(t);t.diff(a).add(function(r){e._doAdd(t,r,n)}).update(function(r,i){e._doUpdate(a,t,i,r,n)}).remove(function(t){i.remove(a.getItemGraphicEl(t))}).execute()};t.prototype.updateLayout=function(){var t=this._lineData;if(!t){return}t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)};t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=vz(t);this._lineData=null;this.group.removeAll()};t.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function r(t){if(!t.isGroup&&!hz(t)){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(pz(a)){var n=new this._LineCtor(e,i,this._seriesScope);n.traverse(r);this.group.add(n);e.setItemGraphicEl(i,n);this._progressiveEls.push(n)}}};t.prototype.remove=function(){this.group.removeAll()};t.prototype.eachRendered=function(t){_c(this._progressiveEls||this.group,t)};t.prototype._doAdd=function(t,e,r){var i=t.getItemLayout(e);if(!pz(i)){return}var a=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,a);this.group.add(a)};t.prototype._doUpdate=function(t,e,r,i,a){var n=t.getItemGraphicEl(r);if(!pz(e.getItemLayout(i))){this.group.remove(n);return}if(!n){n=new this._LineCtor(e,i,a)}else{n.updateData(e,i,a)}e.setItemGraphicEl(i,n);this.group.add(n)};return t}();function hz(t){return t.animators&&t.animators.length>0}function vz(t){var e=t.hostModel;var r=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Tc(e)}}function cz(t){return isNaN(t[0])||isNaN(t[1])}function pz(t){return t&&!cz(t[0])&&!cz(t[1])}var dz=[];var gz=[];var yz=[];var mz=Jr;var xz=Jt;var _z=Math.abs;function wz(t,e,r){var i=t[0];var a=t[1];var n=t[2];var o=Infinity;var s;var l=r*r;var u=.1;for(var f=.1;f<=.9;f+=.1){dz[0]=mz(i[0],a[0],n[0],f);dz[1]=mz(i[1],a[1],n[1],f);var h=_z(xz(dz,e)-l);if(h<o){o=h;s=f}}for(var v=0;v<32;v++){var c=s+u;gz[0]=mz(i[0],a[0],n[0],s);gz[1]=mz(i[1],a[1],n[1],s);yz[0]=mz(i[0],a[0],n[0],c);yz[1]=mz(i[1],a[1],n[1],c);var h=xz(gz,e)-l;if(_z(h)<.01){break}var p=xz(yz,e)-l;u/=2;if(h<0){if(p>=0){s=s+u}else{s=s-u}}else{if(p>=0){s=s-u}else{s=s+u}}}return s}function bz(t,e){var r=[];var i=ei;var a=[[],[],[]];var n=[[],[]];var o=[];e/=2;t.eachEdge(function(t,s){var l=t.getLayout();var u=t.getVisual("fromSymbol");var f=t.getVisual("toSymbol");if(!l.__original){l.__original=[Rt(l[0]),Rt(l[1])];if(l[2]){l.__original.push(Rt(l[2]))}}var h=l.__original;if(l[2]!=null){Ot(a[0],h[0]);Ot(a[1],h[2]);Ot(a[2],h[1]);if(u&&u!=="none"){var v=BE(t.node1);var c=wz(a,h[0],v*e);i(a[0][0],a[1][0],a[2][0],c,r);a[0][0]=r[3];a[1][0]=r[4];i(a[0][1],a[1][1],a[2][1],c,r);a[0][1]=r[3];a[1][1]=r[4]}if(f&&f!=="none"){var v=BE(t.node2);var c=wz(a,h[1],v*e);i(a[0][0],a[1][0],a[2][0],c,r);a[1][0]=r[1];a[2][0]=r[2];i(a[0][1],a[1][1],a[2][1],c,r);a[1][1]=r[1];a[2][1]=r[2]}Ot(l[0],a[0]);Ot(l[1],a[2]);Ot(l[2],a[1])}else{Ot(n[0],h[0]);Ot(n[1],h[1]);Vt(o,n[1],n[0]);Zt(o,o);if(u&&u!=="none"){var v=BE(t.node1);zt(n[0],n[0],o,v*e)}if(f&&f!=="none"){var v=BE(t.node2);zt(n[1],n[1],o,-v*e)}Ot(l[0],n[0]);Ot(l[1],n[1])}})}function Sz(t){return t.type==="view"}var Mz=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){var r=new jD;var i=new fz;var a=this.group;this._controller=new mP(e.getZr());this._controllerHost={target:a};a.add(r.group);a.add(i.group);this._symbolDraw=r;this._lineDraw=i;this._firstRender=true};e.prototype.render=function(t,e,r){var i=this;var a=t.coordinateSystem;this._model=t;var n=this._symbolDraw;var o=this._lineDraw;var s=this.group;if(Sz(a)){var l={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};if(this._firstRender){s.attr(l)}else{Nv(s,l,t)}}bz(t.getGraph(),VE(t));var u=t.getData();n.updateData(u);var f=t.getEdgeData();o.updateData(f);this._updateNodeAndLinkScale();this._updateController(t,e,r);clearTimeout(this._layoutTimeout);var h=t.forceLayout;var v=t.get(["force","layoutAnimation"]);if(h){this._startForceLayoutIteration(h,v)}var c=t.get("layout");u.graph.eachNode(function(e){var r=e.dataIndex;var a=e.getGraphicEl();var n=e.getModel();if(!a){return}a.off("drag").off("dragend");var o=n.get("draggable");if(o){a.on("drag",function(n){switch(c){case"force":h.warmUp();!i._layouting&&i._startForceLayoutIteration(h,v);h.setFixed(r);u.setItemLayout(r,[a.x,a.y]);break;case"circular":u.setItemLayout(r,[a.x,a.y]);e.setLayout({fixed:true},true);HE(t,"symbolSize",e,[n.offsetX,n.offsetY]);i.updateLayout(t);break;case"none":default:u.setItemLayout(r,[a.x,a.y]);EE(t.getGraph(),t);i.updateLayout(t);break}}).on("dragend",function(){if(h){h.setUnfixed(r)}})}a.setDraggable(o,!!n.get("cursor"));var s=n.get(["emphasis","focus"]);if(s==="adjacency"){Qu(a).focus=e.getAdjacentDataIndices()}});u.graph.eachEdge(function(t){var e=t.getGraphicEl();var r=t.getModel().get(["emphasis","focus"]);if(!e){return}if(r==="adjacency"){Qu(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]}}});var p=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]);var d=u.getLayout("cx");var g=u.getLayout("cy");u.graph.eachNode(function(t){UE(t,p,d,g)});this._firstRender=false};e.prototype.dispose=function(){this.remove();this._controller&&this._controller.dispose();this._controllerHost=null};e.prototype._startForceLayoutIteration=function(t,e){var r=this;(function i(){t.step(function(t){r.updateLayout(r._model);(r._layouting=!t)&&(e?r._layoutTimeout=setTimeout(i,16):i())})})()};e.prototype._updateController=function(t,e,r){var i=this;var a=this._controller;var n=this._controllerHost;var o=this.group;a.setPointerChecker(function(e,i,a){var n=o.getBoundingRect();n.applyTransform(o.transform);return n.contain(i,a)&&!IP(e,r,t)});if(!Sz(t.coordinateSystem)){a.disable();return}a.enable(t.get("roam"));n.zoomLimit=t.get("scaleLimit");n.zoom=t.coordinateSystem.getZoom();a.off("pan").off("zoom").on("pan",function(e){bP(n,e.dx,e.dy);r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){SP(n,e.scale,e.originX,e.originY);r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY});i._updateNodeAndLinkScale();bz(t.getGraph(),VE(t));i._lineDraw.updateLayout();r.updateLabelLayout()})};e.prototype._updateNodeAndLinkScale=function(){var t=this._model;var e=t.getData();var r=VE(t);e.eachItemGraphicEl(function(t,e){t&&t.setSymbolScale(r)})};e.prototype.updateLayout=function(t){bz(t.getGraph(),VE(t));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()};e.prototype.remove=function(){clearTimeout(this._layoutTimeout);this._layouting=false;this._layoutTimeout=null;this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()};e.type="graph";return e}(Jm);function Iz(t){return"_EC_"+t}var Tz=function(){function t(t){this.type="graph";this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this._directed=t||false}t.prototype.isDirected=function(){return this._directed};t.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var r=this._nodesMap;if(r[Iz(t)]){if(true){console.error("Graph nodes have duplicate name or id")}return}var i=new Cz(t,e);i.hostGraph=this;this.nodes.push(i);r[Iz(t)]=i;return i};t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]};t.prototype.getNodeById=function(t){return this._nodesMap[Iz(t)]};t.prototype.addEdge=function(t,e,r){var i=this._nodesMap;var a=this._edgesMap;if(et(t)){t=this.nodes[t]}if(et(e)){e=this.nodes[e]}if(!(t instanceof Cz)){t=i[Iz(t)]}if(!(e instanceof Cz)){e=i[Iz(e)]}if(!t||!e){return}var n=t.id+"-"+e.id;var o=new Dz(t,e,r);o.hostGraph=this;if(this._directed){t.outEdges.push(o);e.inEdges.push(o)}t.edges.push(o);if(t!==e){e.edges.push(o)}this.edges.push(o);a[n]=o;return o};t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]};t.prototype.getEdge=function(t,e){if(t instanceof Cz){t=t.id}if(e instanceof Cz){e=e.id}var r=this._edgesMap;if(this._directed){return r[t+"-"+e]}else{return r[t+"-"+e]||r[e+"-"+t]}};t.prototype.eachNode=function(t,e){var r=this.nodes;var i=r.length;for(var a=0;a<i;a++){if(r[a].dataIndex>=0){t.call(e,r[a],a)}}};t.prototype.eachEdge=function(t,e){var r=this.edges;var i=r.length;for(var a=0;a<i;a++){if(r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0){t.call(e,r[a],a)}}};t.prototype.breadthFirstTraverse=function(t,e,r,i){if(!(e instanceof Cz)){e=this._nodesMap[Iz(e)]}if(!e){return}var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges";for(var n=0;n<this.nodes.length;n++){this.nodes[n].__visited=false}if(t.call(i,e,null)){return}var o=[e];while(o.length){var s=o.shift();var l=s[a];for(var n=0;n<l.length;n++){var u=l[n];var f=u.node1===s?u.node2:u.node1;if(!f.__visited){if(t.call(i,f,s)){return}o.push(f);f.__visited=true}}}};t.prototype.update=function(){var t=this.data;var e=this.edgeData;var r=this.nodes;var i=this.edges;for(var a=0,n=r.length;a<n;a++){r[a].dataIndex=-1}for(var a=0,n=t.count();a<n;a++){r[t.getRawIndex(a)].dataIndex=a}e.filterSelf(function(t){var r=i[e.getRawIndex(t)];return r.node1.dataIndex>=0&&r.node2.dataIndex>=0});for(var a=0,n=i.length;a<n;a++){i[a].dataIndex=-1}for(var a=0,n=e.count();a<n;a++){i[e.getRawIndex(a)].dataIndex=a}};t.prototype.clone=function(){var e=new t(this._directed);var r=this.nodes;var i=this.edges;for(var a=0;a<r.length;a++){e.addNode(r[a].id,r[a].dataIndex)}for(var a=0;a<i.length;a++){var n=i[a];e.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return e};return t}();var Cz=function(){function t(t,e){this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=-1;this.id=t==null?"":t;this.dataIndex=e==null?-1:e}t.prototype.degree=function(){return this.edges.length};t.prototype.inDegree=function(){return this.inEdges.length};t.prototype.outDegree=function(){return this.outEdges.length};t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostGraph;var r=e.data.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getAdjacentDataIndices=function(){var t={edge:[],node:[]};for(var e=0;e<this.edges.length;e++){var r=this.edges[e];if(r.dataIndex<0){continue}t.edge.push(r.dataIndex);t.node.push(r.node1.dataIndex,r.node2.dataIndex)}return t};t.prototype.getTrajectoryDataIndices=function(){var t=Mt();var e=Mt();for(var r=0;r<this.edges.length;r++){var i=this.edges[r];if(i.dataIndex<0){continue}t.set(i.dataIndex,true);var a=[i.node1];var n=[i.node2];var o=0;while(o<a.length){var s=a[o];o++;e.set(s.dataIndex,true);for(var l=0;l<s.inEdges.length;l++){t.set(s.inEdges[l].dataIndex,true);a.push(s.inEdges[l].node1)}}o=0;while(o<n.length){var u=n[o];o++;e.set(u.dataIndex,true);for(var l=0;l<u.outEdges.length;l++){t.set(u.outEdges[l].dataIndex,true);n.push(u.outEdges[l].node2)}}}return{edge:t.keys(),node:e.keys()}};return t}();var Dz=function(){function t(t,e,r){this.dataIndex=-1;this.node1=t;this.node2=e;this.dataIndex=r==null?-1:r}t.prototype.getModel=function(t){if(this.dataIndex<0){return}var e=this.hostGraph;var r=e.edgeData.getItemModel(this.dataIndex);return r.getModel(t)};t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}};t.prototype.getTrajectoryDataIndices=function(){var t=Mt();var e=Mt();t.set(this.dataIndex,true);var r=[this.node1];var i=[this.node2];var a=0;while(a<r.length){var n=r[a];a++;e.set(n.dataIndex,true);for(var o=0;o<n.inEdges.length;o++){t.set(n.inEdges[o].dataIndex,true);r.push(n.inEdges[o].node1)}}a=0;while(a<i.length){var s=i[a];a++;e.set(s.dataIndex,true);for(var o=0;o<s.outEdges.length;o++){t.set(s.outEdges[o].dataIndex,true);i.push(s.outEdges[o].node2)}}return{edge:t.keys(),node:e.keys()}};return t}();function Az(t,e){return{getValue:function(r){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,r,i)},getVisual:function(r){return this[t][e].getItemVisual(this.dataIndex,r)},setLayout:function(r,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,r,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}F(Cz,Az("hostGraph","data"));F(Dz,Az("hostGraph","edgeData"));function kz(t,e,r,i,a){var n=new Tz(i);for(var o=0;o<t.length;o++){n.addNode(ft(t[o].id,t[o].name,o),o)}var s=[];var l=[];var u=0;for(var o=0;o<e.length;o++){var f=e[o];var h=f.source;var v=f.target;if(n.addEdge(h,v,u)){l.push(f);s.push(ft(es(f.id,null),h+" > "+v));u++}}var c=r.get("coordinateSystem");var p;if(c==="cartesian2d"||c==="polar"){p=XS(t,r)}else{var d=mg.get(c);var g=d?d.dimensions||[]:[];if(V(g,"value")<0){g.concat(["value"])}var y=PS(t,{coordDimensions:g,encodeDefine:r.getEncode()}).dimensions;p=new kS(y,r);p.initData(t)}var m=new kS(["value"],r);m.initData(l,s);a&&a(p,m);TR({mainData:p,struct:n,structAttr:"graph",datas:{node:p,edge:m},datasAttr:{node:"data",edge:"edgeData"}});n.update();return n}var Lz=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new Lk(i,i);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments);Ho(e,"edgeLabel",["show"])};e.prototype.getInitialData=function(t,e){var r=t.edges||t.links||[];var i=t.data||t.nodes||[];var a=this;if(i&&r){PE(this);var n=kz(i,r,this,true,o);H(n.edges,function(t){OE(t.node1,t.node2,this,t.dataIndex)},this);return n.data}function o(t,e){t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels;var r=t.getShallow("category");var i=e[r];if(i){i.parentModel=t.parentModel;t.parentModel=i}return t});var r=qc.prototype.getModel;function i(t,e){var i=r.call(this,t,e);i.resolveParentPath=n;return i}e.wrapMethod("getItemModel",function(t){t.resolveParentPath=n;t.getModel=i;return t});function n(t){if(t&&(t[0]==="label"||t[1]==="label")){var e=t.slice();if(t[0]==="label"){e[0]="edgeLabel"}else if(t[1]==="label"){e[1]="edgeLabel"}return e}return t}}};e.prototype.getGraph=function(){return this.getData().graph};e.prototype.getEdgeData=function(){return this.getGraph().edgeData};e.prototype.getCategoriesData=function(){return this._categoriesData};e.prototype.formatTooltip=function(t,e,r){if(r==="edge"){var i=this.getData();var a=this.getDataParams(t,r);var n=i.graph.getEdgeByIndex(t);var o=i.getName(n.node1.dataIndex);var s=i.getName(n.node2.dataIndex);var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return ym("nameValue",{name:l.join(" > "),value:a.value,noValue:a.value==null})}var u=Om({series:this,dataIndex:t,multipleSeries:e});return u};e.prototype._updateCategoriesData=function(){var t=W(this.option.categories||[],function(t){return t.value!=null?t:N({value:0},t)});var e=new kS(["value"],this);e.initData(t);this._categoriesData=e;this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t)})};e.prototype.setZoom=function(t){this.option.zoom=t};e.prototype.setCenter=function(t){this.option.center=t};e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))};e.type="series.graph";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:true,layout:null,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:true,label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return e}(Vm);var Pz={type:"graphRoam",event:"graphRoam",update:"none"};function Oz(t){t.registerChartView(Mz);t.registerSeriesModel(Lz);t.registerProcessor(_E);t.registerVisual(wE);t.registerVisual(SE);t.registerLayout(zE);t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,YE);t.registerLayout(jE);t.registerCoordinateSystem("graphView",{dimensions:BO.dimensions,create:KE});t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},At);t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},At);t.registerAction(Pz,function(t,e,r){e.eachComponent({mainType:"series",query:t},function(e){var i=e.coordinateSystem;var a=JO(i,t,undefined,r);e.setCenter&&e.setCenter(a.center);e.setZoom&&e.setZoom(a.zoom)})})}var Rz=function(){function t(){this.angle=0;this.width=10;this.r=10;this.x=0;this.y=0}return t}();var Nz=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="pointer";return r}e.prototype.getDefaultShape=function(){return new Rz};e.prototype.buildPath=function(t,e){var r=Math.cos;var i=Math.sin;var a=e.r;var n=e.width;var o=e.angle;var s=e.x-r(o)*n*(n>=a/3?1:2);var l=e.y-i(o)*n*(n>=a/3?1:2);o=e.angle-Math.PI/2;t.moveTo(s,l);t.lineTo(e.x+r(o)*n,e.y+i(o)*n);t.lineTo(e.x+r(e.angle)*a,e.y+i(e.angle)*a);t.lineTo(e.x-r(o)*n,e.y-i(o)*n);t.lineTo(s,l)};return e}(wu);function Ez(t,e){var r=t.get("center");var i=e.getWidth();var a=e.getHeight();var n=Math.min(i,a);var o=ro(r[0],e.getWidth());var s=ro(r[1],e.getHeight());var l=ro(t.get("radius"),n/2);return{cx:o,cy:s,r:l}}function zz(t,e){var r=t==null?"":t+"";if(e){if(Q(e)){r=e.replace("{value}",r)}else if($(e)){r=e(t)}}return r}var Vz=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]);var a=Ez(t,r);this._renderMain(t,e,r,i,a);this._data=t.getData()};e.prototype.dispose=function(){};e.prototype._renderMain=function(t,e,r,i,a){var n=this.group;var o=t.get("clockwise");var s=-t.get("startAngle")/180*Math.PI;var l=-t.get("endAngle")/180*Math.PI;var u=t.getModel("axisLine");var f=u.get("roundCap");var h=f?VA:iv;var v=u.get("show");var c=u.getModel("lineStyle");var p=c.get("width");var d=[s,l];ql(d,!o);s=d[0];l=d[1];var g=l-s;var y=s;var m=[];for(var x=0;v&&x<i.length;x++){var _=Math.min(Math.max(i[x][0],0),1);l=s+g*_;var w=new h({shape:{startAngle:y,endAngle:l,cx:a.cx,cy:a.cy,clockwise:o,r0:a.r-p,r:a.r},silent:true});w.setStyle({fill:i[x][1]});w.setStyle(c.getLineStyle(["color","width"]));m.push(w);y=l}m.reverse();H(m,function(t){return n.add(t)});var b=function(t){if(t<=0){return i[0][1]}var e;for(e=0;e<i.length;e++){if(i[e][0]>=t&&(e===0?0:i[e-1][0])<t){return i[e][1]}}return i[e-1][1]};this._renderTicks(t,e,r,b,a,s,l,o,p);this._renderTitleAndDetail(t,e,r,b,a);this._renderAnchor(t,a);this._renderPointer(t,e,r,b,a,s,l,o,p)};e.prototype._renderTicks=function(t,e,r,i,a,n,o,s,l){var u=this.group;var f=a.cx;var h=a.cy;var v=a.r;var c=+t.get("min");var p=+t.get("max");var d=t.getModel("splitLine");var g=t.getModel("axisTick");var y=t.getModel("axisLabel");var m=t.get("splitNumber");var x=g.get("splitNumber");var _=ro(d.get("length"),v);var w=ro(g.get("length"),v);var b=n;var S=(o-n)/m;var M=S/x;var I=d.getModel("lineStyle").getLineStyle();var T=g.getModel("lineStyle").getLineStyle();var C=d.get("distance");var D;var A;for(var k=0;k<=m;k++){D=Math.cos(b);A=Math.sin(b);if(d.get("show")){var L=C?C+l:l;var P=new pv({shape:{x1:D*(v-L)+f,y1:A*(v-L)+h,x2:D*(v-_-L)+f,y2:A*(v-_-L)+h},style:I,silent:true});if(I.stroke==="auto"){P.setStyle({stroke:i(k/m)})}u.add(P)}if(y.get("show")){var L=y.get("distance")+C;var O=zz(io(k/m*(p-c)+c),y.get("formatter"));var R=i(k/m);var N=D*(v-_-L)+f;var E=A*(v-_-L)+h;var z=y.get("rotate");var V=0;if(z==="radial"){V=-b+2*Math.PI;if(V>Math.PI/2){V+=Math.PI}}else if(z==="tangential"){V=-b-Math.PI/2}else if(et(z)){V=z*Math.PI/180}if(V===0){u.add(new Bu({style:Cc(y,{text:O,x:N,y:E,verticalAlign:A<-.8?"top":A>.8?"bottom":"middle",align:D<-.4?"left":D>.4?"right":"center"},{inheritColor:R}),silent:true}))}else{u.add(new Bu({style:Cc(y,{text:O,x:N,y:E,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:true,originX:N,originY:E,rotation:V}))}}if(g.get("show")&&k!==m){var L=g.get("distance");L=L?L+l:l;for(var B=0;B<=x;B++){D=Math.cos(b);A=Math.sin(b);var F=new pv({shape:{x1:D*(v-L)+f,y1:A*(v-L)+h,x2:D*(v-w-L)+f,y2:A*(v-w-L)+h},silent:true,style:T});if(T.stroke==="auto"){F.setStyle({stroke:i((k+B/x)/m)})}u.add(F);b+=M}b-=M}else{b+=S}}};e.prototype._renderPointer=function(t,e,r,i,a,n,o,s,l){var u=this.group;var f=this._data;var h=this._progressEls;var v=[];var c=t.get(["pointer","show"]);var p=t.getModel("progress");var d=p.get("show");var g=t.getData();var y=g.mapDimension("value");var m=+t.get("min");var x=+t.get("max");var _=[m,x];var w=[n,o];function b(e,r){var i=g.getItemModel(e);var n=i.getModel("pointer");var o=ro(n.get("width"),a.r);var s=ro(n.get("length"),a.r);var l=t.get(["pointer","icon"]);var u=n.get("offsetCenter");var f=ro(u[0],a.r);var h=ro(u[1],a.r);var v=n.get("keepAspect");var c;if(l){c=c_(l,f-o/2,h-s,o,s,null,v)}else{c=new Nz({shape:{angle:-Math.PI/2,width:o,r:s,x:f,y:h}})}c.rotation=-(r+Math.PI/2);c.x=a.cx;c.y=a.cy;return c}function S(t,e){var r=p.get("roundCap");var i=r?VA:iv;var o=p.get("overlap");var u=o?p.get("width"):l/g.count();var f=o?a.r-u:a.r-(t+1)*u;var h=o?a.r:a.r-t*u;var v=new i({shape:{startAngle:n,endAngle:e,cx:a.cx,cy:a.cy,clockwise:s,r0:f,r:h}});o&&(v.z2=eo(g.get(y,t),[m,x],[100,0],true));return v}if(d||c){g.diff(f).add(function(e){var r=g.get(y,e);if(c){var i=b(e,n);Ev(i,{rotation:-((isNaN(+r)?w[0]:eo(r,_,w,true))+Math.PI/2)},t);u.add(i);g.setItemGraphicEl(e,i)}if(d){var a=S(e,n);var o=p.get("clip");Ev(a,{shape:{endAngle:eo(r,_,w,o)}},t);u.add(a);tf(t.seriesIndex,g.dataType,e,a);v[e]=a}}).update(function(e,r){var i=g.get(y,e);if(c){var a=f.getItemGraphicEl(r);var o=a?a.rotation:n;var s=b(e,o);s.rotation=o;Nv(s,{rotation:-((isNaN(+i)?w[0]:eo(i,_,w,true))+Math.PI/2)},t);u.add(s);g.setItemGraphicEl(e,s)}if(d){var l=h[r];var m=l?l.shape.endAngle:n;var x=S(e,m);var M=p.get("clip");Nv(x,{shape:{endAngle:eo(i,_,w,M)}},t);u.add(x);tf(t.seriesIndex,g.dataType,e,x);v[e]=x}}).execute();g.each(function(t){var e=g.getItemModel(t);var r=e.getModel("emphasis");var a=r.get("focus");var n=r.get("blurScope");var o=r.get("disabled");if(c){var s=g.getItemGraphicEl(t);var l=g.getItemVisual(t,"style");var u=l.fill;if(s instanceof Cu){var f=s.style;s.useStyle(N({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},l))}else{s.useStyle(l);s.type!=="pointer"&&s.setColor(u)}s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle());if(s.style.fill==="auto"){s.setStyle("fill",i(eo(g.get(y,t),_,[0,1],true)))}s.z2EmphasisLift=0;oh(s,e);rh(s,a,n,o)}if(d){var h=v[t];h.useStyle(g.getItemVisual(t,"style"));h.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle());h.z2EmphasisLift=0;oh(h,e);rh(h,a,n,o)}});this._progressEls=v}};e.prototype._renderAnchor=function(t,e){var r=t.getModel("anchor");var i=r.get("show");if(i){var a=r.get("size");var n=r.get("icon");var o=r.get("offsetCenter");var s=r.get("keepAspect");var l=c_(n,e.cx-a/2+ro(o[0],e.r),e.cy-a/2+ro(o[1],e.r),a,a,null,s);l.z2=r.get("showAbove")?1:0;l.setStyle(r.getModel("itemStyle").getItemStyle());this.group.add(l)}};e.prototype._renderTitleAndDetail=function(t,e,r,i,a){var n=this;var o=t.getData();var s=o.mapDimension("value");var l=+t.get("min");var u=+t.get("max");var f=new En;var h=[];var v=[];var c=t.isAnimationEnabled();var p=t.get(["pointer","showAbove"]);o.diff(this._data).add(function(t){h[t]=new Bu({silent:true});v[t]=new Bu({silent:true})}).update(function(t,e){h[t]=n._titleEls[e];v[t]=n._detailEls[e]}).execute();o.each(function(e){var r=o.getItemModel(e);var n=o.get(s,e);var d=new En;var g=i(eo(n,[l,u],[0,1],true));var y=r.getModel("title");if(y.get("show")){var m=y.get("offsetCenter");var x=a.cx+ro(m[0],a.r);var _=a.cy+ro(m[1],a.r);var w=h[e];w.attr({z2:p?0:2,style:Cc(y,{x:x,y:_,text:o.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:g})});d.add(w)}var b=r.getModel("detail");if(b.get("show")){var S=b.get("offsetCenter");var M=a.cx+ro(S[0],a.r);var I=a.cy+ro(S[1],a.r);var T=ro(b.get("width"),a.r);var C=ro(b.get("height"),a.r);var D=t.get(["progress","show"])?o.getItemVisual(e,"style").fill:g;var w=v[e];var A=b.get("formatter");w.attr({z2:p?0:2,style:Cc(b,{x:M,y:I,text:zz(n,A),width:isNaN(T)?null:T,height:isNaN(C)?null:C,align:"center",verticalAlign:"middle"},{inheritColor:D})});zc(w,{normal:b},n,function(t){return zz(t,A)});c&&Vc(w,e,o,t,{getFormattedLabel:function(t,e,r,i,a,o){return zz(o?o.interpolatedValue:n,A)}});d.add(w)}f.add(d)});this.group.add(f);this._titleEls=h;this._detailEls=v};e.type="gauge";return e}(Jm);var Bz=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="itemStyle";return r}e.prototype.getInitialData=function(t,e){return kk(this,["value"])};e.type="series.gauge";e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,roundCap:false,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:false,overlap:true,width:10,roundCap:false,clip:true},splitLine:{show:true,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:true,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:true,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:true,showAbove:true,length:"60%",width:6,keepAspect:false},anchor:{show:false,showAbove:false,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:false,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:true,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:false},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:false}};return e}(Vm);function Fz(t){t.registerChartView(Vz);t.registerSeriesModel(Bz)}var Gz=["itemStyle","opacity"];var Hz=function(t){i(e,t);function e(e,r){var i=t.call(this)||this;var a=i;var n=new hv;var o=new Bu;a.setTextContent(o);i.setTextGuideLine(n);i.updateData(e,r,true);return i}e.prototype.updateData=function(t,e,r){var i=this;var a=t.hostModel;var n=t.getItemModel(e);var o=t.getItemLayout(e);var s=n.getModel("emphasis");var l=n.get(Gz);l=l==null?1:l;if(!r){Gv(i)}i.useStyle(t.getItemVisual(e,"style"));i.style.lineJoin="round";if(r){i.setShape({points:o.points});i.style.opacity=0;Ev(i,{style:{opacity:l}},a,e)}else{Nv(i,{style:{opacity:l},shape:{points:o.points}},a,e)}oh(i,n);this._updateLabel(t,e);rh(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))};e.prototype._updateLabel=function(t,e){var r=this;var i=this.getTextGuideLine();var a=r.getTextContent();var n=t.hostModel;var o=t.getItemModel(e);var s=t.getItemLayout(e);var l=s.label;var u=t.getItemVisual(e,"style");var f=u.fill;Ic(a,Tc(o),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:u.opacity,defaultText:t.getName(e)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}});r.setTextConfig({local:true,inside:!!l.inside,insideStroke:f,outsideFill:f});var h=l.linePoints;i.setShape({points:h});r.textGuideLineConfig={anchor:h?new Xe(h[0][0],h[0][1]):null};Nv(a,{style:{x:l.x,y:l.y}},n,e);a.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10});RT(r,NT(o),{stroke:f})};return e}(uv);var Wz=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.ignoreLabelLineUpdate=true;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._data;var n=this.group;i.diff(a).add(function(t){var e=new Hz(i,t);i.setItemGraphicEl(t,e);n.add(e)}).update(function(t,e){var r=a.getItemGraphicEl(e);r.updateData(i,t);n.add(r);i.setItemGraphicEl(t,r)}).remove(function(e){var r=a.getItemGraphicEl(e);Fv(r,t,e)}).execute();this._data=i};e.prototype.remove=function(){this.group.removeAll();this._data=null};e.prototype.dispose=function(){};e.type="funnel";return e}(Jm);var Uz=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Lk(q(this.getData,this),q(this.getRawData,this));this._defaultLabelLine(e)};e.prototype.getInitialData=function(t,e){return kk(this,{coordDimensions:["value"],encodeDefaulter:K(Bd,this)})};e.prototype._defaultLabelLine=function(t){Ho(t,"labelLine",["show"]);var e=t.labelLine;var r=t.emphasis.labelLine;e.show=e.show&&t.label.show;r.show=r.show&&t.emphasis.label.show};e.prototype.getDataParams=function(e){var r=this.getData();var i=t.prototype.getDataParams.call(this,e);var a=r.mapDimension("value");var n=r.getSum(a);i.percent=!n?0:+(r.get(a,e)/n*100).toFixed(2);i.$vars.push("percent");return i};e.type="series.funnel";e.defaultOption={z:2,legendHoverLink:true,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return e}(Vm);function Yz(t,e){return cd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Xz(t,e){var r=t.mapDimension("value");var i=t.mapArray(r,function(t){return t});var a=[];var n=e==="ascending";for(var o=0,s=t.count();o<s;o++){a[o]=o}if($(e)){a.sort(e)}else if(e!=="none"){a.sort(function(t,e){return n?i[t]-i[e]:i[e]-i[t]})}return a}function Zz(t){var e=t.hostModel;var r=e.get("orient");t.each(function(e){var i=t.getItemModel(e);var a=i.getModel("label");var n=a.get("position");var o=i.getModel("labelLine");var s=t.getItemLayout(e);var l=s.points;var u=n==="inner"||n==="inside"||n==="center"||n==="insideLeft"||n==="insideRight";var f;var h;var v;var c;if(u){if(n==="insideLeft"){h=(l[0][0]+l[3][0])/2+5;v=(l[0][1]+l[3][1])/2;f="left"}else if(n==="insideRight"){h=(l[1][0]+l[2][0])/2-5;v=(l[1][1]+l[2][1])/2;f="right"}else{h=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4;v=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4;f="center"}c=[[h,v],[h,v]]}else{var p=void 0;var d=void 0;var g=void 0;var y=void 0;var m=o.get("length");if(true){if(r==="vertical"&&["top","bottom"].indexOf(n)>-1){n="left";console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")}if(r==="horizontal"&&["left","right"].indexOf(n)>-1){n="bottom";console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.")}}if(n==="left"){p=(l[3][0]+l[0][0])/2;d=(l[3][1]+l[0][1])/2;g=p-m;h=g-5;f="right"}else if(n==="right"){p=(l[1][0]+l[2][0])/2;d=(l[1][1]+l[2][1])/2;g=p+m;h=g+5;f="left"}else if(n==="top"){p=(l[3][0]+l[0][0])/2;d=(l[3][1]+l[0][1])/2;y=d-m;v=y-5;f="center"}else if(n==="bottom"){p=(l[1][0]+l[2][0])/2;d=(l[1][1]+l[2][1])/2;y=d+m;v=y+5;f="center"}else if(n==="rightTop"){p=r==="horizontal"?l[3][0]:l[1][0];d=r==="horizontal"?l[3][1]:l[1][1];if(r==="horizontal"){y=d-m;v=y-5;f="center"}else{g=p+m;h=g+5;f="top"}}else if(n==="rightBottom"){p=l[2][0];d=l[2][1];if(r==="horizontal"){y=d+m;v=y+5;f="center"}else{g=p+m;h=g+5;f="bottom"}}else if(n==="leftTop"){p=l[0][0];d=r==="horizontal"?l[0][1]:l[1][1];if(r==="horizontal"){y=d-m;v=y-5;f="center"}else{g=p-m;h=g-5;f="right"}}else if(n==="leftBottom"){p=r==="horizontal"?l[1][0]:l[3][0];d=r==="horizontal"?l[1][1]:l[2][1];if(r==="horizontal"){y=d+m;v=y+5;f="center"}else{g=p-m;h=g-5;f="right"}}else{p=(l[1][0]+l[2][0])/2;d=(l[1][1]+l[2][1])/2;if(r==="horizontal"){y=d+m;v=y+5;f="center"}else{g=p+m;h=g+5;f="left"}}if(r==="horizontal"){g=p;h=g}else{y=d;v=y}c=[[p,d],[g,y]]}s.label={linePoints:c,x:h,y:v,verticalAlign:"middle",textAlign:f,inside:u}})}function jz(t,e){t.eachSeriesByType("funnel",function(t){var r=t.getData();var i=r.mapDimension("value");var a=t.get("sort");var n=Yz(t,e);var o=t.get("orient");var s=n.width;var l=n.height;var u=Xz(r,a);var f=n.x;var h=n.y;var v=o==="horizontal"?[ro(t.get("minSize"),l),ro(t.get("maxSize"),l)]:[ro(t.get("minSize"),s),ro(t.get("maxSize"),s)];var c=r.getDataExtent(i);var p=t.get("min");var d=t.get("max");if(p==null){p=Math.min(c[0],0)}if(d==null){d=c[1]}var g=t.get("funnelAlign");var y=t.get("gap");var m=o==="horizontal"?s:l;var x=(m-y*(r.count()-1))/r.count();var _=function(t,e){if(o==="horizontal"){var a=r.get(i,t)||0;var n=eo(a,[p,d],v,true);var u=void 0;switch(g){case"top":u=h;break;case"center":u=h+(l-n)/2;break;case"bottom":u=h+(l-n);break}return[[e,u],[e,u+n]]}var c=r.get(i,t)||0;var y=eo(c,[p,d],v,true);var m;switch(g){case"left":m=f;break;case"center":m=f+(s-y)/2;break;case"right":m=f+s-y;break}return[[m,e],[m+y,e]]};if(a==="ascending"){x=-x;y=-y;if(o==="horizontal"){f+=s}else{h+=l}u=u.reverse()}for(var w=0;w<u.length;w++){var b=u[w];var S=u[w+1];var M=r.getItemModel(b);if(o==="horizontal"){var I=M.get(["itemStyle","width"]);if(I==null){I=x}else{I=ro(I,s);if(a==="ascending"){I=-I}}var T=_(b,f);var C=_(S,f+I);f+=I+y;r.setItemLayout(b,{points:T.concat(C.slice().reverse())})}else{var D=M.get(["itemStyle","height"]);if(D==null){D=x}else{D=ro(D,l);if(a==="ascending"){D=-D}}var T=_(b,h);var C=_(S,h+D);h+=D+y;r.setItemLayout(b,{points:T.concat(C.slice().reverse())})}}Zz(r)})}function qz(t){t.registerChartView(Wz);t.registerSeriesModel(Uz);t.registerLayout(jz);t.registerProcessor(wk("funnel"))}var Kz=.3;var Jz=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._dataGroup=new En;r._initialized=false;return r}e.prototype.init=function(){this.group.add(this._dataGroup)};e.prototype.render=function(t,e,r,i){this._progressiveEls=null;var a=this._dataGroup;var n=t.getData();var o=this._data;var s=t.coordinateSystem;var l=s.dimensions;var u=eV(t);n.diff(o).add(f).update(h).remove(v).execute();function f(t){var e=tV(n,a,t,l,s);rV(e,n,t,u)}function h(e,r){var i=o.getItemGraphicEl(r);var a=Qz(n,e,l,s);n.setItemGraphicEl(e,i);Nv(i,{shape:{points:a}},t,e);Gv(i);rV(i,n,e,u)}function v(t){var e=o.getItemGraphicEl(t);a.remove(e)}if(!this._initialized){this._initialized=true;var c=$z(s,t,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(c)}this._data=n};e.prototype.incrementalPrepareRender=function(t,e,r){this._initialized=true;this._data=null;this._dataGroup.removeAll()};e.prototype.incrementalRender=function(t,e,r){var i=e.getData();var a=e.coordinateSystem;var n=a.dimensions;var o=eV(e);var s=this._progressiveEls=[];for(var l=t.start;l<t.end;l++){var u=tV(i,this._dataGroup,l,n,a);u.incremental=true;rV(u,i,l,o);s.push(u)}};e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null};e.type="parallel";return e}(Jm);function $z(t,e,r){var i=t.model;var a=t.getRect();var n=new Nu({shape:{x:a.x,y:a.y,width:a.width,height:a.height}});var o=i.get("layout")==="horizontal"?"width":"height";n.setShape(o,0);Ev(n,{shape:{width:a.width,height:a.height}},e,r);return n}function Qz(t,e,r,i){var a=[];for(var n=0;n<r.length;n++){var o=r[n];var s=t.get(t.mapDimension(o),e);if(!iV(s,i.getAxis(o).type)){a.push(i.dataToPoint(s,o))}}return a}function tV(t,e,r,i,a){var n=Qz(t,r,i,a);var o=new hv({shape:{points:n},z2:10});e.add(o);t.setItemGraphicEl(r,o);return o}function eV(t){var e=t.get("smooth",true);e===true&&(e=Kz);e=bo(e);ut(e)&&(e=0);return{smooth:e}}function rV(t,e,r,i){t.useStyle(e.getItemVisual(r,"style"));t.style.fill=null;t.setShape("smooth",i.smooth);var a=e.getItemModel(r);var n=a.getModel("emphasis");oh(t,a,"lineStyle");rh(t,n.get("focus"),n.get("blurScope"),n.get("disabled"))}function iV(t,e){return e==="category"?t==null:t==null||isNaN(t)}var aV=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="lineStyle";r.visualDrawType="stroke";return r}e.prototype.getInitialData=function(t,e){return XS(null,this,{useEncodeDefaulter:q(nV,null,this)})};e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem;var r=this.getData();var i=[];e.eachActiveState(r,function(e,a){if(t===e){i.push(r.getRawIndex(a))}});return i};e.type="series.parallel";e.dependencies=["parallel"];e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"};return e}(Vm);function nV(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(!e){return}var r={};H(e.dimensions,function(t){var e=oV(t);r[t]=e});return r}function oV(t){return+t.replace("dim","")}var sV=["lineStyle","opacity"];var lV={seriesType:"parallel",reset:function(t,e){var r=t.coordinateSystem;var i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){r.eachActiveState(e,function(t,r){var a=i[t];if(t==="normal"&&e.hasItemOption){var n=e.getItemModel(r).get(sV,true);n!=null&&(a=n)}var o=e.ensureUniqueItemVisual(r,"style");o.opacity=a},t.start,t.end)}}}};function uV(t){fV(t);hV(t)}function fV(t){if(t.parallel){return}var e=false;H(t.series,function(t){if(t&&t.type==="parallel"){e=true}});if(e){t.parallel=[{}]}}function hV(t){var e=Go(t.parallelAxis);H(e,function(e){if(!rt(e)){return}var r=e.parallelIndex||0;var i=Go(t.parallel)[r];if(i&&i.parallelAxisDefault){O(e,i.parallelAxisDefault,false)}})}var vV=5;var cV=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this._model=t;this._api=r;if(!this._handlers){this._handlers={};H(pV,function(t,e){r.getZr().on(e,this._handlers[e]=q(t,this))},this)}sx(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")};e.prototype.dispose=function(t,e){lx(this,"_throttledDispatchExpand");H(this._handlers,function(t,r){e.getZr().off(r,t)});this._handlers=null};e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)};e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(N({type:"parallelAxisExpand"},t))};e.type="parallel";return e}(Zm);var pV={mousedown:function(t){if(dV(this,"click")){this._mouseDownPoint=[t.offsetX,t.offsetY]}},mouseup:function(t){var e=this._mouseDownPoint;if(dV(this,"click")&&e){var r=[t.offsetX,t.offsetY];var i=Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2);if(i>vV){return}var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(this._mouseDownPoint||!dV(this,"mousemove")){return}var e=this._model;var r=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);var i=r.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce"));this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}};function dV(t,e){var r=t._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===e}var gV=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){t.prototype.init.apply(this,arguments);this.mergeOption({})};e.prototype.mergeOption=function(t){var e=this.option;t&&O(e,t,true);this._initDimensions()};e.prototype.contains=function(t,e){var r=t.get("parallelIndex");return r!=null&&e.getComponent("parallel",r)===this};e.prototype.setAxisExpand=function(t){H(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){if(t.hasOwnProperty(e)){this.option[e]=t[e]}},this)};e.prototype._initDimensions=function(){var t=this.dimensions=[];var e=this.parallelAxisIndex=[];var r=Y(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);H(r,function(r){t.push("dim"+r.get("dim"));e.push(r.componentIndex)})};e.type="parallel";e.dependencies=["parallelAxis"];e.layoutMode="box";e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};return e}(wd);var yV=function(t){i(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.type=a||"value";o.axisIndex=n;return o}e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"};return e}(nT);function mV(t,e,r,i,a,n){t=t||0;var o=r[1]-r[0];if(a!=null){a=_V(a,[0,o])}if(n!=null){n=Math.max(n,a!=null?a:0)}if(i==="all"){var s=Math.abs(e[1]-e[0]);s=_V(s,[0,o]);a=n=_V(s,[a,n]);i=0}e[0]=_V(e[0],r);e[1]=_V(e[1],r);var l=xV(e,i);e[i]+=t;var u=a||0;var f=r.slice();l.sign<0?f[0]+=u:f[1]-=u;e[i]=_V(e[i],f);var h;h=xV(e,i);if(a!=null&&(h.sign!==l.sign||h.span<a)){e[1-i]=e[i]+l.sign*a}h=xV(e,i);if(n!=null&&h.span>n){e[1-i]=e[i]+h.sign*n}return e}function xV(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function _V(t,e){return Math.min(e[1]!=null?e[1]:Infinity,Math.max(e[0]!=null?e[0]:-Infinity,t))}var wV=H;var bV=Math.min;var SV=Math.max;var MV=Math.floor;var IV=Math.ceil;var TV=io;var CV=Math.PI;var DV=function(){function t(t,e,r){this.type="parallel";this._axesMap=Mt();this._axesLayout={};this.dimensions=t.dimensions;this._model=t;this._init(t,e,r)}t.prototype._init=function(t,e,r){var i=t.dimensions;var a=t.parallelAxisIndex;wV(i,function(t,r){var i=a[r];var n=e.getComponent("parallelAxis",i);var o=this._axesMap.set(t,new yV(t,aI(n),[0,0],n.get("type"),i));var s=o.type==="category";o.onBand=s&&n.get("boundaryGap");o.inverse=n.get("inverse");n.axis=o;o.model=n;o.coordinateSystem=n.coordinateSystem=this},this)};t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)};t.prototype.containPoint=function(t){var e=this._makeLayoutInfo();var r=e.axisBase;var i=e.layoutBase;var a=e.pixelDimIndex;var n=t[1-a];var o=t[a];return n>=r&&n<=r+e.axisLength&&o>=i&&o<=i+e.layoutLength};t.prototype.getModel=function(){return this._model};t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(!t.contains(r,e)){return}var i=r.getData();wV(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t));iI(e.scale,e.model)},this)},this)};t.prototype.resize=function(t,e){this._rect=cd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._layoutAxes()};t.prototype.getRect=function(){return this._rect};t.prototype._makeLayoutInfo=function(){var t=this._model;var e=this._rect;var r=["x","y"];var i=["width","height"];var a=t.get("layout");var n=a==="horizontal"?0:1;var o=e[i[n]];var s=[0,o];var l=this.dimensions.length;var u=AV(t.get("axisExpandWidth"),s);var f=AV(t.get("axisExpandCount")||0,[0,l]);var h=t.get("axisExpandable")&&l>3&&l>f&&f>1&&u>0&&o>0;var v=t.get("axisExpandWindow");var c;if(!v){c=AV(u*(f-1),s);var p=t.get("axisExpandCenter")||MV(l/2);v=[u*p-c/2];v[1]=v[0]+c}else{c=AV(v[1]-v[0],s);v[1]=v[0]+c}var d=(o-c)/(l-f);d<3&&(d=0);var g=[MV(TV(v[0]/u,1))+1,IV(TV(v[1]/u,1))-1];var y=d/u*v[0];return{layout:a,pixelDimIndex:n,layoutBase:e[r[n]],layoutLength:o,axisBase:e[r[1-n]],axisLength:e[i[1-n]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:d,axisExpandWindow:v,axisCount:l,winInnerIndices:g,axisExpandWindow0Pos:y}};t.prototype._layoutAxes=function(){var t=this._rect;var e=this._axesMap;var r=this.dimensions;var i=this._makeLayoutInfo();var a=i.layout;e.each(function(t){var e=[0,i.axisLength];var r=t.inverse?1:0;t.setExtent(e[r],e[1-r])});wV(r,function(e,r){var n=(i.axisExpandable?LV:kV)(r,i);var o={horizontal:{x:n.position,y:i.axisLength},vertical:{x:0,y:n.position}};var s={horizontal:CV/2,vertical:0};var l=[o[a].x+t.x,o[a].y+t.y];var u=s[a];var f=Ee();Ge(f,f,u);Fe(f,f,l);this._axesLayout[e]={position:l,rotation:u,transform:f,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)};t.prototype.getAxis=function(t){return this._axesMap.get(t)};t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)};t.prototype.eachActiveState=function(t,e,r,i){r==null&&(r=0);i==null&&(i=t.count());var a=this._axesMap;var n=this.dimensions;var o=[];var s=[];H(n,function(e){o.push(t.mapDimension(e));s.push(a.get(e).model)});var l=this.hasAxisBrushed();for(var u=r;u<i;u++){var f=void 0;if(!l){f="normal"}else{f="active";var h=t.getValues(o,u);for(var v=0,c=n.length;v<c;v++){var p=s[v].getActiveState(h[v]);if(p==="inactive"){f="inactive";break}}}e(f,u)}};t.prototype.hasAxisBrushed=function(){var t=this.dimensions;var e=this._axesMap;var r=false;for(var i=0,a=t.length;i<a;i++){if(e.get(t[i]).model.getActiveState()!=="normal"){r=true}}return r};t.prototype.axisCoordToPoint=function(t,e){var r=this._axesLayout[e];return oc([t,0],r.transform)};t.prototype.getAxisLayout=function(t){return P(this._axesLayout[t])};t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo();var r=e.pixelDimIndex;var i=e.axisExpandWindow.slice();var a=i[1]-i[0];var n=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t)){return{behavior:"none",axisExpandWindow:i}}var o=t[r]-e.layoutBase-e.axisExpandWindow0Pos;var s;var l="slide";var u=e.axisCollapseWidth;var f=this._model.get("axisExpandSlideTriggerArea");var h=f[0]!=null;if(u){if(h&&u&&o<a*f[0]){l="jump";s=o-a*f[2]}else if(h&&u&&o>a*(1-f[0])){l="jump";s=o-a*(1-f[2])}else{(s=o-a*f[1])>=0&&(s=o-a*(1-f[1]))<=0&&(s=0)}s*=e.axisExpandWidth/u;s?mV(s,i,n,"all"):l="none"}else{var v=i[1]-i[0];var c=n[1]*o/v;i=[SV(0,c-v/2)];i[1]=bV(n[1],i[0]+v);i[0]=i[1]-v}return{axisExpandWindow:i,behavior:l}};return t}();function AV(t,e){return bV(SV(t,e[0]),e[1])}function kV(t,e){var r=e.layoutLength/(e.axisCount-1);return{position:r*t,axisNameAvailableWidth:r,axisLabelShow:true}}function LV(t,e){var r=e.layoutLength;var i=e.axisExpandWidth;var a=e.axisCount;var n=e.axisCollapseWidth;var o=e.winInnerIndices;var s;var l=n;var u=false;var f;if(t<o[0]){s=t*n;f=n}else if(t<=o[1]){s=e.axisExpandWindow0Pos+t*i-e.axisExpandWindow[0];l=i;u=true}else{s=r-(a-1-t)*n;f=n}return{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:f}}function PV(t,e){var r=[];t.eachComponent("parallel",function(i,a){var n=new DV(i,t,e);n.name="parallel_"+a;n.resize(i,e);i.coordinateSystem=n;n.model=i;r.push(n)});t.eachSeries(function(t){if(t.get("coordinateSystem")==="parallel"){var e=t.getReferringComponents("parallel",ds).models[0];t.coordinateSystem=e.coordinateSystem}});return r}var OV={create:PV};var RV=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.activeIntervals=[];return r}e.prototype.getAreaSelectStyle=function(){return zs([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))};e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=P(t);if(e){for(var r=e.length-1;r>=0;r--){ao(e[r])}}};e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length){return"normal"}if(t==null||isNaN(+t)){return"inactive"}if(e.length===1){var r=e[0];if(r[0]<=t&&t<=r[1]){return"active"}}else{for(var i=0,a=e.length;i<a;i++){if(e[i][0]<=t&&t<=e[i][1]){return"active"}}}return"inactive"};return e}(wd);F(RV,pI);var NV=true;var EV=Math.min;var zV=Math.max;var VV=Math.pow;var BV=1e4;var FV=6;var GV=6;var HV="globalPan";var WV={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var UV={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var YV={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:true,brushMode:"single",removeOnClick:false};var XV=0;var ZV=function(t){i(e,t);function e(e){var r=t.call(this)||this;r._track=[];r._covers=[];r._handlers={};if(true){dt(e)}r._zr=e;r.group=new En;r._uid="brushController_"+XV++;H(IB,function(t,e){this._handlers[e]=q(t,this)},r);return r}e.prototype.enableBrush=function(t){if(true){dt(this._mounted)}this._brushType&&this._doDisableBrush();t.brushType&&this._doEnableBrush(t);return this};e.prototype._doEnableBrush=function(t){var e=this._zr;if(!this._enableGlobalPan){pP(e,HV,this._uid)}H(this._handlers,function(t,r){e.on(r,t)});this._brushType=t.brushType;this._brushOption=O(P(YV),t,true)};e.prototype._doDisableBrush=function(){var t=this._zr;dP(t,HV,this._uid);H(this._handlers,function(e,r){t.off(r,e)});this._brushType=this._brushOption=null};e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};H(t,function(t){e[t.panelId]=P(t)})}else{this._panels=null}return this};e.prototype.mount=function(t){t=t||{};if(true){this._mounted=true}this._enableGlobalPan=t.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1});this._transform=e.getLocalTransform();return this};e.prototype.updateCovers=function(t){if(true){dt(this._mounted)}t=W(t,function(t){return O(P(YV),t,true)});var e="\0-brush-index-";var r=this._covers;var i=this._covers=[];var a=this;var n=this._creatingCover;new rS(r,t,s,o).add(l).update(l).remove(u).execute();return this;function o(t,r){return(t.id!=null?t.id:e+r)+"-"+t.brushType}function s(t,e){return o(t.__brushOption,e)}function l(e,o){var s=t[e];if(o!=null&&r[o]===n){i[e]=r[o]}else{var l=i[e]=o!=null?(r[o].__brushOption=s,r[o]):qV(a,jV(a,s));$V(a,l)}}function u(t){if(r[t]!==n){a.group.remove(r[t])}}};e.prototype.unmount=function(){if(true){if(!this._mounted){return}}this.enableBrush(false);rB(this);this._zr.remove(this.group);if(true){this._mounted=false}return this};e.prototype.dispose=function(){this.unmount();this.off()};return e}(oe);function jV(t,e){var r=DB[e.brushType].createCover(t,e);r.__brushOption=e;JV(r,e);t.group.add(r);return r}function qV(t,e){var r=QV(e);if(r.endCreating){r.endCreating(t,e);JV(e,e.__brushOption)}return e}function KV(t,e){var r=e.__brushOption;QV(e).updateCoverShape(t,e,r.range,r)}function JV(t,e){var r=e.z;r==null&&(r=BV);t.traverse(function(t){t.z=r;t.z2=r})}function $V(t,e){QV(e).updateCommon(t,e);KV(t,e)}function QV(t){return DB[t.__brushOption.brushType]}function tB(t,e,r){var i=t._panels;if(!i){return NV}var a;var n=t._transform;H(i,function(t){t.isTargetByCursor(e,r,n)&&(a=t)});return a}function eB(t,e){var r=t._panels;if(!r){return NV}var i=e.__brushOption.panelId;return i!=null?r[i]:NV}function rB(t){var e=t._covers;var r=e.length;H(e,function(e){t.group.remove(e)},t);e.length=0;return!!r}function iB(t,e){var r=W(t._covers,function(t){var e=t.__brushOption;var r=P(e.range);return{brushType:e.brushType,panelId:e.panelId,range:r}});t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function aB(t){var e=t._track;if(!e.length){return false}var r=e[e.length-1];var i=e[0];var a=r[0]-i[0];var n=r[1]-i[1];var o=VV(a*a+n*n,.5);return o>FV}function nB(t){var e=t.length-1;e<0&&(e=0);return[t[0],t[e]]}function oB(t,e,r,i){var a=new En;a.add(new Nu({name:"main",style:fB(r),silent:true,draggable:true,cursor:"move",drift:K(dB,t,e,a,["n","s","w","e"]),ondragend:K(iB,e,{isEnd:true})}));H(i,function(r){a.add(new Nu({name:r.join(""),style:{opacity:0},draggable:true,silent:true,invisible:true,drift:K(dB,t,e,a,r),ondragend:K(iB,e,{isEnd:true})}))});return a}function sB(t,e,r,i){var a=i.brushStyle.lineWidth||0;var n=zV(a,GV);var o=r[0][0];var s=r[1][0];var l=o-a/2;var u=s-a/2;var f=r[0][1];var h=r[1][1];var v=f-n+a/2;var c=h-n+a/2;var p=f-o;var d=h-s;var g=p+a;var y=d+a;uB(t,e,"main",o,s,p,d);if(i.transformable){uB(t,e,"w",l,u,n,y);uB(t,e,"e",v,u,n,y);uB(t,e,"n",l,u,g,n);uB(t,e,"s",l,c,g,n);uB(t,e,"nw",l,u,n,n);uB(t,e,"ne",v,u,n,n);uB(t,e,"sw",l,c,n,n);uB(t,e,"se",v,c,n,n)}}function lB(t,e){var r=e.__brushOption;var i=r.transformable;var a=e.childAt(0);a.useStyle(fB(r));a.attr({silent:!i,cursor:i?"move":"default"});H([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(r){var a=e.childOfName(r.join(""));var n=r.length===1?cB(t,r[0]):pB(t,r);a&&a.attr({silent:!i,invisible:!i,cursor:i?UV[n]+"-resize":null})})}function uB(t,e,r,i,a,n,o){var s=e.childOfName(r);s&&s.setShape(xB(mB(t,e,[[i,a],[i+n,a+o]])))}function fB(t){return E({strokeNoScale:true},t.brushStyle)}function hB(t,e,r,i){var a=[EV(t,r),EV(e,i)];var n=[zV(t,r),zV(e,i)];return[[a[0],n[0]],[a[1],n[1]]]}function vB(t){return nc(t.group)}function cB(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"};var i={left:"w",right:"e",top:"n",bottom:"s"};var a=sc(r[e],vB(t));return i[a]}function pB(t,e){var r=[cB(t,e[0]),cB(t,e[1])];(r[0]==="e"||r[0]==="w")&&r.reverse();return r.join("")}function dB(t,e,r,i,a,n){var o=r.__brushOption;var s=t.toRectRange(o.range);var l=yB(e,a,n);H(i,function(t){var e=WV[t];s[e[0]][e[1]]+=l[e[0]]});o.range=t.fromRectRange(hB(s[0][0],s[1][0],s[0][1],s[1][1]));$V(e,r);iB(e,{isEnd:false})}function gB(t,e,r,i){var a=e.__brushOption.range;var n=yB(t,r,i);H(a,function(t){t[0]+=n[0];t[1]+=n[1]});$V(t,e);iB(t,{isEnd:false})}function yB(t,e,r){var i=t.group;var a=i.transformCoordToLocal(e,r);var n=i.transformCoordToLocal(0,0);return[a[0]-n[0],a[1]-n[1]]}function mB(t,e,r){var i=eB(t,e);return i&&i!==NV?i.clipPath(r,t._transform):P(r)}function xB(t){var e=EV(t[0][0],t[1][0]);var r=EV(t[0][1],t[1][1]);var i=zV(t[0][0],t[1][0]);var a=zV(t[0][1],t[1][1]);return{x:e,y:r,width:i-e,height:a-r}}function _B(t,e,r){if(!t._brushType||CB(t,e.offsetX,e.offsetY)){return}var i=t._zr;var a=t._covers;var n=tB(t,e,r);if(!t._dragging){for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(n&&(n===NV||s.panelId===n.panelId)&&DB[s.brushType].contain(a[o],r[0],r[1])){return}}}n&&i.setCursorStyle("crosshair")}function wB(t){var e=t.event;e.preventDefault&&e.preventDefault()}function bB(t,e,r){return t.childOfName("main").contain(e,r)}function SB(t,e,r,i){var a=t._creatingCover;var n=t._creatingPanel;var o=t._brushOption;var s;t._track.push(r.slice());if(aB(t)||a){if(n&&!a){o.brushMode==="single"&&rB(t);var l=P(o);l.brushType=MB(l.brushType,n);l.panelId=n===NV?null:n.panelId;a=t._creatingCover=jV(t,l);t._covers.push(a)}if(a){var u=DB[MB(t._brushType,n)];var f=a.__brushOption;f.range=u.getCreatingRange(mB(t,a,t._track));if(i){qV(t,a);u.updateCommon(t,a)}KV(t,a);s={isEnd:i}}}else if(i&&o.brushMode==="single"&&o.removeOnClick){if(tB(t,e,r)&&rB(t)){s={isEnd:i,removeOnClick:true}}}return s}function MB(t,e){if(t==="auto"){if(true){dt(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return e.defaultBrushType}return t}var IB={mousedown:function(t){if(this._dragging){TB(this,t)}else if(!t.target||!t.target.draggable){wB(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=tB(this,t,e);if(r){this._dragging=true;this._track=[e.slice()]}}},mousemove:function(t){var e=t.offsetX;var r=t.offsetY;var i=this.group.transformCoordToLocal(e,r);_B(this,t,i);if(this._dragging){wB(t);var a=SB(this,t,i,false);a&&iB(this,a)}},mouseup:function(t){TB(this,t)}};function TB(t,e){if(t._dragging){wB(e);var r=e.offsetX;var i=e.offsetY;var a=t.group.transformCoordToLocal(r,i);var n=SB(t,e,a,true);t._dragging=false;t._track=[];t._creatingCover=null;n&&iB(t,n)}}function CB(t,e,r){var i=t._zr;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var DB={lineX:AB(0),lineY:AB(1),rect:{createCover:function(t,e){function r(t){return t}return oB({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=nB(t);return hB(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,i){sB(t,e,r,i)},updateCommon:lB,contain:bB},polygon:{createCover:function(t,e){var r=new En;r.add(new hv({name:"main",style:fB(e),silent:true}));return r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0));e.add(new uv({name:"main",draggable:true,drift:K(gB,t,e),ondragend:K(iB,t,{isEnd:true})}))},updateCoverShape:function(t,e,r,i){e.childAt(0).setShape({points:mB(t,e,r)})},updateCommon:lB,contain:bB}};function AB(t){return{createCover:function(e,r){return oB({toRectRange:function(e){var r=[e,[0,100]];t&&r.reverse();return r},fromRectRange:function(e){return e[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=nB(e);var i=EV(r[0][t],r[1][t]);var a=zV(r[0][t],r[1][t]);return[i,a]},updateCoverShape:function(e,r,i,a){var n;var o=eB(e,r);if(o!==NV&&o.getLinearBrushOtherExtent){n=o.getLinearBrushOtherExtent(t)}else{var s=e._zr;n=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,n];t&&l.reverse();sB(e,r,l,a)},updateCommon:lB,contain:bB}}function kB(t){t=OB(t);return function(e){return hc(e,t)}}function LB(t,e){t=OB(t);return function(r){var i=e!=null?e:r;var a=i?t.width:t.height;var n=i?t.x:t.y;return[n,n+(a||0)]}}function PB(t,e,r){var i=OB(t);return function(t,a){return i.contain(a[0],a[1])&&!IP(t,e,r)}}function OB(t){return er.create(t)}var RB=["axisLine","axisTickLabel","axisName"];var NB=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e,r){t.prototype.init.apply(this,arguments);(this._brushController=new ZV(r.getZr())).on("brush",q(this._onBrush,this))};e.prototype.render=function(t,e,r,i){if(EB(t,e,i)){return}this.axisModel=t;this.api=r;this.group.removeAll();var a=this._axisGroup;this._axisGroup=new En;this.group.add(this._axisGroup);if(!t.get("show")){return}var n=VB(t,e);var o=n.coordinateSystem;var s=t.getAreaSelectStyle();var l=s.width;var u=t.axis.dim;var f=o.getAxisLayout(u);var h=N({strokeContainThreshold:l},f);var v=new dL(t,h);H(RB,v.add,v);this._axisGroup.add(v.getGroup());this._refreshBrushController(h,s,t,n,l,r);fc(a,this._axisGroup,t)};e.prototype._refreshBrushController=function(t,e,r,i,a,n){var o=r.axis.getExtent();var s=o[1]-o[0];var l=Math.min(30,Math.abs(s)*.1);var u=er.create({x:o[0],y:-a/2,width:s,height:a});u.x-=l;u.width+=2*l;this._brushController.mount({enableGlobalPan:true,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:kB(u),isTargetByCursor:PB(u,n,i),getLinearBrushOtherExtent:LB(u,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:true}).updateCovers(zB(r))};e.prototype._onBrush=function(t){var e=t.areas;var r=this.axisModel;var i=r.axis;var a=W(e,function(t){return[i.coordToData(t.range[0],true),i.coordToData(t.range[1],true)]});if(!r.option.realtime===t.isEnd||t.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})}};e.prototype.dispose=function(){this._brushController.dispose()};e.type="parallelAxis";return e}(Zm);function EB(t,e,r){return r&&r.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:r})[0]===t}function zB(t){var e=t.axis;return W(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],true),e.dataToCoord(t[1],true)]}})}function VB(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var BB={type:"axisAreaSelect",event:"axisAreaSelected"};function FB(t){t.registerAction(BB,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})});t.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})}var GB={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:true,z:10};function HB(t){t.registerComponentView(cV);t.registerComponentModel(gV);t.registerCoordinateSystem("parallel",OV);t.registerPreprocessor(uV);t.registerComponentModel(RV);t.registerComponentView(NB);Jk(t,"parallel",RV,GB);FB(t)}function WB(t){Qb(HB);t.registerChartView(Jz);t.registerSeriesModel(aV);t.registerVisual(t.PRIORITY.VISUAL.BRUSH,lV)}var UB=function(){function t(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.cpx2=0;this.cpy2=0;this.extent=0}return t}();var YB=function(t){i(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new UB};e.prototype.buildPath=function(t,e){var r=e.extent;t.moveTo(e.x1,e.y1);t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2);if(e.orient==="vertical"){t.lineTo(e.x2+r,e.y2);t.bezierCurveTo(e.cpx2+r,e.cpy2,e.cpx1+r,e.cpy1,e.x1+r,e.y1)}else{t.lineTo(e.x2,e.y2+r);t.bezierCurveTo(e.cpx2,e.cpy2+r,e.cpx1,e.cpy1+r,e.x1,e.y1+r)}t.closePath()};e.prototype.highlight=function(){zf(this)};e.prototype.downplay=function(){Vf(this)};return e}(wu);var XB=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._focusAdjacencyDisabled=false;return r}e.prototype.render=function(t,e,r){var i=this;var a=t.getGraph();var n=this.group;var o=t.layoutInfo;var s=o.width;var l=o.height;var u=t.getData();var f=t.getData("edge");var h=t.get("orient");this._model=t;n.removeAll();n.x=o.x;n.y=o.y;a.eachEdge(function(e){var r=new YB;var i=Qu(r);i.dataIndex=e.dataIndex;i.seriesIndex=t.seriesIndex;i.dataType="edge";var a=e.getModel();var o=a.getModel("lineStyle");var u=o.get("curveness");var v=e.node1.getLayout();var c=e.node1.getModel();var p=c.get("localX");var d=c.get("localY");var g=e.node2.getLayout();var y=e.node2.getModel();var m=y.get("localX");var x=y.get("localY");var _=e.getLayout();var w;var b;var S;var M;var I;var T;var C;var D;r.shape.extent=Math.max(1,_.dy);r.shape.orient=h;if(h==="vertical"){w=(p!=null?p*s:v.x)+_.sy;b=(d!=null?d*l:v.y)+v.dy;S=(m!=null?m*s:g.x)+_.ty;M=x!=null?x*l:g.y;I=w;T=b*(1-u)+M*u;C=S;D=b*u+M*(1-u)}else{w=(p!=null?p*s:v.x)+v.dx;b=(d!=null?d*l:v.y)+_.sy;S=m!=null?m*s:g.x;M=(x!=null?x*l:g.y)+_.ty;I=w*(1-u)+S*u;T=b;C=w*u+S*(1-u);D=M}r.setShape({x1:w,y1:b,x2:S,y2:M,cpx1:I,cpy1:T,cpx2:C,cpy2:D});r.useStyle(o.getItemStyle());ZB(r.style,h,e);var A=""+a.get("value");var k=Tc(a,"edgeLabel");Ic(r,k,{labelFetcher:{getFormattedLabel:function(e,r,i,a,n,o){return t.getFormattedLabel(e,r,"edge",a,vt(n,k.normal&&k.normal.get("formatter"),A),o)}},labelDataIndex:e.dataIndex,defaultText:A});r.setTextConfig({position:"inside"});var L=a.getModel("emphasis");oh(r,a,"lineStyle",function(t){var r=t.getItemStyle();ZB(r,h,e);return r});n.add(r);f.setItemGraphicEl(e.dataIndex,r);var P=L.get("focus");rh(r,P==="adjacency"?e.getAdjacentDataIndices():P==="trajectory"?e.getTrajectoryDataIndices():P,L.get("blurScope"),L.get("disabled"))});a.eachNode(function(e){var r=e.getLayout();var i=e.getModel();var a=i.get("localX");var o=i.get("localY");var f=i.getModel("emphasis");var h=i.get(["itemStyle","borderRadius"])||0;var v=new Nu({shape:{x:a!=null?a*s:r.x,y:o!=null?o*l:r.y,width:r.dx,height:r.dy,r:h},style:i.getModel("itemStyle").getItemStyle(),z2:10});Ic(v,Tc(i),{labelFetcher:{getFormattedLabel:function(e,r){return t.getFormattedLabel(e,r,"node")}},labelDataIndex:e.dataIndex,defaultText:e.id});v.disableLabelAnimation=true;v.setStyle("fill",e.getVisual("color"));v.setStyle("decal",e.getVisual("style").decal);oh(v,i);n.add(v);u.setItemGraphicEl(e.dataIndex,v);Qu(v).dataType="node";var c=f.get("focus");rh(v,c==="adjacency"?e.getAdjacentDataIndices():c==="trajectory"?e.getTrajectoryDataIndices():c,f.get("blurScope"),f.get("disabled"))});u.eachItemGraphicEl(function(e,a){var n=u.getItemModel(a);if(n.get("draggable")){e.drift=function(e,n){i._focusAdjacencyDisabled=true;this.shape.x+=e;this.shape.y+=n;this.dirty();r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:u.getRawIndex(a),localX:this.shape.x/s,localY:this.shape.y/l})};e.ondragend=function(){i._focusAdjacencyDisabled=false};e.draggable=true;e.cursor="move"}});if(!this._data&&t.isAnimationEnabled()){n.setClipPath(jB(n.getBoundingRect(),t,function(){n.removeClipPath()}))}this._data=t.getData()};e.prototype.dispose=function(){};e.type="sankey";return e}(Jm);function ZB(t,e,r){switch(t.fill){case"source":t.fill=r.node1.getVisual("color");t.decal=r.node1.getVisual("style").decal;break;case"target":t.fill=r.node2.getVisual("color");t.decal=r.node2.getVisual("style").decal;break;case"gradient":var i=r.node1.getVisual("color");var a=r.node2.getVisual("color");if(Q(i)&&Q(a)){t.fill=new Sv(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:i,offset:0},{color:a,offset:1}])}}}function jB(t,e,r){var i=new Nu({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});Ev(i,{shape:{width:t.width+20}},e,r);return i}var qB=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){var r=t.edges||t.links||[];var i=t.data||t.nodes||[];var a=t.levels||[];this.levelModels=[];var n=this.levelModels;for(var o=0;o<a.length;o++){if(a[o].depth!=null&&a[o].depth>=0){n[a[o].depth]=new qc(a[o],this,e)}else{if(true){throw new Error("levels[i].depth is mandatory and should be natural number")}}}var s=kz(i,r,this,true,l);return s.data;function l(t,e){t.wrapMethod("getItemModel",function(t,e){var r=t.parentModel;var i=r.getData().getItemLayout(e);if(i){var a=i.depth;var n=r.levelModels[a];if(n){t.parentModel=n}}return t});e.wrapMethod("getItemModel",function(t,e){var r=t.parentModel;var i=r.getGraph().getEdgeByIndex(e);var a=i.node1.getLayout();if(a){var n=a.depth;var o=r.levelModels[n];if(o){t.parentModel=o}}return t})}};e.prototype.setNodePosition=function(t,e){var r=this.option.data||this.option.nodes;var i=r[t];i.localX=e[0];i.localY=e[1]};e.prototype.getGraph=function(){return this.getData().graph};e.prototype.getEdgeData=function(){return this.getGraph().edgeData};e.prototype.formatTooltip=function(t,e,r){function i(t){return isNaN(t)||t==null}if(r==="edge"){var a=this.getDataParams(t,r);var n=a.data;var o=a.value;var s=n.source+" -- "+n.target;return ym("nameValue",{name:s,value:o,noValue:i(o)})}else{var l=this.getGraph().getNodeByIndex(t);var u=l.getLayout().value;var f=this.getDataParams(t,r).data.name;return ym("nameValue",{name:f!=null?f+"":null,value:u,noValue:i(u)})}};e.prototype.optionUpdated=function(){};e.prototype.getDataParams=function(e,r){var i=t.prototype.getDataParams.call(this,e,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(e);var n=a.getLayout().value;i.value=n}return i};e.type="series.sankey";e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,layoutIterations:32,label:{show:true,position:"right",fontSize:12},edgeLabel:{show:false,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:true},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};return e}(Vm);function KB(t,e){t.eachSeriesByType("sankey",function(t){var r=t.get("nodeWidth");var i=t.get("nodeGap");var a=JB(t,e);t.layoutInfo=a;var n=a.width;var o=a.height;var s=t.getGraph();var l=s.nodes;var u=s.edges;QB(l);var f=Y(l,function(t){return t.getLayout().value===0});var h=f.length!==0?0:t.get("layoutIterations");var v=t.get("orient");var c=t.get("nodeAlign");$B(l,u,r,i,n,o,h,v,c)})}function JB(t,e){return cd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function $B(t,e,r,i,a,n,o,s,l){tF(t,e,r,a,n,s,l);nF(t,e,n,a,i,o,s);mF(t,s)}function QB(t){H(t,function(t){var e=gF(t.outEdges,dF);var r=gF(t.inEdges,dF);var i=t.getValue()||0;var a=Math.max(e,r,i);t.setLayout({value:a},true)})}function tF(t,e,r,i,a,n,o){var s=[];var l=[];var u=[];var f=[];var h=0;for(var v=0;v<e.length;v++){s[v]=1}for(var v=0;v<t.length;v++){l[v]=t[v].inEdges.length;if(l[v]===0){u.push(t[v])}}var c=-1;while(u.length){for(var p=0;p<u.length;p++){var d=u[p];var g=d.hostGraph.data.getRawDataItem(d.dataIndex);var y=g.depth!=null&&g.depth>=0;if(y&&g.depth>c){c=g.depth}d.setLayout({depth:y?g.depth:h},true);n==="vertical"?d.setLayout({dy:r},true):d.setLayout({dx:r},true);for(var m=0;m<d.outEdges.length;m++){var x=d.outEdges[m];var _=e.indexOf(x);s[_]=0;var w=x.node2;var b=t.indexOf(w);if(--l[b]===0&&f.indexOf(w)<0){f.push(w)}}}++h;u=f;f=[]}for(var v=0;v<s.length;v++){if(s[v]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}var S=c>h-1?c:h-1;if(o&&o!=="left"){rF(t,o,n,S)}var M=n==="vertical"?(a-r)/S:(i-r)/S;aF(t,M,n)}function eF(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function rF(t,e,r,i){if(e==="right"){var a=[];var n=t;var o=0;while(n.length){for(var s=0;s<n.length;s++){var l=n[s];l.setLayout({skNodeHeight:o},true);for(var u=0;u<l.inEdges.length;u++){var f=l.inEdges[u];if(a.indexOf(f.node1)<0){a.push(f.node1)}}}n=a;a=[];++o}H(t,function(t){if(!eF(t)){t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},true)}})}else if(e==="justify"){iF(t,i)}}function iF(t,e){H(t,function(t){if(!eF(t)&&!t.outEdges.length){t.setLayout({depth:e},true)}})}function aF(t,e,r){H(t,function(t){var i=t.getLayout().depth*e;r==="vertical"?t.setLayout({y:i},true):t.setLayout({x:i},true)})}function nF(t,e,r,i,a,n,o){var s=oF(t,o);sF(s,e,r,i,a,o);lF(s,a,r,i,o);for(var l=1;n>0;n--){l*=.99;uF(s,l,o);lF(s,a,r,i,o);yF(s,l,o);lF(s,a,r,i,o)}}function oF(t,e){var r=[];var i=e==="vertical"?"y":"x";var a=ws(t,function(t){return t.getLayout()[i]});a.keys.sort(function(t,e){return t-e});H(a.keys,function(t){r.push(a.buckets.get(t))});return r}function sF(t,e,r,i,a,n){var o=Infinity;H(t,function(t){var e=t.length;var s=0;H(t,function(t){s+=t.getLayout().value});var l=n==="vertical"?(i-(e-1)*a)/s:(r-(e-1)*a)/s;if(l<o){o=l}});H(t,function(t){H(t,function(t,e){var r=t.getLayout().value*o;if(n==="vertical"){t.setLayout({x:e},true);t.setLayout({dx:r},true)}else{t.setLayout({y:e},true);t.setLayout({dy:r},true)}})});H(e,function(t){var e=+t.getValue()*o;t.setLayout({dy:e},true)})}function lF(t,e,r,i,a){var n=a==="vertical"?"x":"y";H(t,function(t){t.sort(function(t,e){return t.getLayout()[n]-e.getLayout()[n]});var o;var s;var l;var u=0;var f=t.length;var h=a==="vertical"?"dx":"dy";for(var v=0;v<f;v++){s=t[v];l=u-s.getLayout()[n];if(l>0){o=s.getLayout()[n]+l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true)}u=s.getLayout()[n]+s.getLayout()[h]+e}var c=a==="vertical"?i:r;l=u-e-c;if(l>0){o=s.getLayout()[n]-l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true);u=o;for(var v=f-2;v>=0;--v){s=t[v];l=s.getLayout()[n]+s.getLayout()[h]+e-u;if(l>0){o=s.getLayout()[n]-l;a==="vertical"?s.setLayout({x:o},true):s.setLayout({y:o},true)}u=s.getLayout()[n]}}})}function uF(t,e,r){H(t.slice().reverse(),function(t){H(t,function(t){if(t.outEdges.length){var i=gF(t.outEdges,fF,r)/gF(t.outEdges,dF);if(isNaN(i)){var a=t.outEdges.length;i=a?gF(t.outEdges,hF,r)/a:0}if(r==="vertical"){var n=t.getLayout().x+(i-pF(t,r))*e;t.setLayout({x:n},true)}else{var o=t.getLayout().y+(i-pF(t,r))*e;t.setLayout({y:o},true)}}})})}function fF(t,e){return pF(t.node2,e)*t.getValue()}function hF(t,e){return pF(t.node2,e)}function vF(t,e){return pF(t.node1,e)*t.getValue()}function cF(t,e){return pF(t.node1,e)}function pF(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function dF(t){return t.getValue()}function gF(t,e,r){var i=0;var a=t.length;var n=-1;while(++n<a){var o=+e(t[n],r);if(!isNaN(o)){i+=o}}return i}function yF(t,e,r){H(t,function(t){H(t,function(t){if(t.inEdges.length){var i=gF(t.inEdges,vF,r)/gF(t.inEdges,dF);if(isNaN(i)){var a=t.inEdges.length;i=a?gF(t.inEdges,cF,r)/a:0}if(r==="vertical"){var n=t.getLayout().x+(i-pF(t,r))*e;t.setLayout({x:n},true)}else{var o=t.getLayout().y+(i-pF(t,r))*e;t.setLayout({y:o},true)}}})})}function mF(t,e){var r=e==="vertical"?"x":"y";H(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[r]-e.node2.getLayout()[r]});t.inEdges.sort(function(t,e){return t.node1.getLayout()[r]-e.node1.getLayout()[r]})});H(t,function(t){var e=0;var r=0;H(t.outEdges,function(t){t.setLayout({sy:e},true);e+=t.getLayout().dy});H(t.inEdges,function(t){t.setLayout({ty:r},true);r+=t.getLayout().dy})})}function xF(t){t.eachSeriesByType("sankey",function(t){var e=t.getGraph();var r=e.nodes;var i=e.edges;if(r.length){var a=Infinity;var n=-Infinity;H(r,function(t){var e=t.getLayout().value;if(e<a){a=e}if(e>n){n=e}});H(r,function(e){var r=new DN({type:"color",mappingMethod:"linear",dataExtent:[a,n],visual:t.get("color")});var i=r.mapValueToVisual(e.getLayout().value);var o=e.getModel().get(["itemStyle","color"]);if(o!=null){e.setVisual("color",o);e.setVisual("style",{fill:o})}else{e.setVisual("color",i);e.setVisual("style",{fill:i})}})}if(i.length){H(i,function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)})}})}function _F(t){t.registerChartView(XB);t.registerSeriesModel(qB);t.registerLayout(KB);t.registerVisual(xF);t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var wF=function(){function t(){}t.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null};t.prototype.getInitialData=function(t,e){var r;var i=e.getComponent("xAxis",this.get("xAxisIndex"));var a=e.getComponent("yAxis",this.get("yAxisIndex"));var n=i.get("type");var o=a.get("type");var s;if(n==="category"){t.layout="horizontal";r=i.getOrdinalMeta();s=!this._hasEncodeRule("x")}else if(o==="category"){t.layout="vertical";r=a.getOrdinalMeta();s=!this._hasEncodeRule("y")}else{t.layout=t.layout||"horizontal"}var l=["x","y"];var u=t.layout==="horizontal"?0:1;var f=this._baseAxisDim=l[u];var h=l[1-u];var v=[i,a];var c=v[u].get("type");var p=v[1-u].get("type");var d=t.data;if(d&&s){var g=[];H(d,function(t,e){var r;if(J(t)){r=t.slice();t.unshift(e)}else if(J(t.value)){r=N({},t);r.value=r.value.slice();t.value.unshift(e)}else{r=t}g.push(r)});t.data=g}var y=this.defaultValueDimensions;var m=[{name:f,type:oS(c),ordinalMeta:r,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:h,type:oS(p),dimsDef:y.slice()}];return kk(this,{coordDimensions:m,dimensionsCount:y.length+1,encodeDefaulter:K(Vd,m,this)})};t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis};return t}();var bF=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.defaultValueDimensions=[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}];r.visualDrawType="stroke";return r}e.type="series.boxplot";e.dependencies=["xAxis","yAxis","grid"];e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800};return e}(Vm);F(bF,wF,true);var SF=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this.group;var n=this._data;if(!this._data){a.removeAll()}var o=t.get("layout")==="horizontal"?1:0;i.diff(n).add(function(t){if(i.hasValue(t)){var e=i.getItemLayout(t);var r=TF(e,i,t,o,true);i.setItemGraphicEl(t,r);a.add(r)}}).update(function(t,e){var r=n.getItemGraphicEl(e);if(!i.hasValue(t)){a.remove(r);return}var s=i.getItemLayout(t);if(!r){r=TF(s,i,t,o)}else{Gv(r);CF(s,r,i,t)}a.add(r);i.setItemGraphicEl(t,r)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&a.remove(e)}).execute();this._data=i};e.prototype.remove=function(t){var e=this.group;var r=this._data;this._data=null;r&&r.eachItemGraphicEl(function(t){t&&e.remove(t)})};e.type="boxplot";return e}(Jm);var MF=function(){function t(){}return t}();var IF=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="boxplotBoxPath";return r}e.prototype.getDefaultShape=function(){return new MF};e.prototype.buildPath=function(t,e){var r=e.points;var i=0;t.moveTo(r[i][0],r[i][1]);i++;for(;i<4;i++){t.lineTo(r[i][0],r[i][1])}t.closePath();for(;i<r.length;i++){t.moveTo(r[i][0],r[i][1]);i++;t.lineTo(r[i][0],r[i][1])}};return e}(wu);function TF(t,e,r,i,a){var n=t.ends;var o=new IF({shape:{points:a?DF(n,i,t):n}});CF(t,o,e,r,a);return o}function CF(t,e,r,i,a){var n=r.hostModel;var o=wc[a?"initProps":"updateProps"];o(e,{shape:{points:t.ends}},n,i);e.useStyle(r.getItemVisual(i,"style"));e.style.strokeNoScale=true;e.z2=100;var s=r.getItemModel(i);var l=s.getModel("emphasis");oh(e,s);rh(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function DF(t,e,r){return W(t,function(t){t=t.slice();t[e]=r.initBaseline;return t})}var AF=H;function kF(t){var e=LF(t);AF(e,function(t){var e=t.seriesModels;if(!e.length){return}PF(t);AF(e,function(e,r){OF(e,t.boxOffsetList[r],t.boxWidthList[r])})})}function LF(t){var e=[];var r=[];t.eachSeriesByType("boxplot",function(t){var i=t.getBaseAxis();var a=V(r,i);if(a<0){a=r.length;r[a]=i;e[a]={axis:i,seriesModels:[]}}e[a].seriesModels.push(t)});return e}function PF(t){var e=t.axis;var r=t.seriesModels;var i=r.length;var a=t.boxWidthList=[];var n=t.boxOffsetList=[];var o=[];var s;if(e.type==="category"){s=e.getBandWidth()}else{var l=0;AF(r,function(t){l=Math.max(l,t.getData().count())});var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}AF(r,function(t){var e=t.get("boxWidth");if(!J(e)){e=[e,e]}o.push([ro(e[0],s)||0,ro(e[1],s)||0])});var f=s*.8-2;var h=f/i*.3;var v=(f-h*(i-1))/i;var c=v/2-f/2;AF(r,function(t,e){n.push(c);c+=h+v;a.push(Math.min(Math.max(v,o[e][0]),o[e][1]))})}function OF(t,e,r){var i=t.coordinateSystem;var a=t.getData();var n=r/2;var o=t.get("layout")==="horizontal"?0:1;var s=1-o;var l=["x","y"];var u=a.mapDimension(l[o]);var f=a.mapDimensionsAll(l[s]);if(u==null||f.length<5){return}for(var h=0;h<a.count();h++){var v=a.get(u,h);var c=x(v,f[2],h);var p=x(v,f[0],h);var d=x(v,f[1],h);var g=x(v,f[3],h);var y=x(v,f[4],h);var m=[];_(m,d,false);_(m,g,true);m.push(p,d,y,g);w(m,p);w(m,y);w(m,c);a.setItemLayout(h,{initBaseline:c[s],ends:m})}function x(t,r,n){var l=a.get(r,n);var u=[];u[o]=t;u[s]=l;var f;if(isNaN(t)||isNaN(l)){f=[NaN,NaN]}else{f=i.dataToPoint(u);f[o]+=e}return f}function _(t,e,r){var i=e.slice();var a=e.slice();i[o]+=n;a[o]-=n;r?t.push(i,a):t.push(a,i)}function w(t,e){var r=e.slice();var i=e.slice();r[o]-=n;i[o]+=n;t.push(r,i)}}function RF(t,e){e=e||{};var r=[];var i=[];var a=e.boundIQR;var n=a==="none"||a===0;for(var o=0;o<t.length;o++){var s=ao(t[o].slice());var l=_o(s,.25);var u=_o(s,.5);var f=_o(s,.75);var h=s[0];var v=s[s.length-1];var c=(a==null?1.5:a)*(f-l);var p=n?h:Math.max(h,l-c);var d=n?v:Math.min(v,f+c);var g=e.itemNameFormatter;var y=$(g)?g({value:o}):Q(g)?g.replace("{value}",o+""):o+"";r.push([y,p,l,u,f,d]);for(var m=0;m<s.length;m++){var x=s[m];if(x<p||x>d){var _=[y,x];i.push(_)}}}return{boxData:r,outliers:i}}var NF={type:"echarts:boxplot",transform:function t(e){var r=e.upstream;if(r.sourceFormat!==Dd){var i="";if(true){i=Eo("source data is not applicable for this boxplot transform. Expect number[][].")}zo(i)}var a=RF(r.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function EF(t){t.registerSeriesModel(bF);t.registerChartView(SF);t.registerLayout(kF);t.registerTransform(NF)}var zF=["itemStyle","borderColor"];var VF=["itemStyle","borderColor0"];var BF=["itemStyle","borderColorDoji"];var FF=["itemStyle","color"];var GF=["itemStyle","color0"];function HF(t,e){return e.get(t>0?FF:GF)}function WF(t,e){return e.get(t===0?BF:t>0?zF:VF)}var UF={seriesType:"candlestick",plan:jm(),performRawSeries:true,reset:function(t,e){if(e.isSeriesFiltered(t)){return}var r=t.pipelineContext.large;return!r&&{progress:function(t,e){var r;while((r=t.next())!=null){var i=e.getItemModel(r);var a=e.getItemLayout(r).sign;var n=i.getItemStyle();n.fill=HF(a,i);n.stroke=WF(a,i)||n.fill;var o=e.ensureUniqueItemVisual(r,"style");N(o,n)}}}}};var YF=["color","borderColor"];var XF=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeClipPath();this._progressiveEls=null;this._updateDrawMode(t);this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)};e.prototype.incrementalPrepareRender=function(t,e,r){this._clear();this._updateDrawMode(t)};e.prototype.incrementalRender=function(t,e,r,i){this._progressiveEls=[];this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)};e.prototype.eachRendered=function(t){_c(this._progressiveEls||this.group,t)};e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;if(this._isLargeDraw==null||e!==this._isLargeDraw){this._isLargeDraw=e;this._clear()}};e.prototype._renderNormal=function(t){var e=t.getData();var r=this._data;var i=this.group;var a=e.getLayout("isSimpleBox");var n=t.get("clip",true);var o=t.coordinateSystem;var s=o.getArea&&o.getArea();if(!this._data){i.removeAll()}e.diff(r).add(function(r){if(e.hasValue(r)){var o=e.getItemLayout(r);if(n&&KF(s,o)){return}var l=qF(o,r,true);Ev(l,{shape:{points:o.ends}},t,r);JF(l,e,r,a);i.add(l);e.setItemGraphicEl(r,l)}}).update(function(o,l){var u=r.getItemGraphicEl(l);if(!e.hasValue(o)){i.remove(u);return}var f=e.getItemLayout(o);if(n&&KF(s,f)){i.remove(u);return}if(!u){u=qF(f)}else{Nv(u,{shape:{points:f.ends}},t,o);Gv(u)}JF(u,e,o,a);i.add(u);e.setItemGraphicEl(o,u)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&i.remove(e)}).execute();this._data=e};e.prototype._renderLarge=function(t){this._clear();eG(t,this.group);var e=t.get("clip",true)?fA(t.coordinateSystem,false,t):null;if(e){this.group.setClipPath(e)}else{this.group.removeClipPath()}};e.prototype._incrementalRenderNormal=function(t,e){var r=e.getData();var i=r.getLayout("isSimpleBox");var a;while((a=t.next())!=null){var n=r.getItemLayout(a);var o=qF(n);JF(o,r,a,i);o.incremental=true;this.group.add(o);this._progressiveEls.push(o)}};e.prototype._incrementalRenderLarge=function(t,e){eG(e,this.group,this._progressiveEls,true)};e.prototype.remove=function(t){this._clear()};e.prototype._clear=function(){this.group.removeAll();this._data=null};e.type="candlestick";return e}(Jm);var ZF=function(){function t(){}return t}();var jF=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="normalCandlestickBox";return r}e.prototype.getDefaultShape=function(){return new ZF};e.prototype.buildPath=function(t,e){var r=e.points;if(this.__simpleBox){t.moveTo(r[4][0],r[4][1]);t.lineTo(r[6][0],r[6][1])}else{t.moveTo(r[0][0],r[0][1]);t.lineTo(r[1][0],r[1][1]);t.lineTo(r[2][0],r[2][1]);t.lineTo(r[3][0],r[3][1]);t.closePath();t.moveTo(r[4][0],r[4][1]);t.lineTo(r[5][0],r[5][1]);t.moveTo(r[6][0],r[6][1]);t.lineTo(r[7][0],r[7][1])}};return e}(wu);function qF(t,e,r){var i=t.ends;return new jF({shape:{points:r?$F(i,t):i},z2:100})}function KF(t,e){var r=true;for(var i=0;i<e.ends.length;i++){if(t.contain(e.ends[i][0],e.ends[i][1])){r=false;break}}return r}function JF(t,e,r,i){var a=e.getItemModel(r);t.useStyle(e.getItemVisual(r,"style"));t.style.strokeNoScale=true;t.__simpleBox=i;oh(t,a);var n=e.getItemLayout(r).sign;H(t.states,function(t,e){var r=a.getModel(e);var i=HF(n,r);var o=WF(n,r)||i;var s=t.style||(t.style={});i&&(s.fill=i);o&&(s.stroke=o)});var o=a.getModel("emphasis");rh(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function $F(t,e){return W(t,function(t){t=t.slice();t[1]=e.initBaseline;return t})}var QF=function(){function t(){}return t}();var tG=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r.type="largeCandlestickBox";return r}e.prototype.getDefaultShape=function(){return new QF};e.prototype.buildPath=function(t,e){var r=e.points;for(var i=0;i<r.length;){if(this.__sign===r[i++]){var a=r[i++];t.moveTo(a,r[i++]);t.lineTo(a,r[i++])}else{i+=3}}};return e}(wu);function eG(t,e,r,i){var a=t.getData();var n=a.getLayout("largePoints");var o=new tG({shape:{points:n},__sign:1,ignoreCoarsePointer:true});e.add(o);var s=new tG({shape:{points:n},__sign:-1,ignoreCoarsePointer:true});e.add(s);var l=new tG({shape:{points:n},__sign:0,ignoreCoarsePointer:true});e.add(l);rG(1,o,t);rG(-1,s,t);rG(0,l,t);if(i){o.incremental=true;s.incremental=true}if(r){r.push(o,s)}}function rG(t,e,r,i){var a=WF(t,r)||HF(t,r);var n=r.getModel("itemStyle").getItemStyle(YF);e.useStyle(n);e.style.fill=null;e.style.stroke=a}var iG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.defaultValueDimensions=[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}];return r}e.prototype.getShadowDim=function(){return"open"};e.prototype.brushSelector=function(t,e,r){var i=e.getItemLayout(t);return i&&r.rect(i.brushRect)};e.type="series.candlestick";e.dependencies=["xAxis","yAxis","grid"];e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,clip:true,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300};return e}(Vm);F(iG,wF,true);function aG(t){if(!t||!J(t.series)){return}H(t.series,function(t){if(rt(t)&&t.type==="k"){t.type="candlestick"}})}var nG={seriesType:"candlestick",plan:jm(),reset:function(t){var e=t.coordinateSystem;var r=t.getData();var i=sG(t,r);var a=0;var n=1;var o=["x","y"];var s=r.getDimensionIndex(r.mapDimension(o[a]));var l=W(r.mapDimensionsAll(o[n]),r.getDimensionIndex,r);var u=l[0];var f=l[1];var h=l[2];var v=l[3];r.setLayout({candleWidth:i,isSimpleBox:i<=1.3});if(s<0||l.length<4){return}return{progress:t.pipelineContext.large?p:c};function c(t,r){var o;var l=r.getStore();while((o=t.next())!=null){var c=l.get(s,o);var p=l.get(u,o);var d=l.get(f,o);var g=l.get(h,o);var y=l.get(v,o);var m=Math.min(p,d);var x=Math.max(p,d);var _=C(m,c);var w=C(x,c);var b=C(g,c);var S=C(y,c);var M=[];D(M,w,0);D(M,_,1);M.push(k(S),k(w),k(b),k(_));var I=r.getItemModel(o);var T=!!I.get(["itemStyle","borderColorDoji"]);r.setItemLayout(o,{sign:oG(l,o,p,d,f,T),initBaseline:p>d?w[n]:_[n],ends:M,brushRect:A(g,y,c)})}function C(t,r){var i=[];i[a]=r;i[n]=t;return isNaN(r)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function D(t,e,r){var n=e.slice();var o=e.slice();n[a]=ac(n[a]+i/2,1,false);o[a]=ac(o[a]-i/2,1,true);r?t.push(n,o):t.push(o,n)}function A(t,e,r){var n=C(t,r);var o=C(e,r);n[a]-=i/2;o[a]-=i/2;return{x:n[0],y:n[1],width:i,height:o[1]-n[1]}}function k(t){t[a]=ac(t[a],1);return t}}function p(r,i){var o=pM(r.count*4);var l=0;var c;var p=[];var d=[];var g;var y=i.getStore();var m=!!t.get(["itemStyle","borderColorDoji"]);while((g=r.next())!=null){var x=y.get(s,g);var _=y.get(u,g);var w=y.get(f,g);var b=y.get(h,g);var S=y.get(v,g);if(isNaN(x)||isNaN(b)||isNaN(S)){o[l++]=NaN;l+=3;continue}o[l++]=oG(y,g,_,w,f,m);p[a]=x;p[n]=b;c=e.dataToPoint(p,null,d);o[l++]=c?c[0]:NaN;o[l++]=c?c[1]:NaN;p[n]=S;c=e.dataToPoint(p,null,d);o[l++]=c?c[1]:NaN}i.setLayout("largePoints",o)}}};function oG(t,e,r,i,a,n){var o;if(r>i){o=-1}else if(r<i){o=1}else{o=n?0:e>0?t.get(a,e-1)<=i?1:-1:1}return o}function sG(t,e){var r=t.getBaseAxis();var i;var a=r.type==="category"?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/e.count());var n=ro(ht(t.get("barMaxWidth"),a),a);var o=ro(ht(t.get("barMinWidth"),1),a);var s=t.get("barWidth");return s!=null?ro(s,a):Math.max(Math.min(a/2,n),o)}function lG(t){t.registerChartView(XF);t.registerSeriesModel(iG);t.registerPreprocessor(aG);t.registerVisual(UF);t.registerLayout(nG)}function uG(t,e){var r=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?r:null,fill:e.brushType==="fill"?r:null}})})}var fG=function(t){i(e,t);function e(e,r){var i=t.call(this)||this;var a=new WD(e,r);var n=new En;i.add(a);i.add(n);i.updateData(e,r);return i}e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()};e.prototype.startEffectAnimation=function(t){var e=t.symbolType;var r=t.color;var i=t.rippleNumber;var a=this.childAt(1);for(var n=0;n<i;n++){var o=c_(e,-1,-1,2,2,r);o.attr({style:{strokeNoScale:true},z2:99,silent:true,scaleX:.5,scaleY:.5});var s=-n/i*t.period+t.effectOffset;o.animate("",true).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start();o.animateStyle(true).when(t.period,{opacity:0}).delay(s).start();a.add(o)}uG(a,t)};e.prototype.updateEffectAnimation=function(t){var e=this._effectCfg;var r=this.childAt(1);var i=["symbolType","period","rippleScale","rippleNumber"];for(var a=0;a<i.length;a++){var n=i[a];if(e[n]!==t[n]){this.stopEffectAnimation();this.startEffectAnimation(t);return}}uG(r,t)};e.prototype.highlight=function(){zf(this)};e.prototype.downplay=function(){Vf(this)};e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()};e.prototype.updateData=function(t,e){var r=this;var i=t.hostModel;this.childAt(0).updateData(t,e);var a=this.childAt(1);var n=t.getItemModel(e);var o=t.getItemVisual(e,"symbol");var s=p_(t.getItemVisual(e,"symbolSize"));var l=t.getItemVisual(e,"style");var u=l&&l.fill;var f=n.getModel("emphasis");a.setScale(s);a.traverse(function(t){t.setStyle("fill",u)});var h=d_(t.getItemVisual(e,"symbolOffset"),s);if(h){a.x=h[0];a.y=h[1]}var v=t.getItemVisual(e,"symbolRotate");a.rotation=(v||0)*Math.PI/180||0;var c={};c.showEffectOn=i.get("showEffectOn");c.rippleScale=n.get(["rippleEffect","scale"]);c.brushType=n.get(["rippleEffect","brushType"]);c.period=n.get(["rippleEffect","period"])*1e3;c.effectOffset=e/t.count();c.z=i.getShallow("z")||0;c.zlevel=i.getShallow("zlevel")||0;c.symbolType=o;c.color=u;c.rippleEffectColor=n.get(["rippleEffect","color"]);c.rippleNumber=n.get(["rippleEffect","number"]);if(c.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c);this._effectCfg=c}else{this._effectCfg=null;this.stopEffectAnimation();this.onHoverStateChange=function(t){if(t==="emphasis"){if(c.showEffectOn!=="render"){r.startEffectAnimation(c)}}else if(t==="normal"){if(c.showEffectOn!=="render"){r.stopEffectAnimation()}}}}this._effectCfg=c;rh(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))};e.prototype.fadeOut=function(t){t&&t()};return e}(En);var hG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this._symbolDraw=new jD(fG)};e.prototype.render=function(t,e,r){var i=t.getData();var a=this._symbolDraw;a.updateData(i,{clipShape:this._getClipShape(t)});this.group.add(a.group)};e.prototype._getClipShape=function(t){var e=t.coordinateSystem;var r=e&&e.getArea&&e.getArea();return t.get("clip",true)?r:null};e.prototype.updateTransform=function(t,e,r){var i=t.getData();this.group.dirty();var a=kA("").reset(t,e,r);if(a.progress){a.progress({start:0,end:i.count(),count:i.count()},i)}this._symbolDraw.updateLayout()};e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;if(e&&e.getRoamTransform){this.group.transform=Ue(e.getRoamTransform());this.group.decomposeTransform()}};e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(true)};e.type="effectScatter";return e}(Jm);var vG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;return r}e.prototype.getInitialData=function(t,e){return XS(null,this,{useEncodeDefaulter:true})};e.prototype.brushSelector=function(t,e,r){return r.point(e.getItemLayout(t))};e.type="series.effectScatter";e.dependencies=["grid","polar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",clip:true,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10};return e}(Vm);function cG(t){t.registerChartView(hG);t.registerSeriesModel(vG);t.registerLayout(kA("effectScatter"))}var pG=function(t){i(e,t);function e(e,r,i){var a=t.call(this)||this;a.add(a.createLine(e,r,i));a._updateEffectSymbol(e,r);return a}e.prototype.createLine=function(t,e,r){return new uz(t,e,r)};e.prototype._updateEffectSymbol=function(t,e){var r=t.getItemModel(e);var i=r.getModel("effect");var a=i.get("symbolSize");var n=i.get("symbol");if(!J(a)){a=[a,a]}var o=t.getItemVisual(e,"style");var s=i.get("color")||o&&o.stroke;var l=this.childAt(1);if(this._symbolType!==n){this.remove(l);l=c_(n,-.5,-.5,1,1,s);l.z2=100;l.culling=true;this.add(l)}if(!l){return}l.setStyle("shadowColor",s);l.setStyle(i.getItemStyle(["color"]));l.scaleX=a[0];l.scaleY=a[1];l.setColor(s);this._symbolType=n;this._symbolScale=a;this._updateEffectAnimation(t,i,e)};e.prototype._updateEffectAnimation=function(t,e,r){var i=this.childAt(1);if(!i){return}var a=t.getItemLayout(r);var n=e.get("period")*1e3;var o=e.get("loop");var s=e.get("roundTrip");var l=e.get("constantSpeed");var u=ft(e.get("delay"),function(e){return e/t.count()*n/3});i.ignore=true;this._updateAnimationPoints(i,a);if(l>0){n=this._getLineLength(i)/l*1e3}if(n!==this._period||o!==this._loop||s!==this._roundTrip){i.stopAnimation();var f=void 0;if($(u)){f=u(r)}else{f=u}if(i.__t>0){f=-n*i.__t}this._animateSymbol(i,n,f,o,s)}this._period=n;this._loop=o;this._roundTrip=s};e.prototype._animateSymbol=function(t,e,r,i,a){if(e>0){t.__t=0;var n=this;var o=t.animate("",i).when(a?e*2:e,{__t:a?2:1}).delay(r).during(function(){n._updateSymbolPosition(t)});if(!i){o.done(function(){n.remove(t)})}o.start()}};e.prototype._getLineLength=function(t){return qt(t.__p1,t.__cp1)+qt(t.__cp1,t.__p2)};e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0];t.__p2=e[1];t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};e.prototype.updateData=function(t,e,r){this.childAt(0).updateData(t,e,r);this._updateEffectSymbol(t,e)};e.prototype._updateSymbolPosition=function(t){var e=t.__p1;var r=t.__p2;var i=t.__cp1;var a=t.__t<1?t.__t:2-t.__t;var n=[t.x,t.y];var o=n.slice();var s=Jr;var l=$r;n[0]=s(e[0],i[0],r[0],a);n[1]=s(e[1],i[1],r[1],a);var u=t.__t<1?l(e[0],i[0],r[0],a):l(r[0],i[0],e[0],1-a);var f=t.__t<1?l(e[1],i[1],r[1],a):l(r[1],i[1],e[1],1-a);t.rotation=-Math.atan2(f,u)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect"){if(t.__lastT!==undefined&&t.__lastT<t.__t){t.scaleY=qt(o,n)*1.05;if(a===1){n[0]=o[0]+(n[0]-o[0])/2;n[1]=o[1]+(n[1]-o[1])/2}}else if(t.__lastT===1){t.scaleY=2*qt(e,n)}else{t.scaleY=this._symbolScale[1]}}t.__lastT=t.__t;t.ignore=false;t.x=n[0];t.y=n[1]};e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var r=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,r,e)};return e}(En);var dG=function(t){i(e,t);function e(e,r,i){var a=t.call(this)||this;a._createPolyline(e,r,i);return a}e.prototype._createPolyline=function(t,e,r){var i=t.getItemLayout(e);var a=new hv({shape:{points:i}});this.add(a);this._updateCommonStl(t,e,r)};e.prototype.updateData=function(t,e,r){var i=t.hostModel;var a=this.childAt(0);var n={shape:{points:t.getItemLayout(e)}};Nv(a,n,i,e);this._updateCommonStl(t,e,r)};e.prototype._updateCommonStl=function(t,e,r){var i=this.childAt(0);var a=t.getItemModel(e);var n=r&&r.emphasisLineStyle;var o=r&&r.focus;var s=r&&r.blurScope;var l=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var u=a.getModel("emphasis");n=u.getModel("lineStyle").getLineStyle();l=u.get("disabled");o=u.get("focus");s=u.get("blurScope")}i.useStyle(t.getItemVisual(e,"style"));i.style.fill=null;i.style.strokeNoScale=true;var f=i.ensureState("emphasis");f.style=n;rh(this,o,s,l)};e.prototype.updateLayout=function(t,e){var r=this.childAt(0);r.setShape("points",t.getItemLayout(e))};return e}(En);var gG=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._lastFrame=0;e._lastFramePercent=0;return e}e.prototype.createLine=function(t,e,r){return new dG(t,e,r)};e.prototype._updateAnimationPoints=function(t,e){this._points=e;var r=[0];var i=0;for(var a=1;a<e.length;a++){var n=e[a-1];var o=e[a];i+=qt(n,o);r.push(i)}if(i===0){this._length=0;return}for(var a=0;a<r.length;a++){r[a]/=i}this._offsets=r;this._length=i};e.prototype._getLineLength=function(){return this._length};e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t;var r=this._points;var i=this._offsets;var a=r.length;if(!i){return}var n=this._lastFrame;var o;if(e<this._lastFramePercent){var s=Math.min(n+1,a-1);for(o=s;o>=0;o--){if(i[o]<=e){break}}o=Math.min(o,a-2)}else{for(o=n;o<a;o++){if(i[o]>e){break}}o=Math.min(o-1,a-2)}var l=(e-i[o])/(i[o+1]-i[o]);var u=r[o];var f=r[o+1];t.x=u[0]*(1-l)+l*f[0];t.y=u[1]*(1-l)+l*f[1];var h=t.__t<1?f[0]-u[0]:u[0]-f[0];var v=t.__t<1?f[1]-u[1]:u[1]-f[1];t.rotation=-Math.atan2(v,h)-Math.PI/2;this._lastFrame=o;this._lastFramePercent=e;t.ignore=false};return e}(pG);var yG=function(){function t(){this.polyline=false;this.curveness=0;this.segs=[]}return t}();var mG=function(t){i(e,t);function e(e){var r=t.call(this,e)||this;r._off=0;r.hoverDataIdx=-1;return r}e.prototype.reset=function(){this.notClear=false;this._off=0};e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new yG};e.prototype.buildPath=function(t,e){var r=e.segs;var i=e.curveness;var a;if(e.polyline){for(a=this._off;a<r.length;){var n=r[a++];if(n>0){t.moveTo(r[a++],r[a++]);for(var o=1;o<n;o++){t.lineTo(r[a++],r[a++])}}}}else{for(a=this._off;a<r.length;){var s=r[a++];var l=r[a++];var u=r[a++];var f=r[a++];t.moveTo(s,l);if(i>0){var h=(s+u)/2-(l-f)*i;var v=(l+f)/2-(u-s)*i;t.quadraticCurveTo(h,v,u,f)}else{t.lineTo(u,f)}}}if(this.incremental){this._off=a;this.notClear=true}};e.prototype.findDataIndex=function(t,e){var r=this.shape;var i=r.segs;var a=r.curveness;var n=this.style.lineWidth;if(r.polyline){var o=0;for(var s=0;s<i.length;){var l=i[s++];if(l>0){var u=i[s++];var f=i[s++];for(var h=1;h<l;h++){var v=i[s++];var c=i[s++];if(Jl(u,f,v,c,n,t,e)){return o}}}o++}}else{var o=0;for(var s=0;s<i.length;){var u=i[s++];var f=i[s++];var v=i[s++];var c=i[s++];if(a>0){var p=(u+v)/2-(f-c)*a;var d=(f+c)/2-(v-u)*a;if(Ql(u,f,p,d,v,c,n,t,e)){return o}}else{if(Jl(u,f,v,c,n,t,e)){return o}}o++}}return-1};e.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);var i=this.getBoundingRect();t=r[0];e=r[1];if(i.contain(t,e)){var a=this.hoverDataIdx=this.findDataIndex(t,e);return a>=0}this.hoverDataIdx=-1;return false};e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){var e=this.shape;var r=e.segs;var i=Infinity;var a=Infinity;var n=-Infinity;var o=-Infinity;for(var s=0;s<r.length;){var l=r[s++];var u=r[s++];i=Math.min(l,i);n=Math.max(l,n);a=Math.min(u,a);o=Math.max(u,o)}t=this._rect=new er(i,a,n,o)}return t};return e}(wu);var xG=function(){function t(){this.group=new En}t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")});this._setCommon(e,t)};t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll();this._clear()};t.prototype.incrementalUpdate=function(t,e){var r=this._newAdded[0];var i=e.getLayout("linesPoints");var a=r&&r.shape.segs;if(a&&a.length<2e4){var n=a.length;var o=new Float32Array(n+i.length);o.set(a);o.set(i,n);r.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=true;s.setShape({segs:i});this._setCommon(s,e);s.__startIndex=t.start}};t.prototype.remove=function(){this._clear()};t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])};t.prototype._create=function(){var t=new mG({cursor:"default",ignoreCoarsePointer:true});this._newAdded.push(t);this.group.add(t);return t};t.prototype._setCommon=function(t,e,r){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])});t.useStyle(i.getModel("lineStyle").getLineStyle());t.style.strokeNoScale=true;var a=e.getVisual("style");if(a&&a.stroke){t.setStyle("stroke",a.stroke)}t.setStyle("fill",null);var n=Qu(t);n.seriesIndex=i.seriesIndex;t.on("mousemove",function(e){n.dataIndex=null;var r=t.hoverDataIdx;if(r>0){n.dataIndex=r+t.__startIndex}})};t.prototype._clear=function(){this._newAdded=[];this.group.removeAll()};return t}();var _G={seriesType:"lines",plan:jm(),reset:function(t){var e=t.coordinateSystem;if(!e){if(true){Oo("The lines series must have a coordinate system.")}return}var r=t.get("polyline");var i=t.pipelineContext.large;return{progress:function(a,n){var o=[];if(i){var s=void 0;var l=a.end-a.start;if(r){var u=0;for(var f=a.start;f<a.end;f++){u+=t.getLineCoordsCount(f)}s=new Float32Array(l+u*2)}else{s=new Float32Array(l*4)}var h=0;var v=[];for(var f=a.start;f<a.end;f++){var c=t.getLineCoords(f,o);if(r){s[h++]=c}for(var p=0;p<c;p++){v=e.dataToPoint(o[p],false,v);s[h++]=v[0];s[h++]=v[1]}}n.setLayout("linesPoints",s)}else{for(var f=a.start;f<a.end;f++){var d=n.getItemModel(f);var c=t.getLineCoords(f,o);var g=[];if(r){for(var y=0;y<c;y++){g.push(e.dataToPoint(o[y]))}}else{g[0]=e.dataToPoint(o[0]);g[1]=e.dataToPoint(o[1]);var m=d.get(["lineStyle","curveness"]);if(+m){g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*m,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*m]}}n.setItemLayout(f,g)}}}}}};var wG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this._updateLineDraw(i,t);var n=t.get("zlevel");var o=t.get(["effect","trailLength"]);var s=r.getZr();var l=s.painter.getType()==="svg";if(!l){s.painter.getLayer(n).clear(true)}if(this._lastZlevel!=null&&!l){s.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(t)&&o>0){if(!l){s.configLayer(n,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})}else if(true){console.warn("SVG render mode doesn't support lines with trail effect")}}a.updateData(i);var u=t.get("clip",true)&&fA(t.coordinateSystem,false,t);if(u){this.group.setClipPath(u)}else{this.group.removeClipPath()}this._lastZlevel=n;this._finished=true};e.prototype.incrementalPrepareRender=function(t,e,r){var i=t.getData();var a=this._updateLineDraw(i,t);a.incrementalPrepareUpdate(i);this._clearLayer(r);this._finished=false};e.prototype.incrementalRender=function(t,e,r){this._lineDraw.incrementalUpdate(t,e.getData());this._finished=t.end===e.getData().count()};e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)};e.prototype.updateTransform=function(t,e,r){var i=t.getData();var a=t.pipelineContext;if(!this._finished||a.large||a.progressiveRender){return{update:true}}else{var n=_G.reset(t,e,r);if(n.progress){n.progress({start:0,end:i.count(),count:i.count()},i)}this._lineDraw.updateLayout();this._clearLayer(r)}};e.prototype._updateLineDraw=function(t,e){var r=this._lineDraw;var i=this._showEffect(e);var a=!!e.get("polyline");var n=e.pipelineContext;var o=n.large;if(true){if(i&&o){console.warn("Large lines not support effect")}}if(!r||i!==this._hasEffet||a!==this._isPolyline||o!==this._isLargeDraw){if(r){r.remove()}r=this._lineDraw=o?new xG:new fz(a?i?gG:dG:i?pG:uz);this._hasEffet=i;this._isPolyline=a;this._isLargeDraw=o}this.group.add(r.group);return r};e.prototype._showEffect=function(t){return!!t.get(["effect","show"])};e.prototype._clearLayer=function(t){var e=t.getZr();var r=e.painter.getType()==="svg";if(!r&&this._lastZlevel!=null){e.painter.getLayer(this._lastZlevel).clear(true)}};e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(e)};e.prototype.dispose=function(t,e){this.remove(t,e)};e.type="lines";return e}(Jm);var bG=typeof Uint32Array==="undefined"?Array:Uint32Array;var SG=typeof Float64Array==="undefined"?Array:Float64Array;function MG(t){var e=t.data;if(e&&e[0]&&e[0][0]&&e[0][0].coord){if(true){console.warn("Lines data configuration has been changed to"+" { coords:[[1,2],[2,3]] }")}t.data=W(e,function(t){var e=[t[0].coord,t[1].coord];var r={coords:e};if(t[0].name){r.fromName=t[0].name}if(t[1].name){r.toName=t[1].name}return R([r,t[0],t[1]])})}}var IG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.visualStyleAccessPath="lineStyle";r.visualDrawType="stroke";return r}e.prototype.init=function(e){e.data=e.data||[];MG(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}t.prototype.init.apply(this,arguments)};e.prototype.mergeOption=function(e){MG(e);if(e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords;this._flatCoordsOffset=r.flatCoordsOffset;if(r.flatCoords){e.data=new Float32Array(r.count)}}t.prototype.mergeOption.apply(this,arguments)};e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);if(e.flatCoords){if(!this._flatCoords){this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset}else{this._flatCoords=It(this._flatCoords,e.flatCoords);this._flatCoordsOffset=It(this._flatCoordsOffset,e.flatCoordsOffset)}t.data=new Float32Array(e.count)}this.getRawData().appendData(t.data)};e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t);var r=e.option instanceof Array?e.option:e.getShallow("coords");if(true){if(!(r instanceof Array&&r.length>0&&r[0]instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(r)+". Lines must have 2d coords array in data item.")}}return r};e.prototype.getLineCoordsCount=function(t){if(this._flatCoordsOffset){return this._flatCoordsOffset[t*2+1]}else{return this._getCoordsFromItemModel(t).length}};e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){var r=this._flatCoordsOffset[t*2];var i=this._flatCoordsOffset[t*2+1];for(var a=0;a<i;a++){e[a]=e[a]||[];e[a][0]=this._flatCoords[r+a*2];e[a][1]=this._flatCoords[r+a*2+1]}return i}else{var n=this._getCoordsFromItemModel(t);for(var a=0;a<n.length;a++){e[a]=e[a]||[];e[a][0]=n[a][0];e[a][1]=n[a][1]}return n.length}};e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords){e=this._flatCoords.length}if(et(t[0])){var r=t.length;var i=new bG(r);var a=new SG(r);var n=0;var o=0;var s=0;for(var l=0;l<r;){s++;var u=t[l++];i[o++]=n+e;i[o++]=u;for(var f=0;f<u;f++){var h=t[l++];var v=t[l++];a[n++]=h;a[n++]=v;if(l>r){if(true){throw new Error("Invalid data format.")}}}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:a,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}};e.prototype.getInitialData=function(t,e){if(true){var r=mg.get(t.coordinateSystem);if(!r){throw new Error("Unknown coordinate system "+t.coordinateSystem)}}var i=new kS(["value"],this);i.hasItemOption=false;i.initData(t.data,[],function(t,e,r,a){if(t instanceof Array){return NaN}else{i.hasItemOption=true;var n=t.value;if(n!=null){return n instanceof Array?n[a]:n}}});return i};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=i.getItemModel(t);var n=a.get("name");if(n){return n}var o=a.get("fromName");var s=a.get("toName");var l=[];o!=null&&l.push(o);s!=null&&l.push(s);return ym("nameValue",{name:l.join(" > ")})};e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])};e.prototype.getProgressive=function(){var t=this.option.progressive;if(t==null){return this.option.large?1e4:this.get("progressive")}return t};e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;if(t==null){return this.option.large?2e4:this.get("progressiveThreshold")}return t};e.prototype.getZLevelKey=function(){var t=this.getModel("effect");var e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""};e.type="series.lines";e.dependencies=["grid","polar","geo","calendar"];e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:.2},large:false,largeThreshold:2e3,polyline:false,clip:true,label:{show:false,position:"end"},lineStyle:{opacity:.5}};return e}(Vm);function TG(t){if(!(t instanceof Array)){t=[t,t]}return t}var CG={seriesType:"lines",reset:function(t){var e=TG(t.get("symbol"));var r=TG(t.get("symbolSize"));var i=t.getData();i.setVisual("fromSymbol",e&&e[0]);i.setVisual("toSymbol",e&&e[1]);i.setVisual("fromSymbolSize",r&&r[0]);i.setVisual("toSymbolSize",r&&r[1]);function a(t,e){var r=t.getItemModel(e);var i=TG(r.getShallow("symbol",true));var a=TG(r.getShallow("symbolSize",true));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]);i[1]&&t.setItemVisual(e,"toSymbol",i[1]);a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]);a[1]&&t.setItemVisual(e,"toSymbolSize",a[1])}return{dataEach:i.hasItemOption?a:null}}};function DG(t){t.registerChartView(wG);t.registerSeriesModel(IG);t.registerLayout(_G);t.registerVisual(CG)}var AG=256;var kG=function(){function t(){this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={inRange:null,outOfRange:null};var t=g.createCanvas();this.canvas=t}t.prototype.update=function(t,e,r,i,a,n){var o=this._getBrush();var s=this._getGradient(a,"inRange");var l=this._getGradient(a,"outOfRange");var u=this.pointSize+this.blurSize;var f=this.canvas;var h=f.getContext("2d");var v=t.length;f.width=e;f.height=r;for(var c=0;c<v;++c){var p=t[c];var d=p[0];var g=p[1];var y=p[2];var m=i(y);h.globalAlpha=m;h.drawImage(o,d-u,g-u)}if(!f.width||!f.height){return f}var x=h.getImageData(0,0,f.width,f.height);var _=x.data;var w=0;var b=_.length;var S=this.minOpacity;var M=this.maxOpacity;var I=M-S;while(w<b){var m=_[w+3]/256;var T=Math.floor(m*(AG-1))*4;if(m>0){var C=n(m)?s:l;m>0&&(m=m*I+S);_[w++]=C[T];_[w++]=C[T+1];_[w++]=C[T+2];_[w++]=C[T+3]*m*256}else{w+=4}}h.putImageData(x,0,0);return f};t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=g.createCanvas());var e=this.pointSize+this.blurSize;var r=e*2;t.width=r;t.height=r;var i=t.getContext("2d");i.clearRect(0,0,r,r);i.shadowOffsetX=r;i.shadowBlur=this.blurSize;i.shadowColor="#000";i.beginPath();i.arc(-e,e,this.pointSize,0,Math.PI*2,true);i.closePath();i.fill();return t};t.prototype._getGradient=function(t,e){var r=this._gradientPixels;var i=r[e]||(r[e]=new Uint8ClampedArray(256*4));var a=[0,0,0,0];var n=0;for(var o=0;o<256;o++){t[e](o/255,true,a);i[n++]=a[0];i[n++]=a[1];i[n++]=a[2];i[n++]=a[3]}return i};return t}();function LG(t,e,r){var i=t[1]-t[0];e=W(e,function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}});var a=e.length;var n=0;return function(t){var i;for(i=n;i<a;i++){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){n=i;break}}if(i===a){for(i=n-1;i>=0;i--){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){n=i;break}}}return i>=0&&i<a&&r[i]}}function PG(t,e){var r=t[1]-t[0];e=[(e[0]-t[0])/r,(e[1]-t[0])/r];return function(t){return t>=e[0]&&t<=e[1]}}function OG(t){var e=t.dimensions;return e[0]==="lng"&&e[1]==="lat"}var RG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(r){if(r===t){i=e}})});if(true){if(!i){throw new Error("Heatmap must use with visualMap")}}this._progressiveEls=null;this.group.removeAll();var a=t.coordinateSystem;if(a.type==="cartesian2d"||a.type==="calendar"){this._renderOnCartesianAndCalendar(t,r,0,t.getData().count())}else if(OG(a)){this._renderOnGeo(a,t,i,r)}};e.prototype.incrementalPrepareRender=function(t,e,r){this.group.removeAll()};e.prototype.incrementalRender=function(t,e,r,i){var a=e.coordinateSystem;if(a){if(OG(a)){this.render(e,r,i)}else{this._progressiveEls=[];this._renderOnCartesianAndCalendar(e,i,t.start,t.end,true)}}};e.prototype.eachRendered=function(t){_c(this._progressiveEls||this.group,t)};e.prototype._renderOnCartesianAndCalendar=function(t,e,r,i,a){var n=t.coordinateSystem;var o=hA(n,"cartesian2d");var s;var l;var u;var f;if(o){var h=n.getAxis("x");var v=n.getAxis("y");if(true){if(!(h.type==="category"&&v.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(h.onBand&&v.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}s=h.getBandWidth()+.5;l=v.getBandWidth()+.5;u=h.scale.getExtent();f=v.scale.getExtent()}var c=this.group;var p=t.getData();var d=t.getModel(["emphasis","itemStyle"]).getItemStyle();var g=t.getModel(["blur","itemStyle"]).getItemStyle();var y=t.getModel(["select","itemStyle"]).getItemStyle();var m=t.get(["itemStyle","borderRadius"]);var x=Tc(t);var _=t.getModel("emphasis");var w=_.get("focus");var b=_.get("blurScope");var S=_.get("disabled");var M=o?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")];for(var I=r;I<i;I++){var T=void 0;var C=p.getItemVisual(I,"style");if(o){var D=p.get(M[0],I);var A=p.get(M[1],I);if(isNaN(p.get(M[2],I))||isNaN(D)||isNaN(A)||D<u[0]||D>u[1]||A<f[0]||A>f[1]){continue}var k=n.dataToPoint([D,A]);T=new Nu({shape:{x:k[0]-s/2,y:k[1]-l/2,width:s,height:l},style:C})}else{if(isNaN(p.get(M[1],I))){continue}T=new Nu({z2:1,shape:n.dataToRect([p.get(M[0],I)]).contentShape,style:C})}if(p.hasItemOption){var L=p.getItemModel(I);var P=L.getModel("emphasis");d=P.getModel("itemStyle").getItemStyle();g=L.getModel(["blur","itemStyle"]).getItemStyle();y=L.getModel(["select","itemStyle"]).getItemStyle();m=L.get(["itemStyle","borderRadius"]);w=P.get("focus");b=P.get("blurScope");S=P.get("disabled");x=Tc(L)}T.shape.r=m;var O=t.getRawValue(I);var R="-";if(O&&O[2]!=null){R=O[2]+""}Ic(T,x,{labelFetcher:t,labelDataIndex:I,defaultOpacity:C.opacity,defaultText:R});T.ensureState("emphasis").style=d;T.ensureState("blur").style=g;T.ensureState("select").style=y;rh(T,w,b,S);T.incremental=a;if(a){T.states.emphasis.hoverLayer=true}c.add(T);p.setItemGraphicEl(I,T);if(this._progressiveEls){this._progressiveEls.push(T)}}};e.prototype._renderOnGeo=function(t,e,r,i){var a=r.targetVisuals.inRange;var n=r.targetVisuals.outOfRange;var o=e.getData();var s=this._hmLayer||this._hmLayer||new kG;s.blurSize=e.get("blurSize");s.pointSize=e.get("pointSize");s.minOpacity=e.get("minOpacity");s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone();var u=t.getRoamTransform();l.applyTransform(u);var f=Math.max(l.x,0);var h=Math.max(l.y,0);var v=Math.min(l.width+l.x,i.getWidth());var c=Math.min(l.height+l.y,i.getHeight());var p=v-f;var d=c-h;var g=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")];var y=o.mapArray(g,function(e,r,i){var a=t.dataToPoint([e,r]);a[0]-=f;a[1]-=h;a.push(i);return a});var m=r.getExtent();var x=r.type==="visualMap.continuous"?PG(m,r.option.range):LG(m,r.getPieceList(),r.option.selected);s.update(y,p,d,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:n.color.getColorMapper()},x);var _=new Cu({style:{width:p,height:d,x:f,y:h,image:s.canvas},silent:true});this.group.add(_)};e.type="heatmap";return e}(Jm);var NG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getInitialData=function(t,e){return XS(null,this,{generateCoord:"value"})};e.prototype.preventIncremental=function(){var t=mg.get(this.get("coordinateSystem"));if(t&&t.dimensions){return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"}};e.type="series.heatmap";e.dependencies=["grid","geo","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};return e}(Vm);function EG(t){t.registerChartView(RG);t.registerSeriesModel(NG)}var zG=["itemStyle","borderWidth"];var VG=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var BG=new Vh;var FG=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;var a=t.getData();var n=this._data;var o=t.coordinateSystem;var s=o.getBaseAxis();var l=s.isHorizontal();var u=o.master.getRect();var f={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:o,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:VG[+l],categoryDim:VG[1-+l]};a.diff(n).add(function(t){if(!a.hasValue(t)){return}var e=$G(a,t);var r=GG(a,t,e,f);var n=eH(a,f,r);a.setItemGraphicEl(t,n);i.add(n);sH(n,f,r)}).update(function(t,e){var r=n.getItemGraphicEl(e);if(!a.hasValue(t)){i.remove(r);return}var o=$G(a,t);var s=GG(a,t,o,f);var l=aH(a,s);if(r&&l!==r.__pictorialShapeStr){i.remove(r);a.setItemGraphicEl(t,null);r=null}if(r){rH(r,f,s)}else{r=eH(a,f,s,true)}a.setItemGraphicEl(t,r);r.__pictorialSymbolMeta=s;i.add(r);sH(r,f,s)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&iH(n,t,e.__pictorialSymbolMeta.animationModel,e)}).execute();var h=t.get("clip",true)?fA(t.coordinateSystem,false,t):null;if(h){i.setClipPath(h)}else{i.removeClipPath()}this._data=a;return this.group};e.prototype.remove=function(t,e){var r=this.group;var i=this._data;if(t.get("animation")){if(i){i.eachItemGraphicEl(function(e){iH(i,Qu(e).dataIndex,t,e)})}}else{r.removeAll()}};e.type="pictorialBar";return e}(Jm);function GG(t,e,r,i){var a=t.getItemLayout(e);var n=r.get("symbolRepeat");var o=r.get("symbolClip");var s=r.get("symbolPosition")||"start";var l=r.get("symbolRotate");var u=(l||0)*Math.PI/180||0;var f=r.get("symbolPatternSize")||2;var h=r.isAnimationEnabled();var v={dataIndex:e,layout:a,itemModel:r,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:n,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:u,animationModel:h?r:null,hoverScale:h&&r.get(["emphasis","scale"]),z2:r.getShallow("z",true)||0};HG(r,n,a,i,v);UG(t,e,a,n,o,v.boundingLength,v.pxSign,f,i,v);YG(r,v.symbolScale,u,i,v);var c=v.symbolSize;var p=d_(r.get("symbolOffset"),c);XG(r,c,a,n,o,p,s,v.valueLineWidth,v.boundingLength,v.repeatCutLength,i,v);return v}function HG(t,e,r,i,a){var n=i.valueDim;var o=t.get("symbolBoundingData");var s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis());var l=s.toGlobalCoord(s.dataToCoord(0));var u=1-+(r[n.wh]<=0);var f;if(J(o)){var h=[WG(s,o[0])-l,WG(s,o[1])-l];h[1]<h[0]&&h.reverse();f=h[u]}else if(o!=null){f=WG(s,o)-l}else if(e){f=i.coordSysExtent[n.index][u]-l}else{f=r[n.wh]}a.boundingLength=f;if(e){a.repeatCutLength=r[n.wh]}var v=n.xy==="x";var c=s.inverse;a.pxSign=v&&!c||!v&&c?f>=0?1:-1:f>0?1:-1}function WG(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function UG(t,e,r,i,a,n,o,s,l,u){var f=l.valueDim;var h=l.categoryDim;var v=Math.abs(r[h.wh]);var c=t.getItemVisual(e,"symbolSize");var p;if(J(c)){p=c.slice()}else{if(c==null){p=["100%","100%"]}else{p=[c,c]}}p[h.index]=ro(p[h.index],v);p[f.index]=ro(p[f.index],i?v:Math.abs(n));u.symbolSize=p;var d=u.symbolScale=[p[0]/s,p[1]/s];d[f.index]*=(l.isHorizontal?-1:1)*o}function YG(t,e,r,i,a){var n=t.get(zG)||0;if(n){BG.attr({scaleX:e[0],scaleY:e[1],rotation:r});BG.updateTransform();n/=BG.getLineScale();n*=e[i.valueDim.index]}a.valueLineWidth=n||0}function XG(t,e,r,i,a,n,o,s,l,u,f,h){var v=f.categoryDim;var c=f.valueDim;var p=h.pxSign;var d=Math.max(e[c.index]+s,0);var g=d;if(i){var y=Math.abs(l);var m=ft(t.get("symbolMargin"),"15%")+"";var x=false;if(m.lastIndexOf("!")===m.length-1){x=true;m=m.slice(0,m.length-1)}var _=ro(m,e[c.index]);var w=Math.max(d+_*2,0);var b=x?0:_*2;var S=So(i);var M=S?i:lH((y+b)/w);var I=y-M*d;_=I/2/(x?M:Math.max(M-1,1));w=d+_*2;b=x?0:_*2;if(!S&&i!=="fixed"){M=u?lH((Math.abs(u)+b)/w):0}g=M*w-b;h.repeatTimes=M;h.symbolMargin=_}var T=p*(g/2);var C=h.pathPosition=[];C[v.index]=r[v.wh]/2;C[c.index]=o==="start"?T:o==="end"?l-T:l/2;if(n){C[0]+=n[0];C[1]+=n[1]}var D=h.bundlePosition=[];D[v.index]=r[v.xy];D[c.index]=r[c.xy];var A=h.barRectShape=N({},r);A[c.wh]=p*Math.max(Math.abs(r[c.wh]),Math.abs(C[c.index]+T));A[v.wh]=r[v.wh];var k=h.clipShape={};k[v.xy]=-r[v.xy];k[v.wh]=f.ecSize[v.wh];k[c.xy]=0;k[c.wh]=r[c.wh]}function ZG(t){var e=t.symbolPatternSize;var r=c_(t.symbolType,-e/2,-e/2,e,e);r.attr({culling:true});r.type!=="image"&&r.setStyle({strokeNoScale:true});return r}function jG(t,e,r,i){var a=t.__pictorialBundle;var n=r.symbolSize;var o=r.valueLineWidth;var s=r.pathPosition;var l=e.valueDim;var u=r.repeatTimes||0;var f=0;var h=n[e.valueDim.index]+o+r.symbolMargin*2;nH(t,function(t){t.__pictorialAnimationIndex=f;t.__pictorialRepeatTimes=u;if(f<u){oH(t,null,p(f),r,i)}else{oH(t,null,{scaleX:0,scaleY:0},r,i,function(){a.remove(t)})}f++});for(;f<u;f++){var v=ZG(r);v.__pictorialAnimationIndex=f;v.__pictorialRepeatTimes=u;a.add(v);var c=p(f);oH(v,{x:c.x,y:c.y,scaleX:0,scaleY:0},{scaleX:c.scaleX,scaleY:c.scaleY,rotation:c.rotation},r,i)}function p(t){var e=s.slice();var i=r.pxSign;var a=t;if(r.symbolRepeatDirection==="start"?i>0:i<0){a=u-1-t}e[l.index]=h*(a-u/2+.5)+s[l.index];return{x:e[0],y:e[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function qG(t,e,r,i){var a=t.__pictorialBundle;var n=t.__pictorialMainPath;if(!n){n=t.__pictorialMainPath=ZG(r);a.add(n);oH(n,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,i)}else{oH(n,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,i)}}function KG(t,e,r){var i=N({},e.barRectShape);var a=t.__pictorialBarRect;if(!a){a=t.__pictorialBarRect=new Nu({z2:2,shape:i,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});a.disableMorphing=true;t.add(a)}else{oH(a,null,{shape:i},e,r)}}function JG(t,e,r,i){if(r.symbolClip){var a=t.__pictorialClipPath;var n=N({},r.clipShape);var o=e.valueDim;var s=r.animationModel;var l=r.dataIndex;if(a){Nv(a,{shape:n},s,l)}else{n[o.wh]=0;a=new Nu({shape:n});t.__pictorialBundle.setClipPath(a);t.__pictorialClipPath=a;var u={};u[o.wh]=r.clipShape[o.wh];wc[i?"updateProps":"initProps"](a,{shape:u},s,l)}}}function $G(t,e){var r=t.getItemModel(e);r.getAnimationDelayParams=QG;r.isAnimationEnabled=tH;return r}function QG(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function tH(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function eH(t,e,r,i){var a=new En;var n=new En;a.add(n);a.__pictorialBundle=n;n.x=r.bundlePosition[0];n.y=r.bundlePosition[1];if(r.symbolRepeat){jG(a,e,r)}else{qG(a,e,r)}KG(a,r,i);JG(a,e,r,i);a.__pictorialShapeStr=aH(t,r);a.__pictorialSymbolMeta=r;return a}function rH(t,e,r){var i=r.animationModel;var a=r.dataIndex;var n=t.__pictorialBundle;Nv(n,{x:r.bundlePosition[0],y:r.bundlePosition[1]},i,a);if(r.symbolRepeat){jG(t,e,r,true)}else{qG(t,e,r,true)}KG(t,r,true);JG(t,e,r,true)}function iH(t,e,r,i){var a=i.__pictorialBarRect;a&&a.removeTextContent();var n=[];nH(i,function(t){n.push(t)});i.__pictorialMainPath&&n.push(i.__pictorialMainPath);i.__pictorialClipPath&&(r=null);H(n,function(t){Vv(t,{scaleX:0,scaleY:0},r,e,function(){i.parent&&i.parent.remove(i)})});t.setItemGraphicEl(e,null)}function aH(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function nH(t,e,r){H(t.__pictorialBundle.children(),function(i){i!==t.__pictorialBarRect&&e.call(r,i)})}function oH(t,e,r,i,a,n){e&&t.attr(e);if(i.symbolClip&&!a){r&&t.attr(r)}else{r&&wc[a?"updateProps":"initProps"](t,r,i.animationModel,i.dataIndex,n)}}function sH(t,e,r){var i=r.dataIndex;var a=r.itemModel;var n=a.getModel("emphasis");var o=n.getModel("itemStyle").getItemStyle();var s=a.getModel(["blur","itemStyle"]).getItemStyle();var l=a.getModel(["select","itemStyle"]).getItemStyle();var u=a.getShallow("cursor");var f=n.get("focus");var h=n.get("blurScope");var v=n.get("scale");nH(t,function(t){if(t instanceof Cu){var e=t.style;t.useStyle(N({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},r.style))}else{t.useStyle(r.style)}var i=t.ensureState("emphasis");i.style=o;if(v){i.scaleX=t.scaleX*1.1;i.scaleY=t.scaleY*1.1}t.ensureState("blur").style=s;t.ensureState("select").style=l;u&&(t.cursor=u);t.z2=r.z2});var c=e.valueDim.posDesc[+(r.boundingLength>0)];var p=t.__pictorialBarRect;p.ignoreClip=true;Ic(p,Tc(a),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:GD(e.seriesModel.getData(),i),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:c});rh(t,f,h,n.get("disabled"))}function lH(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var uH=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.hasSymbolVisual=true;r.defaultSymbol="roundRect";return r}e.prototype.getInitialData=function(e){e.stack=null;return t.prototype.getInitialData.apply(this,arguments)};e.type="series.pictorialBar";e.dependencies=["grid"];e.defaultOption=tp(NA.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:false,progressive:0,emphasis:{scale:false},select:{itemStyle:{borderColor:"#212121"}}});return e}(NA);function fH(t){t.registerChartView(FG);t.registerSeriesModel(uH);t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,K(MM,"pictorialBar"));t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,IM("pictorialBar"))}var hH=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._layers=[];return r}e.prototype.render=function(t,e,r){var i=t.getData();var a=this;var n=this.group;var o=t.getLayerSeries();var s=i.getLayout("layoutInfo");var l=s.rect;var u=s.boundaryGap;n.x=0;n.y=l.y+u[0];function f(t){return t.name}var h=new rS(this._layersSeries||[],o,f,f);var v=[];h.add(q(c,this,"add")).update(q(c,this,"update")).remove(q(c,this,"remove")).execute();function c(e,r,s){var l=a._layers;if(e==="remove"){n.remove(l[r]);return}var u=[];var f=[];var h;var c=o[r].indices;var p=0;for(;p<c.length;p++){var d=i.getItemLayout(c[p]);var g=d.x;var y=d.y0;var m=d.y;u.push(g,y);f.push(g,y+m);h=i.getItemVisual(c[p],"style")}var x;var _=i.getItemLayout(c[0]);var w=t.getModel("label");var b=w.get("margin");var S=t.getModel("emphasis");if(e==="add"){var M=v[r]=new En;x=new sA({shape:{points:u,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:false},z2:0});M.add(x);n.add(M);if(t.isAnimationEnabled()){x.setClipPath(vH(x.getBoundingRect(),t,function(){x.removeClipPath()}))}}else{var M=l[s];x=M.childAt(0);n.add(M);v[r]=M;Nv(x,{shape:{points:u,stackedOnPoints:f}},t);Gv(x)}Ic(x,Tc(t),{labelDataIndex:c[p-1],defaultText:i.getName(c[p-1]),inheritColor:h.fill},{normal:{verticalAlign:"middle"}});x.setTextConfig({position:null,local:true});var I=x.getTextContent();if(I){I.x=_.x-b;I.y=_.y0+_.y/2}x.useStyle(h);i.setItemGraphicEl(r,x);oh(x,t);rh(x,S.get("focus"),S.get("blurScope"),S.get("disabled"))}this._layersSeries=o;this._layers=v};e.type="themeRiver";return e}(Jm);function vH(t,e,r){var i=new Nu({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});Ev(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,r);return i}var cH=2;var pH=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new Lk(q(this.getData,this),q(this.getRawData,this))};e.prototype.fixData=function(t){var e=t.length;var r={};var i=ws(t,function(t){if(!r.hasOwnProperty(t[0]+"")){r[t[0]+""]=-1}return t[2]});var a=[];i.buckets.each(function(t,e){a.push({name:e,dataList:t})});var n=a.length;for(var o=0;o<n;++o){var s=a[o].name;for(var l=0;l<a[o].dataList.length;++l){var u=a[o].dataList[l][0]+"";r[u]=o}for(var u in r){if(r.hasOwnProperty(u)&&r[u]!==o){r[u]=o;t[e]=[u,0,s];e++}}}return t};e.prototype.getInitialData=function(t,e){var r=this.getReferringComponents("singleAxis",ds).models[0];var i=r.get("type");var a=Y(t.data,function(t){return t[2]!==undefined});var n=this.fixData(a||[]);var o=[];var s=this.nameMap=Mt();var l=0;for(var u=0;u<n.length;++u){o.push(n[u][cH]);if(!s.get(n[u][cH])){s.set(n[u][cH],l);l++}}var f=PS(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:oS(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions;var h=new kS(f,this);h.initData(n);return h};e.prototype.getLayerSeries=function(){var t=this.getData();var e=t.count();var r=[];for(var i=0;i<e;++i){r[i]=i}var a=t.mapDimension("single");var n=ws(r,function(e){return t.get("name",e)});var o=[];n.buckets.each(function(e,r){e.sort(function(e,r){return t.get(a,e)-t.get(a,r)});o.push({name:r,indices:e})});return o};e.prototype.getAxisTooltipData=function(t,e,r){if(!J(t)){t=t?[t]:[]}var i=this.getData();var a=this.getLayerSeries();var n=[];var o=a.length;var s;for(var l=0;l<o;++l){var u=Number.MAX_VALUE;var f=-1;var h=a[l].indices.length;for(var v=0;v<h;++v){var c=i.get(t[0],a[l].indices[v]);var p=Math.abs(c-e);if(p<=u){s=c;u=p;f=a[l].indices[v]}}n.push(f)}return{dataIndices:n,nestestValue:s}};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=i.getName(t);var n=i.get(i.mapDimension("value"),t);return ym("nameValue",{name:a,value:n})};e.type="series.themeRiver";e.dependencies=["singleAxis"];e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",fontSize:11},emphasis:{label:{show:true}}};return e}(Vm);function dH(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData();var r=t.coordinateSystem;var i={};var a=r.getRect();i.rect=a;var n=t.get("boundaryGap");var o=r.getAxis();i.boundaryGap=n;if(o.orient==="horizontal"){n[0]=ro(n[0],a.height);n[1]=ro(n[1],a.height);var s=a.height-n[0]-n[1];gH(e,t,s)}else{n[0]=ro(n[0],a.width);n[1]=ro(n[1],a.width);var l=a.width-n[0]-n[1];gH(e,t,l)}e.setLayout("layoutInfo",i)})}function gH(t,e,r){if(!t.count()){return}var i=e.coordinateSystem;var a=e.getLayerSeries();var n=t.mapDimension("single");var o=t.mapDimension("value");var s=W(a,function(e){return W(e.indices,function(e){var r=i.dataToPoint(t.get(n,e));r[1]=t.get(o,e);return r})});var l=yH(s);var u=l.y0;var f=r/l.max;var h=a.length;var v=a[0].indices.length;var c;for(var p=0;p<v;++p){c=u[p]*f;t.setItemLayout(a[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:c,y:s[0][p][1]*f});for(var d=1;d<h;++d){c+=s[d-1][p][1]*f;t.setItemLayout(a[d].indices[p],{layerIndex:d,x:s[d][p][0],y0:c,y:s[d][p][1]*f})}}}function yH(t){var e=t.length;var r=t[0].length;var i=[];var a=[];var n=0;for(var o=0;o<r;++o){var s=0;for(var l=0;l<e;++l){s+=t[l][o][1]}if(s>n){n=s}i.push(s)}for(var u=0;u<r;++u){a[u]=(n-i[u])/2}n=0;for(var f=0;f<r;++f){var h=i[f]+a[f];if(h>n){n=h}}return{y0:a,max:n}}function mH(t){t.registerChartView(hH);t.registerSeriesModel(pH);t.registerLayout(dH);t.registerProcessor(wk("themeRiver"))}var xH=2;var _H=4;var wH=function(t){i(e,t);function e(e,r,i,a){var n=t.call(this)||this;n.z2=xH;n.textConfig={inside:true};Qu(n).seriesIndex=r.seriesIndex;var o=new Bu({z2:_H,silent:e.getModel().get(["label","silent"])});n.setTextContent(o);n.updateData(true,e,r,i,a);return n}e.prototype.updateData=function(t,e,r,i,a){this.node=e;e.piece=this;r=r||this._seriesModel;i=i||this._ecModel;var n=this;Qu(n).dataIndex=e.dataIndex;var o=e.getModel();var s=o.getModel("emphasis");var l=e.getLayout();var u=N({},l);u.label=null;var f=e.getVisual("style");f.lineJoin="bevel";var h=e.getVisual("decal");if(h){f.decal=rw(h,a)}var v=WA(o.getModel("itemStyle"),u,true);N(u,v);H(uf,function(t){var e=n.ensureState(t);var r=o.getModel([t,"itemStyle"]);e.style=r.getItemStyle();var i=WA(r,u);if(i){e.shape=i}});if(t){n.setShape(u);n.shape.r=l.r0;Ev(n,{shape:{r:l.r}},r,e.dataIndex)}else{Nv(n,{shape:u},r);Gv(n)}n.useStyle(f);this._updateLabel(r);var c=o.getShallow("cursor");c&&n.attr("cursor",c);this._seriesModel=r||this._seriesModel;this._ecModel=i||this._ecModel;var p=s.get("focus");var d=p==="relative"?It(e.getAncestorsIndices(),e.getDescendantIndices()):p==="ancestor"?e.getAncestorsIndices():p==="descendant"?e.getDescendantIndices():p;rh(this,d,s.get("blurScope"),s.get("disabled"))};e.prototype._updateLabel=function(t){var e=this;var r=this.node.getModel();var i=r.getModel("label");var a=this.node.getLayout();var n=a.endAngle-a.startAngle;var o=(a.startAngle+a.endAngle)/2;var s=Math.cos(o);var l=Math.sin(o);var u=this;var f=u.getTextContent();var h=this.node.dataIndex;var v=i.get("minAngle")/180*Math.PI;var c=i.get("show")&&!(v!=null&&Math.abs(n)<v);f.ignore=!c;H(ff,function(i){var v=i==="normal"?r.getModel("label"):r.getModel([i,"label"]);var c=i==="normal";var d=c?f:f.ensureState(i);var g=t.getFormattedLabel(h,i);if(c){g=g||e.node.name}d.style=Cc(v,{},null,i!=="normal",true);if(g){d.style.text=g}var y=v.get("show");if(y!=null&&!c){d.ignore=!y}var m=p(v,"position");var x=c?u:u.states[i];var _=x.style.fill;x.textConfig={outsideFill:v.get("color")==="inherit"?_:null,inside:m!=="outside"};var w;var b=p(v,"distance")||0;var S=p(v,"align");var M=p(v,"rotate");var I=Math.PI*.5;var T=Math.PI*1.5;var C=eu(M==="tangential"?Math.PI/2-o:o);var D=C>I&&!co(C-I)&&C<T;if(m==="outside"){w=a.r+b;S=D?"right":"left"}else{if(!S||S==="center"){if(n===2*Math.PI&&a.r0===0){w=0}else{w=(a.r+a.r0)/2}S="center"}else if(S==="left"){w=a.r0+b;S=D?"right":"left"}else if(S==="right"){w=a.r-b;S=D?"left":"right"}}d.style.align=S;d.style.verticalAlign=p(v,"verticalAlign")||"middle";d.x=w*s+a.cx;d.y=w*l+a.cy;var A=0;if(M==="radial"){A=eu(-o)+(D?Math.PI:0)}else if(M==="tangential"){A=eu(Math.PI/2-o)+(D?Math.PI:0)}else if(et(M)){A=M*Math.PI/180}d.rotation=eu(A)});function p(t,e){var r=t.get(e);if(r==null){return i.get(e)}return r}f.dirtyStyle()};return e}(iv);var bH="sunburstRootToNode";var SH="sunburstHighlight";var MH="sunburstUnhighlight";function IH(t){t.registerAction({type:bH,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(e,r){var i=VR(t,[bH],e);if(i){var a=e.getViewRoot();if(a){t.direction=FR(a,i.node)?"rollUp":"drillDown"}e.resetViewRoot(i.node)}}});t.registerAction({type:SH,update:"none"},function(t,e,r){t=N({},t);e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(e){var r=VR(t,[SH],e);if(r){t.dataIndex=r.node.dataIndex}}if(true){No("sunburstHighlight","highlight")}r.dispatchAction(N(t,{type:"highlight"}))});t.registerAction({type:MH,update:"updateView"},function(t,e,r){t=N({},t);if(true){No("sunburstUnhighlight","downplay")}r.dispatchAction(N(t,{type:"downplay"}))})}var TH=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){var a=this;this.seriesModel=t;this.api=r;this.ecModel=e;var n=t.getData();var o=n.tree.root;var s=t.getViewRoot();var l=this.group;var u=t.get("renderLabelForZeroData");var f=[];s.eachNode(function(t){f.push(t)});var h=this._oldChildren||[];v(f,h);d(o,s);this._initEvents();this._oldChildren=f;function v(t,e){if(t.length===0&&e.length===0){return}new rS(e,t,r,r).add(i).update(i).remove(K(i,null)).execute();function r(t){return t.getId()}function i(r,i){var a=r==null?null:t[r];var n=i==null?null:e[i];c(a,n)}}function c(i,a){if(!u&&i&&!i.getValue()){i=null}if(i!==o&&a!==o){if(a&&a.piece){if(i){a.piece.updateData(false,i,t,e,r);n.setItemGraphicEl(i.dataIndex,a.piece)}else{p(a)}}else if(i){var s=new wH(i,t,e,r);l.add(s);n.setItemGraphicEl(i.dataIndex,s)}}}function p(t){if(!t){return}if(t.piece){l.remove(t.piece);t.piece=null}}function d(i,n){if(n.depth>0){if(a.virtualPiece){a.virtualPiece.updateData(false,i,t,e,r)}else{a.virtualPiece=new wH(i,t,e,r);l.add(a.virtualPiece)}n.piece.off("click");a.virtualPiece.on("click",function(t){a._rootToNode(n.parentNode)})}else if(a.virtualPiece){l.remove(a.virtualPiece);a.virtualPiece=null}}};e.prototype._initEvents=function(){var t=this;this.group.off("click");this.group.on("click",function(e){var r=false;var i=t.seriesModel.getViewRoot();i.eachNode(function(i){if(!r&&i.piece&&i.piece===e.target){var a=i.getModel().get("nodeClick");if(a==="rootToNode"){t._rootToNode(i)}else if(a==="link"){var n=i.getModel();var o=n.get("link");if(o){var s=n.get("target",true)||"_blank";ad(o,s)}}r=true}})})};e.prototype._rootToNode=function(t){if(t!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:bH,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})}};e.prototype.containPoint=function(t,e){var r=e.getData();var i=r.getItemLayout(0);if(i){var a=t[0]-i.cx;var n=t[1]-i.cy;var o=Math.sqrt(a*a+n*n);return o<=i.r&&o>=i.r0}};e.type="sunburst";return e}(Jm);var CH=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.ignoreStyleOnData=true;return r}e.prototype.getInitialData=function(t,e){var r={name:t.name,children:t.data};DH(r);var i=this._levelModels=W(t.levels||[],function(t){return new qc(t,this,e)},this);var a=ER.createTree(r,this,n);function n(t){t.wrapMethod("getItemModel",function(t,e){var r=a.getNodeByDataIndex(e);var n=i[r.depth];n&&(t.parentModel=n);return t})}return a.data};e.prototype.optionUpdated=function(){this.resetViewRoot()};e.prototype.getDataParams=function(e){var r=t.prototype.getDataParams.apply(this,arguments);var i=this.getData().tree.getNodeByDataIndex(e);r.treePathInfo=GR(i,this);return r};e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]};e.prototype.getViewRoot=function(){return this._viewRoot};e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;if(!t||t!==e&&!e.contains(t)){this._viewRoot=e}};e.prototype.enableAriaDecal=function(){$R(this)};e.type="series.sunburst";e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,stillShowZeroSum:true,nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"};return e}(Vm);function DH(t){var e=0;H(t.children,function(t){DH(t);var r=t.value;J(r)&&(r=r[0]);e+=r});var r=t.value;if(J(r)){r=r[0]}if(r==null||isNaN(r)){r=e}if(r<0){r=0}J(t.value)?t.value[0]=r:t.value=r}var AH=Math.PI/180;function kH(t,e,r){e.eachSeriesByType(t,function(t){var e=t.get("center");var i=t.get("radius");if(!J(i)){i=[0,i]}if(!J(e)){e=[e,e]}var a=r.getWidth();var n=r.getHeight();var o=Math.min(a,n);var s=ro(e[0],a);var l=ro(e[1],n);var u=ro(i[0],o/2);var f=ro(i[1],o/2);var h=-t.get("startAngle")*AH;var v=t.get("minAngle")*AH;var c=t.getData().tree.root;var p=t.getViewRoot();var d=p.depth;var g=t.get("sort");if(g!=null){LH(p,g)}var y=0;H(p.children,function(t){!isNaN(t.getValue())&&y++});var m=p.getValue();var x=Math.PI/(m||y)*2;var _=p.depth>0;var w=p.height-(_?-1:1);var b=(f-u)/(w||1);var S=t.get("clockwise");var M=t.get("stillShowZeroSum");var I=S?1:-1;var T=function(e,r){if(!e){return}var i=r;if(e!==c){var a=e.getValue();var n=m===0&&M?x:a*x;if(n<v){n=v}i=r+I*n;var f=e.depth-d-(_?-1:1);var h=u+b*f;var p=u+b*(f+1);var g=t.getLevelModel(e);if(g){var y=g.get("r0",true);var w=g.get("r",true);var C=g.get("radius",true);if(C!=null){y=C[0];w=C[1]}y!=null&&(h=ro(y,o/2));w!=null&&(p=ro(w,o/2))}e.setLayout({angle:n,startAngle:r,endAngle:i,clockwise:S,cx:s,cy:l,r0:h,r:p})}if(e.children&&e.children.length){var D=0;H(e.children,function(t){D+=T(t,r+D)})}return i-r};if(_){var C=u;var D=u+b;var A=Math.PI*2;c.setLayout({angle:A,startAngle:h,endAngle:h+A,clockwise:S,cx:s,cy:l,r0:C,r:D})}T(p,h)})}function LH(t,e){var r=t.children||[];t.children=PH(r,e);if(r.length){H(t.children,function(t){LH(t,e)})}}function PH(t,e){if($(e)){var r=W(t,function(t,e){var r=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return r}},index:e}});r.sort(function(t,r){return e(t.params,r.params)});return W(r,function(e){return t[e.index]})}else{var i=e==="asc";return t.sort(function(t,e){var r=(t.getValue()-e.getValue())*(i?1:-1);return r===0?(t.dataIndex-e.dataIndex)*(i?-1:1):r})}}function OH(t){var e={};function r(t,r,i){var a=t;while(a&&a.depth>1){a=a.parentNode}var n=r.getColorFromPalette(a.name||a.dataIndex+"",e);if(t.depth>1&&Q(n)){n=Ti(n,(t.depth-1)/(i-1)*.5)}return n}t.eachSeriesByType("sunburst",function(t){var e=t.getData();var i=e.tree;i.eachNode(function(a){var n=a.getModel();var o=n.getModel("itemStyle").getItemStyle();if(!o.fill){o.fill=r(a,t,i.root.height)}var s=e.ensureUniqueItemVisual(a.dataIndex,"style");N(s,o)})})}function RH(t){t.registerChartView(TH);t.registerSeriesModel(CH);t.registerLayout(K(kH,"sunburst"));t.registerProcessor(K(wk,"sunburst"));t.registerVisual(OH);IH(t)}var NH={color:"fill",borderColor:"stroke"};var EH={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1};var zH=hs();var VH=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",true);this.currentZ=this.get("z",true)};e.prototype.getInitialData=function(t,e){return XS(null,this)};e.prototype.getDataParams=function(e,r,i){var a=t.prototype.getDataParams.call(this,e,r);i&&(a.info=zH(i).info);return a};e.type="series.custom";e.dependencies=["grid","polar","geo","singleAxis","calendar"];e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:true,clip:false};return e}(Vm);function BH(t,e){e=e||[0,0];return W(["x","y"],function(r,i){var a=this.getAxis(r);var n=e[i];var o=t[i]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(n-o)-a.dataToCoord(n+o))},this)}function FH(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:q(BH,t)}}}function GH(t,e){e=e||[0,0];return W([0,1],function(r){var i=e[r];var a=t[r]/2;var n=[];var o=[];n[r]=i-a;o[r]=i+a;n[1-r]=o[1-r]=e[1-r];return Math.abs(this.dataToPoint(n)[r]-this.dataToPoint(o)[r])},this)}function HH(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:q(GH,t)}}}function WH(t,e){var r=this.getAxis();var i=e instanceof Array?e[0]:e;var a=(t instanceof Array?t[0]:t)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(i-a)-r.dataToCoord(i+a))}function UH(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:q(WH,t)}}}function YH(t,e){e=e||[0,0];return W(["Radius","Angle"],function(r,i){var a="get"+r+"Axis";var n=this[a]();var o=e[i];var s=t[i]/2;var l=n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(o-s)-n.dataToCoord(o+s));if(r==="Angle"){l=l*Math.PI/180}return l},this)}function XH(t){var e=t.getRadiusAxis();var r=t.getAngleAxis();var i=e.getExtent();i[0]>i[1]&&i.reverse();return{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]);var n=r.dataToAngle(i[1]);var o=t.coordToPoint([a,n]);o.push(a,n*Math.PI/180);return o},size:q(YH,t)}}}function ZH(t){var e=t.getRect();var r=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(e,r){return t.dataToPoint(e,r)}}}}var jH={};function qH(t,e,r,i){return t&&(t.legacy||t.legacy!==false&&!r&&!i&&e!=="tspan"&&(e==="text"||Dt(t,"text")))}function KH(t,e,r){var i=t;var a;var n;var o;if(e==="text"){o=i}else{o={};Dt(i,"text")&&(o.text=i.text);Dt(i,"rich")&&(o.rich=i.rich);Dt(i,"textFill")&&(o.fill=i.textFill);Dt(i,"textStroke")&&(o.stroke=i.textStroke);Dt(i,"fontFamily")&&(o.fontFamily=i.fontFamily);Dt(i,"fontSize")&&(o.fontSize=i.fontSize);Dt(i,"fontStyle")&&(o.fontStyle=i.fontStyle);Dt(i,"fontWeight")&&(o.fontWeight=i.fontWeight);n={type:"text",style:o,silent:true};a={};var s=Dt(i,"textPosition");if(r){a.position=s?i.textPosition:"inside"}else{s&&(a.position=i.textPosition)}Dt(i,"textPosition")&&(a.position=i.textPosition);Dt(i,"textOffset")&&(a.offset=i.textOffset);Dt(i,"textRotation")&&(a.rotation=i.textRotation);Dt(i,"textDistance")&&(a.distance=i.textDistance)}JH(o,t);H(o.rich,function(t){JH(t,t)});return{textConfig:a,textContent:n}}function JH(t,e){if(!e){return}e.font=e.textFont||e.font;Dt(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth);Dt(e,"textAlign")&&(t.align=e.textAlign);Dt(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign);Dt(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight);Dt(e,"textWidth")&&(t.width=e.textWidth);Dt(e,"textHeight")&&(t.height=e.textHeight);Dt(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor);Dt(e,"textPadding")&&(t.padding=e.textPadding);Dt(e,"textBorderColor")&&(t.borderColor=e.textBorderColor);Dt(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth);Dt(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius);Dt(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor);Dt(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur);Dt(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX);Dt(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY)}function $H(t,e,r){var i=t;i.textPosition=i.textPosition||r.position||"inside";r.offset!=null&&(i.textOffset=r.offset);r.rotation!=null&&(i.textRotation=r.rotation);r.distance!=null&&(i.textDistance=r.distance);var a=i.textPosition.indexOf("inside")>=0;var n=t.fill||"#000";QH(i,e);var o=i.textFill==null;if(a){if(o){i.textFill=r.insideFill||"#fff";!i.textStroke&&r.insideStroke&&(i.textStroke=r.insideStroke);!i.textStroke&&(i.textStroke=n);i.textStrokeWidth==null&&(i.textStrokeWidth=2)}}else{if(o){i.textFill=t.fill||r.outsideFill||"#000"}!i.textStroke&&r.outsideStroke&&(i.textStroke=r.outsideStroke)}i.text=e.text;i.rich=e.rich;H(e.rich,function(t){QH(t,t)});return i}function QH(t,e){if(!e){return}Dt(e,"fill")&&(t.textFill=e.fill);Dt(e,"stroke")&&(t.textStroke=e.fill);Dt(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth);Dt(e,"font")&&(t.font=e.font);Dt(e,"fontStyle")&&(t.fontStyle=e.fontStyle);Dt(e,"fontWeight")&&(t.fontWeight=e.fontWeight);Dt(e,"fontSize")&&(t.fontSize=e.fontSize);Dt(e,"fontFamily")&&(t.fontFamily=e.fontFamily);Dt(e,"align")&&(t.textAlign=e.align);Dt(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign);Dt(e,"lineHeight")&&(t.textLineHeight=e.lineHeight);Dt(e,"width")&&(t.textWidth=e.width);Dt(e,"height")&&(t.textHeight=e.height);Dt(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor);Dt(e,"padding")&&(t.textPadding=e.padding);Dt(e,"borderColor")&&(t.textBorderColor=e.borderColor);Dt(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth);Dt(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius);Dt(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor);Dt(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur);Dt(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX);Dt(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY);Dt(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor);Dt(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur);Dt(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX);Dt(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY)}function tW(t,e){if(true){var r=t+"^_^"+e;if(!jH[r]){console.warn('[ECharts] DEPRECATED: "'+t+'" has been deprecated. '+e);jH[r]=true}}}var eW={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};var rW=Z(eW);var iW=U(vn,function(t,e){t[e]=1;return t},{});var aW=vn.join(", ");var nW=["","style","shape","extra"];var oW=hs();function sW(t,e,r,i,a){var n=t+"Animation";var o=Ov(t,i,a)||{};var s=oW(e).userDuring;if(o.duration>0){o.during=s?q(mW,{el:e,userDuring:s}):null;o.setToFinal=true;o.scope=t}N(o,r[n]);return o}function lW(t,e,r,i){i=i||{};var a=i.dataIndex,n=i.isInit,o=i.clearStyle;var s=r.isAnimationEnabled();var l=oW(t);var u=e.style;l.userDuring=e.during;var f={};var h={};bW(t,e,h);_W("shape",e,h);_W("extra",e,h);if(!n&&s){wW(t,e,f);xW("shape",t,e,f);xW("extra",t,e,f);SW(t,e,u,f)}h.style=u;vW(t,h,o);pW(t,e);if(s){if(n){var v={};H(nW,function(t){var r=t?e[t]:e;if(r&&r.enterFrom){if(t){v[t]=v[t]||{}}N(t?v[t]:v,r.enterFrom)}});var c=sW("enter",t,e,r,a);if(c.duration>0){t.animateFrom(v,c)}}else{cW(t,e,a||0,r,f)}}uW(t,e);u?t.dirty():t.markRedraw()}function uW(t,e){var r=oW(t).leaveToProps;for(var i=0;i<nW.length;i++){var a=nW[i];var n=a?e[a]:e;if(n&&n.leaveTo){if(!r){r=oW(t).leaveToProps={}}if(a){r[a]=r[a]||{}}N(a?r[a]:r,n.leaveTo)}}}function fW(t,e,r,i){if(t){var a=t.parent;var n=oW(t).leaveToProps;if(n){var o=sW("update",t,e,r,0);o.done=function(){a.remove(t);i&&i()};t.animateTo(n,o)}else{a.remove(t);i&&i()}}}function hW(t){return t==="all"}function vW(t,e,r){var i=e.style;if(!t.isGroup&&i){if(r){t.useStyle({});var a=t.animators;for(var n=0;n<a.length;n++){var o=a[n];if(o.targetName==="style"){o.changeTarget(t.style)}}}t.setStyle(i)}if(e){e.style=null;e&&t.attr(e);e.style=i}}function cW(t,e,r,i,a){if(a){var n=sW("update",t,e,i,r);if(n.duration>0){t.animateFrom(a,n)}}}function pW(t,e){Dt(e,"silent")&&(t.silent=e.silent);Dt(e,"ignore")&&(t.ignore=e.ignore);if(t instanceof cl){Dt(e,"invisible")&&(t.invisible=e.invisible)}if(t instanceof wu){Dt(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}}var dW={};var gW={setTransform:function(t,e){if(true){dt(Dt(iW,t),"Only "+aW+" available in `setTransform`.")}dW.el[t]=e;return this},getTransform:function(t){if(true){dt(Dt(iW,t),"Only "+aW+" available in `getTransform`.")}return dW.el[t]},setShape:function(t,e){if(true){yW(t)}var r=dW.el;var i=r.shape||(r.shape={});i[t]=e;r.dirtyShape&&r.dirtyShape();return this},getShape:function(t){if(true){yW(t)}var e=dW.el.shape;if(e){return e[t]}},setStyle:function(t,e){if(true){yW(t)}var r=dW.el;var i=r.style;if(i){if(true){if(ut(e)){Po("style."+t+" must not be assigned with NaN.")}}i[t]=e;r.dirtyStyle&&r.dirtyStyle()}return this},getStyle:function(t){if(true){yW(t)}var e=dW.el.style;if(e){return e[t]}},setExtra:function(t,e){if(true){yW(t)}var r=dW.el.extra||(dW.el.extra={});r[t]=e;return this},getExtra:function(t){if(true){yW(t)}var e=dW.el.extra;if(e){return e[t]}}};function yW(t){if(true){if(t==="transition"||t==="enterFrom"||t==="leaveTo"){throw new Error('key must not be "'+t+'"')}}}function mW(){var t=this;var e=t.el;if(!e){return}var r=oW(e).userDuring;var i=t.userDuring;if(r!==i){t.el=t.userDuring=null;return}dW.el=e;i(gW)}function xW(t,e,r,i){var a=r[t];if(!a){return}var n=e[t];var o;if(n){var s=r.transition;var l=a.transition;if(l){!o&&(o=i[t]={});if(hW(l)){N(o,n)}else{var u=Go(l);for(var f=0;f<u.length;f++){var h=u[f];var v=n[h];o[h]=v}}}else if(hW(s)||V(s,t)>=0){!o&&(o=i[t]={});var c=Z(n);for(var f=0;f<c.length;f++){var h=c[f];var v=n[h];if(MW(a[h],v)){o[h]=v}}}}}function _W(t,e,r){var i=e[t];if(!i){return}var a=r[t]={};var n=Z(i);for(var o=0;o<n.length;o++){var s=n[o];a[s]=da(i[s])}}function wW(t,e,r){var i=e.transition;var a=hW(i)?vn:Go(i||[]);for(var n=0;n<a.length;n++){var o=a[n];if(o==="style"||o==="shape"||o==="extra"){continue}var s=t[o];if(true){IW(o,"el.transition")}r[o]=s}}function bW(t,e,r){for(var i=0;i<rW.length;i++){var a=rW[i];var n=eW[a];var o=e[a];if(o){r[n[0]]=o[0];r[n[1]]=o[1]}}for(var i=0;i<vn.length;i++){var s=vn[i];if(e[s]!=null){r[s]=e[s]}}}function SW(t,e,r,i){if(!r){return}var a=t.style;var n;if(a){var o=r.transition;var s=e.transition;if(o&&!hW(o)){var l=Go(o);!n&&(n=i.style={});for(var u=0;u<l.length;u++){var f=l[u];var h=a[f];n[f]=h}}else if(t.getAnimationStyleProps&&(hW(s)||hW(o)||V(s,"style")>=0)){var v=t.getAnimationStyleProps();var c=v?v.style:null;if(c){!n&&(n=i.style={});var p=Z(r);for(var u=0;u<p.length;u++){var f=p[u];if(c[f]){var h=a[f];n[f]=h}}}}}}function MW(t,e){return!G(t)?t!=null&&isFinite(t):t!==e}var IW;if(true){IW=function(t,e){if(!Dt(iW,t)){Po("Prop `"+t+"` is not a permitted in `"+e+"`. "+"Only `"+Z(iW).join("`, `")+"` are permitted.")}}}var TW=hs();var CW=["percent","easing","shape","style","extra"];function DW(t){t.stopAnimation("keyframe");t.attr(TW(t))}function AW(t,e,r){if(!r.isAnimationEnabled()||!e){return}if(J(e)){H(e,function(e){AW(t,e,r)});return}var i=e.keyframes;var a=e.duration;if(r&&a==null){var n=Ov("enter",r,0);a=n&&n.duration}if(!i||!a){return}var o=TW(t);H(nW,function(r){if(r&&!t[r]){return}var n;var s=false;i.sort(function(t,e){return t.percent-e.percent});H(i,function(i){var l=t.animators;var u=r?i[r]:i;if(true){if(i.percent>=1){s=true}}if(!u){return}var f=Z(u);if(!r){f=Y(f,function(t){return V(CW,t)<0})}if(!f.length){return}if(!n){n=t.animate(r,e.loop,true);n.scope="keyframe"}for(var h=0;h<l.length;h++){if(l[h]!==n&&l[h].targetName===n.targetName){l[h].stopTracks(f)}}r&&(o[r]=o[r]||{});var v=r?o[r]:o;H(f,function(e){v[e]=((r?t[r]:t)||{})[e]});n.whenWithKeys(a*i.percent,u,f,i.easing)});if(!n){return}if(true){if(!s){Po("End frame with percent: 1 is missing in the keyframeAnimation.",true)}}n.delay(e.delay||0).duration(a).start(e.easing)})}var kW="emphasis";var LW="normal";var PW="blur";var OW="select";var RW=[LW,kW,PW,OW];var NW={normal:["itemStyle"],emphasis:[kW,"itemStyle"],blur:[PW,"itemStyle"],select:[OW,"itemStyle"]};var EW={normal:["label"],emphasis:[kW,"label"],blur:[PW,"label"],select:[OW,"label"]};var zW=["x","y"];var VW="e\0\0";var BW={normal:{},emphasis:{},blur:{},select:{}};var FW={cartesian2d:FH,geo:HH,single:UH,polar:XH,calendar:ZH};function GW(t){return t instanceof wu}function HW(t){return t instanceof cl}function WW(t,e){e.copyTransform(t);if(HW(e)&&HW(t)){e.setStyle(t.style);e.z=t.z;e.z2=t.z2;e.zlevel=t.zlevel;e.invisible=t.invisible;e.ignore=t.ignore;if(GW(e)&&GW(t)){e.setShape(t.shape)}}}var UW=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){this._progressiveEls=null;var a=this._data;var n=t.getData();var o=this.group;var s=KW(t,n,e,r);if(!a){o.removeAll()}n.diff(a).add(function(e){$W(r,null,e,s(e,i),t,o,n)}).remove(function(e){var r=a.getItemGraphicEl(e);r&&fW(r,zH(r).option,t)}).update(function(e,l){var u=a.getItemGraphicEl(l);$W(r,u,e,s(e,i),t,o,n)}).execute();var l=t.get("clip",true)?fA(t.coordinateSystem,false,t):null;if(l){o.setClipPath(l)}else{o.removeClipPath()}this._data=n};e.prototype.incrementalPrepareRender=function(t,e,r){this.group.removeAll();this._data=null};e.prototype.incrementalRender=function(t,e,r,i,a){var n=e.getData();var o=KW(e,n,r,i);var s=this._progressiveEls=[];function l(t){if(!t.isGroup){t.incremental=true;t.ensureState("emphasis").hoverLayer=true}}for(var u=t.start;u<t.end;u++){var f=$W(null,null,u,o(u,a),e,this.group,n);if(f){f.traverse(l);s.push(f)}}};e.prototype.eachRendered=function(t){_c(this._progressiveEls||this.group,t)};e.prototype.filterForExposedEvent=function(t,e,r,i){var a=e.element;if(a==null||r.name===a){return true}while((r=r.__hostTarget||r.parent)&&r!==this.group){if(r.name===a){return true}}return false};e.type="custom";return e}(Jm);function YW(t){var e=t.type;var r;if(e==="path"){var i=t.shape;var a=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null;var n=vU(i);r=Jv(n,null,a,i.layout||"center");zH(r).customPathData=n}else if(e==="image"){r=new Cu({});zH(r).customImagePath=t.style.image}else if(e==="text"){r=new Bu({})}else if(e==="group"){r=new En}else if(e==="compoundPath"){throw new Error('"compoundPath" is not supported yet.')}else{var o=Kv(e);if(!o){var s="";if(true){s='graphic type "'+e+'" can not be found.'}zo(s)}r=new o}zH(r).customGraphicType=e;r.name=t.name;r.z2EmphasisLift=1;r.z2SelectLift=1;return r}function XW(t,e,r,i,a,n,o){DW(e);var s=a&&a.normal.cfg;if(s){e.setTextConfig(s)}if(i&&i.transition==null){i.transition=zW}var l=i&&i.style;if(l){if(e.type==="text"){var u=l;Dt(u,"textFill")&&(u.fill=u.textFill);Dt(u,"textStroke")&&(u.stroke=u.textStroke)}var f=void 0;var h=GW(e)?l.decal:null;if(t&&h){h.dirty=true;f=rw(h,t)}l.__decalPattern=f}if(HW(e)){if(l){var f=l.__decalPattern;if(f){l.decal=f}}}lW(e,i,n,{dataIndex:r,isInit:o,clearStyle:true});AW(e,i.keyframeAnimation,n)}function ZW(t,e,r,i,a){var n=e.isGroup?null:e;var o=a&&a[t].cfg;if(n){var s=n.ensureState(t);if(i===false){var l=n.getState(t);if(l){l.style=null}}else{s.style=i||null}if(o){s.textConfig=o}Rf(n)}}function jW(t,e,r){if(t.isGroup){return}var i=t;var a=r.currentZ;var n=r.currentZLevel;i.z=a;i.zlevel=n;var o=e.z2;o!=null&&(i.z2=o||0);for(var s=0;s<RW.length;s++){qW(i,e,RW[s])}}function qW(t,e,r){var i=r===LW;var a=i?e:aU(e,r);var n=a?a.z2:null;var o;if(n!=null){o=i?t:t.ensureState(r);o.z2=n||0}}function KW(t,e,r,i){var a=t.get("renderItem");var n=t.coordinateSystem;var o={};if(n){if(true){dt(a,"series.render is required.");dt(n.prepareCustoms||FW[n.type],"This coordSys does not support custom series.")}o=n.prepareCustoms?n.prepareCustoms(n):FW[n.type](n)}var s=E({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:_,style:b,ordinalRawValue:w,styleEmphasis:S,visual:T,barLayout:C,currentSeriesIndices:D,font:A},o.api||{});var l={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:JW(t.getData())};var u;var f;var h={};var v={};var c={};var p={};for(var d=0;d<RW.length;d++){var g=RW[d];c[g]=t.getModel(NW[g]);p[g]=t.getModel(EW[g])}function y(t){return t===u?f||(f=e.getItemModel(t)):e.getItemModel(t)}function m(t,r){return!e.hasItemOption?c[r]:t===u?h[r]||(h[r]=y(t).getModel(NW[r])):y(t).getModel(NW[r])}function x(t,r){return!e.hasItemOption?p[r]:t===u?v[r]||(v[r]=y(t).getModel(EW[r])):y(t).getModel(EW[r])}return function(t,r){u=t;f=null;h={};v={};return a&&a(E({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:r?r.type:null},l),s)};function _(t,r){r==null&&(r=u);return e.getStore().get(e.getDimensionIndex(t||0),r)}function w(t,r){r==null&&(r=u);t=t||0;var i=e.getDimensionInfo(t);if(!i){var a=e.getDimensionIndex(t);return a>=0?e.getStore().get(a,r):undefined}var n=e.get(i.name,r);var o=i&&i.ordinalMeta;return o?o.categories[n]:n}function b(r,i){if(true){tW("api.style","Please write literal style directly instead.")}i==null&&(i=u);var a=e.getItemVisual(i,"style");var n=a&&a.fill;var o=a&&a.opacity;var s=m(i,LW).getItemStyle();n!=null&&(s.fill=n);o!=null&&(s.opacity=o);var l={inheritColor:Q(n)?n:"#000"};var f=x(i,LW);var h=Cc(f,null,l,false,true);h.text=f.getShallow("show")?ht(t.getFormattedLabel(i,LW),GD(e,i)):null;var v=Dc(f,l,false);I(r,s);s=$H(s,h,v);r&&M(s,r);s.legacy=true;return s}function S(r,i){if(true){tW("api.styleEmphasis","Please write literal style directly instead.")}i==null&&(i=u);var a=m(i,kW).getItemStyle();var n=x(i,kW);var o=Cc(n,null,null,true,true);o.text=n.getShallow("show")?vt(t.getFormattedLabel(i,kW),t.getFormattedLabel(i,LW),GD(e,i)):null;var s=Dc(n,null,true);I(r,a);a=$H(a,o,s);r&&M(a,r);a.legacy=true;return a}function M(t,e){for(var r in e){if(Dt(e,r)){t[r]=e[r]}}}function I(t,e){if(t){t.textFill&&(e.textFill=t.textFill);t.textPosition&&(e.textPosition=t.textPosition)}}function T(t,r){r==null&&(r=u);if(Dt(NH,t)){var i=e.getItemVisual(r,"style");return i?i[NH[t]]:null}if(Dt(EH,t)){return e.getItemVisual(r,t)}}function C(t){if(n.type==="cartesian2d"){var e=n.getBaseAxis();return mM(E({axis:e},t))}}function D(){return r.getCurrentSeriesIndices()}function A(t){return Nc(t,r)}}function JW(t){var e={};H(t.dimensions,function(r){var i=t.getDimensionInfo(r);if(!i.isExtraCoord){var a=i.coordDim;var n=e[a]=e[a]||[];n[i.coordDimIndex]=t.getDimensionIndex(r)}});return e}function $W(t,e,r,i,a,n,o){if(!i){n.remove(e);return}var s=QW(t,e,r,i,a,n);s&&o.setItemGraphicEl(r,s);s&&rh(s,i.focus,i.blurScope,i.emphasisDisabled);return s}function QW(t,e,r,i,a,n){if(true){dt(i,"should not have an null/undefined element setting")}var o=-1;var s=e;if(e&&tU(e,i,a)){o=V(n.childrenRef(),e);e=null}var l=!e;var u=e;if(!u){u=YW(i);if(s){WW(s,u)}}else{u.clearStates()}if(i.morph===false){u.disableMorphing=true}else if(u.disableMorphing){u.disableMorphing=false}BW.normal.cfg=BW.normal.conOpt=BW.emphasis.cfg=BW.emphasis.conOpt=BW.blur.cfg=BW.blur.conOpt=BW.select.cfg=BW.select.conOpt=null;BW.isLegacy=false;rU(u,r,i,a,l,BW);eU(u,r,i,a,l);XW(t,u,r,i,BW,a,l);Dt(i,"info")&&(zH(u).info=i.info);for(var f=0;f<RW.length;f++){var h=RW[f];if(h!==LW){var v=aU(i,h);var c=nU(i,v,h);ZW(h,u,v,c,BW)}}jW(u,i,a);if(i.type==="group"){oU(t,u,r,i,a)}if(o>=0){n.replaceAt(u,o)}else{n.add(u)}return u}function tU(t,e,r){var i=zH(t);var a=e.type;var n=e.shape;var o=e.style;return r.isUniversalTransitionEnabled()||a!=null&&a!==i.customGraphicType||a==="path"&&cU(n)&&vU(n)!==i.customPathData||a==="image"&&Dt(o,"image")&&o.image!==i.customImagePath}function eU(t,e,r,i,a){var n=r.clipPath;if(n===false){if(t&&t.getClipPath()){t.removeClipPath()}}else if(n){var o=t.getClipPath();if(o&&tU(o,n,i)){o=null}if(!o){o=YW(n);if(true){dt(GW(o),"Only any type of `path` can be used in `clipPath`, rather than "+o.type+".")}t.setClipPath(o)}XW(null,o,e,n,null,i,a)}}function rU(t,e,r,i,a,n){if(t.isGroup){return}iU(r,null,n);iU(r,kW,n);var o=n.normal.conOpt;var s=n.emphasis.conOpt;var l=n.blur.conOpt;var u=n.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var f=t.getTextContent();if(o===false){f&&t.removeTextContent()}else{o=n.normal.conOpt=o||{type:"text"};if(!f){f=YW(o);t.setTextContent(f)}else{f.clearStates()}XW(null,f,e,o,null,i,a);var h=o&&o.style;for(var v=0;v<RW.length;v++){var c=RW[v];if(c!==LW){var p=n[c].conOpt;ZW(c,f,p,nU(o,p,c),null)}}h?f.dirty():f.markRedraw()}}}function iU(t,e,r){var i=!e?t:aU(t,e);var a=!e?t.style:nU(t,i,kW);var n=t.type;var o=i?i.textConfig:null;var s=t.textContent;var l=!s?null:!e?s:aU(s,e);if(a&&(r.isLegacy||qH(a,n,!!o,!!l))){r.isLegacy=true;var u=KH(a,n,!e);if(!o&&u.textConfig){o=u.textConfig}if(!l&&u.textContent){l=u.textContent}}if(!e&&l){var f=l;!f.type&&(f.type="text");if(true){dt(f.type==="text",'textContent.type must be "text"')}}var h=!e?r.normal:r[e];h.cfg=o;h.conOpt=l}function aU(t,e){return!e?t:t?t[e]:null}function nU(t,e,r){var i=e&&e.style;if(i==null&&r===kW&&t){i=t.styleEmphasis}return i}function oU(t,e,r,i,a){var n=i.children;var o=n?n.length:0;var s=i.$mergeChildren;var l=s==="byName"||i.diffChildrenByName;var u=s===false;if(!o&&!l&&!u){return}if(l){lU({api:t,oldChildren:e.children()||[],newChildren:n||[],dataIndex:r,seriesModel:a,group:e});return}u&&e.removeAll();var f=0;for(;f<o;f++){var h=n[f];var v=e.childAt(f);if(h){if(h.ignore==null){h.ignore=false}QW(t,v,r,h,a,e)}else{if(true){dt(v,"renderItem should not return a group containing elements"+" as null/undefined/{} if they do not exist before.")}v.ignore=true}}for(var c=e.childCount()-1;c>=f;c--){var p=e.childAt(c);sU(e,p,a)}}function sU(t,e,r){e&&fW(e,zH(t).option,r)}function lU(t){new rS(t.oldChildren,t.newChildren,uU,uU,t).add(fU).update(fU).remove(hU).execute()}function uU(t,e){var r=t&&t.name;return r!=null?r:VW+e}function fU(t,e){var r=this.context;var i=t!=null?r.newChildren[t]:null;var a=e!=null?r.oldChildren[e]:null;QW(r.api,a,r.dataIndex,i,r.seriesModel,r.group)}function hU(t){var e=this.context;var r=e.oldChildren[t];r&&fW(r,zH(r).option,e.seriesModel)}function vU(t){return t&&(t.pathData||t.d)}function cU(t){return t&&(Dt(t,"pathData")||Dt(t,"d"))}function pU(t){t.registerChartView(UW);t.registerSeriesModel(VH)}var dU=hs();var gU=P;var yU=q;var mU=function(){function t(){this._dragging=false;this.animationThreshold=15}t.prototype.render=function(t,e,r,i){var a=e.get("value");var n=e.get("status");this._axisModel=t;this._axisPointerModel=e;this._api=r;if(!i&&this._lastValue===a&&this._lastStatus===n){return}this._lastValue=a;this._lastStatus=n;var o=this._group;var s=this._handle;if(!n||n==="hide"){o&&o.hide();s&&s.hide();return}o&&o.show();s&&s.show();var l={};this.makeElOption(l,a,t,e,r);var u=l.graphicKey;if(u!==this._lastGraphicKey){this.clear(r)}this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(t,e);if(!o){o=this._group=new En;this.createPointerEl(o,l,t,e);this.createLabelEl(o,l,t,e);r.getZr().add(o)}else{var h=K(xU,e,f);this.updatePointerEl(o,l,h);this.updateLabelEl(o,l,h,e)}SU(o,e,true);this._renderHandle(a)};t.prototype.remove=function(t){this.clear(t)};t.prototype.dispose=function(t){this.clear(t)};t.prototype.determineAnimation=function(t,e){var r=e.get("animation");var i=t.axis;var a=i.type==="category";var n=e.get("snap");if(!n&&!a){return false}if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o){return true}if(n){var s=OL(t).seriesDataCount;var l=i.getExtent();return Math.abs(l[0]-l[1])/s>o}return false}return r===true};t.prototype.makeElOption=function(t,e,r,i,a){};t.prototype.createPointerEl=function(t,e,r,i){var a=e.pointer;if(a){var n=dU(t).pointerEl=new wc[a.type](gU(e.pointer));t.add(n)}};t.prototype.createLabelEl=function(t,e,r,i){if(e.label){var a=dU(t).labelEl=new Bu(gU(e.label));t.add(a);wU(a,i)}};t.prototype.updatePointerEl=function(t,e,r){var i=dU(t).pointerEl;if(i&&e.pointer){i.setStyle(e.pointer.style);r(i,{shape:e.pointer.shape})}};t.prototype.updateLabelEl=function(t,e,r,i){var a=dU(t).labelEl;if(a){a.setStyle(e.label.style);r(a,{x:e.label.x,y:e.label.y});wU(a,i)}};t.prototype._renderHandle=function(t){if(this._dragging||!this.updateHandleTransform){return}var e=this._axisPointerModel;var r=this._api.getZr();var i=this._handle;var a=e.getModel("handle");var n=e.get("status");if(!a.get("show")||!n||n==="hide"){i&&r.remove(i);this._handle=null;return}var o;if(!this._handle){o=true;i=this._handle=cc(a.get("icon"),{cursor:"move",draggable:true,onmousemove:function(t){ke(t.event)},onmousedown:yU(this._onHandleDragMove,this,0,0),drift:yU(this._onHandleDragMove,this),ondragend:yU(this._onHandleDragEnd,this)});r.add(i)}SU(i,e,false);i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");if(!J(s)){s=[s,s]}i.scaleX=s[0]/2;i.scaleY=s[1]/2;sx(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate");this._moveHandleToValue(t,o)};t.prototype._moveHandleToValue=function(t,e){xU(this._axisPointerModel,!e&&this._moveAnimation,this._handle,bU(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))};t.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(!r){return}this._dragging=true;var i=this.updateHandleTransform(bU(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i;r.stopAnimation();r.attr(bU(i));dU(r).lastProp=null;this._doDispatchAxisPointer()};t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(!t){return}var e=this._payloadInfo;var r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})};t.prototype._onHandleDragEnd=function(){this._dragging=false;var t=this._handle;if(!t){return}var e=this._axisPointerModel.get("value");this._moveHandleToValue(e);this._api.dispatchAction({type:"hideTip"})};t.prototype.clear=function(t){this._lastValue=null;this._lastStatus=null;var e=t.getZr();var r=this._group;var i=this._handle;if(e&&r){this._lastGraphicKey=null;r&&e.remove(r);i&&e.remove(i);this._group=null;this._handle=null;this._payloadInfo=null}lx(this,"_doDispatchAxisPointer")};t.prototype.doClear=function(){};t.prototype.buildLabel=function(t,e,r){r=r||0;return{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}};return t}();function xU(t,e,r,i){if(!_U(dU(r).lastProp,i)){dU(r).lastProp=i;e?Nv(r,i,t):(r.stopAnimation(),r.attr(i))}}function _U(t,e){if(rt(t)&&rt(e)){var r=true;H(e,function(e,i){r=r&&_U(t[i],e)});return!!r}else{return t===e}}function wU(t,e){t[e.get(["label","show"])?"show":"hide"]()}function bU(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function SU(t,e,r){var i=e.get("z");var a=e.get("zlevel");t&&t.traverse(function(t){if(t.type!=="group"){i!=null&&(t.z=i);a!=null&&(t.zlevel=a);t.silent=r}})}function MU(t){var e=t.get("type");var r=t.getModel(e+"Style");var i;if(e==="line"){i=r.getLineStyle();i.fill=null}else if(e==="shadow"){i=r.getAreaStyle();i.stroke=null}return i}function IU(t,e,r,i,a){var n=r.get("value");var o=CU(n,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])});var s=r.getModel("label");var l=jp(s.get("padding")||0);var u=s.getFont();var f=yn(o,u);var h=a.position;var v=f.width+l[1]+l[3];var c=f.height+l[0]+l[2];var p=a.align;p==="right"&&(h[0]-=v);p==="center"&&(h[0]-=v/2);var d=a.verticalAlign;d==="bottom"&&(h[1]-=c);d==="middle"&&(h[1]-=c/2);TU(h,v,c,i);var g=s.get("backgroundColor");if(!g||g==="auto"){g=e.get(["axisLine","lineStyle","color"])}t.label={x:h[0],y:h[1],style:Cc(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function TU(t,e,r,i){var a=i.getWidth();var n=i.getHeight();t[0]=Math.min(t[0]+e,a)-e;t[1]=Math.min(t[1]+r,n)-r;t[0]=Math.max(t[0],0);t[1]=Math.max(t[1],0)}function CU(t,e,r,i,a){t=e.scale.parse(t);var n=e.scale.getLabel({value:t},{precision:a.precision});var o=a.formatter;if(o){var s={value:sI(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};H(i,function(t){var e=r.getSeriesByIndex(t.seriesIndex);var i=t.dataIndexInside;var a=e&&e.getDataParams(i);a&&s.seriesData.push(a)});if(Q(o)){n=o.replace("{value}",n)}else if($(o)){n=o(s)}}return n}function DU(t,e,r){var i=Ee();Ge(i,i,r.rotation);Fe(i,i,r.position);return oc([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],i)}function AU(t,e,r,i,a,n){var o=dL.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]);IU(e,i,a,n,{position:DU(i.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function kU(t,e,r){r=r||0;return{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function LU(t,e,r){r=r||0;return{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}function PU(t,e,r,i,a,n){return{cx:t,cy:e,r0:r,r:i,startAngle:a,endAngle:n,clockwise:true}}var OU=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;var o=n.grid;var s=i.get("type");var l=RU(o,n).getOtherAxis(n).getGlobalExtent();var u=n.toGlobalCoord(n.dataToCoord(e,true));if(s&&s!=="none"){var f=MU(i);var h=NU[s](n,u,l);h.style=f;t.graphicKey=h.type;t.pointer=h}var v=aL(o.model,r);AU(e,t,v,r,i,a)};e.prototype.getHandleTransform=function(t,e,r){var i=aL(e.axis.grid.model,e,{labelInside:false});i.labelMargin=r.get(["handle","margin"]);var a=DU(e.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}};e.prototype.updateHandleTransform=function(t,e,r,i){var a=r.axis;var n=a.grid;var o=a.getGlobalExtent(true);var s=RU(n,a).getOtherAxis(a).getGlobalExtent();var l=a.dim==="x"?0:1;var u=[t.x,t.y];u[l]+=e[l];u[l]=Math.min(o[1],u[l]);u[l]=Math.max(o[0],u[l]);var f=(s[1]+s[0])/2;var h=[f,f];h[l]=u[l];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:v[l]}};return e}(mU);function RU(t,e){var r={};r[e.dim+"AxisIndex"]=e.index;return t.getCartesian(r)}var NU={line:function(t,e,r){var i=kU([e,r[0]],[e,r[1]],EU(t));return{type:"Line",subPixelOptimize:true,shape:i}},shadow:function(t,e,r){var i=Math.max(1,t.getBandWidth());var a=r[1]-r[0];return{type:"Rect",shape:LU([e-i/2,r[0]],[i,a],EU(t))}}};function EU(t){return t.dim==="x"?0:1}var zU=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="axisPointer";e.defaultOption={show:"auto",z:50,type:"line",snap:false,triggerTooltip:true,triggerEmphasis:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};return e}(wd);var VU=hs();var BU=H;function FU(t,e,r){if(o.node){return}var i=e.getZr();VU(i).records||(VU(i).records={});GU(i,e);var a=VU(i).records[t]||(VU(i).records[t]={});a.handler=r}function GU(t,e){if(VU(t).initialized){return}VU(t).initialized=true;r("click",K(UU,"click"));r("mousemove",K(UU,"mousemove"));r("globalout",WU);function r(r,i){t.on(r,function(r){var a=YU(e);BU(VU(t).records,function(t){t&&i(t,r,a.dispatchAction)});HU(a.pendings,e)})}}function HU(t,e){var r=t.showTip.length;var i=t.hideTip.length;var a;if(r){a=t.showTip[r-1]}else if(i){a=t.hideTip[i-1]}if(a){a.dispatchAction=null;e.dispatchAction(a)}}function WU(t,e,r){t.handler("leave",null,r)}function UU(t,e,r,i){e.handler(t,r,i)}function YU(t){var e={showTip:[],hideTip:[]};var r=function(i){var a=e[i.type];if(a){a.push(i)}else{i.dispatchAction=r;t.dispatchAction(i)}};return{dispatchAction:r,pendings:e}}function XU(t,e){if(o.node){return}var r=e.getZr();var i=(VU(r).records||{})[t];if(i){VU(r).records[t]=null}}var ZU=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=e.getComponent("tooltip");var a=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";FU("axisPointer",r,function(t,e,r){if(a!=="none"&&(t==="leave"||a.indexOf(t)>=0)){r({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}})};e.prototype.remove=function(t,e){XU("axisPointer",e)};e.prototype.dispose=function(t,e){XU("axisPointer",e)};e.type="axisPointer";return e}(Zm);function jU(t,e){var r=[];var i=t.seriesIndex;var a;if(i==null||!(a=e.getSeriesByIndex(i))){return{point:[]}}var n=a.getData();var o=fs(n,t);if(o==null||o<0||J(o)){return{point:[]}}var s=n.getItemGraphicEl(o);var l=a.coordinateSystem;if(a.getTooltipPosition){r=a.getTooltipPosition(o)||[]}else if(l&&l.dataToPoint){if(t.isStacked){var u=l.getBaseAxis();var f=l.getOtherAxis(u);var h=f.dim;var v=u.dim;var c=h==="x"||h==="radius"?1:0;var p=n.mapDimension(v);var d=[];d[c]=n.get(p,o);d[1-c]=n.get(n.getCalculationInfo("stackResultDimension"),o);r=l.dataToPoint(d)||[]}else{r=l.dataToPoint(n.getValues(W(l.dimensions,function(t){return n.mapDimension(t)}),o))||[]}}else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform);r=[g.x+g.width/2,g.y+g.height/2]}return{point:r,el:s}}var qU=hs();function KU(t,e,r){var i=t.currTrigger;var a=[t.x,t.y];var n=t;var o=t.dispatchAction||q(r.dispatchAction,r);var s=e.getComponent("axisPointer").coordSysAxesInfo;if(!s){return}if(oY(a)){a=jU({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point}var l=oY(a);var u=n.axesInfo;var f=s.axesInfo;var h=i==="leave"||oY(a);var v={};var c={};var p={list:[],map:{}};var d={showPointer:K(QU,c),showTooltip:K(tY,p)};H(s.coordSysMap,function(t,e){var r=l||t.containPoint(a);H(s.coordSysAxesInfo[e],function(t,e){var i=t.axis;var n=aY(u,t);if(!h&&r&&(!u||n)){var o=n&&n.value;if(o==null&&!l){o=i.pointToData(a)}o!=null&&JU(t,o,d,false,v)}})});var g={};H(f,function(t,e){var r=t.linkGroup;if(r&&!c[e]){H(r.axesInfo,function(e,i){var a=c[i];if(e!==t&&a){var n=a.value;r.mapper&&(n=t.axis.scale.parse(r.mapper(n,nY(e),nY(t))));g[t.key]=n}})}});H(g,function(t,e){JU(f[e],t,d,true,v)});eY(c,f,v);rY(p,a,t,o);iY(f,o,r);return v}function JU(t,e,r,i,a){var n=t.axis;if(n.scale.isBlank()||!n.containData(e)){return}if(!t.involveSeries){r.showPointer(t,e);return}var o=$U(e,t);var s=o.payloadBatch;var l=o.snapToValue;if(s[0]&&a.seriesIndex==null){N(a,s[0])}if(!i&&t.snap){if(n.containData(l)&&l!=null){e=l}}r.showPointer(t,e,s);r.showTooltip(t,o,l)}function $U(t,e){var r=e.axis;var i=r.dim;var a=t;var n=[];var o=Number.MAX_VALUE;var s=-1;H(e.seriesModels,function(e,l){var u=e.getData().mapDimensionsAll(i);var f;var h;if(e.getAxisTooltipData){var v=e.getAxisTooltipData(u,t,r);h=v.dataIndices;f=v.nestestValue}else{h=e.getData().indicesOfNearest(u[0],t,r.type==="category"?.5:null);if(!h.length){return}f=e.getData().get(u[0],h[0])}if(f==null||!isFinite(f)){return}var c=t-f;var p=Math.abs(c);if(p<=o){if(p<o||c>=0&&s<0){o=p;s=c;a=f;n.length=0}H(h,function(t){n.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})}});return{payloadBatch:n,snapToValue:a}}function QU(t,e,r,i){t[e.key]={value:r,payloadBatch:i}}function tY(t,e,r,i){var a=r.payloadBatch;var n=e.axis;var o=n.model;var s=e.axisPointerModel;if(!e.triggerTooltip||!a.length){return}var l=e.coordSys.model;var u=EL(l);var f=t.map[u];if(!f){f=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]};t.list.push(f)}f.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}function eY(t,e,r){var i=r.axesInfo=[];H(e,function(e,r){var a=e.axisPointerModel.option;var n=t[r];if(n){!e.useHandle&&(a.status="show");a.value=n.value;a.seriesDataIndices=(n.payloadBatch||[]).slice()}else{!e.useHandle&&(a.status="hide")}a.status==="show"&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:a.value})})}function rY(t,e,r,i){if(oY(e)||!t.list.length){i({type:"hideTip"});return}var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}function iY(t,e,r){var i=r.getZr();var a="axisPointerLastHighlights";var n=qU(i)[a]||{};var o=qU(i)[a]={};H(t,function(t,e){var r=t.axisPointerModel.option;r.status==="show"&&t.triggerEmphasis&&H(r.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var s=[];var l=[];H(n,function(t,e){!o[e]&&l.push(t)});H(o,function(t,e){!n[e]&&s.push(t)});l.length&&r.dispatchAction({type:"downplay",escapeConnect:true,notBlur:true,batch:l});s.length&&r.dispatchAction({type:"highlight",escapeConnect:true,notBlur:true,batch:s})}function aY(t,e){for(var r=0;r<(t||[]).length;r++){var i=t[r];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex){return i}}}function nY(t){var e=t.axis.model;var r={};var i=r.axisDim=t.axis.dim;r.axisIndex=r[i+"AxisIndex"]=e.componentIndex;r.axisName=r[i+"AxisName"]=e.name;r.axisId=r[i+"AxisId"]=e.id;return r}function oY(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function sY(t){VL.registerAxisPointerClass("CartesianAxisPointer",OU);t.registerComponentModel(zU);t.registerComponentView(ZU);t.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;if(e&&!J(e)){t.axisPointer.link=[e]}}});t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=TL(t,e)});t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},KU)}function lY(t){Qb(KL);Qb(sY)}var uY=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;if(n.dim==="angle"){this.animationThreshold=Math.PI/18}var o=n.polar;var s=o.getOtherAxis(n);var l=s.getExtent();var u=n.dataToCoord(e);var f=i.get("type");if(f&&f!=="none"){var h=MU(i);var v=hY[f](n,o,u,l);v.style=h;t.graphicKey=v.type;t.pointer=v}var c=i.get(["label","margin"]);var p=fY(e,r,i,o,c);IU(t,r,i,a,p)};return e}(mU);function fY(t,e,r,i,a){var n=e.axis;var o=n.dataToCoord(t);var s=i.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=i.getRadiusAxis().getExtent();var u;var f;var h;if(n.dim==="radius"){var v=Ee();Ge(v,v,s);Fe(v,v,[i.cx,i.cy]);u=oc([o,-a],v);var c=e.getModel("axisLabel").get("rotate")||0;var p=dL.innerTextLayout(s,c*Math.PI/180,-1);f=p.textAlign;h=p.textVerticalAlign}else{var d=l[1];u=i.coordToPoint([d+a,o]);var g=i.cx;var y=i.cy;f=Math.abs(u[0]-g)/d<.3?"center":u[0]>g?"left":"right";h=Math.abs(u[1]-y)/d<.3?"middle":u[1]>y?"top":"bottom"}return{position:u,align:f,verticalAlign:h}}var hY={line:function(t,e,r,i){return t.dim==="angle"?{type:"Line",shape:kU(e.coordToPoint([i[0],r]),e.coordToPoint([i[1],r]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:r}}},shadow:function(t,e,r,i){var a=Math.max(1,t.getBandWidth());var n=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:PU(e.cx,e.cy,i[0],i[1],(-r-a/2)*n,(-r+a/2)*n)}:{type:"Sector",shape:PU(e.cx,e.cy,r-a/2,r+a/2,0,Math.PI*2)}}};var vY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.findAxisModel=function(t){var e;var r=this.ecModel;r.eachComponent(t,function(t){if(t.getCoordSysModel()===this){e=t}},this);return e};e.type="polar";e.dependencies=["radiusAxis","angleAxis"];e.defaultOption={z:0,center:["50%","50%"],radius:"80%"};return e}(wd);var cY=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",ds).models[0]};e.type="polarAxis";return e}(wd);F(cY,pI);var pY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="angleAxis";return e}(cY);var dY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="radiusAxis";return e}(cY);var gY=function(t){i(e,t);function e(e,r){return t.call(this,"radius",e,r)||this}e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[this.dim==="radius"?0:1]};return e}(nT);gY.prototype.dataToRadius=nT.prototype.dataToCoord;gY.prototype.radiusToData=nT.prototype.coordToData;var yY=hs();var mY=function(t){i(e,t);function e(e,r){return t.call(this,"angle",e,r||[0,360])||this}e.prototype.pointToData=function(t,e){return this.polar.pointToData(t,e)[this.dim==="radius"?0:1]};e.prototype.calculateCategoryInterval=function(){var t=this;var e=t.getLabelModel();var r=t.scale;var i=r.getExtent();var a=r.count();if(i[1]-i[0]<1){return 0}var n=i[0];var o=t.dataToCoord(n+1)-t.dataToCoord(n);var s=Math.abs(o);var l=yn(n==null?"":n+"",e.getFont(),"center","top");var u=Math.max(l.height,7);var f=u/s;isNaN(f)&&(f=Infinity);var h=Math.max(0,Math.floor(f));var v=yY(t.model);var c=v.lastAutoInterval;var p=v.lastTickCount;if(c!=null&&p!=null&&Math.abs(c-h)<=1&&Math.abs(p-a)<=1&&c>h){h=c}else{v.lastTickCount=a;v.lastAutoInterval=h}return h};return e}(nT);mY.prototype.dataToAngle=nT.prototype.dataToCoord;mY.prototype.angleToData=nT.prototype.coordToData;var xY=["radius","angle"];var _Y=function(){function t(t){this.dimensions=xY;this.type="polar";this.cx=0;this.cy=0;this._radiusAxis=new gY;this._angleAxis=new mY;this.axisPointerEnabled=true;this.name=t||"";this._radiusAxis.polar=this._angleAxis.polar=this}t.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])};t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])};t.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]};t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]};t.prototype.getAxesByScale=function(t){var e=[];var r=this._angleAxis;var i=this._radiusAxis;r.scale.type===t&&e.push(r);i.scale.type===t&&e.push(i);return e};t.prototype.getAngleAxis=function(){return this._angleAxis};t.prototype.getRadiusAxis=function(){return this._radiusAxis};t.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e};t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()};t.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}};t.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])};t.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]};t.prototype.pointToCoord=function(t){var e=t[0]-this.cx;var r=t[1]-this.cy;var i=this.getAngleAxis();var a=i.getExtent();var n=Math.min(a[0],a[1]);var o=Math.max(a[0],a[1]);i.inverse?n=o-360:o=n+360;var s=Math.sqrt(e*e+r*r);e/=s;r/=s;var l=Math.atan2(-r,e)/Math.PI*180;var u=l<n?1:-1;while(l<n||l>o){l+=u*360}return[s,l]};t.prototype.coordToPoint=function(t){var e=t[0];var r=t[1]/180*Math.PI;var i=Math.cos(r)*e+this.cx;var a=-Math.sin(r)*e+this.cy;return[i,a]};t.prototype.getArea=function(){var t=this.getAngleAxis();var e=this.getRadiusAxis();var r=e.getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent();var a=Math.PI/180;var n=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(t,e){var r=t-this.cx;var i=e-this.cy;var a=r*r+i*i;var o=this.r;var s=this.r0;return o!==s&&a-n<=o*o&&a+n>=s*s}}};t.prototype.convertToPixel=function(t,e,r){var i=wY(e);return i===this?this.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=wY(e);return i===this?this.pointToData(r):null};return t}();function wY(t){var e=t.seriesModel;var r=t.polarModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function bY(t,e,r){var i=e.get("center");var a=r.getWidth();var n=r.getHeight();t.cx=ro(i[0],a);t.cy=ro(i[1],n);var o=t.getRadiusAxis();var s=Math.min(a,n)/2;var l=e.get("radius");if(l==null){l=[0,"100%"]}else if(!J(l)){l=[0,l]}var u=[ro(l[0],s),ro(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function SY(t,e){var r=this;var i=r.getAngleAxis();var a=r.getRadiusAxis();i.scale.setExtent(Infinity,-Infinity);a.scale.setExtent(Infinity,-Infinity);t.eachSeries(function(t){if(t.coordinateSystem===r){var e=t.getData();H(vI(e,"radius"),function(t){a.scale.unionExtentFromData(e,t)});H(vI(e,"angle"),function(t){i.scale.unionExtentFromData(e,t)})}});iI(i.scale,i.model);iI(a.scale,a.model);if(i.type==="category"&&!i.onBand){var n=i.getExtent();var o=360/i.scale.count();i.inverse?n[1]+=o:n[1]-=o;i.setExtent(n[0],n[1])}}function MY(t){return t.mainType==="angleAxis"}function IY(t,e){var r;t.type=e.get("type");t.scale=aI(e);t.onBand=e.get("boundaryGap")&&t.type==="category";t.inverse=e.get("inverse");if(MY(e)){t.inverse=t.inverse!==e.get("clockwise");var i=e.get("startAngle");var a=(r=e.get("endAngle"))!==null&&r!==void 0?r:i+(t.inverse?-360:360);t.setExtent(i,a)}e.axis=t;t.model=e}var TY={dimensions:xY,create:function(t,e){var r=[];t.eachComponent("polar",function(t,i){var a=new _Y(i+"");a.update=SY;var n=a.getRadiusAxis();var o=a.getAngleAxis();var s=t.findAxisModel("radiusAxis");var l=t.findAxisModel("angleAxis");IY(n,s);IY(o,l);bY(a,t,e);r.push(a);t.coordinateSystem=a;a.model=t});t.eachSeries(function(t){if(t.get("coordinateSystem")==="polar"){var e=t.getReferringComponents("polar",ds).models[0];if(true){if(!e){throw new Error('Polar "'+ft(t.get("polarIndex"),t.get("polarId"),0)+'" not found')}}t.coordinateSystem=e.coordinateSystem}});return r}};var CY=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function DY(t,e,r){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],r]);var a=t.coordToPoint([e[1],r]);return{x1:i[0],y1:i[1],x2:a[0],y2:a[1]}}function AY(t){var e=t.getRadiusAxis();return e.inverse?0:1}function kY(t){var e=t[0];var r=t[t.length-1];if(e&&r&&Math.abs(Math.abs(e.coord-r.coord)-360)<1e-4){t.pop()}}var LY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="PolarAxisPointer";return r}e.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var r=t.axis;var i=r.polar;var a=i.getRadiusAxis().getExtent();var n=r.getTicksCoords();var o=r.getMinorTicksCoords();var s=W(r.getViewLabels(),function(t){t=P(t);var e=r.scale;var i=e.type==="ordinal"?e.getRawOrdinalNumber(t.tickValue):t.tickValue;t.coord=r.dataToCoord(i);return t});kY(s);kY(n);H(CY,function(e){if(t.get([e,"show"])&&(!r.scale.isBlank()||e==="axisLine")){PY[e](this.group,t,i,n,o,a,s)}},this)};e.type="angleAxis";return e}(VL);var PY={axisLine:function(t,e,r,i,a,n){var o=e.getModel(["axisLine","lineStyle"]);var s=r.getAngleAxis();var l=Math.PI/180;var u=s.getExtent();var f=AY(r);var h=f?0:1;var v;var c=Math.abs(u[1]-u[0])===360?"Circle":"Arc";if(n[h]===0){v=new wc[c]({shape:{cx:r.cx,cy:r.cy,r:n[f],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:true})}else{v=new nv({shape:{cx:r.cx,cy:r.cy,r:n[f],r0:n[h]},style:o.getLineStyle(),z2:1,silent:true})}v.style.fill=null;t.add(v)},axisTick:function(t,e,r,i,a,n){var o=e.getModel("axisTick");var s=(o.get("inside")?-1:1)*o.get("length");var l=n[AY(r)];var u=W(i,function(t){return new pv({shape:DY(r,[l,l+s],t.coord)})});t.add(tc(u,{style:E(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,r,i,a,n){if(!a.length){return}var o=e.getModel("axisTick");var s=e.getModel("minorTick");var l=(o.get("inside")?-1:1)*s.get("length");var u=n[AY(r)];var f=[];for(var h=0;h<a.length;h++){for(var v=0;v<a[h].length;v++){f.push(new pv({shape:DY(r,[u,u+l],a[h][v].coord)}))}}t.add(tc(f,{style:E(s.getModel("lineStyle").getLineStyle(),E(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function(t,e,r,i,a,n,o){var s=e.getCategories(true);var l=e.getModel("axisLabel");var u=l.get("margin");var f=e.get("triggerEvent");H(o,function(i,a){var o=l;var h=i.tickValue;var v=n[AY(r)];var c=r.coordToPoint([v+u,i.coord]);var p=r.cx;var d=r.cy;var g=Math.abs(c[0]-p)/v<.3?"center":c[0]>p?"left":"right";var y=Math.abs(c[1]-d)/v<.3?"middle":c[1]>d?"top":"bottom";if(s&&s[h]){var m=s[h];if(rt(m)&&m.textStyle){o=new qc(m.textStyle,l,l.ecModel)}}var x=new Bu({silent:dL.isLabelSilent(e),style:Cc(o,{x:c[0],y:c[1],fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:i.formattedLabel,align:g,verticalAlign:y})});t.add(x);if(f){var _=dL.makeAxisEventDataBase(e);_.targetType="axisLabel";_.value=i.rawLabel;Qu(x).eventData=_}},this)},splitLine:function(t,e,r,i,a,n){var o=e.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];for(var h=0;h<i.length;h++){var v=u++%l.length;f[v]=f[v]||[];f[v].push(new pv({shape:DY(r,n,i[h].coord)}))}for(var h=0;h<f.length;h++){t.add(tc(f[h],{style:E({stroke:l[h%l.length]},s.getLineStyle()),silent:true,z:e.get("z")}))}},minorSplitLine:function(t,e,r,i,a,n){if(!a.length){return}var o=e.getModel("minorSplitLine");var s=o.getModel("lineStyle");var l=[];for(var u=0;u<a.length;u++){for(var f=0;f<a[u].length;f++){l.push(new pv({shape:DY(r,n,a[u][f].coord)}))}}t.add(tc(l,{style:s.getLineStyle(),silent:true,z:e.get("z")}))},splitArea:function(t,e,r,i,a,n){if(!i.length){return}var o=e.getModel("splitArea");var s=o.getModel("areaStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];var h=Math.PI/180;var v=-i[0].coord*h;var c=Math.min(n[0],n[1]);var p=Math.max(n[0],n[1]);var d=e.get("clockwise");for(var g=1,y=i.length;g<=y;g++){var m=g===y?i[0].coord:i[g].coord;var x=u++%l.length;f[x]=f[x]||[];f[x].push(new iv({shape:{cx:r.cx,cy:r.cy,r0:c,r:p,startAngle:v,endAngle:-m*h,clockwise:d},silent:true}));v=-m*h}for(var g=0;g<f.length;g++){t.add(tc(f[g],{style:E({fill:l[g%l.length]},s.getAreaStyle()),silent:true}))}}};var OY=["axisLine","axisTickLabel","axisName"];var RY=["splitLine","splitArea","minorSplitLine"];var NY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="PolarAxisPointer";return r}e.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var r=this._axisGroup;var i=this._axisGroup=new En;this.group.add(i);var a=t.axis;var n=a.polar;var o=n.getAngleAxis();var s=a.getTicksCoords();var l=a.getMinorTicksCoords();var u=o.getExtent()[0];var f=a.getExtent();var h=zY(n,t,u);var v=new dL(t,h);H(OY,v.add,v);i.add(v.getGroup());fc(r,i,t);H(RY,function(e){if(t.get([e,"show"])&&!a.scale.isBlank()){EY[e](this.group,t,n,u,f,s,l)}},this)};e.type="radiusAxis";return e}(VL);var EY={splitLine:function(t,e,r,i,a,n){var o=e.getModel("splitLine");var s=o.getModel("lineStyle");var l=s.get("color");var u=0;var f=r.getAngleAxis();var h=Math.PI/180;var v=f.getExtent();var c=Math.abs(v[1]-v[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];var p=[];for(var d=0;d<n.length;d++){var g=u++%l.length;p[g]=p[g]||[];p[g].push(new wc[c]({shape:{cx:r.cx,cy:r.cy,r:Math.max(n[d].coord,0),startAngle:-v[0]*h,endAngle:-v[1]*h,clockwise:f.inverse}}))}for(var d=0;d<p.length;d++){t.add(tc(p[d],{style:E({stroke:l[d%l.length],fill:null},s.getLineStyle()),silent:true}))}},minorSplitLine:function(t,e,r,i,a,n,o){if(!o.length){return}var s=e.getModel("minorSplitLine");var l=s.getModel("lineStyle");var u=[];for(var f=0;f<o.length;f++){for(var h=0;h<o[f].length;h++){u.push(new Vh({shape:{cx:r.cx,cy:r.cy,r:o[f][h].coord}}))}}t.add(tc(u,{style:E({fill:null},l.getLineStyle()),silent:true}))},splitArea:function(t,e,r,i,a,n){if(!n.length){return}var o=e.getModel("splitArea");var s=o.getModel("areaStyle");var l=s.get("color");var u=0;l=l instanceof Array?l:[l];var f=[];var h=n[0].coord;for(var v=1;v<n.length;v++){var c=u++%l.length;f[c]=f[c]||[];f[c].push(new iv({shape:{cx:r.cx,cy:r.cy,r0:h,r:n[v].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));h=n[v].coord}for(var v=0;v<f.length;v++){t.add(tc(f[v],{style:E({fill:l[v%l.length]},s.getAreaStyle()),silent:true}))}}};function zY(t,e,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function VY(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function BY(t,e){return e.dim+t.model.componentIndex}function FY(t,e,r){var i={};var a=GY(Y(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&t.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(t){if(t.coordinateSystem.type!=="polar"){return}var e=t.getData();var r=t.coordinateSystem;var n=r.getBaseAxis();var o=BY(r,n);var s=VY(t);var l=a[o][s];var u=l.offset;var f=l.width;var h=r.getOtherAxis(n);var v=t.coordinateSystem.cx;var c=t.coordinateSystem.cy;var p=t.get("barMinHeight")||0;var d=t.get("barMinAngle")||0;i[s]=i[s]||[];var g=e.mapDimension(h.dim);var y=e.mapDimension(n.dim);var m=HS(e,g);var x=n.dim!=="radius"||!t.get("roundCap",true);var _=h.model;var w=_.get("startValue");var b=h.dataToCoord(w||0);for(var S=0,M=e.count();S<M;S++){var I=e.get(g,S);var T=e.get(y,S);var C=I>=0?"p":"n";var D=b;if(m){if(!i[s][T]){i[s][T]={p:b,n:b}}D=i[s][T][C]}var A=void 0;var k=void 0;var L=void 0;var P=void 0;if(h.dim==="radius"){var O=h.dataToCoord(I)-b;var R=n.dataToCoord(T);if(Math.abs(O)<p){O=(O<0?-1:1)*p}A=D;k=D+O;L=R-u;P=L-f;m&&(i[s][T][C]=k)}else{var N=h.dataToCoord(I,x)-b;var E=n.dataToCoord(T);if(Math.abs(N)<d){N=(N<0?-1:1)*d}A=E+u;k=A+f;L=D;P=D+N;m&&(i[s][T][C]=P)}e.setItemLayout(S,{cx:v,cy:c,r0:A,r:k,startAngle:-L*Math.PI/180,endAngle:-P*Math.PI/180,clockwise:L>=P})}})}function GY(t){var e={};H(t,function(t,r){var i=t.getData();var a=t.coordinateSystem;var n=a.getBaseAxis();var o=BY(a,n);var s=n.getExtent();var l=n.type==="category"?n.getBandWidth():Math.abs(s[1]-s[0])/i.count();var u=e[o]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var f=u.stacks;e[o]=u;var h=VY(t);if(!f[h]){u.autoWidthCount++}f[h]=f[h]||{width:0,maxWidth:0};var v=ro(t.get("barWidth"),l);var c=ro(t.get("barMaxWidth"),l);var p=t.get("barGap");var d=t.get("barCategoryGap");if(v&&!f[h].width){v=Math.min(u.remainedWidth,v);f[h].width=v;u.remainedWidth-=v}c&&(f[h].maxWidth=c);p!=null&&(u.gap=p);d!=null&&(u.categoryGap=d)});var r={};H(e,function(t,e){r[e]={};var i=t.stacks;var a=t.bandWidth;var n=ro(t.categoryGap,a);var o=ro(t.gap,1);var s=t.remainedWidth;var l=t.autoWidthCount;var u=(s-n)/(l+(l-1)*o);u=Math.max(u,0);H(i,function(t,e){var r=t.maxWidth;if(r&&r<u){r=Math.min(r,s);if(t.width){r=Math.min(r,t.width)}s-=r;t.width=r;l--}});u=(s-n)/(l+(l-1)*o);u=Math.max(u,0);var f=0;var h;H(i,function(t,e){if(!t.width){t.width=u}h=t;f+=t.width*(1+o)});if(h){f-=h.width*o}var v=-f/2;H(i,function(t,i){r[e][i]=r[e][i]||{offset:v,width:t.width};v+=t.width*(1+o)})});return r}var HY={startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:0}};var WY={splitNumber:5};var UY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="polar";return e}(Zm);function YY(t){Qb(sY);VL.registerAxisPointerClass("PolarAxisPointer",uY);t.registerCoordinateSystem("polar",TY);t.registerComponentModel(vY);t.registerComponentView(UY);Jk(t,"angle",pY,HY);Jk(t,"radius",dY,WY);t.registerComponentView(LY);t.registerComponentView(NY);t.registerLayout(K(FY,"bar"))}function XY(t,e){e=e||{};var r=t.coordinateSystem;var i=t.axis;var a={};var n=i.position;var o=i.orient;var s=r.getRect();var l=[s.x,s.x+s.width,s.y,s.y+s.height];var u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[o==="vertical"?u.vertical[n]:l[0],o==="horizontal"?u.horizontal[n]:l[3]];var f={horizontal:0,vertical:1};a.rotation=Math.PI/2*f[o];var h={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=h[n];if(t.get(["axisTick","inside"])){a.tickDirection=-a.tickDirection}if(ft(e.labelInside,t.get(["axisLabel","inside"]))){a.labelDirection=-a.labelDirection}var v=e.rotate;v==null&&(v=t.get(["axisLabel","rotate"]));a.labelRotation=n==="top"?-v:v;a.z2=1;return a}var ZY=["axisLine","axisTickLabel","axisName"];var jY=["splitArea","splitLine"];var qY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.axisPointerClass="SingleAxisPointer";return r}e.prototype.render=function(e,r,i,a){var n=this.group;n.removeAll();var o=this._axisGroup;this._axisGroup=new En;var s=XY(e);var l=new dL(e,s);H(ZY,l.add,l);n.add(this._axisGroup);n.add(l.getGroup());H(jY,function(t){if(e.get([t,"show"])){KY[t](this,this.group,this._axisGroup,e)}},this);fc(o,this._axisGroup,e);t.prototype.render.call(this,e,r,i,a)};e.prototype.remove=function(){GL(this)};e.type="singleAxis";return e}(VL);var KY={splitLine:function(t,e,r,i){var a=i.axis;if(a.scale.isBlank()){return}var n=i.getModel("splitLine");var o=n.getModel("lineStyle");var s=o.get("color");s=s instanceof Array?s:[s];var l=o.get("width");var u=i.coordinateSystem.getRect();var f=a.isHorizontal();var h=[];var v=0;var c=a.getTicksCoords({tickModel:n});var p=[];var d=[];for(var g=0;g<c.length;++g){var y=a.toGlobalCoord(c[g].coord);if(f){p[0]=y;p[1]=u.y;d[0]=y;d[1]=u.y+u.height}else{p[0]=u.x;p[1]=y;d[0]=u.x+u.width;d[1]=y}var m=new pv({shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},silent:true});rc(m.shape,l);var x=v++%s.length;h[x]=h[x]||[];h[x].push(m)}var _=o.getLineStyle(["color"]);for(var g=0;g<h.length;++g){e.add(tc(h[g],{style:E({stroke:s[g%s.length]},_),silent:true}))}},splitArea:function(t,e,r,i){FL(t,r,i,i)}};var JY=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.getCoordSysModel=function(){return this};e.type="singleAxis";e.layoutMode="box";e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:1,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:1}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:.2}}};return e}(wd);F(JY,pI.prototype);var $Y=function(t){i(e,t);function e(e,r,i,a,n){var o=t.call(this,e,r,i)||this;o.type=a||"value";o.position=n||"bottom";return o}e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"};e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]};return e}(nT);var QY=["single"];var tX=function(){function t(t,e,r){this.type="single";this.dimension="single";this.dimensions=QY;this.axisPointerEnabled=true;this.model=t;this._init(t,e,r)}t.prototype._init=function(t,e,r){var i=this.dimension;var a=new $Y(i,aI(t),[0,0],t.get("type"),t.get("position"));var n=a.type==="category";a.onBand=n&&t.get("boundaryGap");a.inverse=t.get("inverse");a.orient=t.get("orient");t.axis=a;a.model=t;a.coordinateSystem=this;this._axis=a};t.prototype.update=function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();H(e.mapDimensionsAll(this.dimension),function(t){this._axis.scale.unionExtentFromData(e,t)},this);iI(this._axis.scale,this._axis.model)}},this)};t.prototype.resize=function(t,e){this._rect=cd({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()};t.prototype.getRect=function(){return this._rect};t.prototype._adjustAxis=function(){var t=this._rect;var e=this._axis;var r=e.isHorizontal();var i=r?[0,t.width]:[0,t.height];var a=e.inverse?1:0;e.setExtent(i[a],i[1-a]);this._updateAxisTransform(e,r?t.x:t.y)};t.prototype._updateAxisTransform=function(t,e){var r=t.getExtent();var i=r[0]+r[1];var a=t.isHorizontal();t.toGlobalCoord=a?function(t){return t+e}:function(t){return i-t+e};t.toLocalCoord=a?function(t){return t-e}:function(t){return i-t+e}};t.prototype.getAxis=function(){return this._axis};t.prototype.getBaseAxis=function(){return this._axis};t.prototype.getAxes=function(){return[this._axis]};t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}};t.prototype.containPoint=function(t){var e=this.getRect();var r=this.getAxis();var i=r.orient;if(i==="horizontal"){return r.contain(r.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height}else{return r.contain(r.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height}};t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[e.orient==="horizontal"?0:1]))]};t.prototype.dataToPoint=function(t){var e=this.getAxis();var r=this.getRect();var i=[];var a=e.orient==="horizontal"?0:1;if(t instanceof Array){t=t[0]}i[a]=e.toGlobalCoord(e.dataToCoord(+t));i[1-a]=a===0?r.y+r.height/2:r.x+r.width/2;return i};t.prototype.convertToPixel=function(t,e,r){var i=eX(e);return i===this?this.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=eX(e);return i===this?this.pointToData(r):null};return t}();function eX(t){var e=t.seriesModel;var r=t.singleAxisModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function rX(t,e){var r=[];t.eachComponent("singleAxis",function(i,a){var n=new tX(i,t,e);n.name="single_"+a;n.resize(i,e);i.coordinateSystem=n;r.push(n)});t.eachSeries(function(t){if(t.get("coordinateSystem")==="singleAxis"){var e=t.getReferringComponents("singleAxis",ds).models[0];t.coordinateSystem=e&&e.coordinateSystem}});return r}var iX={create:rX,dimensions:QY};var aX=["x","y"];var nX=["width","height"];var oX=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.makeElOption=function(t,e,r,i,a){var n=r.axis;var o=n.coordinateSystem;var s=uX(o,1-lX(n));var l=o.dataToPoint(e)[0];var u=i.get("type");if(u&&u!=="none"){var f=MU(i);var h=sX[u](n,l,s);h.style=f;t.graphicKey=h.type;t.pointer=h}var v=XY(r);AU(e,t,v,r,i,a)};e.prototype.getHandleTransform=function(t,e,r){var i=XY(e,{labelInside:false});i.labelMargin=r.get(["handle","margin"]);var a=DU(e.axis,t,i);return{x:a[0],y:a[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}};e.prototype.updateHandleTransform=function(t,e,r,i){var a=r.axis;var n=a.coordinateSystem;var o=lX(a);var s=uX(n,o);var l=[t.x,t.y];l[o]+=e[o];l[o]=Math.min(s[1],l[o]);l[o]=Math.max(s[0],l[o]);var u=uX(n,1-o);var f=(u[1]+u[0])/2;var h=[f,f];h[o]=l[o];return{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}};return e}(mU);var sX={line:function(t,e,r){var i=kU([e,r[0]],[e,r[1]],lX(t));return{type:"Line",subPixelOptimize:true,shape:i}},shadow:function(t,e,r){var i=t.getBandWidth();var a=r[1]-r[0];return{type:"Rect",shape:LU([e-i/2,r[0]],[i,a],lX(t))}}};function lX(t){return t.isHorizontal()?0:1}function uX(t,e){var r=t.getRect();return[r[aX[e]],r[aX[e]]+r[nX[e]]]}var fX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="single";return e}(Zm);function hX(t){Qb(sY);VL.registerAxisPointerClass("SingleAxisPointer",oX);t.registerComponentView(fX);t.registerComponentView(qY);t.registerComponentModel(JY);Jk(t,"single",JY,JY.defaultOption);t.registerCoordinateSystem("single",iX)}var vX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(e,r,i){var a=md(e);t.prototype.init.apply(this,arguments);cX(e,a)};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);cX(this.option,e)};e.prototype.getCellSize=function(){return this.option.cellSize};e.type="calendar";e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};return e}(wd);function cX(t,e){var r=t.cellSize;var i;if(!J(r)){i=t.cellSize=[r,r]}else{i=r}if(i.length===1){i[1]=i[0]}var a=W([0,1],function(t){if(dd(e,t)){i[t]="auto"}return i[t]!=null&&i[t]!=="auto"});yd(t,e,{type:"box",ignoreSize:a})}var pX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){var i=this.group;i.removeAll();var a=t.coordinateSystem;var n=a.getRangeInfo();var o=a.getOrient();var s=e.getLocaleModel();this._renderDayRect(t,n,i);this._renderLines(t,n,o,i);this._renderYearText(t,n,o,i);this._renderMonthText(t,s,o,i);this._renderWeekText(t,s,n,o,i)};e.prototype._renderDayRect=function(t,e,r){var i=t.coordinateSystem;var a=t.getModel("itemStyle").getItemStyle();var n=i.getCellWidth();var o=i.getCellHeight();for(var s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],false).tl;var u=new Nu({shape:{x:l[0],y:l[1],width:n,height:o},cursor:"default",style:a});r.add(u)}};e.prototype._renderLines=function(t,e,r,i){var a=this;var n=t.coordinateSystem;var o=t.getModel(["splitLine","lineStyle"]).getLineStyle();var s=t.get(["splitLine","show"]);var l=o.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var u=e.start;for(var f=0;u.time<=e.end.time;f++){v(u.formatedDate);if(f===0){u=n.getDateInfo(e.start.y+"-"+e.start.m)}var h=u.date;h.setMonth(h.getMonth()+1);u=n.getDateInfo(h)}v(n.getNextNDay(e.end.time,1).formatedDate);function v(e){a._firstDayOfMonth.push(n.getDateInfo(e));a._firstDayPoints.push(n.dataToRect([e],false).tl);var l=a._getLinePointsOfOneWeek(t,e,r);a._tlpoints.push(l[0]);a._blpoints.push(l[l.length-1]);s&&a._drawSplitline(l,o,i)}s&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,l,r),o,i);s&&this._drawSplitline(a._getEdgesPoints(a._blpoints,l,r),o,i)};e.prototype._getEdgesPoints=function(t,e,r){var i=[t[0].slice(),t[t.length-1].slice()];var a=r==="horizontal"?0:1;i[0][a]=i[0][a]-e/2;i[1][a]=i[1][a]+e/2;return i};e.prototype._drawSplitline=function(t,e,r){var i=new hv({z2:20,shape:{points:t},style:e});r.add(i)};e.prototype._getLinePointsOfOneWeek=function(t,e,r){var i=t.coordinateSystem;var a=i.getDateInfo(e);var n=[];for(var o=0;o<7;o++){var s=i.getNextNDay(a.time,o);var l=i.dataToRect([s.time],false);n[2*s.day]=l.tl;n[2*s.day+1]=l[r==="horizontal"?"bl":"tr"]}return n};e.prototype._formatterLabel=function(t,e){if(Q(t)&&t){return Qp(t,e)}if($(t)){return t(e)}return e.nameMap};e.prototype._yearTextPositionControl=function(t,e,r,i,a){var n=e[0];var o=e[1];var s=["center","bottom"];if(i==="bottom"){o+=a;s=["center","top"]}else if(i==="left"){n-=a}else if(i==="right"){n+=a;s=["center","top"]}else{o-=a}var l=0;if(i==="left"||i==="right"){l=Math.PI/2}return{rotation:l,x:n,y:o,style:{align:s[0],verticalAlign:s[1]}}};e.prototype._renderYearText=function(t,e,r,i){var a=t.getModel("yearLabel");if(!a.get("show")){return}var n=a.get("margin");var o=a.get("position");if(!o){o=r!=="horizontal"?"top":"left"}var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var l=(s[0][0]+s[1][0])/2;var u=(s[0][1]+s[1][1])/2;var f=r==="horizontal"?0:1;var h={top:[l,s[f][1]],bottom:[l,s[1-f][1]],left:[s[1-f][0],u],right:[s[f][0],u]};var v=e.start.y;if(+e.end.y>+e.start.y){v=v+"-"+e.end.y}var c=a.get("formatter");var p={start:e.start.y,end:e.end.y,nameMap:v};var d=this._formatterLabel(c,p);var g=new Bu({z2:30,style:Cc(a,{text:d}),silent:a.get("silent")});g.attr(this._yearTextPositionControl(g,h[o],r,o,n));i.add(g)};e.prototype._monthTextPositionControl=function(t,e,r,i,a){var n="left";var o="top";var s=t[0];var l=t[1];if(r==="horizontal"){l=l+a;if(e){n="center"}if(i==="start"){o="bottom"}}else{s=s+a;if(e){o="middle"}if(i==="start"){n="right"}}return{x:s,y:l,align:n,verticalAlign:o}};e.prototype._renderMonthText=function(t,e,r,i){var a=t.getModel("monthLabel");if(!a.get("show")){return}var n=a.get("nameMap");var o=a.get("margin");var s=a.get("position");var l=a.get("align");var u=[this._tlpoints,this._blpoints];if(!n||Q(n)){if(n){e=hp(n)||e}n=e.get(["time","monthAbbr"])||[]}var f=s==="start"?0:1;var h=r==="horizontal"?0:1;o=s==="start"?-o:o;var v=l==="center";var c=a.get("silent");for(var p=0;p<u[f].length-1;p++){var d=u[f][p].slice();var g=this._firstDayOfMonth[p];if(v){var y=this._firstDayPoints[p];d[h]=(y[h]+u[0][p+1][h])/2}var m=a.get("formatter");var x=n[+g.m-1];var _={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:x};var w=this._formatterLabel(m,_);var b=new Bu({z2:30,style:N(Cc(a,{text:w}),this._monthTextPositionControl(d,v,r,s,o)),silent:c});i.add(b)}};e.prototype._weekTextPositionControl=function(t,e,r,i,a){var n="center";var o="middle";var s=t[0];var l=t[1];var u=r==="start";if(e==="horizontal"){s=s+i+(u?1:-1)*a[0]/2;n=u?"right":"left"}else{l=l+i+(u?1:-1)*a[1]/2;o=u?"bottom":"top"}return{x:s,y:l,align:n,verticalAlign:o}};e.prototype._renderWeekText=function(t,e,r,i,a){var n=t.getModel("dayLabel");if(!n.get("show")){return}var o=t.coordinateSystem;var s=n.get("position");var l=n.get("nameMap");var u=n.get("margin");var f=o.getFirstDayOfWeek();if(!l||Q(l)){if(l){e=hp(l)||e}var h=e.get(["time","dayOfWeekShort"]);l=h||W(e.get(["time","dayOfWeekAbbr"]),function(t){return t[0]})}var v=o.getNextNDay(r.end.time,7-r.lweek).time;var c=[o.getCellWidth(),o.getCellHeight()];u=ro(u,Math.min(c[1],c[0]));if(s==="start"){v=o.getNextNDay(r.start.time,-(7+r.fweek)).time;u=-u}var p=n.get("silent");for(var d=0;d<7;d++){var g=o.getNextNDay(v,d);var y=o.dataToRect([g.time],false).center;var m=d;m=Math.abs((d+f)%7);var x=new Bu({z2:30,style:N(Cc(n,{text:l[m]}),this._weekTextPositionControl(y,i,s,u,c)),silent:p});a.add(x)}};e.type="calendar";return e}(Zm);var dX=864e5;var gX=function(){function t(e,r,i){this.type="calendar";this.dimensions=t.dimensions;this.getDimensionsInfo=t.getDimensionsInfo;this._model=e}t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]};t.prototype.getRangeInfo=function(){return this._rangeInfo};t.prototype.getModel=function(){return this._model};t.prototype.getRect=function(){return this._rect};t.prototype.getCellWidth=function(){return this._sw};t.prototype.getCellHeight=function(){return this._sh};t.prototype.getOrient=function(){return this._orient};t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};t.prototype.getDateInfo=function(t){t=go(t);var e=t.getFullYear();var r=t.getMonth()+1;var i=r<10?"0"+r:""+r;var a=t.getDate();var n=a<10?"0"+a:""+a;var o=t.getDay();o=Math.abs((o+7-this.getFirstDayOfWeek())%7);return{y:e+"",m:i,d:n,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t}};t.prototype.getNextNDay=function(t,e){e=e||0;if(e===0){return this.getDateInfo(t)}t=new Date(this.getDateInfo(t).time);t.setDate(t.getDate()+e);return this.getDateInfo(t)};t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1;var i=["width","height"];var a=this._model.getCellSize().slice();var n=this._model.getBoxLayoutParams();var o=this._orient==="horizontal"?[r,7]:[7,r];H([0,1],function(t){if(u(a,t)){n[i[t]]=a[t]*o[t]}});var s={width:e.getWidth(),height:e.getHeight()};var l=this._rect=cd(n,s);H([0,1],function(t){if(!u(a,t)){a[t]=l[i[t]]/o[t]}});function u(t,e){return t[e]!=null&&t[e]!=="auto"}this._sw=a[0];this._sh=a[1]};t.prototype.dataToPoint=function(t,e){J(t)&&(t=t[0]);e==null&&(e=true);var r=this.getDateInfo(t);var i=this._rangeInfo;var a=r.formatedDate;if(e&&!(r.time>=i.start.time&&r.time<i.end.time+dX)){return[NaN,NaN]}var n=r.day;var o=this._getRangeInfo([i.start.time,a]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+n*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]}return[this._rect.x+o*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]};t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time};t.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}};t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1;var r=Math.floor((t[1]-this._rect.y)/this._sh)+1;var i=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(r,e-1,i)}return this._getDateByWeeksAndDay(e,r-1,i)};t.prototype.convertToPixel=function(t,e,r){var i=yX(e);return i===this?i.dataToPoint(r):null};t.prototype.convertFromPixel=function(t,e,r){var i=yX(e);return i===this?i.pointToData(r):null};t.prototype.containPoint=function(t){console.warn("Not implemented.");return false};t.prototype._initRangeOption=function(){var t=this._model.get("range");var e;if(J(t)&&t.length===1){t=t[0]}if(!J(t)){var r=t.toString();if(/^\d{4}$/.test(r)){e=[r+"-01-01",r+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r);var a=i.date;a.setMonth(a.getMonth()+1);var n=this.getNextNDay(a,-1);e=[i.formatedDate,n.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)){e=[r,r]}}else{e=t}if(!e){if(true){L("Invalid date range.")}return t}var o=this._getRangeInfo(e);if(o.start.time>o.end.time){e.reverse()}return e};t.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];var r;if(e[0].time>e[1].time){r=true;e.reverse()}var i=Math.floor(e[1].time/dX)-Math.floor(e[0].time/dX)+1;var a=new Date(e[0].time);var n=a.getDate();var o=e[1].date.getDate();a.setDate(n+i-1);var s=a.getDate();if(s!==o){var l=a.getTime()-e[1].time>0?1:-1;while((s=a.getDate())!==o&&(a.getTime()-e[1].time)*l>0){i-=l;a.setDate(s-l)}}var u=Math.floor((i+e[0].day+6)/7);var f=r?-u+1:u-1;r&&e.reverse();return{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:u,nthWeek:f,fweek:e[0].day,lweek:e[1].day}};t.prototype._getDateByWeeksAndDay=function(t,e,r){var i=this._getRangeInfo(r);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek){return null}var a=(t-1)*7-i.fweek+e;var n=new Date(i.start.time);n.setDate(+i.start.d+a);return this.getDateInfo(n)};t.create=function(e,r){var i=[];e.eachComponent("calendar",function(a){var n=new t(a,e,r);i.push(n);a.coordinateSystem=n});e.eachSeries(function(t){if(t.get("coordinateSystem")==="calendar"){t.coordinateSystem=i[t.get("calendarIndex")||0]}});return i};t.dimensions=["time","value"];return t}();function yX(t){var e=t.calendarModel;var r=t.seriesModel;var i=e?e.coordinateSystem:r?r.coordinateSystem:null;return i}function mX(t){t.registerComponentModel(vX);t.registerComponentView(pX);t.registerCoordinateSystem("calendar",gX)}function xX(t,e){var r=t.existing;e.id=t.keyInfo.id;!e.type&&r&&(e.type=r.type);if(e.parentId==null){var i=e.parentOption;if(i){e.parentId=i.id}else if(r){e.parentId=r.parentId}}e.parentOption=null}function _X(t,e){var r;H(e,function(e){t[e]!=null&&t[e]!=="auto"&&(r=true)});return r}function wX(t,e,r){var i=N({},r);var a=t[e];var n=r.$action||"merge";if(n==="merge"){if(a){if(true){var o=r.type;dt(!o||a.type===o,'Please set $action: "replace" to change `type`')}O(a,i,true);yd(a,i,{ignoreSize:true});xd(r,a);MX(r,a);MX(r,a,"shape");MX(r,a,"style");MX(r,a,"extra");r.clipPath=a.clipPath}else{t[e]=i}}else if(n==="replace"){t[e]=i}else if(n==="remove"){a&&(t[e]=null)}}var bX=["transition","enterFrom","leaveTo"];var SX=bX.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function MX(t,e,r){if(r){if(!t[r]&&e[r]){t[r]={}}t=t[r];e=e[r]}if(!t||!e){return}var i=r?bX:SX;for(var a=0;a<i.length;a++){var n=i[a];if(t[n]==null&&e[n]!=null){t[n]=e[n]}}}function IX(t,e){if(!t){return}t.hv=e.hv=[_X(e,["left","right"]),_X(e,["top","bottom"])];if(t.type==="group"){var r=t;var i=e;r.width==null&&(r.width=i.width=0);r.height==null&&(r.height=i.height=0)}}var TX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.preventAutoZ=true;return r}e.prototype.mergeOption=function(e,r){var i=this.option.elements;this.option.elements=null;t.prototype.mergeOption.call(this,e,r);this.option.elements=i};e.prototype.optionUpdated=function(t,e){var r=this.option;var i=(e?r:t).elements;var a=r.elements=e?[]:r.elements;var n=[];this._flatten(i,n,null);var o=Xo(a,n,"normalMerge");var s=this._elOptionsToUpdate=[];H(o,function(t,e){var r=t.newOption;if(true){dt(rt(r)||t.existing,"Empty graphic option definition")}if(!r){return}s.push(r);xX(t,r);wX(a,e,r);IX(a[e],r)},this);r.elements=Y(a,function(t){t&&delete t.$action;return t!=null})};e.prototype._flatten=function(t,e,r){H(t,function(t){if(!t){return}if(r){t.parentOption=r}e.push(t);var i=t.children;if(i&&i.length){this._flatten(i,e,t)}delete t.children},this)};e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return t};e.type="graphic";e.defaultOption={elements:[]};return e}(wd);var CX={path:null,compoundPath:null,group:En,image:Cu,text:Bu};var DX=hs();var AX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this._elMap=Mt()};e.prototype.render=function(t,e,r){if(t!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=t;this._updateElements(t);this._relocate(t,r)};e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(!e){return}var r=this._elMap;var i=this.group;var a=t.get("z");var n=t.get("zlevel");H(e,function(e){var o=es(e.id,null);var s=o!=null?r.get(o):null;var l=es(e.parentId,null);var u=l!=null?r.get(l):i;var f=e.type;var h=e.style;if(f==="text"&&h){if(e.hv&&e.hv[1]){h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null}}var v=e.textContent;var c=e.textConfig;if(h&&qH(h,f,!!c,!!v)){var p=KH(h,f,true);if(!c&&p.textConfig){c=e.textConfig=p.textConfig}if(!v&&p.textContent){v=p.textContent}}var d=RX(e);if(true){s&&dt(u===s.parent,"Changing parent is not supported.")}var g=e.$action||"merge";var y=g==="merge";var m=g==="replace";if(y){var x=!s;var _=s;if(x){_=LX(o,u,e.type,r)}else{_&&(DX(_).isNew=false);DW(_)}if(_){lW(_,d,t,{isInit:x});OX(_,e,a,n)}}else if(m){PX(s,e,r,t);var w=LX(o,u,e.type,r);if(w){lW(w,d,t,{isInit:true});OX(w,e,a,n)}}else if(g==="remove"){uW(s,e);PX(s,e,r,t)}var b=r.get(o);if(b&&v){if(y){var S=b.getTextContent();S?S.attr(v):b.setTextContent(new Bu(v))}else if(m){b.setTextContent(new Bu(v))}}if(b){var M=e.clipPath;if(M){var I=M.type;var T=void 0;var x=false;if(y){var C=b.getClipPath();x=!C||DX(C).type!==I;T=x?kX(I):C}else if(m){x=true;T=kX(I)}b.setClipPath(T);lW(T,M,t,{isInit:x});AW(T,M.keyframeAnimation,t)}var D=DX(b);b.setTextConfig(c);D.option=e;NX(b,t,e);mc({el:b,componentModel:t,itemName:b.name,itemTooltipOption:e.tooltip});AW(b,e.keyframeAnimation,t)}})};e.prototype._relocate=function(t,e){var r=t.option.elements;var i=this.group;var a=this._elMap;var n=e.getWidth();var o=e.getHeight();var s=["x","y"];for(var l=0;l<r.length;l++){var u=r[l];var f=es(u.id,null);var h=f!=null?a.get(f):null;if(!h||!h.isGroup){continue}var v=h.parent;var c=v===i;var p=DX(h);var d=DX(v);p.width=ro(p.option.width,c?n:d.width)||0;p.height=ro(p.option.height,c?o:d.height)||0}for(var l=r.length-1;l>=0;l--){var u=r[l];var f=es(u.id,null);var h=f!=null?a.get(f):null;if(!h){continue}var v=h.parent;var d=DX(v);var g=v===i?{width:n,height:o}:{width:d.width,height:d.height};var y={};var m=pd(h,u,g,null,{hv:u.hv,boundingMode:u.bounding},y);if(!DX(h).isNew&&m){var x=u.transition;var _={};for(var w=0;w<s.length;w++){var b=s[w];var S=y[b];if(x&&(hW(x)||V(x,b)>=0)){_[b]=S}else{h[b]=S}}Nv(h,_,t,0)}else{h.attr(y)}}};e.prototype._clear=function(){var t=this;var e=this._elMap;e.each(function(r){PX(r,DX(r).option,e,t._lastGraphicModel)});this._elMap=Mt()};e.prototype.dispose=function(){this._clear()};e.type="graphic";return e}(Zm);function kX(t){if(true){dt(t,"graphic type MUST be set")}var e=Dt(CX,t)?CX[t]:Kv(t);if(true){dt(e,"graphic type "+t+" can not be found")}var r=new e({});DX(r).type=t;return r}function LX(t,e,r,i){var a=kX(r);e.add(a);i.set(t,a);DX(a).id=t;DX(a).isNew=true;return a}function PX(t,e,r,i){var a=t&&t.parent;if(a){t.type==="group"&&t.traverse(function(t){PX(t,e,r,i)});fW(t,e,i);r.removeKey(DX(t).id)}}function OX(t,e,r,i){if(!t.isGroup){H([["cursor",cl.prototype.cursor],["zlevel",i||0],["z",r||0],["z2",0]],function(r){var i=r[0];if(Dt(e,i)){t[i]=ht(e[i],r[1])}else if(t[i]==null){t[i]=r[1]}})}H(Z(e),function(r){if(r.indexOf("on")===0){var i=e[r];t[r]=$(i)?i:null}});if(Dt(e,"draggable")){t.draggable=e.draggable}e.name!=null&&(t.name=e.name);e.id!=null&&(t.id=e.id)}function RX(t){t=N({},t);H(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(od),function(e){delete t[e]});return t}function NX(t,e,r){var i=Qu(t).eventData;if(!t.silent&&!t.ignore&&!i){i=Qu(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}}if(i){i.info=r.info}}function EX(t){t.registerComponentModel(TX);t.registerComponentView(AX);t.registerPreprocessor(function(t){var e=t.graphic;if(J(e)){if(!e[0]||!e[0].elements){t.graphic=[{elements:e}]}else{t.graphic=[t.graphic[0]]}}else if(e&&!e.elements){t.graphic=[{elements:[e]}]}})}var zX=["x","y","radius","angle","single"];var VX=["cartesian2d","polar","singleAxis"];function BX(t){var e=t.get("coordinateSystem");return V(VX,e)>=0}function FX(t){if(true){dt(t)}return t+"Axis"}function GX(t,e){var r=Mt();var i=[];var a=Mt();t.eachComponent({mainType:"dataZoom",query:e},function(t){if(!a.get(t.uid)){s(t)}});var n;do{n=false;t.eachComponent("dataZoom",o)}while(n);function o(t){if(!a.get(t.uid)&&l(t)){s(t);n=true}}function s(t){a.set(t.uid,true);i.push(t);u(t)}function l(t){var e=false;t.eachTargetAxis(function(t,i){var a=r.get(t);if(a&&a[i]){e=true}});return e}function u(t){t.eachTargetAxis(function(t,e){(r.get(t)||r.set(t,[]))[e]=true})}return i}function HX(t){var e=t.ecModel;var r={infoList:[],infoMap:Mt()};t.eachTargetAxis(function(t,i){var a=e.getComponent(FX(t),i);if(!a){return}var n=a.getCoordSysModel();if(!n){return}var o=n.uid;var s=r.infoMap.get(o);if(!s){s={model:n,axisModels:[]};r.infoList.push(s);r.infoMap.set(o,s)}s.axisModels.push(a)});return r}var WX=function(){function t(){this.indexList=[];this.indexMap=[]}t.prototype.add=function(t){if(!this.indexMap[t]){this.indexList.push(t);this.indexMap[t]=true}};return t}();var UX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._autoThrottle=true;r._noTarget=true;r._rangePropMode=["percent","percent"];return r}e.prototype.init=function(t,e,r){var i=YX(t);this.settledOption=i;this.mergeDefaultAndTheme(t,r);this._doInit(i)};e.prototype.mergeOption=function(t){var e=YX(t);O(this.option,t,true);O(this.settledOption,e,true);this._doInit(e)};e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t);this._updateRangeUse(t);var r=this.settledOption;H([["start","startValue"],["end","endValue"]],function(t,i){if(this._rangePropMode[i]==="value"){e[t[0]]=r[t[0]]=null}},this);this._resetTarget()};e.prototype._resetTarget=function(){var t=this.get("orient",true);var e=this._targetAxisInfoMap=Mt();var r=this._fillSpecifiedTargetAxis(e);if(r){this._orient=t||this._makeAutoOrientByTargetAxis()}else{this._orient=t||"horizontal";this._fillAutoTargetAxisByOrient(e,this._orient)}this._noTarget=true;e.each(function(t){if(t.indexList.length){this._noTarget=false}},this)};e.prototype._fillSpecifiedTargetAxis=function(t){var e=false;H(zX,function(r){var i=this.getReferringComponents(FX(r),gs);if(!i.specified){return}e=true;var a=new WX;H(i.models,function(t){a.add(t.componentIndex)});t.set(r,a)},this);return e};e.prototype._fillAutoTargetAxisByOrient=function(t,e){var r=this.ecModel;var i=true;if(i){var a=e==="vertical"?"y":"x";var n=r.findComponents({mainType:a+"Axis"});o(n,a)}if(i){var n=r.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",true)===e}});o(n,"single")}function o(e,r){var a=e[0];if(!a){return}var n=new WX;n.add(a.componentIndex);t.set(r,n);i=false;if(r==="x"||r==="y"){var o=a.getReferringComponents("grid",ds).models[0];o&&H(e,function(t){if(a.componentIndex!==t.componentIndex&&o===t.getReferringComponents("grid",ds).models[0]){n.add(t.componentIndex)}})}}if(i){H(zX,function(e){if(!i){return}var a=r.findComponents({mainType:FX(e),filter:function(t){return t.get("type",true)==="category"}});if(a[0]){var n=new WX;n.add(a[0].componentIndex);t.set(e,n);i=false}},this)}};e.prototype._makeAutoOrientByTargetAxis=function(){var t;this.eachTargetAxis(function(e){!t&&(t=e)},this);return t==="y"?"vertical":"horizontal"};e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}};e.prototype._updateRangeUse=function(t){var e=this._rangePropMode;var r=this.get("rangeMode");H([["start","startValue"],["end","endValue"]],function(i,a){var n=t[i[0]]!=null;var o=t[i[1]]!=null;if(n&&!o){e[a]="percent"}else if(!n&&o){e[a]="value"}else if(r){e[a]=r[a]}else if(n){e[a]="percent"}})};e.prototype.noTarget=function(){return this._noTarget};e.prototype.getFirstTargetAxisModel=function(){var t;this.eachTargetAxis(function(e,r){if(t==null){t=this.ecModel.getComponent(FX(e),r)}},this);return t};e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(r,i){H(r.indexList,function(r){t.call(e,i,r)})})};e.prototype.getAxisProxy=function(t,e){var r=this.getAxisModel(t,e);if(r){return r.__dzAxisProxy}};e.prototype.getAxisModel=function(t,e){if(true){dt(t&&e!=null)}var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[e]){return this.ecModel.getComponent(FX(t),e)}};e.prototype.setRawRange=function(t){var e=this.option;var r=this.settledOption;H([["start","startValue"],["end","endValue"]],function(i){if(t[i[0]]!=null||t[i[1]]!=null){e[i[0]]=r[i[0]]=t[i[0]];e[i[1]]=r[i[1]]=t[i[1]]}},this);this._updateRangeUse(t)};e.prototype.setCalculatedRange=function(t){var e=this.option;H(["start","startValue","end","endValue"],function(r){e[r]=t[r]})};e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t){return t.getDataPercentWindow()}};e.prototype.getValueRange=function(t,e){if(t==null&&e==null){var r=this.findRepresentativeAxisProxy();if(r){return r.getDataValueWindow()}}else{return this.getAxisProxy(t,e).getDataValueWindow()}};e.prototype.findRepresentativeAxisProxy=function(t){if(t){return t.__dzAxisProxy}var e;var r=this._targetAxisInfoMap.keys();for(var i=0;i<r.length;i++){var a=r[i];var n=this._targetAxisInfoMap.get(a);for(var o=0;o<n.indexList.length;o++){var s=this.getAxisProxy(a,n.indexList[o]);if(s.hostedBy(this)){return s}if(!e){e=s}}}return e};e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()};e.prototype.getOrient=function(){if(true){dt(this._orient)}return this._orient};e.type="dataZoom";e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"];e.defaultOption={z:4,filterMode:"filter",start:0,end:100};return e}(wd);function YX(t){var e={};H(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])});return e}var XX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.select";return e}(UX);var ZX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r,i){this.dataZoomModel=t;this.ecModel=e;this.api=r};e.type="dataZoom";return e}(Zm);var jX=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.select";return e}(ZX);var qX=H;var KX=ao;var JX=function(){function t(t,e,r,i){this._dimName=t;this._axisIndex=e;this.ecModel=i;this._dataZoomModel=r}t.prototype.hostedBy=function(t){return this._dataZoomModel===t};t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()};t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()};t.prototype.getTargetSeriesModels=function(){var t=[];this.ecModel.eachSeries(function(e){if(BX(e)){var r=FX(this._dimName);var i=e.getReferringComponents(r,ds).models[0];if(i&&this._axisIndex===i.componentIndex){t.push(e)}}},this);return t};t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)};t.prototype.getMinMaxSpan=function(){return P(this._minMaxSpan)};t.prototype.calculateDataWindow=function(t){var e=this._dataExtent;var r=this.getAxisModel();var i=r.axis.scale;var a=this._dataZoomModel.getRangePropMode();var n=[0,100];var o=[];var s=[];var l;qX(["start","end"],function(r,u){var f=t[r];var h=t[r+"Value"];if(a[u]==="percent"){f==null&&(f=n[u]);h=i.parse(eo(f,n,e))}else{l=true;h=h==null?e[u]:i.parse(h);f=eo(h,e,n)}s[u]=h==null||isNaN(h)?e[u]:h;o[u]=f==null||isNaN(f)?n[u]:f});KX(s);KX(o);var u=this._minMaxSpan;l?f(s,o,e,n,false):f(o,s,n,e,true);function f(t,e,r,a,n){var o=n?"Span":"ValueSpan";mV(0,t,r,"all",u["min"+o],u["max"+o]);for(var s=0;s<2;s++){e[s]=eo(t[s],r,a,true);n&&(e[s]=i.parse(e[s]))}}return{valueWindow:s,percentWindow:o}};t.prototype.reset=function(t){if(t!==this._dataZoomModel){return}var e=this.getTargetSeriesModels();this._dataExtent=$X(this,this._dimName,e);this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow;this._percentWindow=r.percentWindow;this._setAxisModel()};t.prototype.filterData=function(t,e){if(t!==this._dataZoomModel){return}var r=this._dimName;var i=this.getTargetSeriesModels();var a=t.get("filterMode");var n=this._valueWindow;if(a==="none"){return}qX(i,function(t){var e=t.getData();var i=e.mapDimensionsAll(r);if(!i.length){return}if(a==="weakFilter"){var s=e.getStore();var l=W(i,function(t){return e.getDimensionIndex(t)},e);e.filterSelf(function(t){var e;var r;var a;for(var o=0;o<i.length;o++){var u=s.get(l[o],t);var f=!isNaN(u);var h=u<n[0];var v=u>n[1];if(f&&!h&&!v){return true}f&&(a=true);h&&(e=true);v&&(r=true)}return a&&e&&r})}else{qX(i,function(r){if(a==="empty"){t.setData(e=e.map(r,function(t){return!o(t)?NaN:t}))}else{var i={};i[r]=n;e.selectRange(i)}})}qX(i,function(t){e.setApproximateExtent(n,t)})});function o(t){return t>=n[0]&&t<=n[1]}};t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={};var e=this._dataZoomModel;var r=this._dataExtent;qX(["min","max"],function(i){var a=e.get(i+"Span");var n=e.get(i+"ValueSpan");n!=null&&(n=this.getAxisModel().axis.scale.parse(n));if(n!=null){a=eo(r[0]+n,r,[0,100],true)}else if(a!=null){n=eo(a,[0,100],r,true)-r[0]}t[i+"Span"]=a;t[i+"ValueSpan"]=n},this)};t.prototype._setAxisModel=function(){var t=this.getAxisModel();var e=this._percentWindow;var r=this._valueWindow;if(!e){return}var i=so(r,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;if(e[0]!==0){a.setDeterminedMinMax("min",+r[0].toFixed(i))}if(e[1]!==100){a.setDeterminedMinMax("max",+r[1].toFixed(i))}a.freeze()};return t}();function $X(t,e,r){var i=[Infinity,-Infinity];qX(r,function(t){cI(i,t.getData(),e)});var a=t.getAxisModel();var n=QM(a.axis.scale,a,i).calculate();return[n.min,n.max]}var QX={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(i,a){var n=t.getComponent(FX(i),a);e(i,a,n,r)})})}e(function(t,e,r,i){r.__dzAxisProxy=null});var r=[];e(function(e,i,a,n){if(!a.__dzAxisProxy){a.__dzAxisProxy=new JX(e,i,n,t);r.push(a.__dzAxisProxy)}});var i=Mt();H(r,function(t){H(t.getTargetSeriesModels(),function(t){i.set(t.uid,t)})});return i},overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,r){t.getAxisProxy(e,r).reset(t)});t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})});t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var r=e.getDataPercentWindow();var i=e.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:i[0],endValue:i[1]})}})}};function tZ(t){t.registerAction("dataZoom",function(t,e){var r=GX(e,t);H(r,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var eZ=false;function rZ(t){if(eZ){return}eZ=true;t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,QX);tZ(t);t.registerSubTypeDefaulter("dataZoom",function(){return"slider"})}function iZ(t){t.registerComponentModel(XX);t.registerComponentView(jX);rZ(t)}var aZ=function(){function t(){}return t}();var nZ={};function oZ(t,e){nZ[t]=e}function sZ(t){return nZ[t]}var lZ=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;H(this.option.feature,function(t,r){var i=sZ(r);if(i){if(i.getDefaultOption){i.defaultOption=i.getDefaultOption(e)}O(t,i.defaultOption)}})};e.type="toolbox";e.layoutMode={type:"box",ignoreSize:true};e.defaultOption={show:true,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:false,position:"bottom"}};return e}(wd);function uZ(t,e,r){var i=e.getBoxLayoutParams();var a=e.get("padding");var n={width:r.getWidth(),height:r.getHeight()};var o=cd(i,n,a);ud(e.get("orient"),t,e.get("itemGap"),o.width,o.height);pd(t,i,n,a)}function fZ(t,e){var r=jp(e.get("padding"));var i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");t=new Nu({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:i,silent:true,z2:-1});return t}var hZ=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r,i){var a=this.group;a.removeAll();if(!t.get("show")){return}var n=+t.get("itemSize");var o=t.get("orient")==="vertical";var s=t.get("feature")||{};var l=this._features||(this._features={});var u=[];H(s,function(t,e){u.push(e)});new rS(this._featureNames||[],u).add(f).update(f).remove(K(f,null)).execute();this._featureNames=u;function f(a,n){var o=u[a];var f=u[n];var v=s[o];var c=new qc(v,t,t.ecModel);var p;if(i&&i.newTitle!=null&&i.featureName===o){v.title=i.newTitle}if(o&&!f){if(vZ(o)){p={onclick:c.option.onclick,featureName:o}}else{var d=sZ(o);if(!d){return}p=new d}l[o]=p}else{p=l[f];if(!p){return}}p.uid=Jc("toolbox-feature");p.model=c;p.ecModel=e;p.api=r;var g=p instanceof aZ;if(!o&&f){g&&p.dispose&&p.dispose(e,r);return}if(!c.get("show")||g&&p.unusable){g&&p.remove&&p.remove(e,r);return}h(c,p,o);c.setIconStatus=function(t,e){var r=this.option;var i=this.iconPaths;r.iconStatus=r.iconStatus||{};r.iconStatus[t]=e;if(i[t]){(e==="emphasis"?zf:Vf)(i[t])}};if(p instanceof aZ){if(p.render){p.render(c,e,r,i)}}}function h(i,s,l){var u=i.getModel("iconStyle");var f=i.getModel(["emphasis","iconStyle"]);var h=s instanceof aZ&&s.getIcons?s.getIcons():i.get("icon");var v=i.get("title")||{};var c;var p;if(Q(h)){c={};c[l]=h}else{c=h}if(Q(v)){p={};p[l]=v}else{p=v}var d=i.iconPaths={};H(c,function(l,h){var v=cc(l,{},{x:-n/2,y:-n/2,width:n,height:n});v.setStyle(u.getItemStyle());var c=v.ensureState("emphasis");c.style=f.getItemStyle();var g=new Bu({style:{text:p[h],align:f.get("textAlign"),borderRadius:f.get("textBorderRadius"),padding:f.get("textPadding"),fill:null,font:Nc({fontStyle:f.get("textFontStyle"),fontFamily:f.get("textFontFamily"),fontSize:f.get("textFontSize"),fontWeight:f.get("textFontWeight")},e)},ignore:true});v.setTextContent(g);mc({el:v,componentModel:t,itemName:h,formatterParamsExtra:{title:p[h]}});v.__title=p[h];v.on("mouseover",function(){var e=f.getItemStyle();var i=o?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";g.setStyle({fill:f.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:f.get("textBackgroundColor")});v.setTextConfig({position:f.get("textPosition")||i});g.ignore=!t.get("showTitle");r.enterEmphasis(this)}).on("mouseout",function(){if(i.get(["iconStatus",h])!=="emphasis"){r.leaveEmphasis(this)}g.hide()});(i.get(["iconStatus",h])==="emphasis"?zf:Vf)(v);a.add(v);v.on("click",q(s.onclick,s,e,r,h));d[h]=v})}uZ(a,t,r);a.add(fZ(a.getBoundingRect(),t));o||a.eachChild(function(t){var e=t.__title;var i=t.ensureState("emphasis");var o=i.textConfig||(i.textConfig={});var s=t.getTextContent();var l=s&&s.ensureState("emphasis");if(l&&!$(l)&&e){var u=l.style||(l.style={});var f=yn(e,Bu.makeFont(u));var h=t.x+a.x;var v=t.y+a.y+n;var c=false;if(v+f.height>r.getHeight()){o.position="top";c=true}var p=c?-5-f.height:n+10;if(h+f.width/2>r.getWidth()){o.position=["100%",p];u.align="right"}else if(h-f.width/2<0){o.position=[0,p];u.align="left"}}})};e.prototype.updateView=function(t,e,r,i){H(this._features,function(t){t instanceof aZ&&t.updateView&&t.updateView(t.model,e,r,i)})};e.prototype.remove=function(t,e){H(this._features,function(r){r instanceof aZ&&r.remove&&r.remove(t,e)});this.group.removeAll()};e.prototype.dispose=function(t,e){H(this._features,function(r){r instanceof aZ&&r.dispose&&r.dispose(t,e)})};e.type="toolbox";return e}(Zm);function vZ(t){return t.indexOf("my")===0}var cZ=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){var r=this.model;var i=r.get("name")||t.get("title.0.text")||"echarts";var a=e.getZr().painter.getType()==="svg";var n=a?"svg":r.get("type",true)||"png";var s=e.getConnectedDataURL({type:n,backgroundColor:r.get("backgroundColor",true)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")});var l=o.browser;if(typeof MouseEvent==="function"&&(l.newEdge||!l.ie&&!l.edge)){var u=document.createElement("a");u.download=i+"."+n;u.target="_blank";u.href=s;var f=new MouseEvent("click",{view:document.defaultView,bubbles:true,cancelable:false});u.dispatchEvent(f)}else{if(window.navigator.msSaveOrOpenBlob||a){var h=s.split(",");var v=h[0].indexOf("base64")>-1;var c=a?decodeURIComponent(h[1]):h[1];v&&(c=window.atob(c));var p=i+"."+n;if(window.navigator.msSaveOrOpenBlob){var d=c.length;var g=new Uint8Array(d);while(d--){g[d]=c.charCodeAt(d)}var y=new Blob([g]);window.navigator.msSaveOrOpenBlob(y,p)}else{var m=document.createElement("iframe");document.body.appendChild(m);var x=m.contentWindow;var _=x.document;_.open("image/svg+xml","replace");_.write(c);_.close();x.focus();_.execCommand("SaveAs",true,p);document.body.removeChild(m)}}else{var w=r.get("lang");var b=""+'<body style="margin:0;">'+'<img src="'+s+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" />'+"</body>";var S=window.open();S.document.write(b);S.document.title=i}}};e.getDefaultOption=function(t){var e={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e};return e}(aZ);var pZ="__ec_magicType_stack__";var dZ=[["line","bar"],["stack"]];var gZ=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.getIcons=function(){var t=this.model;var e=t.get("icon");var r={};H(t.get("type"),function(t){if(e[t]){r[t]=e[t]}});return r};e.getDefaultOption=function(t){var e={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e};e.prototype.onclick=function(t,e,r){var i=this.model;var a=i.get(["seriesIndex",r]);if(!yZ[r]){return}var n={series:[]};var o=function(t){var e=t.subType;var a=t.id;var o=yZ[r](e,a,t,i);if(o){E(o,t.option);n.series.push(o)}var s=t.coordinateSystem;if(s&&s.type==="cartesian2d"&&(r==="line"||r==="bar")){var l=s.getAxesByScale("ordinal")[0];if(l){var u=l.dim;var f=u+"Axis";var h=t.getReferringComponents(f,ds).models[0];var v=h.componentIndex;n[f]=n[f]||[];for(var c=0;c<=v;c++){n[f][v]=n[f][v]||{}}n[f][v].boundaryGap=r==="bar"}}};H(dZ,function(t){if(V(t,r)>=0){H(t,function(t){i.setIconStatus(t,"normal")})}});i.setIconStatus(r,"emphasis");t.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},o);var s;var l=r;if(r==="stack"){s=O({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title);if(i.get(["iconStatus",r])!=="emphasis"){l="tiled"}}e.dispatchAction({type:"changeMagicType",currentType:l,newOption:n,newTitle:s,featureName:"magicType"})};return e}(aZ);var yZ={line:function(t,e,r,i){if(t==="bar"){return O({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","line"])||{},true)}},bar:function(t,e,r,i){if(t==="line"){return O({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","bar"])||{},true)}},stack:function(t,e,r,i){var a=r.get("stack")===pZ;if(t==="line"||t==="bar"){i.setIconStatus("stack",a?"normal":"emphasis");return O({id:e,stack:a?"":pZ},i.get(["option","stack"])||{},true)}}};Vb({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var mZ=new Array(60).join("-");var xZ="\t";function _Z(t){var e={};var r=[];var i=[];t.eachRawSeries(function(t){var a=t.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var n=a.getBaseAxis();if(n.type==="category"){var o=n.dim+"_"+n.index;if(!e[o]){e[o]={categoryAxis:n,valueAxis:a.getOtherAxis(n),series:[]};i.push({axisDim:n.dim,axisIndex:n.index})}e[o].series.push(t)}else{r.push(t)}}else{r.push(t)}});return{seriesGroupByCategoryAxis:e,other:r,meta:i}}function wZ(t){var e=[];H(t,function(t,r){var i=t.categoryAxis;var a=t.valueAxis;var n=a.dim;var o=[" "].concat(W(t.series,function(t){return t.name}));var s=[i.model.getCategories()];H(t.series,function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(n),function(t){return t}))});var l=[o.join(xZ)];for(var u=0;u<s[0].length;u++){var f=[];for(var h=0;h<s.length;h++){f.push(s[h][u])}l.push(f.join(xZ))}e.push(l.join("\n"))});return e.join("\n\n"+mZ+"\n\n")}function bZ(t){return W(t,function(t){var e=t.getRawData();var r=[t.name];var i=[];e.each(e.dimensions,function(){var t=arguments.length;var a=arguments[t-1];var n=e.getName(a);for(var o=0;o<t-1;o++){i[o]=arguments[o]}r.push((n?n+xZ:"")+i.join(xZ))});return r.join("\n")}).join("\n\n"+mZ+"\n\n")}function SZ(t){var e=_Z(t);return{value:Y([wZ(e.seriesGroupByCategoryAxis),bZ(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+mZ+"\n\n"),meta:e.meta}}function MZ(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function IZ(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(xZ)>=0){return true}}var TZ=new RegExp("["+xZ+"]+","g");function CZ(t){var e=t.split(/\n+/g);var r=MZ(e.shift()).split(TZ);var i=[];var a=W(r,function(t){return{name:t,data:[]}});for(var n=0;n<e.length;n++){var o=MZ(e[n]).split(TZ);i.push(o.shift());for(var s=0;s<o.length;s++){a[s]&&(a[s].data[n]=o[s])}}return{series:a,categories:i}}function DZ(t){var e=t.split(/\n+/g);var r=MZ(e.shift());var i=[];for(var a=0;a<e.length;a++){var n=MZ(e[a]);if(!n){continue}var o=n.split(TZ);var s="";var l=void 0;var u=false;if(isNaN(o[0])){u=true;s=o[0];o=o.slice(1);i[a]={name:s,value:[]};l=i[a].value}else{l=i[a]=[]}for(var f=0;f<o.length;f++){l.push(+o[f])}if(l.length===1){u?i[a].value=l[0]:i[a]=l[0]}}return{name:r,data:i}}function AZ(t,e){var r=t.split(new RegExp("\n*"+mZ+"\n*","g"));var i={series:[]};H(r,function(t,r){if(IZ(t)){var a=CZ(t);var n=e[r];var o=n.axisDim+"Axis";if(n){i[o]=i[o]||[];i[o][n.axisIndex]={data:a.categories};i.series=i.series.concat(a.series)}}else{var a=DZ(t);i.series.push(a)}});return i}var kZ=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){setTimeout(function(){e.dispatchAction({type:"hideTip"})});var r=e.getDom();var i=this.model;if(this._dom){r.removeChild(this._dom)}var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px";a.style.backgroundColor=i.get("backgroundColor")||"#fff";var n=document.createElement("h4");var o=i.get("lang")||[];n.innerHTML=o[0]||i.get("title");n.style.cssText="margin:10px 20px";n.style.color=i.get("textColor");var s=document.createElement("div");var l=document.createElement("textarea");s.style.cssText="overflow:auto";var u=i.get("optionToContent");var f=i.get("contentToOption");var h=SZ(t);if($(u)){var v=u(e.getOption());if(Q(v)){s.innerHTML=v}else if(nt(v)){s.appendChild(v)}}else{l.readOnly=i.get("readOnly");var c=l.style;c.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none";c.color=i.get("textColor");c.borderColor=i.get("textareaBorderColor");c.backgroundColor=i.get("textareaColor");l.value=h.value;s.appendChild(l)}var p=h.meta;var d=document.createElement("div");d.style.cssText="position:absolute;bottom:5px;left:0;right:0";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var y=document.createElement("div");var m=document.createElement("div");g+=";background-color:"+i.get("buttonColor");g+=";color:"+i.get("buttonTextColor");var x=this;function _(){r.removeChild(a);x._dom=null}De(y,"click",_);De(m,"click",function(){if(f==null&&u!=null||f!=null&&u==null){if(true){Po("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.")}_();return}var t;try{if($(f)){t=f(s,e.getOption())}else{t=AZ(l.value,p)}}catch(t){_();throw new Error("Data view format error "+t)}if(t){e.dispatchAction({type:"changeDataView",newOption:t})}_()});y.innerHTML=o[1];m.innerHTML=o[2];m.style.cssText=y.style.cssText=g;!i.get("readOnly")&&d.appendChild(m);d.appendChild(y);a.appendChild(n);a.appendChild(s);a.appendChild(d);s.style.height=r.clientHeight-80+"px";r.appendChild(a);this._dom=a};e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)};e.prototype.dispose=function(t,e){this.remove(t,e)};e.getDefaultOption=function(t){var e={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e};return e}(aZ);function LZ(t,e){return W(t,function(t,r){var i=e&&e[r];if(rt(i)&&!J(i)){var a=rt(t)&&!J(t);if(!a){t={value:t}}var n=i.name!=null&&t.name==null;t=E(t,i);n&&delete t.name;return t}else{return t}})}Vb({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var r=[];H(t.newOption.series,function(t){var i=e.getSeriesByName(t.name)[0];if(!i){r.push(N({type:"scatter"},t))}else{var a=i.get("data");r.push({name:t.name,data:LZ(t.data,a)})}});e.mergeOption(E({series:r},t.newOption))});var PZ=H;var OZ=hs();function RZ(t,e){var r=VZ(t);PZ(e,function(e,i){var a=r.length-1;for(;a>=0;a--){var n=r[a];if(n[i]){break}}if(a<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var s=o.getPercentRange();r[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}});r.push(e)}function NZ(t){var e=VZ(t);var r=e[e.length-1];e.length>1&&e.pop();var i={};PZ(r,function(t,r){for(var a=e.length-1;a>=0;a--){t=e[a][r];if(t){i[r]=t;break}}});return i}function EZ(t){OZ(t).snapshots=null}function zZ(t){return VZ(t).length}function VZ(t){var e=OZ(t);if(!e.snapshots){e.snapshots=[{}]}return e.snapshots}var BZ=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.onclick=function(t,e){EZ(t);e.dispatchAction({type:"restore",from:this.uid})};e.getDefaultOption=function(t){var e={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e};return e}(aZ);Vb({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var FZ=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];var GZ=function(){function t(t,e,r){var i=this;this._targetInfoList=[];var a=WZ(e,t);H(UZ,function(t,e){if(!r||!r.include||V(r.include,e)>=0){t(a,i._targetInfoList)}})}t.prototype.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,r){(t.coordRanges||(t.coordRanges=[])).push(e);if(!t.coordRange){t.coordRange=e;var i=ZZ[t.brushType](0,r,e);t.__rangeOffset={offset:qZ[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}});return t};t.prototype.matchOutputRanges=function(t,e,r){H(t,function(t){var i=this.findTargetInfo(t,e);if(i&&i!==true){H(i.coordSyses,function(i){var a=ZZ[t.brushType](1,i,t.range,true);r(t,a.values,i,e)})}},this)};t.prototype.setInputRanges=function(t,e){H(t,function(t){var r=this.findTargetInfo(t,e);if(true){dt(!r||r===true||t.coordRange,"coordRange must be specified when coord index specified.");dt(!r||r!==true||t.range,"range must be specified in global brush.")}t.range=t.range||[];if(r&&r!==true){t.panelId=r.panelId;var i=ZZ[t.brushType](0,r.coordSys,t.coordRange);var a=t.__rangeOffset;t.range=a?qZ[t.brushType](i.values,a.offset,JZ(i.xyMinMax,a.xyMinMax)):i.values}},this)};t.prototype.makePanelOpts=function(t,e){return W(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:kB(i),isTargetByCursor:PB(i,t,r.coordSysModel),getLinearBrushOtherExtent:LB(i)}})};t.prototype.controlSeries=function(t,e,r){var i=this.findTargetInfo(t,r);return i===true||i&&V(i.coordSyses,e.coordinateSystem)>=0};t.prototype.findTargetInfo=function(t,e){var r=this._targetInfoList;var i=WZ(e,t);for(var a=0;a<r.length;a++){var n=r[a];var o=t.panelId;if(o){if(n.panelId===o){return n}}else{for(var s=0;s<YZ.length;s++){if(YZ[s](i,n)){return n}}}}return true};return t}();function HZ(t){t[0]>t[1]&&t.reverse();return t}function WZ(t,e){return cs(t,e,{includeMainTypes:FZ})}var UZ={grid:function(t,e){var r=t.xAxisModels;var i=t.yAxisModels;var a=t.gridModels;var n=Mt();var o={};var s={};if(!r&&!i&&!a){return}H(r,function(t){var e=t.axis.grid.model;n.set(e.id,e);o[e.id]=true});H(i,function(t){var e=t.axis.grid.model;n.set(e.id,e);s[e.id]=true});H(a,function(t){n.set(t.id,t);o[t.id]=true;s[t.id]=true});n.each(function(t){var a=t.coordinateSystem;var n=[];H(a.getCartesians(),function(t,e){if(V(r,t.getAxis("x").model)>=0||V(i,t.getAxis("y").model)>=0){n.push(t)}});e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:n[0],coordSyses:n,getPanelRect:XZ.grid,xAxisDeclared:o[t.id],yAxisDeclared:s[t.id]})})},geo:function(t,e){H(t.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:XZ.geo})})}};var YZ=[function(t,e){var r=t.xAxisModel;var i=t.yAxisModel;var a=t.gridModel;!a&&r&&(a=r.axis.grid.model);!a&&i&&(a=i.axis.grid.model);return a&&a===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}];var XZ={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys;var e=t.getBoundingRect().clone();e.applyTransform(nc(t));return e}};var ZZ={lineX:K(jZ,0),lineY:K(jZ,1),rect:function(t,e,r,i){var a=t?e.pointToData([r[0][0],r[1][0]],i):e.dataToPoint([r[0][0],r[1][0]],i);var n=t?e.pointToData([r[0][1],r[1][1]],i):e.dataToPoint([r[0][1],r[1][1]],i);var o=[HZ([a[0],n[0]]),HZ([a[1],n[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,r,i){var a=[[Infinity,-Infinity],[Infinity,-Infinity]];var n=W(r,function(r){var n=t?e.pointToData(r,i):e.dataToPoint(r,i);a[0][0]=Math.min(a[0][0],n[0]);a[1][0]=Math.min(a[1][0],n[1]);a[0][1]=Math.max(a[0][1],n[0]);a[1][1]=Math.max(a[1][1],n[1]);return n});return{values:n,xyMinMax:a}}};function jZ(t,e,r,i){if(true){dt(r.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var a=r.getAxis(["x","y"][t]);var n=HZ(W([0,1],function(t){return e?a.coordToData(a.toLocalCoord(i[t]),true):a.toGlobalCoord(a.dataToCoord(i[t]))}));var o=[];o[t]=n;o[1-t]=[NaN,NaN];return{values:n,xyMinMax:o}}var qZ={lineX:K(KZ,0),lineY:K(KZ,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return W(t,function(t,i){return[t[0]-r[0]*e[i][0],t[1]-r[1]*e[i][1]]})}};function KZ(t,e,r,i){return[e[0]-i[t]*r[0],e[1]-i[t]*r[1]]}function JZ(t,e){var r=$Z(t);var i=$Z(e);var a=[r[0]/i[0],r[1]/i[1]];isNaN(a[0])&&(a[0]=1);isNaN(a[1])&&(a[1]=1);return a}function $Z(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var QZ=H;var tj=os("toolbox-dataZoom_");var ej=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r,i){if(!this._brushController){this._brushController=new ZV(r.getZr());this._brushController.on("brush",q(this._onBrush,this)).mount()}nj(t,e,this,i,r);aj(t,e)};e.prototype.onclick=function(t,e,r){rj[r].call(this)};e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()};e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()};e.prototype._onBrush=function(t){var e=t.areas;if(!t.isEnd||!e.length){return}var r={};var i=this.ecModel;this._brushController.updateCovers([]);var a=new GZ(ij(this.model),i,{include:["grid"]});a.matchOutputRanges(e,i,function(t,e,r){if(r.type!=="cartesian2d"){return}var i=t.brushType;if(i==="rect"){n("x",r,e[0]);n("y",r,e[1])}else{n({lineX:"x",lineY:"y"}[i],r,e)}});RZ(i,r);this._dispatchZoomAction(r);function n(t,e,a){var n=e.getAxis(t);var s=n.model;var l=o(t,s,i);var u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();if(u.minValueSpan!=null||u.maxValueSpan!=null){a=mV(0,a.slice(),n.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)}l&&(r[l.id]={dataZoomId:l.id,startValue:a[0],endValue:a[1]})}function o(t,e,r){var i;r.eachComponent({mainType:"dataZoom",subType:"select"},function(r){var a=r.getAxisModel(t,e.componentIndex);a&&(i=r)});return i}};e.prototype._dispatchZoomAction=function(t){var e=[];QZ(t,function(t,r){e.push(P(t))});e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})};e.getDefaultOption=function(t){var e={show:true,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e};return e}(aZ);var rj={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(NZ(this.ecModel))}};function ij(t){var e={xAxisIndex:t.get("xAxisIndex",true),yAxisIndex:t.get("yAxisIndex",true),xAxisId:t.get("xAxisId",true),yAxisId:t.get("yAxisId",true)};if(e.xAxisIndex==null&&e.xAxisId==null){e.xAxisIndex="all"}if(e.yAxisIndex==null&&e.yAxisId==null){e.yAxisIndex="all"}return e}function aj(t,e){t.setIconStatus("back",zZ(e)>1?"emphasis":"normal")}function nj(t,e,r,i,a){var n=r._isZoomActive;if(i&&i.type==="takeGlobalCursor"){n=i.key==="dataZoomSelect"?i.dataZoomSelectActive:false}r._isZoomActive=n;t.setIconStatus("zoom",n?"emphasis":"normal");var o=new GZ(ij(t),e,{include:["grid"]});var s=o.makePanelOpts(a,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(s).enableBrush(n&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:false)}Yd("dataZoom",function(t){var e=t.getComponent("toolbox",0);var r=["feature","dataZoom"];if(!e||e.get(r)==null){return}var i=e.getModel(r);var a=[];var n=ij(i);var o=cs(t,n);QZ(o.xAxisModels,function(t){return s(t,"xAxis","xAxisIndex")});QZ(o.yAxisModels,function(t){return s(t,"yAxis","yAxisIndex")});function s(t,e,r){var n=t.componentIndex;var o={type:"select",$fromToolbox:true,filterMode:i.get("filterMode",true)||"filter",id:tj+e+n};o[r]=n;a.push(o)}return a});function oj(t){t.registerComponentModel(lZ);t.registerComponentView(hZ);oZ("saveAsImage",cZ);oZ("magicType",gZ);oZ("dataView",kZ);oZ("dataZoom",ej);oZ("restore",BZ);Qb(iZ)}var sj=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="tooltip";e.dependencies=["axisPointer"];e.defaultOption={z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:false,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};return e}(wd);function lj(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function uj(t){if(!o.domSupported){return}var e=document.documentElement.style;for(var r=0,i=t.length;r<i;r++){if(t[r]in e){return t[r]}}}var fj=uj(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var hj=uj(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function vj(t,e){if(!t){return e}e=Zp(e,true);var r=t.indexOf(e);t=r===-1?e:"-"+t.slice(0,r)+"-"+e;return t.toLowerCase()}function cj(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?e?r[e]:r:null}var pj=vj(hj,"transition");var dj=vj(fj,"transform");var gj="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(o.transform3dSupported?"will-change:transform;":"");function yj(t){t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top";return t}function mj(t,e,r){if(!Q(r)||r==="inside"){return""}var i=t.get("backgroundColor");var a=t.get("borderWidth");e=id(e);var n=yj(r);var o=Math.max(Math.round(a)*1.5,6);var s="";var l=dj+":";var u;if(V(["left","right"],n)>-1){s+="top:50%";l+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"}else{s+="left:50%";l+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)"}var f=u*Math.PI/180;var h=o+a;var v=h*Math.abs(Math.cos(f))+h*Math.abs(Math.sin(f));var c=Math.round(((v-Math.SQRT2*a)/2+Math.SQRT2*a-(v-h)/2)*100)/100;s+=";"+n+":-"+c+"px";var p=e+" solid "+a+"px;";var d=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+i+";"];return'<div style="'+d.join("")+'"></div>'}function xj(t,e){var r="cubic-bezier(0.23,1,0.32,1)";var i=" "+t/2+"s "+r;var a="opacity"+i+",visibility"+i;if(!e){i=" "+t+"s "+r;a+=o.transformSupported?","+dj+i:",left"+i+",top"+i}return pj+":"+a}function _j(t,e,r){var i=t.toFixed(0)+"px";var a=e.toFixed(0)+"px";if(!o.transformSupported){return r?"top:"+a+";left:"+i+";":[["top",a],["left",i]]}var n=o.transform3dSupported;var s="translate"+(n?"3d":"")+"("+i+","+a+(n?",0":"")+")";return r?"top:0;left:0;"+dj+":"+s+";":[["top",0],["left",0],[fj,s]]}function wj(t){var e=[];var r=t.get("fontSize");var i=t.getTextColor();i&&e.push("color:"+i);e.push("font:"+t.getFont());var a=ht(t.get("lineHeight"),Math.round(r*3/2));r&&e.push("line-height:"+a+"px");var n=t.get("textShadowColor");var o=t.get("textShadowBlur")||0;var s=t.get("textShadowOffsetX")||0;var l=t.get("textShadowOffsetY")||0;n&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+n);H(["decoration","align"],function(r){var i=t.get(r);i&&e.push("text-"+r+":"+i)});return e.join(";")}function bj(t,e,r){var i=[];var a=t.get("transitionDuration");var n=t.get("backgroundColor");var o=t.get("shadowBlur");var s=t.get("shadowColor");var l=t.get("shadowOffsetX");var u=t.get("shadowOffsetY");var f=t.getModel("textStyle");var h=Lm(t,"html");var v=l+"px "+u+"px "+o+"px "+s;i.push("box-shadow:"+v);e&&a&&i.push(xj(a,r));if(n){i.push("background-color:"+n)}H(["width","color","radius"],function(e){var r="border-"+e;var a=Zp(r);var n=t.get(a);n!=null&&i.push(r+":"+n+(e==="color"?"":"px"))});i.push(wj(f));if(h!=null){i.push("padding:"+jp(h).join("px ")+"px")}return i.join(";")+";"}function Sj(t,e,r,i,a){var n=e&&e.painter;if(r){var o=n&&n.getViewportRoot();if(o){ve(t,o,r,i,a)}}else{t[0]=i;t[1]=a;var s=n&&n.getViewportRootOffset();if(s){t[0]+=s.offsetLeft;t[1]+=s.offsetTop}}t[2]=t[0]/e.getWidth();t[3]=t[1]/e.getHeight()}var Mj=function(){function t(t,e){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._alwaysShowContent=false;this._firstShow=true;this._longHide=true;if(o.wxa){return null}var r=document.createElement("div");r.domBelongToZr=true;this.el=r;var i=this._zr=t.getZr();var a=e.appendTo;var n=a&&(Q(a)?document.querySelector(a):nt(a)?a:$(a)&&a(t.getDom()));Sj(this._styleCoord,i,n,t.getWidth()/2,t.getHeight()/2);(n||t.getDom()).appendChild(r);this._api=t;this._container=n;var s=this;r.onmouseenter=function(){if(s._enterable){clearTimeout(s._hideTimeout);s._show=true}s._inContent=true};r.onmousemove=function(t){t=t||window.event;if(!s._enterable){var e=i.handler;var r=i.painter.getViewportRoot();Te(r,t,true);e.dispatch("mousemove",t)}};r.onmouseleave=function(){s._inContent=false;if(s._enterable){if(s._show){s.hideLater(s._hideDelay)}}}}t.prototype.update=function(t){if(!this._container){var e=this._api.getDom();var r=cj(e,"position");var i=e.style;if(i.position!=="absolute"&&r!=="absolute"){i.position="relative"}}var a=t.get("alwaysShowContent");a&&this._moveIfResized();this._alwaysShowContent=a;this.el.className=t.get("className")||""};t.prototype.show=function(t,e){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var r=this.el;var i=r.style;var a=this._styleCoord;if(!r.innerHTML){i.display="none"}else{i.cssText=gj+bj(t,!this._firstShow,this._longHide)+_j(a[0],a[1],true)+("border-color:"+id(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none"))}this._show=true;this._firstShow=false;this._longHide=false};t.prototype.setContent=function(t,e,r,i,a){var n=this.el;if(t==null){n.innerHTML="";return}var o="";if(Q(a)&&r.get("trigger")==="item"&&!lj(r)){o=mj(r,i,a)}if(Q(t)){n.innerHTML=t+o}else if(t){n.innerHTML="";if(!J(t)){t=[t]}for(var s=0;s<t.length;s++){if(nt(t[s])&&t[s].parentNode!==n){n.appendChild(t[s])}}if(o&&n.childNodes.length){var l=document.createElement("div");l.innerHTML=o;n.appendChild(l)}}};t.prototype.setEnterable=function(t){this._enterable=t};t.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]};t.prototype.moveTo=function(t,e){if(!this.el){return}var r=this._styleCoord;Sj(r,this._zr,this._container,t,e);if(r[0]!=null&&r[1]!=null){var i=this.el.style;var a=_j(r[0],r[1]);H(a,function(t){i[t[0]]=t[1]})}};t.prototype._moveIfResized=function(){var t=this._styleCoord[2];var e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())};t.prototype.hide=function(){var t=this;var e=this.el.style;e.visibility="hidden";e.opacity="0";o.transform3dSupported&&(e.willChange="");this._show=false;this._longHideTimeout=setTimeout(function(){return t._longHide=true},500)};t.prototype.hideLater=function(t){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent){if(t){this._hideDelay=t;this._show=false;this._hideTimeout=setTimeout(q(this.hide,this),t)}else{this.hide()}}};t.prototype.isShow=function(){return this._show};t.prototype.dispose=function(){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el);this.el=this._container=null};return t}();var Ij=function(){function t(t){this._show=false;this._styleCoord=[0,0,0,0];this._alwaysShowContent=false;this._enterable=true;this._zr=t.getZr();Dj(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized();this._alwaysShowContent=e};t.prototype.show=function(){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.show();this._show=true};t.prototype.setContent=function(t,e,r,i,a){var n=this;if(rt(t)){zo(true?"Passing DOM nodes as content is not supported in richText tooltip!":0)}if(this.el){this._zr.remove(this.el)}var o=r.getModel("textStyle");this.el=new Bu({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Lm(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")});H(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(t){n.el.style[t]=r.get(t)});H(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(t){n.el.style[t]=o.get(t)||0});this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){if(s._enterable){clearTimeout(s._hideTimeout);s._show=true}s._inContent=true});this.el.on("mouseout",function(){if(s._enterable){if(s._show){s.hideLater(s._hideDelay)}}s._inContent=false})};t.prototype.setEnterable=function(t){this._enterable=t};t.prototype.getSize=function(){var t=this.el;var e=this.el.getBoundingRect();var r=Cj(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]};t.prototype.moveTo=function(t,e){var r=this.el;if(r){var i=this._styleCoord;Dj(i,this._zr,t,e);t=i[0];e=i[1];var a=r.style;var n=Tj(a.borderWidth||0);var o=Cj(a);r.x=t+n+o.left;r.y=e+n+o.top;r.markRedraw()}};t.prototype._moveIfResized=function(){var t=this._styleCoord[2];var e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())};t.prototype.hide=function(){if(this.el){this.el.hide()}this._show=false};t.prototype.hideLater=function(t){if(this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent){if(t){this._hideDelay=t;this._show=false;this._hideTimeout=setTimeout(q(this.hide,this),t)}else{this.hide()}}};t.prototype.isShow=function(){return this._show};t.prototype.dispose=function(){this._zr.remove(this.el)};return t}();function Tj(t){return Math.max(0,t)}function Cj(t){var e=Tj(t.shadowBlur||0);var r=Tj(t.shadowOffsetX||0);var i=Tj(t.shadowOffsetY||0);return{left:Tj(e-r),right:Tj(e+r),top:Tj(e-i),bottom:Tj(e+i)}}function Dj(t,e,r,i){t[0]=r;t[1]=i;t[2]=t[0]/e.getWidth();t[3]=t[1]/e.getHeight()}var Aj=new Nu({shape:{x:-1,y:-1,width:2,height:2}});var kj=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){if(o.node||!e.getDom()){return}var r=t.getComponent("tooltip");var i=this._renderMode=_s(r.get("renderMode"));this._tooltipContent=i==="richText"?new Ij(e):new Mj(e,{appendTo:r.get("appendToBody",true)?"body":r.get("appendTo",true)})};e.prototype.render=function(t,e,r){if(o.node||!r.getDom()){return}this.group.removeAll();this._tooltipModel=t;this._ecModel=e;this._api=r;var i=this._tooltipContent;i.update(t);i.setEnterable(t.get("enterable"));this._initGlobalListener();this._keepShow();if(this._renderMode!=="richText"&&t.get("transitionDuration")){sx(this,"_updatePosition",50,"fixRate")}else{lx(this,"_updatePosition")}};e.prototype._initGlobalListener=function(){var t=this._tooltipModel;var e=t.get("triggerOn");FU("itemTooltip",this._api,q(function(t,r,i){if(e!=="none"){if(e.indexOf(t)>=0){this._tryShow(r,i)}else if(t==="leave"){this._hide(i)}}},this))};e.prototype._keepShow=function(){var t=this._tooltipModel;var e=this._ecModel;var r=this._api;var i=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(t,e,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}};e.prototype.manuallyShowTip=function(t,e,r,i){if(i.from===this.uid||o.node||!r.getDom()){return}var a=Pj(i,r);this._ticket="";var n=i.dataByCoordSys;var s=zj(i,e,r);if(s){var l=s.el.getBoundingRect().clone();l.applyTransform(s.el.transform);this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:s.el,position:i.position,positionDefault:"bottom"},a)}else if(i.tooltip&&i.x!=null&&i.y!=null){var u=Aj;u.x=i.x;u.y=i.y;u.update();Qu(u).tooltipConfig={name:null,option:i.tooltip};this._tryShow({offsetX:i.x,offsetY:i.y,target:u},a)}else if(n){this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:n,tooltipOption:i.tooltipOption},a)}else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(t,e,r,i)){return}var f=jU(i,e);var h=f.point[0];var v=f.point[1];if(h!=null&&v!=null){this._tryShow({offsetX:h,offsetY:v,target:f.el,position:i.position,positionDefault:"bottom"},a)}}else if(i.x!=null&&i.y!=null){r.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y});this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:r.getZr().findHover(i.x,i.y).target},a)}};e.prototype.manuallyHideTip=function(t,e,r,i){var a=this._tooltipContent;if(this._tooltipModel){a.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=this._lastDataByCoordSys=null;if(i.from!==this.uid){this._hide(Pj(i,r))}};e.prototype._manuallyAxisShowTip=function(t,e,r,i){var a=i.seriesIndex;var n=i.dataIndex;var o=e.getComponent("axisPointer").coordSysAxesInfo;if(a==null||n==null||o==null){return}var s=e.getSeriesByIndex(a);if(!s){return}var l=s.getData();var u=Lj([l.getItemModel(n),s,(s.coordinateSystem||{}).model],this._tooltipModel);if(u.get("trigger")!=="axis"){return}r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:n,position:i.position});return true};e.prototype._tryShow=function(t,e){var r=t.target;var i=this._tooltipModel;if(!i){return}this._lastX=t.offsetX;this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length){this._showAxisTooltip(a,t)}else if(r){var n=Qu(r);if(n.ssrType==="legend"){return}this._lastDataByCoordSys=null;var o;var s;t_(r,function(t){if(Qu(t).dataIndex!=null){o=t;return true}if(Qu(t).tooltipConfig!=null){s=t;return true}},true);if(o){this._showSeriesItemTooltip(t,o,e)}else if(s){this._showComponentItemTooltip(t,s,e)}else{this._hide(e)}}else{this._lastDataByCoordSys=null;this._hide(e)}};e.prototype._showOrMove=function(t,e){var r=t.get("showDelay");e=q(e,this);clearTimeout(this._showTimout);r>0?this._showTimout=setTimeout(e,r):e()};e.prototype._showAxisTooltip=function(t,e){var r=this._ecModel;var i=this._tooltipModel;var a=[e.offsetX,e.offsetY];var n=Lj([e.tooltipOption],i);var o=this._renderMode;var s=[];var l=ym("section",{blocks:[],noHeader:true});var u=[];var f=new Pm;H(t,function(t){H(t.dataByAxis,function(t){var e=r.getComponent(t.axisDim+"Axis",t.axisIndex);var a=t.value;if(!e||a==null){return}var n=CU(a,e.axis,r,t.seriesDataIndices,t.valueLabelOpt);var h=ym("section",{header:n,noHeader:!gt(n),sortBlocks:true,blocks:[]});l.blocks.push(h);H(t.seriesDataIndices,function(l){var v=r.getSeriesByIndex(l.seriesIndex);var c=l.dataIndexInside;var p=v.getDataParams(c);if(p.dataIndex<0){return}p.axisDim=t.axisDim;p.axisIndex=t.axisIndex;p.axisType=t.axisType;p.axisId=t.axisId;p.axisValue=sI(e.axis,{value:a});p.axisValueLabel=n;p.marker=f.makeTooltipMarker("item",id(p.color),o);var d=Cy(v.formatTooltip(c,true,null));var g=d.frag;if(g){var y=Lj([v],i).get("valueFormatter");h.blocks.push(y?N({valueFormatter:y},g):g)}if(d.text){u.push(d.text)}s.push(p)})})});l.blocks.reverse();u.reverse();var h=e.position;var v=n.get("order");var c=Sm(l,f,o,v,r.get("useUTC"),n.get("textStyle"));c&&u.unshift(c);var p=o==="richText"?"\n\n":"<br/>";var d=u.join(p);this._showOrMove(n,function(){if(this._updateContentNotChangedOnAxis(t,s)){this._updatePosition(n,h,a[0],a[1],this._tooltipContent,s)}else{this._showTooltipContent(n,d,s,Math.random()+"",a[0],a[1],h,null,f)}})};e.prototype._showSeriesItemTooltip=function(t,e,r){var i=this._ecModel;var a=Qu(e);var n=a.seriesIndex;var o=i.getSeriesByIndex(n);var s=a.dataModel||o;var l=a.dataIndex;var u=a.dataType;var f=s.getData(u);var h=this._renderMode;var v=t.positionDefault;var c=Lj([f.getItemModel(l),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null);var p=c.get("trigger");if(p!=null&&p!=="item"){return}var d=s.getDataParams(l,u);var g=new Pm;d.marker=g.makeTooltipMarker("item",id(d.color),h);var y=Cy(s.formatTooltip(l,false,u));var m=c.get("order");var x=c.get("valueFormatter");var _=y.frag;var w=_?Sm(x?N({valueFormatter:x},_):_,g,h,m,i.get("useUTC"),c.get("textStyle")):y.text;var b="item_"+s.name+"_"+l;this._showOrMove(c,function(){this._showTooltipContent(c,w,d,b,t.offsetX,t.offsetY,t.position,t.target,g)});r({type:"showTip",dataIndexInside:l,dataIndex:f.getRawIndex(l),seriesIndex:n,from:this.uid})};e.prototype._showComponentItemTooltip=function(t,e,r){var i=this._renderMode==="html";var a=Qu(e);var n=a.tooltipConfig;var o=n.option||{};var s=o.encodeHTMLContent;if(Q(o)){var l=o;o={content:l,formatter:l};s=true}if(s&&i&&o.content){o=P(o);o.content=xe(o.content)}var u=[o];var f=this._ecModel.getComponent(a.componentMainType,a.componentIndex);if(f){u.push(f)}u.push({formatter:o.content});var h=t.positionDefault;var v=Lj(u,this._tooltipModel,h?{position:h}:null);var c=v.get("content");var p=Math.random()+"";var d=new Pm;this._showOrMove(v,function(){var r=P(v.get("formatterParams")||{});this._showTooltipContent(v,c,r,p,t.offsetX,t.offsetY,t.position,e,d)});r({type:"showTip",from:this.uid})};e.prototype._showTooltipContent=function(t,e,r,i,a,n,o,s,l){this._ticket="";if(!t.get("showContent")||!t.get("show")){return}var u=this._tooltipContent;u.setEnterable(t.get("enterable"));var f=t.get("formatter");o=o||t.get("position");var h=e;var v=this._getNearestPoint([a,n],r,t.get("trigger"),t.get("borderColor"));var c=v.color;if(f){if(Q(f)){var p=t.ecModel.get("useUTC");var d=J(r)?r[0]:r;var g=d&&d.axisType&&d.axisType.indexOf("time")>=0;h=f;if(g){h=Cp(d.axisValue,h,p)}h=$p(h,r,true)}else if($(f)){var y=q(function(e,i){if(e===this._ticket){u.setContent(i,l,t,c,o);this._updatePosition(t,o,a,n,u,r,s)}},this);this._ticket=i;h=f(r,i,y)}else{h=f}}u.setContent(h,l,t,c,o);u.show(t,c);this._updatePosition(t,o,a,n,u,r,s)};e.prototype._getNearestPoint=function(t,e,r,i){if(r==="axis"||J(e)){return{color:i||(this._renderMode==="html"?"#fff":"none")}}if(!J(e)){return{color:i||e.color||e.borderColor}}};e.prototype._updatePosition=function(t,e,r,i,a,n,o){var s=this._api.getWidth();var l=this._api.getHeight();e=e||t.get("position");var u=a.getSize();var f=t.get("align");var h=t.get("verticalAlign");var v=o&&o.getBoundingRect().clone();o&&v.applyTransform(o.transform);if($(e)){e=e([r,i],n,a.el,v,{viewSize:[s,l],contentSize:u.slice()})}if(J(e)){r=ro(e[0],s);i=ro(e[1],l)}else if(rt(e)){var c=e;c.width=u[0];c.height=u[1];var p=cd(c,{width:s,height:l});r=p.x;i=p.y;f=null;h=null}else if(Q(e)&&o){var d=Nj(e,v,u,t.get("borderWidth"));r=d[0];i=d[1]}else{var d=Oj(r,i,a,s,l,f?null:20,h?null:20);r=d[0];i=d[1]}f&&(r-=Ej(f)?u[0]/2:f==="right"?u[0]:0);h&&(i-=Ej(h)?u[1]/2:h==="bottom"?u[1]:0);if(lj(t)){var d=Rj(r,i,a,s,l);r=d[0];i=d[1]}a.moveTo(r,i)};e.prototype._updateContentNotChangedOnAxis=function(t,e){var r=this._lastDataByCoordSys;var i=this._cbParamsList;var a=!!r&&r.length===t.length;a&&H(r,function(r,n){var o=r.dataByAxis||[];var s=t[n]||{};var l=s.dataByAxis||[];a=a&&o.length===l.length;a&&H(o,function(t,r){var n=l[r]||{};var o=t.seriesDataIndices||[];var s=n.seriesDataIndices||[];a=a&&t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&o.length===s.length;a&&H(o,function(t,e){var r=s[e];a=a&&t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex});i&&H(t.seriesDataIndices,function(t){var r=t.seriesIndex;var n=e[r];var o=i[r];if(n&&o&&o.data!==n.data){a=false}})})});this._lastDataByCoordSys=t;this._cbParamsList=e;return!!a};e.prototype._hide=function(t){this._lastDataByCoordSys=null;t({type:"hideTip",from:this.uid})};e.prototype.dispose=function(t,e){if(o.node||!e.getDom()){return}lx(this,"_updatePosition");this._tooltipContent.dispose();XU("itemTooltip",e)};e.type="tooltip";return e}(Zm);function Lj(t,e,r){var i=e.ecModel;var a;if(r){a=new qc(r,i,i);a=new qc(e.option,a,i)}else{a=e}for(var n=t.length-1;n>=0;n--){var o=t[n];if(o){if(o instanceof qc){o=o.get("tooltip",true)}if(Q(o)){o={formatter:o}}if(o){a=new qc(o,a,i)}}}return a}function Pj(t,e){return t.dispatchAction||q(e.dispatchAction,e)}function Oj(t,e,r,i,a,n,o){var s=r.getSize();var l=s[0];var u=s[1];if(n!=null){if(t+l+n+2>i){t-=l+n}else{t+=n}}if(o!=null){if(e+u+o>a){e-=u+o}else{e+=o}}return[t,e]}function Rj(t,e,r,i,a){var n=r.getSize();var o=n[0];var s=n[1];t=Math.min(t+o,i)-o;e=Math.min(e+s,a)-s;t=Math.max(t,0);e=Math.max(e,0);return[t,e]}function Nj(t,e,r,i){var a=r[0];var n=r[1];var o=Math.ceil(Math.SQRT2*i)+8;var s=0;var l=0;var u=e.width;var f=e.height;switch(t){case"inside":s=e.x+u/2-a/2;l=e.y+f/2-n/2;break;case"top":s=e.x+u/2-a/2;l=e.y-n-o;break;case"bottom":s=e.x+u/2-a/2;l=e.y+f+o;break;case"left":s=e.x-a-o;l=e.y+f/2-n/2;break;case"right":s=e.x+u+o;l=e.y+f/2-n/2}return[s,l]}function Ej(t){return t==="center"||t==="middle"}function zj(t,e,r){var i=ps(t).queryOptionMap;var a=i.keys()[0];if(!a||a==="series"){return}var n=ys(e,a,i.get(a),{useDefault:false,enableAll:false,enableNone:false});var o=n.models[0];if(!o){return}var s=r.getViewOfComponentModel(o);var l;s.group.traverse(function(e){var r=Qu(e).tooltipConfig;if(r&&r.name===t.name){l=e;return true}});if(l){return{componentMainType:a,componentIndex:o.componentIndex,el:l}}}function Vj(t){Qb(sY);t.registerComponentModel(sj);t.registerComponentView(kj);t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},At);t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},At)}var Bj=["rect","polygon","keep","clear"];function Fj(t,e){var r=Go(t?t.brush:[]);if(!r.length){return}var i=[];H(r,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];if(e instanceof Array){i=i.concat(e)}});var a=t&&t.toolbox;if(J(a)){a=a[0]}if(!a){a={feature:{}};t.toolbox=[a]}var n=a.feature||(a.feature={});var o=n.brush||(n.brush={});var s=o.type||(o.type=[]);s.push.apply(s,i);Gj(s);if(e&&!s.length){s.push.apply(s,Bj)}}function Gj(t){var e={};H(t,function(t){e[t]=1});t.length=0;H(e,function(e,r){t.push(r)})}var Hj=H;function Wj(t){if(t){for(var e in t){if(t.hasOwnProperty(e)){return true}}}}function Uj(t,e,r){var i={};Hj(e,function(e){var n=i[e]=a();Hj(t[e],function(t,i){if(!DN.isValidType(i)){return}var a={type:i,visual:t};r&&r(a,e);n[i]=new DN(a);if(i==="opacity"){a=P(a);a.type="colorAlpha";n.__hidden.__alphaForOpacity=new DN(a)}})});return i;function a(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function Yj(t,e,r){var i;H(r,function(t){if(e.hasOwnProperty(t)&&Wj(e[t])){i=true}});i&&H(r,function(r){if(e.hasOwnProperty(r)&&Wj(e[r])){t[r]=P(e[r])}else{delete t[r]}})}function Xj(t,e,r,i,a,n){var o={};H(t,function(t){var r=DN.prepareVisualTypes(e[t]);o[t]=r});var s;function l(t){return jx(r,s,t)}function u(t,e){Kx(r,s,t,e)}if(n==null){r.each(f)}else{r.each([n],f)}function f(t,f){s=n==null?t:f;var h=r.getRawDataItem(s);if(h&&h.visualMap===false){return}var v=i.call(a,t);var c=e[v];var p=o[v];for(var d=0,g=p.length;d<g;d++){var y=p[d];c[y]&&c[y].applyVisual(t,l,u)}}}function Zj(t,e,r,i){var a={};H(t,function(t){var r=DN.prepareVisualTypes(e[t]);a[t]=r});return{progress:function t(n,o){var s;if(i!=null){s=o.getDimensionIndex(i)}function l(t){return jx(o,f,t)}function u(t,e){Kx(o,f,t,e)}var f;var h=o.getStore();while((f=n.next())!=null){var v=o.getRawDataItem(f);if(v&&v.visualMap===false){continue}var c=i!=null?h.get(s,f):f;var p=r(c);var d=e[p];var g=a[p];for(var y=0,m=g.length;y<m;y++){var x=g[y];d[x]&&d[x].applyVisual(c,l,u)}}}}}function jj(t){var e=t.brushType;var r={point:function(i){return qj[e].point(i,r,t)},rect:function(i){return qj[e].rect(i,r,t)}};return r}var qj={lineX:Kj(0),lineY:Kj(1),rect:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,e,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])&&SI(r.range,t[0],t[1])},rect:function(t,e,r){var i=r.range;if(!t||i.length<=1){return false}var a=t.x;var n=t.y;var o=t.width;var s=t.height;var l=i[0];if(SI(i,a,n)||SI(i,a+o,n)||SI(i,a,n+s)||SI(i,a+o,n+s)||er.create(t).contain(l[0],l[1])||pc(a,n,a+o,n,i)||pc(a,n,a,n+s,i)||pc(a+o,n,a+o,n+s,i)||pc(a,n+s,a+o,n+s,i)){return true}}}};function Kj(t){var e=["x","y"];var r=["width","height"];return{point:function(e,r,i){if(e){var a=i.range;var n=e[t];return Jj(n,a)}},rect:function(i,a,n){if(i){var o=n.range;var s=[i[e[t]],i[e[t]]+i[r[t]]];s[1]<s[0]&&s.reverse();return Jj(s[0],o)||Jj(s[1],o)||Jj(o[0],s)||Jj(o[1],s)}}}}function Jj(t,e){return e[0]<=t&&t<=e[1]}var $j=["inBrush","outOfBrush"];var Qj="__ecBrushSelect";var tq="__ecInBrushSelectEvent";function eq(t){t.eachComponent({mainType:"brush"},function(e){var r=e.brushTargetManager=new GZ(e.option,t);r.setInputRanges(e.areas,t)})}function rq(t,e,r){var i=[];var a;var n;t.eachComponent({mainType:"brush"},function(t){r&&r.type==="takeGlobalCursor"&&t.setBrushOption(r.key==="brush"?r.brushOption:{brushType:false})});eq(t);t.eachComponent({mainType:"brush"},function(e,r){var o={brushId:e.id,brushIndex:r,brushName:e.name,areas:P(e.areas),selected:[]};i.push(o);var s=e.option;var l=s.brushLink;var u=[];var f=[];var h=[];var v=false;if(!r){a=s.throttleType;n=s.throttleDelay}var c=W(e.areas,function(t){var e=sq[t.brushType];var r=E({boundingRect:e?e(t):void 0},t);r.selectors=jj(r);return r});var p=Uj(e.option,$j,function(t){t.mappingMethod="fixed"});J(l)&&H(l,function(t){u[t]=1});function d(t){return l==="all"||!!u[t]}function g(t){return!!t.length}t.eachSeries(function(t,e){var r=h[e]=[];t.subType==="parallel"?y(t,e):m(t,e,r)});function y(t,e){var r=t.coordinateSystem;v=v||r.hasAxisBrushed();d(e)&&r.eachActiveState(t.getData(),function(t,e){t==="active"&&(f[e]=1)})}function m(r,i,a){if(!r.brushSelector||oq(e,i)){return}H(c,function(i){if(e.brushTargetManager.controlSeries(i,r,t)){a.push(i)}v=v||g(a)});if(d(i)&&g(a)){var n=r.getData();n.each(function(t){if(nq(r,a,n,t)){f[t]=1}})}}t.eachSeries(function(t,e){var r={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};o.selected.push(r);var i=h[e];var a=t.getData();var n=d(e)?function(t){return f[t]?(r.dataIndex.push(a.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return nq(t,i,a,e)?(r.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"};(d(e)?v:g(i))&&Xj($j,p,a,n)})});iq(e,a,n,i,r)}function iq(t,e,r,i,a){if(!a){return}var n=t.getZr();if(n[tq]){return}if(!n[Qj]){n[Qj]=aq}var o=sx(n,Qj,r,e);o(t,i)}function aq(t,e){if(!t.isDisposed()){var r=t.getZr();r[tq]=true;t.dispatchAction({type:"brushSelect",batch:e});r[tq]=false}}function nq(t,e,r,i){for(var a=0,n=e.length;a<n;a++){var o=e[a];if(t.brushSelector(i,r,o.selectors,o)){return true}}}function oq(t,e){var r=t.option.seriesIndex;return r!=null&&r!=="all"&&(J(r)?V(r,e)<0:e!==r)}var sq={rect:function(t){return lq(t.range)},polygon:function(t){var e;var r=t.range;for(var i=0,a=r.length;i<a;i++){e=e||[[Infinity,-Infinity],[Infinity,-Infinity]];var n=r[i];n[0]<e[0][0]&&(e[0][0]=n[0]);n[0]>e[0][1]&&(e[0][1]=n[0]);n[1]<e[1][0]&&(e[1][0]=n[1]);n[1]>e[1][1]&&(e[1][1]=n[1])}return e&&lq(e)}};function lq(t){return new er(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var uq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){this.ecModel=t;this.api=e;this.model;(this._brushController=new ZV(e.getZr())).on("brush",q(this._onBrush,this)).mount()};e.prototype.render=function(t,e,r,i){this.model=t;this._updateController(t,e,r,i)};e.prototype.updateTransform=function(t,e,r,i){eq(e);this._updateController(t,e,r,i)};e.prototype.updateVisual=function(t,e,r,i){this.updateTransform(t,e,r,i)};e.prototype.updateView=function(t,e,r,i){this._updateController(t,e,r,i)};e.prototype._updateController=function(t,e,r,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())};e.prototype.dispose=function(){this._brushController.dispose()};e.prototype._onBrush=function(t){var e=this.model.id;var r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:P(r),$from:e});t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:P(r),$from:e})};e.type="brush";return e}(Zm);var fq="#ddd";var hq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.areas=[];r.brushOption={};return r}e.prototype.optionUpdated=function(t,e){var r=this.option;!e&&Yj(r,t,["inBrush","outOfBrush"]);var i=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:fq};if(!i.hasOwnProperty("liftZ")){i.liftZ=5}};e.prototype.setAreas=function(t){if(true){dt(J(t));H(t,function(t){dt(t.brushType,"Illegal areas")})}if(!t){return}this.areas=W(t,function(t){return vq(this.option,t)},this)};e.prototype.setBrushOption=function(t){this.brushOption=vq(this.option,t);this.brushType=this.brushOption.brushType};e.type="brush";e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"];e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:1e4};return e}(wd);function vq(t,e){return O({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new qc(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,true)}var cq=["rect","polygon","lineX","lineY","keep","clear"];var pq=function(t){i(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.render=function(t,e,r){var i;var a;var n;e.eachComponent({mainType:"brush"},function(t){i=t.brushType;a=t.brushOption.brushMode||"single";n=n||!!t.areas.length});this._brushType=i;this._brushMode=a;H(t.get("type",true),function(e){t.setIconStatus(e,(e==="keep"?a==="multiple":e==="clear"?n:e===i)?"emphasis":"normal")})};e.prototype.updateView=function(t,e,r){this.render(t,e,r)};e.prototype.getIcons=function(){var t=this.model;var e=t.get("icon",true);var r={};H(t.get("type",true),function(t){if(e[t]){r[t]=e[t]}});return r};e.prototype.onclick=function(t,e,r){var i=this._brushType;var a=this._brushMode;if(r==="clear"){e.dispatchAction({type:"axisAreaSelect",intervals:[]});e.dispatchAction({type:"brush",command:"clear",areas:[]})}else{e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?i:i===r?false:r,brushMode:r==="keep"?a==="multiple"?"single":"multiple":a}})}};e.getDefaultOption=function(t){var e={show:true,type:cq.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return e};return e}(aZ);function dq(t){t.registerComponentView(uq);t.registerComponentModel(hq);t.registerPreprocessor(Fj);t.registerVisual(t.PRIORITY.VISUAL.BRUSH,rq);t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})});t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},At);t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},At);oZ("brush",pq)}var gq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode={type:"box",ignoreSize:true};return r}e.type="title";e.defaultOption={z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};return e}(wd);var yq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.render=function(t,e,r){this.group.removeAll();if(!t.get("show")){return}var i=this.group;var a=t.getModel("textStyle");var n=t.getModel("subtextStyle");var o=t.get("textAlign");var s=ht(t.get("textBaseline"),t.get("textVerticalAlign"));var l=new Bu({style:Cc(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:true}),z2:10});var u=l.getBoundingRect();var f=t.get("subtext");var h=new Bu({style:Cc(n,{text:f,fill:n.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:true}),z2:10});var v=t.get("link");var c=t.get("sublink");var p=t.get("triggerEvent",true);l.silent=!v&&!p;h.silent=!c&&!p;if(v){l.on("click",function(){ad(v,"_"+t.get("target"))})}if(c){h.on("click",function(){ad(c,"_"+t.get("subtarget"))})}Qu(l).eventData=Qu(h).eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null;i.add(l);f&&i.add(h);var d=i.getBoundingRect();var g=t.getBoxLayoutParams();g.width=d.width;g.height=d.height;var y=cd(g,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));if(!o){o=t.get("left")||t.get("right");if(o==="middle"){o="center"}if(o==="right"){y.x+=y.width}else if(o==="center"){y.x+=y.width/2}}if(!s){s=t.get("top")||t.get("bottom");if(s==="center"){s="middle"}if(s==="bottom"){y.y+=y.height}else if(s==="middle"){y.y+=y.height/2}s=s||"top"}i.x=y.x;i.y=y.y;i.markRedraw();var m={align:o,verticalAlign:s};l.setStyle(m);h.setStyle(m);d=i.getBoundingRect();var x=y.margin;var _=t.getItemStyle(["color","opacity"]);_.fill=t.get("backgroundColor");var w=new Nu({shape:{x:d.x-x[3],y:d.y-x[0],width:d.width+x[1]+x[3],height:d.height+x[0]+x[2],r:t.get("borderRadius")},style:_,subPixelOptimize:true,silent:true});i.add(w)};e.type="title";return e}(Zm);function mq(t){t.registerComponentModel(gq);t.registerComponentView(yq)}var xq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode="box";return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r);this._initData()};e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this._initData()};e.prototype.setCurrentIndex=function(t){if(t==null){t=this.option.currentIndex}var e=this._data.count();if(this.option.loop){t=(t%e+e)%e}else{t>=e&&(t=e-1);t<0&&(t=0)}this.option.currentIndex=t};e.prototype.getCurrentIndex=function(){return this.option.currentIndex};e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1};e.prototype.setPlayState=function(t){this.option.autoPlay=!!t};e.prototype.getPlayState=function(){return!!this.option.autoPlay};e.prototype._initData=function(){var t=this.option;var e=t.data||[];var r=t.axisType;var i=this._names=[];var a;if(r==="category"){a=[];H(e,function(t,e){var r=es(Uo(t),"");var n;if(rt(t)){n=P(t);n.value=e}else{n=e}a.push(n);i.push(r)})}else{a=e}var n={category:"ordinal",time:"time",value:"number"}[r]||"number";var o=this._data=new kS([{name:"value",type:n}],this);o.initData(a,i)};e.prototype.getData=function(){return this._data};e.prototype.getCategories=function(){if(this.get("axisType")==="category"){return this._names.slice()}};e.type="timeline";e.defaultOption={z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]};return e}(wd);var _q=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="timeline.slider";e.defaultOption=tp(xq.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:true,width:2,color:"#DAE1F5"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:true,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]});return e}(xq);F(_q,Ty.prototype);var wq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="timeline";return e}(Zm);var bq=function(t){i(e,t);function e(e,r,i,a){var n=t.call(this,e,r,i)||this;n.type=a||"value";return n}e.prototype.getLabelModel=function(){return this.model.getModel("label")};e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"};return e}(nT);var Sq=Math.PI;var Mq=hs();var Iq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(t,e){this.api=e};e.prototype.render=function(t,e,r){this.model=t;this.api=r;this.ecModel=e;this.group.removeAll();if(t.get("show",true)){var i=this._layout(t,r);var a=this._createGroup("_mainGroup");var n=this._createGroup("_labelGroup");var o=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){var e=o.scale.getLabel({value:t});return ym("nameValue",{noName:true,value:e})};H(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,a,o,t)},this);this._renderAxisLabel(i,n,o,t);this._position(i,t)}this._doPlayStop();this._updateTicksStatus()};e.prototype.remove=function(){this._clearTimer();this.group.removeAll()};e.prototype.dispose=function(){this._clearTimer()};e.prototype._layout=function(t,e){var r=t.get(["label","position"]);var i=t.get("orient");var a=Cq(t,e);var n;if(r==null||r==="auto"){n=i==="horizontal"?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-"}else if(Q(r)){n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][r]}else{n=r}var o={horizontal:"center",vertical:n>=0||n==="+"?"left":"right"};var s={horizontal:n>=0||n==="+"?"top":"bottom",vertical:"middle"};var l={horizontal:0,vertical:Sq/2};var u=i==="vertical"?a.height:a.width;var f=t.getModel("controlStyle");var h=f.get("show",true);var v=h?f.get("itemSize"):0;var c=h?f.get("itemGap"):0;var p=v+c;var d=t.get(["label","rotate"])||0;d=d*Sq/180;var g;var y;var m;var x=f.get("position",true);var _=h&&f.get("showPlayBtn",true);var w=h&&f.get("showPrevBtn",true);var b=h&&f.get("showNextBtn",true);var S=0;var M=u;if(x==="left"||x==="bottom"){_&&(g=[0,0],S+=p);w&&(y=[S,0],S+=p);b&&(m=[M-v,0],M-=p)}else{_&&(g=[M-v,0],M-=p);w&&(y=[0,0],S+=p);b&&(m=[M-v,0],M-=p)}var I=[S,M];if(t.get("inverse")){I.reverse()}return{viewRect:a,mainLength:u,orient:i,rotation:l[i],labelRotation:d,labelPosOpt:n,labelAlign:t.get(["label","align"])||o[i],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||s[i],playPosition:g,prevBtnPosition:y,nextBtnPosition:m,axisExtent:I,controlSize:v,controlGap:c}};e.prototype._position=function(t,e){var r=this._mainGroup;var i=this._labelGroup;var a=t.viewRect;if(t.orient==="vertical"){var n=Ee();var o=a.x;var s=a.y+a.height;Fe(n,n,[-o,-s]);Ge(n,n,-Sq/2);Fe(n,n,[o,s]);a=a.clone();a.applyTransform(n)}var l=g(a);var u=g(r.getBoundingRect());var f=g(i.getBoundingRect());var h=[r.x,r.y];var v=[i.x,i.y];v[0]=h[0]=l[0][0];var c=t.labelPosOpt;if(c==null||Q(c)){var p=c==="+"?0:1;y(h,u,l,1,p);y(v,f,l,1,1-p)}else{var p=c>=0?0:1;y(h,u,l,1,p);v[1]=h[1]+c}r.setPosition(h);i.setPosition(v);r.rotation=i.rotation=t.rotation;d(r);d(i);function d(t){t.originX=l[0][0]-t.x;t.originY=l[1][0]-t.y}function g(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function y(t,e,r,i,a){t[i]+=r[i][a]-e[i][a]}};e.prototype._createAxis=function(t,e){var r=e.getData();var i=e.get("axisType");var a=Tq(e,i);a.getTicks=function(){return r.mapArray(["value"],function(t){return{value:t}})};var n=r.getDataExtent("value");a.setExtent(n[0],n[1]);a.calcNiceTicks();var o=new bq("value",a,t.axisExtent,i);o.model=e;return o};e.prototype._createGroup=function(t){var e=this[t]=new En;this.group.add(e);return e};e.prototype._renderAxisLine=function(t,e,r,i){var a=r.getExtent();if(!i.get(["lineStyle","show"])){return}var n=new pv({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:N({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:true,z2:1});e.add(n);var o=this._progressLine=new pv({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:E({lineCap:"round",lineWidth:n.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:true,z2:1});e.add(o)};e.prototype._renderAxisTick=function(t,e,r,i){var a=this;var n=i.getData();var o=r.scale.getTicks();this._tickSymbols=[];H(o,function(t){var o=r.dataToCoord(t.value);var s=n.getItemModel(t.value);var l=s.getModel("itemStyle");var u=s.getModel(["emphasis","itemStyle"]);var f=s.getModel(["progress","itemStyle"]);var h={x:o,y:0,onclick:q(a._changeTimeline,a,t.value)};var v=Aq(s,l,e,h);v.ensureState("emphasis").style=u.getItemStyle();v.ensureState("progress").style=f.getItemStyle();th(v);var c=Qu(v);if(s.get("tooltip")){c.dataIndex=t.value;c.dataModel=i}else{c.dataIndex=c.dataModel=null}a._tickSymbols.push(v)})};e.prototype._renderAxisLabel=function(t,e,r,i){var a=this;var n=r.getLabelModel();if(!n.get("show")){return}var o=i.getData();var s=r.getViewLabels();this._tickLabels=[];H(s,function(i){var n=i.tickValue;var s=o.getItemModel(n);var l=s.getModel("label");var u=s.getModel(["emphasis","label"]);var f=s.getModel(["progress","label"]);var h=r.dataToCoord(i.tickValue);var v=new Bu({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:q(a._changeTimeline,a,n),silent:false,style:Cc(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});v.ensureState("emphasis").style=Cc(u);v.ensureState("progress").style=Cc(f);e.add(v);th(v);Mq(v).dataIndex=n;a._tickLabels.push(v)})};e.prototype._renderControl=function(t,e,r,i){var a=t.controlSize;var n=t.rotation;var o=i.getModel("controlStyle").getItemStyle();var s=i.getModel(["emphasis","controlStyle"]).getItemStyle();var l=i.getPlayState();var u=i.get("inverse",true);f(t.nextBtnPosition,"next",q(this._changeTimeline,this,u?"-":"+"));f(t.prevBtnPosition,"prev",q(this._changeTimeline,this,u?"+":"-"));f(t.playPosition,l?"stop":"play",q(this._handlePlayClick,this,!l),true);function f(t,r,l,u){if(!t){return}var f=wn(ht(i.get(["controlStyle",r+"BtnSize"]),a),a);var h=[0,-f/2,f,f];var v=Dq(i,r+"Icon",h,{x:t[0],y:t[1],originX:a/2,originY:0,rotation:u?-n:0,rectHover:true,style:o,onclick:l});v.ensureState("emphasis").style=s;e.add(v);th(v)}};e.prototype._renderCurrentPointer=function(t,e,r,i){var a=i.getData();var n=i.getCurrentIndex();var o=a.getItemModel(n).getModel("checkpointStyle");var s=this;var l={onCreate:function(t){t.draggable=true;t.drift=q(s._handlePointerDrag,s);t.ondragend=q(s._handlePointerDragend,s);kq(t,s._progressLine,n,r,i,true)},onUpdate:function(t){kq(t,s._progressLine,n,r,i)}};this._currentPointer=Aq(o,o,this._mainGroup,{},this._currentPointer,l)};e.prototype._handlePlayClick=function(t){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})};e.prototype._handlePointerDrag=function(t,e,r){this._clearTimer();this._pointerChangeTimeline([r.offsetX,r.offsetY])};e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],true)};e.prototype._pointerChangeTimeline=function(t,e){var r=this._toAxisCoord(t)[0];var i=this._axis;var a=ao(i.getExtent().slice());r>a[1]&&(r=a[1]);r<a[0]&&(r=a[0]);this._currentPointer.x=r;this._currentPointer.markRedraw();var n=this._progressLine;if(n){n.shape.x2=r;n.dirty()}var o=this._findNearestTick(r);var s=this.model;if(e||o!==s.getCurrentIndex()&&s.get("realtime")){this._changeTimeline(o)}};e.prototype._doPlayStop=function(){var t=this;this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",true)?-1:1))},this.model.get("playInterval"))}};e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return oc(t,e,true)};e.prototype._findNearestTick=function(t){var e=this.model.getData();var r=Infinity;var i;var a=this._axis;e.each(["value"],function(e,n){var o=a.dataToCoord(e);var s=Math.abs(o-t);if(s<r){r=s;i=n}});return i};e.prototype._clearTimer=function(){if(this._timer){clearTimeout(this._timer);this._timer=null}};e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();if(t==="+"){t=e+1}else if(t==="-"){t=e-1}this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})};e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex();var e=this._tickSymbols;var r=this._tickLabels;if(e){for(var i=0;i<e.length;i++){e&&e[i]&&e[i].toggleState("progress",i<t)}}if(r){for(var i=0;i<r.length;i++){r&&r[i]&&r[i].toggleState("progress",Mq(r[i]).dataIndex<=t)}}};e.type="timeline.slider";return e}(wq);function Tq(t,e){e=e||t.get("type");if(e){switch(e){case"category":return new uM({ordinalMeta:t.getCategories(),extent:[Infinity,-Infinity]});case"time":return new kM({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new hM}}}function Cq(t,e){return cd(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function Dq(t,e,r,i){var a=i.style;var n=cc(t.get(["controlStyle",e]),i||{},new er(r[0],r[1],r[2],r[3]));if(a){n.setStyle(a)}return n}function Aq(t,e,r,i,a,n){var o=e.get("color");if(!a){var s=t.get("symbol");a=c_(s,-1,-1,2,2,o);a.setStyle("strokeNoScale",true);r.add(a);n&&n.onCreate(a)}else{a.setColor(o);r.add(a);n&&n.onUpdate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l);i=O({rectHover:true,z2:100},i,true);var u=p_(t.get("symbolSize"));i.scaleX=u[0]/2;i.scaleY=u[1]/2;var f=d_(t.get("symbolOffset"),u);if(f){i.x=(i.x||0)+f[0];i.y=(i.y||0)+f[1]}var h=t.get("symbolRotate");i.rotation=(h||0)*Math.PI/180||0;a.attr(i);a.updateTransform();return a}function kq(t,e,r,i,a,n){if(t.dragging){return}var o=a.getModel("checkpointStyle");var s=i.dataToCoord(a.getData().get("value",r));if(n||!o.get("animation",true)){t.attr({x:s,y:0});e&&e.attr({shape:{x2:s}})}else{var l={duration:o.get("animationDuration",true),easing:o.get("animationEasing",true)};t.stopAnimation(null,true);t.animateTo({x:s,y:0},l);e&&e.animateTo({shape:{x2:s}},l)}}function Lq(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,r){var i=e.getComponent("timeline");if(i&&t.currentIndex!=null){i.setCurrentIndex(t.currentIndex);if(!i.get("loop",true)&&i.isIndexMax()&&i.getPlayState()){i.setPlayState(false);r.dispatchAction({type:"timelinePlayChange",playState:false,from:t.from})}}e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",true)});return E({currentIndex:i.option.currentIndex},t)});t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var r=e.getComponent("timeline");if(r&&t.playState!=null){r.setPlayState(t.playState)}})}function Pq(t){var e=t&&t.timeline;if(!J(e)){e=e?[e]:[]}H(e,function(t){if(!t){return}Oq(t)})}function Oq(t){var e=t.type;var r={number:"value",time:"time"};if(r[e]){t.axisType=r[e];delete t.type}Rq(t);if(Nq(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});if(!Nq(i,"position")){i.position=t.controlPosition}if(i.position==="none"&&!Nq(i,"show")){i.show=false;delete i.position}delete t.controlPosition}H(t.data||[],function(t){if(rt(t)&&!J(t)){if(!Nq(t,"value")&&Nq(t,"name")){t.value=t.name}Rq(t)}})}function Rq(t){var e=t.itemStyle||(t.itemStyle={});var r=e.emphasis||(e.emphasis={});var i=t.label||t.label||{};var a=i.normal||(i.normal={});var n={normal:1,emphasis:1};H(i,function(t,e){if(!n[e]&&!Nq(a,e)){a[e]=t}});if(r.label&&!Nq(i,"emphasis")){i.emphasis=r.label;delete r.label}}function Nq(t,e){return t.hasOwnProperty(e)}function Eq(t){t.registerComponentModel(_q);t.registerComponentView(Iq);t.registerSubTypeDefaulter("timeline",function(){return"slider"});Lq(t);t.registerPreprocessor(Pq)}function zq(t,e){if(!t){return false}var r=J(t)?t:[t];for(var i=0;i<r.length;i++){if(r[i]&&r[i][e]){return true}}return false}function Vq(t){Ho(t,"label",["show"])}var Bq=hs();var Fq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.createdBySelf=false;return r}e.prototype.init=function(t,e,r){if(true){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(t,r);this._mergeOption(t,r,false,true)};e.prototype.isAnimationEnabled=function(){if(o.node){return false}var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()};e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,false,false)};e.prototype._mergeOption=function(t,e,r,i){var a=this.mainType;if(!r){e.eachSeries(function(t){var r=t.get(this.mainType,true);var n=Bq(t)[a];if(!r||!r.data){Bq(t)[a]=null;return}if(!n){if(i){Vq(r)}H(r.data,function(t){if(t instanceof Array){Vq(t[0]);Vq(t[1])}else{Vq(t)}});n=this.createMarkerModelFromSeries(r,this,e);N(n,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:true});n.__hostSeries=t}else{n._mergeOption(r,e,true)}Bq(t)[a]=n},this)}};e.prototype.formatTooltip=function(t,e,r){var i=this.getData();var a=this.getRawValue(t);var n=i.getName(t);return ym("section",{header:this.name,blocks:[ym("nameValue",{name:n,value:a,noName:!n,noValue:a==null})]})};e.prototype.getData=function(){return this._data};e.prototype.setData=function(t){this._data=t};e.prototype.getDataParams=function(t,e){var r=Ty.prototype.getDataParams.call(this,t,e);var i=this.__hostSeries;if(i){r.seriesId=i.id;r.seriesName=i.name;r.seriesType=i.subType}return r};e.getMarkerModelFromSeries=function(t,e){return Bq(t)[e]};e.type="marker";e.dependencies=["series","grid","polar","geo"];return e}(wd);F(Fq,Ty.prototype);var Gq=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markPoint";e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}};return e}(Fq);function Hq(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function Wq(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function Uq(t,e,r,i,a,n){var o=[];var s=HS(e,i);var l=s?e.getCalculationInfo("stackResultDimension"):i;var u=$q(e,l,t);var f=e.indicesOfNearest(l,u)[0];o[a]=e.get(r,f);o[n]=e.get(l,f);var h=e.get(i,f);var v=no(e.get(i,f));v=Math.min(v,20);if(v>=0){o[n]=+o[n].toFixed(v)}return[o,h]}var Yq={min:K(Uq,"min"),max:K(Uq,"max"),average:K(Uq,"average"),median:K(Uq,"median")};function Xq(t,e){if(!e){return}var r=t.getData();var i=t.coordinateSystem;var a=i&&i.dimensions;if(!Wq(e)&&!J(e.coord)&&J(a)){var n=Zq(e,r,i,t);e=P(e);if(e.type&&Yq[e.type]&&n.baseAxis&&n.valueAxis){var o=V(a,n.baseAxis.dim);var s=V(a,n.valueAxis.dim);var l=Yq[e.type](r,n.baseDataDim,n.valueDataDim,o,s);e.coord=l[0];e.value=l[1]}else{e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}}if(e.coord==null||!J(a)){e.coord=[]}else{var u=e.coord;for(var f=0;f<2;f++){if(Yq[u[f]]){u[f]=$q(r,r.mapDimension(a[f]),u[f])}}}return e}function Zq(t,e,r,i){var a={};if(t.valueIndex!=null||t.valueDim!=null){a.valueDataDim=t.valueIndex!=null?e.getDimension(t.valueIndex):t.valueDim;a.valueAxis=r.getAxis(jq(i,a.valueDataDim));a.baseAxis=r.getOtherAxis(a.valueAxis);a.baseDataDim=e.mapDimension(a.baseAxis.dim)}else{a.baseAxis=i.getBaseAxis();a.valueAxis=r.getOtherAxis(a.baseAxis);a.baseDataDim=e.mapDimension(a.baseAxis.dim);a.valueDataDim=e.mapDimension(a.valueAxis.dim)}return a}function jq(t,e){var r=t.getData().getDimensionInfo(e);return r&&r.coordDim}function qq(t,e){return t&&t.containData&&e.coord&&!Hq(e)?t.containData(e.coord):true}function Kq(t,e,r){return t&&t.containZone&&e.coord&&r.coord&&!Hq(e)&&!Hq(r)?t.containZone(e.coord,r.coord):true}function Jq(t,e){return t?function(t,r,i,a){var n=a<2?t.coord&&t.coord[a]:t.value;return Ly(n,e[a])}:function(t,r,i,a){return Ly(t.value,e[a])}}function $q(t,e,r){if(r==="average"){var i=0;var a=0;t.each(e,function(t,e){if(!isNaN(t)){i+=t;a++}});return i/a}else if(r==="median"){return t.getMedian(e)}else{return t.getDataExtent(e)[r==="max"?1:0]}}var Qq=hs();var tK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.init=function(){this.markerGroupMap=Mt()};e.prototype.render=function(t,e,r){var i=this;var a=this.markerGroupMap;a.each(function(t){Qq(t).keep=false});e.eachSeries(function(t){var a=Fq.getMarkerModelFromSeries(t,i.type);a&&i.renderSeries(t,a,e,r)});a.each(function(t){!Qq(t).keep&&i.group.remove(t.group)})};e.prototype.markKeep=function(t){Qq(t).keep=true};e.prototype.toggleBlurSeries=function(t,e){var r=this;H(t,function(t){var i=Fq.getMarkerModelFromSeries(t,r.type);if(i){var a=i.getData();a.eachItemGraphicEl(function(t){if(t){e?Bf(t):Ff(t)}})}})};e.type="marker";return e}(Zm);function eK(t,e,r){var i=e.coordinateSystem;t.each(function(a){var n=t.getItemModel(a);var o;var s=ro(n.get("x"),r.getWidth());var l=ro(n.get("y"),r.getHeight());if(!isNaN(s)&&!isNaN(l)){o=[s,l]}else if(e.getMarkerPosition){o=e.getMarkerPosition(t.getValues(t.dimensions,a))}else if(i){var u=t.get(i.dimensions[0],a);var f=t.get(i.dimensions[1],a);o=i.dataToPoint([u,f])}if(!isNaN(s)){o[0]=s}if(!isNaN(l)){o[1]=l}t.setItemLayout(a,o)})}var rK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries(function(t){var e=Fq.getMarkerModelFromSeries(t,"markPoint");if(e){eK(e.getData(),t,r);this.markerGroupMap.get(t.id).updateLayout()}},this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,new jD);var u=iK(a,t,e);e.setData(u);eK(e.getData(),t,i);u.each(function(t){var r=u.getItemModel(t);var i=r.getShallow("symbol");var a=r.getShallow("symbolSize");var n=r.getShallow("symbolRotate");var s=r.getShallow("symbolOffset");var l=r.getShallow("symbolKeepAspect");if($(i)||$(a)||$(n)||$(s)){var f=e.getRawValue(t);var h=e.getDataParams(t);if($(i)){i=i(f,h)}if($(a)){a=a(f,h)}if($(n)){n=n(f,h)}if($(s)){s=s(f,h)}}var v=r.getModel("itemStyle").getItemStyle();var c=qx(o,"color");if(!v.fill){v.fill=c}u.setItemVisual(t,{symbol:i,symbolSize:a,symbolRotate:n,symbolOffset:s,symbolKeepAspect:l,style:v})});l.updateData(u);this.group.add(l.group);u.eachItemGraphicEl(function(t){t.traverse(function(t){Qu(t).dataModel=e})});this.markKeep(l);l.group.silent=e.get("silent")||t.get("silent")};e.type="markPoint";return e}(tK);function iK(t,e,r){var i;if(t){i=W(t&&t.dimensions,function(t){var r=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return N(N({},r),{name:t,ordinalMeta:null})})}else{i=[{name:"value",type:"float"}]}var a=new kS(i,r);var n=W(r.get("data"),K(Xq,e));if(t){n=Y(n,K(qq,t))}var o=Jq(!!t,i);a.initData(n,null,o);return a}function aK(t){t.registerComponentModel(Gq);t.registerComponentView(rK);t.registerPreprocessor(function(t){if(zq(t.series,"markPoint")){t.markPoint=t.markPoint||{}}})}var nK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markLine";e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"};return e}(Fq);var oK=hs();var sK=function(t,e,r,i){var a=t.getData();var n;if(!J(i)){var o=i.type;if(o==="min"||o==="max"||o==="average"||o==="median"||i.xAxis!=null||i.yAxis!=null){var s=void 0;var l=void 0;if(i.yAxis!=null||i.xAxis!=null){s=e.getAxis(i.yAxis!=null?"y":"x");l=ft(i.yAxis,i.xAxis)}else{var u=Zq(i,a,e,t);s=u.valueAxis;var f=WS(a,u.valueDataDim);l=$q(a,f,o)}var h=s.dim==="x"?0:1;var v=1-h;var c=P(i);var p={coord:[]};c.type=null;c.coord=[];c.coord[v]=-Infinity;p.coord[v]=Infinity;var d=r.get("precision");if(d>=0&&et(l)){l=+l.toFixed(Math.min(d,20))}c.coord[h]=p.coord[h]=l;n=[c,p,{type:o,valueIndex:i.valueIndex,value:l}]}else{if(true){L("Invalid markLine data.")}n=[]}}else{n=i}var g=[Xq(t,n[0]),Xq(t,n[1]),N({},n[2])];g[2].type=g[2].type||null;O(g[2],g[0]);O(g[2],g[1]);return g};function lK(t){return!isNaN(t)&&!isFinite(t)}function uK(t,e,r,i){var a=1-t;var n=i.dimensions[t];return lK(e[a])&&lK(r[a])&&e[t]===r[t]&&i.getAxis(n).containData(e[t])}function fK(t,e){if(t.type==="cartesian2d"){var r=e[0].coord;var i=e[1].coord;if(r&&i&&(uK(1,r,i,t)||uK(0,r,i,t))){return true}}return qq(t,e[0])&&qq(t,e[1])}function hK(t,e,r,i,a){var n=i.coordinateSystem;var o=t.getItemModel(e);var s;var l=ro(o.get("x"),a.getWidth());var u=ro(o.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(i.getMarkerPosition){s=i.getMarkerPosition(t.getValues(t.dimensions,e))}else{var f=n.dimensions;var h=t.get(f[0],e);var v=t.get(f[1],e);s=n.dataToPoint([h,v])}if(hA(n,"cartesian2d")){var c=n.getAxis("x");var p=n.getAxis("y");var f=n.dimensions;if(lK(t.get(f[0],e))){s[0]=c.toGlobalCoord(c.getExtent()[r?0:1])}else if(lK(t.get(f[1],e))){s[1]=p.toGlobalCoord(p.getExtent()[r?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}t.setItemLayout(e,s)}var vK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries(function(t){var e=Fq.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData();var a=oK(e).from;var n=oK(e).to;a.each(function(e){hK(a,e,true,t,r);hK(n,e,false,t,r)});i.each(function(t){i.setItemLayout(t,[a.getItemLayout(t),n.getItemLayout(t)])});this.markerGroupMap.get(t.id).updateLayout()}},this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,new fz);this.group.add(l.group);var u=cK(a,t,e);var f=u.from;var h=u.to;var v=u.line;oK(e).from=f;oK(e).to=h;e.setData(v);var c=e.get("symbol");var p=e.get("symbolSize");var d=e.get("symbolRotate");var g=e.get("symbolOffset");if(!J(c)){c=[c,c]}if(!J(p)){p=[p,p]}if(!J(d)){d=[d,d]}if(!J(g)){g=[g,g]}u.from.each(function(t){y(f,t,true);y(h,t,false)});v.each(function(t){var e=v.getItemModel(t).getModel("lineStyle").getLineStyle();v.setItemLayout(t,[f.getItemLayout(t),h.getItemLayout(t)]);if(e.stroke==null){e.stroke=f.getItemVisual(t,"style").fill}v.setItemVisual(t,{fromSymbolKeepAspect:f.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(t,"symbolOffset"),fromSymbolRotate:f.getItemVisual(t,"symbolRotate"),fromSymbolSize:f.getItemVisual(t,"symbolSize"),fromSymbol:f.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})});l.updateData(v);u.line.eachItemGraphicEl(function(t){Qu(t).dataModel=e;t.traverse(function(t){Qu(t).dataModel=e})});function y(e,r,a){var n=e.getItemModel(r);hK(e,r,a,t,i);var s=n.getModel("itemStyle").getItemStyle();if(s.fill==null){s.fill=qx(o,"color")}e.setItemVisual(r,{symbolKeepAspect:n.get("symbolKeepAspect"),symbolOffset:ht(n.get("symbolOffset",true),g[a?0:1]),symbolRotate:ht(n.get("symbolRotate",true),d[a?0:1]),symbolSize:ht(n.get("symbolSize"),p[a?0:1]),symbol:ht(n.get("symbol",true),c[a?0:1]),style:s})}this.markKeep(l);l.group.silent=e.get("silent")||t.get("silent")};e.type="markLine";return e}(tK);function cK(t,e,r){var i;if(t){i=W(t&&t.dimensions,function(t){var r=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return N(N({},r),{name:t,ordinalMeta:null})})}else{i=[{name:"value",type:"float"}]}var a=new kS(i,r);var n=new kS(i,r);var o=new kS([],r);var s=W(r.get("data"),K(sK,e,t,r));if(t){s=Y(s,K(fK,t))}var l=Jq(!!t,i);a.initData(W(s,function(t){return t[0]}),null,l);n.initData(W(s,function(t){return t[1]}),null,l);o.initData(W(s,function(t){return t[2]}));o.hasItemOption=true;return{from:a,to:n,line:o}}function pK(t){t.registerComponentModel(nK);t.registerComponentView(vK);t.registerPreprocessor(function(t){if(zq(t.series,"markLine")){t.markLine=t.markLine||{}}})}var dK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)};e.type="markArea";e.defaultOption={z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}};return e}(Fq);var gK=hs();var yK=function(t,e,r,i){var a=i[0];var n=i[1];if(!a||!n){return}var o=Xq(t,a);var s=Xq(t,n);var l=o.coord;var u=s.coord;l[0]=ft(l[0],-Infinity);l[1]=ft(l[1],-Infinity);u[0]=ft(u[0],Infinity);u[1]=ft(u[1],Infinity);var f=R([{},o,s]);f.coord=[o.coord,s.coord];f.x0=o.x;f.y0=o.y;f.x1=s.x;f.y1=s.y;return f};function mK(t){return!isNaN(t)&&!isFinite(t)}function xK(t,e,r,i){var a=1-t;return mK(e[a])&&mK(r[a])}function _K(t,e){var r=e.coord[0];var i=e.coord[1];var a={coord:r,x:e.x0,y:e.y0};var n={coord:i,x:e.x1,y:e.y1};if(hA(t,"cartesian2d")){if(r&&i&&(xK(1,r,i)||xK(0,r,i))){return true}return Kq(t,a,n)}return qq(t,a)||qq(t,n)}function wK(t,e,r,i,a){var n=i.coordinateSystem;var o=t.getItemModel(e);var s;var l=ro(o.get(r[0]),a.getWidth());var u=ro(o.get(r[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u)){s=[l,u]}else{if(i.getMarkerPosition){var f=t.getValues(["x0","y0"],e);var h=t.getValues(["x1","y1"],e);var v=n.clampData(f);var c=n.clampData(h);var p=[];if(r[0]==="x0"){p[0]=v[0]>c[0]?h[0]:f[0]}else{p[0]=v[0]>c[0]?f[0]:h[0]}if(r[1]==="y0"){p[1]=v[1]>c[1]?h[1]:f[1]}else{p[1]=v[1]>c[1]?f[1]:h[1]}s=i.getMarkerPosition(p,r,true)}else{var d=t.get(r[0],e);var g=t.get(r[1],e);var y=[d,g];n.clampData&&n.clampData(y,y);s=n.dataToPoint(y,true)}if(hA(n,"cartesian2d")){var m=n.getAxis("x");var x=n.getAxis("y");var d=t.get(r[0],e);var g=t.get(r[1],e);if(mK(d)){s[0]=m.toGlobalCoord(m.getExtent()[r[0]==="x0"?0:1])}else if(mK(g)){s[1]=x.toGlobalCoord(x.getExtent()[r[1]==="y0"?0:1])}}if(!isNaN(l)){s[0]=l}if(!isNaN(u)){s[1]=u}}return s}var bK=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var SK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.updateTransform=function(t,e,r){e.eachSeries(function(t){var e=Fq.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each(function(e){var a=W(bK,function(a){return wK(i,e,a,t,r)});i.setItemLayout(e,a);var n=i.getItemGraphicEl(e);n.setShape("points",a)})}},this)};e.prototype.renderSeries=function(t,e,r,i){var a=t.coordinateSystem;var n=t.id;var o=t.getData();var s=this.markerGroupMap;var l=s.get(n)||s.set(n,{group:new En});this.group.add(l.group);this.markKeep(l);var u=MK(a,t,e);e.setData(u);u.each(function(e){var r=W(bK,function(r){return wK(u,e,r,t,i)});var n=a.getAxis("x").scale;var s=a.getAxis("y").scale;var l=n.getExtent();var f=s.getExtent();var h=[n.parse(u.get("x0",e)),n.parse(u.get("x1",e))];var v=[s.parse(u.get("y0",e)),s.parse(u.get("y1",e))];ao(h);ao(v);var c=!(l[0]>h[1]||l[1]<h[0]||f[0]>v[1]||f[1]<v[0]);var p=!c;u.setItemLayout(e,{points:r,allClipped:p});var d=u.getItemModel(e).getModel("itemStyle").getItemStyle();var g=qx(o,"color");if(!d.fill){d.fill=g;if(Q(d.fill)){d.fill=Oi(d.fill,.4)}}if(!d.stroke){d.stroke=g}u.setItemVisual(e,"style",d)});u.diff(gK(l).data).add(function(t){var e=u.getItemLayout(t);if(!e.allClipped){var r=new uv({shape:{points:e.points}});u.setItemGraphicEl(t,r);l.group.add(r)}}).update(function(t,r){var i=gK(l).data.getItemGraphicEl(r);var a=u.getItemLayout(t);if(!a.allClipped){if(i){Nv(i,{shape:{points:a.points}},e,t)}else{i=new uv({shape:{points:a.points}})}u.setItemGraphicEl(t,i);l.group.add(i)}else if(i){l.group.remove(i)}}).remove(function(t){var e=gK(l).data.getItemGraphicEl(t);l.group.remove(e)}).execute();u.eachItemGraphicEl(function(t,r){var i=u.getItemModel(r);var a=u.getItemVisual(r,"style");t.useStyle(u.getItemVisual(r,"style"));Ic(t,Tc(i),{labelFetcher:e,labelDataIndex:r,defaultText:u.getName(r)||"",inheritColor:Q(a.fill)?Oi(a.fill,1):"#000"});oh(t,i);rh(t,null,null,i.get(["emphasis","disabled"]));Qu(t).dataModel=e});gK(l).data=u;l.group.silent=e.get("silent")||t.get("silent")};e.type="markArea";return e}(tK);function MK(t,e,r){var i;var a;var n=["x0","y0","x1","y1"];if(t){var o=W(t&&t.dimensions,function(t){var r=e.getData();var i=r.getDimensionInfo(r.mapDimension(t))||{};return N(N({},i),{name:t,ordinalMeta:null})});a=W(n,function(t,e){return{name:t,type:o[e%2].type}});i=new kS(a,r)}else{a=[{name:"value",type:"float"}];i=new kS(a,r)}var s=W(r.get("data"),K(yK,e,t,r));if(t){s=Y(s,K(_K,t))}var l=t?function(t,e,r,i){var n=t.coord[Math.floor(i/2)][i%2];return Ly(n,a[i])}:function(t,e,r,i){return Ly(t.value,a[i])};i.initData(s,null,l);i.hasItemOption=true;return i}function IK(t){t.registerComponentModel(dK);t.registerComponentView(SK);t.registerPreprocessor(function(t){if(zq(t.series,"markArea")){t.markArea=t.markArea||{}}})}var TK=function(t,e){if(e==="all"){return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}}else if(e==="inverse"){return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}}};var CK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.layoutMode={type:"box",ignoreSize:true};return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r);t.selected=t.selected||{};this._updateSelector(t)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);this._updateSelector(e)};e.prototype._updateSelector=function(t){var e=t.selector;var r=this.ecModel;if(e===true){e=t.selector=["all","inverse"]}if(J(e)){H(e,function(t,i){Q(t)&&(t={type:t});e[i]=O(t,TK(r,t.type))})}};e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){var e=false;for(var r=0;r<t.length;r++){var i=t[r].get("name");if(this.isSelected(i)){this.select(i);e=true;break}}!e&&this.select(t[0].get("name"))}};e.prototype._updateData=function(t){var e=[];var r=[];t.eachRawSeries(function(i){var a=i.name;r.push(a);var n;if(i.legendVisualProvider){var o=i.legendVisualProvider;var s=o.getAllNames();if(!t.isSeriesFiltered(i)){r=r.concat(s)}if(s.length){e=e.concat(s)}else{n=true}}else{n=true}if(n&&as(i)){e.push(i.name)}});this._availableNames=r;var i=this.get("data")||e;var a=Mt();var n=W(i,function(t){if(Q(t)||et(t)){t={name:t}}if(a.get(t.name)){return null}a.set(t.name,true);return new qc(t,this,this.ecModel)},this);this._data=Y(n,function(t){return!!t})};e.prototype.getData=function(){return this._data};e.prototype.select=function(t){var e=this.option.selected;var r=this.get("selectedMode");if(r==="single"){var i=this._data;H(i,function(t){e[t.get("name")]=false})}e[t]=true};e.prototype.unSelect=function(t){if(this.get("selectedMode")!=="single"){this.option.selected[t]=false}};e.prototype.toggleSelected=function(t){var e=this.option.selected;if(!e.hasOwnProperty(t)){e[t]=true}this[e[t]?"unSelect":"select"](t)};e.prototype.allSelect=function(){var t=this._data;var e=this.option.selected;H(t,function(t){e[t.get("name",true)]=true})};e.prototype.inverseSelect=function(){var t=this._data;var e=this.option.selected;H(t,function(t){var r=t.get("name",true);if(!e.hasOwnProperty(r)){e[r]=true}e[r]=!e[r]})};e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&V(this._availableNames,t)>=0};e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}};e.type="legend.plain";e.dependencies=["series"];e.defaultOption={z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:true,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:true,selector:false,selectorLabel:{show:true,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:true,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:false}};return e}(wd);var DK=K;var AK=H;var kK=En;var LK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.newlineDisabled=false;return r}e.prototype.init=function(){this.group.add(this._contentGroup=new kK);this.group.add(this._selectorGroup=new kK);this._isFirstRender=true};e.prototype.getContentGroup=function(){return this._contentGroup};e.prototype.getSelectorGroup=function(){return this._selectorGroup};e.prototype.render=function(t,e,r){var i=this._isFirstRender;this._isFirstRender=false;this.resetInner();if(!t.get("show",true)){return}var a=t.get("align");var n=t.get("orient");if(!a||a==="auto"){a=t.get("left")==="right"&&n==="vertical"?"right":"left"}var o=t.get("selector",true);var s=t.get("selectorPosition",true);if(o&&(!s||s==="auto")){s=n==="horizontal"?"end":"start"}this.renderInner(a,t,e,r,o,n,s);var l=t.getBoxLayoutParams();var u={width:r.getWidth(),height:r.getHeight()};var f=t.get("padding");var h=cd(l,u,f);var v=this.layoutInner(t,a,h,i,o,s);var c=cd(E({width:v.width,height:v.height},l),u,f);this.group.x=c.x-v.x;this.group.y=c.y-v.y;this.group.markRedraw();this.group.add(this._backgroundEl=fZ(v,t))};e.prototype.resetInner=function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()};e.prototype.renderInner=function(t,e,r,i,a,n,o){var s=this.getContentGroup();var l=Mt();var u=e.get("selectedMode");var f=[];r.eachRawSeries(function(t){!t.get("legendHoverLink")&&f.push(t.id)});AK(e.getData(),function(a,n){var o=a.get("name");if(!this.newlineDisabled&&(o===""||o==="\n")){var h=new kK;h.newline=true;s.add(h);return}var v=r.getSeriesByName(o)[0];if(l.get(o)){return}if(v){var c=v.getData();var p=c.getVisual("legendLineStyle")||{};var d=c.getVisual("legendIcon");var g=c.getVisual("style");var y=this._createItem(v,o,n,a,e,t,p,g,d,u,i);y.on("click",DK(RK,o,null,i,f)).on("mouseover",DK(EK,v.name,null,i,f)).on("mouseout",DK(zK,v.name,null,i,f));if(r.ssr){y.eachChild(function(t){var e=Qu(t);e.seriesIndex=v.seriesIndex;e.dataIndex=n;e.ssrType="legend"})}l.set(o,true)}else{r.eachRawSeries(function(s){if(l.get(o)){return}if(s.legendVisualProvider){var h=s.legendVisualProvider;if(!h.containName(o)){return}var v=h.indexOfName(o);var c=h.getItemVisual(v,"style");var p=h.getItemVisual(v,"legendIcon");var d=Si(c.fill);if(d&&d[3]===0){d[3]=.2;c=N(N({},c),{fill:Ri(d,"rgba")})}var g=this._createItem(s,o,n,a,e,t,{},c,p,u,i);g.on("click",DK(RK,null,o,i,f)).on("mouseover",DK(EK,null,o,i,f)).on("mouseout",DK(zK,null,o,i,f));if(r.ssr){g.eachChild(function(t){var e=Qu(t);e.seriesIndex=s.seriesIndex;e.dataIndex=n;e.ssrType="legend"})}l.set(o,true)}},this)}if(true){if(!l.get(o)){console.warn(o+" series not exists. Legend data should be same with series name or data name.")}}},this);if(a){this._createSelector(a,e,i,n,o)}};e.prototype._createSelector=function(t,e,r,i,a){var n=this.getSelectorGroup();AK(t,function t(i){var a=i.type;var o=new Bu({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:a==="all"?"legendAllSelect":"legendInverseSelect",legendId:e.id})}});n.add(o);var s=e.getModel("selectorLabel");var l=e.getModel(["emphasis","selectorLabel"]);Ic(o,{normal:s,emphasis:l},{defaultText:i.title});th(o)})};e.prototype._createItem=function(t,e,r,i,a,n,o,s,l,u,f){var h=t.visualDrawType;var v=a.get("itemWidth");var c=a.get("itemHeight");var p=a.isSelected(e);var d=i.get("symbolRotate");var g=i.get("symbolKeepAspect");var y=i.get("icon");l=y||l||"roundRect";var m=PK(l,i,o,s,h,p,f);var x=new kK;var _=i.getModel("textStyle");if($(t.getLegendIcon)&&(!y||y==="inherit")){x.add(t.getLegendIcon({itemWidth:v,itemHeight:c,icon:l,iconRotate:d,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}))}else{var w=y==="inherit"&&t.getData().getVisual("symbol")?d==="inherit"?t.getData().getVisual("symbolRotate"):d:0;x.add(OK({itemWidth:v,itemHeight:c,icon:l,iconRotate:w,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:g}))}var b=n==="left"?v+5:-5;var S=n;var M=a.get("formatter");var I=e;if(Q(M)&&M){I=M.replace("{name}",e!=null?e:"")}else if($(M)){I=M(e)}var T=p?_.getTextColor():i.get("inactiveColor");x.add(new Bu({style:Cc(_,{text:I,x:b,y:c/2,fill:T,align:S,verticalAlign:"middle"},{inheritColor:T})}));var C=new Nu({shape:x.getBoundingRect(),style:{fill:"transparent"}});var D=i.getModel("tooltip");if(D.get("show")){mc({el:C,componentModel:a,itemName:e,itemTooltipOption:D.option})}x.add(C);x.eachChild(function(t){t.silent=true});C.silent=!u;this.getContentGroup().add(x);th(x);x.__legendDataIndex=r;return x};e.prototype.layoutInner=function(t,e,r,i,a,n){var o=this.getContentGroup();var s=this.getSelectorGroup();ud(t.get("orient"),o,t.get("itemGap"),r.width,r.height);var l=o.getBoundingRect();var u=[-l.x,-l.y];s.markRedraw();o.markRedraw();if(a){ud("horizontal",s,t.get("selectorItemGap",true));var f=s.getBoundingRect();var h=[-f.x,-f.y];var v=t.get("selectorButtonGap",true);var c=t.getOrient().index;var p=c===0?"width":"height";var d=c===0?"height":"width";var g=c===0?"y":"x";if(n==="end"){h[c]+=l[p]+v}else{u[c]+=f[p]+v}h[1-c]+=l[d]/2-f[d]/2;s.x=h[0];s.y=h[1];o.x=u[0];o.y=u[1];var y={x:0,y:0};y[p]=l[p]+v+f[p];y[d]=Math.max(l[d],f[d]);y[g]=Math.min(0,f[g]+h[1-c]);return y}else{o.x=u[0];o.y=u[1];return this.group.getBoundingRect()}};e.prototype.remove=function(){this.getContentGroup().removeAll();this._isFirstRender=true};e.type="legend.plain";return e}(Zm);function PK(t,e,r,i,a,n,o){function s(t,e){if(t.lineWidth==="auto"){t.lineWidth=e.lineWidth>0?2:0}AK(t,function(r,i){t[i]==="inherit"&&(t[i]=e[i])})}var l=e.getModel("itemStyle");var u=l.getItemStyle();var f=t.lastIndexOf("empty",0)===0?"fill":"stroke";var h=l.getShallow("decal");u.decal=!h||h==="inherit"?i.decal:rw(h,o);if(u.fill==="inherit"){u.fill=i[a]}if(u.stroke==="inherit"){u.stroke=i[f]}if(u.opacity==="inherit"){u.opacity=(a==="fill"?i:r).opacity}s(u,i);var v=e.getModel("lineStyle");var c=v.getLineStyle();s(c,r);u.fill==="auto"&&(u.fill=i.fill);u.stroke==="auto"&&(u.stroke=i.fill);c.stroke==="auto"&&(c.stroke=i.fill);if(!n){var p=e.get("inactiveBorderWidth");var d=u[f];u.lineWidth=p==="auto"?i.lineWidth>0&&d?2:0:u.lineWidth;u.fill=e.get("inactiveColor");u.stroke=e.get("inactiveBorderColor");c.stroke=v.get("inactiveColor");c.lineWidth=v.get("inactiveWidth")}return{itemStyle:u,lineStyle:c}}function OK(t){var e=t.icon||"roundRect";var r=c_(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);r.setStyle(t.itemStyle);r.rotation=(t.iconRotate||0)*Math.PI/180;r.setOrigin([t.itemWidth/2,t.itemHeight/2]);if(e.indexOf("empty")>-1){r.style.stroke=r.style.fill;r.style.fill="#fff";r.style.lineWidth=2}return r}function RK(t,e,r,i){zK(t,e,r,i);r.dispatchAction({type:"legendToggleSelect",name:t!=null?t:e});EK(t,e,r,i)}function NK(t){var e=t.getZr().storage.getDisplayList();var r;var i=0;var a=e.length;while(i<a&&!(r=e[i].states.emphasis)){i++}return r&&r.hoverLayer}function EK(t,e,r,i){if(!NK(r)){r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}}function zK(t,e,r,i){if(!NK(r)){r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}}function VK(t){var e=t.findComponents({mainType:"legend"});if(e&&e.length){t.filterSeries(function(t){for(var r=0;r<e.length;r++){if(!e[r].isSelected(t.name)){return false}}return true})}}function BK(t,e,r){var i=t==="allSelect"||t==="inverseSelect";var a={};var n=[];r.eachComponent({mainType:"legend",query:e},function(r){if(i){r[t]()}else{r[t](e.name)}FK(r,a);n.push(r.componentIndex)});var o={};r.eachComponent("legend",function(t){H(a,function(e,r){t[e?"select":"unSelect"](r)});FK(t,o)});return i?{selected:o,legendIndex:n}:{name:e.name,selected:o}}function FK(t,e){var r=e||{};H(t.getData(),function(e){var i=e.get("name");if(i==="\n"||i===""){return}var a=t.isSelected(i);if(Dt(r,i)){r[i]=r[i]&&a}else{r[i]=a}});return r}function GK(t){t.registerAction("legendToggleSelect","legendselectchanged",K(BK,"toggleSelected"));t.registerAction("legendAllSelect","legendselectall",K(BK,"allSelect"));t.registerAction("legendInverseSelect","legendinverseselect",K(BK,"inverseSelect"));t.registerAction("legendSelect","legendselected",K(BK,"select"));t.registerAction("legendUnSelect","legendunselected",K(BK,"unSelect"))}function HK(t){t.registerComponentModel(CK);t.registerComponentView(LK);t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,VK);t.registerSubTypeDefaulter("legend",function(){return"plain"});GK(t)}var WK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t};e.prototype.init=function(e,r,i){var a=md(e);t.prototype.init.call(this,e,r,i);UK(this,e,a)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);UK(this,this.option,e)};e.type="legend.scroll";e.defaultOption=tp(CK.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});return e}(CK);function UK(t,e,r){var i=t.getOrient();var a=[1,1];a[i.index]=0;yd(e,r,{type:"box",ignoreSize:!!a})}var YK=En;var XK=["width","height"];var ZK=["x","y"];var jK=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.newlineDisabled=true;r._currentIndex=0;return r}e.prototype.init=function(){t.prototype.init.call(this);this.group.add(this._containerGroup=new YK);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new YK)};e.prototype.resetInner=function(){t.prototype.resetInner.call(this);this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null};e.prototype.renderInner=function(e,r,i,a,n,o,s){var l=this;t.prototype.renderInner.call(this,e,r,i,a,n,o,s);var u=this._controllerGroup;var f=r.get("pageIconSize",true);var h=J(f)?f:[f,f];c("pagePrev",0);var v=r.getModel("pageTextStyle");u.add(new Bu({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:true}));c("pageNext",1);function c(t,e){var i=t+"DataIndex";var n=cc(r.get("pageIcons",true)[r.getOrient().name][e],{onclick:q(l._pageGo,l,i,r,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});n.name=t;u.add(n)}};e.prototype.layoutInner=function(t,e,r,i,a,n){var o=this.getSelectorGroup();var s=t.getOrient().index;var l=XK[s];var u=ZK[s];var f=XK[1-s];var h=ZK[1-s];a&&ud("horizontal",o,t.get("selectorItemGap",true));var v=t.get("selectorButtonGap",true);var c=o.getBoundingRect();var p=[-c.x,-c.y];var d=P(r);a&&(d[l]=r[l]-c[l]-v);var g=this._layoutContentAndController(t,i,d,s,l,f,h,u);if(a){if(n==="end"){p[s]+=g[l]+v}else{var y=c[l]+v;p[s]-=y;g[u]-=y}g[l]+=c[l]+v;p[1-s]+=g[h]+g[f]/2-c[f]/2;g[f]=Math.max(g[f],c[f]);g[h]=Math.min(g[h],c[h]+p[1-s]);o.x=p[0];o.y=p[1];o.markRedraw()}return g};e.prototype._layoutContentAndController=function(t,e,r,i,a,n,o,s){var l=this.getContentGroup();var u=this._containerGroup;var f=this._controllerGroup;ud(t.get("orient"),l,t.get("itemGap"),!i?null:r.width,i?null:r.height);ud("horizontal",f,t.get("pageButtonItemGap",true));var h=l.getBoundingRect();var v=f.getBoundingRect();var c=this._showController=h[a]>r[a];var p=[-h.x,-h.y];if(!e){p[i]=l[s]}var d=[0,0];var g=[-v.x,-v.y];var y=ht(t.get("pageButtonGap",true),t.get("itemGap",true));if(c){var m=t.get("pageButtonPosition",true);if(m==="end"){g[i]+=r[a]-v[a]}else{d[i]+=v[a]+y}}g[1-i]+=h[n]/2-v[n]/2;l.setPosition(p);u.setPosition(d);f.setPosition(g);var x={x:0,y:0};x[a]=c?r[a]:h[a];x[n]=Math.max(h[n],v[n]);x[o]=Math.min(0,v[o]+g[1-i]);u.__rectSize=r[a];if(c){var _={x:0,y:0};_[a]=Math.max(r[a]-v[a]-y,0);_[n]=x[n];u.setClipPath(new Nu({shape:_}));u.__rectSize=_[a]}else{f.eachChild(function(t){t.attr({invisible:true,silent:true})})}var w=this._getPageInfo(t);w.pageIndex!=null&&Nv(l,{x:w.contentPosition[0],y:w.contentPosition[1]},c?t:null);this._updatePageInfoView(t,w);return x};e.prototype._pageGo=function(t,e,r){var i=this._getPageInfo(e)[t];i!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})};e.prototype._updatePageInfoView=function(t,e){var r=this._controllerGroup;H(["pagePrev","pageNext"],function(i){var a=i+"DataIndex";var n=e[a]!=null;var o=r.childOfName(i);if(o){o.setStyle("fill",n?t.get("pageIconColor",true):t.get("pageIconInactiveColor",true));o.cursor=n?"pointer":"default"}});var i=r.childOfName("pageText");var a=t.get("pageFormatter");var n=e.pageIndex;var o=n!=null?n+1:0;var s=e.pageCount;i&&a&&i.setStyle("text",Q(a)?a.replace("{current}",o==null?"":o+"").replace("{total}",s==null?"":s+""):a({current:o,total:s}))};e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",true);var r=this.getContentGroup();var i=this._containerGroup.__rectSize;var a=t.getOrient().index;var n=XK[a];var o=ZK[a];var s=this._findTargetItemIndex(e);var l=r.children();var u=l[s];var f=l.length;var h=!f?0:1;var v={contentPosition:[r.x,r.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u){return v}var c=m(u);v.contentPosition[a]=-c.s;for(var p=s+1,d=c,g=c,y=null;p<=f;++p){y=m(l[p]);if(!y&&g.e>d.s+i||y&&!x(y,d.s)){if(g.i>d.i){d=g}else{d=y}if(d){if(v.pageNextDataIndex==null){v.pageNextDataIndex=d.i}++v.pageCount}}g=y}for(var p=s-1,d=c,g=c,y=null;p>=-1;--p){y=m(l[p]);if((!y||!x(g,y.s))&&d.i<g.i){g=d;if(v.pagePrevDataIndex==null){v.pagePrevDataIndex=d.i}++v.pageCount;++v.pageIndex}d=y}return v;function m(t){if(t){var e=t.getBoundingRect();var r=e[o]+t[o];return{s:r,e:r+e[n],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+i}};e.prototype._findTargetItemIndex=function(t){if(!this._showController){return 0}var e;var r=this.getContentGroup();var i;r.eachChild(function(r,a){var n=r.__legendDataIndex;if(i==null&&n!=null){i=a}if(n===t){e=a}});return e!=null?e:i};e.type="legend.scroll";return e}(LK);function qK(t){t.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(r)})})}function KK(t){Qb(HK);t.registerComponentModel(WK);t.registerComponentView(jK);qK(t)}function JK(t){Qb(HK);Qb(KK)}var $K=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.inside";e.defaultOption=tp(UX.defaultOption,{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});return e}(UX);var QK=hs();function tJ(t,e,r){QK(t).coordSysRecordMap.each(function(t){var i=t.dataZoomInfoMap.get(e.uid);if(i){i.getRange=r}})}function eJ(t,e){var r=QK(t).coordSysRecordMap;var i=r.keys();for(var a=0;a<i.length;a++){var n=i[a];var o=r.get(n);var s=o.dataZoomInfoMap;if(s){var l=e.uid;var u=s.get(l);if(u){s.removeKey(l);if(!s.keys().length){rJ(r,o)}}}}}function rJ(t,e){if(e){t.removeKey(e.model.uid);var r=e.controller;r&&r.dispose()}}function iJ(t,e){var r={model:e,containsPoint:K(nJ,e),dispatchAction:K(aJ,t),dataZoomInfoMap:null,controller:null};var i=r.controller=new mP(t.getZr());H(["pan","zoom","scrollMove"],function(t){i.on(t,function(e){var i=[];r.dataZoomInfoMap.each(function(a){if(!e.isAvailableBehavior(a.model.option)){return}var n=(a.getRange||{})[t];var o=n&&n(a.dzReferCoordSysInfo,r.model.mainType,r.controller,e);!a.model.get("disabled",true)&&o&&i.push({dataZoomId:a.model.id,start:o[0],end:o[1]})});i.length&&r.dispatchAction(i)})});return r}function aJ(t,e){if(!t.isDisposed()){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}}function nJ(t,e,r,i){return t.coordinateSystem.containPoint([r,i])}function oJ(t){var e;var r="type_";var i={type_true:2,type_move:1,type_false:0,type_undefined:-1};var a=true;t.each(function(t){var n=t.model;var o=n.get("disabled",true)?false:n.get("zoomLock",true)?"move":true;if(i[r+o]>i[r+e]){e=o}a=a&&n.get("preventDefaultMouseMove",true)});return{controlType:e,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!a}}}function sJ(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=QK(e);var i=r.coordSysRecordMap||(r.coordSysRecordMap=Mt());i.each(function(t){t.dataZoomInfoMap=null});t.eachComponent({mainType:"dataZoom",subType:"inside"},function(t){var r=HX(t);H(r.infoList,function(r){var a=r.model.uid;var n=i.get(a)||i.set(a,iJ(e,r.model));var o=n.dataZoomInfoMap||(n.dataZoomInfoMap=Mt());o.set(t.uid,{dzReferCoordSysInfo:r,model:t,getRange:null})})});i.each(function(t){var e=t.controller;var r;var a=t.dataZoomInfoMap;if(a){var n=a.keys()[0];if(n!=null){r=a.get(n)}}if(!r){rJ(i,t);return}var o=oJ(a);e.enable(o.controlType,o.opt);e.setPointerChecker(t.containsPoint);sx(t,"dispatchAction",r.model.get("throttle",true),"fixRate")})})}var lJ=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataZoom.inside";return e}e.prototype.render=function(e,r,i){t.prototype.render.apply(this,arguments);if(e.noTarget()){this._clear();return}this.range=e.getPercentRange();tJ(i,e,{pan:q(uJ.pan,this),zoom:q(uJ.zoom,this),scrollMove:q(uJ.scrollMove,this)})};e.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};e.prototype._clear=function(){eJ(this.api,this.dataZoomModel);this.range=null};e.type="dataZoom.inside";return e}(ZX);var uJ={zoom:function(t,e,r,i){var a=this.range;var n=a.slice();var o=t.axisModels[0];if(!o){return}var s=hJ[e](null,[i.originX,i.originY],o,r,t);var l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0];var u=Math.max(1/i.scale,0);n[0]=(n[0]-l)*u+l;n[1]=(n[1]-l)*u+l;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();mV(0,n,[0,100],0,f.minSpan,f.maxSpan);this.range=n;if(a[0]!==n[0]||a[1]!==n[1]){return n}},pan:fJ(function(t,e,r,i,a,n){var o=hJ[i]([n.oldX,n.oldY],[n.newX,n.newY],e,a,r);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:fJ(function(t,e,r,i,a,n){var o=hJ[i]([0,0],[n.scrollDelta,n.scrollDelta],e,a,r);return o.signal*(t[1]-t[0])*n.scrollDelta})};function fJ(t){return function(e,r,i,a){var n=this.range;var o=n.slice();var s=e.axisModels[0];if(!s){return}var l=t(o,s,e,r,i,a);mV(l,o,[0,100],"all");this.range=o;if(n[0]!==o[0]||n[1]!==o[1]){return o}}}var hJ={grid:function(t,e,r,i,a){var n=r.axis;var o={};var s=a.model.coordinateSystem.getRect();t=t||[0,0];if(n.dim==="x"){o.pixel=e[0]-t[0];o.pixelLength=s.width;o.pixelStart=s.x;o.signal=n.inverse?1:-1}else{o.pixel=e[1]-t[1];o.pixelLength=s.height;o.pixelStart=s.y;o.signal=n.inverse?-1:1}return o},polar:function(t,e,r,i,a){var n=r.axis;var o={};var s=a.model.coordinateSystem;var l=s.getRadiusAxis().getExtent();var u=s.getAngleAxis().getExtent();t=t?s.pointToCoord(t):[0,0];e=s.pointToCoord(e);if(r.mainType==="radiusAxis"){o.pixel=e[0]-t[0];o.pixelLength=l[1]-l[0];o.pixelStart=l[0];o.signal=n.inverse?1:-1}else{o.pixel=e[1]-t[1];o.pixelLength=u[1]-u[0];o.pixelStart=u[0];o.signal=n.inverse?-1:1}return o},singleAxis:function(t,e,r,i,a){var n=r.axis;var o=a.model.coordinateSystem.getRect();var s={};t=t||[0,0];if(n.orient==="horizontal"){s.pixel=e[0]-t[0];s.pixelLength=o.width;s.pixelStart=o.x;s.signal=n.inverse?1:-1}else{s.pixel=e[1]-t[1];s.pixelLength=o.height;s.pixelStart=o.y;s.signal=n.inverse?-1:1}return s}};function vJ(t){rZ(t);t.registerComponentModel($K);t.registerComponentView(lJ);sJ(t)}var cJ=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.type="dataZoom.slider";e.layoutMode="box";e.defaultOption=tp(UX.defaultOption,{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#6E7079"},brushSelect:true,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:true},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});return e}(UX);var pJ=Nu;var dJ=7;var gJ=1;var yJ=30;var mJ=7;var xJ="horizontal";var _J="vertical";var wJ=5;var bJ=["line","bar","candlestick","scatter"];var SJ={easing:"cubicOut",duration:100,delay:0};var MJ=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._displayables={};return r}e.prototype.init=function(t,e){this.api=e;this._onBrush=q(this._onBrush,this);this._onBrushEnd=q(this._onBrushEnd,this)};e.prototype.render=function(e,r,i,a){t.prototype.render.apply(this,arguments);sx(this,"_dispatchZoomAction",e.get("throttle"),"fixRate");this._orient=e.getOrient();if(e.get("show")===false){this.group.removeAll();return}if(e.noTarget()){this._clear();this.group.removeAll();return}if(!a||a.type!=="dataZoom"||a.from!==this.uid){this._buildView()}this._updateView()};e.prototype.dispose=function(){this._clear();t.prototype.dispose.apply(this,arguments)};e.prototype._clear=function(){lx(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush);t.off("mouseup",this._onBrushEnd)};e.prototype._buildView=function(){var t=this.group;t.removeAll();this._brushing=false;this._displayables.brushRect=null;this._resetLocation();this._resetInterval();var e=this._displayables.sliderGroup=new En;this._renderBackground();this._renderHandle();this._renderDataShadow();t.add(e);this._positionGroup()};e.prototype._resetLocation=function(){var t=this.dataZoomModel;var e=this.api;var r=t.get("brushSelect");var i=r?mJ:0;var a=this._findCoordRect();var n={width:e.getWidth(),height:e.getHeight()};var o=this._orient===xJ?{right:n.width-a.x-a.width,top:n.height-yJ-dJ-i,width:a.width,height:yJ}:{right:dJ,top:a.y,width:yJ,height:a.height};var s=md(t.option);H(["right","top","width","height"],function(t){if(s[t]==="ph"){s[t]=o[t]}});var l=cd(s,n);this._location={x:l.x,y:l.y};this._size=[l.width,l.height];this._orient===_J&&this._size.reverse()};e.prototype._positionGroup=function(){var t=this.group;var e=this._location;var r=this._orient;var i=this.dataZoomModel.getFirstTargetAxisModel();var a=i&&i.get("inverse");var n=this._displayables.sliderGroup;var o=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(r===xJ&&!a?{scaleY:o?1:-1,scaleX:1}:r===xJ&&a?{scaleY:o?1:-1,scaleX:-1}:r===_J&&!a?{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2});var s=t.getBoundingRect([n]);t.x=e.x-s.x;t.y=e.y-s.y;t.markRedraw()};e.prototype._getViewExtent=function(){return[0,this._size[0]]};e.prototype._renderBackground=function(){var t=this.dataZoomModel;var e=this._size;var r=this._displayables.sliderGroup;var i=t.get("brushSelect");r.add(new pJ({silent:true,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var a=new pJ({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:q(this._onClickPanel,this)});var n=this.api.getZr();if(i){a.on("mousedown",this._onBrushStart,this);a.cursor="crosshair";n.on("mousemove",this._onBrush);n.on("mouseup",this._onBrushEnd)}else{n.off("mousemove",this._onBrush);n.off("mouseup",this._onBrushEnd)}r.add(a)};e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();this._displayables.dataShadowSegs=[];if(!t){return}var e=this._size;var r=this._shadowSize||[];var i=t.series;var a=i.getRawData();var n=i.getShadowDim&&i.getShadowDim();var o=n&&a.getDimensionInfo(n)?i.getShadowDim():t.otherDim;if(o==null){return}var s=this._shadowPolygonPts;var l=this._shadowPolylinePts;if(a!==this._shadowData||o!==this._shadowDim||e[0]!==r[0]||e[1]!==r[1]){var u=a.getDataExtent(o);var f=(u[1]-u[0])*.3;u=[u[0]-f,u[1]+f];var h=[0,e[1]];var v=[0,e[0]];var c=[[e[0],0],[0,0]];var p=[];var d=v[1]/(a.count()-1);var g=0;var y=Math.round(a.count()/e[0]);var m;a.each([o],function(t,e){if(y>0&&e%y){g+=d;return}var r=t==null||isNaN(t)||t==="";var i=r?0:eo(t,u,h,true);if(r&&!m&&e){c.push([c[c.length-1][0],0]);p.push([p[p.length-1][0],0])}else if(!r&&m){c.push([g,0]);p.push([g,0])}c.push([g,i]);p.push([g,i]);g+=d;m=r});s=this._shadowPolygonPts=c;l=this._shadowPolylinePts=p}this._shadowData=a;this._shadowDim=o;this._shadowSize=[e[0],e[1]];var x=this.dataZoomModel;function _(t){var e=x.getModel(t?"selectedDataBackground":"dataBackground");var r=new En;var i=new uv({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:true,z2:-20});var a=new hv({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:true,z2:-19});r.add(i);r.add(a);return r}for(var w=0;w<3;w++){var b=_(w===1);this._displayables.sliderGroup.add(b);this._displayables.dataShadowSegs.push(b)}};e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel;var e=t.get("showDataShadow");if(e===false){return}var r;var i=this.ecModel;t.eachTargetAxis(function(a,n){var o=t.getAxisProxy(a,n).getTargetSeriesModels();H(o,function(t){if(r){return}if(e!==true&&V(bJ,t.get("type"))<0){return}var o=i.getComponent(FX(a),n).axis;var s=IJ(a);var l;var u=t.coordinateSystem;if(s!=null&&u.getOtherAxis){l=u.getOtherAxis(o).inverse}s=t.getData().mapDimension(s);r={thisAxis:o,series:t,thisDim:a,otherDim:s,otherAxisInverse:l}},this)},this);return r};e.prototype._renderHandle=function(){var t=this.group;var e=this._displayables;var r=e.handles=[null,null];var i=e.handleLabels=[null,null];var a=this._displayables.sliderGroup;var n=this._size;var o=this.dataZoomModel;var s=this.api;var l=o.get("borderRadius")||0;var u=o.get("brushSelect");var f=e.filler=new pJ({silent:u,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});a.add(f);a.add(new pJ({silent:true,subPixelOptimize:true,shape:{x:0,y:0,width:n[0],height:n[1],r:l},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:gJ,fill:"rgba(0,0,0,0)"}}));H([0,1],function(e){var n=o.get("handleIcon");if(!f_[n]&&n.indexOf("path://")<0&&n.indexOf("image://")<0){n="path://"+n;if(true){Ro("handleIcon now needs 'path://' prefix when using a path string")}}var s=c_(n,-1,0,2,2,null,true);s.attr({cursor:TJ(this._orient),draggable:true,drift:q(this._onDragMove,this,e),ondragend:q(this._onDragEnd,this),onmouseover:q(this._showDataInfo,this,true),onmouseout:q(this._showDataInfo,this,false),z2:5});var l=s.getBoundingRect();var u=o.get("handleSize");this._handleHeight=ro(u,this._size[1]);this._handleWidth=l.width/l.height*this._handleHeight;s.setStyle(o.getModel("handleStyle").getItemStyle());s.style.strokeNoScale=true;s.rectHover=true;s.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle();th(s);var f=o.get("handleColor");if(f!=null){s.style.fill=f}a.add(r[e]=s);var h=o.getModel("textStyle");var v=o.get("handleLabel")||{};var c=v.show||false;t.add(i[e]=new Bu({silent:true,invisible:!c,style:Cc(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))},this);var h=f;if(u){var v=ro(o.get("moveHandleSize"),n[1]);var c=e.moveHandle=new Nu({style:o.getModel("moveHandleStyle").getItemStyle(),silent:true,shape:{r:[0,0,2,2],y:n[1]-.5,height:v}});var p=v*.8;var d=e.moveHandleIcon=c_(o.get("moveHandleIcon"),-p/2,-p/2,p,p,"#fff",true);d.silent=true;d.y=n[1]+v/2-.5;c.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(n[1]/2,Math.max(v,10));h=e.moveZone=new Nu({invisible:true,shape:{y:n[1]-g,height:v+g}});h.on("mouseover",function(){s.enterEmphasis(c)}).on("mouseout",function(){s.leaveEmphasis(c)});a.add(c);a.add(d);a.add(h)}h.attr({draggable:true,cursor:TJ(this._orient),drift:q(this._onDragMove,this,"all"),ondragstart:q(this._showDataInfo,this,true),ondragend:q(this._onDragEnd,this),onmouseover:q(this._showDataInfo,this,true),onmouseout:q(this._showDataInfo,this,false)})};e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange();var e=this._getViewExtent();this._handleEnds=[eo(t[0],[0,100],e,true),eo(t[1],[0,100],e,true)]};e.prototype._updateInterval=function(t,e){var r=this.dataZoomModel;var i=this._handleEnds;var a=this._getViewExtent();var n=r.findRepresentativeAxisProxy().getMinMaxSpan();var o=[0,100];mV(e,i,a,r.get("zoomLock")?"all":t,n.minSpan!=null?eo(n.minSpan,o,a,true):null,n.maxSpan!=null?eo(n.maxSpan,o,a,true):null);var s=this._range;var l=this._range=ao([eo(i[0],a,o,true),eo(i[1],a,o,true)]);return!s||s[0]!==l[0]||s[1]!==l[1]};e.prototype._updateView=function(t){var e=this._displayables;var r=this._handleEnds;var i=ao(r.slice());var a=this._size;H([0,1],function(t){var i=e.handles[t];var n=this._handleHeight;i.attr({scaleX:n/2,scaleY:n/2,x:r[t]+(t?-1:1),y:a[1]/2-n/2})},this);e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:a[1]});var n={x:i[0],width:i[1]-i[0]};if(e.moveHandle){e.moveHandle.setShape(n);e.moveZone.setShape(n);e.moveZone.getBoundingRect();e.moveHandleIcon&&e.moveHandleIcon.attr("x",n.x+n.width/2)}var o=e.dataShadowSegs;var s=[0,i[0],i[1],a[0]];for(var l=0;l<o.length;l++){var u=o[l];var f=u.getClipPath();if(!f){f=new Nu;u.setClipPath(f)}f.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:a[1]})}this._updateDataInfo(t)};e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel;var r=this._displayables;var i=r.handleLabels;var a=this._orient;var n=["",""];if(e.get("showDetail")){var o=e.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis;var l=this._range;var u=t?o.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:o.getDataValueWindow();n=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var f=ao(this._handleEnds.slice());h.call(this,0);h.call(this,1);function h(t){var e=nc(r.handles[t].parent,this.group);var o=sc(t===0?"right":"left",e);var s=this._handleWidth/2+wJ;var l=oc([f[t]+(t===0?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:a===xJ?"middle":o,align:a===xJ?o:"center",text:n[t]})}};e.prototype._formatLabel=function(t,e){var r=this.dataZoomModel;var i=r.get("labelFormatter");var a=r.get("labelPrecision");if(a==null||a==="auto"){a=e.getPixelPrecision()}var n=t==null||isNaN(t)?"":e.type==="category"||e.type==="time"?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(a,20));return $(i)?i(t,n):Q(i)?i.replace("{value}",n):n};e.prototype._showDataInfo=function(t){var e=this.dataZoomModel.get("handleLabel")||{};var r=e.show||false;var i=this.dataZoomModel.getModel(["emphasis","handleLabel"]);var a=i.get("show")||false;var n=t||this._dragging?a:r;var o=this._displayables;var s=o.handleLabels;s[0].attr("invisible",!n);s[1].attr("invisible",!n);o.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](o.moveHandle,1)};e.prototype._onDragMove=function(t,e,r,i){this._dragging=true;ke(i.event);var a=this._displayables.sliderGroup.getLocalTransform();var n=oc([e,r],a,true);var o=this._updateInterval(t,n[0]);var s=this.dataZoomModel.get("realtime");this._updateView(!s);o&&s&&this._dispatchZoomAction(true)};e.prototype._onDragEnd=function(){this._dragging=false;this._showDataInfo(false);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(false)};e.prototype._onClickPanel=function(t){var e=this._size;var r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(r[0]<0||r[0]>e[0]||r[1]<0||r[1]>e[1]){return}var i=this._handleEnds;var a=(i[0]+i[1])/2;var n=this._updateInterval("all",r[0]-a);this._updateView();n&&this._dispatchZoomAction(false)};e.prototype._onBrushStart=function(t){var e=t.offsetX;var r=t.offsetY;this._brushStart=new Xe(e,r);this._brushing=true;this._brushStartTime=+new Date};e.prototype._onBrushEnd=function(t){if(!this._brushing){return}var e=this._displayables.brushRect;this._brushing=false;if(!e){return}e.attr("ignore",true);var r=e.shape;var i=+new Date;if(i-this._brushStartTime<200&&Math.abs(r.width)<5){return}var a=this._getViewExtent();var n=[0,100];this._range=ao([eo(r.x,a,n,true),eo(r.x+r.width,a,n,true)]);this._handleEnds=[r.x,r.x+r.width];this._updateView();this._dispatchZoomAction(false)};e.prototype._onBrush=function(t){if(this._brushing){ke(t.event);this._updateBrushRect(t.offsetX,t.offsetY)}};e.prototype._updateBrushRect=function(t,e){var r=this._displayables;var i=this.dataZoomModel;var a=r.brushRect;if(!a){a=r.brushRect=new pJ({silent:true,style:i.getModel("brushStyle").getItemStyle()});r.sliderGroup.add(a)}a.attr("ignore",false);var n=this._brushStart;var o=this._displayables.sliderGroup;var s=o.transformCoordToLocal(t,e);var l=o.transformCoordToLocal(n.x,n.y);var u=this._size;s[0]=Math.max(Math.min(u[0],s[0]),0);a.setShape({x:l[0],y:0,width:s[0]-l[0],height:u[1]})};e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?SJ:null,start:e[0],end:e[1]})};e.prototype._findCoordRect=function(){var t;var e=HX(this.dataZoomModel).infoList;if(!t&&e.length){var r=e[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var i=this.api.getWidth();var a=this.api.getHeight();t={x:i*.2,y:a*.2,width:i*.6,height:a*.6}}return t};e.type="dataZoom.slider";return e}(ZX);function IJ(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function TJ(t){return t==="vertical"?"ns-resize":"ew-resize"}function CJ(t){t.registerComponentModel(cJ);t.registerComponentView(MJ);rZ(t)}function DJ(t){Qb(vJ);Qb(CJ)}var AJ={get:function(t,e,r){var i=P((kJ[t]||{})[e]);return r?J(i)?i[i.length-1]:i:i}};var kJ={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var LJ=DN.mapVisual;var PJ=DN.eachVisual;var OJ=J;var RJ=H;var NJ=ao;var EJ=eo;var zJ=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.stateList=["inRange","outOfRange"];r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"];r.layoutMode={type:"box",ignoreSize:true};r.dataBound=[-Infinity,Infinity];r.targetVisuals={};r.controllerVisuals={};return r}e.prototype.init=function(t,e,r){this.mergeDefaultAndTheme(t,r)};e.prototype.optionUpdated=function(t,e){var r=this.option;!e&&Yj(r,t,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()};e.prototype.resetVisual=function(t){var e=this.stateList;t=q(t,this);this.controllerVisuals=Uj(this.option.controller,e,t);this.targetVisuals=Uj(this.option.target,e,t)};e.prototype.getItemSymbol=function(){return null};e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex;var e=[];if(t==null||t==="all"){this.ecModel.eachSeries(function(t,r){e.push(r)})}else{e=Go(t)}return e};e.prototype.eachTargetSeries=function(t,e){H(this.getTargetSeriesIndices(),function(r){var i=this.ecModel.getSeriesByIndex(r);if(i){t.call(e,i)}},this)};e.prototype.isTargetSeries=function(t){var e=false;this.eachTargetSeries(function(r){r===t&&(e=true)});return e};e.prototype.formatValueText=function(t,e,r){var i=this.option;var a=i.precision;var n=this.dataBound;var o=i.formatter;var s;r=r||["<",">"];if(J(t)){t=t.slice();s=true}var l=e?t:s?[u(t[0]),u(t[1])]:u(t);if(Q(o)){return o.replace("{value}",s?l[0]:l).replace("{value2}",s?l[1]:l)}else if($(o)){return s?o(t[0],t[1]):o(t)}if(s){if(t[0]===n[0]){return r[0]+" "+l[1]}else if(t[1]===n[1]){return r[1]+" "+l[0]}else{return l[0]+" - "+l[1]}}else{return l}function u(t){return t===n[0]?"min":t===n[1]?"max":(+t).toFixed(Math.min(a,20))}};e.prototype.resetExtent=function(){var t=this.option;var e=NJ([t.min,t.max]);this._dataExtent=e};e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(e!=null){return t.getDimensionIndex(e)}var r=t.dimensions;for(var i=r.length-1;i>=0;i--){var a=r[i];var n=t.getDimensionInfo(a);if(!n.isCalculationCoord){return n.storeDimIndex}}};e.prototype.getExtent=function(){return this._dataExtent.slice()};e.prototype.completeVisualOption=function(){var t=this.ecModel;var e=this.option;var r={inRange:e.inRange,outOfRange:e.outOfRange};var i=e.target||(e.target={});var a=e.controller||(e.controller={});O(i,r);O(a,r);var n=this.isCategory();o.call(this,i);o.call(this,a);s.call(this,i,"inRange","outOfRange");l.call(this,a);function o(r){if(OJ(e.color)&&!r.inRange){r.inRange={color:e.color.slice().reverse()}}r.inRange=r.inRange||{color:t.get("gradientColor")}}function s(t,e,r){var i=t[e];var a=t[r];if(i&&!a){a=t[r]={};RJ(i,function(t,e){if(!DN.isValidType(e)){return}var r=AJ.get(e,"inactive",n);if(r!=null){a[e]=r;if(e==="color"&&!a.hasOwnProperty("opacity")&&!a.hasOwnProperty("colorAlpha")){a.opacity=[0,0]}}})}}function l(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol;var r=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize;var i=this.get("inactiveColor");var a=this.getItemSymbol();var o=a||"roundRect";RJ(this.stateList,function(a){var s=this.itemSize;var l=t[a];if(!l){l=t[a]={color:n?i:[i]}}if(l.symbol==null){l.symbol=e&&P(e)||(n?o:[o])}if(l.symbolSize==null){l.symbolSize=r&&P(r)||(n?s[0]:[s[0],s[0]])}l.symbol=LJ(l.symbol,function(t){return t==="none"?o:t});var u=l.symbolSize;if(u!=null){var f=-Infinity;PJ(u,function(t){t>f&&(f=t)});l.symbolSize=LJ(u,function(t){return EJ(t,[0,f],[0,s[0]],true)})}},this)}};e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]};e.prototype.isCategory=function(){return!!this.option.categories};e.prototype.setSelected=function(t){};e.prototype.getSelected=function(){return null};e.prototype.getValueState=function(t){return null};e.prototype.getVisualMeta=function(t){return null};e.type="visualMap";e.dependencies=["series"];e.defaultOption={show:true,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};return e}(wd);var VJ=[20,140];var BJ=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();this.resetVisual(function(t){t.mappingMethod="linear";t.dataExtent=this.getExtent()});this._resetRange()};e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=VJ[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=VJ[1])};e.prototype._resetRange=function(){var t=this.getExtent();var e=this.option.range;if(!e||e.auto){t.auto=1;this.option.range=t}else if(J(e)){if(e[0]>e[1]){e.reverse()}e[0]=Math.max(e[0],t[0]);e[1]=Math.min(e[1],t[1])}};e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments);H(this.stateList,function(t){var e=this.option.controller[t].symbolSize;if(e&&e[0]!==e[1]){e[0]=e[1]/3}},this)};e.prototype.setSelected=function(t){this.option.range=t.slice();this._resetRange()};e.prototype.getSelected=function(){var t=this.getExtent();var e=ao((this.get("range")||[]).slice());e[0]>t[1]&&(e[0]=t[1]);e[1]>t[1]&&(e[1]=t[1]);e[0]<t[0]&&(e[0]=t[0]);e[1]<t[0]&&(e[1]=t[0]);return e};e.prototype.getValueState=function(t){var e=this.option.range;var r=this.getExtent();return(e[0]<=r[0]||e[0]<=t)&&(e[1]>=r[1]||t<=e[1])?"inRange":"outOfRange"};e.prototype.findTargetDataIndices=function(t){var e=[];this.eachTargetSeries(function(r){var i=[];var a=r.getData();a.each(this.getDataDimensionIndex(a),function(e,r){t[0]<=e&&e<=t[1]&&i.push(r)},this);e.push({seriesId:r.id,dataIndex:i})},this);return e};e.prototype.getVisualMeta=function(t){var e=FJ(this,"outOfRange",this.getExtent());var r=FJ(this,"inRange",this.option.range.slice());var i=[];function a(e,r){i.push({value:e,color:t(e,r)})}var n=0;var o=0;var s=r.length;var l=e.length;for(;o<l&&(!r.length||e[o]<=r[0]);o++){if(e[o]<r[n]){a(e[o],"outOfRange")}}for(var u=1;n<s;n++,u=0){u&&i.length&&a(r[n],"outOfRange");a(r[n],"inRange")}for(var u=1;o<l;o++){if(!r.length||r[r.length-1]<e[o]){if(u){i.length&&a(i[i.length-1].value,"outOfRange");u=0}a(e[o],"outOfRange")}}var f=i.length;return{stops:i,outerColors:[f?i[0].color:"transparent",f?i[f-1].color:"transparent"]}};e.type="visualMap.continuous";e.defaultOption=tp(zJ.defaultOption,{align:"auto",calculable:false,hoverLink:true,realtime:true,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});return e}(zJ);function FJ(t,e,r){if(r[0]===r[1]){return r.slice()}var i=200;var a=(r[1]-r[0])/i;var n=r[0];var o=[];for(var s=0;s<=i&&n<r[1];s++){o.push(n);n+=a}o.push(r[1]);return o}var GJ=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r.autoPositionValues={left:1,right:1,top:1,bottom:1};return r}e.prototype.init=function(t,e){this.ecModel=t;this.api=e};e.prototype.render=function(t,e,r,i){this.visualMapModel=t;if(t.get("show")===false){this.group.removeAll();return}this.doRender(t,e,r,i)};e.prototype.renderBackground=function(t){var e=this.visualMapModel;var r=jp(e.get("padding")||0);var i=t.getBoundingRect();t.add(new Nu({z2:-1,silent:true,shape:{x:i.x-r[3],y:i.y-r[0],width:i.width+r[3]+r[1],height:i.height+r[0]+r[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))};e.prototype.getControllerVisual=function(t,e,r){r=r||{};var i=r.forceState;var a=this.visualMapModel;var n={};if(e==="color"){var o=a.get("contentColor");n.color=o}function s(t){return n[t]}function l(t,e){n[t]=e}var u=a.controllerVisuals[i||a.getValueState(t)];var f=DN.prepareVisualTypes(u);H(f,function(i){var a=u[i];if(r.convertOpacityToAlpha&&i==="opacity"){i="colorAlpha";a=u.__alphaForOpacity}if(DN.dependsOn(i,e)){a&&a.applyVisual(t,s,l)}});return n[e]};e.prototype.positionGroup=function(t){var e=this.visualMapModel;var r=this.api;pd(t,e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})};e.prototype.doRender=function(t,e,r,i){};e.type="visualMap";return e}(Zm);var HJ=[["left","right","width"],["top","bottom","height"]];function WJ(t,e,r){var i=t.option;var a=i.align;if(a!=null&&a!=="auto"){return a}var n={width:e.getWidth(),height:e.getHeight()};var o=i.orient==="horizontal"?1:0;var s=HJ[o];var l=[0,null,10];var u={};for(var f=0;f<3;f++){u[HJ[1-o][f]]=l[f];u[s[f]]=f===2?r[0]:i[s[f]]}var h=[["x","width",3],["y","height",0]][o];var v=cd(u,n,i.padding);return s[(v.margin[h[2]]||0)+v[h[0]]+v[h[1]]*.5<n[h[1]]*.5?0:1]}function UJ(t,e){H(t||[],function(t){if(t.dataIndex!=null){t.dataIndexInside=t.dataIndex;t.dataIndex=null}t.highlightKey="visualMap"+(e?e.componentIndex:"")});return t}var YJ=eo;var XJ=H;var ZJ=Math.min;var jJ=Math.max;var qJ=12;var KJ=6;var JJ=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._shapes={};r._dataInterval=[];r._handleEnds=[];r._hoverLinkDataIndices=[];return r}e.prototype.init=function(e,r){t.prototype.init.call(this,e,r);this._hoverLinkFromSeriesMouseOver=q(this._hoverLinkFromSeriesMouseOver,this);this._hideIndicator=q(this._hideIndicator,this)};e.prototype.doRender=function(t,e,r,i){if(!i||i.type!=="selectDataRange"||i.from!==this.uid){this._buildView()}};e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel;var e=this.group;this._orient=t.get("orient");this._useHandle=t.get("calculable");this._resetInterval();this._renderBar(e);var r=t.get("text");this._renderEndsText(e,r,0);this._renderEndsText(e,r,1);this._updateView(true);this.renderBackground(e);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(e)};e.prototype._renderEndsText=function(t,e,r){if(!e){return}var i=e[1-r];i=i!=null?i+"":"";var a=this.visualMapModel;var n=a.get("textGap");var o=a.itemSize;var s=this._shapes.mainGroup;var l=this._applyTransform([o[0]/2,r===0?-n:o[1]+n],s);var u=this._applyTransform(r===0?"bottom":"top",s);var f=this._orient;var h=this.visualMapModel.textStyleModel;this.group.add(new Bu({style:Cc(h,{x:l[0],y:l[1],verticalAlign:f==="horizontal"?"middle":u,align:f==="horizontal"?u:"center",text:i})}))};e.prototype._renderBar=function(t){var e=this.visualMapModel;var r=this._shapes;var i=e.itemSize;var a=this._orient;var n=this._useHandle;var o=WJ(e,this.api,i);var s=r.mainGroup=this._createBarGroup(o);var l=new En;s.add(l);l.add(r.outOfRange=$J());l.add(r.inRange=$J(null,n?e$(this._orient):null,q(this._dragHandle,this,"all",false),q(this._dragHandle,this,"all",true)));l.setClipPath(new Nu({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect("");var f=jJ(u.width,u.height);if(n){r.handleThumbs=[];r.handleLabels=[];r.handleLabelPoints=[];this._createHandle(e,s,0,i,f,a);this._createHandle(e,s,1,i,f,a)}this._createIndicator(e,s,i,f,a);t.add(s)};e.prototype._createHandle=function(t,e,r,i,a,n){var o=q(this._dragHandle,this,r,false);var s=q(this._dragHandle,this,r,true);var l=wn(t.get("handleSize"),i[0]);var u=c_(t.get("handleIcon"),-l/2,-l/2,l,l,null,true);var f=e$(this._orient);u.attr({cursor:f,draggable:true,drift:o,ondragend:s,onmousemove:function(t){ke(t.event)}});u.x=i[0]/2;u.useStyle(t.getModel("handleStyle").getItemStyle());u.setStyle({strokeNoScale:true,strokeFirst:true});u.style.lineWidth*=2;u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle();sh(u,true);e.add(u);var h=this.visualMapModel.textStyleModel;var v=new Bu({cursor:f,draggable:true,drift:o,onmousemove:function(t){ke(t.event)},ondragend:s,style:Cc(h,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1};v.stateTransition={duration:200};this.group.add(v);var c=[l,0];var p=this._shapes;p.handleThumbs[r]=u;p.handleLabelPoints[r]=c;p.handleLabels[r]=v};e.prototype._createIndicator=function(t,e,r,i,a){var n=wn(t.get("indicatorSize"),r[0]);var o=c_(t.get("indicatorIcon"),-n/2,-n/2,n,n,null,true);o.attr({cursor:"move",invisible:true,silent:true,x:r[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(o instanceof Cu){var l=o.style;o.useStyle(N({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else{o.useStyle(s)}e.add(o);var u=this.visualMapModel.textStyleModel;var f=new Bu({silent:true,invisible:true,style:Cc(u,{x:0,y:0,text:""})});this.group.add(f);var h=[(a==="horizontal"?i/2:KJ)+r[0]/2,0];var v=this._shapes;v.indicator=o;v.indicatorLabel=f;v.indicatorLabelPoint=h;this._firstShowIndicator=true};e.prototype._dragHandle=function(t,e,r,i){if(!this._useHandle){return}this._dragging=!e;if(!e){var a=this._applyTransform([r,i],this._shapes.mainGroup,true);this._updateInterval(t,a[1]);this._hideIndicator();this._updateView()}if(e===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(e){!this._hovering&&this._clearHoverLinkToSeries()}else if(t$(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[t],false)}};e.prototype._resetInterval=function(){var t=this.visualMapModel;var e=this._dataInterval=t.getSelected();var r=t.getExtent();var i=[0,t.itemSize[1]];this._handleEnds=[YJ(e[0],r,i,true),YJ(e[1],r,i,true)]};e.prototype._updateInterval=function(t,e){e=e||0;var r=this.visualMapModel;var i=this._handleEnds;var a=[0,r.itemSize[1]];mV(e,i,a,t,0);var n=r.getExtent();this._dataInterval=[YJ(i[0],a,n,true),YJ(i[1],a,n,true)]};e.prototype._updateView=function(t){var e=this.visualMapModel;var r=e.getExtent();var i=this._shapes;var a=[0,e.itemSize[1]];var n=t?a:this._handleEnds;var o=this._createBarVisual(this._dataInterval,r,n,"inRange");var s=this._createBarVisual(r,r,a,"outOfRange");i.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints);i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints);this._updateHandle(n,o)};e.prototype._createBarVisual=function(t,e,r,i){var a={forceState:i,convertOpacityToAlpha:true};var n=this._makeColorGradient(t,a);var o=[this.getControllerVisual(t[0],"symbolSize",a),this.getControllerVisual(t[1],"symbolSize",a)];var s=this._createBarPoints(r,o);return{barColor:new Sv(0,0,0,1,n),barPoints:s,handlesColor:[n[0].color,n[n.length-1].color]}};e.prototype._makeColorGradient=function(t,e){var r=100;var i=[];var a=(t[1]-t[0])/r;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var n=1;n<r;n++){var o=t[0]+a*n;if(o>t[1]){break}i.push({color:this.getControllerVisual(o,"color",e),offset:n/r})}i.push({color:this.getControllerVisual(t[1],"color",e),offset:1});return i};e.prototype._createBarPoints=function(t,e){var r=this.visualMapModel.itemSize;return[[r[0]-e[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-e[1],t[1]]]};e.prototype._createBarGroup=function(t){var e=this._orient;var r=this.visualMapModel.get("inverse");return new En(e==="horizontal"&&!r?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:e==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:e==="vertical"&&!r?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})};e.prototype._updateHandle=function(t,e){if(!this._useHandle){return}var r=this._shapes;var i=this.visualMapModel;var a=r.handleThumbs;var n=r.handleLabels;var o=i.itemSize;var s=i.getExtent();var l=this._applyTransform("left",r.mainGroup);XJ([0,1],function(u){var f=a[u];f.setStyle("fill",e.handlesColor[u]);f.y=t[u];var h=YJ(t[u],[0,o[1]],s,true);var v=this.getControllerVisual(h,"symbolSize");f.scaleX=f.scaleY=v/o[0];f.x=o[0]-v/2;var c=oc(r.handleLabelPoints[u],nc(f,this.group));if(this._orient==="horizontal"){var p=l==="left"||l==="top"?(o[0]-v)/2:(o[0]-v)/-2;c[1]+=p}n[u].setStyle({x:c[0],y:c[1],text:i.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)};e.prototype._showIndicator=function(t,e,r,i){var a=this.visualMapModel;var n=a.getExtent();var o=a.itemSize;var s=[0,o[1]];var l=this._shapes;var u=l.indicator;if(!u){return}u.attr("invisible",false);var f={convertOpacityToAlpha:true};var h=this.getControllerVisual(t,"color",f);var v=this.getControllerVisual(t,"symbolSize");var c=YJ(t,n,s,true);var p=o[0]-v/2;var d={x:u.x,y:u.y};u.y=c;u.x=p;var g=oc(l.indicatorLabelPoint,nc(u,this.group));var y=l.indicatorLabel;y.attr("invisible",false);var m=this._applyTransform("left",l.mainGroup);var x=this._orient;var _=x==="horizontal";y.setStyle({text:(r?r:"")+a.formatValueText(e),verticalAlign:_?m:"middle",align:_?"center":m});var w={x:p,y:c,style:{fill:h}};var b={style:{x:g[0],y:g[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:true};u.x=d.x;u.y=d.y;u.animateTo(w,S);y.animateTo(b,S)}else{u.attr(w);y.attr(b)}this._firstShowIndicator=false;var M=this._shapes.handleLabels;if(M){for(var I=0;I<M.length;I++){this.api.enterBlur(M[I])}}};e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(e){t._hovering=true;if(!t._dragging){var r=t.visualMapModel.itemSize;var i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,true,true);i[1]=ZJ(jJ(0,i[1]),r[1]);t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=r[0])}}).on("mouseout",function(){t._hovering=false;!t._dragging&&t._clearHoverLinkToSeries()})};e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();if(this.visualMapModel.option.hoverLink){t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);t.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}};e.prototype._doHoverLinkToSeries=function(t,e){var r=this.visualMapModel;var i=r.itemSize;if(!r.option.hoverLink){return}var a=[0,i[1]];var n=r.getExtent();t=ZJ(jJ(a[0],t),a[1]);var o=QJ(r,n,a);var s=[t-o,t+o];var l=YJ(t,a,n,true);var u=[YJ(s[0],a,n,true),YJ(s[1],a,n,true)];s[0]<a[0]&&(u[0]=-Infinity);s[1]>a[1]&&(u[1]=Infinity);if(e){if(u[0]===-Infinity){this._showIndicator(l,u[1],"< ",o)}else if(u[1]===Infinity){this._showIndicator(l,u[0],"> ",o)}else{this._showIndicator(l,l," ",o)}}var f=this._hoverLinkDataIndices;var h=[];if(e||t$(r)){h=this._hoverLinkDataIndices=r.findTargetDataIndices(u)}var v=us(f,h);this._dispatchHighDown("downplay",UJ(v[0],r));this._dispatchHighDown("highlight",UJ(v[1],r))};e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;t_(t.target,function(t){var r=Qu(t);if(r.dataIndex!=null){e=r;return true}},true);if(!e){return}var r=this.ecModel.getSeriesByIndex(e.seriesIndex);var i=this.visualMapModel;if(!i.isTargetSeries(r)){return}var a=r.getData(e.dataType);var n=a.getStore().get(i.getDataDimensionIndex(a),e.dataIndex);if(!isNaN(n)){this._showIndicator(n,n)}};e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",true);t.indicatorLabel&&t.indicatorLabel.attr("invisible",true);var e=this._shapes.handleLabels;if(e){for(var r=0;r<e.length;r++){this.api.leaveBlur(e[r])}}};e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",UJ(t,this.visualMapModel));t.length=0};e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver);t.off("mouseout",this._hideIndicator)};e.prototype._applyTransform=function(t,e,r,i){var a=nc(e,i?null:this.group);return J(t)?oc(t,a,r):sc(t,a,r)};e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})};e.prototype.dispose=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};e.type="visualMap.continuous";return e}(GJ);function $J(t,e,r,i){return new uv({shape:{points:t},draggable:!!r,cursor:e,drift:r,onmousemove:function(t){ke(t.event)},ondragend:i})}function QJ(t,e,r){var i=qJ/2;var a=t.get("hoverLinkDataSize");if(a){i=YJ(a,e,r,true)/2}return i}function t$(t){var e=t.get("hoverLinkOnHandle");return!!(e==null?t.get("realtime"):e)}function e$(t){return t==="vertical"?"ns-resize":"ew-resize"}var r$={type:"selectDataRange",event:"dataRangeSelected",update:"update"};var i$=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})};var a$=[{createOnAllSeries:true,reset:function(t,e){var r=[];e.eachComponent("visualMap",function(e){var i=t.pipelineContext;if(!e.isTargetSeries(t)||i&&i.large){return}r.push(Zj(e.stateList,e.targetVisuals,q(e.getValueState,e),e.getDataDimensionIndex(t.getData())))});return r}},{createOnAllSeries:true,reset:function(t,e){var r=t.getData();var i=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var a=e.getVisualMeta(q(n$,null,t,e))||{stops:[],outerColors:[]};var n=e.getDataDimensionIndex(r);if(n>=0){a.dimension=n;i.push(a)}}});t.getData().setVisual("visualMeta",i)}}];function n$(t,e,r,i){var a=e.targetVisuals[i];var n=DN.prepareVisualTypes(a);var o={color:qx(t.getData(),"color")};for(var s=0,l=n.length;s<l;s++){var u=n[s];var f=a[u==="opacity"?"__alphaForOpacity":u];f&&f.applyVisual(r,h,v)}return o.color;function h(t){return o[t]}function v(t,e){o[t]=e}}var o$=H;function s$(t){var e=t&&t.visualMap;if(!J(e)){e=e?[e]:[]}o$(e,function(t){if(!t){return}if(l$(t,"splitList")&&!l$(t,"pieces")){t.pieces=t.splitList;delete t.splitList}var e=t.pieces;if(e&&J(e)){o$(e,function(t){if(rt(t)){if(l$(t,"start")&&!l$(t,"min")){t.min=t.start}if(l$(t,"end")&&!l$(t,"max")){t.max=t.end}}})}})}function l$(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var u$=false;function f$(t){if(u$){return}u$=true;t.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"});t.registerAction(r$,i$);H(a$,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)});t.registerPreprocessor(s$)}function h$(t){t.registerComponentModel(BJ);t.registerComponentView(JJ);f$(t)}var v$=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;r._pieceList=[];return r}e.prototype.optionUpdated=function(e,r){t.prototype.optionUpdated.apply(this,arguments);this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[];c$[this._mode].call(this,this._pieceList);this._resetSelected(e,r);var a=this.option.categories;this.resetVisual(function(t,e){if(i==="categories"){t.mappingMethod="category";t.categories=P(a)}else{t.dataExtent=this.getExtent();t.mappingMethod="piecewise";t.pieceList=W(this._pieceList,function(t){t=P(t);if(e!=="inRange"){t.visual=null}return t})}})};e.prototype.completeVisualOption=function(){var e=this.option;var r={};var i=DN.listVisualTypes();var a=this.isCategory();H(e.pieces,function(t){H(i,function(e){if(t.hasOwnProperty(e)){r[e]=1}})});H(r,function(t,r){var i=false;H(this.stateList,function(t){i=i||n(e,t,r)||n(e.target,t,r)},this);!i&&H(this.stateList,function(t){(e[t]||(e[t]={}))[r]=AJ.get(r,t==="inRange"?"active":"inactive",a)})},this);function n(t,e,r){return t&&t[e]&&t[e].hasOwnProperty(r)}t.prototype.completeVisualOption.apply(this,arguments)};e.prototype._resetSelected=function(t,e){var r=this.option;var i=this._pieceList;var a=(e?r:t).selected||{};r.selected=a;H(i,function(t,e){var r=this.getSelectedMapKey(t);if(!a.hasOwnProperty(r)){a[r]=true}},this);if(r.selectedMode==="single"){var n=false;H(i,function(t,e){var r=this.getSelectedMapKey(t);if(a[r]){n?a[r]=false:n=true}},this)}};e.prototype.getItemSymbol=function(){return this.get("itemSymbol")};e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""};e.prototype.getPieceList=function(){return this._pieceList};e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"};e.prototype.setSelected=function(t){this.option.selected=P(t)};e.prototype.getValueState=function(t){var e=DN.findPieceIndex(t,this._pieceList);return e!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange":"outOfRange"};e.prototype.findTargetDataIndices=function(t){var e=[];var r=this._pieceList;this.eachTargetSeries(function(i){var a=[];var n=i.getData();n.each(this.getDataDimensionIndex(n),function(e,i){var n=DN.findPieceIndex(e,r);n===t&&a.push(i)},this);e.push({seriesId:i.id,dataIndex:a})},this);return e};e.prototype.getRepresentValue=function(t){var e;if(this.isCategory()){e=t.value}else{if(t.value!=null){e=t.value}else{var r=t.interval||[];e=r[0]===-Infinity&&r[1]===Infinity?0:(r[0]+r[1])/2}}return e};e.prototype.getVisualMeta=function(t){if(this.isCategory()){return}var e=[];var r=["",""];var i=this;function a(a,n){var o=i.getRepresentValue({interval:a});if(!n){n=i.getValueState(o)}var s=t(o,n);if(a[0]===-Infinity){r[0]=s}else if(a[1]===Infinity){r[1]=s}else{e.push({value:a[0],color:s},{value:a[1],color:s})}}var n=this._pieceList.slice();if(!n.length){n.push({interval:[-Infinity,Infinity]})}else{var o=n[0].interval[0];o!==-Infinity&&n.unshift({interval:[-Infinity,o]});o=n[n.length-1].interval[1];o!==Infinity&&n.push({interval:[o,Infinity]})}var s=-Infinity;H(n,function(t){var e=t.interval;if(e){e[0]>s&&a([s,e[0]],"outOfRange");a(e.slice());s=e[1]}},this);return{stops:e,outerColors:r}};e.type="visualMap.piecewise";e.defaultOption=tp(zJ.defaultOption,{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true});return e}(zJ);var c$={splitNumber:function(t){var e=this.option;var r=Math.min(e.precision,20);var i=this.getExtent();var a=e.splitNumber;a=Math.max(parseInt(a,10),1);e.splitNumber=a;var n=(i[1]-i[0])/a;while(+n.toFixed(r)!==n&&r<5){r++}e.precision=r;n=+n.toFixed(r);if(e.minOpen){t.push({interval:[-Infinity,i[0]],close:[0,0]})}for(var o=0,s=i[0];o<a;s+=n,o++){var l=o===a-1?i[1]:s+n;t.push({interval:[s,l],close:[1,1]})}if(e.maxOpen){t.push({interval:[i[1],Infinity],close:[0,0]})}wo(t);H(t,function(t,e){t.index=e;t.text=this.formatValueText(t.interval)},this)},categories:function(t){var e=this.option;H(e.categories,function(e){t.push({text:this.formatValueText(e,true),value:e})},this);p$(e,t)},pieces:function(t){var e=this.option;H(e.pieces,function(e,r){if(!rt(e)){e={value:e}}var i={text:"",index:r};if(e.label!=null){i.text=e.label}if(e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a];i.close=[1,1]}else{var n=i.interval=[];var o=i.close=[0,0];var s=[1,0,1];var l=[-Infinity,Infinity];var u=[];for(var f=0;f<2;f++){var h=[["gte","gt","min"],["lte","lt","max"]][f];for(var v=0;v<3&&n[f]==null;v++){n[f]=e[h[v]];o[f]=s[v];u[f]=v===2}n[f]==null&&(n[f]=l[f])}u[0]&&n[1]===Infinity&&(o[0]=0);u[1]&&n[0]===-Infinity&&(o[1]=0);if(true){if(n[0]>n[1]){console.warn("Piece "+r+"is illegal: "+n+" lower bound should not greater then uppper bound.")}}if(n[0]===n[1]&&o[0]&&o[1]){i.value=n[0]}}i.visual=DN.retrieveVisuals(e);t.push(i)},this);p$(e,t);wo(t);H(t,function(t){var e=t.close;var r=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,false,r)},this)}};function p$(t,e){var r=t.inverse;if(t.orient==="vertical"?!r:r){e.reverse()}}var d$=function(t){i(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.type=e.type;return r}e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel;var r=e.get("textGap");var i=e.textStyleModel;var a=i.getFont();var n=i.getTextColor();var o=this._getItemAlign();var s=e.itemSize;var l=this._getViewData();var u=l.endsText;var f=ft(e.get("showLabel",true),!u);var h=!e.get("selectedMode");u&&this._renderEndsText(t,u[0],s,f,o);H(l.viewPieceList,function(i){var l=i.piece;var u=new En;u.onclick=q(this._onItemClick,this,l);this._enableHoverLink(u,i.indexInModelPieceList);var v=e.getRepresentValue(l);this._createItemSymbol(u,v,[0,0,s[0],s[1]],h);if(f){var c=this.visualMapModel.getValueState(v);u.add(new Bu({style:{x:o==="right"?-r:s[0]+r,y:s[1]/2,text:l.text,verticalAlign:"middle",align:o,font:a,fill:n,opacity:c==="outOfRange"?.5:1},silent:h}))}t.add(u)},this);u&&this._renderEndsText(t,u[1],s,f,o);ud(e.get("orient"),t,e.get("itemGap"));this.renderBackground(t);this.positionGroup(t)};e.prototype._enableHoverLink=function(t,e){var r=this;t.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(t){var i=r.visualMapModel;i.option.hoverLink&&r.api.dispatchAction({type:t,batch:UJ(i.findTargetDataIndices(e),i)})}};e.prototype._getItemAlign=function(){var t=this.visualMapModel;var e=t.option;if(e.orient==="vertical"){return WJ(t,this.api,t.itemSize)}else{var r=e.align;if(!r||r==="auto"){r="left"}return r}};e.prototype._renderEndsText=function(t,e,r,i,a){if(!e){return}var n=new En;var o=this.visualMapModel.textStyleModel;n.add(new Bu({style:Cc(o,{x:i?a==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:i?a:"center",text:e})}));t.add(n)};e.prototype._getViewData=function(){var t=this.visualMapModel;var e=W(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}});var r=t.get("text");var i=t.get("orient");var a=t.get("inverse");if(i==="horizontal"?a:!a){e.reverse()}else if(r){r=r.slice().reverse()}return{viewPieceList:e,endsText:r}};e.prototype._createItemSymbol=function(t,e,r,i){var a=c_(this.getControllerVisual(e,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(e,"color"));a.silent=i;t.add(a)};e.prototype._onItemClick=function(t){var e=this.visualMapModel;var r=e.option;var i=r.selectedMode;if(!i){return}var a=P(r.selected);var n=e.getSelectedMapKey(t);if(i==="single"||i===true){a[n]=true;H(a,function(t,e){a[e]=e===n})}else{a[n]=!a[n]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})};e.type="visualMap.piecewise";return e}(GJ);function g$(t){t.registerComponentModel(v$);t.registerComponentView(d$);f$(t)}function y$(t){Qb(h$);Qb(g$)}var m$={label:{enabled:true},decal:{show:false}};var x$=hs();var _$={};function w$(t,e){var r=t.getModel("aria");if(!r.get("enabled")){return}var i=P(m$);O(i.label,t.getLocaleModel().get("aria"),false);O(r.option,i,false);a();n();function a(){var e=r.getModel("decal");var i=e.get("show");if(i){var a=Mt();t.eachSeries(function(t){if(t.isColorBySeries()){return}var e=a.get(t.type);if(!e){e={};a.set(t.type,e)}x$(t).scope=e});t.eachRawSeries(function(e){if(t.isSeriesFiltered(e)){return}if($(e.enableAriaDecal)){e.enableAriaDecal();return}var r=e.getData();if(!e.isColorBySeries()){var i=e.getRawData();var a={};var n=x$(e).scope;r.each(function(t){var e=r.getRawIndex(t);a[e]=t});var o=i.count();i.each(function(t){var s=a[t];var l=i.getName(t)||t+"";var f=Kd(e.ecModel,l,n,o);var h=r.getItemVisual(s,"decal");r.setItemVisual(s,"decal",u(h,f))})}else{var s=Kd(e.ecModel,e.name,_$,t.getSeriesCount());var l=r.getVisual("decal");r.setVisual("decal",u(l,s))}function u(t,e){var r=t?N(N({},e),t):e;r.dirty=true;return r}})}}function n(){var i=e.getZr().dom;if(!i){return}var a=t.getLocaleModel().get("aria");var n=r.getModel("label");n.option=E(n.option,a);if(!n.get("enabled")){return}i.setAttribute("role","img");if(n.get("description")){i.setAttribute("aria-label",n.get("description"));return}var u=t.getSeriesCount();var f=n.get(["data","maxCount"])||10;var h=n.get(["series","maxCount"])||10;var v=Math.min(u,h);var c;if(u<1){return}else{var p=s();if(p){var d=n.get(["general","withTitle"]);c=o(d,{title:p})}else{c=n.get(["general","withoutTitle"])}var g=[];var y=u>1?n.get(["series","multiple","prefix"]):n.get(["series","single","prefix"]);c+=o(y,{seriesCount:u});t.eachSeries(function(t,e){if(e<v){var r=void 0;var i=t.get("name");var a=i?"withName":"withoutName";r=u>1?n.get(["series","multiple",a]):n.get(["series","single",a]);r=o(r,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:l(t.subType)});var s=t.getData();if(s.count()>f){var h=n.get(["data","partialData"]);r+=o(h,{displayCnt:f})}else{r+=n.get(["data","allData"])}var c=n.get(["data","separator","middle"]);var p=n.get(["data","separator","end"]);var d=n.get(["data","excludeDimensionId"]);var y=[];for(var m=0;m<s.count();m++){if(m<f){var x=s.getName(m);var _=!d?s.getValues(m):Y(s.getValues(m),function(t,e){return V(d,e)===-1});var w=n.get(["data",x?"withName":"withoutName"]);y.push(o(w,{name:x,value:_.join(c)}))}}r+=y.join(c)+p;g.push(r)}});var m=n.getModel(["series","multiple","separator"]);var x=m.get("middle");var _=m.get("end");c+=g.join(x)+_;i.setAttribute("aria-label",c)}}function o(t,e){if(!Q(t)){return t}var r=t;H(e,function(t,e){r=r.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)});return r}function s(){var e=t.get("title");if(e&&e.length){e=e[0]}return e&&e.text}function l(e){var r=t.getLocaleModel().get(["series","typeNames"]);return r[e]||r.chart}}function b$(t){if(!t||!t.aria){return}var e=t.aria;if(e.show!=null){e.enabled=e.show}e.label=e.label||{};H(["description","general","series","data"],function(t){if(e[t]!=null){e.label[t]=e[t]}})}function S$(t){t.registerPreprocessor(b$);t.registerVisual(t.PRIORITY.VISUAL.ARIA,w$)}var M$={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"};var I$=function(){function t(t){var e=this._condVal=Q(t)?new RegExp(t):lt(t)?t:null;if(e==null){var r="";if(true){r=Eo("Illegal regexp",t,"in")}zo(r)}}t.prototype.evaluate=function(t){var e=typeof t;return Q(e)?this._condVal.test(t):et(e)?this._condVal.test(t+""):false};return t}();var T$=function(){function t(){}t.prototype.evaluate=function(){return this.value};return t}();var C$=function(){function t(){}t.prototype.evaluate=function(){var t=this.children;for(var e=0;e<t.length;e++){if(!t[e].evaluate()){return false}}return true};return t}();var D$=function(){function t(){}t.prototype.evaluate=function(){var t=this.children;for(var e=0;e<t.length;e++){if(t[e].evaluate()){return true}}return false};return t}();var A$=function(){function t(){}t.prototype.evaluate=function(){return!this.child.evaluate()};return t}();var k$=function(){function t(){}t.prototype.evaluate=function(){var t=!!this.valueParser;var e=this.getValue;var r=e(this.valueGetterParam);var i=t?this.valueParser(r):null;for(var a=0;a<this.subCondList.length;a++){if(!this.subCondList[a].evaluate(t?i:r)){return false}}return true};return t}();function L$(t,e){if(t===true||t===false){var r=new T$;r.value=t;return r}var i="";if(!N$(t)){if(true){i=Eo("Illegal config. Expect a plain object but actually",t)}zo(i)}if(t.and){return P$("and",t,e)}else if(t.or){return P$("or",t,e)}else if(t.not){return O$(t,e)}return R$(t,e)}function P$(t,e,r){var i=e[t];var a="";if(true){a=Eo('"and"/"or" condition should only be `'+t+": [...]` and must not be empty array.","Illegal condition:",e)}if(!J(i)){zo(a)}if(!i.length){zo(a)}var n=t==="and"?new C$:new D$;n.children=W(i,function(t){return L$(t,r)});if(!n.children.length){zo(a)}return n}function O$(t,e){var r=t.not;var i="";if(true){i=Eo('"not" condition should only be `not: {}`.',"Illegal condition:",t)}if(!N$(r)){zo(i)}var a=new A$;a.child=L$(r,e);if(!a.child){zo(i)}return a}function R$(t,e){var r="";var i=e.prepareGetValue(t);var a=[];var n=Z(t);var o=t.parser;var s=o?Oy(o):null;for(var l=0;l<n.length;l++){var u=n[l];if(u==="parser"||e.valueGetterAttrMap.get(u)){continue}var f=Dt(M$,u)?M$[u]:u;var h=t[u];var v=s?s(h):h;var c=Vy(f,v)||f==="reg"&&new I$(v);if(!c){if(true){r=Eo('Illegal relational operation: "'+u+'" in condition:',t)}zo(r)}a.push(c)}if(!a.length){if(true){r=Eo("Relational condition must have at least one operator.","Illegal condition:",t)}zo(r)}var p=new k$;p.valueGetterParam=i;p.valueParser=s;p.getValue=e.getValue;p.subCondList=a;return p}function N$(t){return rt(t)&&!G(t)}var E$=function(){function t(t,e){this._cond=L$(t,e)}t.prototype.evaluate=function(){return this._cond.evaluate()};return t}();function z$(t,e){return new E$(t,e)}var V$={type:"echarts:filter",transform:function(t){var e=t.upstream;var r;var i=z$(t.config,{valueGetterAttrMap:Mt({dimension:true}),prepareGetValue:function(t){var r="";var i=t.dimension;if(!Dt(t,"dimension")){if(true){r=Eo('Relation condition must has prop "dimension" specified.',"Illegal condition:",t)}zo(r)}var a=e.getDimensionInfo(i);if(!a){if(true){r=Eo("Can not find dimension info via: "+i+".\n","Existing dimensions: ",e.cloneAllDimensionInfo(),".\n","Illegal condition:",t,".\n")}zo(r)}return{dimIdx:a.index}},getValue:function(t){return e.retrieveValueFromItem(r,t.dimIdx)}});var a=[];for(var n=0,o=e.count();n<o;n++){r=e.getRawDataItem(n);if(i.evaluate()){a.push(r)}}return{data:a}}};var B$="";if(true){B$=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ")}var F$={type:"echarts:sort",transform:function(t){var e=t.upstream;var r=t.config;var i="";var a=Go(r);if(!a.length){if(true){i="Empty `config` in sort transform."}zo(i)}var n=[];H(a,function(t){var r=t.dimension;var a=t.order;var o=t.parser;var s=t.incomparable;if(r==null){if(true){i='Sort transform config must has "dimension" specified.'+B$}zo(i)}if(a!=="asc"&&a!=="desc"){if(true){i='Sort transform config must has "order" specified.'+B$}zo(i)}if(s&&s!=="min"&&s!=="max"){var l="";if(true){l='incomparable must be "min" or "max" rather than "'+s+'".'}zo(l)}if(a!=="asc"&&a!=="desc"){var u="";if(true){u='order must be "asc" or "desc" rather than "'+a+'".'}zo(u)}var f=e.getDimensionInfo(r);if(!f){if(true){i=Eo("Can not find dimension info via: "+r+".\n","Existing dimensions: ",e.cloneAllDimensionInfo(),".\n","Illegal config:",t,".\n")}zo(i)}var h=o?Oy(o):null;if(o&&!h){if(true){i=Eo("Invalid parser name "+o+".\n","Illegal config:",t,".\n")}zo(i)}n.push({dimIdx:f.index,parser:h,comparator:new Ey(a,s)})});var o=e.sourceFormat;if(o!==Dd&&o!==Ad){if(true){i='sourceFormat "'+o+'" is not supported yet'}zo(i)}var s=[];for(var l=0,u=e.count();l<u;l++){s.push(e.getRawDataItem(l))}s.sort(function(t,r){for(var i=0;i<n.length;i++){var a=n[i];var o=e.retrieveValueFromItem(t,a.dimIdx);var s=e.retrieveValueFromItem(r,a.dimIdx);if(a.parser){o=a.parser(o);s=a.parser(s)}var l=a.comparator.evaluate(o,s);if(l!==0){return l}}return 0});return{data:s}}};function G$(t){t.registerTransform(V$);t.registerTransform(F$)}var H$=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}e.prototype.init=function(e,r,i){t.prototype.init.call(this,e,r,i);this._sourceManager=new lm(this);um(this)};e.prototype.mergeOption=function(e,r){t.prototype.mergeOption.call(this,e,r);um(this)};e.prototype.optionUpdated=function(){this._sourceManager.dirty()};e.prototype.getSourceManager=function(){return this._sourceManager};e.type="dataset";e.defaultOption={seriesLayoutBy:Od};return e}(wd);var W$=function(t){i(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}e.type="dataset";return e}(Zm);function U$(t){t.registerComponentModel(H$);t.registerComponentView(W$)}var Y$=Kl.CMD;function X$(t,e){return Math.abs(t-e)<1e-5}function Z$(t){var e=t.data;var r=t.len();var i=[];var a;var n=0;var o=0;var s=0;var l=0;function u(t,e){if(a&&a.length>2){i.push(a)}a=[t,e]}function f(t,e,r,i){if(!(X$(t,r)&&X$(e,i))){a.push(t,e,r,i,r,i)}}function h(t,e,r,i,n,o){var s=Math.abs(e-t);var l=Math.tan(s/4)*4/3;var u=e<t?-1:1;var f=Math.cos(t);var h=Math.sin(t);var v=Math.cos(e);var c=Math.sin(e);var p=f*n+r;var d=h*o+i;var g=v*n+r;var y=c*o+i;var m=n*l*u;var x=o*l*u;a.push(p-m*h,d+x*f,g+m*c,y-x*v,g,y)}var v;var c;var p;var d;for(var g=0;g<r;){var y=e[g++];var m=g===1;if(m){n=e[g];o=e[g+1];s=n;l=o;if(y===Y$.L||y===Y$.C||y===Y$.Q){a=[s,l]}}switch(y){case Y$.M:n=s=e[g++];o=l=e[g++];u(s,l);break;case Y$.L:v=e[g++];c=e[g++];f(n,o,v,c);n=v;o=c;break;case Y$.C:a.push(e[g++],e[g++],e[g++],e[g++],n=e[g++],o=e[g++]);break;case Y$.Q:v=e[g++];c=e[g++];p=e[g++];d=e[g++];a.push(n+2/3*(v-n),o+2/3*(c-o),p+2/3*(v-p),d+2/3*(c-d),p,d);n=p;o=d;break;case Y$.A:var x=e[g++];var _=e[g++];var w=e[g++];var b=e[g++];var S=e[g++];var M=e[g++]+S;g+=1;var I=!e[g++];v=Math.cos(S)*w+x;c=Math.sin(S)*b+_;if(m){s=v;l=c;u(s,l)}else{f(n,o,v,c)}n=Math.cos(M)*w+x;o=Math.sin(M)*b+_;var T=(I?-1:1)*Math.PI/2;for(var C=S;I?C>M:C<M;C+=T){var D=I?Math.max(C+T,M):Math.min(C+T,M);h(C,D,x,_,w,b)}break;case Y$.R:s=n=e[g++];l=o=e[g++];v=s+e[g++];c=l+e[g++];u(v,l);f(v,l,v,c);f(v,c,s,c);f(s,c,s,l);f(s,l,v,l);break;case Y$.Z:a&&f(n,o,s,l);n=s;o=l;break}}if(a&&a.length>2){i.push(a)}return i}function j$(t,e,r,i,a,n,o,s,l,u){if(X$(t,r)&&X$(e,i)&&X$(a,o)&&X$(n,s)){l.push(o,s);return}var f=2/u;var h=f*f;var v=o-t;var c=s-e;var p=Math.sqrt(v*v+c*c);v/=p;c/=p;var d=r-t;var g=i-e;var y=a-o;var m=n-s;var x=d*d+g*g;var _=y*y+m*m;if(x<h&&_<h){l.push(o,s);return}var w=v*d+c*g;var b=-v*y-c*m;var S=x-w*w;var M=_-b*b;if(S<h&&w>=0&&M<h&&b>=0){l.push(o,s);return}var I=[];var T=[];jr(t,r,a,o,.5,I);jr(e,i,n,s,.5,T);j$(I[0],T[0],I[1],T[1],I[2],T[2],I[3],T[3],l,u);j$(I[4],T[4],I[5],T[5],I[6],T[6],I[7],T[7],l,u)}function q$(t,e){var r=Z$(t);var i=[];e=e||1;for(var a=0;a<r.length;a++){var n=r[a];var o=[];var s=n[0];var l=n[1];o.push(s,l);for(var u=2;u<n.length;){var f=n[u++];var h=n[u++];var v=n[u++];var c=n[u++];var p=n[u++];var d=n[u++];j$(s,l,f,h,v,c,p,d,o,e);s=p;l=d}i.push(o)}return i}function K$(t,e,r){var i=t[e];var a=t[1-e];var n=Math.abs(i/a);var o=Math.ceil(Math.sqrt(n*r));var s=Math.floor(r/o);if(s===0){s=1;o=r}var l=[];for(var u=0;u<o;u++){l.push(s)}var f=o*s;var h=r-f;if(h>0){for(var u=0;u<h;u++){l[u%o]+=1}}return l}function J$(t,e,r){var i=t.r0;var a=t.r;var n=t.startAngle;var o=t.endAngle;var s=Math.abs(o-n);var l=s*a;var u=a-i;var f=l>Math.abs(u);var h=K$([l,u],f?0:1,e);var v=(f?s:u)/h.length;for(var c=0;c<h.length;c++){var p=(f?u:s)/h[c];for(var d=0;d<h[c];d++){var g={};if(f){g.startAngle=n+v*c;g.endAngle=n+v*(c+1);g.r0=i+p*d;g.r=i+p*(d+1)}else{g.startAngle=n+p*d;g.endAngle=n+p*(d+1);g.r0=i+v*c;g.r=i+v*(c+1)}g.clockwise=t.clockwise;g.cx=t.cx;g.cy=t.cy;r.push(g)}}}function $$(t,e,r){var i=t.width;var a=t.height;var n=i>a;var o=K$([i,a],n?0:1,e);var s=n?"width":"height";var l=n?"height":"width";var u=n?"x":"y";var f=n?"y":"x";var h=t[s]/o.length;for(var v=0;v<o.length;v++){var c=t[l]/o[v];for(var p=0;p<o[v];p++){var d={};d[u]=v*h;d[f]=p*c;d[s]=h;d[l]=c;d.x+=t.x;d.y+=t.y;r.push(d)}}}function Q$(t,e,r,i){return t*i-r*e}function tQ(t,e,r,i,a,n,o,s){var l=r-t;var u=i-e;var f=o-a;var h=s-n;var v=Q$(f,h,l,u);if(Math.abs(v)<1e-6){return null}var c=t-a;var p=e-n;var d=Q$(c,p,f,h)/v;if(d<0||d>1){return null}return new Xe(d*l+t,d*u+e)}function eQ(t,e,r){var i=new Xe;Xe.sub(i,r,e);i.normalize();var a=new Xe;Xe.sub(a,t,e);var n=a.dot(i);return n}function rQ(t,e){var r=t[t.length-1];if(r&&r[0]===e[0]&&r[1]===e[1]){return}t.push(e)}function iQ(t,e,r){var i=t.length;var a=[];for(var n=0;n<i;n++){var o=t[n];var s=t[(n+1)%i];var l=tQ(o[0],o[1],s[0],s[1],e.x,e.y,r.x,r.y);if(l){a.push({projPt:eQ(l,e,r),pt:l,idx:n})}}if(a.length<2){return[{points:t},{points:t}]}a.sort(function(t,e){return t.projPt-e.projPt});var u=a[0];var f=a[a.length-1];if(f.idx<u.idx){var h=u;u=f;f=h}var v=[u.pt.x,u.pt.y];var c=[f.pt.x,f.pt.y];var p=[v];var d=[c];for(var n=u.idx+1;n<=f.idx;n++){rQ(p,t[n].slice())}rQ(p,c);rQ(p,v);for(var n=f.idx+1;n<=u.idx+i;n++){rQ(d,t[n%i].slice())}rQ(d,v);rQ(d,c);return[{points:p},{points:d}]}function aQ(t){var e=t.points;var r=[];var i=[];Il(e,r,i);var a=new er(r[0],r[1],i[0]-r[0],i[1]-r[1]);var n=a.width;var o=a.height;var s=a.x;var l=a.y;var u=new Xe;var f=new Xe;if(n>o){u.x=f.x=s+n/2;u.y=l;f.y=l+o}else{u.y=f.y=l+o/2;u.x=s;f.x=s+n}return iQ(e,u,f)}function nQ(t,e,r,i){if(r===1){i.push(e)}else{var a=Math.floor(r/2);var n=t(e);nQ(t,n[0],a,i);nQ(t,n[1],r-a,i)}return i}function oQ(t,e){var r=[];for(var i=0;i<e;i++){r.push(Eh(t))}return r}function sQ(t,e){e.setStyle(t.style);e.z=t.z;e.z2=t.z2;e.zlevel=t.zlevel}function lQ(t){var e=[];for(var r=0;r<t.length;){e.push([t[r++],t[r++]])}return e}function uQ(t,e){var r=[];var i=t.shape;var a;switch(t.type){case"rect":$$(i,e,r);a=Nu;break;case"sector":J$(i,e,r);a=iv;break;case"circle":J$({r0:0,r:i.r,startAngle:0,endAngle:Math.PI*2,cx:i.cx,cy:i.cy},e,r);a=iv;break;default:var n=t.getComputedTransform();var o=n?Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3])):1;var s=W(q$(t.getUpdatedPathProxy(),o),function(t){return lQ(t)});var l=s.length;if(l===0){nQ(aQ,{points:s[0]},e,r)}else if(l===e){for(var u=0;u<l;u++){r.push({points:s[u]})}}else{var f=0;var h=W(s,function(t){var e=[];var r=[];Il(t,e,r);var i=(r[1]-e[1])*(r[0]-e[0]);f+=i;return{poly:t,area:i}});h.sort(function(t,e){return e.area-t.area});var v=e;for(var u=0;u<l;u++){var c=h[u];if(v<=0){break}var p=u===l-1?v:Math.ceil(c.area/f*e);if(p<0){continue}nQ(aQ,{points:c.poly},p,r);v-=p}}a=uv;break}if(!a){return oQ(t,e)}var d=[];for(var u=0;u<r.length;u++){var g=new a;g.setShape(r[u]);sQ(t,g);d.push(g)}return d}function fQ(t,e){var r=t.length;var i=e.length;if(r===i){return[t,e]}var a=[];var n=[];var o=r<i?t:e;var s=Math.min(r,i);var l=Math.abs(i-r)/6;var u=(s-2)/6;var f=Math.ceil(l/u)+1;var h=[o[0],o[1]];var v=l;for(var c=2;c<s;){var p=o[c-2];var d=o[c-1];var g=o[c++];var y=o[c++];var m=o[c++];var x=o[c++];var _=o[c++];var w=o[c++];if(v<=0){h.push(g,y,m,x,_,w);continue}var b=Math.min(v,f-1)+1;for(var S=1;S<=b;S++){var M=S/b;jr(p,g,m,_,M,a);jr(d,y,x,w,M,n);p=a[3];d=n[3];h.push(a[1],n[1],a[2],n[2],p,d);g=a[5];y=n[5];m=a[6];x=n[6]}v-=b-1}return o===t?[h,e]:[t,h]}function hQ(t,e){var r=t.length;var i=t[r-2];var a=t[r-1];var n=[];for(var o=0;o<e.length;){n[o++]=i;n[o++]=a}return n}function vQ(t,e){var r;var i;var a;var n=[];var o=[];for(var s=0;s<Math.max(t.length,e.length);s++){var l=t[s];var u=e[s];var f=void 0;var h=void 0;if(!l){f=hQ(i||u,u);h=u}else if(!u){h=hQ(a||l,l);f=l}else{r=fQ(l,u),f=r[0],h=r[1];i=f;a=h}n.push(f);o.push(h)}return[n,o]}function cQ(t){var e=0;var r=0;var i=0;var a=t.length;for(var n=0,o=a-2;n<a;o=n,n+=2){var s=t[o];var l=t[o+1];var u=t[n];var f=t[n+1];var h=s*f-u*l;e+=h;r+=(s+u)*h;i+=(l+f)*h}if(e===0){return[t[0]||0,t[1]||0]}return[r/e/3,i/e/3,e]}function pQ(t,e,r,i){var a=(t.length-2)/6;var n=Infinity;var o=0;var s=t.length;var l=s-2;for(var u=0;u<a;u++){var f=u*6;var h=0;for(var v=0;v<s;v+=2){var c=v===0?f:(f+v-2)%l+2;var p=t[c]-r[0];var d=t[c+1]-r[1];var g=e[v]-i[0];var y=e[v+1]-i[1];var m=g-p;var x=y-d;h+=m*m+x*x}if(h<n){n=h;o=u}}return o}function dQ(t){var e=[];var r=t.length;for(var i=0;i<r;i+=2){e[i]=t[r-i-2];e[i+1]=t[r-i-1]}return e}function gQ(t,e,r,i){var a=[];var n;for(var o=0;o<t.length;o++){var s=t[o];var l=e[o];var u=cQ(s);var f=cQ(l);if(n==null){n=u[2]<0!==f[2]<0}var h=[];var v=[];var c=0;var p=Infinity;var d=[];var g=s.length;if(n){s=dQ(s)}var y=pQ(s,l,u,f)*6;var m=g-2;for(var x=0;x<m;x+=2){var _=(y+x)%m+2;h[x+2]=s[_]-u[0];h[x+3]=s[_+1]-u[1]}h[0]=s[y]-u[0];h[1]=s[y+1]-u[1];if(r>0){var w=i/r;for(var b=-i/2;b<=i/2;b+=w){var S=Math.sin(b);var M=Math.cos(b);var I=0;for(var x=0;x<s.length;x+=2){var T=h[x];var C=h[x+1];var D=l[x]-f[0];var A=l[x+1]-f[1];var k=D*M-A*S;var L=D*S+A*M;d[x]=k;d[x+1]=L;var P=k-T;var O=L-C;I+=P*P+O*O}if(I<p){p=I;c=b;for(var R=0;R<d.length;R++){v[R]=d[R]}}}}else{for(var N=0;N<g;N+=2){v[N]=l[N]-f[0];v[N+1]=l[N+1]-f[1]}}a.push({from:h,to:v,fromCp:u,toCp:f,rotation:-c})}return a}function yQ(t){return t.__isCombineMorphing}var mQ="__mOriginal_";function xQ(t,e,r){var i=mQ+e;var a=t[i]||t[e];if(!t[i]){t[i]=t[e]}var n=r.replace;var o=r.after;var s=r.before;t[e]=function(){var t=arguments;var e;s&&s.apply(this,t);if(n){e=n.apply(this,t)}else{e=a.apply(this,t)}o&&o.apply(this,t);return e}}function _Q(t,e){var r=mQ+e;if(t[r]){t[e]=t[r];t[r]=null}}function wQ(t,e){for(var r=0;r<t.length;r++){var i=t[r];for(var a=0;a<i.length;){var n=i[a];var o=i[a+1];i[a++]=e[0]*n+e[2]*o+e[4];i[a++]=e[1]*n+e[3]*o+e[5]}}}function bQ(t,e){var r=t.getUpdatedPathProxy();var i=e.getUpdatedPathProxy();var a=vQ(Z$(r),Z$(i)),n=a[0],o=a[1];var s=t.getComputedTransform();var l=e.getComputedTransform();function u(){this.transform=null}s&&wQ(n,s);l&&wQ(o,l);xQ(e,"updateTransform",{replace:u});e.transform=null;var f=gQ(n,o,10,Math.PI);var h=[];xQ(e,"buildPath",{replace:function(t){var r=e.__morphT;var i=1-r;var a=[];for(var n=0;n<f.length;n++){var o=f[n];var s=o.from;var l=o.to;var u=o.rotation*r;var v=o.fromCp;var c=o.toCp;var p=Math.sin(u);var d=Math.cos(u);Qt(a,v,c,r);for(var g=0;g<s.length;g+=2){var y=s[g];var m=s[g+1];var x=l[g];var _=l[g+1];var w=y*i+x*r;var b=m*i+_*r;h[g]=w*d-b*p+a[0];h[g+1]=w*p+b*d+a[1]}var S=h[0];var M=h[1];t.moveTo(S,M);for(var g=2;g<s.length;){var x=h[g++];var _=h[g++];var I=h[g++];var T=h[g++];var C=h[g++];var D=h[g++];if(S===x&&M===_&&I===C&&T===D){t.lineTo(C,D)}else{t.bezierCurveTo(x,_,I,T,C,D)}S=C;M=D}}}})}function SQ(t,e,r){if(!t||!e){return e}var i=r.done;var a=r.during;bQ(t,e);e.__morphT=0;function n(){_Q(e,"buildPath");_Q(e,"updateTransform");e.__morphT=-1;e.createPathProxy();e.dirtyShape()}e.animateTo({__morphT:1},E({during:function(t){e.dirtyShape();a&&a(t)},done:function(){n();i&&i()}},r));return e}function MQ(t,e,r,i,a,n){var o=16;t=a===r?0:Math.round(32767*(t-r)/(a-r));e=n===i?0:Math.round(32767*(e-i)/(n-i));var s=0;var l;for(var u=(1<<o)/2;u>0;u/=2){var f=0;var h=0;if((t&u)>0){f=1}if((e&u)>0){h=1}s+=u*u*(3*f^h);if(h===0){if(f===1){t=u-1-t;e=u-1-e}l=t;t=e;e=l}}return s}function IQ(t){var e=Infinity;var r=Infinity;var i=-Infinity;var a=-Infinity;var n=W(t,function(t){var n=t.getBoundingRect();var o=t.getComputedTransform();var s=n.x+n.width/2+(o?o[4]:0);var l=n.y+n.height/2+(o?o[5]:0);e=Math.min(s,e);r=Math.min(l,r);i=Math.max(s,i);a=Math.max(l,a);return[s,l]});var o=W(n,function(n,o){return{cp:n,z:MQ(n[0],n[1],e,r,i,a),path:t[o]}});return o.sort(function(t,e){return t.z-e.z}).map(function(t){return t.path})}function TQ(t){return uQ(t.path,t.count)}function CQ(){return{fromIndividuals:[],toIndividuals:[],count:0}}function DQ(t,e,r){var i=[];function a(t){for(var e=0;e<t.length;e++){var r=t[e];if(yQ(r)){a(r.childrenRef())}else if(r instanceof wu){i.push(r)}}}a(t);var n=i.length;if(!n){return CQ()}var o=r.dividePath||TQ;var s=o({path:e,count:n});if(s.length!==n){console.error("Invalid morphing: unmatched splitted path");return CQ()}i=IQ(i);s=IQ(s);var l=r.done;var u=r.during;var f=r.individualDelay;var h=new hn;for(var v=0;v<n;v++){var c=i[v];var p=s[v];p.parent=e;p.copyTransform(h);if(!f){bQ(c,p)}}e.__isCombineMorphing=true;e.childrenRef=function(){return s};function d(t){for(var e=0;e<s.length;e++){s[e].addSelfToZr(t)}}xQ(e,"addSelfToZr",{after:function(t){d(t)}});xQ(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<s.length;e++){s[e].removeSelfFromZr(t)}}});function g(){e.__isCombineMorphing=false;e.__morphT=-1;e.childrenRef=null;_Q(e,"addSelfToZr");_Q(e,"removeSelfFromZr")}var y=s.length;if(f){var m=y;var x=function(){m--;if(m===0){g();l&&l()}};for(var v=0;v<y;v++){var _=f?E({delay:(r.delay||0)+f(v,y,i[v],s[v]),done:x},r):r;SQ(i[v],s[v],_)}}else{e.__morphT=0;e.animateTo({__morphT:1},E({during:function(t){for(var r=0;r<y;r++){var i=s[r];i.__morphT=e.__morphT;i.dirtyShape()}u&&u(t)},done:function(){g();for(var e=0;e<t.length;e++){_Q(t[e],"updateTransform")}l&&l()}},r))}if(e.__zr){d(e.__zr)}return{fromIndividuals:i,toIndividuals:s,count:y}}function AQ(t,e,r){var i=e.length;var a=[];var n=r.dividePath||TQ;function o(t){for(var e=0;e<t.length;e++){var r=t[e];if(yQ(r)){o(r.childrenRef())}else if(r instanceof wu){a.push(r)}}}if(yQ(t)){o(t.childrenRef());var s=a.length;if(s<i){var l=0;for(var u=s;u<i;u++){a.push(Eh(a[l++%s]))}}a.length=i}else{a=n({path:t,count:i});var f=t.getComputedTransform();for(var u=0;u<a.length;u++){a[u].setLocalTransform(f)}if(a.length!==i){console.error("Invalid morphing: unmatched splitted path");return CQ()}}a=IQ(a);e=IQ(e);var h=r.individualDelay;for(var u=0;u<i;u++){var v=h?E({delay:(r.delay||0)+h(u,i,a[u],e[u])},r):r;SQ(a[u],e[u],v)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function kQ(t){return J(t[0])}function LQ(t,e){var r=[];var i=t.length;for(var a=0;a<i;a++){r.push({one:t[a],many:[]})}for(var a=0;a<e.length;a++){var n=e[a].length;var o=void 0;for(o=0;o<n;o++){r[o%i].many.push(e[a][o])}}var s=0;for(var a=i-1;a>=0;a--){if(!r[a].many.length){var l=r[s].many;if(l.length<=1){if(s){s=0}else{return r}}var n=l.length;var u=Math.ceil(n/2);r[a].many=l.slice(u,n);r[s].many=l.slice(0,u);s++}}return r}var PQ={clone:function(t){var e=[];var r=1-Math.pow(1-t.path.style.opacity,1/t.count);for(var i=0;i<t.count;i++){var a=Eh(t.path);a.setStyle("opacity",r);e.push(a)}return e},split:null};function OQ(t,e,r,i,a,n){if(!t.length||!e.length){return}var o=Ov("update",i,a);if(!(o&&o.duration>0)){return}var s=i.getModel("universalTransition").get("delay");var l=Object.assign({setToFinal:true},o);var u;var f;if(kQ(t)){u=t;f=e}if(kQ(e)){u=e;f=t}function h(t,e,i,a,o){var u=t.many;var f=t.one;if(u.length===1&&!o){var v=e?u[0]:f;var c=e?f:u[0];if(yQ(v)){h({many:[v],one:c},true,i,a,true)}else{var p=s?E({delay:s(i,a)},l):l;SQ(v,c,p);n(v,c,v,c,p)}}else{var d=E({dividePath:PQ[r],individualDelay:s&&function(t,e,r,n){return s(t+i,a)}},l);var g=e?DQ(u,f,d):AQ(f,u,d),y=g.fromIndividuals,m=g.toIndividuals;var x=y.length;for(var _=0;_<x;_++){var p=s?E({delay:s(_,x)},l):l;n(y[_],m[_],e?u[_]:t.one,e?t.one:u[_],p)}}}var v=u?u===t:t.length>e.length;var c=u?LQ(f,u):LQ(v?e:t,[v?t:e]);var p=0;for(var d=0;d<c.length;d++){p+=c[d].many.length}var g=0;for(var d=0;d<c.length;d++){h(c[d],v,g,p);g+=c[d].many.length}}function RQ(t){if(!t){return[]}if(J(t)){var e=[];for(var r=0;r<t.length;r++){e.push(RQ(t[r]))}return e}var i=[];t.traverse(function(t){if(t instanceof wu&&!t.disableMorphing&&!t.invisible&&!t.ignore){i.push(t)}});return i}var NQ=1e4;var EQ=0;var zQ=1;var VQ=2;var BQ=hs();function FQ(t,e){var r=t.dimensions;for(var i=0;i<r.length;i++){var a=t.getDimensionInfo(r[i]);if(a&&a.otherDims[e]===0){return r[i]}}}function GQ(t,e,r){var i=t.getDimensionInfo(r);var a=i&&i.ordinalMeta;if(i){var n=t.get(i.name,e);if(a){return a.categories[n]||n+""}return n+""}}function HQ(t,e,r,i){var a=i?"itemChildGroupId":"itemGroupId";var n=FQ(t,a);if(n){var o=GQ(t,e,n);return o}var s=t.getRawDataItem(e);var l=i?"childGroupId":"groupId";if(s&&s[l]){return s[l]+""}if(i){return}return r||t.getId(e)}function WQ(t){var e=[];H(t,function(t){var r=t.data;var i=t.dataGroupId;if(r.count()>NQ){if(true){Po("Universal transition is disabled on large data > 10k.")}return}var a=r.getIndices();for(var n=0;n<a.length;n++){e.push({data:r,groupId:HQ(r,n,i,false),childGroupId:HQ(r,n,i,true),divide:t.divide,dataIndex:n})}});return e}function UQ(t,e,r){t.traverse(function(t){if(t instanceof wu){Ev(t,{style:{opacity:0}},e,{dataIndex:r,isFrom:true})}})}function YQ(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e);t.parent.remove(t)}}function XQ(t){t.stopAnimation();if(t.isGroup){t.traverse(function(t){t.stopAnimation()})}}function ZQ(t,e,r){var i=Ov("update",r,e);i&&t.traverse(function(t){if(t instanceof cl){var e=Hv(t);if(e){t.animateFrom({style:e},i)}}})}function jQ(t,e){var r=t.length;if(r!==e.length){return false}for(var i=0;i<r;i++){var a=t[i];var n=e[i];if(a.data.getId(a.dataIndex)!==n.data.getId(n.dataIndex)){return false}}return true}function qQ(t,e,r){var i=WQ(t);var a=WQ(e);function n(t,e,r,i,a){if(r||t){e.animateFrom({style:r&&r!==t?N(N({},r.style),t.style):t.style},a)}}var o=false;var s=EQ;var l=Mt();var u=Mt();i.forEach(function(t){t.groupId&&l.set(t.groupId,true);t.childGroupId&&u.set(t.childGroupId,true)});for(var f=0;f<a.length;f++){var h=a[f].groupId;if(u.get(h)){s=zQ;break}var v=a[f].childGroupId;if(v&&l.get(v)){s=VQ;break}}function c(t,e){return function(r){var i=r.data;var a=r.dataIndex;if(e){return i.getId(a)}if(t){return s===zQ?r.childGroupId:r.groupId}else{return s===VQ?r.childGroupId:r.groupId}}}var p=jQ(i,a);var d={};if(!p){for(var f=0;f<a.length;f++){var g=a[f];var y=g.data.getItemGraphicEl(g.dataIndex);if(y){d[y.id]=true}}}function m(t,e){var r=i[e];var s=a[t];var l=s.data.hostModel;var u=r.data.getItemGraphicEl(r.dataIndex);var f=s.data.getItemGraphicEl(s.dataIndex);if(u===f){f&&ZQ(f,s.dataIndex,l);return}if(u&&d[u.id]){return}if(f){XQ(f);if(u){XQ(u);YQ(u);o=true;OQ(RQ(u),RQ(f),s.divide,l,t,n)}else{UQ(f,l,t)}}}new rS(i,a,c(true,p),c(false,p),null,"multiple").update(m).updateManyToOne(function(t,e){var r=a[t];var s=r.data;var l=s.hostModel;var u=s.getItemGraphicEl(r.dataIndex);var f=Y(W(e,function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)}),function(t){return t&&t!==u&&!d[t.id]});if(u){XQ(u);if(f.length){H(f,function(t){XQ(t);YQ(t)});o=true;OQ(RQ(f),RQ(u),r.divide,l,t,n)}else{UQ(u,l,r.dataIndex)}}}).updateOneToMany(function(t,e){var r=i[e];var s=r.data.getItemGraphicEl(r.dataIndex);if(s&&d[s.id]){return}var l=Y(W(t,function(t){return a[t].data.getItemGraphicEl(a[t].dataIndex)}),function(t){return t&&t!==s});var u=a[t[0]].data.hostModel;if(l.length){H(l,function(t){return XQ(t)});if(s){XQ(s);YQ(s);o=true;OQ(RQ(s),RQ(l),r.divide,u,t[0],n)}else{H(l,function(e){return UQ(e,u,t[0])})}}}).updateManyToMany(function(t,e){new rS(e,t,function(t){return i[t].data.getId(i[t].dataIndex)},function(t){return a[t].data.getId(a[t].dataIndex)}).update(function(r,i){m(t[r],e[i])}).execute()}).execute();if(o){H(e,function(t){var e=t.data;var i=e.hostModel;var a=i&&r.getViewOfSeriesModel(i);var n=Ov("update",i,0);if(a&&i.isAnimationEnabled()&&n&&n.duration>0){a.group.traverse(function(t){if(t instanceof wu&&!t.animators.length){t.animateFrom({style:{opacity:0}},n)}})}})}}function KQ(t){var e=t.getModel("universalTransition").get("seriesKey");if(!e){return t.id}return e}function JQ(t){if(J(t)){return t.sort().join(",")}return t}function $Q(t){if(t.hostModel){return t.hostModel.getModel("universalTransition").get("divideShape")}}function QQ(t,e){var r=Mt();var i=Mt();var a=Mt();H(t.oldSeries,function(e,r){var n=t.oldDataGroupIds[r];var o=t.oldData[r];var s=KQ(e);var l=JQ(s);i.set(l,{dataGroupId:n,data:o});if(J(s)){H(s,function(t){a.set(t,{key:l,dataGroupId:n,data:o})})}});function n(t){if(r.get(t)){Po("Duplicated seriesKey in universalTransition "+t)}}H(e.updatedSeries,function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId");var o=t.getData();var s=KQ(t);var l=JQ(s);var u=i.get(l);if(u){if(true){n(l)}r.set(l,{oldSeries:[{dataGroupId:u.dataGroupId,divide:$Q(u.data),data:u.data}],newSeries:[{dataGroupId:e,divide:$Q(o),data:o}]})}else{if(J(s)){if(true){n(l)}var f=[];H(s,function(t){var e=i.get(t);if(e.data){f.push({dataGroupId:e.dataGroupId,divide:$Q(e.data),data:e.data})}});if(f.length){r.set(l,{oldSeries:f,newSeries:[{dataGroupId:e,data:o,divide:$Q(o)}]})}}else{var h=a.get(s);if(h){var v=r.get(h.key);if(!v){v={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:$Q(h.data)}],newSeries:[]};r.set(h.key,v)}v.newSeries.push({dataGroupId:e,data:o,divide:$Q(o)})}}}}});return r}function t0(t,e){for(var r=0;r<t.length;r++){var i=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(i){return r}}}function e0(t,e,r,i){var a=[];var n=[];H(Go(t.from),function(t){var r=t0(e.oldSeries,t);if(r>=0){a.push({dataGroupId:e.oldDataGroupIds[r],data:e.oldData[r],divide:$Q(e.oldData[r]),groupIdDim:t.dimension})}});H(Go(t.to),function(t){var i=t0(r.updatedSeries,t);if(i>=0){var a=r.updatedSeries[i].getData();n.push({dataGroupId:e.oldDataGroupIds[i],data:a,divide:$Q(a),groupIdDim:t.dimension})}});if(a.length>0&&n.length>0){qQ(a,n,i)}}function r0(t){t.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){H(Go(r.seriesTransition),function(t){H(Go(t.to),function(t){var e=r.updatedSeries;for(var i=0;i<e.length;i++){if(t.seriesIndex!=null&&t.seriesIndex===e[i].seriesIndex||t.seriesId!=null&&t.seriesId===e[i].id){e[i][zm]=true}}})})});t.registerUpdateLifecycle("series:transition",function(t,e,r){var i=BQ(e);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a){H(Go(a),function(t){e0(t,i,r,e)})}else{var n=QQ(i,r);H(n.keys(),function(t){var r=n.get(t);qQ(r.oldSeries,r.newSeries,e)})}H(r.updatedSeries,function(t){if(t[zm]){t[zm]=false}})}var o=t.getSeries();var s=i.oldSeries=[];var l=i.oldDataGroupIds=[];var u=i.oldData=[];for(var f=0;f<o.length;f++){var h=o[f].getData();if(h.count()<NQ){s.push(o[f]);l.push(o[f].get("dataGroupId"));u.push(h)}}})}Qb([BD]);Qb([AD]);Qb([RA,pk,Nk,JL,vP,eR,qR,xE,Oz,Fz,qz,WB,_F,EF,lG,cG,DG,EG,fH,mH,RH,pU]);Qb(lY);Qb(YY);Qb(tR);Qb(hX);Qb(HB);Qb(mX);Qb(EX);Qb(oj);Qb(Vj);Qb(sY);Qb(dq);Qb(mq);Qb(Eq);Qb(aK);Qb(pK);Qb(IK);Qb(JK);Qb(DJ);Qb(vJ);Qb(CJ);Qb(y$);Qb(h$);Qb(g$);Qb(S$);Qb(G$);Qb(U$);Qb(r0);Qb(JT);t.Axis=nT;t.ChartView=Jm;t.ComponentModel=wd;t.ComponentView=Zm;t.List=kS;t.Model=qc;t.PRIORITY=Lw;t.SeriesModel=Vm;t.color=Bi;t.connect=Tb;t.dataTool=Kb;t.dependencies=pw;t.disConnect=Db;t.disconnect=Cb;t.dispose=Ab;t.env=o;t.extendChartView=hT;t.extendComponentModel=lT;t.extendComponentView=uT;t.extendSeriesModel=fT;t.format=FI;t.getCoordinateSystemDimensions=Fb;t.getInstanceByDom=kb;t.getInstanceById=Lb;t.getMap=jb;t.graphic=BI;t.helper=_I;t.init=Ib;t.innerDrawElementOnCanvas=K_;t.matrix=Ye;t.number=zI;t.parseGeoJSON=EI;t.parseGeoJson=EI;t.registerAction=Vb;t.registerCoordinateSystem=Bb;t.registerLayout=Gb;t.registerLoading=Yb;t.registerLocale=up;t.registerMap=Zb;t.registerPostInit=Nb;t.registerPostUpdate=Eb;t.registerPreprocessor=Ob;t.registerProcessor=Rb;t.registerTheme=Pb;t.registerTransform=qb;t.registerUpdateLifecycle=zb;t.registerVisual=Hb;t.setCanvasCreator=Xb;t.setPlatformAPI=y;t.throttle=ox;t.time=VI;t.use=Qb;t.util=GI;t.vector=ie;t.version=cw;t.zrUtil=Lt;t.zrender=Jn;Object.defineProperty(t,"__esModule",{value:true})})}};var e={};function r(i){var a=e[i];if(a!==undefined){return a.exports}var n=e[i]={exports:{}};t[i].call(n.exports,n,n.exports,r);return n.exports}(()=>{r.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;r.d(e,{a:e});return e}})();(()=>{r.d=(t,e)=>{for(var i in e){if(r.o(e,i)&&!r.o(t,i)){Object.defineProperty(t,i,{enumerable:true,get:e[i]})}}}})();(()=>{r.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(t){if(typeof window==="object")return window}}()})();(()=>{r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})();(()=>{r.r=t=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})}})();var i={};(()=>{"use strict";r.r(i);var t=r(1111);var e=r.n(t);
/**
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @copyright 2003-2014 by the INDEPNET Development Team.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */window.echarts=t})()})();