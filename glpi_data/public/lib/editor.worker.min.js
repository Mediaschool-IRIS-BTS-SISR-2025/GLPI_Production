(()=>{var e=[,(e,t,n)=>{"use strict";n.r(t);n.d(t,{SimpleWorkerClient:()=>v,SimpleWorkerServer:()=>S,create:()=>w,logOnceWebWorkerWarning:()=>g});var r=n(2);var i=n(3);var s=n(5);var o=n(9);var a=n(10);var l=n(14);const c=true;const u="default";const h="$initialize";let d=false;function g(e){if(!a.isWeb){return}if(!d){d=true;console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")}console.warn(e.message)}class f{constructor(e,t,n,r,i){this.vsWorker=e;this.req=t;this.channel=n;this.method=r;this.args=i;this.type=0}}class m{constructor(e,t,n,r){this.vsWorker=e;this.seq=t;this.res=n;this.err=r;this.type=1}}class p{constructor(e,t,n,r,i){this.vsWorker=e;this.req=t;this.channel=n;this.eventName=r;this.arg=i;this.type=2}}class _{constructor(e,t,n){this.vsWorker=e;this.req=t;this.event=n;this.type=3}}class b{constructor(e,t){this.vsWorker=e;this.req=t;this.type=4}}class C{constructor(e){this._workerId=-1;this._handler=e;this._lastSentReq=0;this._pendingReplies=Object.create(null);this._pendingEmitters=new Map;this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t,n){const r=String(++this._lastSentReq);return new Promise((i,s)=>{this._pendingReplies[r]={resolve:i,reject:s};this._send(new f(this._workerId,r,e,t,n))})}listen(e,t,n){let r=null;const s=new i.Emitter({onWillAddFirstListener:()=>{r=String(++this._lastSentReq);this._pendingEmitters.set(r,s);this._send(new p(this._workerId,r,e,t,n))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(r);this._send(new b(this._workerId,r));r=null}});return s.event}handleMessage(e){if(!e||!e.vsWorker){return}if(this._workerId!==-1&&e.vsWorker!==this._workerId){return}this._handleMessage(e)}createProxyToRemoteChannel(e,t){const n={get:(n,r)=>{if(typeof r==="string"&&!n[r]){if(L(r)){n[r]=t=>this.listen(e,r,t)}else if(k(r)){n[r]=this.listen(e,r,undefined)}else if(r.charCodeAt(0)===36){n[r]=async(...n)=>{await(t?.());return this.sendMessage(e,r,n)}}}return n[r]}};return new Proxy(Object.create(null),n)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];delete this._pendingReplies[e.seq];if(e.err){let n=e.err;if(e.err.$isError){n=new Error;n.name=e.err.name;n.message=e.err.message;n.stack=e.err.stack}t.reject(n);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;const n=this._handler.handleMessage(e.channel,e.method,e.args);n.then(e=>{this._send(new m(this._workerId,t,e,undefined))},e=>{if(e.detail instanceof Error){e.detail=(0,r.transformErrorForSerialization)(e.detail)}this._send(new m(this._workerId,t,undefined,(0,r.transformErrorForSerialization)(e)))})}_handleSubscribeEventMessage(e){const t=e.req;const n=this._handler.handleEvent(e.channel,e.eventName,e.arg)(e=>{this._send(new _(this._workerId,t,e))});this._pendingEvents.set(t,n)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose();this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0){for(let n=0;n<e.args.length;n++){if(e.args[n]instanceof ArrayBuffer){t.push(e.args[n])}}}else if(e.type===1){if(e.res instanceof ArrayBuffer){t.push(e.res)}}this._handler.sendMessage(e,t)}}class v extends s.Disposable{constructor(e,t){super();this._localChannels=new Map;this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},e=>{this._protocol.handleMessage(e)},e=>{(0,r.onUnexpectedError)(e)}));this._protocol=new C({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t,n)=>this._handleMessage(e,t,n),handleEvent:(e,t,n)=>this._handleEvent(e,t,n)});this._protocol.setWorkerId(this._worker.getId());let n=null;const i=globalThis.require;if(typeof i!=="undefined"&&typeof i.getConfig==="function"){n=i.getConfig()}else if(typeof globalThis.requirejs!=="undefined"){n=globalThis.requirejs.s.contexts._.config}this._onModuleLoaded=this._protocol.sendMessage(u,h,[this._worker.getId(),JSON.parse(JSON.stringify(n)),t.amdModuleId]);this.proxy=this._protocol.createProxyToRemoteChannel(u,async()=>{await this._onModuleLoaded});this._onModuleLoaded.catch(e=>{this._onError("Worker failed to load "+t.amdModuleId,e)})}_handleMessage(e,t,n){const r=this._localChannels.get(e);if(!r){return Promise.reject(new Error(`Missing channel ${e} on main thread`))}if(typeof r[t]!=="function"){return Promise.reject(new Error(`Missing method ${t} on main thread channel ${e}`))}try{return Promise.resolve(r[t].apply(r,n))}catch(e){return Promise.reject(e)}}_handleEvent(e,t,n){const r=this._localChannels.get(e);if(!r){throw new Error(`Missing channel ${e} on main thread`)}if(L(t)){const i=r[t].call(r,n);if(typeof i!=="function"){throw new Error(`Missing dynamic event ${t} on main thread channel ${e}.`)}return i}if(k(t)){const n=r[t];if(typeof n!=="function"){throw new Error(`Missing event ${t} on main thread channel ${e}.`)}return n}throw new Error(`Malformed event name ${t}`)}setChannel(e,t){this._localChannels.set(e,t)}_onError(e,t){console.error(e);console.info(t)}}function k(e){return e[0]==="o"&&e[1]==="n"&&l.isUpperAsciiLetter(e.charCodeAt(2))}function L(e){return/^onDynamic/.test(e)&&l.isUpperAsciiLetter(e.charCodeAt(9))}class S{constructor(e,t){this._localChannels=new Map;this._remoteChannels=new Map;this._requestHandlerFactory=t;this._requestHandler=null;this._protocol=new C({sendMessage:(t,n)=>{e(t,n)},handleMessage:(e,t,n)=>this._handleMessage(e,t,n),handleEvent:(e,t,n)=>this._handleEvent(e,t,n)})}onmessage(e){this._protocol.handleMessage(e)}_handleMessage(e,t,n){if(e===u&&t===h){return this.initialize(n[0],n[1],n[2])}const r=e===u?this._requestHandler:this._localChannels.get(e);if(!r){return Promise.reject(new Error(`Missing channel ${e} on worker thread`))}if(typeof r[t]!=="function"){return Promise.reject(new Error(`Missing method ${t} on worker thread channel ${e}`))}try{return Promise.resolve(r[t].apply(r,n))}catch(e){return Promise.reject(e)}}_handleEvent(e,t,n){const r=e===u?this._requestHandler:this._localChannels.get(e);if(!r){throw new Error(`Missing channel ${e} on worker thread`)}if(L(t)){const e=r[t].call(r,n);if(typeof e!=="function"){throw new Error(`Missing dynamic event ${t} on request handler.`)}return e}if(k(t)){const e=r[t];if(typeof e!=="function"){throw new Error(`Missing event ${t} on request handler.`)}return e}throw new Error(`Malformed event name ${t}`)}getChannel(e){if(!this._remoteChannels.has(e)){const t=this._protocol.createProxyToRemoteChannel(e);this._remoteChannels.set(e,t)}return this._remoteChannels.get(e)}async initialize(e,t,r){this._protocol.setWorkerId(e);if(this._requestHandlerFactory){this._requestHandler=this._requestHandlerFactory(this);return}if(t){if(typeof t.baseUrl!=="undefined"){delete t["baseUrl"]}if(typeof t.paths!=="undefined"){if(typeof t.paths.vs!=="undefined"){delete t.paths["vs"]}}if(typeof t.trustedTypesPolicy!=="undefined"){delete t["trustedTypesPolicy"]}t.catchError=true;globalThis.require.config(t)}if(c){const e=o.FileAccess.asBrowserUri(`${r}.js`).toString(true);return n(20)(`${e}`).then(e=>{this._requestHandler=e.create(this);if(!this._requestHandler){throw new Error(`No RequestHandler!`)}})}return new Promise((e,t)=>{const n=globalThis.require;n([r],n=>{this._requestHandler=n.create(this);if(!this._requestHandler){t(new Error(`No RequestHandler!`));return}e()},t)})}}function w(e){return new S(e,null)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BugIndicatingError:()=>p,CancellationError:()=>u,ErrorHandler:()=>r,ErrorNoTelemetry:()=>m,NotSupportedError:()=>f,canceled:()=>h,errorHandler:()=>i,illegalArgument:()=>d,illegalState:()=>g,isCancellationError:()=>c,onUnexpectedError:()=>s,onUnexpectedExternalError:()=>o,transformErrorForSerialization:()=>a});class r{constructor(){this.listeners=[];this.unexpectedErrorHandler=function(e){setTimeout(()=>{if(e.stack){if(m.isErrorNoTelemetry(e)){throw new m(e.message+"\n\n"+e.stack)}throw new Error(e.message+"\n\n"+e.stack)}throw e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e);this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const i=new r;function s(e){if(!c(e)){i.onUnexpectedError(e)}return undefined}function o(e){if(!c(e)){i.onUnexpectedExternalError(e)}return undefined}function a(e){if(e instanceof Error){const{name:t,message:n}=e;const r=e.stacktrace||e.stack;return{$isError:true,name:t,message:n,stack:r,noTelemetry:m.isErrorNoTelemetry(e)}}return e}const l="Canceled";function c(e){if(e instanceof u){return true}return e instanceof Error&&e.name===l&&e.message===l}class u extends Error{constructor(){super(l);this.name=this.message}}function h(){const e=new Error(l);e.name=e.message;return e}function d(e){if(e){return new Error(`Illegal argument: ${e}`)}else{return new Error("Illegal argument")}}function g(e){if(e){return new Error(`Illegal state: ${e}`)}else{return new Error("Illegal state")}}class f extends Error{constructor(e){super("NotSupported");if(e){this.message=e}}}class m extends Error{constructor(e){super(e);this.name="CodeExpectedError"}static fromError(e){if(e instanceof m){return e}const t=new m;t.message=e.message;t.stack=e.stack;return t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class p extends Error{constructor(e){super(e||"An unexpected bug occurred.");Object.setPrototypeOf(this,p.prototype)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DebounceEmitter:()=>E,Emitter:()=>L,Event:()=>h,EventBufferer:()=>T,EventMultiplexer:()=>x,EventProfiling:()=>d,ListenerLeakError:()=>p,ListenerRefusalError:()=>_,MicrotaskEmitter:()=>I,PauseableEmitter:()=>y,Relay:()=>N,createEventDeliveryQueue:()=>S});var r=n(2);var i=n(4);var s=n(5);var o=n(7);var a=n(8);const l=false;const c=false;const u=false;var h;(function(e){e.None=()=>s.Disposable.None;function t(e){if(u){const{onDidAddListener:t}=e;const n=m.create();let r=0;e.onDidAddListener=()=>{if(++r===2){console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here");n.print()}t?.()}}}function n(e,t){return p(e,()=>void 0,0,undefined,true,undefined,t)}e.defer=n;function r(e){return(t,n=null,r)=>{let i=false;let s=undefined;s=e(e=>{if(i){return}else if(s){s.dispose()}else{i=true}return t.call(n,e)},null,r);if(i){s.dispose()}return s}}e.once=r;function i(t,n){return e.once(e.filter(t,n))}e.onceIf=i;function o(e,t,n){return g((n,r=null,i)=>e(e=>n.call(r,t(e)),null,i),n)}e.map=o;function a(e,t,n){return g((n,r=null,i)=>e(e=>{t(e);n.call(r,e)},null,i),n)}e.forEach=a;function l(e,t,n){return g((n,r=null,i)=>e(e=>t(e)&&n.call(r,e),null,i),n)}e.filter=l;function c(e){return e}e.signal=c;function h(...e){return(t,n=null,r)=>{const i=(0,s.combinedDisposable)(...e.map(e=>e(e=>t.call(n,e))));return f(i,r)}}e.any=h;function d(e,t,n,r){let i=n;return o(e,e=>{i=t(i,e);return i},r)}e.reduce=d;function g(e,n){let r;const i={onWillAddFirstListener(){r=e(s.fire,s)},onDidRemoveLastListener(){r?.dispose()}};if(!n){t(i)}const s=new L(i);n?.add(s);return s.event}function f(e,t){if(t instanceof Array){t.push(e)}else if(t){t.add(e)}return e}function p(e,n,r=100,i=false,s=false,o,a){let l;let c=undefined;let u=undefined;let h=0;let d;const g={leakWarningThreshold:o,onWillAddFirstListener(){l=e(e=>{h++;c=n(c,e);if(i&&!u){f.fire(c);c=undefined}d=()=>{const e=c;c=undefined;u=undefined;if(!i||h>1){f.fire(e)}h=0};if(typeof r==="number"){clearTimeout(u);u=setTimeout(d,r)}else{if(u===undefined){u=0;queueMicrotask(d)}}})},onWillRemoveListener(){if(s&&h>0){d?.()}},onDidRemoveLastListener(){d=undefined;l.dispose()}};if(!a){t(g)}const f=new L(g);a?.add(f);return f.event}e.debounce=p;function _(t,n=0,r){return e.debounce(t,(e,t)=>{if(!e){return[t]}e.push(t);return e},n,undefined,true,undefined,r)}e.accumulate=_;function b(e,t=(e,t)=>e===t,n){let r=true;let i;return l(e,e=>{const n=r||!t(e,i);r=false;i=e;return n},n)}e.latch=b;function C(t,n,r){return[e.filter(t,n,r),e.filter(t,e=>!n(e),r)]}e.split=C;function v(e,t=false,n=[],r){let i=n.slice();let s=e(e=>{if(i){i.push(e)}else{a.fire(e)}});if(r){r.add(s)}const o=()=>{i?.forEach(e=>a.fire(e));i=null};const a=new L({onWillAddFirstListener(){if(!s){s=e(e=>a.fire(e));if(r){r.add(s)}}},onDidAddFirstListener(){if(i){if(t){setTimeout(o)}else{o()}}},onDidRemoveLastListener(){if(s){s.dispose()}s=null}});if(r){r.add(a)}return a.event}e.buffer=v;function k(e,t){const n=(n,r,i)=>{const s=t(new w);return e(function(e){const t=s.evaluate(e);if(t!==S){n.call(r,t)}},undefined,i)};return n}e.chain=k;const S=Symbol("HaltChainable");class w{constructor(){this.steps=[]}map(e){this.steps.push(e);return this}forEach(e){this.steps.push(t=>{e(t);return t});return this}filter(e){this.steps.push(t=>e(t)?t:S);return this}reduce(e,t){let n=t;this.steps.push(t=>{n=e(n,t);return n});return this}latch(e=(e,t)=>e===t){let t=true;let n;this.steps.push(r=>{const i=t||!e(r,n);t=false;n=r;return i?r:S});return this}evaluate(e){for(const t of this.steps){e=t(e);if(e===S){break}}return e}}function y(e,t,n=e=>e){const r=(...e)=>o.fire(n(...e));const i=()=>e.on(t,r);const s=()=>e.removeListener(t,r);const o=new L({onWillAddFirstListener:i,onDidRemoveLastListener:s});return o.event}e.fromNodeEventEmitter=y;function E(e,t,n=e=>e){const r=(...e)=>o.fire(n(...e));const i=()=>e.addEventListener(t,r);const s=()=>e.removeEventListener(t,r);const o=new L({onWillAddFirstListener:i,onDidRemoveLastListener:s});return o.event}e.fromDOMEventEmitter=E;function I(e){return new Promise(t=>r(e)(t))}e.toPromise=I;function x(e){const t=new L;e.then(e=>{t.fire(e)},()=>{t.fire(undefined)}).finally(()=>{t.dispose()});return t.event}e.fromPromise=x;function T(e,t){return e(e=>t.fire(e))}e.forward=T;function N(e,t,n){t(n);return e(e=>t(e))}e.runAndSubscribe=N;class B{constructor(e,n){this._observable=e;this._counter=0;this._hasChanged=false;const r={onWillAddFirstListener:()=>{e.addObserver(this);this._observable.reportChanges()},onDidRemoveLastListener:()=>{e.removeObserver(this)}};if(!n){t(r)}this.emitter=new L(r);if(n){n.add(this.emitter)}}beginUpdate(e){this._counter++}handlePossibleChange(e){}handleChange(e,t){this._hasChanged=true}endUpdate(e){this._counter--;if(this._counter===0){this._observable.reportChanges();if(this._hasChanged){this._hasChanged=false;this.emitter.fire(this._observable.get())}}}}function R(e,t){const n=new B(e,t);return n.emitter.event}e.fromObservable=R;function A(e){return(t,n,r)=>{let i=0;let o=false;const a={beginUpdate(){i++},endUpdate(){i--;if(i===0){e.reportChanges();if(o){o=false;t.call(n)}}},handlePossibleChange(){},handleChange(){o=true}};e.addObserver(a);e.reportChanges();const l={dispose(){e.removeObserver(a)}};if(r instanceof s.DisposableStore){r.add(l)}else if(Array.isArray(r)){r.push(l)}return l}}e.fromObservableLight=A})(h||(h={}));class d{static{this.all=new Set}static{this._idPool=0}constructor(e){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${e}_${d._idPool++}`;d.all.add(this)}start(e){this._stopWatch=new a.StopWatch;this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e);this.elapsedOverall+=e;this.invocationCount+=1;this._stopWatch=undefined}}}let g=-1;class f{static{this._idPool=1}constructor(e,t,n=(f._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e;this.threshold=t;this.name=n;this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,t){const n=this.threshold;if(n<=0||t<n){return undefined}if(!this._stacks){this._stacks=new Map}const r=this._stacks.get(e.value)||0;this._stacks.set(e.value,r+1);this._warnCountdown-=1;if(this._warnCountdown<=0){this._warnCountdown=n*.5;const[e,r]=this.getMostFrequentStack();const i=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${r}):`;console.warn(i);console.warn(e);const s=new p(i,e);this._errorHandler(s)}return()=>{const t=this._stacks.get(e.value)||0;this._stacks.set(e.value,t-1)}}getMostFrequentStack(){if(!this._stacks){return undefined}let e;let t=0;for(const[n,r]of this._stacks){if(!e||t<r){e=[n,r];t=r}}return e}}class m{static create(){const e=new Error;return new m(e.stack??"")}constructor(e){this.value=e}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class p extends Error{constructor(e,t){super(e);this.name="ListenerLeakError";this.stack=t}}class _ extends Error{constructor(e,t){super(e);this.name="ListenerRefusalError";this.stack=t}}class b{constructor(e){this.value=e}}const C=2;const v=(e,t)=>{if(e instanceof b){t(e)}else{for(let n=0;n<e.length;n++){const r=e[n];if(r){t(r)}}}};let k;if(l){const e=[];setInterval(()=>{if(e.length===0){return}console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:");console.warn(e.join("\n"));e.length=0},3e3);k=new FinalizationRegistry(t=>{if(typeof t==="string"){e.push(t)}})}class L{constructor(e){this._size=0;this._options=e;this._leakageMon=g>0||this._options?.leakWarningThreshold?new f(e?.onListenerError??r.onUnexpectedError,this._options?.leakWarningThreshold??g):undefined;this._perfMon=this._options?._profName?new d(this._options._profName):undefined;this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){this._disposed=true;if(this._deliveryQueue?.current===this){this._deliveryQueue.reset()}if(this._listeners){if(c){const e=this._listeners;queueMicrotask(()=>{v(e,e=>e.stack?.print())})}this._listeners=undefined;this._size=0}this._options?.onDidRemoveLastListener?.();this._leakageMon?.dispose()}}get event(){this._event??=(e,t,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const e=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(e);const t=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1];const n=new _(`${e}. HINT: Stack shows most frequent listener (${t[1]}-times)`,t[0]);const i=this._options?.onListenerError||r.onUnexpectedError;i(n);return s.Disposable.None}if(this._disposed){return s.Disposable.None}if(t){e=e.bind(t)}const i=new b(e);let o;let a;if(this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)){i.stack=m.create();o=this._leakageMon.check(i.stack,this._size+1)}if(c){i.stack=a??m.create()}if(!this._listeners){this._options?.onWillAddFirstListener?.(this);this._listeners=i;this._options?.onDidAddFirstListener?.(this)}else if(this._listeners instanceof b){this._deliveryQueue??=new w;this._listeners=[this._listeners,i]}else{this._listeners.push(i)}this._size++;const l=(0,s.toDisposable)(()=>{k?.unregister(l);o?.();this._removeListener(i)});if(n instanceof s.DisposableStore){n.add(l)}else if(Array.isArray(n)){n.push(l)}if(k){const e=(new Error).stack.split("\n").slice(2,3).join("\n").trim();const t=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(e);k.register(l,t?.[2]??e,l)}return l};return this._event}_removeListener(e){this._options?.onWillRemoveListener?.(this);if(!this._listeners){return}if(this._size===1){this._listeners=undefined;this._options?.onDidRemoveLastListener?.(this);this._size=0;return}const t=this._listeners;const n=t.indexOf(e);if(n===-1){console.log("disposed?",this._disposed);console.log("size?",this._size);console.log("arr?",JSON.stringify(this._listeners));throw new Error("Attempted to dispose unknown listener")}this._size--;t[n]=undefined;const r=this._deliveryQueue.current===this;if(this._size*C<=t.length){let e=0;for(let n=0;n<t.length;n++){if(t[n]){t[e++]=t[n]}else if(r){this._deliveryQueue.end--;if(e<this._deliveryQueue.i){this._deliveryQueue.i--}}}t.length=e}}_deliver(e,t){if(!e){return}const n=this._options?.onListenerError||r.onUnexpectedError;if(!n){e.value(t);return}try{e.value(t)}catch(e){n(e)}}_deliverQueue(e){const t=e.current._listeners;while(e.i<e.end){this._deliver(t[e.i++],e.value)}e.reset()}fire(e){if(this._deliveryQueue?.current){this._deliverQueue(this._deliveryQueue);this._perfMon?.stop()}this._perfMon?.start(this._size);if(!this._listeners){}else if(this._listeners instanceof b){this._deliver(this._listeners,e)}else{const t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length);this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}}const S=()=>new w;class w{constructor(){this.i=-1;this.end=0}enqueue(e,t,n){this.i=0;this.end=n;this.current=e;this.value=t}reset(){this.i=this.end;this.current=undefined;this.value=undefined}}class y extends L{constructor(e){super(e);this._isPaused=0;this._eventQueue=new o.LinkedList;this._mergeFn=e?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0){if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear();super.fire(this._mergeFn(e))}}else{while(!this._isPaused&&this._eventQueue.size!==0){super.fire(this._eventQueue.shift())}}}}fire(e){if(this._size){if(this._isPaused!==0){this._eventQueue.push(e)}else{super.fire(e)}}}}class E extends y{constructor(e){super(e);this._delay=e.delay??100}fire(e){if(!this._handle){this.pause();this._handle=setTimeout(()=>{this._handle=undefined;this.resume()},this._delay)}super.fire(e)}}class I extends L{constructor(e){super(e);this._queuedEvents=[];this._mergeFn=e?.merge}fire(e){if(!this.hasListeners()){return}this._queuedEvents.push(e);if(this._queuedEvents.length===1){queueMicrotask(()=>{if(this._mergeFn){super.fire(this._mergeFn(this._queuedEvents))}else{this._queuedEvents.forEach(e=>super.fire(e))}this._queuedEvents=[]})}}}class x{constructor(){this.hasListeners=false;this.events=[];this.emitter=new L({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};this.events.push(t);if(this.hasListeners){this.hook(t)}const n=()=>{if(this.hasListeners){this.unhook(t)}const e=this.events.indexOf(t);this.events.splice(e,1)};return(0,s.toDisposable)((0,i.createSingleCallFunction)(n))}onFirstListenerAdd(){this.hasListeners=true;this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=false;this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(e=>this.emitter.fire(e))}unhook(e){e.listener?.dispose();e.listener=null}dispose(){this.emitter.dispose();for(const e of this.events){e.listener?.dispose()}this.events=[]}}class T{constructor(){this.data=[]}wrapEvent(e,t,n){return(r,i,s)=>e(e=>{const s=this.data[this.data.length-1];if(!t){if(s){s.buffers.push(()=>r.call(i,e))}else{r.call(i,e)}return}const o=s;if(!o){r.call(i,t(n,e));return}o.items??=[];o.items.push(e);if(o.buffers.length===0){s.buffers.push(()=>{o.reducedResult??=n?o.items.reduce(t,n):o.items.reduce(t);r.call(i,o.reducedResult)})}},undefined,s)}bufferEvents(e){const t={buffers:new Array};this.data.push(t);const n=e();this.data.pop();t.buffers.forEach(e=>e());return n}}class N{constructor(){this.listening=false;this.inputEvent=h.None;this.inputEventListener=s.Disposable.None;this.emitter=new L({onDidAddFirstListener:()=>{this.listening=true;this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=false;this.inputEventListener.dispose()}});this.event=this.emitter.event}set input(e){this.inputEvent=e;if(this.listening){this.inputEventListener.dispose();this.inputEventListener=e(this.emitter.fire,this.emitter)}}dispose(){this.inputEventListener.dispose();this.emitter.dispose()}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{createSingleCallFunction:()=>r});function r(e,t){const n=this;let r=false;let i;return function(){if(r){return i}r=true;if(t){try{i=e.apply(n,arguments)}finally{t()}}else{i=e.apply(n,arguments)}return i}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Disposable:()=>b,DisposableMap:()=>L,DisposableStore:()=>_,ImmortalReference:()=>k,MutableDisposable:()=>C,RefCountedDisposable:()=>v,combinedDisposable:()=>m,dispose:()=>f,isDisposable:()=>g,markAsDisposed:()=>c,markAsSingleton:()=>d,setDisposableTracker:()=>a,toDisposable:()=>p,trackDisposable:()=>l});var r=n(4);var i=n(6);const s=false;let o=null;function a(e){o=e}if(s){const e="__is_disposable_tracked__";a(new class{trackDisposable(t){const n=new Error("Potentially leaked disposable").stack;setTimeout(()=>{if(!t[e]){console.log(n)}},3e3)}setParent(t,n){if(t&&t!==b.None){try{t[e]=true}catch{}}}markAsDisposed(t){if(t&&t!==b.None){try{t[e]=true}catch{}}}markAsSingleton(e){}})}function l(e){o?.trackDisposable(e);return e}function c(e){o?.markAsDisposed(e)}function u(e,t){o?.setParent(e,t)}function h(e,t){if(!o){return}for(const n of e){o.setParent(n,t)}}function d(e){o?.markAsSingleton(e);return e}function g(e){return typeof e==="object"&&e!==null&&typeof e.dispose==="function"&&e.dispose.length===0}function f(e){if(i.Iterable.is(e)){const t=[];for(const n of e){if(n){try{n.dispose()}catch(e){t.push(e)}}}if(t.length===1){throw t[0]}else if(t.length>1){throw new AggregateError(t,"Encountered errors while disposing of store")}return Array.isArray(e)?[]:e}else if(e){e.dispose();return e}}function m(...e){const t=p(()=>f(e));h(e,t);return t}function p(e){const t=l({dispose:(0,r.createSingleCallFunction)(()=>{c(t);e()})});return t}class _{static{this.DISABLE_DISPOSED_WARNING=false}constructor(){this._toDispose=new Set;this._isDisposed=false;l(this)}dispose(){if(this._isDisposed){return}c(this);this._isDisposed=true;this.clear()}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size===0){return}try{f(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e){return e}if(e===this){throw new Error("Cannot register a disposable on itself!")}u(e,this);if(this._isDisposed){if(!_.DISABLE_DISPOSED_WARNING){console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack)}}else{this._toDispose.add(e)}return e}deleteAndLeak(e){if(!e){return}if(this._toDispose.has(e)){this._toDispose.delete(e);u(e,null)}}}class b{static{this.None=Object.freeze({dispose(){}})}constructor(){this._store=new _;l(this);u(this._store,this)}dispose(){c(this);this._store.dispose()}_register(e){if(e===this){throw new Error("Cannot register a disposable on itself!")}return this._store.add(e)}}class C{constructor(){this._isDisposed=false;l(this)}get value(){return this._isDisposed?undefined:this._value}set value(e){if(this._isDisposed||e===this._value){return}this._value?.dispose();if(e){u(e,this)}this._value=e}clear(){this.value=undefined}dispose(){this._isDisposed=true;c(this);this._value?.dispose();this._value=undefined}}class v{constructor(e){this._disposable=e;this._counter=1}acquire(){this._counter++;return this}release(){if(--this._counter===0){this._disposable.dispose()}return this}}class k{constructor(e){this.object=e}dispose(){}}class L{constructor(){this._store=new Map;this._isDisposed=false;l(this)}dispose(){c(this);this._isDisposed=true;this.clearAndDisposeAll()}clearAndDisposeAll(){if(!this._store.size){return}try{f(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,n=false){if(this._isDisposed){console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack)}if(!n){this._store.get(e)?.dispose()}this._store.set(e,t)}deleteAndDispose(e){this._store.get(e)?.dispose();this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Iterable:()=>r});var r;(function(e){function t(e){return e&&typeof e==="object"&&typeof e[Symbol.iterator]==="function"}e.is=t;const n=Object.freeze([]);function r(){return n}e.empty=r;function*i(e){yield e}e.single=i;function s(e){if(t(e)){return e}else{return i(e)}}e.wrap=s;function o(e){return e||n}e.from=o;function*a(e){for(let t=e.length-1;t>=0;t--){yield e[t]}}e.reverse=a;function l(e){return!e||e[Symbol.iterator]().next().done===true}e.isEmpty=l;function c(e){return e[Symbol.iterator]().next().value}e.first=c;function u(e,t){let n=0;for(const r of e){if(t(r,n++)){return true}}return false}e.some=u;function h(e,t){for(const n of e){if(t(n)){return n}}return undefined}e.find=h;function*d(e,t){for(const n of e){if(t(n)){yield n}}}e.filter=d;function*g(e,t){let n=0;for(const r of e){yield t(r,n++)}}e.map=g;function*f(e,t){let n=0;for(const r of e){yield*t(r,n++)}}e.flatMap=f;function*m(...e){for(const t of e){yield*t}}e.concat=m;function p(e,t,n){let r=n;for(const n of e){r=t(r,n)}return r}e.reduce=p;function*_(e,t,n=e.length){if(t<0){t+=e.length}if(n<0){n+=e.length}else if(n>e.length){n=e.length}for(;t<n;t++){yield e[t]}}e.slice=_;function b(t,n=Number.POSITIVE_INFINITY){const r=[];if(n===0){return[r,t]}const i=t[Symbol.iterator]();for(let t=0;t<n;t++){const t=i.next();if(t.done){return[r,e.empty()]}r.push(t.value)}return[r,{[Symbol.iterator](){return i}}]}e.consume=b;async function C(e){const t=[];for await(const n of e){t.push(n)}return Promise.resolve(t)}e.asyncToArray=C})(r||(r={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LinkedList:()=>i});class r{static{this.Undefined=new r(undefined)}constructor(e){this.element=e;this.next=r.Undefined;this.prev=r.Undefined}}class i{constructor(){this._first=r.Undefined;this._last=r.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===r.Undefined}clear(){let e=this._first;while(e!==r.Undefined){const t=e.next;e.prev=r.Undefined;e.next=r.Undefined;e=t}this._first=r.Undefined;this._last=r.Undefined;this._size=0}unshift(e){return this._insert(e,false)}push(e){return this._insert(e,true)}_insert(e,t){const n=new r(e);if(this._first===r.Undefined){this._first=n;this._last=n}else if(t){const e=this._last;this._last=n;n.prev=e;e.next=n}else{const e=this._first;this._first=n;n.next=e;e.prev=n}this._size+=1;let i=false;return()=>{if(!i){i=true;this._remove(n)}}}shift(){if(this._first===r.Undefined){return undefined}else{const e=this._first.element;this._remove(this._first);return e}}pop(){if(this._last===r.Undefined){return undefined}else{const e=this._last.element;this._remove(this._last);return e}}_remove(e){if(e.prev!==r.Undefined&&e.next!==r.Undefined){const t=e.prev;t.next=e.next;e.next.prev=t}else if(e.prev===r.Undefined&&e.next===r.Undefined){this._first=r.Undefined;this._last=r.Undefined}else if(e.next===r.Undefined){this._last=this._last.prev;this._last.next=r.Undefined}else if(e.prev===r.Undefined){this._first=this._first.next;this._first.prev=r.Undefined}this._size-=1}*[Symbol.iterator](){let e=this._first;while(e!==r.Undefined){yield e.element;e=e.next}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{StopWatch:()=>i});const r=globalThis.performance&&typeof globalThis.performance.now==="function";class i{static create(e){return new i(e)}constructor(e){this._now=r&&e===false?Date.now:globalThis.performance.now.bind(globalThis.performance);this._startTime=this._now();this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now();this._stopTime=-1}elapsed(){if(this._stopTime!==-1){return this._stopTime-this._startTime}return this._now()-this._startTime}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{COI:()=>_,FileAccess:()=>p,RemoteAuthorities:()=>g,Schemas:()=>l,VSCODE_AUTHORITY:()=>f,connectionTokenQueryName:()=>h,matchesScheme:()=>c,matchesSomeScheme:()=>u});var r=n(2);var i=n(10);var s=n(14);var o=n(17);var a=n(18);var l;(function(e){e.inMemory="inmemory";e.vscode="vscode";e.internal="private";e.walkThrough="walkThrough";e.walkThroughSnippet="walkThroughSnippet";e.http="http";e.https="https";e.file="file";e.mailto="mailto";e.untitled="untitled";e.data="data";e.command="command";e.vscodeRemote="vscode-remote";e.vscodeRemoteResource="vscode-remote-resource";e.vscodeManagedRemoteResource="vscode-managed-remote-resource";e.vscodeUserData="vscode-userdata";e.vscodeCustomEditor="vscode-custom-editor";e.vscodeNotebookCell="vscode-notebook-cell";e.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata";e.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff";e.vscodeNotebookCellOutput="vscode-notebook-cell-output";e.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff";e.vscodeNotebookMetadata="vscode-notebook-metadata";e.vscodeInteractiveInput="vscode-interactive-input";e.vscodeSettings="vscode-settings";e.vscodeWorkspaceTrust="vscode-workspace-trust";e.vscodeTerminal="vscode-terminal";e.vscodeChatCodeBlock="vscode-chat-code-block";e.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block";e.vscodeChatSesssion="vscode-chat-editor";e.webviewPanel="webview-panel";e.vscodeWebview="vscode-webview";e.extension="extension";e.vscodeFileResource="vscode-file";e.tmp="tmp";e.vsls="vsls";e.vscodeSourceControl="vscode-scm";e.commentsInput="comment";e.codeSetting="code-setting";e.outputChannel="output"})(l||(l={}));function c(e,t){if(o.URI.isUri(e)){return(0,s.equalsIgnoreCase)(e.scheme,t)}else{return(0,s.startsWithIgnoreCase)(e,t+":")}}function u(e,...t){return t.some(t=>c(e,t))}const h="tkn";class d{constructor(){this._hosts=Object.create(null);this._ports=Object.create(null);this._connectionTokens=Object.create(null);this._preferredWebSchema="http";this._delegate=null;this._serverRootPath="/"}setPreferredWebSchema(e){this._preferredWebSchema=e}get _remoteResourcesPath(){return a.posix.join(this._serverRootPath,l.vscodeRemoteResource)}rewrite(e){if(this._delegate){try{return this._delegate(e)}catch(t){r.onUnexpectedError(t);return e}}const t=e.authority;let n=this._hosts[t];if(n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1){n=`[${n}]`}const s=this._ports[t];const a=this._connectionTokens[t];let c=`path=${encodeURIComponent(e.path)}`;if(typeof a==="string"){c+=`&${h}=${encodeURIComponent(a)}`}return o.URI.from({scheme:i.isWeb?this._preferredWebSchema:l.vscodeRemoteResource,authority:`${n}:${s}`,path:this._remoteResourcesPath,query:c})}}const g=new d;const f="vscode-app";class m{static{this.FALLBACK_AUTHORITY=f}asBrowserUri(e){const t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){if(e.scheme===l.vscodeRemote){return g.rewrite(e)}if(e.scheme===l.file&&(i.isNative||i.webWorkerOrigin===`${l.vscodeFileResource}://${m.FALLBACK_AUTHORITY}`)){return e.with({scheme:l.vscodeFileResource,authority:e.authority||m.FALLBACK_AUTHORITY,query:null,fragment:null})}return e}toUri(e,t){if(o.URI.isUri(e)){return e}if(globalThis._VSCODE_FILE_ROOT){const t=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(t)){return o.URI.joinPath(o.URI.parse(t,true),e)}const n=a.join(t,e);return o.URI.file(n)}return o.URI.parse(t.toUrl(e))}}const p=new m;var _;(function(e){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);e.CoopAndCoep=Object.freeze(t.get("3"));const n="vscode-coi";function r(e){let r;if(typeof e==="string"){r=new URL(e).searchParams}else if(e instanceof URL){r=e.searchParams}else if(o.URI.isUri(e)){r=new URL(e.toString(true)).searchParams}const i=r?.get(n);if(!i){return undefined}return t.get(i)}e.getHeadersFromQuery=r;function i(e,t,r){if(!globalThis.crossOriginIsolated){return}const i=t&&r?"3":r?"2":"1";if(e instanceof URLSearchParams){e.set(n,i)}else{e[n]=i}}e.addSearchParam=i})(_||(_={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LANGUAGE_DEFAULT:()=>s,OS:()=>z,isAndroid:()=>$,isChrome:()=>W,isEdge:()=>j,isFirefox:()=>U,isIOS:()=>A,isLinux:()=>x,isLittleEndian:()=>V,isMacintosh:()=>I,isMobile:()=>O,isNative:()=>T,isSafari:()=>K,isWeb:()=>N,isWebWorker:()=>B,isWindows:()=>E,language:()=>F,setTimeout0:()=>P,setTimeout0IsFaster:()=>M,userAgent:()=>D,webWorkerOrigin:()=>R});var r=n(11);var i=n(13);const s="en";let o=false;let a=false;let l=false;let c=false;let u=false;let h=false;let d=false;let g=false;let f=false;let m=false;let p=undefined;let _=s;let b=s;let C=undefined;let v=undefined;const k=globalThis;let L=undefined;if(typeof k.vscode!=="undefined"&&typeof k.vscode.process!=="undefined"){L=k.vscode.process}else if(typeof i!=="undefined"&&typeof i?.versions?.node==="string"){L=i}const S=typeof L?.versions?.electron==="string";const w=S&&L?.type==="renderer";if(typeof L==="object"){o=L.platform==="win32";a=L.platform==="darwin";l=L.platform==="linux";c=l&&!!L.env["SNAP"]&&!!L.env["SNAP_REVISION"];d=S;f=!!L.env["CI"]||!!L.env["BUILD_ARTIFACTSTAGINGDIRECTORY"];p=s;_=s;const e=L.env["VSCODE_NLS_CONFIG"];if(e){try{const t=JSON.parse(e);p=t.userLocale;b=t.osLocale;_=t.resolvedLanguage||s;C=t.languagePack?.translationsConfigFile}catch(e){}}u=true}else if(typeof navigator==="object"&&!w){v=navigator.userAgent;o=v.indexOf("Windows")>=0;a=v.indexOf("Macintosh")>=0;g=(v.indexOf("Macintosh")>=0||v.indexOf("iPad")>=0||v.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0;l=v.indexOf("Linux")>=0;m=v?.indexOf("Mobi")>=0;h=true;_=r.getNLSLanguage()||s;p=navigator.language.toLowerCase();b=p}else{console.error("Unable to resolve platform.")}let y=0;if(a){y=1}else if(o){y=3}else if(l){y=2}const E=o;const I=a;const x=l;const T=u;const N=h;const B=h&&typeof k.importScripts==="function";const R=B?k.origin:undefined;const A=g;const O=m;const D=v;const F=_;const M=typeof k.postMessage==="function"&&!k.importScripts;const P=(()=>{if(M){const e=[];k.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork){for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.id===t.data.vscodeScheduleAsyncWork){e.splice(n,1);r.callback();return}}}});let t=0;return n=>{const r=++t;e.push({id:r,callback:n});k.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})();const z=a||g?2:o?1:3;let q=true;let H=false;function V(){if(!H){H=true;const e=new Uint8Array(2);e[0]=1;e[1]=2;const t=new Uint16Array(e.buffer);q=t[0]===(2<<8)+1}return q}const W=!!(D&&D.indexOf("Chrome")>=0);const U=!!(D&&D.indexOf("Firefox")>=0);const K=!!(!W&&(D&&D.indexOf("Safari")>=0));const j=!!(D&&D.indexOf("Edg/")>=0);const $=!!(D&&D.indexOf("Android")>=0)},(e,t,n)=>{"use strict";n.r(t);n.d(t,{getNLSLanguage:()=>r.getNLSLanguage,getNLSMessages:()=>r.getNLSMessages,localize:()=>o,localize2:()=>l});var r=n(12);const i=(0,r.getNLSLanguage)()==="pseudo"||typeof document!=="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function s(e,t){let n;if(t.length===0){n=e}else{n=e.replace(/\{(\d+)\}/g,(e,n)=>{const r=n[0];const i=t[r];let s=e;if(typeof i==="string"){s=i}else if(typeof i==="number"||typeof i==="boolean"||i===void 0||i===null){s=String(i)}return s})}if(i){n="［"+n.replace(/[aouei]/g,"$&$&")+"］"}return n}function o(e,t,...n){if(typeof e==="number"){return s(a(e,t),n)}return s(t,n)}function a(e,t){const n=(0,r.getNLSMessages)()?.[e];if(typeof n!=="string"){if(typeof t==="string"){return t}throw new Error(`!!! NLS MISSING: ${e} !!!`)}return n}function l(e,t,...n){let r;if(typeof e==="number"){r=a(e,t)}else{r=t}const i=s(r,n);return{value:i,original:t===r?i:s(t,n)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{getNLSLanguage:()=>i,getNLSMessages:()=>r});function r(){return globalThis._VSCODE_NLS_MESSAGES}function i(){return globalThis._VSCODE_NLS_LANGUAGE}},e=>{var t=e.exports={};var n;var r;function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=i}}catch(e){n=i}try{if(typeof clearTimeout==="function"){r=clearTimeout}else{r=s}}catch(e){r=s}})();function o(e){if(n===setTimeout){return setTimeout(e,0)}if((n===i||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function a(e){if(r===clearTimeout){return clearTimeout(e)}if((r===s||!r)&&clearTimeout){r=clearTimeout;return clearTimeout(e)}try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}var l=[];var c=false;var u;var h=-1;function d(){if(!c||!u){return}c=false;if(u.length){l=u.concat(l)}else{h=-1}if(l.length){g()}}function g(){if(c){return}var e=o(d);c=true;var t=l.length;while(t){u=l;l=[];while(++h<t){if(u){u[h].run()}}h=-1;t=l.length}u=null;c=false;a(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}l.push(new f(e,t));if(l.length===1&&!c){o(g)}};function f(e,t){this.fun=e;this.array=t}f.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=true;t.env={};t.argv=[];t.version="";t.versions={};function m(){}t.on=m;t.addListener=m;t.once=m;t.off=m;t.removeListener=m;t.removeAllListeners=m;t.emit=m;t.prependListener=m;t.prependOnceListener=m;t.listeners=function(e){return[]};t.binding=function(e){throw new Error("process.binding is not supported")};t.cwd=function(){return"/"};t.chdir=function(e){throw new Error("process.chdir is not supported")};t.umask=function(){return 0}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AmbiguousCharacters:()=>ue,CodePointIterator:()=>z,GraphemeIterator:()=>q,InvisibleCharacters:()=>he,UNUSUAL_LINE_TERMINATORS:()=>Q,UTF8_BOM_CHARACTER:()=>J,commonPrefixLength:()=>R,commonSuffixLength:()=>A,compare:()=>S,compareIgnoreCase:()=>y,compareSubstring:()=>w,compareSubstringIgnoreCase:()=>E,computeCodePoint:()=>F,containsRTL:()=>j,containsUnusualLineTerminators:()=>X,containsUppercaseCharacter:()=>te,convertSimple2RegExpPattern:()=>f,createRegExp:()=>p,equalsIgnoreCase:()=>N,escape:()=>c,escapeRegExpCharacters:()=>u,firstNonWhitespaceIndex:()=>v,format:()=>a,getCharContainingOffset:()=>W,getLeadingWhitespace:()=>k,getLeftDeleteOffset:()=>oe,getNextCodePoint:()=>M,htmlAttributeEncodeValue:()=>l,isAsciiDigit:()=>I,isBasicASCII:()=>G,isEmojiImprecise:()=>Z,isFalsyOrWhitespace:()=>s,isFullWidthCharacter:()=>Y,isHighSurrogate:()=>O,isLowSurrogate:()=>D,isLowerAsciiLetter:()=>x,isUpperAsciiLetter:()=>T,lastNonWhitespaceIndex:()=>L,ltrim:()=>d,nextCharLength:()=>H,noBreakWhitespace:()=>ce,prevCharLength:()=>V,regExpLeadsToEndlessLoop:()=>_,rtrim:()=>g,singleLetterHash:()=>ne,splitLines:()=>b,splitLinesIncludeSeparators:()=>C,startsWithIgnoreCase:()=>B,startsWithUTF8BOM:()=>ee,stripWildcards:()=>m,trim:()=>h});var r=n(15);var i=n(16);function s(e){if(!e||typeof e!=="string"){return true}return e.trim().length===0}const o=/{(\d+)}/g;function a(e,...t){if(t.length===0){return e}return e.replace(o,function(e,n){const r=parseInt(n,10);return isNaN(r)||r<0||r>=t.length?e:t[r]})}function l(e){return e.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function c(e){return e.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function u(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function h(e,t=" "){const n=d(e,t);return g(n,t)}function d(e,t){if(!e||!t){return e}const n=t.length;if(n===0||e.length===0){return e}let r=0;while(e.indexOf(t,r)===r){r=r+n}return e.substring(r)}function g(e,t){if(!e||!t){return e}const n=t.length,r=e.length;if(n===0||r===0){return e}let i=r,s=-1;while(true){s=e.lastIndexOf(t,i-1);if(s===-1||s+n!==i){break}if(s===0){return""}i=s}return e.substring(0,i)}function f(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function m(e){return e.replace(/\*/g,"")}function p(e,t,n={}){if(!e){throw new Error("Cannot create regex from empty string")}if(!t){e=u(e)}if(n.wholeWord){if(!/\B/.test(e.charAt(0))){e="\\b"+e}if(!/\B/.test(e.charAt(e.length-1))){e=e+"\\b"}}let r="";if(n.global){r+="g"}if(!n.matchCase){r+="i"}if(n.multiline){r+="m"}if(n.unicode){r+="u"}return new RegExp(e,r)}function _(e){if(e.source==="^"||e.source==="^$"||e.source==="$"||e.source==="^\\s*$"){return false}const t=e.exec("");return!!(t&&e.lastIndex===0)}function b(e){return e.split(/\r\n|\r|\n/)}function C(e){const t=[];const n=e.split(/(\r\n|\r|\n)/);for(let e=0;e<Math.ceil(n.length/2);e++){t.push(n[2*e]+(n[2*e+1]??""))}return t}function v(e){for(let t=0,n=e.length;t<n;t++){const n=e.charCodeAt(t);if(n!==32&&n!==9){return t}}return-1}function k(e,t=0,n=e.length){for(let r=t;r<n;r++){const n=e.charCodeAt(r);if(n!==32&&n!==9){return e.substring(t,r)}}return e.substring(t,n)}function L(e,t=e.length-1){for(let n=t;n>=0;n--){const t=e.charCodeAt(n);if(t!==32&&t!==9){return n}}return-1}function S(e,t){if(e<t){return-1}else if(e>t){return 1}else{return 0}}function w(e,t,n=0,r=e.length,i=0,s=t.length){for(;n<r&&i<s;n++,i++){const r=e.charCodeAt(n);const s=t.charCodeAt(i);if(r<s){return-1}else if(r>s){return 1}}const o=r-n;const a=s-i;if(o<a){return-1}else if(o>a){return 1}return 0}function y(e,t){return E(e,t,0,e.length,0,t.length)}function E(e,t,n=0,r=e.length,i=0,s=t.length){for(;n<r&&i<s;n++,i++){let o=e.charCodeAt(n);let a=t.charCodeAt(i);if(o===a){continue}if(o>=128||a>=128){return w(e.toLowerCase(),t.toLowerCase(),n,r,i,s)}if(x(o)){o-=32}if(x(a)){a-=32}const l=o-a;if(l===0){continue}return l}const o=r-n;const a=s-i;if(o<a){return-1}else if(o>a){return 1}return 0}function I(e){return e>=48&&e<=57}function x(e){return e>=97&&e<=122}function T(e){return e>=65&&e<=90}function N(e,t){return e.length===t.length&&E(e,t)===0}function B(e,t){const n=t.length;if(t.length>e.length){return false}return E(e,t,0,n)===0}function R(e,t){const n=Math.min(e.length,t.length);let r;for(r=0;r<n;r++){if(e.charCodeAt(r)!==t.charCodeAt(r)){return r}}return n}function A(e,t){const n=Math.min(e.length,t.length);let r;const i=e.length-1;const s=t.length-1;for(r=0;r<n;r++){if(e.charCodeAt(i-r)!==t.charCodeAt(s-r)){return r}}return n}function O(e){return 55296<=e&&e<=56319}function D(e){return 56320<=e&&e<=57343}function F(e,t){return(e-55296<<10)+(t-56320)+65536}function M(e,t,n){const r=e.charCodeAt(n);if(O(r)&&n+1<t){const t=e.charCodeAt(n+1);if(D(t)){return F(r,t)}}return r}function P(e,t){const n=e.charCodeAt(t-1);if(D(n)&&t>1){const r=e.charCodeAt(t-2);if(O(r)){return F(r,n)}}return n}class z{get offset(){return this._offset}constructor(e,t=0){this._str=e;this._len=e.length;this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=P(this._str,this._offset);this._offset-=e>=65536?2:1;return e}nextCodePoint(){const e=M(this._str,this._len,this._offset);this._offset+=e>=65536?2:1;return e}eol(){return this._offset>=this._len}}class q{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new z(e,t)}nextGraphemeLength(){const e=ie.getInstance();const t=this._iterator;const n=t.offset;let r=e.getGraphemeBreakType(t.nextCodePoint());while(!t.eol()){const n=t.offset;const i=e.getGraphemeBreakType(t.nextCodePoint());if(re(r,i)){t.setOffset(n);break}r=i}return t.offset-n}prevGraphemeLength(){const e=ie.getInstance();const t=this._iterator;const n=t.offset;let r=e.getGraphemeBreakType(t.prevCodePoint());while(t.offset>0){const n=t.offset;const i=e.getGraphemeBreakType(t.prevCodePoint());if(re(i,r)){t.setOffset(n);break}r=i}return n-t.offset}eol(){return this._iterator.eol()}}function H(e,t){const n=new q(e,t);return n.nextGraphemeLength()}function V(e,t){const n=new q(e,t);return n.prevGraphemeLength()}function W(e,t){if(t>0&&D(e.charCodeAt(t))){t--}const n=t+H(e,t);const r=n-V(e,n);return[r,n]}let U=undefined;function K(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function j(e){if(!U){U=K()}return U.test(e)}const $=/^[\t\n\r\x20-\x7E]*$/;function G(e){return $.test(e)}const Q=/[\u2028\u2029]/;function X(e){return Q.test(e)}function Y(e){return e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function Z(e){return e>=127462&&e<=127487||e===8986||e===8987||e===9200||e===9203||e>=9728&&e<=10175||e===11088||e===11093||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129008||e>=129280&&e<=129535||e>=129648&&e<=129782}const J=String.fromCharCode(65279);function ee(e){return!!(e&&e.length>0&&e.charCodeAt(0)===65279)}function te(e,t=false){if(!e){return false}if(t){e=e.replace(/\\./g,"")}return e.toLowerCase()!==e}function ne(e){const t=90-65+1;e=e%(2*t);if(e<t){return String.fromCharCode(97+e)}return String.fromCharCode(65+e-t)}function re(e,t){if(e===0){return t!==5&&t!==7}if(e===2){if(t===3){return false}}if(e===4||e===2||e===3){return true}if(t===4||t===2||t===3){return true}if(e===8){if(t===8||t===9||t===11||t===12){return false}}if(e===11||e===9){if(t===9||t===10){return false}}if(e===12||e===10){if(t===10){return false}}if(t===5||t===13){return false}if(t===7){return false}if(e===1){return false}if(e===13&&t===14){return false}if(e===6&&t===6){return false}return true}class ie{static{this._INSTANCE=null}static getInstance(){if(!ie._INSTANCE){ie._INSTANCE=new ie}return ie._INSTANCE}constructor(){this._data=se()}getGraphemeBreakType(e){if(e<32){if(e===10){return 3}if(e===13){return 2}return 4}if(e<127){return 0}const t=this._data;const n=t.length/3;let r=1;while(r<=n){if(e<t[3*r]){r=2*r}else if(e>t[3*r+1]){r=2*r+1}else{return t[3*r+2]}}return 0}}function se(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function oe(e,t){if(e===0){return 0}const n=ae(e,t);if(n!==undefined){return n}const r=new z(t,e);r.prevCodePoint();return r.offset}function ae(e,t){const n=new z(t,e);let r=n.prevCodePoint();while(le(r)||r===65039||r===8419){if(n.offset===0){return undefined}r=n.prevCodePoint()}if(!Z(r)){return undefined}let i=n.offset;if(i>0){const e=n.prevCodePoint();if(e===8205){i=n.offset}}return i}function le(e){return 127995<=e&&e<=127999}const ce=" ";class ue{static{this.ambiguousCharacterData=new i.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new r.LRUCachedFunction({getCacheKey:JSON.stringify},e=>{function t(e){const t=new Map;for(let n=0;n<e.length;n+=2){t.set(e[n],e[n+1])}return t}function n(e,t){const n=new Map(e);for(const[e,r]of t){n.set(e,r)}return n}function r(e,t){if(!e){return t}const n=new Map;for(const[r,i]of e){if(t.has(r)){n.set(r,i)}}return n}const i=this.ambiguousCharacterData.value;let s=e.filter(e=>!e.startsWith("_")&&e in i);if(s.length===0){s=["_default"]}let o=undefined;for(const e of s){const n=t(i[e]);o=r(o,n)}const a=t(i["_common"]);const l=n(a,o);return new ue(l)})}static getInstance(e){return ue.cache.get(Array.from(e))}static{this._locales=new i.Lazy(()=>Object.keys(ue.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")))}static getLocales(){return ue._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class he{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=undefined}static getData(){if(!this._data){this._data=new Set(he.getRawData())}return this._data}static isInvisibleCharacter(e){return he.getData().has(e)}static get codePoints(){return he.getData()}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{CachedFunction:()=>s,LRUCachedFunction:()=>i,identity:()=>r});function r(e){return e}class i{constructor(e,t){this.lastCache=undefined;this.lastArgKey=undefined;if(typeof e==="function"){this._fn=e;this._computeKey=r}else{this._fn=t;this._computeKey=e.getCacheKey}}get(e){const t=this._computeKey(e);if(this.lastArgKey!==t){this.lastArgKey=t;this.lastCache=this._fn(e)}return this.lastCache}}class s{get cachedValues(){return this._map}constructor(e,t){this._map=new Map;this._map2=new Map;if(typeof e==="function"){this._fn=e;this._computeKey=r}else{this._fn=t;this._computeKey=e.getCacheKey}}get(e){const t=this._computeKey(e);if(this._map2.has(t)){return this._map2.get(t)}const n=this._fn(e);this._map.set(e,n);this._map2.set(t,n);return n}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Lazy:()=>r});class r{constructor(e){this.executor=e;this._didRun=false}get value(){if(!this._didRun){try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=true}}if(this._error){throw this._error}return this._value}get rawValue(){return this._value}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{URI:()=>f,uriToFsPath:()=>v});var r=n(18);var i=n(10);const s=/^\w[\w\d+.-]*$/;const o=/^\//;const a=/^\/\//;function l(e,t){if(!e.scheme&&t){throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`)}if(e.scheme&&!s.test(e.scheme)){throw new Error("[UriError]: Scheme contains illegal characters.")}if(e.path){if(e.authority){if(!o.test(e.path)){throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}}else{if(a.test(e.path)){throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}}}function c(e,t){if(!e&&!t){return"file"}return e}function u(e,t){switch(e){case"https":case"http":case"file":if(!t){t=d}else if(t[0]!==d){t=d+t}break}return t}const h="";const d="/";const g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(e){if(e instanceof f){return true}if(!e){return false}return typeof e.authority==="string"&&typeof e.fragment==="string"&&typeof e.path==="string"&&typeof e.query==="string"&&typeof e.scheme==="string"&&typeof e.fsPath==="string"&&typeof e.with==="function"&&typeof e.toString==="function"}constructor(e,t,n,r,i,s=false){if(typeof e==="object"){this.scheme=e.scheme||h;this.authority=e.authority||h;this.path=e.path||h;this.query=e.query||h;this.fragment=e.fragment||h}else{this.scheme=c(e,s);this.authority=t||h;this.path=u(this.scheme,n||h);this.query=r||h;this.fragment=i||h;l(this,s)}}get fsPath(){return v(this,false)}with(e){if(!e){return this}let{scheme:t,authority:n,path:r,query:i,fragment:s}=e;if(t===undefined){t=this.scheme}else if(t===null){t=h}if(n===undefined){n=this.authority}else if(n===null){n=h}if(r===undefined){r=this.path}else if(r===null){r=h}if(i===undefined){i=this.query}else if(i===null){i=h}if(s===undefined){s=this.fragment}else if(s===null){s=h}if(t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&s===this.fragment){return this}return new p(t,n,r,i,s)}static parse(e,t=false){const n=g.exec(e);if(!n){return new p(h,h,h,h,h)}return new p(n[2]||h,w(n[4]||h),w(n[5]||h),w(n[7]||h),w(n[9]||h),t)}static file(e){let t=h;if(i.isWindows){e=e.replace(/\\/g,d)}if(e[0]===d&&e[1]===d){const n=e.indexOf(d,2);if(n===-1){t=e.substring(2);e=d}else{t=e.substring(2,n);e=e.substring(n)||d}}return new p("file",t,e,h,h)}static from(e,t){const n=new p(e.scheme,e.authority,e.path,e.query,e.fragment,t);return n}static joinPath(e,...t){if(!e.path){throw new Error(`[UriError]: cannot call joinPath on URI without path`)}let n;if(i.isWindows&&e.scheme==="file"){n=f.file(r.win32.join(v(e,true),...t)).path}else{n=r.posix.join(e.path,...t)}return e.with({path:n})}toString(e=false){return k(this,e)}toJSON(){return this}static revive(e){if(!e){return e}else if(e instanceof f){return e}else{const t=new p(e);t._formatted=e.external??null;t._fsPath=e._sep===m?e.fsPath??null:null;return t}}}const m=i.isWindows?1:undefined;class p extends f{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}get fsPath(){if(!this._fsPath){this._fsPath=v(this,false)}return this._fsPath}toString(e=false){if(!e){if(!this._formatted){this._formatted=k(this,false)}return this._formatted}else{return k(this,true)}}toJSON(){const e={$mid:1};if(this._fsPath){e.fsPath=this._fsPath;e._sep=m}if(this._formatted){e.external=this._formatted}if(this.path){e.path=this.path}if(this.scheme){e.scheme=this.scheme}if(this.authority){e.authority=this.authority}if(this.query){e.query=this.query}if(this.fragment){e.fragment=this.fragment}return e}}const _={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function b(e,t,n){let r=undefined;let i=-1;for(let s=0;s<e.length;s++){const o=e.charCodeAt(s);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||t&&o===47||n&&o===91||n&&o===93||n&&o===58){if(i!==-1){r+=encodeURIComponent(e.substring(i,s));i=-1}if(r!==undefined){r+=e.charAt(s)}}else{if(r===undefined){r=e.substr(0,s)}const t=_[o];if(t!==undefined){if(i!==-1){r+=encodeURIComponent(e.substring(i,s));i=-1}r+=t}else if(i===-1){i=s}}}if(i!==-1){r+=encodeURIComponent(e.substring(i))}return r!==undefined?r:e}function C(e){let t=undefined;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r===35||r===63){if(t===undefined){t=e.substr(0,n)}t+=_[r]}else{if(t!==undefined){t+=e[n]}}}return t!==undefined?t:e}function v(e,t){let n;if(e.authority&&e.path.length>1&&e.scheme==="file"){n=`//${e.authority}${e.path}`}else if(e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58){if(!t){n=e.path[1].toLowerCase()+e.path.substr(2)}else{n=e.path.substr(1)}}else{n=e.path}if(i.isWindows){n=n.replace(/\//g,"\\")}return n}function k(e,t){const n=!t?b:C;let r="";let{scheme:i,authority:s,path:o,query:a,fragment:l}=e;if(i){r+=i;r+=":"}if(s||i==="file"){r+=d;r+=d}if(s){let e=s.indexOf("@");if(e!==-1){const t=s.substr(0,e);s=s.substr(e+1);e=t.lastIndexOf(":");if(e===-1){r+=n(t,false,false)}else{r+=n(t.substr(0,e),false,false);r+=":";r+=n(t.substr(e+1),false,true)}r+="@"}s=s.toLowerCase();e=s.lastIndexOf(":");if(e===-1){r+=n(s,false,true)}else{r+=n(s.substr(0,e),false,true);r+=s.substr(e)}}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){const e=o.charCodeAt(1);if(e>=65&&e<=90){o=`/${String.fromCharCode(e+32)}:${o.substr(3)}`}}else if(o.length>=2&&o.charCodeAt(1)===58){const e=o.charCodeAt(0);if(e>=65&&e<=90){o=`${String.fromCharCode(e+32)}:${o.substr(2)}`}}r+=n(o,true,false)}if(a){r+="?";r+=n(a,false,false)}if(l){r+="#";r+=!t?b(l,false,false):l}return r}function L(e){try{return decodeURIComponent(e)}catch{if(e.length>3){return e.substr(0,3)+L(e.substr(3))}else{return e}}}const S=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(e){if(!e.match(S)){return e}return e.replace(S,e=>L(e))}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{basename:()=>B,dirname:()=>N,extname:()=>R,join:()=>I,normalize:()=>E,posix:()=>y,relative:()=>T,resolve:()=>x,sep:()=>A,win32:()=>S});var r=n(19);const i=65;const s=97;const o=90;const a=122;const l=46;const c=47;const u=92;const h=58;const d=63;class g extends Error{constructor(e,t,n){let r;if(typeof t==="string"&&t.indexOf("not ")===0){r="must not be";t=t.replace(/^not /,"")}else{r="must be"}const i=e.indexOf(".")!==-1?"property":"argument";let s=`The "${e}" ${i} ${r} of type ${t}`;s+=`. Received type ${typeof n}`;super(s);this.code="ERR_INVALID_ARG_TYPE"}}function f(e,t){if(e===null||typeof e!=="object"){throw new g(t,"Object",e)}}function m(e,t){if(typeof e!=="string"){throw new g(t,"string",e)}}const p=r.platform==="win32";function _(e){return e===c||e===u}function b(e){return e===c}function C(e){return e>=i&&e<=o||e>=s&&e<=a}function v(e,t,n,r){let i="";let s=0;let o=-1;let a=0;let u=0;for(let h=0;h<=e.length;++h){if(h<e.length){u=e.charCodeAt(h)}else if(r(u)){break}else{u=c}if(r(u)){if(o===h-1||a===1){}else if(a===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==l||i.charCodeAt(i.length-2)!==l){if(i.length>2){const e=i.lastIndexOf(n);if(e===-1){i="";s=0}else{i=i.slice(0,e);s=i.length-1-i.lastIndexOf(n)}o=h;a=0;continue}else if(i.length!==0){i="";s=0;o=h;a=0;continue}}if(t){i+=i.length>0?`${n}..`:"..";s=2}}else{if(i.length>0){i+=`${n}${e.slice(o+1,h)}`}else{i=e.slice(o+1,h)}s=h-o-1}o=h;a=0}else if(u===l&&a!==-1){++a}else{a=-1}}return i}function k(e){return e?`${e[0]==="."?"":"."}${e}`:""}function L(e,t){f(t,"pathObject");const n=t.dir||t.root;const r=t.base||`${t.name||""}${k(t.ext)}`;if(!n){return r}return n===t.root?`${n}${r}`:`${n}${e}${r}`}const S={resolve(...e){let t="";let n="";let i=false;for(let s=e.length-1;s>=-1;s--){let o;if(s>=0){o=e[s];m(o,`paths[${s}]`);if(o.length===0){continue}}else if(t.length===0){o=r.cwd()}else{o=r.env[`=${t}`]||r.cwd();if(o===undefined||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===u){o=`${t}\\`}}const a=o.length;let l=0;let c="";let d=false;const g=o.charCodeAt(0);if(a===1){if(_(g)){l=1;d=true}}else if(_(g)){d=true;if(_(o.charCodeAt(1))){let e=2;let t=e;while(e<a&&!_(o.charCodeAt(e))){e++}if(e<a&&e!==t){const n=o.slice(t,e);t=e;while(e<a&&_(o.charCodeAt(e))){e++}if(e<a&&e!==t){t=e;while(e<a&&!_(o.charCodeAt(e))){e++}if(e===a||e!==t){c=`\\\\${n}\\${o.slice(t,e)}`;l=e}}}}else{l=1}}else if(C(g)&&o.charCodeAt(1)===h){c=o.slice(0,2);l=2;if(a>2&&_(o.charCodeAt(2))){d=true;l=3}}if(c.length>0){if(t.length>0){if(c.toLowerCase()!==t.toLowerCase()){continue}}else{t=c}}if(i){if(t.length>0){break}}else{n=`${o.slice(l)}\\${n}`;i=d;if(d&&t.length>0){break}}}n=v(n,!i,"\\",_);return i?`${t}\\${n}`:`${t}${n}`||"."},normalize(e){m(e,"path");const t=e.length;if(t===0){return"."}let n=0;let r;let i=false;const s=e.charCodeAt(0);if(t===1){return b(s)?"\\":e}if(_(s)){i=true;if(_(e.charCodeAt(1))){let i=2;let s=i;while(i<t&&!_(e.charCodeAt(i))){i++}if(i<t&&i!==s){const o=e.slice(s,i);s=i;while(i<t&&_(e.charCodeAt(i))){i++}if(i<t&&i!==s){s=i;while(i<t&&!_(e.charCodeAt(i))){i++}if(i===t){return`\\\\${o}\\${e.slice(s)}\\`}if(i!==s){r=`\\\\${o}\\${e.slice(s,i)}`;n=i}}}}else{n=1}}else if(C(s)&&e.charCodeAt(1)===h){r=e.slice(0,2);n=2;if(t>2&&_(e.charCodeAt(2))){i=true;n=3}}let o=n<t?v(e.slice(n),!i,"\\",_):"";if(o.length===0&&!i){o="."}if(o.length>0&&_(e.charCodeAt(t-1))){o+="\\"}if(r===undefined){return i?`\\${o}`:o}return i?`${r}\\${o}`:`${r}${o}`},isAbsolute(e){m(e,"path");const t=e.length;if(t===0){return false}const n=e.charCodeAt(0);return _(n)||t>2&&C(n)&&e.charCodeAt(1)===h&&_(e.charCodeAt(2))},join(...e){if(e.length===0){return"."}let t;let n;for(let r=0;r<e.length;++r){const i=e[r];m(i,"path");if(i.length>0){if(t===undefined){t=n=i}else{t+=`\\${i}`}}}if(t===undefined){return"."}let r=true;let i=0;if(typeof n==="string"&&_(n.charCodeAt(0))){++i;const e=n.length;if(e>1&&_(n.charCodeAt(1))){++i;if(e>2){if(_(n.charCodeAt(2))){++i}else{r=false}}}}if(r){while(i<t.length&&_(t.charCodeAt(i))){i++}if(i>=2){t=`\\${t.slice(i)}`}}return S.normalize(t)},relative(e,t){m(e,"from");m(t,"to");if(e===t){return""}const n=S.resolve(e);const r=S.resolve(t);if(n===r){return""}e=n.toLowerCase();t=r.toLowerCase();if(e===t){return""}let i=0;while(i<e.length&&e.charCodeAt(i)===u){i++}let s=e.length;while(s-1>i&&e.charCodeAt(s-1)===u){s--}const o=s-i;let a=0;while(a<t.length&&t.charCodeAt(a)===u){a++}let l=t.length;while(l-1>a&&t.charCodeAt(l-1)===u){l--}const c=l-a;const h=o<c?o:c;let d=-1;let g=0;for(;g<h;g++){const n=e.charCodeAt(i+g);if(n!==t.charCodeAt(a+g)){break}else if(n===u){d=g}}if(g!==h){if(d===-1){return r}}else{if(c>h){if(t.charCodeAt(a+g)===u){return r.slice(a+g+1)}if(g===2){return r.slice(a+g)}}if(o>h){if(e.charCodeAt(i+g)===u){d=g}else if(g===2){d=3}}if(d===-1){d=0}}let f="";for(g=i+d+1;g<=s;++g){if(g===s||e.charCodeAt(g)===u){f+=f.length===0?"..":"\\.."}}a+=d;if(f.length>0){return`${f}${r.slice(a,l)}`}if(r.charCodeAt(a)===u){++a}return r.slice(a,l)},toNamespacedPath(e){if(typeof e!=="string"||e.length===0){return e}const t=S.resolve(e);if(t.length<=2){return e}if(t.charCodeAt(0)===u){if(t.charCodeAt(1)===u){const e=t.charCodeAt(2);if(e!==d&&e!==l){return`\\\\?\\UNC\\${t.slice(2)}`}}}else if(C(t.charCodeAt(0))&&t.charCodeAt(1)===h&&t.charCodeAt(2)===u){return`\\\\?\\${t}`}return e},dirname(e){m(e,"path");const t=e.length;if(t===0){return"."}let n=-1;let r=0;const i=e.charCodeAt(0);if(t===1){return _(i)?e:"."}if(_(i)){n=r=1;if(_(e.charCodeAt(1))){let i=2;let s=i;while(i<t&&!_(e.charCodeAt(i))){i++}if(i<t&&i!==s){s=i;while(i<t&&_(e.charCodeAt(i))){i++}if(i<t&&i!==s){s=i;while(i<t&&!_(e.charCodeAt(i))){i++}if(i===t){return e}if(i!==s){n=r=i+1}}}}}else if(C(i)&&e.charCodeAt(1)===h){n=t>2&&_(e.charCodeAt(2))?3:2;r=n}let s=-1;let o=true;for(let n=t-1;n>=r;--n){if(_(e.charCodeAt(n))){if(!o){s=n;break}}else{o=false}}if(s===-1){if(n===-1){return"."}s=n}return e.slice(0,s)},basename(e,t){if(t!==undefined){m(t,"suffix")}m(e,"path");let n=0;let r=-1;let i=true;let s;if(e.length>=2&&C(e.charCodeAt(0))&&e.charCodeAt(1)===h){n=2}if(t!==undefined&&t.length>0&&t.length<=e.length){if(t===e){return""}let o=t.length-1;let a=-1;for(s=e.length-1;s>=n;--s){const l=e.charCodeAt(s);if(_(l)){if(!i){n=s+1;break}}else{if(a===-1){i=false;a=s+1}if(o>=0){if(l===t.charCodeAt(o)){if(--o===-1){r=s}}else{o=-1;r=a}}}}if(n===r){r=a}else if(r===-1){r=e.length}return e.slice(n,r)}for(s=e.length-1;s>=n;--s){if(_(e.charCodeAt(s))){if(!i){n=s+1;break}}else if(r===-1){i=false;r=s+1}}if(r===-1){return""}return e.slice(n,r)},extname(e){m(e,"path");let t=0;let n=-1;let r=0;let i=-1;let s=true;let o=0;if(e.length>=2&&e.charCodeAt(1)===h&&C(e.charCodeAt(0))){t=r=2}for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(_(t)){if(!s){r=a+1;break}continue}if(i===-1){s=false;i=a+1}if(t===l){if(n===-1){n=a}else if(o!==1){o=1}}else if(n!==-1){o=-1}}if(n===-1||i===-1||o===0||o===1&&n===i-1&&n===r+1){return""}return e.slice(n,i)},format:L.bind(null,"\\"),parse(e){m(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0){return t}const n=e.length;let r=0;let i=e.charCodeAt(0);if(n===1){if(_(i)){t.root=t.dir=e;return t}t.base=t.name=e;return t}if(_(i)){r=1;if(_(e.charCodeAt(1))){let t=2;let i=t;while(t<n&&!_(e.charCodeAt(t))){t++}if(t<n&&t!==i){i=t;while(t<n&&_(e.charCodeAt(t))){t++}if(t<n&&t!==i){i=t;while(t<n&&!_(e.charCodeAt(t))){t++}if(t===n){r=t}else if(t!==i){r=t+1}}}}}else if(C(i)&&e.charCodeAt(1)===h){if(n<=2){t.root=t.dir=e;return t}r=2;if(_(e.charCodeAt(2))){if(n===3){t.root=t.dir=e;return t}r=3}}if(r>0){t.root=e.slice(0,r)}let s=-1;let o=r;let a=-1;let c=true;let u=e.length-1;let d=0;for(;u>=r;--u){i=e.charCodeAt(u);if(_(i)){if(!c){o=u+1;break}continue}if(a===-1){c=false;a=u+1}if(i===l){if(s===-1){s=u}else if(d!==1){d=1}}else if(s!==-1){d=-1}}if(a!==-1){if(s===-1||d===0||d===1&&s===a-1&&s===o+1){t.base=t.name=e.slice(o,a)}else{t.name=e.slice(o,s);t.base=e.slice(o,a);t.ext=e.slice(s,a)}}if(o>0&&o!==r){t.dir=e.slice(0,o-1)}else{t.dir=t.root}return t},sep:"\\",delimiter:";",win32:null,posix:null};const w=(()=>{if(p){const e=/\\/g;return()=>{const t=r.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>r.cwd()})();const y={resolve(...e){let t="";let n=false;for(let r=e.length-1;r>=-1&&!n;r--){const i=r>=0?e[r]:w();m(i,`paths[${r}]`);if(i.length===0){continue}t=`${i}/${t}`;n=i.charCodeAt(0)===c}t=v(t,!n,"/",b);if(n){return`/${t}`}return t.length>0?t:"."},normalize(e){m(e,"path");if(e.length===0){return"."}const t=e.charCodeAt(0)===c;const n=e.charCodeAt(e.length-1)===c;e=v(e,!t,"/",b);if(e.length===0){if(t){return"/"}return n?"./":"."}if(n){e+="/"}return t?`/${e}`:e},isAbsolute(e){m(e,"path");return e.length>0&&e.charCodeAt(0)===c},join(...e){if(e.length===0){return"."}let t;for(let n=0;n<e.length;++n){const r=e[n];m(r,"path");if(r.length>0){if(t===undefined){t=r}else{t+=`/${r}`}}}if(t===undefined){return"."}return y.normalize(t)},relative(e,t){m(e,"from");m(t,"to");if(e===t){return""}e=y.resolve(e);t=y.resolve(t);if(e===t){return""}const n=1;const r=e.length;const i=r-n;const s=1;const o=t.length-s;const a=i<o?i:o;let l=-1;let u=0;for(;u<a;u++){const r=e.charCodeAt(n+u);if(r!==t.charCodeAt(s+u)){break}else if(r===c){l=u}}if(u===a){if(o>a){if(t.charCodeAt(s+u)===c){return t.slice(s+u+1)}if(u===0){return t.slice(s+u)}}else if(i>a){if(e.charCodeAt(n+u)===c){l=u}else if(u===0){l=0}}}let h="";for(u=n+l+1;u<=r;++u){if(u===r||e.charCodeAt(u)===c){h+=h.length===0?"..":"/.."}}return`${h}${t.slice(s+l)}`},toNamespacedPath(e){return e},dirname(e){m(e,"path");if(e.length===0){return"."}const t=e.charCodeAt(0)===c;let n=-1;let r=true;for(let t=e.length-1;t>=1;--t){if(e.charCodeAt(t)===c){if(!r){n=t;break}}else{r=false}}if(n===-1){return t?"/":"."}if(t&&n===1){return"//"}return e.slice(0,n)},basename(e,t){if(t!==undefined){m(t,"ext")}m(e,"path");let n=0;let r=-1;let i=true;let s;if(t!==undefined&&t.length>0&&t.length<=e.length){if(t===e){return""}let o=t.length-1;let a=-1;for(s=e.length-1;s>=0;--s){const l=e.charCodeAt(s);if(l===c){if(!i){n=s+1;break}}else{if(a===-1){i=false;a=s+1}if(o>=0){if(l===t.charCodeAt(o)){if(--o===-1){r=s}}else{o=-1;r=a}}}}if(n===r){r=a}else if(r===-1){r=e.length}return e.slice(n,r)}for(s=e.length-1;s>=0;--s){if(e.charCodeAt(s)===c){if(!i){n=s+1;break}}else if(r===-1){i=false;r=s+1}}if(r===-1){return""}return e.slice(n,r)},extname(e){m(e,"path");let t=-1;let n=0;let r=-1;let i=true;let s=0;for(let o=e.length-1;o>=0;--o){const a=e.charCodeAt(o);if(a===c){if(!i){n=o+1;break}continue}if(r===-1){i=false;r=o+1}if(a===l){if(t===-1){t=o}else if(s!==1){s=1}}else if(t!==-1){s=-1}}if(t===-1||r===-1||s===0||s===1&&t===r-1&&t===n+1){return""}return e.slice(t,r)},format:L.bind(null,"/"),parse(e){m(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0){return t}const n=e.charCodeAt(0)===c;let r;if(n){t.root="/";r=1}else{r=0}let i=-1;let s=0;let o=-1;let a=true;let u=e.length-1;let h=0;for(;u>=r;--u){const t=e.charCodeAt(u);if(t===c){if(!a){s=u+1;break}continue}if(o===-1){a=false;o=u+1}if(t===l){if(i===-1){i=u}else if(h!==1){h=1}}else if(i!==-1){h=-1}}if(o!==-1){const r=s===0&&n?1:s;if(i===-1||h===0||h===1&&i===o-1&&i===s+1){t.base=t.name=e.slice(r,o)}else{t.name=e.slice(r,i);t.base=e.slice(r,o);t.ext=e.slice(i,o)}}if(s>0){t.dir=e.slice(0,s-1)}else if(n){t.dir="/"}return t},sep:"/",delimiter:":",win32:null,posix:null};y.win32=S.win32=S;y.posix=S.posix=y;const E=p?S.normalize:y.normalize;const I=p?S.join:y.join;const x=p?S.resolve:y.resolve;const T=p?S.relative:y.relative;const N=p?S.dirname:y.dirname;const B=p?S.basename:y.basename;const R=p?S.extname:y.extname;const A=p?S.sep:y.sep},(e,t,n)=>{"use strict";n.r(t);n.d(t,{cwd:()=>a,env:()=>l,platform:()=>c});var r=n(10);var i=n(13);let s;const o=globalThis.vscode;if(typeof o!=="undefined"&&typeof o.process!=="undefined"){const e=o.process;s={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else if(typeof i!=="undefined"&&typeof i?.versions?.node==="string"){s={get platform(){return i.platform},get arch(){return i.arch},get env(){return i.env},cwd(){return i.env["VSCODE_CWD"]||i.cwd()}}}else{s={get platform(){return r.isWindows?"win32":r.isMacintosh?"darwin":"linux"},get arch(){return undefined},get env(){return{}},cwd(){return"/"}}}const a=s.cwd;const l=s.env;const c=s.platform},(e,t,n)=>{var r={"./simpleWorker":1,"./simpleWorker.js":1};function i(e){return Promise.resolve().then(()=>{if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}var i=r[e];return n(i)})}i.keys=()=>Object.keys(r);i.id=20;e.exports=i},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BaseEditorSimpleWorker:()=>b,EditorSimpleWorker:()=>C,create:()=>v});var r=n(22);var i=n(25);var s=n(27);var o=n(30);var a=n(31);var l=n(42);var c=n(8);var u=n(43);var h=n(51);var d=n(48);var g=n(9);var f=n(71);var m=n(73);var p=n(75);const _=true;class b{constructor(){this._workerTextModelSyncServer=new p.WorkerTextModelSyncServer}dispose(){}_getModel(e){return this._workerTextModelSyncServer.getModel(e)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(e){this._workerTextModelSyncServer.$acceptNewModel(e)}$acceptModelChanged(e,t){this._workerTextModelSyncServer.$acceptModelChanged(e,t)}$acceptRemovedModel(e){this._workerTextModelSyncServer.$acceptRemovedModel(e)}async $computeUnicodeHighlights(e,t,n){const r=this._getModel(e);if(!r){return{ranges:[],hasMore:false,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}return u.UnicodeTextModelHighlighter.computeUnicodeHighlights(r,t,n)}async $findSectionHeaders(e,t){const n=this._getModel(e);if(!n){return[]}return(0,m.findSectionHeaders)(n,t)}async $computeDiff(e,t,n,r){const i=this._getModel(e);const s=this._getModel(t);if(!i||!s){return null}const o=C.computeDiff(i,s,n,r);return o}static computeDiff(e,t,n,r){const i=r==="advanced"?h.linesDiffComputers.getDefault():h.linesDiffComputers.getLegacy();const s=e.getLinesContent();const o=t.getLinesContent();const a=i.computeDiff(s,o,n);const l=a.changes.length>0?false:this._modelsAreIdentical(e,t);function c(e){return e.map(e=>[e.original.startLineNumber,e.original.endLineNumberExclusive,e.modified.startLineNumber,e.modified.endLineNumberExclusive,e.innerChanges?.map(e=>[e.originalRange.startLineNumber,e.originalRange.startColumn,e.originalRange.endLineNumber,e.originalRange.endColumn,e.modifiedRange.startLineNumber,e.modifiedRange.startColumn,e.modifiedRange.endLineNumber,e.modifiedRange.endColumn])])}return{identical:l,quitEarly:a.hitTimeout,changes:c(a.changes),moves:a.moves.map(e=>[e.lineRangeMapping.original.startLineNumber,e.lineRangeMapping.original.endLineNumberExclusive,e.lineRangeMapping.modified.startLineNumber,e.lineRangeMapping.modified.endLineNumberExclusive,c(e.changes)])}}static _modelsAreIdentical(e,t){const n=e.getLineCount();const r=t.getLineCount();if(n!==r){return false}for(let r=1;r<=n;r++){const n=e.getLineContent(r);const i=t.getLineContent(r);if(n!==i){return false}}return true}static{this._diffLimit=1e5}async $computeMoreMinimalEdits(e,t,n){const s=this._getModel(e);if(!s){return t}const o=[];let a=undefined;t=t.slice(0).sort((e,t)=>{if(e.range&&t.range){return i.Range.compareRangesUsingStarts(e.range,t.range)}const n=e.range?0:1;const r=t.range?0:1;return n-r});let l=0;for(let e=1;e<t.length;e++){if(i.Range.getEndPosition(t[l].range).equals(i.Range.getStartPosition(t[e].range))){t[l].range=i.Range.fromPositions(i.Range.getStartPosition(t[l].range),i.Range.getEndPosition(t[e].range));t[l].text+=t[e].text}else{l++;t[l]=t[e]}}t.length=l+1;for(let{range:e,text:l,eol:c}of t){if(typeof c==="number"){a=c}if(i.Range.isEmpty(e)&&!l){continue}const t=s.getValueInRange(e);l=l.replace(/\r\n|\n|\r/g,s.eol);if(t===l){continue}if(Math.max(l.length,t.length)>C._diffLimit){o.push({range:e,text:l});continue}const u=(0,r.stringDiff)(t,l,n);const h=s.offsetAt(i.Range.lift(e).getStartPosition());for(const e of u){const t=s.positionAt(h+e.originalStart);const n=s.positionAt(h+e.originalStart+e.originalLength);const r={text:l.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}};if(s.getValueInRange(r.range)!==r.text){o.push(r)}}}if(typeof a==="number"){o.push({eol:a,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}})}return o}async $computeLinks(e){const t=this._getModel(e);if(!t){return null}return(0,s.computeLinks)(t)}async $computeDefaultDocumentColors(e){const t=this._getModel(e);if(!t){return null}return(0,f.computeDefaultDocumentColors)(t)}static{this._suggestionsLimit=1e4}async $textualSuggest(e,t,n,r){const i=new c.StopWatch;const s=new RegExp(n,r);const o=new Set;e:for(const n of e){const e=this._getModel(n);if(!e){continue}for(const n of e.words(s)){if(n===t||!isNaN(Number(n))){continue}o.add(n);if(o.size>C._suggestionsLimit){break e}}}return{words:Array.from(o),duration:i.elapsed()}}async $computeWordRanges(e,t,n,r){const i=this._getModel(e);if(!i){return Object.create(null)}const s=new RegExp(n,r);const o=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){const t=i.getLineWords(e,s);for(const n of t){if(!isNaN(Number(n.word))){continue}let t=o[n.word];if(!t){t=[];o[n.word]=t}t.push({startLineNumber:e,startColumn:n.startColumn,endLineNumber:e,endColumn:n.endColumn})}}return o}async $navigateValueSet(e,t,n,r,i){const s=this._getModel(e);if(!s){return null}const a=new RegExp(r,i);if(t.startColumn===t.endColumn){t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1}}const l=s.getValueInRange(t);const c=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!c){return null}const u=s.getValueInRange(c);const h=o.BasicInplaceReplace.INSTANCE.navigateValueSet(t,l,c,u,n);return h}}class C extends b{constructor(e,t){super();this._host=e;this._foreignModuleFactory=t;this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(e,t,r){const i=(e,t)=>this._host.$fhr(e,t);const s=(0,d.createProxyObject)(r,i);const o={host:s,getMirrorModels:()=>this._getModels()};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(o,t);return Promise.resolve((0,d.getAllMethodNames)(this._foreignModule))}return new Promise((r,i)=>{const s=e=>{this._foreignModule=e.create(o,t);r((0,d.getAllMethodNames)(this._foreignModule))};if(!_){Promise.resolve().then(function(){var t=[n(80)(`${e}`)];s.apply(null,t)}.bind(this))["catch"](i.bind(this))}else{const t=g.FileAccess.asBrowserUri(`${e}.js`).toString(true);n(74)(`${t}`).then(s).catch(i)}})}$fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!=="function"){return Promise.reject(new Error("Missing requestHandler or method: "+e))}try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return Promise.reject(e)}}}function v(e){return new C(l.EditorWorkerHost.getChannel(e),null)}if(typeof importScripts==="function"){globalThis.monaco=(0,a.createMonacoBaseAPI)()}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LcsDiff:()=>u,StringDiffSequence:()=>s,stringDiff:()=>o});var r=n(23);var i=n(24);class s{constructor(e){this.source=e}getElements(){const e=this.source;const t=new Int32Array(e.length);for(let n=0,r=e.length;n<r;n++){t[n]=e.charCodeAt(n)}return t}}function o(e,t,n){return new u(new s(e),new s(t)).ComputeDiff(n).changes}class a{static Assert(e,t){if(!e){throw new Error(t)}}}class l{static Copy(e,t,n,r,i){for(let s=0;s<i;s++){n[r+s]=e[t+s]}}static Copy2(e,t,n,r,i){for(let s=0;s<i;s++){n[r+s]=e[t+s]}}}class c{constructor(){this.m_changes=[];this.m_originalStart=1073741824;this.m_modifiedStart=1073741824;this.m_originalCount=0;this.m_modifiedCount=0}MarkNextChange(){if(this.m_originalCount>0||this.m_modifiedCount>0){this.m_changes.push(new r.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount))}this.m_originalCount=0;this.m_modifiedCount=0;this.m_originalStart=1073741824;this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e);this.m_modifiedStart=Math.min(this.m_modifiedStart,t);this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e);this.m_modifiedStart=Math.min(this.m_modifiedStart,t);this.m_modifiedCount++}getChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0){this.MarkNextChange()}return this.m_changes}getReverseChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0){this.MarkNextChange()}this.m_changes.reverse();return this.m_changes}}class u{constructor(e,t,n=null){this.ContinueProcessingPredicate=n;this._originalSequence=e;this._modifiedSequence=t;const[r,i,s]=u._getElements(e);const[o,a,l]=u._getElements(t);this._hasStrings=s&&l;this._originalStringElements=r;this._originalElementsOrHash=i;this._modifiedStringElements=o;this._modifiedElementsOrHash=a;this.m_forwardHistory=[];this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]==="string"}static _getElements(e){const t=e.getElements();if(u._isStringArray(t)){const e=new Int32Array(t.length);for(let n=0,r=t.length;n<r;n++){e[n]=(0,i.stringHash)(t[n],0)}return[t,e,true]}if(t instanceof Int32Array){return[[],t,false]}return[[],new Int32Array(t),false]}ElementsAreEqual(e,t){if(this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]){return false}return this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:true}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t)){return false}const n=u._getStrictElement(this._originalSequence,e);const r=u._getStrictElement(this._modifiedSequence,t);return n===r}static _getStrictElement(e,t){if(typeof e.getStrictElement==="function"){return e.getStrictElement(t)}return null}OriginalElementsAreEqual(e,t){if(this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]){return false}return this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:true}ModifiedElementsAreEqual(e,t){if(this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]){return false}return this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:true}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,n,r,i){const s=[false];let o=this.ComputeDiffRecursive(e,t,n,r,s);if(i){o=this.PrettifyChanges(o)}return{quitEarly:s[0],changes:o}}ComputeDiffRecursive(e,t,n,i,s){s[0]=false;while(e<=t&&n<=i&&this.ElementsAreEqual(e,n)){e++;n++}while(t>=e&&i>=n&&this.ElementsAreEqual(t,i)){t--;i--}if(e>t||n>i){let s;if(n<=i){a.Assert(e===t+1,"originalStart should only be one more than originalEnd");s=[new r.DiffChange(e,0,n,i-n+1)]}else if(e<=t){a.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd");s=[new r.DiffChange(e,t-e+1,n,0)]}else{a.Assert(e===t+1,"originalStart should only be one more than originalEnd");a.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd");s=[]}return s}const o=[0];const l=[0];const c=this.ComputeRecursionPoint(e,t,n,i,o,l,s);const u=o[0];const h=l[0];if(c!==null){return c}else if(!s[0]){const o=this.ComputeDiffRecursive(e,u,n,h,s);let a=[];if(!s[0]){a=this.ComputeDiffRecursive(u+1,t,h+1,i,s)}else{a=[new r.DiffChange(u+1,t-(u+1)+1,h+1,i-(h+1)+1)]}return this.ConcatenateChanges(o,a)}return[new r.DiffChange(e,t-e+1,n,i-n+1)]}WALKTRACE(e,t,n,i,s,o,a,l,u,h,d,g,f,m,p,_,b,C){let v=null;let k=null;let L=new c;let S=t;let w=n;let y=f[0]-_[0]-i;let E=-1073741824;let I=this.m_forwardHistory.length-1;do{const t=y+e;if(t===S||t<w&&u[t-1]<u[t+1]){d=u[t+1];m=d-y-i;if(d<E){L.MarkNextChange()}E=d;L.AddModifiedElement(d+1,m);y=t+1-e}else{d=u[t-1]+1;m=d-y-i;if(d<E){L.MarkNextChange()}E=d-1;L.AddOriginalElement(d,m+1);y=t-1-e}if(I>=0){u=this.m_forwardHistory[I];e=u[0];S=1;w=u.length-1}}while(--I>=-1);v=L.getReverseChanges();if(C[0]){let e=f[0]+1;let t=_[0]+1;if(v!==null&&v.length>0){const n=v[v.length-1];e=Math.max(e,n.getOriginalEnd());t=Math.max(t,n.getModifiedEnd())}k=[new r.DiffChange(e,g-e+1,t,p-t+1)]}else{L=new c;S=o;w=a;y=f[0]-_[0]-l;E=1073741824;I=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=y+s;if(e===S||e<w&&h[e-1]>=h[e+1]){d=h[e+1]-1;m=d-y-l;if(d>E){L.MarkNextChange()}E=d+1;L.AddOriginalElement(d+1,m+1);y=e+1-s}else{d=h[e-1];m=d-y-l;if(d>E){L.MarkNextChange()}E=d;L.AddModifiedElement(d+1,m+1);y=e-1-s}if(I>=0){h=this.m_reverseHistory[I];s=h[0];S=1;w=h.length-1}}while(--I>=-1);k=L.getChanges()}return this.ConcatenateChanges(v,k)}ComputeRecursionPoint(e,t,n,i,s,o,a){let c=0,u=0;let h=0,d=0;let g=0,f=0;e--;n--;s[0]=0;o[0]=0;this.m_forwardHistory=[];this.m_reverseHistory=[];const m=t-e+(i-n);const p=m+1;const _=new Int32Array(p);const b=new Int32Array(p);const C=i-n;const v=t-e;const k=e-n;const L=t-i;const S=v-C;const w=S%2===0;_[C]=e;b[v]=t;a[0]=false;for(let S=1;S<=m/2+1;S++){let m=0;let y=0;h=this.ClipDiagonalBound(C-S,S,C,p);d=this.ClipDiagonalBound(C+S,S,C,p);for(let e=h;e<=d;e+=2){if(e===h||e<d&&_[e-1]<_[e+1]){c=_[e+1]}else{c=_[e-1]+1}u=c-(e-C)-k;const n=c;while(c<t&&u<i&&this.ElementsAreEqual(c+1,u+1)){c++;u++}_[e]=c;if(c+u>m+y){m=c;y=u}if(!w&&Math.abs(e-v)<=S-1){if(c>=b[e]){s[0]=c;o[0]=u;if(n<=b[e]&&1447>0&&S<=1447+1){return this.WALKTRACE(C,h,d,k,v,g,f,L,_,b,c,t,s,u,i,o,w,a)}else{return null}}}}const E=(m-e+(y-n)-S)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(m,E)){a[0]=true;s[0]=m;o[0]=y;if(E>0&&1447>0&&S<=1447+1){return this.WALKTRACE(C,h,d,k,v,g,f,L,_,b,c,t,s,u,i,o,w,a)}else{e++;n++;return[new r.DiffChange(e,t-e+1,n,i-n+1)]}}g=this.ClipDiagonalBound(v-S,S,v,p);f=this.ClipDiagonalBound(v+S,S,v,p);for(let r=g;r<=f;r+=2){if(r===g||r<f&&b[r-1]>=b[r+1]){c=b[r+1]-1}else{c=b[r-1]}u=c-(r-v)-L;const l=c;while(c>e&&u>n&&this.ElementsAreEqual(c,u)){c--;u--}b[r]=c;if(w&&Math.abs(r-C)<=S){if(c<=_[r]){s[0]=c;o[0]=u;if(l>=_[r]&&1447>0&&S<=1447+1){return this.WALKTRACE(C,h,d,k,v,g,f,L,_,b,c,t,s,u,i,o,w,a)}else{return null}}}}if(S<=1447){let e=new Int32Array(d-h+2);e[0]=C-h+1;l.Copy2(_,h,e,1,d-h+1);this.m_forwardHistory.push(e);e=new Int32Array(f-g+2);e[0]=v-g+1;l.Copy2(b,g,e,1,f-g+1);this.m_reverseHistory.push(e)}}return this.WALKTRACE(C,h,d,k,v,g,f,L,_,b,c,t,s,u,i,o,w,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const n=e[t];const r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length;const i=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length;const s=n.originalLength>0;const o=n.modifiedLength>0;while(n.originalStart+n.originalLength<r&&n.modifiedStart+n.modifiedLength<i&&(!s||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!o||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength))){const e=this.ElementsAreStrictEqual(n.originalStart,n.modifiedStart);const t=this.ElementsAreStrictEqual(n.originalStart+n.originalLength,n.modifiedStart+n.modifiedLength);if(t&&!e){break}n.originalStart++;n.modifiedStart++}const a=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)){e[t]=a[0];e.splice(t+1,1);t--;continue}}for(let t=e.length-1;t>=0;t--){const n=e[t];let r=0;let i=0;if(t>0){const n=e[t-1];r=n.originalStart+n.originalLength;i=n.modifiedStart+n.modifiedLength}const s=n.originalLength>0;const o=n.modifiedLength>0;let a=0;let l=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(let e=1;;e++){const t=n.originalStart-e;const c=n.modifiedStart-e;if(t<r||c<i){break}if(s&&!this.OriginalElementsAreEqual(t,t+n.originalLength)){break}if(o&&!this.ModifiedElementsAreEqual(c,c+n.modifiedLength)){break}const u=t===r&&c===i;const h=(u?5:0)+this._boundaryScore(t,n.originalLength,c,n.modifiedLength);if(h>l){l=h;a=e}}n.originalStart-=a;n.modifiedStart-=a;const c=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],c)){e[t-1]=c[0];e.splice(t,1);t++;continue}}if(this._hasStrings){for(let t=1,n=e.length;t<n;t++){const n=e[t-1];const r=e[t];const i=r.originalStart-n.originalStart-n.originalLength;const s=n.originalStart;const o=r.originalStart+r.originalLength;const a=o-s;const l=n.modifiedStart;const c=r.modifiedStart+r.modifiedLength;const u=c-l;if(i<5&&a<20&&u<20){const e=this._findBetterContiguousSequence(s,a,l,u,i);if(e){const[t,s]=e;if(t!==n.originalStart+n.originalLength||s!==n.modifiedStart+n.modifiedLength){n.originalLength=t-n.originalStart;n.modifiedLength=s-n.modifiedStart;r.originalStart=t+i;r.modifiedStart=s+i;r.originalLength=o-r.originalStart;r.modifiedLength=c-r.modifiedStart}}}}}return e}_findBetterContiguousSequence(e,t,n,r,i){if(t<i||r<i){return null}const s=e+t-i+1;const o=n+r-i+1;let a=0;let l=0;let c=0;for(let t=e;t<s;t++){for(let e=n;e<o;e++){const n=this._contiguousSequenceScore(t,e,i);if(n>0&&n>a){a=n;l=t;c=e}}}if(a>0){return[l,c]}return null}_contiguousSequenceScore(e,t,n){let r=0;for(let i=0;i<n;i++){if(!this.ElementsAreEqual(e+i,t+i)){return 0}r+=this._originalStringElements[e+i].length}return r}_OriginalIsBoundary(e){if(e<=0||e>=this._originalElementsOrHash.length-1){return true}return this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1)){return true}if(t>0){const n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n)){return true}}return false}_ModifiedIsBoundary(e){if(e<=0||e>=this._modifiedElementsOrHash.length-1){return true}return this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1)){return true}if(t>0){const n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n)){return true}}return false}_boundaryScore(e,t,n,r){const i=this._OriginalRegionIsBoundary(e,t)?1:0;const s=this._ModifiedRegionIsBoundary(n,r)?1:0;return i+s}ConcatenateChanges(e,t){const n=[];if(e.length===0||t.length===0){return t.length>0?t:e}else if(this.ChangesOverlap(e[e.length-1],t[0],n)){const r=new Array(e.length+t.length-1);l.Copy(e,0,r,0,e.length-1);r[e.length-1]=n[0];l.Copy(t,1,r,e.length,t.length-1);return r}else{const n=new Array(e.length+t.length);l.Copy(e,0,n,0,e.length);l.Copy(t,0,n,e.length,t.length);return n}}ChangesOverlap(e,t,n){a.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change");a.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change");if(e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const i=e.originalStart;let s=e.originalLength;const o=e.modifiedStart;let a=e.modifiedLength;if(e.originalStart+e.originalLength>=t.originalStart){s=t.originalStart+t.originalLength-e.originalStart}if(e.modifiedStart+e.modifiedLength>=t.modifiedStart){a=t.modifiedStart+t.modifiedLength-e.modifiedStart}n[0]=new r.DiffChange(i,s,o,a);return true}else{n[0]=null;return false}}ClipDiagonalBound(e,t,n,r){if(e>=0&&e<r){return e}const i=n;const s=r-n-1;const o=t%2===0;if(e<0){const e=i%2===0;return o===e?0:1}else{const e=s%2===0;return o===e?r-1:r-2}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DiffChange:()=>r});class r{constructor(e,t,n,r){this.originalStart=e;this.originalLength=t;this.modifiedStart=n;this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{StringSHA1:()=>m,doHash:()=>s,hash:()=>i,numberHash:()=>o,stringHash:()=>l,toHexString:()=>f});var r=n(14);function i(e){return s(e,0)}function s(e,t){switch(typeof e){case"object":if(e===null){return o(349,t)}else if(Array.isArray(e)){return c(e,t)}return u(e,t);case"string":return l(e,t);case"boolean":return a(e,t);case"number":return o(e,t);case"undefined":return o(937,t);default:return o(617,t)}}function o(e,t){return(t<<5)-t+e|0}function a(e,t){return o(e?433:863,t)}function l(e,t){t=o(149417,t);for(let n=0,r=e.length;n<r;n++){t=o(e.charCodeAt(n),t)}return t}function c(e,t){t=o(104579,t);return e.reduce((e,t)=>s(t,e),t)}function u(e,t){t=o(181387,t);return Object.keys(e).sort().reduce((t,n)=>{t=l(n,t);return s(e[n],t)},t)}function h(e,t,n=32){const r=n-t;const i=~((1<<r)-1);return(e<<t|(i&e)>>>r)>>>0}function d(e,t=0,n=e.byteLength,r=0){for(let i=0;i<n;i++){e[t+i]=r}}function g(e,t,n="0"){while(e.length<t){e=n+e}return e}function f(e,t=32){if(e instanceof ArrayBuffer){return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")}return g((e>>>0).toString(16),t/4)}class m{static{this._bigBlock32=new DataView(new ArrayBuffer(320))}constructor(){this._h0=1732584193;this._h1=4023233417;this._h2=2562383102;this._h3=271733878;this._h4=3285377520;this._buff=new Uint8Array(64+3);this._buffDV=new DataView(this._buff.buffer);this._buffLen=0;this._totalLen=0;this._leftoverHighSurrogate=0;this._finished=false}update(e){const t=e.length;if(t===0){return}const n=this._buff;let i=this._buffLen;let s=this._leftoverHighSurrogate;let o;let a;if(s!==0){o=s;a=-1;s=0}else{o=e.charCodeAt(0);a=0}while(true){let l=o;if(r.isHighSurrogate(o)){if(a+1<t){const t=e.charCodeAt(a+1);if(r.isLowSurrogate(t)){a++;l=r.computeCodePoint(o,t)}else{l=65533}}else{s=o;break}}else if(r.isLowSurrogate(o)){l=65533}i=this._push(n,i,l);a++;if(a<t){o=e.charCodeAt(a)}else{break}}this._buffLen=i;this._leftoverHighSurrogate=s}_push(e,t,n){if(n<128){e[t++]=n}else if(n<2048){e[t++]=192|(n&1984)>>>6;e[t++]=128|(n&63)>>>0}else if(n<65536){e[t++]=224|(n&61440)>>>12;e[t++]=128|(n&4032)>>>6;e[t++]=128|(n&63)>>>0}else{e[t++]=240|(n&1835008)>>>18;e[t++]=128|(n&258048)>>>12;e[t++]=128|(n&4032)>>>6;e[t++]=128|(n&63)>>>0}if(t>=64){this._step();t-=64;this._totalLen+=64;e[0]=e[64+0];e[1]=e[64+1];e[2]=e[64+2]}return t}digest(){if(!this._finished){this._finished=true;if(this._leftoverHighSurrogate){this._leftoverHighSurrogate=0;this._buffLen=this._push(this._buff,this._buffLen,65533)}this._totalLen+=this._buffLen;this._wrapUp()}return f(this._h0)+f(this._h1)+f(this._h2)+f(this._h3)+f(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128;d(this._buff,this._buffLen);if(this._buffLen>56){this._step();d(this._buff)}const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),false);this._buffDV.setUint32(60,e%4294967296,false);this._step()}_step(){const e=m._bigBlock32;const t=this._buffDV;for(let n=0;n<64;n+=4){e.setUint32(n,t.getUint32(n,false),false)}for(let t=64;t<320;t+=4){e.setUint32(t,h(e.getUint32(t-12,false)^e.getUint32(t-32,false)^e.getUint32(t-56,false)^e.getUint32(t-64,false),1),false)}let n=this._h0;let r=this._h1;let i=this._h2;let s=this._h3;let o=this._h4;let a,l;let c;for(let t=0;t<80;t++){if(t<20){a=r&i|~r&s;l=1518500249}else if(t<40){a=r^i^s;l=1859775393}else if(t<60){a=r&i|r&s|i&s;l=2400959708}else{a=r^i^s;l=3395469782}c=h(n,5)+a+o+l+e.getUint32(t*4,false)&4294967295;o=s;s=i;i=h(r,30);r=n;n=c}this._h0=this._h0+n&4294967295;this._h1=this._h1+r&4294967295;this._h2=this._h2+i&4294967295;this._h3=this._h3+s&4294967295;this._h4=this._h4+o&4294967295}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Range:()=>i});var r=n(26);class i{constructor(e,t,n,r){if(e>n||e===n&&t>r){this.startLineNumber=n;this.startColumn=r;this.endLineNumber=e;this.endColumn=t}else{this.startLineNumber=e;this.startColumn=t;this.endLineNumber=n;this.endColumn=r}}isEmpty(){return i.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return i.containsPosition(this,e)}static containsPosition(e,t){if(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber){return false}if(t.lineNumber===e.startLineNumber&&t.column<e.startColumn){return false}if(t.lineNumber===e.endLineNumber&&t.column>e.endColumn){return false}return true}static strictContainsPosition(e,t){if(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber){return false}if(t.lineNumber===e.startLineNumber&&t.column<=e.startColumn){return false}if(t.lineNumber===e.endLineNumber&&t.column>=e.endColumn){return false}return true}containsRange(e){return i.containsRange(this,e)}static containsRange(e,t){if(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber){return false}if(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber){return false}if(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn){return false}if(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn){return false}return true}strictContainsRange(e){return i.strictContainsRange(this,e)}static strictContainsRange(e,t){if(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber){return false}if(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber){return false}if(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn){return false}if(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn){return false}return true}plusRange(e){return i.plusRange(this,e)}static plusRange(e,t){let n;let r;let s;let o;if(t.startLineNumber<e.startLineNumber){n=t.startLineNumber;r=t.startColumn}else if(t.startLineNumber===e.startLineNumber){n=t.startLineNumber;r=Math.min(t.startColumn,e.startColumn)}else{n=e.startLineNumber;r=e.startColumn}if(t.endLineNumber>e.endLineNumber){s=t.endLineNumber;o=t.endColumn}else if(t.endLineNumber===e.endLineNumber){s=t.endLineNumber;o=Math.max(t.endColumn,e.endColumn)}else{s=e.endLineNumber;o=e.endColumn}return new i(n,r,s,o)}intersectRanges(e){return i.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber;let r=e.startColumn;let s=e.endLineNumber;let o=e.endColumn;const a=t.startLineNumber;const l=t.startColumn;const c=t.endLineNumber;const u=t.endColumn;if(n<a){n=a;r=l}else if(n===a){r=Math.max(r,l)}if(s>c){s=c;o=u}else if(s===c){o=Math.min(o,u)}if(n>s){return null}if(n===s&&r>o){return null}return new i(n,r,s,o)}equalsRange(e){return i.equalsRange(this,e)}static equalsRange(e,t){if(!e&&!t){return true}return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return i.getEndPosition(this)}static getEndPosition(e){return new r.Position(e.endLineNumber,e.endColumn)}getStartPosition(){return i.getStartPosition(this)}static getStartPosition(e){return new r.Position(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new i(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new i(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return i.collapseToStart(this)}static collapseToStart(e){return new i(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return i.collapseToEnd(this)}static collapseToEnd(e){return new i(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new i(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,t=e){return new i(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){if(!e){return null}return new i(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}static isIRange(e){return e&&typeof e.startLineNumber==="number"&&typeof e.startColumn==="number"&&typeof e.endLineNumber==="number"&&typeof e.endColumn==="number"}static areIntersectingOrTouching(e,t){if(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn){return false}if(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn){return false}return true}static areIntersecting(e,t){if(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn){return false}if(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn){return false}return true}static compareRangesUsingStarts(e,t){if(e&&t){const n=e.startLineNumber|0;const r=t.startLineNumber|0;if(n===r){const n=e.startColumn|0;const r=t.startColumn|0;if(n===r){const n=e.endLineNumber|0;const r=t.endLineNumber|0;if(n===r){const n=e.endColumn|0;const r=t.endColumn|0;return n-r}return n-r}return n-r}return n-r}const n=e?1:0;const r=t?1:0;return n-r}static compareRangesUsingEnds(e,t){if(e.endLineNumber===t.endLineNumber){if(e.endColumn===t.endColumn){if(e.startLineNumber===t.startLineNumber){return e.startColumn-t.startColumn}return e.startLineNumber-t.startLineNumber}return e.endColumn-t.endColumn}return e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Position:()=>r});class r{constructor(e,t){this.lineNumber=e;this.column=t}with(e=this.lineNumber,t=this.column){if(e===this.lineNumber&&t===this.column){return this}else{return new r(e,t)}}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return r.equals(this,e)}static equals(e,t){if(!e&&!t){return true}return!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return r.isBefore(this,e)}static isBefore(e,t){if(e.lineNumber<t.lineNumber){return true}if(t.lineNumber<e.lineNumber){return false}return e.column<t.column}isBeforeOrEqual(e){return r.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){if(e.lineNumber<t.lineNumber){return true}if(t.lineNumber<e.lineNumber){return false}return e.column<=t.column}static compare(e,t){const n=e.lineNumber|0;const r=t.lineNumber|0;if(n===r){const n=e.column|0;const r=t.column|0;return n-r}return n-r}clone(){return new r(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new r(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber==="number"&&typeof e.column==="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LinkComputer:()=>u,StateMachine:()=>s,computeLinks:()=>h});var r=n(28);class i{constructor(e,t,n){const r=new Uint8Array(e*t);for(let i=0,s=e*t;i<s;i++){r[i]=n}this._data=r;this.rows=e;this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class s{constructor(e){let t=0;let n=0;for(let r=0,i=e.length;r<i;r++){const[i,s,o]=e[r];if(s>t){t=s}if(i>n){n=i}if(o>n){n=o}}t++;n++;const r=new i(n,t,0);for(let t=0,n=e.length;t<n;t++){const[n,i,s]=e[t];r.set(n,i,s)}this._states=r;this._maxCharCode=t}nextState(e,t){if(t<0||t>=this._maxCharCode){return 0}return this._states.get(e,t)}}let o=null;function a(){if(o===null){o=new s([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])}return o}let l=null;function c(){if(l===null){l=new r.CharacterClassifier(0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let t=0;t<e.length;t++){l.set(e.charCodeAt(t),1)}const t=".,;:";for(let e=0;e<t.length;e++){l.set(t.charCodeAt(e),2)}}return l}class u{static _createLink(e,t,n,r,i){let s=i-1;do{const n=t.charCodeAt(s);const r=e.get(n);if(r!==2){break}s--}while(s>r);if(r>0){const e=t.charCodeAt(r-1);const n=t.charCodeAt(s);if(e===40&&n===41||e===91&&n===93||e===123&&n===125){s--}}return{range:{startLineNumber:n,startColumn:r+1,endLineNumber:n,endColumn:s+2},url:t.substring(r,s+1)}}static computeLinks(e,t=a()){const n=c();const r=[];for(let i=1,s=e.getLineCount();i<=s;i++){const s=e.getLineContent(i);const o=s.length;let a=0;let l=0;let c=0;let h=1;let d=false;let g=false;let f=false;let m=false;while(a<o){let e=false;const o=s.charCodeAt(a);if(h===13){let t;switch(o){case 40:d=true;t=0;break;case 41:t=d?0:1;break;case 91:f=true;g=true;t=0;break;case 93:f=false;t=g?0:1;break;case 123:m=true;t=0;break;case 125:t=m?0:1;break;case 39:case 34:case 96:if(c===o){t=1}else if(c===39||c===34||c===96){t=0}else{t=1}break;case 42:t=c===42?1:0;break;case 124:t=c===124?1:0;break;case 32:t=f?0:1;break;default:t=n.get(o)}if(t===1){r.push(u._createLink(n,s,i,l,a));e=true}}else if(h===12){let t;if(o===91){g=true;t=0}else{t=n.get(o)}if(t===1){e=true}else{h=13}}else{h=t.nextState(h,o);if(h===0){e=true}}if(e){h=1;d=false;g=false;m=false;l=a+1;c=o}a++}if(h===13){r.push(u._createLink(n,s,i,l,o))}}return r}}function h(e){if(!e||typeof e.getLineCount!=="function"||typeof e.getLineContent!=="function"){return[]}return u.computeLinks(e)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{CharacterClassifier:()=>i,CharacterSet:()=>s});var r=n(29);class i{constructor(e){const t=(0,r.toUint8)(e);this._defaultValue=t;this._asciiMap=i._createAsciiMap(t);this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);t.fill(e);return t}set(e,t){const n=(0,r.toUint8)(t);if(e>=0&&e<256){this._asciiMap[e]=n}else{this._map.set(e,n)}}get(e){if(e>=0&&e<256){return this._asciiMap[e]}else{return this._map.get(e)||this._defaultValue}}clear(){this._asciiMap.fill(this._defaultValue);this._map.clear()}}class s{constructor(){this._actual=new i(0)}add(e){this._actual.set(e,1)}has(e){return this._actual.get(e)===1}clear(){return this._actual.clear()}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{toUint32:()=>i,toUint8:()=>r});function r(e){if(e<0){return 0}if(e>255){return 255}return e|0}function i(e){if(e<0){return 0}if(e>4294967295){return 4294967295}return e|0}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BasicInplaceReplace:()=>r});class r{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}static{this.INSTANCE=new r}navigateValueSet(e,t,n,r,i){if(e&&t){const n=this.doNavigateValueSet(t,i);if(n){return{range:e,value:n}}}if(n&&r){const e=this.doNavigateValueSet(r,i);if(e){return{range:n,value:e}}}return null}doNavigateValueSet(e,t){const n=this.numberReplace(e,t);if(n!==null){return n}return this.textReplace(e,t)}numberReplace(e,t){const n=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let r=Number(e);const i=parseFloat(e);if(!isNaN(r)&&!isNaN(i)&&r===i){if(r===0&&!t){return null}else{r=Math.floor(r*n);r+=t?n:-n;return String(r/n)}}return null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let r=null;for(let i=0,s=e.length;r===null&&i<s;i++){r=this.valueSetReplace(e[i],t,n)}return r}valueSetReplace(e,t,n){let r=e.indexOf(t);if(r>=0){r+=n?+1:-1;if(r<0){r=e.length-1}else{r%=e.length}return e[r]}return null}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{KeyMod:()=>d,createMonacoBaseAPI:()=>g});var r=n(32);var i=n(3);var s=n(33);var o=n(17);var a=n(26);var l=n(25);var c=n(34);var u=n(35);var h=n(41);class d{static{this.CtrlCmd=2048}static{this.Shift=1024}static{this.Alt=512}static{this.WinCtrl=256}static chord(e,t){return(0,s.KeyChord)(e,t)}}function g(){return{editor:undefined,languages:undefined,CancellationTokenSource:r.CancellationTokenSource,Emitter:i.Emitter,KeyCode:h.KeyCode,KeyMod:d,Position:a.Position,Range:l.Range,Selection:c.Selection,SelectionDirection:h.SelectionDirection,MarkerSeverity:h.MarkerSeverity,MarkerTag:h.MarkerTag,Uri:o.URI,Token:u.Token}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{CancellationToken:()=>s,CancellationTokenSource:()=>a,cancelOnDispose:()=>l});var r=n(3);const i=Object.freeze(function(e,t){const n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}});var s;(function(e){function t(t){if(t===e.None||t===e.Cancelled){return true}if(t instanceof o){return true}if(!t||typeof t!=="object"){return false}return typeof t.isCancellationRequested==="boolean"&&typeof t.onCancellationRequested==="function"}e.isCancellationToken=t;e.None=Object.freeze({isCancellationRequested:false,onCancellationRequested:r.Event.None});e.Cancelled=Object.freeze({isCancellationRequested:true,onCancellationRequested:i})})(s||(s={}));class o{constructor(){this._isCancelled=false;this._emitter=null}cancel(){if(!this._isCancelled){this._isCancelled=true;if(this._emitter){this._emitter.fire(undefined);this.dispose()}}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled){return i}if(!this._emitter){this._emitter=new r.Emitter}return this._emitter.event}dispose(){if(this._emitter){this._emitter.dispose();this._emitter=null}}}class a{constructor(e){this._token=undefined;this._parentListener=undefined;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){if(!this._token){this._token=new o}return this._token}cancel(){if(!this._token){this._token=s.Cancelled}else if(this._token instanceof o){this._token.cancel()}}dispose(e=false){if(e){this.cancel()}this._parentListener?.dispose();if(!this._token){this._token=s.None}else if(this._token instanceof o){this._token.dispose()}}}function l(e){const t=new a;e.add({dispose(){t.cancel()}});return t.token}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{EVENT_KEY_CODE_MAP:()=>a,IMMUTABLE_CODE_TO_KEY_CODE:()=>d,IMMUTABLE_KEY_CODE_TO_CODE:()=>g,KeyChord:()=>m,KeyCodeUtils:()=>f,NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE:()=>l});class r{constructor(){this._keyCodeToStr=[];this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t;this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const i=new r;const s=new r;const o=new r;const a=new Array(230);const l={};const c=[];const u=Object.create(null);const h=Object.create(null);const d=[];const g=[];for(let e=0;e<=193;e++){d[e]=-1}for(let e=0;e<=132;e++){g[e]=-1}(function(){const e="";const t=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[1,1,"Hyper",0,e,0,e,e,e],[1,2,"Super",0,e,0,e,e,e],[1,3,"Fn",0,e,0,e,e,e],[1,4,"FnLock",0,e,0,e,e,e],[1,5,"Suspend",0,e,0,e,e,e],[1,6,"Resume",0,e,0,e,e,e],[1,7,"Turbo",0,e,0,e,e,e],[1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[1,9,"WakeUp",0,e,0,e,e,e],[0,10,"KeyA",31,"A",65,"VK_A",e,e],[0,11,"KeyB",32,"B",66,"VK_B",e,e],[0,12,"KeyC",33,"C",67,"VK_C",e,e],[0,13,"KeyD",34,"D",68,"VK_D",e,e],[0,14,"KeyE",35,"E",69,"VK_E",e,e],[0,15,"KeyF",36,"F",70,"VK_F",e,e],[0,16,"KeyG",37,"G",71,"VK_G",e,e],[0,17,"KeyH",38,"H",72,"VK_H",e,e],[0,18,"KeyI",39,"I",73,"VK_I",e,e],[0,19,"KeyJ",40,"J",74,"VK_J",e,e],[0,20,"KeyK",41,"K",75,"VK_K",e,e],[0,21,"KeyL",42,"L",76,"VK_L",e,e],[0,22,"KeyM",43,"M",77,"VK_M",e,e],[0,23,"KeyN",44,"N",78,"VK_N",e,e],[0,24,"KeyO",45,"O",79,"VK_O",e,e],[0,25,"KeyP",46,"P",80,"VK_P",e,e],[0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[0,27,"KeyR",48,"R",82,"VK_R",e,e],[0,28,"KeyS",49,"S",83,"VK_S",e,e],[0,29,"KeyT",50,"T",84,"VK_T",e,e],[0,30,"KeyU",51,"U",85,"VK_U",e,e],[0,31,"KeyV",52,"V",86,"VK_V",e,e],[0,32,"KeyW",53,"W",87,"VK_W",e,e],[0,33,"KeyX",54,"X",88,"VK_X",e,e],[0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[0,36,"Digit1",22,"1",49,"VK_1",e,e],[0,37,"Digit2",23,"2",50,"VK_2",e,e],[0,38,"Digit3",24,"3",51,"VK_3",e,e],[0,39,"Digit4",25,"4",52,"VK_4",e,e],[0,40,"Digit5",26,"5",53,"VK_5",e,e],[0,41,"Digit6",27,"6",54,"VK_6",e,e],[0,42,"Digit7",28,"7",55,"VK_7",e,e],[0,43,"Digit8",29,"8",56,"VK_8",e,e],[0,44,"Digit9",30,"9",57,"VK_9",e,e],[0,45,"Digit0",21,"0",48,"VK_0",e,e],[1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,e,0,e,e,e],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[1,64,"F1",59,"F1",112,"VK_F1",e,e],[1,65,"F2",60,"F2",113,"VK_F2",e,e],[1,66,"F3",61,"F3",114,"VK_F3",e,e],[1,67,"F4",62,"F4",115,"VK_F4",e,e],[1,68,"F5",63,"F5",116,"VK_F5",e,e],[1,69,"F6",64,"F6",117,"VK_F6",e,e],[1,70,"F7",65,"F7",118,"VK_F7",e,e],[1,71,"F8",66,"F8",119,"VK_F8",e,e],[1,72,"F9",67,"F9",120,"VK_F9",e,e],[1,73,"F10",68,"F10",121,"VK_F10",e,e],[1,74,"F11",69,"F11",122,"VK_F11",e,e],[1,75,"F12",70,"F12",123,"VK_F12",e,e],[1,76,"PrintScreen",0,e,0,e,e,e],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",e,e],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[1,80,"Home",14,"Home",36,"VK_HOME",e,e],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[1,83,"End",13,"End",35,"VK_END",e,e],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",e,e],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",e,e],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",e,e],[1,94,"NumpadEnter",3,e,0,e,e,e],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",e,e],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",e,e],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",e,e],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",e,e],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",e,e],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",e,e],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",e,e],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",e,e],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",e,e],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",e,e],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",e,e],[1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[1,108,"Power",0,e,0,e,e,e],[1,109,"NumpadEqual",0,e,0,e,e,e],[1,110,"F13",71,"F13",124,"VK_F13",e,e],[1,111,"F14",72,"F14",125,"VK_F14",e,e],[1,112,"F15",73,"F15",126,"VK_F15",e,e],[1,113,"F16",74,"F16",127,"VK_F16",e,e],[1,114,"F17",75,"F17",128,"VK_F17",e,e],[1,115,"F18",76,"F18",129,"VK_F18",e,e],[1,116,"F19",77,"F19",130,"VK_F19",e,e],[1,117,"F20",78,"F20",131,"VK_F20",e,e],[1,118,"F21",79,"F21",132,"VK_F21",e,e],[1,119,"F22",80,"F22",133,"VK_F22",e,e],[1,120,"F23",81,"F23",134,"VK_F23",e,e],[1,121,"F24",82,"F24",135,"VK_F24",e,e],[1,122,"Open",0,e,0,e,e,e],[1,123,"Help",0,e,0,e,e,e],[1,124,"Select",0,e,0,e,e,e],[1,125,"Again",0,e,0,e,e,e],[1,126,"Undo",0,e,0,e,e,e],[1,127,"Cut",0,e,0,e,e,e],[1,128,"Copy",0,e,0,e,e,e],[1,129,"Paste",0,e,0,e,e,e],[1,130,"Find",0,e,0,e,e,e],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",e,e],[1,136,"KanaMode",0,e,0,e,e,e],[0,137,"IntlYen",0,e,0,e,e,e],[1,138,"Convert",0,e,0,e,e,e],[1,139,"NonConvert",0,e,0,e,e,e],[1,140,"Lang1",0,e,0,e,e,e],[1,141,"Lang2",0,e,0,e,e,e],[1,142,"Lang3",0,e,0,e,e,e],[1,143,"Lang4",0,e,0,e,e,e],[1,144,"Lang5",0,e,0,e,e,e],[1,145,"Abort",0,e,0,e,e,e],[1,146,"Props",0,e,0,e,e,e],[1,147,"NumpadParenLeft",0,e,0,e,e,e],[1,148,"NumpadParenRight",0,e,0,e,e,e],[1,149,"NumpadBackspace",0,e,0,e,e,e],[1,150,"NumpadMemoryStore",0,e,0,e,e,e],[1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[1,152,"NumpadMemoryClear",0,e,0,e,e,e],[1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",e,e],[1,156,"NumpadClearEntry",0,e,0,e,e,e],[1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[1,0,e,6,"Alt",18,"VK_MENU",e,e],[1,0,e,57,"Meta",91,"VK_COMMAND",e,e],[1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[1,165,"BrightnessUp",0,e,0,e,e,e],[1,166,"BrightnessDown",0,e,0,e,e,e],[1,167,"MediaPlay",0,e,0,e,e,e],[1,168,"MediaRecord",0,e,0,e,e,e],[1,169,"MediaFastForward",0,e,0,e,e,e],[1,170,"MediaRewind",0,e,0,e,e,e],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",e,e],[1,174,"Eject",0,e,0,e,e,e],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[1,180,"SelectTask",0,e,0,e,e,e],[1,181,"LaunchScreenSaver",0,e,0,e,e,e],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[1,189,"ZoomToggle",0,e,0,e,e,e],[1,190,"MailReply",0,e,0,e,e,e],[1,191,"MailForward",0,e,0,e,e,e],[1,192,"MailSend",0,e,0,e,e,e],[1,0,e,114,"KeyInComposition",229,e,e,e],[1,0,e,116,"ABNT_C2",194,"VK_ABNT_C2",e,e],[1,0,e,96,"OEM_8",223,"VK_OEM_8",e,e],[1,0,e,0,e,0,"VK_KANA",e,e],[1,0,e,0,e,0,"VK_HANGUL",e,e],[1,0,e,0,e,0,"VK_JUNJA",e,e],[1,0,e,0,e,0,"VK_FINAL",e,e],[1,0,e,0,e,0,"VK_HANJA",e,e],[1,0,e,0,e,0,"VK_KANJI",e,e],[1,0,e,0,e,0,"VK_CONVERT",e,e],[1,0,e,0,e,0,"VK_NONCONVERT",e,e],[1,0,e,0,e,0,"VK_ACCEPT",e,e],[1,0,e,0,e,0,"VK_MODECHANGE",e,e],[1,0,e,0,e,0,"VK_SELECT",e,e],[1,0,e,0,e,0,"VK_PRINT",e,e],[1,0,e,0,e,0,"VK_EXECUTE",e,e],[1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[1,0,e,0,e,0,"VK_HELP",e,e],[1,0,e,0,e,0,"VK_APPS",e,e],[1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[1,0,e,0,e,0,"VK_PACKET",e,e],[1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[1,0,e,0,e,0,"VK_ATTN",e,e],[1,0,e,0,e,0,"VK_CRSEL",e,e],[1,0,e,0,e,0,"VK_EXSEL",e,e],[1,0,e,0,e,0,"VK_EREOF",e,e],[1,0,e,0,e,0,"VK_PLAY",e,e],[1,0,e,0,e,0,"VK_ZOOM",e,e],[1,0,e,0,e,0,"VK_NONAME",e,e],[1,0,e,0,e,0,"VK_PA1",e,e],[1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]];const n=[];const r=[];for(const e of t){const[t,f,m,p,_,b,C,v,k]=e;if(!r[f]){r[f]=true;c[f]=m;u[m]=f;h[m.toLowerCase()]=f;if(t){d[f]=p;if(p!==0&&p!==3&&p!==5&&p!==4&&p!==6&&p!==57){g[p]=f}}}if(!n[p]){n[p]=true;if(!_){throw new Error(`String representation missing for key code ${p} around scan code ${m}`)}i.define(p,_);s.define(p,v||_);o.define(p,k||v||_)}if(b){a[b]=p}if(C){l[C]=p}}g[3]=46})();var f;(function(e){function t(e){return i.keyCodeToStr(e)}e.toString=t;function n(e){return i.strToKeyCode(e)}e.fromString=n;function r(e){return s.keyCodeToStr(e)}e.toUserSettingsUS=r;function a(e){return o.keyCodeToStr(e)}e.toUserSettingsGeneral=a;function l(e){return s.strToKeyCode(e)||o.strToKeyCode(e)}e.fromUserSettings=l;function c(e){if(e>=98&&e<=113){return null}switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return i.keyCodeToStr(e)}e.toElectronAccelerator=c})(f||(f={}));function m(e,t){const n=(t&65535)<<16>>>0;return(e|n)>>>0}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Selection:()=>s});var r=n(26);var i=n(25);class s extends i.Range{constructor(e,t,n,r){super(e,t,n,r);this.selectionStartLineNumber=e;this.selectionStartColumn=t;this.positionLineNumber=n;this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return s.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){if(this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn){return 0}return 1}setEndPosition(e,t){if(this.getDirection()===0){return new s(this.startLineNumber,this.startColumn,e,t)}return new s(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new r.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new r.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){if(this.getDirection()===0){return new s(e,t,this.endLineNumber,this.endColumn)}return new s(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new s(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){if(t===0){return new s(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}else{return new s(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}}static liftSelection(e){return new s(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t){return false}if(!e&&!t){return true}if(e.length!==t.length){return false}for(let n=0,r=e.length;n<r;n++){if(!this.selectionsEqual(e[n],t[n])){return false}}return true}static isISelection(e){return e&&typeof e.selectionStartLineNumber==="number"&&typeof e.selectionStartColumn==="number"&&typeof e.positionLineNumber==="number"&&typeof e.positionColumn==="number"}static createWithDirection(e,t,n,r,i){if(i===0){return new s(e,t,n,r)}return new s(n,r,e,t)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Command:()=>E,CompletionItemKinds:()=>d,DocumentHighlightKind:()=>_,DocumentPasteTriggerKind:()=>m,EncodedTokenizationResult:()=>u,FoldingRangeKind:()=>S,HoverVerbosityAction:()=>h,InlayHintKind:()=>I,InlineCompletionTriggerKind:()=>g,InlineEditTriggerKind:()=>B,LazyTokenizationSupport:()=>x,NewSymbolNameTag:()=>w,NewSymbolNameTriggerKind:()=>y,SelectedSuggestionInfo:()=>f,SignatureHelpTriggerKind:()=>p,SymbolKinds:()=>k,TextEdit:()=>L,Token:()=>l,TokenizationRegistry:()=>T,TokenizationResult:()=>c,TreeSitterTokenizationRegistry:()=>N,getAriaLabelForSymbol:()=>v,isLocationLink:()=>b,symbolKindNames:()=>C});var r=n(36);var i=n(17);var s=n(25);var o=n(40);var a=n(11);class l{constructor(e,t,n){this.offset=e;this.type=t;this.language=n;this._tokenBrand=undefined}toString(){return"("+this.offset+", "+this.type+")"}}class c{constructor(e,t){this.tokens=e;this.endState=t;this._tokenizationResultBrand=undefined}}class u{constructor(e,t){this.tokens=e;this.endState=t;this._encodedTokenizationResultBrand=undefined}}var h;(function(e){e[e["Increase"]=0]="Increase";e[e["Decrease"]=1]="Decrease"})(h||(h={}));var d;(function(e){const t=new Map;t.set(0,r.Codicon.symbolMethod);t.set(1,r.Codicon.symbolFunction);t.set(2,r.Codicon.symbolConstructor);t.set(3,r.Codicon.symbolField);t.set(4,r.Codicon.symbolVariable);t.set(5,r.Codicon.symbolClass);t.set(6,r.Codicon.symbolStruct);t.set(7,r.Codicon.symbolInterface);t.set(8,r.Codicon.symbolModule);t.set(9,r.Codicon.symbolProperty);t.set(10,r.Codicon.symbolEvent);t.set(11,r.Codicon.symbolOperator);t.set(12,r.Codicon.symbolUnit);t.set(13,r.Codicon.symbolValue);t.set(15,r.Codicon.symbolEnum);t.set(14,r.Codicon.symbolConstant);t.set(15,r.Codicon.symbolEnum);t.set(16,r.Codicon.symbolEnumMember);t.set(17,r.Codicon.symbolKeyword);t.set(27,r.Codicon.symbolSnippet);t.set(18,r.Codicon.symbolText);t.set(19,r.Codicon.symbolColor);t.set(20,r.Codicon.symbolFile);t.set(21,r.Codicon.symbolReference);t.set(22,r.Codicon.symbolCustomColor);t.set(23,r.Codicon.symbolFolder);t.set(24,r.Codicon.symbolTypeParameter);t.set(25,r.Codicon.account);t.set(26,r.Codicon.issues);function n(e){let n=t.get(e);if(!n){console.info("No codicon found for CompletionItemKind "+e);n=r.Codicon.symbolProperty}return n}e.toIcon=n;const i=new Map;i.set("method",0);i.set("function",1);i.set("constructor",2);i.set("field",3);i.set("variable",4);i.set("class",5);i.set("struct",6);i.set("interface",7);i.set("module",8);i.set("property",9);i.set("event",10);i.set("operator",11);i.set("unit",12);i.set("value",13);i.set("constant",14);i.set("enum",15);i.set("enum-member",16);i.set("enumMember",16);i.set("keyword",17);i.set("snippet",27);i.set("text",18);i.set("color",19);i.set("file",20);i.set("reference",21);i.set("customcolor",22);i.set("folder",23);i.set("type-parameter",24);i.set("typeParameter",24);i.set("account",25);i.set("issue",26);function s(e,t){let n=i.get(e);if(typeof n==="undefined"&&!t){n=9}return n}e.fromString=s})(d||(d={}));var g;(function(e){e[e["Automatic"]=0]="Automatic";e[e["Explicit"]=1]="Explicit"})(g||(g={}));class f{constructor(e,t,n,r){this.range=e;this.text=t;this.completionKind=n;this.isSnippetText=r}equals(e){return s.Range.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}var m;(function(e){e[e["Automatic"]=0]="Automatic";e[e["PasteAs"]=1]="PasteAs"})(m||(m={}));var p;(function(e){e[e["Invoke"]=1]="Invoke";e[e["TriggerCharacter"]=2]="TriggerCharacter";e[e["ContentChange"]=3]="ContentChange"})(p||(p={}));var _;(function(e){e[e["Text"]=0]="Text";e[e["Read"]=1]="Read";e[e["Write"]=2]="Write"})(_||(_={}));function b(e){return e&&i.URI.isUri(e.uri)&&s.Range.isIRange(e.range)&&(s.Range.isIRange(e.originSelectionRange)||s.Range.isIRange(e.targetSelectionRange))}const C={[17]:(0,a.localize)("Array","array"),[16]:(0,a.localize)("Boolean","boolean"),[4]:(0,a.localize)("Class","class"),[13]:(0,a.localize)("Constant","constant"),[8]:(0,a.localize)("Constructor","constructor"),[9]:(0,a.localize)("Enum","enumeration"),[21]:(0,a.localize)("EnumMember","enumeration member"),[23]:(0,a.localize)("Event","event"),[7]:(0,a.localize)("Field","field"),[0]:(0,a.localize)("File","file"),[11]:(0,a.localize)("Function","function"),[10]:(0,a.localize)("Interface","interface"),[19]:(0,a.localize)("Key","key"),[5]:(0,a.localize)("Method","method"),[1]:(0,a.localize)("Module","module"),[2]:(0,a.localize)("Namespace","namespace"),[20]:(0,a.localize)("Null","null"),[15]:(0,a.localize)("Number","number"),[18]:(0,a.localize)("Object","object"),[24]:(0,a.localize)("Operator","operator"),[3]:(0,a.localize)("Package","package"),[6]:(0,a.localize)("Property","property"),[14]:(0,a.localize)("String","string"),[22]:(0,a.localize)("Struct","struct"),[25]:(0,a.localize)("TypeParameter","type parameter"),[12]:(0,a.localize)("Variable","variable")};function v(e,t){return(0,a.localize)("symbolAriaLabel","{0} ({1})",e,C[t])}var k;(function(e){const t=new Map;t.set(0,r.Codicon.symbolFile);t.set(1,r.Codicon.symbolModule);t.set(2,r.Codicon.symbolNamespace);t.set(3,r.Codicon.symbolPackage);t.set(4,r.Codicon.symbolClass);t.set(5,r.Codicon.symbolMethod);t.set(6,r.Codicon.symbolProperty);t.set(7,r.Codicon.symbolField);t.set(8,r.Codicon.symbolConstructor);t.set(9,r.Codicon.symbolEnum);t.set(10,r.Codicon.symbolInterface);t.set(11,r.Codicon.symbolFunction);t.set(12,r.Codicon.symbolVariable);t.set(13,r.Codicon.symbolConstant);t.set(14,r.Codicon.symbolString);t.set(15,r.Codicon.symbolNumber);t.set(16,r.Codicon.symbolBoolean);t.set(17,r.Codicon.symbolArray);t.set(18,r.Codicon.symbolObject);t.set(19,r.Codicon.symbolKey);t.set(20,r.Codicon.symbolNull);t.set(21,r.Codicon.symbolEnumMember);t.set(22,r.Codicon.symbolStruct);t.set(23,r.Codicon.symbolEvent);t.set(24,r.Codicon.symbolOperator);t.set(25,r.Codicon.symbolTypeParameter);function n(e){let n=t.get(e);if(!n){console.info("No codicon found for SymbolKind "+e);n=r.Codicon.symbolProperty}return n}e.toIcon=n})(k||(k={}));class L{}class S{static{this.Comment=new S("comment")}static{this.Imports=new S("imports")}static{this.Region=new S("region")}static fromValue(e){switch(e){case"comment":return S.Comment;case"imports":return S.Imports;case"region":return S.Region}return new S(e)}constructor(e){this.value=e}}var w;(function(e){e[e["AIGenerated"]=1]="AIGenerated"})(w||(w={}));var y;(function(e){e[e["Invoke"]=0]="Invoke";e[e["Automatic"]=1]="Automatic"})(y||(y={}));var E;(function(e){function t(e){if(!e||typeof e!=="object"){return false}return typeof e.id==="string"&&typeof e.title==="string"}e.is=t})(E||(E={}));var I;(function(e){e[e["Type"]=1]="Type";e[e["Parameter"]=2]="Parameter"})(I||(I={}));class x{constructor(e){this.createSupport=e;this._tokenizationSupport=null}dispose(){if(this._tokenizationSupport){this._tokenizationSupport.then(e=>{if(e){e.dispose()}})}}get tokenizationSupport(){if(!this._tokenizationSupport){this._tokenizationSupport=this.createSupport()}return this._tokenizationSupport}}const T=new o.TokenizationRegistry;const N=new o.TokenizationRegistry;var B;(function(e){e[e["Invoke"]=0]="Invoke";e[e["Automatic"]=1]="Automatic"})(B||(B={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Codicon:()=>o,codiconsDerived:()=>s});var r=n(37);var i=n(39);const s={dialogError:(0,r.register)("dialog-error","error"),dialogWarning:(0,r.register)("dialog-warning","warning"),dialogInfo:(0,r.register)("dialog-info","info"),dialogClose:(0,r.register)("dialog-close","close"),treeItemExpanded:(0,r.register)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,r.register)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,r.register)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,r.register)("tree-filter-clear","close"),treeItemLoading:(0,r.register)("tree-item-loading","loading"),menuSelection:(0,r.register)("menu-selection","check"),menuSubmenu:(0,r.register)("menu-submenu","chevron-right"),menuBarMore:(0,r.register)("menubar-more","more"),scrollbarButtonLeft:(0,r.register)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,r.register)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,r.register)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,r.register)("scrollbar-button-down","triangle-down"),toolBarMore:(0,r.register)("toolbar-more","more"),quickInputBack:(0,r.register)("quick-input-back","arrow-left"),dropDownButton:(0,r.register)("drop-down-button",60084),symbolCustomColor:(0,r.register)("symbol-customcolor",60252),exportIcon:(0,r.register)("export",60332),workspaceUnspecified:(0,r.register)("workspace-unspecified",60355),newLine:(0,r.register)("newline",60394),thumbsDownFilled:(0,r.register)("thumbsdown-filled",60435),thumbsUpFilled:(0,r.register)("thumbsup-filled",60436),gitFetch:(0,r.register)("git-fetch",60445),lightbulbSparkleAutofix:(0,r.register)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,r.register)("debug-breakpoint-pending",60377)};const o={...i.codiconsLibrary,...s}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{getCodiconFontCharacters:()=>o,register:()=>s});var r=n(38);const i=Object.create(null);function s(e,t){if((0,r.isString)(t)){const n=i[t];if(n===undefined){throw new Error(`${e} references an unknown codicon: ${t}`)}t=n}i[e]=t;return{id:e}}function o(){return i}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{assertIsDefined:()=>g,assertType:()=>d,isBoolean:()=>l,isDefined:()=>u,isFunction:()=>f,isIterable:()=>a,isNumber:()=>o,isObject:()=>i,isString:()=>r,isTypedArray:()=>s,isUndefined:()=>c,isUndefinedOrNull:()=>h,validateConstraint:()=>p,validateConstraints:()=>m});function r(e){return typeof e==="string"}function i(e){return typeof e==="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function s(e){const t=Object.getPrototypeOf(Uint8Array);return typeof e==="object"&&e instanceof t}function o(e){return typeof e==="number"&&!isNaN(e)}function a(e){return!!e&&typeof e[Symbol.iterator]==="function"}function l(e){return e===true||e===false}function c(e){return typeof e==="undefined"}function u(e){return!h(e)}function h(e){return c(e)||e===null}function d(e,t){if(!e){throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}}function g(e){if(h(e)){throw new Error("Assertion Failed: argument is undefined or null")}return e}function f(e){return typeof e==="function"}function m(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){p(e[r],t[r])}}function p(e,t){if(r(t)){if(typeof e!==t){throw new Error(`argument does not match constraint: typeof ${t}`)}}else if(f(t)){try{if(e instanceof t){return}}catch{}if(!h(e)&&e.constructor===t){return}if(t.length===1&&t.call(undefined,e)===true){return}throw new Error(`argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true`)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{codiconsLibrary:()=>i});var r=n(37);const i={add:(0,r.register)("add",6e4),plus:(0,r.register)("plus",6e4),gistNew:(0,r.register)("gist-new",6e4),repoCreate:(0,r.register)("repo-create",6e4),lightbulb:(0,r.register)("lightbulb",60001),lightBulb:(0,r.register)("light-bulb",60001),repo:(0,r.register)("repo",60002),repoDelete:(0,r.register)("repo-delete",60002),gistFork:(0,r.register)("gist-fork",60003),repoForked:(0,r.register)("repo-forked",60003),gitPullRequest:(0,r.register)("git-pull-request",60004),gitPullRequestAbandoned:(0,r.register)("git-pull-request-abandoned",60004),recordKeys:(0,r.register)("record-keys",60005),keyboard:(0,r.register)("keyboard",60005),tag:(0,r.register)("tag",60006),gitPullRequestLabel:(0,r.register)("git-pull-request-label",60006),tagAdd:(0,r.register)("tag-add",60006),tagRemove:(0,r.register)("tag-remove",60006),person:(0,r.register)("person",60007),personFollow:(0,r.register)("person-follow",60007),personOutline:(0,r.register)("person-outline",60007),personFilled:(0,r.register)("person-filled",60007),gitBranch:(0,r.register)("git-branch",60008),gitBranchCreate:(0,r.register)("git-branch-create",60008),gitBranchDelete:(0,r.register)("git-branch-delete",60008),sourceControl:(0,r.register)("source-control",60008),mirror:(0,r.register)("mirror",60009),mirrorPublic:(0,r.register)("mirror-public",60009),star:(0,r.register)("star",60010),starAdd:(0,r.register)("star-add",60010),starDelete:(0,r.register)("star-delete",60010),starEmpty:(0,r.register)("star-empty",60010),comment:(0,r.register)("comment",60011),commentAdd:(0,r.register)("comment-add",60011),alert:(0,r.register)("alert",60012),warning:(0,r.register)("warning",60012),search:(0,r.register)("search",60013),searchSave:(0,r.register)("search-save",60013),logOut:(0,r.register)("log-out",60014),signOut:(0,r.register)("sign-out",60014),logIn:(0,r.register)("log-in",60015),signIn:(0,r.register)("sign-in",60015),eye:(0,r.register)("eye",60016),eyeUnwatch:(0,r.register)("eye-unwatch",60016),eyeWatch:(0,r.register)("eye-watch",60016),circleFilled:(0,r.register)("circle-filled",60017),primitiveDot:(0,r.register)("primitive-dot",60017),closeDirty:(0,r.register)("close-dirty",60017),debugBreakpoint:(0,r.register)("debug-breakpoint",60017),debugBreakpointDisabled:(0,r.register)("debug-breakpoint-disabled",60017),debugHint:(0,r.register)("debug-hint",60017),terminalDecorationSuccess:(0,r.register)("terminal-decoration-success",60017),primitiveSquare:(0,r.register)("primitive-square",60018),edit:(0,r.register)("edit",60019),pencil:(0,r.register)("pencil",60019),info:(0,r.register)("info",60020),issueOpened:(0,r.register)("issue-opened",60020),gistPrivate:(0,r.register)("gist-private",60021),gitForkPrivate:(0,r.register)("git-fork-private",60021),lock:(0,r.register)("lock",60021),mirrorPrivate:(0,r.register)("mirror-private",60021),close:(0,r.register)("close",60022),removeClose:(0,r.register)("remove-close",60022),x:(0,r.register)("x",60022),repoSync:(0,r.register)("repo-sync",60023),sync:(0,r.register)("sync",60023),clone:(0,r.register)("clone",60024),desktopDownload:(0,r.register)("desktop-download",60024),beaker:(0,r.register)("beaker",60025),microscope:(0,r.register)("microscope",60025),vm:(0,r.register)("vm",60026),deviceDesktop:(0,r.register)("device-desktop",60026),file:(0,r.register)("file",60027),fileText:(0,r.register)("file-text",60027),more:(0,r.register)("more",60028),ellipsis:(0,r.register)("ellipsis",60028),kebabHorizontal:(0,r.register)("kebab-horizontal",60028),mailReply:(0,r.register)("mail-reply",60029),reply:(0,r.register)("reply",60029),organization:(0,r.register)("organization",60030),organizationFilled:(0,r.register)("organization-filled",60030),organizationOutline:(0,r.register)("organization-outline",60030),newFile:(0,r.register)("new-file",60031),fileAdd:(0,r.register)("file-add",60031),newFolder:(0,r.register)("new-folder",60032),fileDirectoryCreate:(0,r.register)("file-directory-create",60032),trash:(0,r.register)("trash",60033),trashcan:(0,r.register)("trashcan",60033),history:(0,r.register)("history",60034),clock:(0,r.register)("clock",60034),folder:(0,r.register)("folder",60035),fileDirectory:(0,r.register)("file-directory",60035),symbolFolder:(0,r.register)("symbol-folder",60035),logoGithub:(0,r.register)("logo-github",60036),markGithub:(0,r.register)("mark-github",60036),github:(0,r.register)("github",60036),terminal:(0,r.register)("terminal",60037),console:(0,r.register)("console",60037),repl:(0,r.register)("repl",60037),zap:(0,r.register)("zap",60038),symbolEvent:(0,r.register)("symbol-event",60038),error:(0,r.register)("error",60039),stop:(0,r.register)("stop",60039),variable:(0,r.register)("variable",60040),symbolVariable:(0,r.register)("symbol-variable",60040),array:(0,r.register)("array",60042),symbolArray:(0,r.register)("symbol-array",60042),symbolModule:(0,r.register)("symbol-module",60043),symbolPackage:(0,r.register)("symbol-package",60043),symbolNamespace:(0,r.register)("symbol-namespace",60043),symbolObject:(0,r.register)("symbol-object",60043),symbolMethod:(0,r.register)("symbol-method",60044),symbolFunction:(0,r.register)("symbol-function",60044),symbolConstructor:(0,r.register)("symbol-constructor",60044),symbolBoolean:(0,r.register)("symbol-boolean",60047),symbolNull:(0,r.register)("symbol-null",60047),symbolNumeric:(0,r.register)("symbol-numeric",60048),symbolNumber:(0,r.register)("symbol-number",60048),symbolStructure:(0,r.register)("symbol-structure",60049),symbolStruct:(0,r.register)("symbol-struct",60049),symbolParameter:(0,r.register)("symbol-parameter",60050),symbolTypeParameter:(0,r.register)("symbol-type-parameter",60050),symbolKey:(0,r.register)("symbol-key",60051),symbolText:(0,r.register)("symbol-text",60051),symbolReference:(0,r.register)("symbol-reference",60052),goToFile:(0,r.register)("go-to-file",60052),symbolEnum:(0,r.register)("symbol-enum",60053),symbolValue:(0,r.register)("symbol-value",60053),symbolRuler:(0,r.register)("symbol-ruler",60054),symbolUnit:(0,r.register)("symbol-unit",60054),activateBreakpoints:(0,r.register)("activate-breakpoints",60055),archive:(0,r.register)("archive",60056),arrowBoth:(0,r.register)("arrow-both",60057),arrowDown:(0,r.register)("arrow-down",60058),arrowLeft:(0,r.register)("arrow-left",60059),arrowRight:(0,r.register)("arrow-right",60060),arrowSmallDown:(0,r.register)("arrow-small-down",60061),arrowSmallLeft:(0,r.register)("arrow-small-left",60062),arrowSmallRight:(0,r.register)("arrow-small-right",60063),arrowSmallUp:(0,r.register)("arrow-small-up",60064),arrowUp:(0,r.register)("arrow-up",60065),bell:(0,r.register)("bell",60066),bold:(0,r.register)("bold",60067),book:(0,r.register)("book",60068),bookmark:(0,r.register)("bookmark",60069),debugBreakpointConditionalUnverified:(0,r.register)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,r.register)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,r.register)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,r.register)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,r.register)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,r.register)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,r.register)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,r.register)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,r.register)("debug-breakpoint-log-disabled",60075),briefcase:(0,r.register)("briefcase",60076),broadcast:(0,r.register)("broadcast",60077),browser:(0,r.register)("browser",60078),bug:(0,r.register)("bug",60079),calendar:(0,r.register)("calendar",60080),caseSensitive:(0,r.register)("case-sensitive",60081),check:(0,r.register)("check",60082),checklist:(0,r.register)("checklist",60083),chevronDown:(0,r.register)("chevron-down",60084),chevronLeft:(0,r.register)("chevron-left",60085),chevronRight:(0,r.register)("chevron-right",60086),chevronUp:(0,r.register)("chevron-up",60087),chromeClose:(0,r.register)("chrome-close",60088),chromeMaximize:(0,r.register)("chrome-maximize",60089),chromeMinimize:(0,r.register)("chrome-minimize",60090),chromeRestore:(0,r.register)("chrome-restore",60091),circleOutline:(0,r.register)("circle-outline",60092),circle:(0,r.register)("circle",60092),debugBreakpointUnverified:(0,r.register)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,r.register)("terminal-decoration-incomplete",60092),circleSlash:(0,r.register)("circle-slash",60093),circuitBoard:(0,r.register)("circuit-board",60094),clearAll:(0,r.register)("clear-all",60095),clippy:(0,r.register)("clippy",60096),closeAll:(0,r.register)("close-all",60097),cloudDownload:(0,r.register)("cloud-download",60098),cloudUpload:(0,r.register)("cloud-upload",60099),code:(0,r.register)("code",60100),collapseAll:(0,r.register)("collapse-all",60101),colorMode:(0,r.register)("color-mode",60102),commentDiscussion:(0,r.register)("comment-discussion",60103),creditCard:(0,r.register)("credit-card",60105),dash:(0,r.register)("dash",60108),dashboard:(0,r.register)("dashboard",60109),database:(0,r.register)("database",60110),debugContinue:(0,r.register)("debug-continue",60111),debugDisconnect:(0,r.register)("debug-disconnect",60112),debugPause:(0,r.register)("debug-pause",60113),debugRestart:(0,r.register)("debug-restart",60114),debugStart:(0,r.register)("debug-start",60115),debugStepInto:(0,r.register)("debug-step-into",60116),debugStepOut:(0,r.register)("debug-step-out",60117),debugStepOver:(0,r.register)("debug-step-over",60118),debugStop:(0,r.register)("debug-stop",60119),debug:(0,r.register)("debug",60120),deviceCameraVideo:(0,r.register)("device-camera-video",60121),deviceCamera:(0,r.register)("device-camera",60122),deviceMobile:(0,r.register)("device-mobile",60123),diffAdded:(0,r.register)("diff-added",60124),diffIgnored:(0,r.register)("diff-ignored",60125),diffModified:(0,r.register)("diff-modified",60126),diffRemoved:(0,r.register)("diff-removed",60127),diffRenamed:(0,r.register)("diff-renamed",60128),diff:(0,r.register)("diff",60129),diffSidebyside:(0,r.register)("diff-sidebyside",60129),discard:(0,r.register)("discard",60130),editorLayout:(0,r.register)("editor-layout",60131),emptyWindow:(0,r.register)("empty-window",60132),exclude:(0,r.register)("exclude",60133),extensions:(0,r.register)("extensions",60134),eyeClosed:(0,r.register)("eye-closed",60135),fileBinary:(0,r.register)("file-binary",60136),fileCode:(0,r.register)("file-code",60137),fileMedia:(0,r.register)("file-media",60138),filePdf:(0,r.register)("file-pdf",60139),fileSubmodule:(0,r.register)("file-submodule",60140),fileSymlinkDirectory:(0,r.register)("file-symlink-directory",60141),fileSymlinkFile:(0,r.register)("file-symlink-file",60142),fileZip:(0,r.register)("file-zip",60143),files:(0,r.register)("files",60144),filter:(0,r.register)("filter",60145),flame:(0,r.register)("flame",60146),foldDown:(0,r.register)("fold-down",60147),foldUp:(0,r.register)("fold-up",60148),fold:(0,r.register)("fold",60149),folderActive:(0,r.register)("folder-active",60150),folderOpened:(0,r.register)("folder-opened",60151),gear:(0,r.register)("gear",60152),gift:(0,r.register)("gift",60153),gistSecret:(0,r.register)("gist-secret",60154),gist:(0,r.register)("gist",60155),gitCommit:(0,r.register)("git-commit",60156),gitCompare:(0,r.register)("git-compare",60157),compareChanges:(0,r.register)("compare-changes",60157),gitMerge:(0,r.register)("git-merge",60158),githubAction:(0,r.register)("github-action",60159),githubAlt:(0,r.register)("github-alt",60160),globe:(0,r.register)("globe",60161),grabber:(0,r.register)("grabber",60162),graph:(0,r.register)("graph",60163),gripper:(0,r.register)("gripper",60164),heart:(0,r.register)("heart",60165),home:(0,r.register)("home",60166),horizontalRule:(0,r.register)("horizontal-rule",60167),hubot:(0,r.register)("hubot",60168),inbox:(0,r.register)("inbox",60169),issueReopened:(0,r.register)("issue-reopened",60171),issues:(0,r.register)("issues",60172),italic:(0,r.register)("italic",60173),jersey:(0,r.register)("jersey",60174),json:(0,r.register)("json",60175),kebabVertical:(0,r.register)("kebab-vertical",60176),key:(0,r.register)("key",60177),law:(0,r.register)("law",60178),lightbulbAutofix:(0,r.register)("lightbulb-autofix",60179),linkExternal:(0,r.register)("link-external",60180),link:(0,r.register)("link",60181),listOrdered:(0,r.register)("list-ordered",60182),listUnordered:(0,r.register)("list-unordered",60183),liveShare:(0,r.register)("live-share",60184),loading:(0,r.register)("loading",60185),location:(0,r.register)("location",60186),mailRead:(0,r.register)("mail-read",60187),mail:(0,r.register)("mail",60188),markdown:(0,r.register)("markdown",60189),megaphone:(0,r.register)("megaphone",60190),mention:(0,r.register)("mention",60191),milestone:(0,r.register)("milestone",60192),gitPullRequestMilestone:(0,r.register)("git-pull-request-milestone",60192),mortarBoard:(0,r.register)("mortar-board",60193),move:(0,r.register)("move",60194),multipleWindows:(0,r.register)("multiple-windows",60195),mute:(0,r.register)("mute",60196),noNewline:(0,r.register)("no-newline",60197),note:(0,r.register)("note",60198),octoface:(0,r.register)("octoface",60199),openPreview:(0,r.register)("open-preview",60200),package:(0,r.register)("package",60201),paintcan:(0,r.register)("paintcan",60202),pin:(0,r.register)("pin",60203),play:(0,r.register)("play",60204),run:(0,r.register)("run",60204),plug:(0,r.register)("plug",60205),preserveCase:(0,r.register)("preserve-case",60206),preview:(0,r.register)("preview",60207),project:(0,r.register)("project",60208),pulse:(0,r.register)("pulse",60209),question:(0,r.register)("question",60210),quote:(0,r.register)("quote",60211),radioTower:(0,r.register)("radio-tower",60212),reactions:(0,r.register)("reactions",60213),references:(0,r.register)("references",60214),refresh:(0,r.register)("refresh",60215),regex:(0,r.register)("regex",60216),remoteExplorer:(0,r.register)("remote-explorer",60217),remote:(0,r.register)("remote",60218),remove:(0,r.register)("remove",60219),replaceAll:(0,r.register)("replace-all",60220),replace:(0,r.register)("replace",60221),repoClone:(0,r.register)("repo-clone",60222),repoForcePush:(0,r.register)("repo-force-push",60223),repoPull:(0,r.register)("repo-pull",60224),repoPush:(0,r.register)("repo-push",60225),report:(0,r.register)("report",60226),requestChanges:(0,r.register)("request-changes",60227),rocket:(0,r.register)("rocket",60228),rootFolderOpened:(0,r.register)("root-folder-opened",60229),rootFolder:(0,r.register)("root-folder",60230),rss:(0,r.register)("rss",60231),ruby:(0,r.register)("ruby",60232),saveAll:(0,r.register)("save-all",60233),saveAs:(0,r.register)("save-as",60234),save:(0,r.register)("save",60235),screenFull:(0,r.register)("screen-full",60236),screenNormal:(0,r.register)("screen-normal",60237),searchStop:(0,r.register)("search-stop",60238),server:(0,r.register)("server",60240),settingsGear:(0,r.register)("settings-gear",60241),settings:(0,r.register)("settings",60242),shield:(0,r.register)("shield",60243),smiley:(0,r.register)("smiley",60244),sortPrecedence:(0,r.register)("sort-precedence",60245),splitHorizontal:(0,r.register)("split-horizontal",60246),splitVertical:(0,r.register)("split-vertical",60247),squirrel:(0,r.register)("squirrel",60248),starFull:(0,r.register)("star-full",60249),starHalf:(0,r.register)("star-half",60250),symbolClass:(0,r.register)("symbol-class",60251),symbolColor:(0,r.register)("symbol-color",60252),symbolConstant:(0,r.register)("symbol-constant",60253),symbolEnumMember:(0,r.register)("symbol-enum-member",60254),symbolField:(0,r.register)("symbol-field",60255),symbolFile:(0,r.register)("symbol-file",60256),symbolInterface:(0,r.register)("symbol-interface",60257),symbolKeyword:(0,r.register)("symbol-keyword",60258),symbolMisc:(0,r.register)("symbol-misc",60259),symbolOperator:(0,r.register)("symbol-operator",60260),symbolProperty:(0,r.register)("symbol-property",60261),wrench:(0,r.register)("wrench",60261),wrenchSubaction:(0,r.register)("wrench-subaction",60261),symbolSnippet:(0,r.register)("symbol-snippet",60262),tasklist:(0,r.register)("tasklist",60263),telescope:(0,r.register)("telescope",60264),textSize:(0,r.register)("text-size",60265),threeBars:(0,r.register)("three-bars",60266),thumbsdown:(0,r.register)("thumbsdown",60267),thumbsup:(0,r.register)("thumbsup",60268),tools:(0,r.register)("tools",60269),triangleDown:(0,r.register)("triangle-down",60270),triangleLeft:(0,r.register)("triangle-left",60271),triangleRight:(0,r.register)("triangle-right",60272),triangleUp:(0,r.register)("triangle-up",60273),twitter:(0,r.register)("twitter",60274),unfold:(0,r.register)("unfold",60275),unlock:(0,r.register)("unlock",60276),unmute:(0,r.register)("unmute",60277),unverified:(0,r.register)("unverified",60278),verified:(0,r.register)("verified",60279),versions:(0,r.register)("versions",60280),vmActive:(0,r.register)("vm-active",60281),vmOutline:(0,r.register)("vm-outline",60282),vmRunning:(0,r.register)("vm-running",60283),watch:(0,r.register)("watch",60284),whitespace:(0,r.register)("whitespace",60285),wholeWord:(0,r.register)("whole-word",60286),window:(0,r.register)("window",60287),wordWrap:(0,r.register)("word-wrap",60288),zoomIn:(0,r.register)("zoom-in",60289),zoomOut:(0,r.register)("zoom-out",60290),listFilter:(0,r.register)("list-filter",60291),listFlat:(0,r.register)("list-flat",60292),listSelection:(0,r.register)("list-selection",60293),selection:(0,r.register)("selection",60293),listTree:(0,r.register)("list-tree",60294),debugBreakpointFunctionUnverified:(0,r.register)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,r.register)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,r.register)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,r.register)("debug-stackframe-active",60297),circleSmallFilled:(0,r.register)("circle-small-filled",60298),debugStackframeDot:(0,r.register)("debug-stackframe-dot",60298),terminalDecorationMark:(0,r.register)("terminal-decoration-mark",60298),debugStackframe:(0,r.register)("debug-stackframe",60299),debugStackframeFocused:(0,r.register)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,r.register)("debug-breakpoint-unsupported",60300),symbolString:(0,r.register)("symbol-string",60301),debugReverseContinue:(0,r.register)("debug-reverse-continue",60302),debugStepBack:(0,r.register)("debug-step-back",60303),debugRestartFrame:(0,r.register)("debug-restart-frame",60304),debugAlt:(0,r.register)("debug-alt",60305),callIncoming:(0,r.register)("call-incoming",60306),callOutgoing:(0,r.register)("call-outgoing",60307),menu:(0,r.register)("menu",60308),expandAll:(0,r.register)("expand-all",60309),feedback:(0,r.register)("feedback",60310),gitPullRequestReviewer:(0,r.register)("git-pull-request-reviewer",60310),groupByRefType:(0,r.register)("group-by-ref-type",60311),ungroupByRefType:(0,r.register)("ungroup-by-ref-type",60312),account:(0,r.register)("account",60313),gitPullRequestAssignee:(0,r.register)("git-pull-request-assignee",60313),bellDot:(0,r.register)("bell-dot",60314),debugConsole:(0,r.register)("debug-console",60315),library:(0,r.register)("library",60316),output:(0,r.register)("output",60317),runAll:(0,r.register)("run-all",60318),syncIgnored:(0,r.register)("sync-ignored",60319),pinned:(0,r.register)("pinned",60320),githubInverted:(0,r.register)("github-inverted",60321),serverProcess:(0,r.register)("server-process",60322),serverEnvironment:(0,r.register)("server-environment",60323),pass:(0,r.register)("pass",60324),issueClosed:(0,r.register)("issue-closed",60324),stopCircle:(0,r.register)("stop-circle",60325),playCircle:(0,r.register)("play-circle",60326),record:(0,r.register)("record",60327),debugAltSmall:(0,r.register)("debug-alt-small",60328),vmConnect:(0,r.register)("vm-connect",60329),cloud:(0,r.register)("cloud",60330),merge:(0,r.register)("merge",60331),export:(0,r.register)("export",60332),graphLeft:(0,r.register)("graph-left",60333),magnet:(0,r.register)("magnet",60334),notebook:(0,r.register)("notebook",60335),redo:(0,r.register)("redo",60336),checkAll:(0,r.register)("check-all",60337),pinnedDirty:(0,r.register)("pinned-dirty",60338),passFilled:(0,r.register)("pass-filled",60339),circleLargeFilled:(0,r.register)("circle-large-filled",60340),circleLarge:(0,r.register)("circle-large",60341),circleLargeOutline:(0,r.register)("circle-large-outline",60341),combine:(0,r.register)("combine",60342),gather:(0,r.register)("gather",60342),table:(0,r.register)("table",60343),variableGroup:(0,r.register)("variable-group",60344),typeHierarchy:(0,r.register)("type-hierarchy",60345),typeHierarchySub:(0,r.register)("type-hierarchy-sub",60346),typeHierarchySuper:(0,r.register)("type-hierarchy-super",60347),gitPullRequestCreate:(0,r.register)("git-pull-request-create",60348),runAbove:(0,r.register)("run-above",60349),runBelow:(0,r.register)("run-below",60350),notebookTemplate:(0,r.register)("notebook-template",60351),debugRerun:(0,r.register)("debug-rerun",60352),workspaceTrusted:(0,r.register)("workspace-trusted",60353),workspaceUntrusted:(0,r.register)("workspace-untrusted",60354),workspaceUnknown:(0,r.register)("workspace-unknown",60355),terminalCmd:(0,r.register)("terminal-cmd",60356),terminalDebian:(0,r.register)("terminal-debian",60357),terminalLinux:(0,r.register)("terminal-linux",60358),terminalPowershell:(0,r.register)("terminal-powershell",60359),terminalTmux:(0,r.register)("terminal-tmux",60360),terminalUbuntu:(0,r.register)("terminal-ubuntu",60361),terminalBash:(0,r.register)("terminal-bash",60362),arrowSwap:(0,r.register)("arrow-swap",60363),copy:(0,r.register)("copy",60364),personAdd:(0,r.register)("person-add",60365),filterFilled:(0,r.register)("filter-filled",60366),wand:(0,r.register)("wand",60367),debugLineByLine:(0,r.register)("debug-line-by-line",60368),inspect:(0,r.register)("inspect",60369),layers:(0,r.register)("layers",60370),layersDot:(0,r.register)("layers-dot",60371),layersActive:(0,r.register)("layers-active",60372),compass:(0,r.register)("compass",60373),compassDot:(0,r.register)("compass-dot",60374),compassActive:(0,r.register)("compass-active",60375),azure:(0,r.register)("azure",60376),issueDraft:(0,r.register)("issue-draft",60377),gitPullRequestClosed:(0,r.register)("git-pull-request-closed",60378),gitPullRequestDraft:(0,r.register)("git-pull-request-draft",60379),debugAll:(0,r.register)("debug-all",60380),debugCoverage:(0,r.register)("debug-coverage",60381),runErrors:(0,r.register)("run-errors",60382),folderLibrary:(0,r.register)("folder-library",60383),debugContinueSmall:(0,r.register)("debug-continue-small",60384),beakerStop:(0,r.register)("beaker-stop",60385),graphLine:(0,r.register)("graph-line",60386),graphScatter:(0,r.register)("graph-scatter",60387),pieChart:(0,r.register)("pie-chart",60388),bracket:(0,r.register)("bracket",60175),bracketDot:(0,r.register)("bracket-dot",60389),bracketError:(0,r.register)("bracket-error",60390),lockSmall:(0,r.register)("lock-small",60391),azureDevops:(0,r.register)("azure-devops",60392),verifiedFilled:(0,r.register)("verified-filled",60393),newline:(0,r.register)("newline",60394),layout:(0,r.register)("layout",60395),layoutActivitybarLeft:(0,r.register)("layout-activitybar-left",60396),layoutActivitybarRight:(0,r.register)("layout-activitybar-right",60397),layoutPanelLeft:(0,r.register)("layout-panel-left",60398),layoutPanelCenter:(0,r.register)("layout-panel-center",60399),layoutPanelJustify:(0,r.register)("layout-panel-justify",60400),layoutPanelRight:(0,r.register)("layout-panel-right",60401),layoutPanel:(0,r.register)("layout-panel",60402),layoutSidebarLeft:(0,r.register)("layout-sidebar-left",60403),layoutSidebarRight:(0,r.register)("layout-sidebar-right",60404),layoutStatusbar:(0,r.register)("layout-statusbar",60405),layoutMenubar:(0,r.register)("layout-menubar",60406),layoutCentered:(0,r.register)("layout-centered",60407),target:(0,r.register)("target",60408),indent:(0,r.register)("indent",60409),recordSmall:(0,r.register)("record-small",60410),errorSmall:(0,r.register)("error-small",60411),terminalDecorationError:(0,r.register)("terminal-decoration-error",60411),arrowCircleDown:(0,r.register)("arrow-circle-down",60412),arrowCircleLeft:(0,r.register)("arrow-circle-left",60413),arrowCircleRight:(0,r.register)("arrow-circle-right",60414),arrowCircleUp:(0,r.register)("arrow-circle-up",60415),layoutSidebarRightOff:(0,r.register)("layout-sidebar-right-off",60416),layoutPanelOff:(0,r.register)("layout-panel-off",60417),layoutSidebarLeftOff:(0,r.register)("layout-sidebar-left-off",60418),blank:(0,r.register)("blank",60419),heartFilled:(0,r.register)("heart-filled",60420),map:(0,r.register)("map",60421),mapHorizontal:(0,r.register)("map-horizontal",60421),foldHorizontal:(0,r.register)("fold-horizontal",60421),mapFilled:(0,r.register)("map-filled",60422),mapHorizontalFilled:(0,r.register)("map-horizontal-filled",60422),foldHorizontalFilled:(0,r.register)("fold-horizontal-filled",60422),circleSmall:(0,r.register)("circle-small",60423),bellSlash:(0,r.register)("bell-slash",60424),bellSlashDot:(0,r.register)("bell-slash-dot",60425),commentUnresolved:(0,r.register)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,r.register)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,r.register)("git-pull-request-new-changes",60428),searchFuzzy:(0,r.register)("search-fuzzy",60429),commentDraft:(0,r.register)("comment-draft",60430),send:(0,r.register)("send",60431),sparkle:(0,r.register)("sparkle",60432),insert:(0,r.register)("insert",60433),mic:(0,r.register)("mic",60434),thumbsdownFilled:(0,r.register)("thumbsdown-filled",60435),thumbsupFilled:(0,r.register)("thumbsup-filled",60436),coffee:(0,r.register)("coffee",60437),snake:(0,r.register)("snake",60438),game:(0,r.register)("game",60439),vr:(0,r.register)("vr",60440),chip:(0,r.register)("chip",60441),piano:(0,r.register)("piano",60442),music:(0,r.register)("music",60443),micFilled:(0,r.register)("mic-filled",60444),repoFetch:(0,r.register)("repo-fetch",60445),copilot:(0,r.register)("copilot",60446),lightbulbSparkle:(0,r.register)("lightbulb-sparkle",60447),robot:(0,r.register)("robot",60448),sparkleFilled:(0,r.register)("sparkle-filled",60449),diffSingle:(0,r.register)("diff-single",60450),diffMultiple:(0,r.register)("diff-multiple",60451),surroundWith:(0,r.register)("surround-with",60452),share:(0,r.register)("share",60453),gitStash:(0,r.register)("git-stash",60454),gitStashApply:(0,r.register)("git-stash-apply",60455),gitStashPop:(0,r.register)("git-stash-pop",60456),vscode:(0,r.register)("vscode",60457),vscodeInsiders:(0,r.register)("vscode-insiders",60458),codeOss:(0,r.register)("code-oss",60459),runCoverage:(0,r.register)("run-coverage",60460),runAllCoverage:(0,r.register)("run-all-coverage",60461),coverage:(0,r.register)("coverage",60462),githubProject:(0,r.register)("github-project",60463),mapVertical:(0,r.register)("map-vertical",60464),foldVertical:(0,r.register)("fold-vertical",60464),mapVerticalFilled:(0,r.register)("map-vertical-filled",60465),foldVerticalFilled:(0,r.register)("fold-vertical-filled",60465),goToSearch:(0,r.register)("go-to-search",60466),percentage:(0,r.register)("percentage",60467),sortPercentage:(0,r.register)("sort-percentage",60467),attach:(0,r.register)("attach",60468)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{TokenizationRegistry:()=>s});var r=n(3);var i=n(5);class s{constructor(){this._tokenizationSupports=new Map;this._factories=new Map;this._onDidChange=new r.Emitter;this.onDidChange=this._onDidChange.event;this._colorMap=null}handleChange(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:false})}register(e,t){this._tokenizationSupports.set(e,t);this.handleChange([e]);return(0,i.toDisposable)(()=>{if(this._tokenizationSupports.get(e)!==t){return}this._tokenizationSupports.delete(e);this.handleChange([e])})}get(e){return this._tokenizationSupports.get(e)||null}registerFactory(e,t){this._factories.get(e)?.dispose();const n=new o(this,e,t);this._factories.set(e,n);return(0,i.toDisposable)(()=>{const t=this._factories.get(e);if(!t||t!==n){return}this._factories.delete(e);t.dispose()})}async getOrCreate(e){const t=this.get(e);if(t){return t}const n=this._factories.get(e);if(!n||n.isResolved){return null}await n.resolve();return this.get(e)}isResolved(e){const t=this.get(e);if(t){return true}const n=this._factories.get(e);if(!n||n.isResolved){return true}return false}setColorMap(e){this._colorMap=e;this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:true})}getColorMap(){return this._colorMap}getDefaultBackground(){if(this._colorMap&&this._colorMap.length>2){return this._colorMap[2]}return null}}class o extends i.Disposable{get isResolved(){return this._isResolved}constructor(e,t,n){super();this._registry=e;this._languageId=t;this._factory=n;this._isDisposed=false;this._resolvePromise=null;this._isResolved=false}dispose(){this._isDisposed=true;super.dispose()}async resolve(){if(!this._resolvePromise){this._resolvePromise=this._create()}return this._resolvePromise}async _create(){const e=await this._factory.tokenizationSupport;this._isResolved=true;if(e&&!this._isDisposed){this._register(this._registry.register(this._languageId,e))}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AccessibilitySupport:()=>r,CodeActionTriggerType:()=>i,CompletionItemInsertTextRule:()=>s,CompletionItemKind:()=>o,CompletionItemTag:()=>a,CompletionTriggerKind:()=>l,ContentWidgetPositionPreference:()=>c,CursorChangeReason:()=>u,DefaultEndOfLine:()=>h,DocumentHighlightKind:()=>d,EditorAutoIndentStrategy:()=>g,EditorOption:()=>f,EndOfLinePreference:()=>m,EndOfLineSequence:()=>p,GlyphMarginLane:()=>_,HoverVerbosityAction:()=>b,IndentAction:()=>C,InjectedTextCursorStops:()=>v,InlayHintKind:()=>k,InlineCompletionTriggerKind:()=>L,InlineEditTriggerKind:()=>S,KeyCode:()=>w,MarkerSeverity:()=>y,MarkerTag:()=>E,MinimapPosition:()=>I,MinimapSectionHeaderStyle:()=>x,MouseTargetType:()=>T,NewSymbolNameTag:()=>N,NewSymbolNameTriggerKind:()=>B,OverlayWidgetPositionPreference:()=>R,OverviewRulerLane:()=>A,PartialAcceptTriggerKind:()=>O,PositionAffinity:()=>D,RenderLineNumbersType:()=>F,RenderMinimap:()=>M,ScrollType:()=>P,ScrollbarVisibility:()=>z,SelectionDirection:()=>q,ShowLightbulbIconMode:()=>H,SignatureHelpTriggerKind:()=>V,SymbolKind:()=>W,SymbolTag:()=>U,TextEditorCursorBlinkingStyle:()=>K,TextEditorCursorStyle:()=>j,TrackedRangeStickiness:()=>$,WrappingIndent:()=>G});var r;(function(e){e[e["Unknown"]=0]="Unknown";e[e["Disabled"]=1]="Disabled";e[e["Enabled"]=2]="Enabled"})(r||(r={}));var i;(function(e){e[e["Invoke"]=1]="Invoke";e[e["Auto"]=2]="Auto"})(i||(i={}));var s;(function(e){e[e["None"]=0]="None";e[e["KeepWhitespace"]=1]="KeepWhitespace";e[e["InsertAsSnippet"]=4]="InsertAsSnippet"})(s||(s={}));var o;(function(e){e[e["Method"]=0]="Method";e[e["Function"]=1]="Function";e[e["Constructor"]=2]="Constructor";e[e["Field"]=3]="Field";e[e["Variable"]=4]="Variable";e[e["Class"]=5]="Class";e[e["Struct"]=6]="Struct";e[e["Interface"]=7]="Interface";e[e["Module"]=8]="Module";e[e["Property"]=9]="Property";e[e["Event"]=10]="Event";e[e["Operator"]=11]="Operator";e[e["Unit"]=12]="Unit";e[e["Value"]=13]="Value";e[e["Constant"]=14]="Constant";e[e["Enum"]=15]="Enum";e[e["EnumMember"]=16]="EnumMember";e[e["Keyword"]=17]="Keyword";e[e["Text"]=18]="Text";e[e["Color"]=19]="Color";e[e["File"]=20]="File";e[e["Reference"]=21]="Reference";e[e["Customcolor"]=22]="Customcolor";e[e["Folder"]=23]="Folder";e[e["TypeParameter"]=24]="TypeParameter";e[e["User"]=25]="User";e[e["Issue"]=26]="Issue";e[e["Snippet"]=27]="Snippet"})(o||(o={}));var a;(function(e){e[e["Deprecated"]=1]="Deprecated"})(a||(a={}));var l;(function(e){e[e["Invoke"]=0]="Invoke";e[e["TriggerCharacter"]=1]="TriggerCharacter";e[e["TriggerForIncompleteCompletions"]=2]="TriggerForIncompleteCompletions"})(l||(l={}));var c;(function(e){e[e["EXACT"]=0]="EXACT";e[e["ABOVE"]=1]="ABOVE";e[e["BELOW"]=2]="BELOW"})(c||(c={}));var u;(function(e){e[e["NotSet"]=0]="NotSet";e[e["ContentFlush"]=1]="ContentFlush";e[e["RecoverFromMarkers"]=2]="RecoverFromMarkers";e[e["Explicit"]=3]="Explicit";e[e["Paste"]=4]="Paste";e[e["Undo"]=5]="Undo";e[e["Redo"]=6]="Redo"})(u||(u={}));var h;(function(e){e[e["LF"]=1]="LF";e[e["CRLF"]=2]="CRLF"})(h||(h={}));var d;(function(e){e[e["Text"]=0]="Text";e[e["Read"]=1]="Read";e[e["Write"]=2]="Write"})(d||(d={}));var g;(function(e){e[e["None"]=0]="None";e[e["Keep"]=1]="Keep";e[e["Brackets"]=2]="Brackets";e[e["Advanced"]=3]="Advanced";e[e["Full"]=4]="Full"})(g||(g={}));var f;(function(e){e[e["acceptSuggestionOnCommitCharacter"]=0]="acceptSuggestionOnCommitCharacter";e[e["acceptSuggestionOnEnter"]=1]="acceptSuggestionOnEnter";e[e["accessibilitySupport"]=2]="accessibilitySupport";e[e["accessibilityPageSize"]=3]="accessibilityPageSize";e[e["ariaLabel"]=4]="ariaLabel";e[e["ariaRequired"]=5]="ariaRequired";e[e["autoClosingBrackets"]=6]="autoClosingBrackets";e[e["autoClosingComments"]=7]="autoClosingComments";e[e["screenReaderAnnounceInlineSuggestion"]=8]="screenReaderAnnounceInlineSuggestion";e[e["autoClosingDelete"]=9]="autoClosingDelete";e[e["autoClosingOvertype"]=10]="autoClosingOvertype";e[e["autoClosingQuotes"]=11]="autoClosingQuotes";e[e["autoIndent"]=12]="autoIndent";e[e["automaticLayout"]=13]="automaticLayout";e[e["autoSurround"]=14]="autoSurround";e[e["bracketPairColorization"]=15]="bracketPairColorization";e[e["guides"]=16]="guides";e[e["codeLens"]=17]="codeLens";e[e["codeLensFontFamily"]=18]="codeLensFontFamily";e[e["codeLensFontSize"]=19]="codeLensFontSize";e[e["colorDecorators"]=20]="colorDecorators";e[e["colorDecoratorsLimit"]=21]="colorDecoratorsLimit";e[e["columnSelection"]=22]="columnSelection";e[e["comments"]=23]="comments";e[e["contextmenu"]=24]="contextmenu";e[e["copyWithSyntaxHighlighting"]=25]="copyWithSyntaxHighlighting";e[e["cursorBlinking"]=26]="cursorBlinking";e[e["cursorSmoothCaretAnimation"]=27]="cursorSmoothCaretAnimation";e[e["cursorStyle"]=28]="cursorStyle";e[e["cursorSurroundingLines"]=29]="cursorSurroundingLines";e[e["cursorSurroundingLinesStyle"]=30]="cursorSurroundingLinesStyle";e[e["cursorWidth"]=31]="cursorWidth";e[e["disableLayerHinting"]=32]="disableLayerHinting";e[e["disableMonospaceOptimizations"]=33]="disableMonospaceOptimizations";e[e["domReadOnly"]=34]="domReadOnly";e[e["dragAndDrop"]=35]="dragAndDrop";e[e["dropIntoEditor"]=36]="dropIntoEditor";e[e["emptySelectionClipboard"]=37]="emptySelectionClipboard";e[e["experimentalWhitespaceRendering"]=38]="experimentalWhitespaceRendering";e[e["extraEditorClassName"]=39]="extraEditorClassName";e[e["fastScrollSensitivity"]=40]="fastScrollSensitivity";e[e["find"]=41]="find";e[e["fixedOverflowWidgets"]=42]="fixedOverflowWidgets";e[e["folding"]=43]="folding";e[e["foldingStrategy"]=44]="foldingStrategy";e[e["foldingHighlight"]=45]="foldingHighlight";e[e["foldingImportsByDefault"]=46]="foldingImportsByDefault";e[e["foldingMaximumRegions"]=47]="foldingMaximumRegions";e[e["unfoldOnClickAfterEndOfLine"]=48]="unfoldOnClickAfterEndOfLine";e[e["fontFamily"]=49]="fontFamily";e[e["fontInfo"]=50]="fontInfo";e[e["fontLigatures"]=51]="fontLigatures";e[e["fontSize"]=52]="fontSize";e[e["fontWeight"]=53]="fontWeight";e[e["fontVariations"]=54]="fontVariations";e[e["formatOnPaste"]=55]="formatOnPaste";e[e["formatOnType"]=56]="formatOnType";e[e["glyphMargin"]=57]="glyphMargin";e[e["gotoLocation"]=58]="gotoLocation";e[e["hideCursorInOverviewRuler"]=59]="hideCursorInOverviewRuler";e[e["hover"]=60]="hover";e[e["inDiffEditor"]=61]="inDiffEditor";e[e["inlineSuggest"]=62]="inlineSuggest";e[e["inlineEdit"]=63]="inlineEdit";e[e["letterSpacing"]=64]="letterSpacing";e[e["lightbulb"]=65]="lightbulb";e[e["lineDecorationsWidth"]=66]="lineDecorationsWidth";e[e["lineHeight"]=67]="lineHeight";e[e["lineNumbers"]=68]="lineNumbers";e[e["lineNumbersMinChars"]=69]="lineNumbersMinChars";e[e["linkedEditing"]=70]="linkedEditing";e[e["links"]=71]="links";e[e["matchBrackets"]=72]="matchBrackets";e[e["minimap"]=73]="minimap";e[e["mouseStyle"]=74]="mouseStyle";e[e["mouseWheelScrollSensitivity"]=75]="mouseWheelScrollSensitivity";e[e["mouseWheelZoom"]=76]="mouseWheelZoom";e[e["multiCursorMergeOverlapping"]=77]="multiCursorMergeOverlapping";e[e["multiCursorModifier"]=78]="multiCursorModifier";e[e["multiCursorPaste"]=79]="multiCursorPaste";e[e["multiCursorLimit"]=80]="multiCursorLimit";e[e["occurrencesHighlight"]=81]="occurrencesHighlight";e[e["overviewRulerBorder"]=82]="overviewRulerBorder";e[e["overviewRulerLanes"]=83]="overviewRulerLanes";e[e["padding"]=84]="padding";e[e["pasteAs"]=85]="pasteAs";e[e["parameterHints"]=86]="parameterHints";e[e["peekWidgetDefaultFocus"]=87]="peekWidgetDefaultFocus";e[e["placeholder"]=88]="placeholder";e[e["definitionLinkOpensInPeek"]=89]="definitionLinkOpensInPeek";e[e["quickSuggestions"]=90]="quickSuggestions";e[e["quickSuggestionsDelay"]=91]="quickSuggestionsDelay";e[e["readOnly"]=92]="readOnly";e[e["readOnlyMessage"]=93]="readOnlyMessage";e[e["renameOnType"]=94]="renameOnType";e[e["renderControlCharacters"]=95]="renderControlCharacters";e[e["renderFinalNewline"]=96]="renderFinalNewline";e[e["renderLineHighlight"]=97]="renderLineHighlight";e[e["renderLineHighlightOnlyWhenFocus"]=98]="renderLineHighlightOnlyWhenFocus";e[e["renderValidationDecorations"]=99]="renderValidationDecorations";e[e["renderWhitespace"]=100]="renderWhitespace";e[e["revealHorizontalRightPadding"]=101]="revealHorizontalRightPadding";e[e["roundedSelection"]=102]="roundedSelection";e[e["rulers"]=103]="rulers";e[e["scrollbar"]=104]="scrollbar";e[e["scrollBeyondLastColumn"]=105]="scrollBeyondLastColumn";e[e["scrollBeyondLastLine"]=106]="scrollBeyondLastLine";e[e["scrollPredominantAxis"]=107]="scrollPredominantAxis";e[e["selectionClipboard"]=108]="selectionClipboard";e[e["selectionHighlight"]=109]="selectionHighlight";e[e["selectOnLineNumbers"]=110]="selectOnLineNumbers";e[e["showFoldingControls"]=111]="showFoldingControls";e[e["showUnused"]=112]="showUnused";e[e["snippetSuggestions"]=113]="snippetSuggestions";e[e["smartSelect"]=114]="smartSelect";e[e["smoothScrolling"]=115]="smoothScrolling";e[e["stickyScroll"]=116]="stickyScroll";e[e["stickyTabStops"]=117]="stickyTabStops";e[e["stopRenderingLineAfter"]=118]="stopRenderingLineAfter";e[e["suggest"]=119]="suggest";e[e["suggestFontSize"]=120]="suggestFontSize";e[e["suggestLineHeight"]=121]="suggestLineHeight";e[e["suggestOnTriggerCharacters"]=122]="suggestOnTriggerCharacters";e[e["suggestSelection"]=123]="suggestSelection";e[e["tabCompletion"]=124]="tabCompletion";e[e["tabIndex"]=125]="tabIndex";e[e["unicodeHighlighting"]=126]="unicodeHighlighting";e[e["unusualLineTerminators"]=127]="unusualLineTerminators";e[e["useShadowDOM"]=128]="useShadowDOM";e[e["useTabStops"]=129]="useTabStops";e[e["wordBreak"]=130]="wordBreak";e[e["wordSegmenterLocales"]=131]="wordSegmenterLocales";e[e["wordSeparators"]=132]="wordSeparators";e[e["wordWrap"]=133]="wordWrap";e[e["wordWrapBreakAfterCharacters"]=134]="wordWrapBreakAfterCharacters";e[e["wordWrapBreakBeforeCharacters"]=135]="wordWrapBreakBeforeCharacters";e[e["wordWrapColumn"]=136]="wordWrapColumn";e[e["wordWrapOverride1"]=137]="wordWrapOverride1";e[e["wordWrapOverride2"]=138]="wordWrapOverride2";e[e["wrappingIndent"]=139]="wrappingIndent";e[e["wrappingStrategy"]=140]="wrappingStrategy";e[e["showDeprecated"]=141]="showDeprecated";e[e["inlayHints"]=142]="inlayHints";e[e["editorClassName"]=143]="editorClassName";e[e["pixelRatio"]=144]="pixelRatio";e[e["tabFocusMode"]=145]="tabFocusMode";e[e["layoutInfo"]=146]="layoutInfo";e[e["wrappingInfo"]=147]="wrappingInfo";e[e["defaultColorDecorators"]=148]="defaultColorDecorators";e[e["colorDecoratorsActivatedOn"]=149]="colorDecoratorsActivatedOn";e[e["inlineCompletionsAccessibilityVerbose"]=150]="inlineCompletionsAccessibilityVerbose"})(f||(f={}));var m;(function(e){e[e["TextDefined"]=0]="TextDefined";e[e["LF"]=1]="LF";e[e["CRLF"]=2]="CRLF"})(m||(m={}));var p;(function(e){e[e["LF"]=0]="LF";e[e["CRLF"]=1]="CRLF"})(p||(p={}));var _;(function(e){e[e["Left"]=1]="Left";e[e["Center"]=2]="Center";e[e["Right"]=3]="Right"})(_||(_={}));var b;(function(e){e[e["Increase"]=0]="Increase";e[e["Decrease"]=1]="Decrease"})(b||(b={}));var C;(function(e){e[e["None"]=0]="None";e[e["Indent"]=1]="Indent";e[e["IndentOutdent"]=2]="IndentOutdent";e[e["Outdent"]=3]="Outdent"})(C||(C={}));var v;(function(e){e[e["Both"]=0]="Both";e[e["Right"]=1]="Right";e[e["Left"]=2]="Left";e[e["None"]=3]="None"})(v||(v={}));var k;(function(e){e[e["Type"]=1]="Type";e[e["Parameter"]=2]="Parameter"})(k||(k={}));var L;(function(e){e[e["Automatic"]=0]="Automatic";e[e["Explicit"]=1]="Explicit"})(L||(L={}));var S;(function(e){e[e["Invoke"]=0]="Invoke";e[e["Automatic"]=1]="Automatic"})(S||(S={}));var w;(function(e){e[e["DependsOnKbLayout"]=-1]="DependsOnKbLayout";e[e["Unknown"]=0]="Unknown";e[e["Backspace"]=1]="Backspace";e[e["Tab"]=2]="Tab";e[e["Enter"]=3]="Enter";e[e["Shift"]=4]="Shift";e[e["Ctrl"]=5]="Ctrl";e[e["Alt"]=6]="Alt";e[e["PauseBreak"]=7]="PauseBreak";e[e["CapsLock"]=8]="CapsLock";e[e["Escape"]=9]="Escape";e[e["Space"]=10]="Space";e[e["PageUp"]=11]="PageUp";e[e["PageDown"]=12]="PageDown";e[e["End"]=13]="End";e[e["Home"]=14]="Home";e[e["LeftArrow"]=15]="LeftArrow";e[e["UpArrow"]=16]="UpArrow";e[e["RightArrow"]=17]="RightArrow";e[e["DownArrow"]=18]="DownArrow";e[e["Insert"]=19]="Insert";e[e["Delete"]=20]="Delete";e[e["Digit0"]=21]="Digit0";e[e["Digit1"]=22]="Digit1";e[e["Digit2"]=23]="Digit2";e[e["Digit3"]=24]="Digit3";e[e["Digit4"]=25]="Digit4";e[e["Digit5"]=26]="Digit5";e[e["Digit6"]=27]="Digit6";e[e["Digit7"]=28]="Digit7";e[e["Digit8"]=29]="Digit8";e[e["Digit9"]=30]="Digit9";e[e["KeyA"]=31]="KeyA";e[e["KeyB"]=32]="KeyB";e[e["KeyC"]=33]="KeyC";e[e["KeyD"]=34]="KeyD";e[e["KeyE"]=35]="KeyE";e[e["KeyF"]=36]="KeyF";e[e["KeyG"]=37]="KeyG";e[e["KeyH"]=38]="KeyH";e[e["KeyI"]=39]="KeyI";e[e["KeyJ"]=40]="KeyJ";e[e["KeyK"]=41]="KeyK";e[e["KeyL"]=42]="KeyL";e[e["KeyM"]=43]="KeyM";e[e["KeyN"]=44]="KeyN";e[e["KeyO"]=45]="KeyO";e[e["KeyP"]=46]="KeyP";e[e["KeyQ"]=47]="KeyQ";e[e["KeyR"]=48]="KeyR";e[e["KeyS"]=49]="KeyS";e[e["KeyT"]=50]="KeyT";e[e["KeyU"]=51]="KeyU";e[e["KeyV"]=52]="KeyV";e[e["KeyW"]=53]="KeyW";e[e["KeyX"]=54]="KeyX";e[e["KeyY"]=55]="KeyY";e[e["KeyZ"]=56]="KeyZ";e[e["Meta"]=57]="Meta";e[e["ContextMenu"]=58]="ContextMenu";e[e["F1"]=59]="F1";e[e["F2"]=60]="F2";e[e["F3"]=61]="F3";e[e["F4"]=62]="F4";e[e["F5"]=63]="F5";e[e["F6"]=64]="F6";e[e["F7"]=65]="F7";e[e["F8"]=66]="F8";e[e["F9"]=67]="F9";e[e["F10"]=68]="F10";e[e["F11"]=69]="F11";e[e["F12"]=70]="F12";e[e["F13"]=71]="F13";e[e["F14"]=72]="F14";e[e["F15"]=73]="F15";e[e["F16"]=74]="F16";e[e["F17"]=75]="F17";e[e["F18"]=76]="F18";e[e["F19"]=77]="F19";e[e["F20"]=78]="F20";e[e["F21"]=79]="F21";e[e["F22"]=80]="F22";e[e["F23"]=81]="F23";e[e["F24"]=82]="F24";e[e["NumLock"]=83]="NumLock";e[e["ScrollLock"]=84]="ScrollLock";e[e["Semicolon"]=85]="Semicolon";e[e["Equal"]=86]="Equal";e[e["Comma"]=87]="Comma";e[e["Minus"]=88]="Minus";e[e["Period"]=89]="Period";e[e["Slash"]=90]="Slash";e[e["Backquote"]=91]="Backquote";e[e["BracketLeft"]=92]="BracketLeft";e[e["Backslash"]=93]="Backslash";e[e["BracketRight"]=94]="BracketRight";e[e["Quote"]=95]="Quote";e[e["OEM_8"]=96]="OEM_8";e[e["IntlBackslash"]=97]="IntlBackslash";e[e["Numpad0"]=98]="Numpad0";e[e["Numpad1"]=99]="Numpad1";e[e["Numpad2"]=100]="Numpad2";e[e["Numpad3"]=101]="Numpad3";e[e["Numpad4"]=102]="Numpad4";e[e["Numpad5"]=103]="Numpad5";e[e["Numpad6"]=104]="Numpad6";e[e["Numpad7"]=105]="Numpad7";e[e["Numpad8"]=106]="Numpad8";e[e["Numpad9"]=107]="Numpad9";e[e["NumpadMultiply"]=108]="NumpadMultiply";e[e["NumpadAdd"]=109]="NumpadAdd";e[e["NUMPAD_SEPARATOR"]=110]="NUMPAD_SEPARATOR";e[e["NumpadSubtract"]=111]="NumpadSubtract";e[e["NumpadDecimal"]=112]="NumpadDecimal";e[e["NumpadDivide"]=113]="NumpadDivide";e[e["KEY_IN_COMPOSITION"]=114]="KEY_IN_COMPOSITION";e[e["ABNT_C1"]=115]="ABNT_C1";e[e["ABNT_C2"]=116]="ABNT_C2";e[e["AudioVolumeMute"]=117]="AudioVolumeMute";e[e["AudioVolumeUp"]=118]="AudioVolumeUp";e[e["AudioVolumeDown"]=119]="AudioVolumeDown";e[e["BrowserSearch"]=120]="BrowserSearch";e[e["BrowserHome"]=121]="BrowserHome";e[e["BrowserBack"]=122]="BrowserBack";e[e["BrowserForward"]=123]="BrowserForward";e[e["MediaTrackNext"]=124]="MediaTrackNext";e[e["MediaTrackPrevious"]=125]="MediaTrackPrevious";e[e["MediaStop"]=126]="MediaStop";e[e["MediaPlayPause"]=127]="MediaPlayPause";e[e["LaunchMediaPlayer"]=128]="LaunchMediaPlayer";e[e["LaunchMail"]=129]="LaunchMail";e[e["LaunchApp2"]=130]="LaunchApp2";e[e["Clear"]=131]="Clear";e[e["MAX_VALUE"]=132]="MAX_VALUE"})(w||(w={}));var y;(function(e){e[e["Hint"]=1]="Hint";e[e["Info"]=2]="Info";e[e["Warning"]=4]="Warning";e[e["Error"]=8]="Error"})(y||(y={}));var E;(function(e){e[e["Unnecessary"]=1]="Unnecessary";e[e["Deprecated"]=2]="Deprecated"})(E||(E={}));var I;(function(e){e[e["Inline"]=1]="Inline";e[e["Gutter"]=2]="Gutter"})(I||(I={}));var x;(function(e){e[e["Normal"]=1]="Normal";e[e["Underlined"]=2]="Underlined"})(x||(x={}));var T;(function(e){e[e["UNKNOWN"]=0]="UNKNOWN";e[e["TEXTAREA"]=1]="TEXTAREA";e[e["GUTTER_GLYPH_MARGIN"]=2]="GUTTER_GLYPH_MARGIN";e[e["GUTTER_LINE_NUMBERS"]=3]="GUTTER_LINE_NUMBERS";e[e["GUTTER_LINE_DECORATIONS"]=4]="GUTTER_LINE_DECORATIONS";e[e["GUTTER_VIEW_ZONE"]=5]="GUTTER_VIEW_ZONE";e[e["CONTENT_TEXT"]=6]="CONTENT_TEXT";e[e["CONTENT_EMPTY"]=7]="CONTENT_EMPTY";e[e["CONTENT_VIEW_ZONE"]=8]="CONTENT_VIEW_ZONE";e[e["CONTENT_WIDGET"]=9]="CONTENT_WIDGET";e[e["OVERVIEW_RULER"]=10]="OVERVIEW_RULER";e[e["SCROLLBAR"]=11]="SCROLLBAR";e[e["OVERLAY_WIDGET"]=12]="OVERLAY_WIDGET";e[e["OUTSIDE_EDITOR"]=13]="OUTSIDE_EDITOR"})(T||(T={}));var N;(function(e){e[e["AIGenerated"]=1]="AIGenerated"})(N||(N={}));var B;(function(e){e[e["Invoke"]=0]="Invoke";e[e["Automatic"]=1]="Automatic"})(B||(B={}));var R;(function(e){e[e["TOP_RIGHT_CORNER"]=0]="TOP_RIGHT_CORNER";e[e["BOTTOM_RIGHT_CORNER"]=1]="BOTTOM_RIGHT_CORNER";e[e["TOP_CENTER"]=2]="TOP_CENTER"})(R||(R={}));var A;(function(e){e[e["Left"]=1]="Left";e[e["Center"]=2]="Center";e[e["Right"]=4]="Right";e[e["Full"]=7]="Full"})(A||(A={}));var O;(function(e){e[e["Word"]=0]="Word";e[e["Line"]=1]="Line";e[e["Suggest"]=2]="Suggest"})(O||(O={}));var D;(function(e){e[e["Left"]=0]="Left";e[e["Right"]=1]="Right";e[e["None"]=2]="None";e[e["LeftOfInjectedText"]=3]="LeftOfInjectedText";e[e["RightOfInjectedText"]=4]="RightOfInjectedText"})(D||(D={}));var F;(function(e){e[e["Off"]=0]="Off";e[e["On"]=1]="On";e[e["Relative"]=2]="Relative";e[e["Interval"]=3]="Interval";e[e["Custom"]=4]="Custom"})(F||(F={}));var M;(function(e){e[e["None"]=0]="None";e[e["Text"]=1]="Text";e[e["Blocks"]=2]="Blocks"})(M||(M={}));var P;(function(e){e[e["Smooth"]=0]="Smooth";e[e["Immediate"]=1]="Immediate"})(P||(P={}));var z;(function(e){e[e["Auto"]=1]="Auto";e[e["Hidden"]=2]="Hidden";e[e["Visible"]=3]="Visible"})(z||(z={}));var q;(function(e){e[e["LTR"]=0]="LTR";e[e["RTL"]=1]="RTL"})(q||(q={}));var H;(function(e){e["Off"]="off";e["OnCode"]="onCode";e["On"]="on"})(H||(H={}));var V;(function(e){e[e["Invoke"]=1]="Invoke";e[e["TriggerCharacter"]=2]="TriggerCharacter";e[e["ContentChange"]=3]="ContentChange"})(V||(V={}));var W;(function(e){e[e["File"]=0]="File";e[e["Module"]=1]="Module";e[e["Namespace"]=2]="Namespace";e[e["Package"]=3]="Package";e[e["Class"]=4]="Class";e[e["Method"]=5]="Method";e[e["Property"]=6]="Property";e[e["Field"]=7]="Field";e[e["Constructor"]=8]="Constructor";e[e["Enum"]=9]="Enum";e[e["Interface"]=10]="Interface";e[e["Function"]=11]="Function";e[e["Variable"]=12]="Variable";e[e["Constant"]=13]="Constant";e[e["String"]=14]="String";e[e["Number"]=15]="Number";e[e["Boolean"]=16]="Boolean";e[e["Array"]=17]="Array";e[e["Object"]=18]="Object";e[e["Key"]=19]="Key";e[e["Null"]=20]="Null";e[e["EnumMember"]=21]="EnumMember";e[e["Struct"]=22]="Struct";e[e["Event"]=23]="Event";e[e["Operator"]=24]="Operator";e[e["TypeParameter"]=25]="TypeParameter"})(W||(W={}));var U;(function(e){e[e["Deprecated"]=1]="Deprecated"})(U||(U={}));var K;(function(e){e[e["Hidden"]=0]="Hidden";e[e["Blink"]=1]="Blink";e[e["Smooth"]=2]="Smooth";e[e["Phase"]=3]="Phase";e[e["Expand"]=4]="Expand";e[e["Solid"]=5]="Solid"})(K||(K={}));var j;(function(e){e[e["Line"]=1]="Line";e[e["Block"]=2]="Block";e[e["Underline"]=3]="Underline";e[e["LineThin"]=4]="LineThin";e[e["BlockOutline"]=5]="BlockOutline";e[e["UnderlineThin"]=6]="UnderlineThin"})(j||(j={}));var $;(function(e){e[e["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges";e[e["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges";e[e["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore";e[e["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter"})($||($={}));var G;(function(e){e[e["None"]=0]="None";e[e["Same"]=1]="Same";e[e["Indent"]=2]="Indent";e[e["DeepIndent"]=3]="DeepIndent"})(G||(G={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{EditorWorkerHost:()=>r});class r{static{this.CHANNEL_NAME="editorWorkerHost"}static getChannel(e){return e.getChannel(r.CHANNEL_NAME)}static setChannel(e,t){e.setChannel(r.CHANNEL_NAME,t)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{UnicodeTextModelHighlighter:()=>l});var r=n(25);var i=n(44);var s=n(14);var o=n(49);var a=n(50);class l{static computeUnicodeHighlights(e,t,n){const l=n?n.startLineNumber:1;const h=n?n.endLineNumber:e.getLineCount();const d=new u(t);const g=d.getCandidateCodePoints();let f;if(g==="allNonBasicAscii"){f=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g")}else{f=new RegExp(`${c(Array.from(g))}`,"g")}const m=new i.Searcher(null,f);const p=[];let _=false;let b;let C=0;let v=0;let k=0;e:for(let t=l,n=h;t<=n;t++){const n=e.getLineContent(t);const i=n.length;m.reset(0);do{b=m.next(n);if(b){let e=b.index;let l=b.index+b[0].length;if(e>0){const t=n.charCodeAt(e-1);if(s.isHighSurrogate(t)){e--}}if(l+1<i){const e=n.charCodeAt(l-1);if(s.isHighSurrogate(e)){l++}}const c=n.substring(e,l);let u=(0,a.getWordAtText)(e+1,a.DEFAULT_WORD_REGEXP,n,0);if(u&&u.endColumn<=e+1){u=null}const h=d.shouldHighlightNonBasicASCII(c,u?u.word:null);if(h!==0){if(h===3){C++}else if(h===2){v++}else if(h===1){k++}else{(0,o.assertNever)(h)}const n=1e3;if(p.length>=n){_=true;break e}p.push(new r.Range(t,e+1,t,l+1))}}}while(b)}return{ranges:p,hasMore:_,ambiguousCharacterCount:C,invisibleCharacterCount:v,nonBasicAsciiCharacterCount:k}}static computeUnicodeHighlightReason(e,t){const n=new u(t);const r=n.shouldHighlightNonBasicASCII(e,null);switch(r){case 0:return null;case 2:return{kind:1};case 3:{const r=e.codePointAt(0);const i=n.ambiguousCharacters.getPrimaryConfusable(r);const o=s.AmbiguousCharacters.getLocales().filter(e=>!s.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,e])).isAmbiguous(r));return{kind:0,confusableWith:String.fromCodePoint(i),notAmbiguousInLocales:o}}case 1:return{kind:2}}}}function c(e,t){const n=`[${s.escapeRegExpCharacters(e.map(e=>String.fromCodePoint(e)).join(""))}]`;return n}class u{constructor(e){this.options=e;this.allowedCodePoints=new Set(e.allowedCodePoints);this.ambiguousCharacters=s.AmbiguousCharacters.getInstance(new Set(e.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII){return"allNonBasicAscii"}const e=new Set;if(this.options.invisibleCharacters){for(const t of s.InvisibleCharacters.codePoints){if(!h(String.fromCodePoint(t))){e.add(t)}}}if(this.options.ambiguousCharacters){for(const t of this.ambiguousCharacters.getConfusableCodePoints()){e.add(t)}}for(const t of this.allowedCodePoints){e.delete(t)}return e}shouldHighlightNonBasicASCII(e,t){const n=e.codePointAt(0);if(this.allowedCodePoints.has(n)){return 0}if(this.options.nonBasicASCII){return 1}let r=false;let i=false;if(t){for(const e of t){const t=e.codePointAt(0);const n=s.isBasicASCII(e);r=r||n;if(!n&&!this.ambiguousCharacters.isAmbiguous(t)&&!s.InvisibleCharacters.isInvisibleCharacter(t)){i=true}}}if(!r&&i){return 0}if(this.options.invisibleCharacters){if(!h(e)&&s.InvisibleCharacters.isInvisibleCharacter(n)){return 2}}if(this.options.ambiguousCharacters){if(this.ambiguousCharacters.isAmbiguous(n)){return 3}}return 0}}function h(e){return e===" "||e==="\n"||e==="\t"}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{SearchParams:()=>c,Searcher:()=>_,TextModelSearch:()=>g,createFindMatch:()=>h,isMultilineRegexSource:()=>u,isValidMatch:()=>p});var r=n(14);var i=n(45);var s=n(26);var o=n(25);var a=n(47);const l=999;class c{constructor(e,t,n,r){this.searchString=e;this.isRegex=t;this.matchCase=n;this.wordSeparators=r}parseSearchRequest(){if(this.searchString===""){return null}let e;if(this.isRegex){e=u(this.searchString)}else{e=this.searchString.indexOf("\n")>=0}let t=null;try{t=r.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:false,multiline:e,global:true,unicode:true})}catch(e){return null}if(!t){return null}let n=!this.isRegex&&!e;if(n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()){n=this.matchCase}return new a.SearchData(t,this.wordSeparators?(0,i.getMapForWordSeparators)(this.wordSeparators,[]):null,n?this.searchString:null)}}function u(e){if(!e||e.length===0){return false}for(let t=0,n=e.length;t<n;t++){const r=e.charCodeAt(t);if(r===10){return true}if(r===92){t++;if(t>=n){break}const r=e.charCodeAt(t);if(r===110||r===114||r===87){return true}}}return false}function h(e,t,n){if(!n){return new a.FindMatch(e,null)}const r=[];for(let e=0,n=t.length;e<n;e++){r[e]=t[e]}return new a.FindMatch(e,r)}class d{constructor(e){const t=[];let n=0;for(let r=0,i=e.length;r<i;r++){if(e.charCodeAt(r)===10){t[n++]=r}}this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let n=0;let r=t.length-1;if(r===-1){return 0}if(e<=t[0]){return 0}while(n<r){const i=n+((r-n)/2>>0);if(t[i]>=e){r=i-1}else{if(t[i+1]>=e){n=i;r=i}else{n=i+1}}}return n+1}}class g{static findMatches(e,t,n,r,i){const s=t.parseSearchRequest();if(!s){return[]}if(s.regex.multiline){return this._doFindMatchesMultiline(e,n,new _(s.wordSeparators,s.regex),r,i)}return this._doFindMatchesLineByLine(e,n,s,r,i)}static _getMultilineMatchRange(e,t,n,r,i,s){let a;let l=0;if(r){l=r.findLineFeedCountBeforeOffset(i);a=t+i+l}else{a=t+i}let c;if(r){const e=r.findLineFeedCountBeforeOffset(i+s.length);const t=e-l;c=a+s.length+t}else{c=a+s.length}const u=e.getPositionAt(a);const h=e.getPositionAt(c);return new o.Range(u.lineNumber,u.column,h.lineNumber,h.column)}static _doFindMatchesMultiline(e,t,n,r,i){const s=e.getOffsetAt(t.getStartPosition());const o=e.getValueInRange(t,1);const a=e.getEOL()==="\r\n"?new d(o):null;const l=[];let c=0;let u;n.reset(0);while(u=n.next(o)){l[c++]=h(this._getMultilineMatchRange(e,s,o,a,u.index,u[0]),u,r);if(c>=i){return l}}return l}static _doFindMatchesLineByLine(e,t,n,r,i){const s=[];let o=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);o=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,o,s,r,i);return s}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);o=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,o,s,r,i);for(let a=t.startLineNumber+1;a<t.endLineNumber&&o<i;a++){o=this._findMatchesInLine(n,e.getLineContent(a),a,0,o,s,r,i)}if(o<i){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);o=this._findMatchesInLine(n,a,t.endLineNumber,0,o,s,r,i)}return s}static _findMatchesInLine(e,t,n,r,i,s,l,c){const u=e.wordSeparators;if(!l&&e.simpleSearch){const l=e.simpleSearch;const h=l.length;const d=t.length;let g=-h;while((g=t.indexOf(l,g+h))!==-1){if(!u||p(u,t,d,g,h)){s[i++]=new a.FindMatch(new o.Range(n,g+1+r,n,g+1+h+r),null);if(i>=c){return i}}}return i}const d=new _(e.wordSeparators,e.regex);let g;d.reset(0);do{g=d.next(t);if(g){s[i++]=h(new o.Range(n,g.index+1+r,n,g.index+1+g[0].length+r),g,l);if(i>=c){return i}}}while(g);return i}static findNextMatch(e,t,n,r){const i=t.parseSearchRequest();if(!i){return null}const s=new _(i.wordSeparators,i.regex);if(i.regex.multiline){return this._doFindNextMatchMultiline(e,n,s,r)}return this._doFindNextMatchLineByLine(e,n,s,r)}static _doFindNextMatchMultiline(e,t,n,r){const i=new s.Position(t.lineNumber,1);const a=e.getOffsetAt(i);const l=e.getLineCount();const c=e.getValueInRange(new o.Range(i.lineNumber,i.column,l,e.getLineMaxColumn(l)),1);const u=e.getEOL()==="\r\n"?new d(c):null;n.reset(t.column-1);const g=n.next(c);if(g){return h(this._getMultilineMatchRange(e,a,c,u,g.index,g[0]),g,r)}if(t.lineNumber!==1||t.column!==1){return this._doFindNextMatchMultiline(e,new s.Position(1,1),n,r)}return null}static _doFindNextMatchLineByLine(e,t,n,r){const i=e.getLineCount();const s=t.lineNumber;const o=e.getLineContent(s);const a=this._findFirstMatchInLine(n,o,s,t.column,r);if(a){return a}for(let t=1;t<=i;t++){const o=(s+t-1)%i;const a=e.getLineContent(o+1);const l=this._findFirstMatchInLine(n,a,o+1,1,r);if(l){return l}}return null}static _findFirstMatchInLine(e,t,n,r,i){e.reset(r-1);const s=e.next(t);if(s){return h(new o.Range(n,s.index+1,n,s.index+1+s[0].length),s,i)}return null}static findPreviousMatch(e,t,n,r){const i=t.parseSearchRequest();if(!i){return null}const s=new _(i.wordSeparators,i.regex);if(i.regex.multiline){return this._doFindPreviousMatchMultiline(e,n,s,r)}return this._doFindPreviousMatchLineByLine(e,n,s,r)}static _doFindPreviousMatchMultiline(e,t,n,r){const i=this._doFindMatchesMultiline(e,new o.Range(1,1,t.lineNumber,t.column),n,r,10*l);if(i.length>0){return i[i.length-1]}const a=e.getLineCount();if(t.lineNumber!==a||t.column!==e.getLineMaxColumn(a)){return this._doFindPreviousMatchMultiline(e,new s.Position(a,e.getLineMaxColumn(a)),n,r)}return null}static _doFindPreviousMatchLineByLine(e,t,n,r){const i=e.getLineCount();const s=t.lineNumber;const o=e.getLineContent(s).substring(0,t.column-1);const a=this._findLastMatchInLine(n,o,s,r);if(a){return a}for(let t=1;t<=i;t++){const o=(i+s-t-1)%i;const a=e.getLineContent(o+1);const l=this._findLastMatchInLine(n,a,o+1,r);if(l){return l}}return null}static _findLastMatchInLine(e,t,n,r){let i=null;let s;e.reset(0);while(s=e.next(t)){i=h(new o.Range(n,s.index+1,n,s.index+1+s[0].length),s,r)}return i}}function f(e,t,n,r,i){if(r===0){return true}const s=t.charCodeAt(r-1);if(e.get(s)!==0){return true}if(s===13||s===10){return true}if(i>0){const n=t.charCodeAt(r);if(e.get(n)!==0){return true}}return false}function m(e,t,n,r,i){if(r+i===n){return true}const s=t.charCodeAt(r+i);if(e.get(s)!==0){return true}if(s===13||s===10){return true}if(i>0){const n=t.charCodeAt(r+i-1);if(e.get(n)!==0){return true}}return false}function p(e,t,n,r,i){return f(e,t,n,r,i)&&m(e,t,n,r,i)}class _{constructor(e,t){this._wordSeparators=e;this._searchRegex=t;this._prevMatchStartIndex=-1;this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e;this._prevMatchStartIndex=-1;this._prevMatchLength=0}next(e){const t=e.length;let n;do{if(this._prevMatchStartIndex+this._prevMatchLength===t){return null}n=this._searchRegex.exec(e);if(!n){return null}const i=n.index;const s=n[0].length;if(i===this._prevMatchStartIndex&&s===this._prevMatchLength){if(s===0){if(r.getNextCodePoint(e,t,this._searchRegex.lastIndex)>65535){this._searchRegex.lastIndex+=2}else{this._searchRegex.lastIndex+=1}continue}return null}this._prevMatchStartIndex=i;this._prevMatchLength=s;if(!this._wordSeparators||p(this._wordSeparators,e,t,i,s)){return n}}while(n);return null}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{WordCharacterClassifier:()=>s,getMapForWordSeparators:()=>a});var r=n(46);var i=n(28);class s extends i.CharacterClassifier{constructor(e,t){super(0);this._segmenter=null;this._cachedLine=null;this._cachedSegments=[];this.intlSegmenterLocales=t;if(this.intlSegmenterLocales.length>0){this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"})}else{this._segmenter=null}for(let t=0,n=e.length;t<n;t++){this.set(e.charCodeAt(t),2)}this.set(32,1);this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,t){let n=null;for(const r of this._getIntlSegmenterWordsOnLine(e)){if(r.index>t){break}n=r}return n}findNextIntlWordAtOrAfterOffset(e,t){for(const n of this._getIntlSegmenterWordsOnLine(e)){if(n.index<t){continue}return n}return null}_getIntlSegmenterWordsOnLine(e){if(!this._segmenter){return[]}if(this._cachedLine===e){return this._cachedSegments}this._cachedLine=e;this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e));return this._cachedSegments}_filterWordSegments(e){const t=[];for(const n of e){if(this._isWordLike(n)){t.push(n)}}return t}_isWordLike(e){if(e.isWordLike){return true}return false}}const o=new r.LRUCache(10);function a(e,t){const n=`${e}/${t.join(",")}`;let r=o.get(n);if(!r){r=new s(e,t);o.set(n,r)}return r}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BidirectionalMap:()=>h,LRUCache:()=>u,LinkedMap:()=>l,ResourceMap:()=>a,SetMap:()=>d});var r,i;class s{constructor(e,t){this.uri=e;this.value=t}}function o(e){return Array.isArray(e)}class a{static{this.defaultToKey=e=>e.toString()}constructor(e,t){this[r]="ResourceMap";if(e instanceof a){this.map=new Map(e.map);this.toKey=t??a.defaultToKey}else if(o(e)){this.map=new Map;this.toKey=t??a.defaultToKey;for(const[t,n]of e){this.set(t,n)}}else{this.map=new Map;this.toKey=e??a.defaultToKey}}set(e,t){this.map.set(this.toKey(e),new s(e,t));return this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){if(typeof t!=="undefined"){e=e.bind(t)}for(const[t,n]of this.map){e(n.value,n.uri,this)}}*values(){for(const e of this.map.values()){yield e.value}}*keys(){for(const e of this.map.values()){yield e.uri}}*entries(){for(const e of this.map.values()){yield[e.uri,e.value]}}*[(r=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map){yield[e.uri,e.value]}}}class l{constructor(){this[i]="LinkedMap";this._map=new Map;this._head=undefined;this._tail=undefined;this._size=0;this._state=0}clear(){this._map.clear();this._head=undefined;this._tail=undefined;this._size=0;this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=0){const n=this._map.get(e);if(!n){return undefined}if(t!==0){this.touch(n,t)}return n.value}set(e,t,n=0){let r=this._map.get(e);if(r){r.value=t;if(n!==0){this.touch(r,n)}}else{r={key:e,value:t,next:undefined,previous:undefined};switch(n){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r);this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(!t){return undefined}this._map.delete(e);this.removeItem(t);this._size--;return t.value}shift(){if(!this._head&&!this._tail){return undefined}if(!this._head||!this._tail){throw new Error("Invalid list")}const e=this._head;this._map.delete(e.key);this.removeItem(e);this._size--;return e.value}forEach(e,t){const n=this._state;let r=this._head;while(r){if(t){e.bind(t)(r.value,r.key,this)}else{e(r.value,r.key,this)}if(this._state!==n){throw new Error(`LinkedMap got modified during iteration.`)}r=r.next}}keys(){const e=this;const t=this._state;let n=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t){throw new Error(`LinkedMap got modified during iteration.`)}if(n){const e={value:n.key,done:false};n=n.next;return e}else{return{value:undefined,done:true}}}};return r}values(){const e=this;const t=this._state;let n=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t){throw new Error(`LinkedMap got modified during iteration.`)}if(n){const e={value:n.value,done:false};n=n.next;return e}else{return{value:undefined,done:true}}}};return r}entries(){const e=this;const t=this._state;let n=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t){throw new Error(`LinkedMap got modified during iteration.`)}if(n){const e={value:[n.key,n.value],done:false};n=n.next;return e}else{return{value:undefined,done:true}}}};return r}[(i=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size){return}if(e===0){this.clear();return}let t=this._head;let n=this.size;while(t&&n>e){this._map.delete(t.key);t=t.next;n--}this._head=t;this._size=n;if(t){t.previous=undefined}this._state++}trimNew(e){if(e>=this.size){return}if(e===0){this.clear();return}let t=this._tail;let n=this.size;while(t&&n>e){this._map.delete(t.key);t=t.previous;n--}this._tail=t;this._size=n;if(t){t.next=undefined}this._state++}addItemFirst(e){if(!this._head&&!this._tail){this._tail=e}else if(!this._head){throw new Error("Invalid list")}else{e.next=this._head;this._head.previous=e}this._head=e;this._state++}addItemLast(e){if(!this._head&&!this._tail){this._head=e}else if(!this._tail){throw new Error("Invalid list")}else{e.previous=this._tail;this._tail.next=e}this._tail=e;this._state++}removeItem(e){if(e===this._head&&e===this._tail){this._head=undefined;this._tail=undefined}else if(e===this._head){if(!e.next){throw new Error("Invalid list")}e.next.previous=undefined;this._head=e.next}else if(e===this._tail){if(!e.previous){throw new Error("Invalid list")}e.previous.next=undefined;this._tail=e.previous}else{const t=e.next;const n=e.previous;if(!t||!n){throw new Error("Invalid list")}t.previous=n;n.next=t}e.next=undefined;e.previous=undefined;this._state++}touch(e,t){if(!this._head||!this._tail){throw new Error("Invalid list")}if(t!==1&&t!==2){return}if(t===1){if(e===this._head){return}const t=e.next;const n=e.previous;if(e===this._tail){n.next=undefined;this._tail=n}else{t.previous=n;n.next=t}e.previous=undefined;e.next=this._head;this._head.previous=e;this._head=e;this._state++}else if(t===2){if(e===this._tail){return}const t=e.next;const n=e.previous;if(e===this._head){t.previous=undefined;this._head=t}else{t.previous=n;n.next=t}e.next=undefined;e.previous=this._tail;this._tail.next=e;this._tail=e;this._state++}}toJSON(){const e=[];this.forEach((t,n)=>{e.push([n,t])});return e}fromJSON(e){this.clear();for(const[t,n]of e){this.set(t,n)}}}class c extends l{constructor(e,t=1){super();this._limit=e;this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e;this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){super.set(e,t,2);return this}checkTrim(){if(this.size>this._limit){this.trim(Math.round(this._limit*this._ratio))}}}class u extends c{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){super.set(e,t);this.checkTrim();return this}}class h{constructor(e){this._m1=new Map;this._m2=new Map;if(e){for(const[t,n]of e){this.set(t,n)}}}clear(){this._m1.clear();this._m2.clear()}set(e,t){this._m1.set(e,t);this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);if(t===undefined){return false}this._m1.delete(e);this._m2.delete(t);return true}keys(){return this._m1.keys()}values(){return this._m1.values()}}class d{constructor(){this.map=new Map}add(e,t){let n=this.map.get(e);if(!n){n=new Set;this.map.set(e,n)}n.add(t)}delete(e,t){const n=this.map.get(e);if(!n){return}n.delete(t);if(n.size===0){this.map.delete(e)}}forEach(e,t){const n=this.map.get(e);if(!n){return}n.forEach(t)}get(e){const t=this.map.get(e);if(!t){return new Set}return t}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ApplyEditsResult:()=>d,FindMatch:()=>l,GlyphMarginLane:()=>s,InjectedTextCursorStops:()=>o,OverviewRulerLane:()=>i,SearchData:()=>h,TextModelResolvedOptions:()=>a,ValidAnnotatedEditOperation:()=>u,isITextSnapshot:()=>c,shouldSynchronizeModel:()=>g});var r=n(48);var i;(function(e){e[e["Left"]=1]="Left";e[e["Center"]=2]="Center";e[e["Right"]=4]="Right";e[e["Full"]=7]="Full"})(i||(i={}));var s;(function(e){e[e["Left"]=1]="Left";e[e["Center"]=2]="Center";e[e["Right"]=3]="Right"})(s||(s={}));var o;(function(e){e[e["Both"]=0]="Both";e[e["Right"]=1]="Right";e[e["Left"]=2]="Left";e[e["None"]=3]="None"})(o||(o={}));class a{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=undefined;this.tabSize=Math.max(1,e.tabSize|0);if(e.indentSize==="tabSize"){this.indentSize=this.tabSize;this._indentSizeIsTabSize=true}else{this.indentSize=Math.max(1,e.indentSize|0);this._indentSizeIsTabSize=false}this.insertSpaces=Boolean(e.insertSpaces);this.defaultEOL=e.defaultEOL|0;this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace);this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&(0,r.equals)(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class l{constructor(e,t){this._findMatchBrand=undefined;this.range=e;this.matches=t}}function c(e){return e&&typeof e.read==="function"}class u{constructor(e,t,n,r,i,s){this.identifier=e;this.range=t;this.text=n;this.forceMoveMarkers=r;this.isAutoWhitespaceEdit=i;this._isTracked=s}}class h{constructor(e,t,n){this.regex=e;this.wordSeparators=t;this.simpleSearch=n}}class d{constructor(e,t,n){this.reverseEdits=e;this.changes=t;this.trimAutoWhitespaceLineNumbers=n}}function g(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{cloneAndChange:()=>a,createProxyObject:()=>g,deepClone:()=>i,deepFreeze:()=>s,equals:()=>u,getAllMethodNames:()=>d,getAllPropertyNames:()=>h,mixin:()=>c});var r=n(38);function i(e){if(!e||typeof e!=="object"){return e}if(e instanceof RegExp){return e}const t=Array.isArray(e)?[]:{};Object.entries(e).forEach(([e,n])=>{t[e]=n&&typeof n==="object"?i(n):n});return t}function s(e){if(!e||typeof e!=="object"){return e}const t=[e];while(t.length>0){const e=t.shift();Object.freeze(e);for(const n in e){if(o.call(e,n)){const i=e[n];if(typeof i==="object"&&!Object.isFrozen(i)&&!(0,r.isTypedArray)(i)){t.push(i)}}}}return e}const o=Object.prototype.hasOwnProperty;function a(e,t){return l(e,t,new Set)}function l(e,t,n){if((0,r.isUndefinedOrNull)(e)){return e}const i=t(e);if(typeof i!=="undefined"){return i}if(Array.isArray(e)){const r=[];for(const i of e){r.push(l(i,t,n))}return r}if((0,r.isObject)(e)){if(n.has(e)){throw new Error("Cannot clone recursive data-structure")}n.add(e);const r={};for(const i in e){if(o.call(e,i)){r[i]=l(e[i],t,n)}}n.delete(e);return r}return e}function c(e,t,n=true){if(!(0,r.isObject)(e)){return t}if((0,r.isObject)(t)){Object.keys(t).forEach(i=>{if(i in e){if(n){if((0,r.isObject)(e[i])&&(0,r.isObject)(t[i])){c(e[i],t[i],n)}else{e[i]=t[i]}}}else{e[i]=t[i]}})}return e}function u(e,t){if(e===t){return true}if(e===null||e===undefined||t===null||t===undefined){return false}if(typeof e!==typeof t){return false}if(typeof e!=="object"){return false}if(Array.isArray(e)!==Array.isArray(t)){return false}let n;let r;if(Array.isArray(e)){if(e.length!==t.length){return false}for(n=0;n<e.length;n++){if(!u(e[n],t[n])){return false}}}else{const i=[];for(r in e){i.push(r)}i.sort();const s=[];for(r in t){s.push(r)}s.sort();if(!u(i,s)){return false}for(n=0;n<i.length;n++){if(!u(e[i[n]],t[i[n]])){return false}}}return true}function h(e){let t=[];while(Object.prototype!==e){t=t.concat(Object.getOwnPropertyNames(e));e=Object.getPrototypeOf(e)}return t}function d(e){const t=[];for(const n of h(e)){if(typeof e[n]==="function"){t.push(n)}}return t}function g(e,t){const n=e=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)};const r={};for(const t of e){r[t]=n(t)}return r}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{assertFn:()=>a,assertNever:()=>s,checkAdjacentItems:()=>l,ok:()=>i,softAssert:()=>o});var r=n(2);function i(e,t){if(!e){throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}}function s(e,t="Unreachable"){throw new Error(t)}function o(e){if(!e){(0,r.onUnexpectedError)(new r.BugIndicatingError("Soft Assertion Failed"))}}function a(e){if(!e()){debugger;e();(0,r.onUnexpectedError)(new r.BugIndicatingError("Assertion Failed"))}}function l(e,t){let n=0;while(n<e.length-1){const r=e[n];const i=e[n+1];if(!t(r,i)){return false}n++}return true}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DEFAULT_WORD_REGEXP:()=>a,USUAL_WORD_SEPARATORS:()=>s,ensureValidWordDefinition:()=>l,getWordAtText:()=>u});var r=n(6);var i=n(7);const s="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function o(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const n of s){if(e.indexOf(n)>=0){continue}t+="\\"+n}t+="\\s]+)";return new RegExp(t,"g")}const a=o();function l(e){let t=a;if(e&&e instanceof RegExp){if(!e.global){let n="g";if(e.ignoreCase){n+="i"}if(e.multiline){n+="m"}if(e.unicode){n+="u"}t=new RegExp(e.source,n)}else{t=e}}t.lastIndex=0;return t}const c=new i.LinkedList;c.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function u(e,t,n,i,s){t=l(t);if(!s){s=r.Iterable.first(c)}if(n.length>s.maxLen){let r=e-s.maxLen/2;if(r<0){r=0}else{i+=r}n=n.substring(r,e+s.maxLen/2);return u(e,t,n,i,s)}const o=Date.now();const a=e-1-i;let d=-1;let g=null;for(let e=1;;e++){if(Date.now()-o>=s.timeBudget){break}const r=a-s.windowSize*e;t.lastIndex=Math.max(0,r);const i=h(t,n,a,d);if(!i&&g){break}g=i;if(r<=0){break}d=r}if(g){const e={word:g[0],startColumn:i+1+g.index,endColumn:i+1+g.index+g[0].length};t.lastIndex=0;return e}return null}function h(e,t,n,r){let i;while(i=e.exec(t)){const t=i.index||0;if(t<=n&&e.lastIndex>=n){return i}else if(r>0&&t>r){return null}}return null}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{linesDiffComputers:()=>s});var r=n(52);var i=n(61);const s={getLegacy:()=>new r.LegacyLinesDiffComputer,getDefault:()=>new i.DefaultLinesDiffComputer}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DiffComputer:()=>b,LegacyLinesDiffComputer:()=>h});var r=n(22);var i=n(53);var s=n(54);var o=n(14);var a=n(25);var l=n(49);var c=n(55);const u=3;class h{computeDiff(e,t,n){const r=new b(e,t,{maxComputationTime:n.maxComputationTimeMs,shouldIgnoreTrimWhitespace:n.ignoreTrimWhitespace,shouldComputeCharChanges:true,shouldMakePrettyDiff:true,shouldPostProcessCharChanges:true});const o=r.computeDiff();const u=[];let h=null;for(const e of o.changes){let t;if(e.originalEndLineNumber===0){t=new c.LineRange(e.originalStartLineNumber+1,e.originalStartLineNumber+1)}else{t=new c.LineRange(e.originalStartLineNumber,e.originalEndLineNumber+1)}let n;if(e.modifiedEndLineNumber===0){n=new c.LineRange(e.modifiedStartLineNumber+1,e.modifiedStartLineNumber+1)}else{n=new c.LineRange(e.modifiedStartLineNumber,e.modifiedEndLineNumber+1)}let r=new s.DetailedLineRangeMapping(t,n,e.charChanges?.map(e=>new s.RangeMapping(new a.Range(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),new a.Range(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn))));if(h){if(h.modified.endLineNumberExclusive===r.modified.startLineNumber||h.original.endLineNumberExclusive===r.original.startLineNumber){r=new s.DetailedLineRangeMapping(h.original.join(r.original),h.modified.join(r.modified),h.innerChanges&&r.innerChanges?h.innerChanges.concat(r.innerChanges):undefined);u.pop()}}u.push(r);h=r}(0,l.assertFn)(()=>(0,l.checkAdjacentItems)(u,(e,t)=>t.original.startLineNumber-e.original.endLineNumberExclusive===t.modified.startLineNumber-e.modified.endLineNumberExclusive&&e.original.endLineNumberExclusive<t.original.startLineNumber&&e.modified.endLineNumberExclusive<t.modified.startLineNumber));return new i.LinesDiff(u,[],o.quitEarly)}}function d(e,t,n,i){const s=new r.LcsDiff(e,t,n);return s.ComputeDiff(i)}class g{constructor(e){const t=[];const n=[];for(let r=0,i=e.length;r<i;r++){t[r]=C(e[r],1);n[r]=v(e[r],1)}this.lines=e;this._startColumns=t;this._endColumns=n}getElements(){const e=[];for(let t=0,n=this.lines.length;t<n;t++){e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1)}return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,n){const r=[];const i=[];const s=[];let o=0;for(let a=t;a<=n;a++){const t=this.lines[a];const l=e?this._startColumns[a]:1;const c=e?this._endColumns[a]:t.length+1;for(let e=l;e<c;e++){r[o]=t.charCodeAt(e-1);i[o]=a+1;s[o]=e;o++}if(!e&&a<n){r[o]=10;i[o]=a+1;s[o]=t.length+1;o++}}return new f(r,i,s)}}class f{constructor(e,t,n){this._charCodes=e;this._lineNumbers=t;this._columns=n}toString(){return"["+this._charCodes.map((e,t)=>(e===10?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length){throw new Error(`Illegal index`)}}getElements(){return this._charCodes}getStartLineNumber(e){if(e>0&&e===this._lineNumbers.length){return this.getEndLineNumber(e-1)}this._assertIndex(e,this._lineNumbers);return this._lineNumbers[e]}getEndLineNumber(e){if(e===-1){return this.getStartLineNumber(e+1)}this._assertIndex(e,this._lineNumbers);if(this._charCodes[e]===10){return this._lineNumbers[e]+1}return this._lineNumbers[e]}getStartColumn(e){if(e>0&&e===this._columns.length){return this.getEndColumn(e-1)}this._assertIndex(e,this._columns);return this._columns[e]}getEndColumn(e){if(e===-1){return this.getStartColumn(e+1)}this._assertIndex(e,this._columns);if(this._charCodes[e]===10){return 1}return this._columns[e]+1}}class m{constructor(e,t,n,r,i,s,o,a){this.originalStartLineNumber=e;this.originalStartColumn=t;this.originalEndLineNumber=n;this.originalEndColumn=r;this.modifiedStartLineNumber=i;this.modifiedStartColumn=s;this.modifiedEndLineNumber=o;this.modifiedEndColumn=a}static createFromDiffChange(e,t,n){const r=t.getStartLineNumber(e.originalStart);const i=t.getStartColumn(e.originalStart);const s=t.getEndLineNumber(e.originalStart+e.originalLength-1);const o=t.getEndColumn(e.originalStart+e.originalLength-1);const a=n.getStartLineNumber(e.modifiedStart);const l=n.getStartColumn(e.modifiedStart);const c=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1);const u=n.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new m(r,i,s,o,a,l,c,u)}}function p(e){if(e.length<=1){return e}const t=[e[0]];let n=t[0];for(let r=1,i=e.length;r<i;r++){const i=e[r];const s=i.originalStart-(n.originalStart+n.originalLength);const o=i.modifiedStart-(n.modifiedStart+n.modifiedLength);const a=Math.min(s,o);if(a<u){n.originalLength=i.originalStart+i.originalLength-n.originalStart;n.modifiedLength=i.modifiedStart+i.modifiedLength-n.modifiedStart}else{t.push(i);n=i}}return t}class _{constructor(e,t,n,r,i){this.originalStartLineNumber=e;this.originalEndLineNumber=t;this.modifiedStartLineNumber=n;this.modifiedEndLineNumber=r;this.charChanges=i}static createFromDiffResult(e,t,n,r,i,s,o){let a;let l;let c;let u;let h=undefined;if(t.originalLength===0){a=n.getStartLineNumber(t.originalStart)-1;l=0}else{a=n.getStartLineNumber(t.originalStart);l=n.getEndLineNumber(t.originalStart+t.originalLength-1)}if(t.modifiedLength===0){c=r.getStartLineNumber(t.modifiedStart)-1;u=0}else{c=r.getStartLineNumber(t.modifiedStart);u=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)}if(s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&i()){const s=n.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1);const a=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(s.getElements().length>0&&a.getElements().length>0){let e=d(s,a,i,true).changes;if(o){e=p(e)}h=[];for(let t=0,n=e.length;t<n;t++){h.push(m.createFromDiffChange(e[t],s,a))}}}return new _(a,l,c,u,h)}}class b{constructor(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges;this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges;this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace;this.shouldMakePrettyDiff=n.shouldMakePrettyDiff;this.originalLines=e;this.modifiedLines=t;this.original=new g(e);this.modified=new g(t);this.continueLineDiff=k(n.maxComputationTime);this.continueCharDiff=k(n.maxComputationTime===0?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0){if(this.modified.lines.length===1&&this.modified.lines[0].length===0){return{quitEarly:false,changes:[]}}return{quitEarly:false,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:undefined}]}}if(this.modified.lines.length===1&&this.modified.lines[0].length===0){return{quitEarly:false,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:undefined}]}}const e=d(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff);const t=e.changes;const n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let n=0,r=t.length;n<r;n++){e.push(_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[n],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges))}return{quitEarly:n,changes:e}}const r=[];let i=0;let s=0;for(let e=-1,n=t.length;e<n;e++){const o=e+1<n?t[e+1]:null;const a=o?o.originalStart:this.originalLines.length;const l=o?o.modifiedStart:this.modifiedLines.length;while(i<a&&s<l){const e=this.originalLines[i];const t=this.modifiedLines[s];if(e!==t){{let n=C(e,1);let o=C(t,1);while(n>1&&o>1){const r=e.charCodeAt(n-2);const i=t.charCodeAt(o-2);if(r!==i){break}n--;o--}if(n>1||o>1){this._pushTrimWhitespaceCharChange(r,i+1,1,n,s+1,1,o)}}{let n=v(e,1);let o=v(t,1);const a=e.length+1;const l=t.length+1;while(n<a&&o<l){const t=e.charCodeAt(n-1);const r=e.charCodeAt(o-1);if(t!==r){break}n++;o++}if(n<a||o<l){this._pushTrimWhitespaceCharChange(r,i+1,n,a,s+1,o,l)}}}i++;s++}if(o){r.push(_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,o,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));i+=o.originalLength;s+=o.modifiedLength}}return{quitEarly:n,changes:r}}_pushTrimWhitespaceCharChange(e,t,n,r,i,s,o){if(this._mergeTrimWhitespaceCharChange(e,t,n,r,i,s,o)){return}let a=undefined;if(this.shouldComputeCharChanges){a=[new m(t,n,t,r,i,s,i,o)]}e.push(new _(t,t,i,i,a))}_mergeTrimWhitespaceCharChange(e,t,n,r,i,s,o){const a=e.length;if(a===0){return false}const l=e[a-1];if(l.originalEndLineNumber===0||l.modifiedEndLineNumber===0){return false}if(l.originalEndLineNumber===t&&l.modifiedEndLineNumber===i){if(this.shouldComputeCharChanges&&l.charChanges){l.charChanges.push(new m(t,n,t,r,i,s,i,o))}return true}if(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===i){l.originalEndLineNumber=t;l.modifiedEndLineNumber=i;if(this.shouldComputeCharChanges&&l.charChanges){l.charChanges.push(new m(t,n,t,r,i,s,i,o))}return true}return false}}function C(e,t){const n=o.firstNonWhitespaceIndex(e);if(n===-1){return t}return n+1}function v(e,t){const n=o.lastNonWhitespaceIndex(e);if(n===-1){return t}return n+2}function k(e){if(e===0){return()=>true}const t=Date.now();return()=>Date.now()-t<e}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LinesDiff:()=>r,MovedText:()=>i});class r{constructor(e,t,n){this.changes=e;this.moves=t;this.hitTimeout=n}}class i{constructor(e,t){this.lineRangeMapping=e;this.changes=t}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DetailedLineRangeMapping:()=>h,LineRangeMapping:()=>l,RangeMapping:()=>d});var r=n(2);var i=n(55);var s=n(26);var o=n(25);var a=n(58);class l{static inverse(e,t,n){const r=[];let s=1;let o=1;for(const t of e){const e=new l(new i.LineRange(s,t.original.startLineNumber),new i.LineRange(o,t.modified.startLineNumber));if(!e.modified.isEmpty){r.push(e)}s=t.original.endLineNumberExclusive;o=t.modified.endLineNumberExclusive}const a=new l(new i.LineRange(s,t+1),new i.LineRange(o,n+1));if(!a.modified.isEmpty){r.push(a)}return r}static clip(e,t,n){const r=[];for(const i of e){const e=i.original.intersect(t);const s=i.modified.intersect(n);if(e&&!e.isEmpty&&s&&!s.isEmpty){r.push(new l(e,s))}}return r}constructor(e,t){this.original=e;this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new l(this.modified,this.original)}join(e){return new l(this.original.join(e.original),this.modified.join(e.modified))}toRangeMapping(){const e=this.original.toInclusiveRange();const t=this.modified.toInclusiveRange();if(e&&t){return new d(e,t)}else if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1)){throw new r.BugIndicatingError("not a valid diff")}return new d(new o.Range(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new o.Range(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else{return new d(new o.Range(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new o.Range(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}}toRangeMapping2(e,t){if(u(this.original.endLineNumberExclusive,e)&&u(this.modified.endLineNumberExclusive,t)){return new d(new o.Range(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new o.Range(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}if(!this.original.isEmpty&&!this.modified.isEmpty){return new d(o.Range.fromPositions(new s.Position(this.original.startLineNumber,1),c(new s.Position(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),o.Range.fromPositions(new s.Position(this.modified.startLineNumber,1),c(new s.Position(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)))}if(this.original.startLineNumber>1&&this.modified.startLineNumber>1){return new d(o.Range.fromPositions(c(new s.Position(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),e),c(new s.Position(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),e)),o.Range.fromPositions(c(new s.Position(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),c(new s.Position(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)))}throw new r.BugIndicatingError}}function c(e,t){if(e.lineNumber<1){return new s.Position(1,1)}if(e.lineNumber>t.length){return new s.Position(t.length,t[t.length-1].length+1)}const n=t[e.lineNumber-1];if(e.column>n.length+1){return new s.Position(e.lineNumber,n.length+1)}return e}function u(e,t){return e>=1&&e<=t.length}class h extends l{static fromRangeMappings(e){const t=i.LineRange.join(e.map(e=>i.LineRange.fromRangeInclusive(e.originalRange)));const n=i.LineRange.join(e.map(e=>i.LineRange.fromRangeInclusive(e.modifiedRange)));return new h(t,n,e)}constructor(e,t,n){super(e,t);this.innerChanges=n}flip(){return new h(this.modified,this.original,this.innerChanges?.map(e=>e.flip()))}withInnerChangesFromLineRanges(){return new h(this.original,this.modified,[this.toRangeMapping()])}}class d{static assertSorted(e){for(let t=1;t<e.length;t++){const n=e[t-1];const i=e[t];if(!(n.originalRange.getEndPosition().isBeforeOrEqual(i.originalRange.getStartPosition())&&n.modifiedRange.getEndPosition().isBeforeOrEqual(i.modifiedRange.getStartPosition()))){throw new r.BugIndicatingError("Range mappings must be sorted")}}}constructor(e,t){this.originalRange=e;this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new d(this.modifiedRange,this.originalRange)}toTextEdit(e){const t=e.getValueOfRange(this.modifiedRange);return new a.SingleTextEdit(this.originalRange,t)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LineRange:()=>a,LineRangeSet:()=>l});var r=n(2);var i=n(56);var s=n(25);var o=n(57);class a{static fromRangeInclusive(e){return new a(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(e.length===0){return[]}let t=new l(e[0].slice());for(let n=1;n<e.length;n++){t=t.getUnion(new l(e[n].slice()))}return t.ranges}static join(e){if(e.length===0){throw new r.BugIndicatingError("lineRanges cannot be empty")}let t=e[0].startLineNumber;let n=e[0].endLineNumberExclusive;for(let r=1;r<e.length;r++){t=Math.min(t,e[r].startLineNumber);n=Math.max(n,e[r].endLineNumberExclusive)}return new a(t,n)}static ofLength(e,t){return new a(e,e+t)}static deserialize(e){return new a(e[0],e[1])}constructor(e,t){if(e>t){throw new r.BugIndicatingError(`startLineNumber ${e} cannot be after endLineNumberExclusive ${t}`)}this.startLineNumber=e;this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new a(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new a(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new a(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber);const n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=n){return new a(t,n)}return undefined}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){if(this.isEmpty){return null}return new s.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new s.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++){t.push(e(n))}return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++){e(t)}}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new i.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class l{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0){return}const t=(0,o.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=e.startLineNumber);const n=(0,o.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=e.endLineNumberExclusive)+1;if(t===n){this._normalizedRanges.splice(t,0,e)}else if(t===n-1){const n=this._normalizedRanges[t];this._normalizedRanges[t]=n.join(e)}else{const r=this._normalizedRanges[t].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(t,n-t,r)}}contains(e){const t=(0,o.findLastMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=e);return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=(0,o.findLastMonotonous)(this._normalizedRanges,t=>t.startLineNumber<e.endLineNumberExclusive);return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0){return e}if(e._normalizedRanges.length===0){return this}const t=[];let n=0;let r=0;let i=null;while(n<this._normalizedRanges.length||r<e._normalizedRanges.length){let s=null;if(n<this._normalizedRanges.length&&r<e._normalizedRanges.length){const t=this._normalizedRanges[n];const i=e._normalizedRanges[r];if(t.startLineNumber<i.startLineNumber){s=t;n++}else{s=i;r++}}else if(n<this._normalizedRanges.length){s=this._normalizedRanges[n];n++}else{s=e._normalizedRanges[r];r++}if(i===null){i=s}else{if(i.endLineNumberExclusive>=s.startLineNumber){i=new a(i.startLineNumber,Math.max(i.endLineNumberExclusive,s.endLineNumberExclusive))}else{t.push(i);i=s}}}if(i!==null){t.push(i)}return new l(t)}subtractFrom(e){const t=(0,o.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=e.startLineNumber);const n=(0,o.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=e.endLineNumberExclusive)+1;if(t===n){return new l([e])}const r=[];let i=e.startLineNumber;for(let e=t;e<n;e++){const t=this._normalizedRanges[e];if(t.startLineNumber>i){r.push(new a(i,t.startLineNumber))}i=t.endLineNumberExclusive}if(i<e.endLineNumberExclusive){r.push(new a(i,e.endLineNumberExclusive))}return new l(r)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){const t=[];let n=0;let r=0;while(n<this._normalizedRanges.length&&r<e._normalizedRanges.length){const i=this._normalizedRanges[n];const s=e._normalizedRanges[r];const o=i.intersect(s);if(o&&!o.isEmpty){t.push(o)}if(i.endLineNumberExclusive<s.endLineNumberExclusive){n++}else{r++}}return new l(t)}getWithDelta(e){return new l(this._normalizedRanges.map(t=>t.delta(e)))}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{OffsetRange:()=>i,OffsetRangeSet:()=>s});var r=n(2);class i{static addRange(e,t){let n=0;while(n<t.length&&t[n].endExclusive<e.start){n++}let r=n;while(r<t.length&&t[r].start<=e.endExclusive){r++}if(n===r){t.splice(n,0,e)}else{const s=Math.min(e.start,t[n].start);const o=Math.max(e.endExclusive,t[r-1].endExclusive);t.splice(n,r-n,new i(s,o))}}static tryCreate(e,t){if(e>t){return undefined}return new i(e,t)}static ofLength(e){return new i(0,e)}static ofStartAndLength(e,t){return new i(e,e+t)}constructor(e,t){this.start=e;this.endExclusive=t;if(e>t){throw new r.BugIndicatingError(`Invalid range: ${this.toString()}`)}}get isEmpty(){return this.start===this.endExclusive}delta(e){return new i(this.start+e,this.endExclusive+e)}deltaStart(e){return new i(this.start+e,this.endExclusive)}deltaEnd(e){return new i(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new i(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start);const n=Math.min(this.endExclusive,e.endExclusive);if(t<=n){return new i(t,n)}return undefined}intersects(e){const t=Math.max(this.start,e.start);const n=Math.min(this.endExclusive,e.endExclusive);return t<n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty){throw new r.BugIndicatingError(`Invalid clipping range: ${this.toString()}`)}return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty){throw new r.BugIndicatingError(`Invalid clipping range: ${this.toString()}`)}if(e<this.start){return this.endExclusive-(this.start-e)%this.length}if(e>=this.endExclusive){return this.start+(e-this.start)%this.length}return e}forEach(e){for(let t=this.start;t<this.endExclusive;t++){e(t)}}}class s{constructor(){this._sortedRanges=[]}addRange(e){let t=0;while(t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start){t++}let n=t;while(n<this._sortedRanges.length&&this._sortedRanges[n].start<=e.endExclusive){n++}if(t===n){this._sortedRanges.splice(t,0,e)}else{const r=Math.min(e.start,this._sortedRanges[t].start);const s=Math.max(e.endExclusive,this._sortedRanges[n-1].endExclusive);this._sortedRanges.splice(t,n-t,new i(r,s))}}toString(){return this._sortedRanges.map(e=>e.toString()).join(", ")}intersectsStrict(e){let t=0;while(t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start){t++}return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new s;for(const n of this._sortedRanges){const r=n.intersect(e);if(r){t.addRange(r)}}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce((e,t)=>e+t.length,0)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{MonotonousArray:()=>c,findFirstIdxMonotonousOrArrLen:()=>l,findFirstMax:()=>u,findFirstMin:()=>d,findFirstMonotonous:()=>a,findLast:()=>r,findLastIdx:()=>i,findLastIdxMonotonous:()=>o,findLastMax:()=>h,findLastMonotonous:()=>s,findMaxIdx:()=>g,mapFindFirst:()=>f});function r(e,t){const n=i(e,t);if(n===-1){return undefined}return e[n]}function i(e,t,n=e.length-1){for(let r=n;r>=0;r--){const n=e[r];if(t(n)){return r}}return-1}function s(e,t){const n=o(e,t);return n===-1?undefined:e[n]}function o(e,t,n=0,r=e.length){let i=n;let s=r;while(i<s){const n=Math.floor((i+s)/2);if(t(e[n])){i=n+1}else{s=n}}return i-1}function a(e,t){const n=l(e,t);return n===e.length?undefined:e[n]}function l(e,t,n=0,r=e.length){let i=n;let s=r;while(i<s){const n=Math.floor((i+s)/2);if(t(e[n])){s=n}else{i=n+1}}return i}class c{static{this.assertInvariants=false}constructor(e){this._array=e;this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(c.assertInvariants){if(this._prevFindLastPredicate){for(const t of this._array){if(this._prevFindLastPredicate(t)&&!e(t)){throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}}}this._prevFindLastPredicate=e}const t=o(this._array,e,this._findLastMonotonousLastIdx);this._findLastMonotonousLastIdx=t+1;return t===-1?undefined:this._array[t]}}function u(e,t){if(e.length===0){return undefined}let n=e[0];for(let r=1;r<e.length;r++){const i=e[r];if(t(i,n)>0){n=i}}return n}function h(e,t){if(e.length===0){return undefined}let n=e[0];for(let r=1;r<e.length;r++){const i=e[r];if(t(i,n)>=0){n=i}}return n}function d(e,t){return u(e,(e,n)=>-t(e,n))}function g(e,t){if(e.length===0){return-1}let n=0;for(let r=1;r<e.length;r++){const i=e[r];if(t(i,e[n])>0){n=r}}return n}function f(e,t){for(const n of e){const e=t(n);if(e!==undefined){return e}}return undefined}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AbstractText:()=>d,SingleTextEdit:()=>u,StringText:()=>g,TextEdit:()=>c});var r=n(49);var i=n(2);var s=n(26);var o=n(59);var a=n(25);var l=n(60);class c{constructor(e){this.edits=e;(0,r.assertFn)(()=>(0,r.checkAdjacentItems)(e,(e,t)=>e.range.getEndPosition().isBeforeOrEqual(t.range.getStartPosition())))}apply(e){let t="";let n=new s.Position(1,1);for(const r of this.edits){const i=r.range;const s=i.getStartPosition();const o=i.getEndPosition();const a=h(n,s);if(!a.isEmpty()){t+=e.getValueOfRange(a)}t+=r.text;n=o}const r=h(n,e.endPositionExclusive);if(!r.isEmpty()){t+=e.getValueOfRange(r)}return t}applyToString(e){const t=new g(e);return this.apply(t)}getNewRanges(){const e=[];let t=0;let n=0;let r=0;for(const i of this.edits){const o=l.TextLength.ofText(i.text);const a=s.Position.lift({lineNumber:i.range.startLineNumber+n,column:i.range.startColumn+(i.range.startLineNumber===t?r:0)});const c=o.createRange(a);e.push(c);n=c.endLineNumber-i.range.endLineNumber;r=c.endColumn-i.range.endColumn;t=i.range.endLineNumber}return e}}class u{constructor(e,t){this.range=e;this.text=t}toSingleEditOperation(){return{range:this.range,text:this.text}}}function h(e,t){if(e.lineNumber===t.lineNumber&&e.column===Number.MAX_SAFE_INTEGER){return a.Range.fromPositions(t,t)}else if(!e.isBeforeOrEqual(t)){throw new i.BugIndicatingError("start must be before end")}return new a.Range(e.lineNumber,e.column,t.lineNumber,t.column)}class d{get endPositionExclusive(){return this.length.addToPosition(new s.Position(1,1))}}class g extends d{constructor(e){super();this.value=e;this._t=new o.PositionOffsetTransformer(this.value)}getValueOfRange(e){return this._t.getOffsetRange(e).substring(this.value)}get length(){return this._t.textLength}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{PositionOffsetTransformer:()=>s});var r=n(56);var i=n(60);class s{constructor(e){this.text=e;this.lineStartOffsetByLineIdx=[];this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++){if(e.charAt(t)==="\n"){this.lineStartOffsetByLineIdx.push(t+1)}}}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}getOffsetRange(e){return new r.OffsetRange(this.getOffset(e.getStartPosition()),this.getOffset(e.getEndPosition()))}get textLength(){const e=this.lineStartOffsetByLineIdx.length-1;return new i.TextLength(e,this.text.length-this.lineStartOffsetByLineIdx[e])}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{TextLength:()=>s});var r=n(26);var i=n(25);class s{static{this.zero=new s(0,0)}static betweenPositions(e,t){if(e.lineNumber===t.lineNumber){return new s(0,t.column-e.column)}else{return new s(t.lineNumber-e.lineNumber,t.column-1)}}static ofRange(e){return s.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let t=0;let n=0;for(const r of e){if(r==="\n"){t++;n=0}else{n++}}return new s(t,n)}constructor(e,t){this.lineCount=e;this.columnCount=t}isGreaterThanOrEqualTo(e){if(this.lineCount!==e.lineCount){return this.lineCount>e.lineCount}return this.columnCount>=e.columnCount}createRange(e){if(this.lineCount===0){return new i.Range(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount)}else{return new i.Range(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}}addToPosition(e){if(this.lineCount===0){return new r.Position(e.lineNumber,e.column+this.columnCount)}else{return new r.Position(e.lineNumber+this.lineCount,this.columnCount+1)}}toString(){return`${this.lineCount},${this.columnCount}`}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DefaultLinesDiffComputer:()=>_,getLineRangeMapping:()=>C,lineRangeMappingFromRangeMappings:()=>b});var r=n(62);var i=n(49);var s=n(55);var o=n(56);var a=n(25);var l=n(63);var c=n(64);var u=n(66);var h=n(67);var d=n(69);var g=n(70);var f=n(68);var m=n(53);var p=n(54);class _{constructor(){this.dynamicProgrammingDiffing=new c.DynamicProgrammingDiffing;this.myersDiffingAlgorithm=new u.MyersDiffAlgorithm}computeDiff(e,t,n){if(e.length<=1&&(0,r.equals)(e,t,(e,t)=>e===t)){return new m.LinesDiff([],[],false)}if(e.length===1&&e[0].length===0||t.length===1&&t[0].length===0){return new m.LinesDiff([new p.DetailedLineRangeMapping(new s.LineRange(1,e.length+1),new s.LineRange(1,t.length+1),[new p.RangeMapping(new a.Range(1,1,e.length,e[e.length-1].length+1),new a.Range(1,1,t.length,t[t.length-1].length+1))])],[],false)}const c=n.maxComputationTimeMs===0?l.InfiniteTimeout.instance:new l.DateTimeout(n.maxComputationTimeMs);const u=!n.ignoreTrimWhitespace;const h=new Map;function f(e){let t=h.get(e);if(t===undefined){t=h.size;h.set(e,t)}return t}const _=e.map(e=>f(e.trim()));const C=t.map(e=>f(e.trim()));const v=new g.LineSequence(_,e);const k=new g.LineSequence(C,t);const L=(()=>{if(v.length+k.length<1700){return this.dynamicProgrammingDiffing.compute(v,k,c,(n,r)=>e[n]===t[r]?t[r].length===0?.1:1+Math.log(1+t[r].length):.99)}return this.myersDiffingAlgorithm.compute(v,k,c)})();let S=L.diffs;let w=L.hitTimeout;S=(0,d.optimizeSequenceDiffs)(v,k,S);S=(0,d.removeVeryShortMatchingLinesBetweenDiffs)(v,k,S);const y=[];const E=n=>{if(!u){return}for(let r=0;r<n;r++){const n=I+r;const i=x+r;if(e[n]!==t[i]){const r=this.refineDiff(e,t,new l.SequenceDiff(new o.OffsetRange(n,n+1),new o.OffsetRange(i,i+1)),c,u);for(const e of r.mappings){y.push(e)}if(r.hitTimeout){w=true}}}};let I=0;let x=0;for(const n of S){(0,i.assertFn)(()=>n.seq1Range.start-I===n.seq2Range.start-x);const r=n.seq1Range.start-I;E(r);I=n.seq1Range.endExclusive;x=n.seq2Range.endExclusive;const s=this.refineDiff(e,t,n,c,u);if(s.hitTimeout){w=true}for(const e of s.mappings){y.push(e)}}E(e.length-I);const T=b(y,e,t);let N=[];if(n.computeMoves){N=this.computeMoves(T,e,t,_,C,c,u)}(0,i.assertFn)(()=>{function n(e,t){if(e.lineNumber<1||e.lineNumber>t.length){return false}const n=t[e.lineNumber-1];if(e.column<1||e.column>n.length+1){return false}return true}function r(e,t){if(e.startLineNumber<1||e.startLineNumber>t.length+1){return false}if(e.endLineNumberExclusive<1||e.endLineNumberExclusive>t.length+1){return false}return true}for(const i of T){if(!i.innerChanges){return false}for(const r of i.innerChanges){const i=n(r.modifiedRange.getStartPosition(),t)&&n(r.modifiedRange.getEndPosition(),t)&&n(r.originalRange.getStartPosition(),e)&&n(r.originalRange.getEndPosition(),e);if(!i){return false}}if(!r(i.modified,t)||!r(i.original,e)){return false}}return true});return new m.LinesDiff(T,N,w)}computeMoves(e,t,n,r,i,s,o){const a=(0,h.computeMovedLines)(e,t,n,r,i,s);const c=a.map(e=>{const r=this.refineDiff(t,n,new l.SequenceDiff(e.original.toOffsetRange(),e.modified.toOffsetRange()),s,o);const i=b(r.mappings,t,n,true);return new m.MovedText(e,i)});return c}refineDiff(e,t,n,r,i){const s=v(n);const o=s.toRangeMapping2(e,t);const a=new f.LinesSliceCharSequence(e,o.originalRange,i);const c=new f.LinesSliceCharSequence(t,o.modifiedRange,i);const u=a.length+c.length<500?this.dynamicProgrammingDiffing.compute(a,c,r):this.myersDiffingAlgorithm.compute(a,c,r);const h=false;let g=u.diffs;if(h){l.SequenceDiff.assertSorted(g)}g=(0,d.optimizeSequenceDiffs)(a,c,g);if(h){l.SequenceDiff.assertSorted(g)}g=(0,d.extendDiffsToEntireWordIfAppropriate)(a,c,g);if(h){l.SequenceDiff.assertSorted(g)}g=(0,d.removeShortMatches)(a,c,g);if(h){l.SequenceDiff.assertSorted(g)}g=(0,d.removeVeryShortMatchingTextBetweenLongDiffs)(a,c,g);if(h){l.SequenceDiff.assertSorted(g)}const m=g.map(e=>new p.RangeMapping(a.translateRange(e.seq1Range),c.translateRange(e.seq2Range)));if(h){p.RangeMapping.assertSorted(m)}return{mappings:m,hitTimeout:u.hitTimeout}}}function b(e,t,n,s=false){const o=[];for(const i of(0,r.groupAdjacentBy)(e.map(e=>C(e,t,n)),(e,t)=>e.original.overlapOrTouch(t.original)||e.modified.overlapOrTouch(t.modified))){const e=i[0];const t=i[i.length-1];o.push(new p.DetailedLineRangeMapping(e.original.join(t.original),e.modified.join(t.modified),i.map(e=>e.innerChanges[0])))}(0,i.assertFn)(()=>{if(!s&&o.length>0){if(o[0].modified.startLineNumber!==o[0].original.startLineNumber){return false}if(n.length-o[o.length-1].modified.endLineNumberExclusive!==t.length-o[o.length-1].original.endLineNumberExclusive){return false}}return(0,i.checkAdjacentItems)(o,(e,t)=>t.original.startLineNumber-e.original.endLineNumberExclusive===t.modified.startLineNumber-e.modified.endLineNumberExclusive&&e.original.endLineNumberExclusive<t.original.startLineNumber&&e.modified.endLineNumberExclusive<t.modified.startLineNumber)});return o}function C(e,t,n){let r=0;let i=0;if(e.modifiedRange.endColumn===1&&e.originalRange.endColumn===1&&e.originalRange.startLineNumber+r<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+r<=e.modifiedRange.endLineNumber){i=-1}if(e.modifiedRange.startColumn-1>=n[e.modifiedRange.startLineNumber-1].length&&e.originalRange.startColumn-1>=t[e.originalRange.startLineNumber-1].length&&e.originalRange.startLineNumber<=e.originalRange.endLineNumber+i&&e.modifiedRange.startLineNumber<=e.modifiedRange.endLineNumber+i){r=1}const o=new s.LineRange(e.originalRange.startLineNumber+r,e.originalRange.endLineNumber+1+i);const a=new s.LineRange(e.modifiedRange.startLineNumber+r,e.modifiedRange.endLineNumber+1+i);return new p.DetailedLineRangeMapping(o,a,[e])}function v(e){return new p.LineRangeMapping(new s.LineRange(e.seq1Range.start+1,e.seq1Range.endExclusive+1),new s.LineRange(e.seq2Range.start+1,e.seq2Range.endExclusive+1))}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ArrayQueue:()=>D,CallbackIterable:()=>F,CompareResult:()=>T,Permutation:()=>M,arrayInsert:()=>k,asArray:()=>y,binarySearch:()=>a,binarySearch2:()=>l,booleanComparator:()=>A,coalesce:()=>f,coalesceInPlace:()=>m,compareBy:()=>N,distinct:()=>b,equals:()=>s,firstOrDefault:()=>C,forEachAdjacent:()=>d,forEachWithNeighbors:()=>g,groupAdjacentBy:()=>h,groupBy:()=>u,insertInto:()=>E,isFalsyOrEmpty:()=>p,isNonEmptyArray:()=>_,numberComparator:()=>R,pushMany:()=>w,pushToEnd:()=>S,pushToStart:()=>L,quickSelect:()=>c,range:()=>v,removeFastWithoutKeepingOrder:()=>o,reverseOrder:()=>O,splice:()=>I,tail:()=>r,tail2:()=>i,tieBreakComparators:()=>B});function r(e,t=0){return e[e.length-(1+t)]}function i(e){if(e.length===0){throw new Error("Invalid tail call")}return[e.slice(0,e.length-1),e[e.length-1]]}function s(e,t,n=(e,t)=>e===t){if(e===t){return true}if(!e||!t){return false}if(e.length!==t.length){return false}for(let r=0,i=e.length;r<i;r++){if(!n(e[r],t[r])){return false}}return true}function o(e,t){const n=e.length-1;if(t<n){e[t]=e[n]}e.pop()}function a(e,t,n){return l(e.length,r=>n(e[r],t))}function l(e,t){let n=0,r=e-1;while(n<=r){const e=(n+r)/2|0;const i=t(e);if(i<0){n=e+1}else if(i>0){r=e-1}else{return e}}return-(n+1)}function c(e,t,n){e=e|0;if(e>=t.length){throw new TypeError("invalid index")}const r=t[Math.floor(t.length*Math.random())];const i=[];const s=[];const o=[];for(const e of t){const t=n(e,r);if(t<0){i.push(e)}else if(t>0){s.push(e)}else{o.push(e)}}if(e<i.length){return c(e,i,n)}else if(e<i.length+o.length){return o[0]}else{return c(e-(i.length+o.length),s,n)}}function u(e,t){const n=[];let r=undefined;for(const i of e.slice(0).sort(t)){if(!r||t(r[0],i)!==0){r=[i];n.push(r)}else{r.push(i)}}return n}function*h(e,t){let n;let r;for(const i of e){if(r!==undefined&&t(r,i)){n.push(i)}else{if(n){yield n}n=[i]}r=i}if(n){yield n}}function d(e,t){for(let n=0;n<=e.length;n++){t(n===0?undefined:e[n-1],n===e.length?undefined:e[n])}}function g(e,t){for(let n=0;n<e.length;n++){t(n===0?undefined:e[n-1],e[n],n+1===e.length?undefined:e[n+1])}}function f(e){return e.filter(e=>!!e)}function m(e){let t=0;for(let n=0;n<e.length;n++){if(!!e[n]){e[t]=e[n];t+=1}}e.length=t}function p(e){return!Array.isArray(e)||e.length===0}function _(e){return Array.isArray(e)&&e.length>0}function b(e,t=e=>e){const n=new Set;return e.filter(e=>{const r=t(e);if(n.has(r)){return false}n.add(r);return true})}function C(e,t){return e.length>0?e[0]:t}function v(e,t){let n=typeof t==="number"?e:0;if(typeof t==="number"){n=e}else{n=0;t=e}const r=[];if(n<=t){for(let e=n;e<t;e++){r.push(e)}}else{for(let e=n;e>t;e--){r.push(e)}}return r}function k(e,t,n){const r=e.slice(0,t);const i=e.slice(t);return r.concat(n,i)}function L(e,t){const n=e.indexOf(t);if(n>-1){e.splice(n,1);e.unshift(t)}}function S(e,t){const n=e.indexOf(t);if(n>-1){e.splice(n,1);e.push(t)}}function w(e,t){for(const n of t){e.push(n)}}function y(e){return Array.isArray(e)?e:[e]}function E(e,t,n){const r=x(e,t);const i=e.length;const s=n.length;e.length=i+s;for(let t=i-1;t>=r;t--){e[t+s]=e[t]}for(let t=0;t<s;t++){e[t+r]=n[t]}}function I(e,t,n,r){const i=x(e,t);let s=e.splice(i,n);if(s===undefined){s=[]}E(e,i,r);return s}function x(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}var T;(function(e){function t(e){return e<0}e.isLessThan=t;function n(e){return e<=0}e.isLessThanOrEqual=n;function r(e){return e>0}e.isGreaterThan=r;function i(e){return e===0}e.isNeitherLessOrGreaterThan=i;e.greaterThan=1;e.lessThan=-1;e.neitherLessOrGreaterThan=0})(T||(T={}));function N(e,t){return(n,r)=>t(e(n),e(r))}function B(...e){return(t,n)=>{for(const r of e){const e=r(t,n);if(!T.isNeitherLessOrGreaterThan(e)){return e}}return T.neitherLessOrGreaterThan}}const R=(e,t)=>e-t;const A=(e,t)=>R(e?1:0,t?1:0);function O(e){return(t,n)=>-e(t,n)}class D{constructor(e){this.items=e;this.firstIdx=0;this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;while(t<this.items.length&&e(this.items[t])){t++}const n=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);this.firstIdx=t;return n}takeFromEndWhile(e){let t=this.lastIdx;while(t>=0&&e(this.items[t])){t--}const n=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);this.lastIdx=t;return n}peek(){if(this.length===0){return undefined}return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];this.firstIdx++;return e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);this.firstIdx+=e;return t}}class F{static{this.empty=new F(e=>{})}constructor(e){this.iterate=e}toArray(){const e=[];this.iterate(t=>{e.push(t);return true});return e}filter(e){return new F(t=>this.iterate(n=>e(n)?t(n):true))}map(e){return new F(t=>this.iterate(n=>t(e(n))))}findLast(e){let t;this.iterate(n=>{if(e(n)){t=n}return true});return t}findLastMaxBy(e){let t;let n=true;this.iterate(r=>{if(n||T.isGreaterThan(e(r,t))){n=false;t=r}return true});return t}}class M{constructor(e){this._indexMap=e}static createSortPermutation(e,t){const n=Array.from(e.keys()).sort((n,r)=>t(e[n],e[r]));return new M(n)}apply(e){return e.map((t,n)=>e[this._indexMap[n]])}inverse(){const e=this._indexMap.slice();for(let t=0;t<this._indexMap.length;t++){e[this._indexMap[t]]=t}return new M(e)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DateTimeout:()=>u,DiffAlgorithmResult:()=>o,InfiniteTimeout:()=>c,OffsetPair:()=>l,SequenceDiff:()=>a});var r=n(62);var i=n(2);var s=n(56);class o{static trivial(e,t){return new o([new a(s.OffsetRange.ofLength(e.length),s.OffsetRange.ofLength(t.length))],false)}static trivialTimedOut(e,t){return new o([new a(s.OffsetRange.ofLength(e.length),s.OffsetRange.ofLength(t.length))],true)}constructor(e,t){this.diffs=e;this.hitTimeout=t}}class a{static invert(e,t){const n=[];(0,r.forEachAdjacent)(e,(e,r)=>{n.push(a.fromOffsetPairs(e?e.getEndExclusives():l.zero,r?r.getStarts():new l(t,(e?e.seq2Range.endExclusive-e.seq1Range.endExclusive:0)+t)))});return n}static fromOffsetPairs(e,t){return new a(new s.OffsetRange(e.offset1,t.offset1),new s.OffsetRange(e.offset2,t.offset2))}static assertSorted(e){let t=undefined;for(const n of e){if(t){if(!(t.seq1Range.endExclusive<=n.seq1Range.start&&t.seq2Range.endExclusive<=n.seq2Range.start)){throw new i.BugIndicatingError("Sequence diffs must be sorted")}}t=n}}constructor(e,t){this.seq1Range=e;this.seq2Range=t}swap(){return new a(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new a(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){if(e===0){return this}return new a(this.seq1Range.delta(e),this.seq2Range.delta(e))}deltaStart(e){if(e===0){return this}return new a(this.seq1Range.deltaStart(e),this.seq2Range.deltaStart(e))}deltaEnd(e){if(e===0){return this}return new a(this.seq1Range.deltaEnd(e),this.seq2Range.deltaEnd(e))}intersect(e){const t=this.seq1Range.intersect(e.seq1Range);const n=this.seq2Range.intersect(e.seq2Range);if(!t||!n){return undefined}return new a(t,n)}getStarts(){return new l(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new l(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class l{static{this.zero=new l(0,0)}static{this.max=new l(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}constructor(e,t){this.offset1=e;this.offset2=t}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(e){if(e===0){return this}return new l(this.offset1+e,this.offset2+e)}equals(e){return this.offset1===e.offset1&&this.offset2===e.offset2}}class c{static{this.instance=new c}isValid(){return true}}class u{constructor(e){this.timeout=e;this.startTime=Date.now();this.valid=true;if(e<=0){throw new i.BugIndicatingError("timeout must be positive")}}isValid(){const e=Date.now()-this.startTime<this.timeout;if(!e&&this.valid){this.valid=false;debugger}return this.valid}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DynamicProgrammingDiffing:()=>o});var r=n(56);var i=n(63);var s=n(65);class o{compute(e,t,n=i.InfiniteTimeout.instance,o){if(e.length===0||t.length===0){return i.DiffAlgorithmResult.trivial(e,t)}const a=new s.Array2D(e.length,t.length);const l=new s.Array2D(e.length,t.length);const c=new s.Array2D(e.length,t.length);for(let r=0;r<e.length;r++){for(let s=0;s<t.length;s++){if(!n.isValid()){return i.DiffAlgorithmResult.trivialTimedOut(e,t)}const u=r===0?0:a.get(r-1,s);const h=s===0?0:a.get(r,s-1);let d;if(e.getElement(r)===t.getElement(s)){if(r===0||s===0){d=0}else{d=a.get(r-1,s-1)}if(r>0&&s>0&&l.get(r-1,s-1)===3){d+=c.get(r-1,s-1)}d+=o?o(r,s):1}else{d=-1}const g=Math.max(u,h,d);if(g===d){const e=r>0&&s>0?c.get(r-1,s-1):0;c.set(r,s,e+1);l.set(r,s,3)}else if(g===u){c.set(r,s,0);l.set(r,s,1)}else if(g===h){c.set(r,s,0);l.set(r,s,2)}a.set(r,s,g)}}const u=[];let h=e.length;let d=t.length;function g(e,t){if(e+1!==h||t+1!==d){u.push(new i.SequenceDiff(new r.OffsetRange(e+1,h),new r.OffsetRange(t+1,d)))}h=e;d=t}let f=e.length-1;let m=t.length-1;while(f>=0&&m>=0){if(l.get(f,m)===3){g(f,m);f--;m--}else{if(l.get(f,m)===1){f--}else{m--}}}g(-1,-1);u.reverse();return new i.DiffAlgorithmResult(u,false)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Array2D:()=>r,LineRangeFragment:()=>s,isSpace:()=>i});class r{constructor(e,t){this.width=e;this.height=t;this.array=[];this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,n){this.array[e+t*this.width]=n}}function i(e){return e===32||e===9}class s{static{this.chrKeys=new Map}static getKey(e){let t=this.chrKeys.get(e);if(t===undefined){t=this.chrKeys.size;this.chrKeys.set(e,t)}return t}constructor(e,t,n){this.range=e;this.lines=t;this.source=n;this.histogram=[];let r=0;for(let n=e.startLineNumber-1;n<e.endLineNumberExclusive-1;n++){const e=t[n];for(let t=0;t<e.length;t++){r++;const n=e[t];const i=s.getKey(n);this.histogram[i]=(this.histogram[i]||0)+1}r++;const i=s.getKey("\n");this.histogram[i]=(this.histogram[i]||0)+1}this.totalCount=r}computeSimilarity(e){let t=0;const n=Math.max(this.histogram.length,e.histogram.length);for(let r=0;r<n;r++){t+=Math.abs((this.histogram[r]??0)-(e.histogram[r]??0))}return 1-t/(this.totalCount+e.totalCount)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{MyersDiffAlgorithm:()=>s});var r=n(56);var i=n(63);class s{compute(e,t,n=i.InfiniteTimeout.instance){if(e.length===0||t.length===0){return i.DiffAlgorithmResult.trivial(e,t)}const s=e;const c=t;function u(e,t){while(e<s.length&&t<c.length&&s.getElement(e)===c.getElement(t)){e++;t++}return e}let h=0;const d=new a;d.set(0,u(0,0));const g=new l;g.set(0,d.get(0)===0?null:new o(null,0,0,d.get(0)));let f=0;e:while(true){h++;if(!n.isValid()){return i.DiffAlgorithmResult.trivialTimedOut(s,c)}const e=-Math.min(h,c.length+h%2);const t=Math.min(h,s.length+h%2);for(f=e;f<=t;f+=2){let n=0;const r=f===t?-1:d.get(f+1);const i=f===e?-1:d.get(f-1)+1;n++;const a=Math.min(Math.max(r,i),s.length);const l=a-f;n++;if(a>s.length||l>c.length){continue}const h=u(a,l);d.set(f,h);const m=a===r?g.get(f+1):g.get(f-1);g.set(f,h!==a?new o(m,a,l,h-a):m);if(d.get(f)===s.length&&d.get(f)-f===c.length){break e}}}let m=g.get(f);const p=[];let _=s.length;let b=c.length;while(true){const e=m?m.x+m.length:0;const t=m?m.y+m.length:0;if(e!==_||t!==b){p.push(new i.SequenceDiff(new r.OffsetRange(e,_),new r.OffsetRange(t,b)))}if(!m){break}_=m.x;b=m.y;m=m.prev}p.reverse();return new i.DiffAlgorithmResult(p,false)}}class o{constructor(e,t,n,r){this.prev=e;this.x=t;this.y=n;this.length=r}}class a{constructor(){this.positiveArr=new Int32Array(10);this.negativeArr=new Int32Array(10)}get(e){if(e<0){e=-e-1;return this.negativeArr[e]}else{return this.positiveArr[e]}}set(e,t){if(e<0){e=-e-1;if(e>=this.negativeArr.length){const e=this.negativeArr;this.negativeArr=new Int32Array(e.length*2);this.negativeArr.set(e)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const e=this.positiveArr;this.positiveArr=new Int32Array(e.length*2);this.positiveArr.set(e)}this.positiveArr[e]=t}}}class l{constructor(){this.positiveArr=[];this.negativeArr=[]}get(e){if(e<0){e=-e-1;return this.negativeArr[e]}else{return this.positiveArr[e]}}set(e,t){if(e<0){e=-e-1;this.negativeArr[e]=t}else{this.positiveArr[e]=t}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{computeMovedLines:()=>g});var r=n(63);var i=n(54);var s=n(62);var o=n(57);var a=n(46);var l=n(55);var c=n(68);var u=n(65);var h=n(66);var d=n(25);function g(e,t,n,r,i,o){let{moves:a,excludedChanges:l}=m(e,t,n,o);if(!o.isValid()){return[]}const c=e.filter(e=>!l.has(e));const u=p(c,r,i,t,n,o);(0,s.pushMany)(a,u);a=b(a);a=a.filter(e=>{const n=e.original.toOffsetRange().slice(t).map(e=>e.trim());const r=n.join("\n");return r.length>=15&&f(n,e=>e.length>=2)>=2});a=C(e,a);return a}function f(e,t){let n=0;for(const r of e){if(t(r)){n++}}return n}function m(e,t,n,r){const s=[];const o=e.filter(e=>e.modified.isEmpty&&e.original.length>=3).map(e=>new u.LineRangeFragment(e.original,t,e));const a=new Set(e.filter(e=>e.original.isEmpty&&e.modified.length>=3).map(e=>new u.LineRangeFragment(e.modified,n,e)));const l=new Set;for(const e of o){let t=-1;let n;for(const r of a){const i=e.computeSimilarity(r);if(i>t){t=i;n=r}}if(t>.9&&n){a.delete(n);s.push(new i.LineRangeMapping(e.range,n.range));l.add(e.source);l.add(n.source)}if(!r.isValid()){return{moves:s,excludedChanges:l}}}return{moves:s,excludedChanges:l}}function p(e,t,n,r,c,u){const h=[];const d=new a.SetMap;for(const n of e){for(let e=n.original.startLineNumber;e<n.original.endLineNumberExclusive-2;e++){const n=`${t[e-1]}:${t[e+1-1]}:${t[e+2-1]}`;d.add(n,{range:new l.LineRange(e,e+3)})}}const g=[];e.sort((0,s.compareBy)(e=>e.modified.startLineNumber,s.numberComparator));for(const t of e){let e=[];for(let r=t.modified.startLineNumber;r<t.modified.endLineNumberExclusive-2;r++){const t=`${n[r-1]}:${n[r+1-1]}:${n[r+2-1]}`;const i=new l.LineRange(r,r+3);const s=[];d.forEach(t,({range:t})=>{for(const n of e){if(n.originalLineRange.endLineNumberExclusive+1===t.endLineNumberExclusive&&n.modifiedLineRange.endLineNumberExclusive+1===i.endLineNumberExclusive){n.originalLineRange=new l.LineRange(n.originalLineRange.startLineNumber,t.endLineNumberExclusive);n.modifiedLineRange=new l.LineRange(n.modifiedLineRange.startLineNumber,i.endLineNumberExclusive);s.push(n);return}}const n={modifiedLineRange:i,originalLineRange:t};g.push(n);s.push(n)});e=s}if(!u.isValid()){return[]}}g.sort((0,s.reverseOrder)((0,s.compareBy)(e=>e.modifiedLineRange.length,s.numberComparator)));const f=new l.LineRangeSet;const m=new l.LineRangeSet;for(const e of g){const t=e.modifiedLineRange.startLineNumber-e.originalLineRange.startLineNumber;const n=f.subtractFrom(e.modifiedLineRange);const r=m.subtractFrom(e.originalLineRange).getWithDelta(t);const s=n.getIntersection(r);for(const e of s.ranges){if(e.length<3){continue}const n=e;const r=e.delta(-t);h.push(new i.LineRangeMapping(r,n));f.addRange(n);m.addRange(r)}}h.sort((0,s.compareBy)(e=>e.original.startLineNumber,s.numberComparator));const p=new o.MonotonousArray(e);for(let t=0;t<h.length;t++){const n=h[t];const s=p.findLastMonotonous(e=>e.original.startLineNumber<=n.original.startLineNumber);const a=(0,o.findLastMonotonous)(e,e=>e.modified.startLineNumber<=n.modified.startLineNumber);const d=Math.max(n.original.startLineNumber-s.original.startLineNumber,n.modified.startLineNumber-a.modified.startLineNumber);const g=p.findLastMonotonous(e=>e.original.startLineNumber<n.original.endLineNumberExclusive);const b=(0,o.findLastMonotonous)(e,e=>e.modified.startLineNumber<n.modified.endLineNumberExclusive);const C=Math.max(g.original.endLineNumberExclusive-n.original.endLineNumberExclusive,b.modified.endLineNumberExclusive-n.modified.endLineNumberExclusive);let v;for(v=0;v<d;v++){const e=n.original.startLineNumber-v-1;const t=n.modified.startLineNumber-v-1;if(e>r.length||t>c.length){break}if(f.contains(t)||m.contains(e)){break}if(!_(r[e-1],c[t-1],u)){break}}if(v>0){m.addRange(new l.LineRange(n.original.startLineNumber-v,n.original.startLineNumber));f.addRange(new l.LineRange(n.modified.startLineNumber-v,n.modified.startLineNumber))}let k;for(k=0;k<C;k++){const e=n.original.endLineNumberExclusive+k;const t=n.modified.endLineNumberExclusive+k;if(e>r.length||t>c.length){break}if(f.contains(t)||m.contains(e)){break}if(!_(r[e-1],c[t-1],u)){break}}if(k>0){m.addRange(new l.LineRange(n.original.endLineNumberExclusive,n.original.endLineNumberExclusive+k));f.addRange(new l.LineRange(n.modified.endLineNumberExclusive,n.modified.endLineNumberExclusive+k))}if(v>0||k>0){h[t]=new i.LineRangeMapping(new l.LineRange(n.original.startLineNumber-v,n.original.endLineNumberExclusive+k),new l.LineRange(n.modified.startLineNumber-v,n.modified.endLineNumberExclusive+k))}}return h}function _(e,t,n){if(e.trim()===t.trim()){return true}if(e.length>300&&t.length>300){return false}const i=new h.MyersDiffAlgorithm;const s=i.compute(new c.LinesSliceCharSequence([e],new d.Range(1,1,1,e.length),false),new c.LinesSliceCharSequence([t],new d.Range(1,1,1,t.length),false),n);let o=0;const a=r.SequenceDiff.invert(s.diffs,e.length);for(const t of a){t.seq1Range.forEach(t=>{if(!(0,u.isSpace)(e.charCodeAt(t))){o++}})}function l(t){let n=0;for(let r=0;r<e.length;r++){if(!(0,u.isSpace)(t.charCodeAt(r))){n++}}return n}const g=l(e.length>t.length?e:t);const f=o/g>.6&&g>10;return f}function b(e){if(e.length===0){return e}e.sort((0,s.compareBy)(e=>e.original.startLineNumber,s.numberComparator));const t=[e[0]];for(let n=1;n<e.length;n++){const r=t[t.length-1];const i=e[n];const s=i.original.startLineNumber-r.original.endLineNumberExclusive;const o=i.modified.startLineNumber-r.modified.endLineNumberExclusive;const a=s>=0&&o>=0;if(a&&s+o<=2){t[t.length-1]=r.join(i);continue}t.push(i)}return t}function C(e,t){const n=new o.MonotonousArray(e);t=t.filter(t=>{const r=n.findLastMonotonous(e=>e.original.startLineNumber<t.original.endLineNumberExclusive)||new i.LineRangeMapping(new l.LineRange(1,1),new l.LineRange(1,1));const s=(0,o.findLastMonotonous)(e,e=>e.modified.startLineNumber<t.modified.endLineNumberExclusive);const a=r!==s;return a});return t}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LinesSliceCharSequence:()=>l});var r=n(57);var i=n(56);var s=n(26);var o=n(25);var a=n(65);class l{constructor(e,t,n){this.lines=e;this.range=t;this.considerWhitespaceChanges=n;this.elements=[];this.firstElementOffsetByLineIdx=[];this.lineStartOffsets=[];this.trimmedWsLengthsByLineIdx=[];this.firstElementOffsetByLineIdx.push(0);for(let t=this.range.startLineNumber;t<=this.range.endLineNumber;t++){let r=e[t-1];let i=0;if(t===this.range.startLineNumber&&this.range.startColumn>1){i=this.range.startColumn-1;r=r.substring(i)}this.lineStartOffsets.push(i);let s=0;if(!n){const e=r.trimStart();s=r.length-e.length;r=e.trimEnd()}this.trimmedWsLengthsByLineIdx.push(s);const o=t===this.range.endLineNumber?Math.min(this.range.endColumn-1-i-s,r.length):r.length;for(let e=0;e<o;e++){this.elements.push(r.charCodeAt(e))}if(t<this.range.endLineNumber){this.elements.push("\n".charCodeAt(0));this.firstElementOffsetByLineIdx.push(this.elements.length)}}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new i.OffsetRange(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map(e=>String.fromCharCode(e)).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=d(e>0?this.elements[e-1]:-1);const n=d(e<this.elements.length?this.elements[e]:-1);if(t===7&&n===8){return 0}if(t===8){return 150}let r=0;if(t!==n){r+=10;if(t===0&&n===1){r+=1}}r+=h(t);r+=h(n);return r}translateOffset(e,t="right"){const n=(0,r.findLastIdxMonotonous)(this.firstElementOffsetByLineIdx,t=>t<=e);const i=e-this.firstElementOffsetByLineIdx[n];return new s.Position(this.range.startLineNumber+n,1+this.lineStartOffsets[n]+i+(i===0&&t==="left"?0:this.trimmedWsLengthsByLineIdx[n]))}translateRange(e){const t=this.translateOffset(e.start,"right");const n=this.translateOffset(e.endExclusive,"left");if(n.isBefore(t)){return o.Range.fromPositions(n,n)}return o.Range.fromPositions(t,n)}findWordContaining(e){if(e<0||e>=this.elements.length){return undefined}if(!c(this.elements[e])){return undefined}let t=e;while(t>0&&c(this.elements[t-1])){t--}let n=e;while(n<this.elements.length&&c(this.elements[n])){n++}return new i.OffsetRange(t,n)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}isStronglyEqual(e,t){return this.elements[e]===this.elements[t]}extendToFullLines(e){const t=(0,r.findLastMonotonous)(this.firstElementOffsetByLineIdx,t=>t<=e.start)??0;const n=(0,r.findFirstMonotonous)(this.firstElementOffsetByLineIdx,t=>e.endExclusive<=t)??this.elements.length;return new i.OffsetRange(t,n)}}function c(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}const u={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:30,[6]:3,[7]:10,[8]:10};function h(e){return u[e]}function d(e){if(e===10){return 8}else if(e===13){return 7}else if((0,a.isSpace)(e)){return 6}else if(e>=97&&e<=122){return 0}else if(e>=65&&e<=90){return 1}else if(e>=48&&e<=57){return 2}else if(e===-1){return 3}else if(e===44||e===59){return 5}else{return 4}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{extendDiffsToEntireWordIfAppropriate:()=>h,optimizeSequenceDiffs:()=>o,removeShortMatches:()=>u,removeVeryShortMatchingLinesBetweenDiffs:()=>g,removeVeryShortMatchingTextBetweenLongDiffs:()=>f});var r=n(62);var i=n(56);var s=n(63);function o(e,t,n){let r=n;r=a(e,t,r);r=a(e,t,r);r=l(e,t,r);return r}function a(e,t,n){if(n.length===0){return n}const r=[];r.push(n[0]);for(let o=1;o<n.length;o++){const a=r[r.length-1];let l=n[o];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const n=l.seq1Range.start-a.seq1Range.endExclusive;let o;for(o=1;o<=n;o++){if(e.getElement(l.seq1Range.start-o)!==e.getElement(l.seq1Range.endExclusive-o)||t.getElement(l.seq2Range.start-o)!==t.getElement(l.seq2Range.endExclusive-o)){break}}o--;if(o===n){r[r.length-1]=new s.SequenceDiff(new i.OffsetRange(a.seq1Range.start,l.seq1Range.endExclusive-n),new i.OffsetRange(a.seq2Range.start,l.seq2Range.endExclusive-n));continue}l=l.delta(-o)}r.push(l)}const o=[];for(let n=0;n<r.length-1;n++){const a=r[n+1];let l=r[n];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const o=a.seq1Range.start-l.seq1Range.endExclusive;let c;for(c=0;c<o;c++){if(!e.isStronglyEqual(l.seq1Range.start+c,l.seq1Range.endExclusive+c)||!t.isStronglyEqual(l.seq2Range.start+c,l.seq2Range.endExclusive+c)){break}}if(c===o){r[n+1]=new s.SequenceDiff(new i.OffsetRange(l.seq1Range.start+o,a.seq1Range.endExclusive),new i.OffsetRange(l.seq2Range.start+o,a.seq2Range.endExclusive));continue}if(c>0){l=l.delta(c)}}o.push(l)}if(r.length>0){o.push(r[r.length-1])}return o}function l(e,t,n){if(!e.getBoundaryScore||!t.getBoundaryScore){return n}for(let r=0;r<n.length;r++){const s=r>0?n[r-1]:undefined;const o=n[r];const a=r+1<n.length?n[r+1]:undefined;const l=new i.OffsetRange(s?s.seq1Range.endExclusive+1:0,a?a.seq1Range.start-1:e.length);const u=new i.OffsetRange(s?s.seq2Range.endExclusive+1:0,a?a.seq2Range.start-1:t.length);if(o.seq1Range.isEmpty){n[r]=c(o,e,t,l,u)}else if(o.seq2Range.isEmpty){n[r]=c(o.swap(),t,e,u,l).swap()}}return n}function c(e,t,n,r,i){const s=100;let o=1;while(e.seq1Range.start-o>=r.start&&e.seq2Range.start-o>=i.start&&n.isStronglyEqual(e.seq2Range.start-o,e.seq2Range.endExclusive-o)&&o<s){o++}o--;let a=0;while(e.seq1Range.start+a<r.endExclusive&&e.seq2Range.endExclusive+a<i.endExclusive&&n.isStronglyEqual(e.seq2Range.start+a,e.seq2Range.endExclusive+a)&&a<s){a++}if(o===0&&a===0){return e}let l=0;let c=-1;for(let r=-o;r<=a;r++){const i=e.seq2Range.start+r;const s=e.seq2Range.endExclusive+r;const o=e.seq1Range.start+r;const a=t.getBoundaryScore(o)+n.getBoundaryScore(i)+n.getBoundaryScore(s);if(a>c){c=a;l=r}}return e.delta(l)}function u(e,t,n){const r=[];for(const e of n){const t=r[r.length-1];if(!t){r.push(e);continue}if(e.seq1Range.start-t.seq1Range.endExclusive<=2||e.seq2Range.start-t.seq2Range.endExclusive<=2){r[r.length-1]=new s.SequenceDiff(t.seq1Range.join(e.seq1Range),t.seq2Range.join(e.seq2Range))}else{r.push(e)}}return r}function h(e,t,n){const r=s.SequenceDiff.invert(n,e.length);const i=[];let o=new s.OffsetPair(0,0);function a(n,a){if(n.offset1<o.offset1||n.offset2<o.offset2){return}const l=e.findWordContaining(n.offset1);const c=t.findWordContaining(n.offset2);if(!l||!c){return}let u=new s.SequenceDiff(l,c);const h=u.intersect(a);let d=h.seq1Range.length;let g=h.seq2Range.length;while(r.length>0){const n=r[0];const i=n.seq1Range.intersects(u.seq1Range)||n.seq2Range.intersects(u.seq2Range);if(!i){break}const o=e.findWordContaining(n.seq1Range.start);const a=t.findWordContaining(n.seq2Range.start);const l=new s.SequenceDiff(o,a);const c=l.intersect(n);d+=c.seq1Range.length;g+=c.seq2Range.length;u=u.join(l);if(u.seq1Range.endExclusive>=n.seq1Range.endExclusive){r.shift()}else{break}}if(d+g<(u.seq1Range.length+u.seq2Range.length)*2/3){i.push(u)}o=u.getEndExclusives()}while(r.length>0){const e=r.shift();if(e.seq1Range.isEmpty){continue}a(e.getStarts(),e);a(e.getEndExclusives().delta(-1),e)}const l=d(n,i);return l}function d(e,t){const n=[];while(e.length>0||t.length>0){const r=e[0];const i=t[0];let s;if(r&&(!i||r.seq1Range.start<i.seq1Range.start)){s=e.shift()}else{s=t.shift()}if(n.length>0&&n[n.length-1].seq1Range.endExclusive>=s.seq1Range.start){n[n.length-1]=n[n.length-1].join(s)}else{n.push(s)}}return n}function g(e,t,n){let r=n;if(r.length===0){return r}let s=0;let o;do{o=false;const a=[r[0]];for(let l=1;l<r.length;l++){const c=r[l];const u=a[a.length-1];function h(t,n){const r=new i.OffsetRange(u.seq1Range.endExclusive,c.seq1Range.start);const s=e.getText(r);const o=s.replace(/\s/g,"");if(o.length<=4&&(t.seq1Range.length+t.seq2Range.length>5||n.seq1Range.length+n.seq2Range.length>5)){return true}return false}const d=h(u,c);if(d){o=true;a[a.length-1]=a[a.length-1].join(c)}else{a.push(c)}}r=a}while(s++<10&&o);return r}function f(e,t,n){let o=n;if(o.length===0){return o}let a=0;let l;do{l=false;const u=[o[0]];for(let h=1;h<o.length;h++){const d=o[h];const g=u[u.length-1];function f(n,r){const s=new i.OffsetRange(g.seq1Range.endExclusive,d.seq1Range.start);const o=e.countLinesIn(s);if(o>5||s.length>500){return false}const a=e.getText(s).trim();if(a.length>20||a.split(/\r\n|\r|\n/).length>1){return false}const l=e.countLinesIn(n.seq1Range);const c=n.seq1Range.length;const u=t.countLinesIn(n.seq2Range);const h=n.seq2Range.length;const f=e.countLinesIn(r.seq1Range);const m=r.seq1Range.length;const p=t.countLinesIn(r.seq2Range);const _=r.seq2Range.length;const b=2*40+50;function C(e){return Math.min(e,b)}if(Math.pow(Math.pow(C(l*40+c),1.5)+Math.pow(C(u*40+h),1.5),1.5)+Math.pow(Math.pow(C(f*40+m),1.5)+Math.pow(C(p*40+_),1.5),1.5)>(b**1.5)**1.5*1.3){return true}return false}const m=f(g,d);if(m){l=true;u[u.length-1]=u[u.length-1].join(d)}else{u.push(d)}}o=u}while(a++<10&&l);const c=[];(0,r.forEachWithNeighbors)(o,(t,n,r)=>{let o=n;function a(e){return e.length>0&&e.trim().length<=3&&n.seq1Range.length+n.seq2Range.length>100}const l=e.extendToFullLines(n.seq1Range);const u=e.getText(new i.OffsetRange(l.start,n.seq1Range.start));if(a(u)){o=o.deltaStart(-u.length)}const h=e.getText(new i.OffsetRange(n.seq1Range.endExclusive,l.endExclusive));if(a(h)){o=o.deltaEnd(h.length)}const d=s.SequenceDiff.fromOffsetPairs(t?t.getEndExclusives():s.OffsetPair.zero,r?r.getStarts():s.OffsetPair.max);const g=o.intersect(d);if(c.length>0&&g.getStarts().equals(c[c.length-1].getEndExclusives())){c[c.length-1]=c[c.length-1].join(g)}else{c.push(g)}});return c}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LineSequence:()=>r});class r{constructor(e,t){this.trimmedHash=e;this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=e===0?0:i(this.lines[e-1]);const n=e===this.lines.length?0:i(this.lines[e]);return 1e3-(t+n)}getText(e){return this.lines.slice(e.start,e.endExclusive).join("\n")}isStronglyEqual(e,t){return this.lines[e]===this.lines[t]}}function i(e){let t=0;while(t<e.length&&(e.charCodeAt(t)===32||e.charCodeAt(t)===9)){t++}return t}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{computeDefaultDocumentColors:()=>d});var r=n(72);function i(e){const t=[];for(const n of e){const e=Number(n);if(e||e===0&&n.replace(/\s/g,"")!==""){t.push(e)}}return t}function s(e,t,n,r){return{red:e/255,blue:n/255,green:t/255,alpha:r}}function o(e,t){const n=t.index;const r=t[0].length;if(!n){return}const i=e.positionAt(n);const s={startLineNumber:i.lineNumber,startColumn:i.column,endLineNumber:i.lineNumber,endColumn:i.column+r};return s}function a(e,t){if(!e){return}const n=r.Color.Format.CSS.parseHex(t);if(!n){return}return{range:e,color:s(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}}function l(e,t,n){if(!e||t.length!==1){return}const r=t[0];const o=r.values();const a=i(o);return{range:e,color:s(a[0],a[1],a[2],n?a[3]:1)}}function c(e,t,n){if(!e||t.length!==1){return}const o=t[0];const a=o.values();const l=i(a);const c=new r.Color(new r.HSLA(l[0],l[1]/100,l[2]/100,n?l[3]:1));return{range:e,color:s(c.rgba.r,c.rgba.g,c.rgba.b,c.rgba.a)}}function u(e,t){if(typeof e==="string"){return[...e.matchAll(t)]}else{return e.findMatches(t)}}function h(e){const t=[];const n=/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm;const r=u(e,n);if(r.length>0){for(const n of r){const r=n.filter(e=>e!==undefined);const i=r[1];const s=r[2];if(!s){continue}let h;if(i==="rgb"){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;h=l(o(e,n),u(s,t),false)}else if(i==="rgba"){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;h=l(o(e,n),u(s,t),true)}else if(i==="hsl"){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;h=c(o(e,n),u(s,t),false)}else if(i==="hsla"){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;h=c(o(e,n),u(s,t),true)}else if(i==="#"){h=a(o(e,n),i+s)}if(h){t.push(h)}}}return t}function d(e){if(!e||typeof e.getValue!=="function"||typeof e.positionAt!=="function"){return[]}return h(e)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Color:()=>a,HSLA:()=>s,HSVA:()=>o,RGBA:()=>i});function r(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}class i{constructor(e,t,n,i=1){this._rgbaBrand=undefined;this.r=Math.min(255,Math.max(0,e))|0;this.g=Math.min(255,Math.max(0,t))|0;this.b=Math.min(255,Math.max(0,n))|0;this.a=r(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class s{constructor(e,t,n,i){this._hslaBrand=undefined;this.h=Math.max(Math.min(360,e),0)|0;this.s=r(Math.max(Math.min(1,t),0),3);this.l=r(Math.max(Math.min(1,n),0),3);this.a=r(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255;const n=e.g/255;const r=e.b/255;const i=e.a;const o=Math.max(t,n,r);const a=Math.min(t,n,r);let l=0;let c=0;const u=(a+o)/2;const h=o-a;if(h>0){c=Math.min(u<=.5?h/(2*u):h/(2-2*u),1);switch(o){case t:l=(n-r)/h+(n<r?6:0);break;case n:l=(r-t)/h+2;break;case r:l=(t-n)/h+4;break}l*=60;l=Math.round(l)}return new s(l,c,u,i)}static _hue2rgb(e,t,n){if(n<0){n+=1}if(n>1){n-=1}if(n<1/6){return e+(t-e)*6*n}if(n<1/2){return t}if(n<2/3){return e+(t-e)*(2/3-n)*6}return e}static toRGBA(e){const t=e.h/360;const{s:n,l:r,a:o}=e;let a,l,c;if(n===0){a=l=c=r}else{const e=r<.5?r*(1+n):r+n-r*n;const i=2*r-e;a=s._hue2rgb(i,e,t+1/3);l=s._hue2rgb(i,e,t);c=s._hue2rgb(i,e,t-1/3)}return new i(Math.round(a*255),Math.round(l*255),Math.round(c*255),o)}}class o{constructor(e,t,n,i){this._hsvaBrand=undefined;this.h=Math.max(Math.min(360,e),0)|0;this.s=r(Math.max(Math.min(1,t),0),3);this.v=r(Math.max(Math.min(1,n),0),3);this.a=r(Math.max(Math.min(1,i),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255;const n=e.g/255;const r=e.b/255;const i=Math.max(t,n,r);const s=Math.min(t,n,r);const a=i-s;const l=i===0?0:a/i;let c;if(a===0){c=0}else if(i===t){c=((n-r)/a%6+6)%6}else if(i===n){c=(r-t)/a+2}else{c=(t-n)/a+4}return new o(Math.round(c*60),l,i,e.a)}static toRGBA(e){const{h:t,s:n,v:r,a:s}=e;const o=r*n;const a=o*(1-Math.abs(t/60%2-1));const l=r-o;let[c,u,h]=[0,0,0];if(t<60){c=o;u=a}else if(t<120){c=a;u=o}else if(t<180){u=o;h=a}else if(t<240){u=a;h=o}else if(t<300){c=a;h=o}else if(t<=360){c=o;h=a}c=Math.round((c+l)*255);u=Math.round((u+l)*255);h=Math.round((h+l)*255);return new i(c,u,h,s)}}class a{static fromHex(e){return a.Format.CSS.parseHex(e)||a.red}static equals(e,t){if(!e&&!t){return true}if(!e||!t){return false}return e.equals(t)}get hsla(){if(this._hsla){return this._hsla}else{return s.fromRGBA(this.rgba)}}get hsva(){if(this._hsva){return this._hsva}return o.fromRGBA(this.rgba)}constructor(e){if(!e){throw new Error("Color needs a value")}else if(e instanceof i){this.rgba=e}else if(e instanceof s){this._hsla=e;this.rgba=s.toRGBA(e)}else if(e instanceof o){this._hsva=e;this.rgba=o.toRGBA(e)}else{throw new Error("Invalid color ctor argument")}}equals(e){return!!e&&i.equals(this.rgba,e.rgba)&&s.equals(this.hsla,e.hsla)&&o.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=a._relativeLuminanceForComponent(this.rgba.r);const t=a._relativeLuminanceForComponent(this.rgba.g);const n=a._relativeLuminanceForComponent(this.rgba.b);const i=.2126*e+.7152*t+.0722*n;return r(i,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){const e=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return e>=128}isLighterThan(e){const t=this.getRelativeLuminance();const n=e.getRelativeLuminance();return t>n}isDarkerThan(e){const t=this.getRelativeLuminance();const n=e.getRelativeLuminance();return t<n}lighten(e){return new a(new s(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new a(new s(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:n,b:r,a:s}=this.rgba;return new a(new i(t,n,r,s*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new a(new i(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1){return this}const{r:t,g:n,b:r,a:s}=this.rgba;return new a(new i(e.rgba.r-s*(e.rgba.r-t),e.rgba.g-s*(e.rgba.g-n),e.rgba.b-s*(e.rgba.b-r),1))}toString(){if(!this._toString){this._toString=a.Format.CSS.format(this)}return this._toString}static getLighterColor(e,t,n){if(e.isLighterThan(t)){return e}n=n?n:.5;const r=e.getRelativeLuminance();const i=t.getRelativeLuminance();n=n*(i-r)/i;return e.lighten(n)}static getDarkerColor(e,t,n){if(e.isDarkerThan(t)){return e}n=n?n:.5;const r=e.getRelativeLuminance();const i=t.getRelativeLuminance();n=n*(r-i)/r;return e.darken(n)}static{this.white=new a(new i(255,255,255,1))}static{this.black=new a(new i(0,0,0,1))}static{this.red=new a(new i(255,0,0,1))}static{this.blue=new a(new i(0,0,255,1))}static{this.green=new a(new i(0,255,0,1))}static{this.cyan=new a(new i(0,255,255,1))}static{this.lightgrey=new a(new i(211,211,211,1))}static{this.transparent=new a(new i(0,0,0,0))}}(function(e){let t;(function(t){let n;(function(t){function n(t){if(t.rgba.a===1){return`rgb(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b})`}return e.Format.CSS.formatRGBA(t)}t.formatRGB=n;function r(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`}t.formatRGBA=r;function s(t){if(t.hsla.a===1){return`hsl(${t.hsla.h}, ${(t.hsla.s*100).toFixed(2)}%, ${(t.hsla.l*100).toFixed(2)}%)`}return e.Format.CSS.formatHSLA(t)}t.formatHSL=s;function o(e){return`hsla(${e.hsla.h}, ${(e.hsla.s*100).toFixed(2)}%, ${(e.hsla.l*100).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`}t.formatHSLA=o;function a(e){const t=e.toString(16);return t.length!==2?"0"+t:t}function l(e){return`#${a(e.rgba.r)}${a(e.rgba.g)}${a(e.rgba.b)}`}t.formatHex=l;function c(t,n=false){if(n&&t.rgba.a===1){return e.Format.CSS.formatHex(t)}return`#${a(t.rgba.r)}${a(t.rgba.g)}${a(t.rgba.b)}${a(Math.round(t.rgba.a*255))}`}t.formatHexA=c;function u(t){if(t.isOpaque()){return e.Format.CSS.formatHex(t)}return e.Format.CSS.formatRGBA(t)}t.format=u;function h(t){const n=t.length;if(n===0){return null}if(t.charCodeAt(0)!==35){return null}if(n===7){const n=16*d(t.charCodeAt(1))+d(t.charCodeAt(2));const r=16*d(t.charCodeAt(3))+d(t.charCodeAt(4));const s=16*d(t.charCodeAt(5))+d(t.charCodeAt(6));return new e(new i(n,r,s,1))}if(n===9){const n=16*d(t.charCodeAt(1))+d(t.charCodeAt(2));const r=16*d(t.charCodeAt(3))+d(t.charCodeAt(4));const s=16*d(t.charCodeAt(5))+d(t.charCodeAt(6));const o=16*d(t.charCodeAt(7))+d(t.charCodeAt(8));return new e(new i(n,r,s,o/255))}if(n===4){const n=d(t.charCodeAt(1));const r=d(t.charCodeAt(2));const s=d(t.charCodeAt(3));return new e(new i(16*n+n,16*r+r,16*s+s))}if(n===5){const n=d(t.charCodeAt(1));const r=d(t.charCodeAt(2));const s=d(t.charCodeAt(3));const o=d(t.charCodeAt(4));return new e(new i(16*n+n,16*r+r,16*s+s,(16*o+o)/255))}return null}t.parseHex=h;function d(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(n=t.CSS||(t.CSS={}))})(t=e.Format||(e.Format={}))})(a||(a={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{findSectionHeaders:()=>s});const r=new RegExp("\\bMARK:\\s*(.*)$","d");const i=/^-+|-+$/g;function s(e,t){let n=[];if(t.findRegionSectionHeaders&&t.foldingRules?.markers){const r=o(e,t);n=n.concat(r)}if(t.findMarkSectionHeaders){const t=a(e);n=n.concat(t)}return n}function o(e,t){const n=[];const r=e.getLineCount();for(let i=1;i<=r;i++){const r=e.getLineContent(i);const s=r.match(t.foldingRules.markers.start);if(s){const e={startLineNumber:i,startColumn:s[0].length+1,endLineNumber:i,endColumn:r.length+1};if(e.endColumn>e.startColumn){const t={range:e,...c(r.substring(s[0].length)),shouldBeInComments:false};if(t.text||t.hasSeparatorLine){n.push(t)}}}}return n}function a(e){const t=[];const n=e.getLineCount();for(let r=1;r<=n;r++){const n=e.getLineContent(r);l(n,r,t)}return t}function l(e,t,n){r.lastIndex=0;const i=r.exec(e);if(i){const e=i.indices[1][0]+1;const r=i.indices[1][1]+1;const s={startLineNumber:t,startColumn:e,endLineNumber:t,endColumn:r};if(s.endColumn>s.startColumn){const e={range:s,...c(i[1]),shouldBeInComments:true};if(e.text||e.hasSeparatorLine){n.push(e)}}}}function c(e){e=e.trim();const t=e.startsWith("-");e=e.replace(i,"");return{text:e,hasSeparatorLine:t}}},(e,t,n)=>{var r={"./editorBaseApi":[31],"./editorBaseApi.js":[31],"./editorSimpleWorker":[21],"./editorSimpleWorker.js":[21],"./editorWorker":[81,0],"./editorWorker.js":[81,0],"./editorWorkerHost":[42],"./editorWorkerHost.js":[42],"./findSectionHeaders":[73],"./findSectionHeaders.js":[73],"./getIconClasses":[83,0],"./getIconClasses.js":[83,0],"./languageFeatureDebounce":[94,0],"./languageFeatureDebounce.js":[94,0],"./languageFeatures":[102,0],"./languageFeatures.js":[102,0],"./languageFeaturesService":[103,0],"./languageFeaturesService.js":[103,0],"./languageService":[107,0],"./languageService.js":[107,0],"./languagesAssociations":[109,0],"./languagesAssociations.js":[109,0],"./languagesRegistry":[108,0],"./languagesRegistry.js":[108,0],"./markerDecorations":[121,0],"./markerDecorations.js":[121,0],"./markerDecorationsService":[122,0],"./markerDecorationsService.js":[122,0],"./model":[140,0],"./model.js":[140,0],"./modelService":[142,0],"./modelService.js":[142,0],"./resolverService":[203,0],"./resolverService.js":[203,0],"./semanticTokensDto":[204,0],"./semanticTokensDto.js":[204,0],"./semanticTokensProviderStyling":[205,0],"./semanticTokensProviderStyling.js":[205,0],"./semanticTokensStyling":[207,0],"./semanticTokensStyling.js":[207,0],"./semanticTokensStylingService":[208,0],"./semanticTokensStylingService.js":[208,0],"./textModelSync/textModelSync.impl":[75],"./textModelSync/textModelSync.impl.js":[75],"./textModelSync/textModelSync.protocol":[209,0],"./textModelSync/textModelSync.protocol.js":[209,0],"./textResourceConfiguration":[202,0],"./textResourceConfiguration.js":[202,0],"./treeSitterParserService":[196,0],"./treeSitterParserService.js":[196,0],"./treeViewsDnd":[210,0],"./treeViewsDnd.js":[210,0],"./treeViewsDndService":[211,0],"./treeViewsDndService.js":[211,0],"./unicodeTextModelHighlighter":[43],"./unicodeTextModelHighlighter.js":[43]};function i(e){if(!n.o(r,e)){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t})}var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n(i))}i.keys=()=>Object.keys(r);i.id=74;e.exports=i},(e,t,n)=>{"use strict";n.r(t);n.d(t,{MirrorModel:()=>g,STOP_SYNC_MODEL_DELTA_TIME_MS:()=>u,WorkerTextModelSyncClient:()=>h,WorkerTextModelSyncServer:()=>d});var r=n(76);var i=n(5);var s=n(17);var o=n(26);var a=n(25);var l=n(50);var c=n(78);const u=60*1e3;class h extends i.Disposable{constructor(e,t,n=false){super();this._syncedModels=Object.create(null);this._syncedModelsLastUsedTime=Object.create(null);this._proxy=e;this._modelService=t;if(!n){const e=new r.IntervalTimer;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(u/2));this._register(e)}}dispose(){for(const e in this._syncedModels){(0,i.dispose)(this._syncedModels[e])}this._syncedModels=Object.create(null);this._syncedModelsLastUsedTime=Object.create(null);super.dispose()}ensureSyncedResources(e,t=false){for(const n of e){const e=n.toString();if(!this._syncedModels[e]){this._beginModelSync(n,t)}if(this._syncedModels[e]){this._syncedModelsLastUsedTime[e]=(new Date).getTime()}}}_checkStopModelSync(){const e=(new Date).getTime();const t=[];for(const n in this._syncedModelsLastUsedTime){const r=e-this._syncedModelsLastUsedTime[n];if(r>u){t.push(n)}}for(const e of t){this._stopModelSync(e)}}_beginModelSync(e,t){const n=this._modelService.getModel(e);if(!n){return}if(!t&&n.isTooLargeForSyncing()){return}const r=e.toString();this._proxy.$acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});const s=new i.DisposableStore;s.add(n.onDidChangeContent(e=>{this._proxy.$acceptModelChanged(r.toString(),e)}));s.add(n.onWillDispose(()=>{this._stopModelSync(r)}));s.add((0,i.toDisposable)(()=>{this._proxy.$acceptRemovedModel(r)}));this._syncedModels[r]=s}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e];delete this._syncedModelsLastUsedTime[e];(0,i.dispose)(t)}}class d{constructor(){this._models=Object.create(null)}getModel(e){return this._models[e]}getModels(){const e=[];Object.keys(this._models).forEach(t=>e.push(this._models[t]));return e}$acceptNewModel(e){this._models[e.url]=new g(s.URI.parse(e.url),e.lines,e.EOL,e.versionId)}$acceptModelChanged(e,t){if(!this._models[e]){return}const n=this._models[e];n.onEvents(t)}$acceptRemovedModel(e){if(!this._models[e]){return}delete this._models[e]}}class g extends c.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(e){const t=[];for(let n=0;n<this._lines.length;n++){const r=this._lines[n];const i=this.offsetAt(new o.Position(n+1,1));const s=r.matchAll(e);for(const e of s){if(e.index||e.index===0){e.index=e.index+i}t.push(e)}}return t}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){const n=(0,l.getWordAtText)(e.column,(0,l.ensureValidWordDefinition)(t),this._lines[e.lineNumber-1],0);if(n){return new a.Range(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn)}return null}words(e){const t=this._lines;const n=this._wordenize.bind(this);let r=0;let i="";let s=0;let o=[];return{*[Symbol.iterator](){while(true){if(s<o.length){const e=i.substring(o[s].start,o[s].end);s+=1;yield e}else{if(r<t.length){i=t[r];o=n(i,e);s=0;r+=1}else{break}}}}}}getLineWords(e,t){const n=this._lines[e-1];const r=this._wordenize(n,t);const i=[];for(const e of r){i.push({word:n.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1})}return i}_wordenize(e,t){const n=[];let r;t.lastIndex=0;while(r=t.exec(e)){if(r[0].length===0){break}n.push({start:r.index,end:r.index+r[0].length})}return n}getValueInRange(e){e=this._validateRange(e);if(e.startLineNumber===e.endLineNumber){return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1)}const t=this._eol;const n=e.startLineNumber-1;const r=e.endLineNumber-1;const i=[];i.push(this._lines[n].substring(e.startColumn-1));for(let e=n+1;e<r;e++){i.push(this._lines[e])}i.push(this._lines[r].substring(0,e.endColumn-1));return i.join(t)}offsetAt(e){e=this._validatePosition(e);this._ensureLineStarts();return this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e);e=Math.max(0,e);this._ensureLineStarts();const t=this._lineStarts.getIndexOf(e);const n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn});const n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});if(t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn){return{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}}return e}_validatePosition(e){if(!o.Position.isIPosition(e)){throw new Error("bad position")}let{lineNumber:t,column:n}=e;let r=false;if(t<1){t=1;n=1;r=true}else if(t>this._lines.length){t=this._lines.length;n=this._lines[t-1].length+1;r=true}else{const e=this._lines[t-1].length+1;if(n<1){n=1;r=true}else if(n>e){n=e;r=true}}if(!r){return e}else{return{lineNumber:t,column:n}}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AbstractIdleValue:()=>y,AsyncIterableObject:()=>T,CancelableAsyncIterableObject:()=>N,DeferredPromise:()=>I,Delayer:()=>m,GlobalIdleValue:()=>E,IntervalTimer:()=>k,Promises:()=>x,RunOnceScheduler:()=>L,ThrottledDelayer:()=>p,Throttler:()=>d,TimeoutTimer:()=>v,_runWhenIdle:()=>w,createCancelableAsyncIterable:()=>B,createCancelablePromise:()=>u,disposableTimeout:()=>b,first:()=>C,isThenable:()=>c,raceCancellation:()=>h,runWhenGlobalIdle:()=>S,timeout:()=>_});var r=n(32);var i=n(2);var s=n(3);var o=n(5);var a=n(10);var l=n(77);function c(e){return!!e&&typeof e.then==="function"}function u(e){const t=new r.CancellationTokenSource;const n=e(t.token);const s=new Promise((e,r)=>{const s=t.token.onCancellationRequested(()=>{s.dispose();r(new i.CancellationError)});Promise.resolve(n).then(n=>{s.dispose();t.dispose();e(n)},e=>{s.dispose();t.dispose();r(e)})});return new class{cancel(){t.cancel();t.dispose()}then(e,t){return s.then(e,t)}catch(e){return this.then(undefined,e)}finally(e){return s.finally(e)}}}function h(e,t,n){return new Promise((r,i)=>{const s=t.onCancellationRequested(()=>{s.dispose();r(n)});e.then(r,i).finally(()=>s.dispose())})}class d{constructor(){this.isDisposed=false;this.activePromise=null;this.queuedPromise=null;this.queuedPromiseFactory=null}queue(e){if(this.isDisposed){return Promise.reject(new Error("Throttler is disposed"))}if(this.activePromise){this.queuedPromiseFactory=e;if(!this.queuedPromise){const e=()=>{this.queuedPromise=null;if(this.isDisposed){return}const e=this.queue(this.queuedPromiseFactory);this.queuedPromiseFactory=null;return e};this.queuedPromise=new Promise(t=>{this.activePromise.then(e,e).then(t)})}return new Promise((e,t)=>{this.queuedPromise.then(e,t)})}this.activePromise=e();return new Promise((e,t)=>{this.activePromise.then(t=>{this.activePromise=null;e(t)},e=>{this.activePromise=null;t(e)})})}dispose(){this.isDisposed=true}}const g=(e,t)=>{let n=true;const r=setTimeout(()=>{n=false;t()},e);return{isTriggered:()=>n,dispose:()=>{clearTimeout(r);n=false}}};const f=e=>{let t=true;queueMicrotask(()=>{if(t){t=false;e()}});return{isTriggered:()=>t,dispose:()=>{t=false}}};class m{constructor(e){this.defaultDelay=e;this.deferred=null;this.completionPromise=null;this.doResolve=null;this.doReject=null;this.task=null}trigger(e,t=this.defaultDelay){this.task=e;this.cancelTimeout();if(!this.completionPromise){this.completionPromise=new Promise((e,t)=>{this.doResolve=e;this.doReject=t}).then(()=>{this.completionPromise=null;this.doResolve=null;if(this.task){const e=this.task;this.task=null;return e()}return undefined})}const n=()=>{this.deferred=null;this.doResolve?.(null)};this.deferred=t===l.MicrotaskDelay?f(n):g(t,n);return this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout();if(this.completionPromise){this.doReject?.(new i.CancellationError);this.completionPromise=null}}cancelTimeout(){this.deferred?.dispose();this.deferred=null}dispose(){this.cancel()}}class p{constructor(e){this.delayer=new m(e);this.throttler=new d}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose();this.throttler.dispose()}}function _(e,t){if(!t){return u(t=>_(e,t))}return new Promise((n,r)=>{const s=setTimeout(()=>{o.dispose();n()},e);const o=t.onCancellationRequested(()=>{clearTimeout(s);o.dispose();r(new i.CancellationError)})})}function b(e,t=0,n){const r=setTimeout(()=>{e();if(n){i.dispose()}},t);const i=(0,o.toDisposable)(()=>{clearTimeout(r);n?.deleteAndLeak(i)});n?.add(i);return i}function C(e,t=e=>!!e,n=null){let r=0;const i=e.length;const s=()=>{if(r>=i){return Promise.resolve(n)}const o=e[r++];const a=Promise.resolve(o());return a.then(e=>{if(t(e)){return Promise.resolve(e)}return s()})};return s()}class v{constructor(e,t){this._isDisposed=false;this._token=-1;if(typeof e==="function"&&typeof t==="number"){this.setIfNotSet(e,t)}}dispose(){this.cancel();this._isDisposed=true}cancel(){if(this._token!==-1){clearTimeout(this._token);this._token=-1}}cancelAndSet(e,t){if(this._isDisposed){throw new i.BugIndicatingError(`Calling 'cancelAndSet' on a disposed TimeoutTimer`)}this.cancel();this._token=setTimeout(()=>{this._token=-1;e()},t)}setIfNotSet(e,t){if(this._isDisposed){throw new i.BugIndicatingError(`Calling 'setIfNotSet' on a disposed TimeoutTimer`)}if(this._token!==-1){return}this._token=setTimeout(()=>{this._token=-1;e()},t)}}class k{constructor(){this.disposable=undefined;this.isDisposed=false}cancel(){this.disposable?.dispose();this.disposable=undefined}cancelAndSet(e,t,n=globalThis){if(this.isDisposed){throw new i.BugIndicatingError(`Calling 'cancelAndSet' on a disposed IntervalTimer`)}this.cancel();const r=n.setInterval(()=>{e()},t);this.disposable=(0,o.toDisposable)(()=>{n.clearInterval(r);this.disposable=undefined})}dispose(){this.cancel();this.isDisposed=true}}class L{constructor(e,t){this.timeoutToken=-1;this.runner=e;this.timeout=t;this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel();this.runner=null}cancel(){if(this.isScheduled()){clearTimeout(this.timeoutToken);this.timeoutToken=-1}}schedule(e=this.timeout){this.cancel();this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1;if(this.runner){this.doRun()}}doRun(){this.runner?.()}}let S;let w;(function(){if(typeof globalThis.requestIdleCallback!=="function"||typeof globalThis.cancelIdleCallback!=="function"){w=(e,t)=>{(0,a.setTimeout0)(()=>{if(n){return}const e=Date.now()+15;const r={didTimeout:true,timeRemaining(){return Math.max(0,e-Date.now())}};t(Object.freeze(r))});let n=false;return{dispose(){if(n){return}n=true}}}}else{w=(e,t,n)=>{const r=e.requestIdleCallback(t,typeof n==="number"?{timeout:n}:undefined);let i=false;return{dispose(){if(i){return}i=true;e.cancelIdleCallback(r)}}}}S=e=>w(globalThis,e)})();class y{constructor(e,t){this._didRun=false;this._executor=()=>{try{this._value=t()}catch(e){this._error=e}finally{this._didRun=true}};this._handle=w(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(!this._didRun){this._handle.dispose();this._executor()}if(this._error){throw this._error}return this._value}get isInitialized(){return this._didRun}}class E extends y{constructor(e){super(globalThis,e)}}class I{get isRejected(){return this.outcome?.outcome===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e;this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e);this.outcome={outcome:0,value:e};t()})}error(e){return new Promise(t=>{this.errorCallback(e);this.outcome={outcome:1,value:e};t()})}cancel(){return this.error(new i.CancellationError)}}var x;(function(e){async function t(e){let t=undefined;const n=await Promise.all(e.map(e=>e.then(e=>e,e=>{if(!t){t=e}return undefined})));if(typeof t!=="undefined"){throw t}return n}e.settled=t;function n(e){return new Promise(async(t,n)=>{try{await e(t,n)}catch(e){n(e)}})}e.withAsyncBody=n})(x||(x={}));class T{static fromArray(e){return new T(t=>{t.emitMany(e)})}static fromPromise(e){return new T(async t=>{t.emitMany(await e)})}static fromPromises(e){return new T(async t=>{await Promise.all(e.map(async e=>t.emitOne(await e)))})}static merge(e){return new T(async t=>{await Promise.all(e.map(async e=>{for await(const n of e){t.emitOne(n)}}))})}static{this.EMPTY=T.fromArray([])}constructor(e,t){this._state=0;this._results=[];this._error=null;this._onReturn=t;this._onStateChanged=new s.Emitter;queueMicrotask(async()=>{const t={emitOne:e=>this.emitOne(e),emitMany:e=>this.emitMany(e),reject:e=>this.reject(e)};try{await Promise.resolve(e(t));this.resolve()}catch(e){this.reject(e)}finally{t.emitOne=undefined;t.emitMany=undefined;t.reject=undefined}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2){throw this._error}if(e<this._results.length){return{done:false,value:this._results[e++]}}if(this._state===1){return{done:true,value:undefined}}await s.Event.toPromise(this._onStateChanged.event)}while(true)},return:async()=>{this._onReturn?.();return{done:true,value:undefined}}}}static map(e,t){return new T(async n=>{for await(const r of e){n.emitOne(t(r))}})}map(e){return T.map(this,e)}static filter(e,t){return new T(async n=>{for await(const r of e){if(t(r)){n.emitOne(r)}}})}filter(e){return T.filter(this,e)}static coalesce(e){return T.filter(e,e=>!!e)}coalesce(){return T.coalesce(this)}static async toPromise(e){const t=[];for await(const n of e){t.push(n)}return t}toPromise(){return T.toPromise(this)}emitOne(e){if(this._state!==0){return}this._results.push(e);this._onStateChanged.fire()}emitMany(e){if(this._state!==0){return}this._results=this._results.concat(e);this._onStateChanged.fire()}resolve(){if(this._state!==0){return}this._state=1;this._onStateChanged.fire()}reject(e){if(this._state!==0){return}this._state=2;this._error=e;this._onStateChanged.fire()}}class N extends T{constructor(e,t){super(t);this._source=e}cancel(){this._source.cancel()}}function B(e){const t=new r.CancellationTokenSource;const n=e(t.token);return new N(t,async e=>{const r=t.token.onCancellationRequested(()=>{r.dispose();t.dispose();e.reject(new i.CancellationError)});try{for await(const r of n){if(t.token.isCancellationRequested){return}e.emitOne(r)}r.dispose();t.dispose()}catch(n){r.dispose();t.dispose();e.reject(n)}})}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{MicrotaskDelay:()=>r});const r=Symbol("MicrotaskDelay")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{MirrorTextModel:()=>o});var r=n(14);var i=n(26);var s=n(79);class o{constructor(e,t,n,r){this._uri=e;this._lines=t;this._eol=n;this._versionId=r;this._lineStarts=null;this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){if(this._cachedTextValue===null){this._cachedTextValue=this._lines.join(this._eol)}return this._cachedTextValue}onEvents(e){if(e.eol&&e.eol!==this._eol){this._eol=e.eol;this._lineStarts=null}const t=e.changes;for(const e of t){this._acceptDeleteRange(e.range);this._acceptInsertText(new i.Position(e.range.startLineNumber,e.range.startColumn),e.text)}this._versionId=e.versionId;this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length;const t=this._lines.length;const n=new Uint32Array(t);for(let r=0;r<t;r++){n[r]=this._lines[r].length+e}this._lineStarts=new s.PrefixSumComputer(n)}}_setLineText(e,t){this._lines[e]=t;if(this._lineStarts){this._lineStarts.setValue(e,this._lines[e].length+this._eol.length)}}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn){return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1));this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber);if(this._lineStarts){this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}}_acceptInsertText(e,t){if(t.length===0){return}const n=(0,r.splitLines)(t);if(n.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1);this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);const i=new Uint32Array(n.length-1);for(let t=1;t<n.length;t++){this._lines.splice(e.lineNumber+t-1,0,n[t]);i[t-1]=n[t].length+this._eol.length}if(this._lineStarts){this._lineStarts.insertValues(e.lineNumber,i)}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ConstantTimePrefixSumComputer:()=>o,PrefixSumComputer:()=>s,PrefixSumIndexOfResult:()=>a});var r=n(62);var i=n(29);class s{constructor(e){this.values=e;this.prefixSum=new Uint32Array(e.length);this.prefixSumValidIndex=new Int32Array(1);this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=(0,i.toUint32)(e);const n=this.values;const r=this.prefixSum;const s=t.length;if(s===0){return false}this.values=new Uint32Array(n.length+s);this.values.set(n.subarray(0,e),0);this.values.set(n.subarray(e),e+s);this.values.set(t,e);if(e-1<this.prefixSumValidIndex[0]){this.prefixSumValidIndex[0]=e-1}this.prefixSum=new Uint32Array(this.values.length);if(this.prefixSumValidIndex[0]>=0){this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1))}return true}setValue(e,t){e=(0,i.toUint32)(e);t=(0,i.toUint32)(t);if(this.values[e]===t){return false}this.values[e]=t;if(e-1<this.prefixSumValidIndex[0]){this.prefixSumValidIndex[0]=e-1}return true}removeValues(e,t){e=(0,i.toUint32)(e);t=(0,i.toUint32)(t);const n=this.values;const r=this.prefixSum;if(e>=n.length){return false}const s=n.length-e;if(t>=s){t=s}if(t===0){return false}this.values=new Uint32Array(n.length-t);this.values.set(n.subarray(0,e),0);this.values.set(n.subarray(e+t),e);this.prefixSum=new Uint32Array(this.values.length);if(e-1<this.prefixSumValidIndex[0]){this.prefixSumValidIndex[0]=e-1}if(this.prefixSumValidIndex[0]>=0){this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1))}return true}getTotalSum(){if(this.values.length===0){return 0}return this._getPrefixSum(this.values.length-1)}getPrefixSum(e){if(e<0){return 0}e=(0,i.toUint32)(e);return this._getPrefixSum(e)}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0]){return this.prefixSum[e]}let t=this.prefixSumValidIndex[0]+1;if(t===0){this.prefixSum[0]=this.values[0];t++}if(e>=this.values.length){e=this.values.length-1}for(let n=t;n<=e;n++){this.prefixSum[n]=this.prefixSum[n-1]+this.values[n]}this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e);return this.prefixSum[e]}getIndexOf(e){e=Math.floor(e);this.getTotalSum();let t=0;let n=this.values.length-1;let r=0;let i=0;let s=0;while(t<=n){r=t+(n-t)/2|0;i=this.prefixSum[r];s=i-this.values[r];if(e<s){n=r-1}else if(e>=i){t=r+1}else{break}}return new a(r,e-s)}}class o{constructor(e){this._values=e;this._isValid=false;this._validEndIndex=-1;this._prefixSum=[];this._indexBySum=[]}getTotalSum(){this._ensureValid();return this._indexBySum.length}getPrefixSum(e){this._ensureValid();if(e===0){return 0}return this._prefixSum[e-1]}getIndexOf(e){this._ensureValid();const t=this._indexBySum[e];const n=t>0?this._prefixSum[t-1]:0;return new a(t,e-n)}removeValues(e,t){this._values.splice(e,t);this._invalidate(e)}insertValues(e,t){this._values=(0,r.arrayInsert)(this._values,e,t);this._invalidate(e)}_invalidate(e){this._isValid=false;this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(this._isValid){return}for(let e=this._validEndIndex+1,t=this._values.length;e<t;e++){const t=this._values[e];const n=e>0?this._prefixSum[e-1]:0;this._prefixSum[e]=n+t;for(let r=0;r<t;r++){this._indexBySum[n+r]=e}}this._prefixSum.length=this._values.length;this._indexBySum.length=this._prefixSum[this._prefixSum.length-1];this._isValid=true;this._validEndIndex=this._values.length-1}setValue(e,t){if(this._values[e]===t){return}this._values[e]=t;this._invalidate(e)}}class a{constructor(e,t){this.index=e;this.remainder=t;this._prefixSumIndexOfResultBrand=undefined;this.index=e;this.remainder=t}}},(e,t,n)=>{var r={"./editorBaseApi":31,"./editorBaseApi.js":31,"./editorSimpleWorker":21,"./editorSimpleWorker.js":21,"./editorWorker":81,"./editorWorker.js":81,"./editorWorkerHost":42,"./editorWorkerHost.js":42,"./findSectionHeaders":73,"./findSectionHeaders.js":73,"./getIconClasses":83,"./getIconClasses.js":83,"./languageFeatureDebounce":94,"./languageFeatureDebounce.js":94,"./languageFeatures":102,"./languageFeatures.js":102,"./languageFeaturesService":103,"./languageFeaturesService.js":103,"./languageService":107,"./languageService.js":107,"./languagesAssociations":109,"./languagesAssociations.js":109,"./languagesRegistry":108,"./languagesRegistry.js":108,"./markerDecorations":121,"./markerDecorations.js":121,"./markerDecorationsService":122,"./markerDecorationsService.js":122,"./model":140,"./model.js":140,"./modelService":142,"./modelService.js":142,"./resolverService":203,"./resolverService.js":203,"./semanticTokensDto":204,"./semanticTokensDto.js":204,"./semanticTokensProviderStyling":205,"./semanticTokensProviderStyling.js":205,"./semanticTokensStyling":207,"./semanticTokensStyling.js":207,"./semanticTokensStylingService":208,"./semanticTokensStylingService.js":208,"./textModelSync/textModelSync.impl":75,"./textModelSync/textModelSync.impl.js":75,"./textModelSync/textModelSync.protocol":209,"./textModelSync/textModelSync.protocol.js":209,"./textResourceConfiguration":202,"./textResourceConfiguration.js":202,"./treeSitterParserService":196,"./treeSitterParserService.js":196,"./treeViewsDnd":210,"./treeViewsDnd.js":210,"./treeViewsDndService":211,"./treeViewsDndService.js":211,"./unicodeTextModelHighlighter":43,"./unicodeTextModelHighlighter.js":43};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return r[e]}i.keys=function e(){return Object.keys(r)};i.resolve=s;e.exports=i;i.id=80},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IEditorWorkerService:()=>i});var r=n(82);const i=(0,r.createDecorator)("editorWorkerService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IInstantiationService:()=>i,_util:()=>r,createDecorator:()=>o});var r;(function(e){e.serviceIds=new Map;e.DI_TARGET="$di$target";e.DI_DEPENDENCIES="$di$dependencies";function t(t){return t[e.DI_DEPENDENCIES]||[]}e.getServiceDependencies=t})(r||(r={}));const i=o("instantiationService");function s(e,t,n){if(t[r.DI_TARGET]===t){t[r.DI_DEPENDENCIES].push({id:e,index:n})}else{t[r.DI_DEPENDENCIES]=[{id:e,index:n}];t[r.DI_TARGET]=t}}function o(e){if(r.serviceIds.has(e)){return r.serviceIds.get(e)}const t=function(e,n,r){if(arguments.length!==3){throw new Error("@IServiceName-decorator can only be used to decorate a parameter")}s(t,e,r)};t.toString=()=>e;r.serviceIds.set(e,t);return t}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{getIconClasses:()=>u});var r=n(9);var i=n(84);var s=n(17);var o=n(86);var a=n(92);var l=n(93);const c=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function u(e,t,n,o,u){if(l.ThemeIcon.isThemeIcon(u)){return[`codicon-${u.id}`,"predefined-file-icon"]}if(s.URI.isUri(u)){return[]}const g=o===a.FileKind.ROOT_FOLDER?["rootfolder-icon"]:o===a.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){let s;if(n.scheme===r.Schemas.data){const e=i.DataUri.parseMetaData(n);s=e.get(i.DataUri.META_DATA_LABEL)}else{const e=n.path.match(c);if(e){s=d(e[2].toLowerCase());if(e[1]){g.push(`${d(e[1].toLowerCase())}-name-dir-icon`)}}else{s=d(n.authority.toLowerCase())}}if(o===a.FileKind.ROOT_FOLDER){g.push(`${s}-root-name-folder-icon`)}else if(o===a.FileKind.FOLDER){g.push(`${s}-name-folder-icon`)}else{if(s){g.push(`${s}-name-file-icon`);g.push(`name-file-icon`);if(s.length<=255){const e=s.split(".");for(let t=1;t<e.length;t++){g.push(`${e.slice(t).join(".")}-ext-file-icon`)}}g.push(`ext-file-icon`)}const r=h(e,t,n);if(r){g.push(`${d(r)}-lang-file-icon`)}}}return g}function h(e,t,n){if(!n){return null}let s=null;if(n.scheme===r.Schemas.data){const e=i.DataUri.parseMetaData(n);const r=e.get(i.DataUri.META_DATA_MIME);if(r){s=t.getLanguageIdByMimeType(r)}}else{const t=e.getModel(n);if(t){s=t.getLanguageId()}}if(s&&s!==o.PLAINTEXT_LANGUAGE_ID){return s}return t.guessLanguageIdByFilepathOrFirstLine(n)}function d(e){return e.replace(/[\s]/g,"/")}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DataUri:()=>N,ExtUri:()=>u,addTrailingPathSeparator:()=>T,basename:()=>b,basenameOrAuthority:()=>_,dirname:()=>v,extUri:()=>h,extUriBiasedIgnorePathCase:()=>d,extUriIgnorePathCase:()=>g,extname:()=>C,getComparisonKey:()=>p,hasTrailingPathSeparator:()=>I,isAbsolutePath:()=>y,isEqual:()=>f,isEqualAuthority:()=>E,isEqualOrParent:()=>m,joinPath:()=>k,normalizePath:()=>L,originalFSPath:()=>c,relativePath:()=>S,removeTrailingPathSeparator:()=>x,resolvePath:()=>w});var r=n(85);var i=n(9);var s=n(18);var o=n(10);var a=n(14);var l=n(17);function c(e){return(0,l.uriToFsPath)(e,true)}class u{constructor(e){this._ignorePathCasing=e}compare(e,t,n=false){if(e===t){return 0}return(0,a.compare)(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=false){if(e===t){return true}if(!e||!t){return false}return this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=false){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():undefined,fragment:t?null:undefined}).toString()}isEqualOrParent(e,t,n=false){if(e.scheme===t.scheme){if(e.scheme===i.Schemas.file){return r.isEqualOrParent(c(e),c(t),this._ignorePathCasing(e))&&e.query===t.query&&(n||e.fragment===t.fragment)}if(E(e.authority,t.authority)){return r.isEqualOrParent(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(n||e.fragment===t.fragment)}}return false}joinPath(e,...t){return l.URI.joinPath(e,...t)}basenameOrAuthority(e){return b(e)||e.authority}basename(e){return s.posix.basename(e.path)}extname(e){return s.posix.extname(e.path)}dirname(e){if(e.path.length===0){return e}let t;if(e.scheme===i.Schemas.file){t=l.URI.file(s.dirname(c(e))).path}else{t=s.posix.dirname(e.path);if(e.authority&&t.length&&t.charCodeAt(0)!==47){console.error(`dirname("${e.toString})) resulted in a relative path`);t="/"}}return e.with({path:t})}normalizePath(e){if(!e.path.length){return e}let t;if(e.scheme===i.Schemas.file){t=l.URI.file(s.normalize(c(e))).path}else{t=s.posix.normalize(e.path)}return e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!E(e.authority,t.authority)){return undefined}if(e.scheme===i.Schemas.file){const n=s.relative(c(e),c(t));return o.isWindows?r.toSlashes(n):n}let n=e.path||"/";const a=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(n.length,a.length);e<t;e++){if(n.charCodeAt(e)!==a.charCodeAt(e)){if(n.charAt(e).toLowerCase()!==a.charAt(e).toLowerCase()){break}}}n=a.substr(0,e)+n.substr(e)}return s.posix.relative(n,a)}resolvePath(e,t){if(e.scheme===i.Schemas.file){const n=l.URI.file(s.resolve(c(e),t));return e.with({authority:n.authority,path:n.path})}t=r.toPosixPath(t);return e.with({path:s.posix.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==undefined&&t!==undefined&&(0,a.equalsIgnoreCase)(e,t)}hasTrailingPathSeparator(e,t=s.sep){if(e.scheme===i.Schemas.file){const n=c(e);return n.length>r.getRoot(n).length&&n[n.length-1]===t}else{const t=e.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=s.sep){if(I(e,t)){return e.with({path:e.path.substr(0,e.path.length-1)})}return e}addTrailingPathSeparator(e,t=s.sep){let n=false;if(e.scheme===i.Schemas.file){const i=c(e);n=i!==undefined&&i.length===r.getRoot(i).length&&i[i.length-1]===t}else{t="/";const r=e.path;n=r.length===1&&r.charCodeAt(r.length-1)===47}if(!n&&!I(e,t)){return e.with({path:e.path+"/"})}return e}}const h=new u(()=>false);const d=new u(e=>e.scheme===i.Schemas.file?!o.isLinux:true);const g=new u(e=>true);const f=h.isEqual.bind(h);const m=h.isEqualOrParent.bind(h);const p=h.getComparisonKey.bind(h);const _=h.basenameOrAuthority.bind(h);const b=h.basename.bind(h);const C=h.extname.bind(h);const v=h.dirname.bind(h);const k=h.joinPath.bind(h);const L=h.normalizePath.bind(h);const S=h.relativePath.bind(h);const w=h.resolvePath.bind(h);const y=h.isAbsolutePath.bind(h);const E=h.isEqualAuthority.bind(h);const I=h.hasTrailingPathSeparator.bind(h);const x=h.removeTrailingPathSeparator.bind(h);const T=h.addTrailingPathSeparator.bind(h);var N;(function(e){e.META_DATA_LABEL="label";e.META_DATA_DESCRIPTION="description";e.META_DATA_SIZE="size";e.META_DATA_MIME="mime";function t(t){const n=new Map;const r=t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";"));r.split(";").forEach(e=>{const[t,r]=e.split(":");if(t&&r){n.set(t,r)}});const i=t.path.substring(0,t.path.indexOf(";"));if(i){n.set(e.META_DATA_MIME,i)}return n}e.parseMetaData=t})(N||(N={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{getRoot:()=>c,hasDriveLetter:()=>d,isEqualOrParent:()=>u,isPathSeparator:()=>o,isWindowsDriveLetter:()=>h,toPosixPath:()=>l,toSlashes:()=>a});var r=n(18);var i=n(10);var s=n(14);function o(e){return e===47||e===92}function a(e){return e.replace(/[\\/]/g,r.posix.sep)}function l(e){if(e.indexOf("/")===-1){e=a(e)}if(/^[a-zA-Z]:(\/|$)/.test(e)){e="/"+e}return e}function c(e,t=r.posix.sep){if(!e){return""}const n=e.length;const i=e.charCodeAt(0);if(o(i)){if(o(e.charCodeAt(1))){if(!o(e.charCodeAt(2))){let r=3;const i=r;for(;r<n;r++){if(o(e.charCodeAt(r))){break}}if(i!==r&&!o(e.charCodeAt(r+1))){r+=1;for(;r<n;r++){if(o(e.charCodeAt(r))){return e.slice(0,r+1).replace(/[\\/]/g,t)}}}}}return t}else if(h(i)){if(e.charCodeAt(1)===58){if(o(e.charCodeAt(2))){return e.slice(0,2)+t}else{return e.slice(0,2)}}}let s=e.indexOf("://");if(s!==-1){s+=3;for(;s<n;s++){if(o(e.charCodeAt(s))){return e.slice(0,s+1)}}}return""}function u(e,t,n,i=r.sep){if(e===t){return true}if(!e||!t){return false}if(t.length>e.length){return false}if(n){const n=(0,s.startsWithIgnoreCase)(e,t);if(!n){return false}if(t.length===e.length){return true}let r=t.length;if(t.charAt(t.length-1)===i){r--}return e.charAt(r)===i}if(t.charAt(t.length-1)!==i){t+=i}return e.indexOf(t)===0}function h(e){return e>=65&&e<=90||e>=97&&e<=122}function d(e,t=i.isWindows){if(t){return h(e.charCodeAt(0))&&e.charCodeAt(1)===58}return false}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{EditorModesRegistry:()=>c,Extensions:()=>l,ModesRegistry:()=>u,PLAINTEXT_EXTENSION:()=>d,PLAINTEXT_LANGUAGE_ID:()=>h});var r=n(11);var i=n(3);var s=n(87);var o=n(88);var a=n(89);const l={ModesRegistry:"editor.modesRegistry"};class c{constructor(){this._onDidChangeLanguages=new i.Emitter;this.onDidChangeLanguages=this._onDidChangeLanguages.event;this._languages=[]}registerLanguage(e){this._languages.push(e);this._onDidChangeLanguages.fire(undefined);return{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++){if(this._languages[t]===e){this._languages.splice(t,1);return}}}}}getLanguages(){return this._languages}}const u=new c;s.Registry.add(l.ModesRegistry,u);const h="plaintext";const d=".txt";u.registerLanguage({id:h,extensions:[d],aliases:[r.localize("plainText.alias","Plain Text"),"text"],mimetypes:[o.Mimes.text]});s.Registry.as(a.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":false,"editor.unicodeHighlight.invisibleCharacters":false}}}])},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Registry:()=>o});var r=n(49);var i=n(38);class s{constructor(){this.data=new Map}add(e,t){r.ok(i.isString(e));r.ok(i.isObject(t));r.ok(!this.data.has(e),"There is already an extension with this id");this.data.set(e,t)}as(e){return this.data.get(e)||null}}const o=new s},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Mimes:()=>r});const r=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Extensions:()=>u,OVERRIDE_PROPERTY_PATTERN:()=>L,OVERRIDE_PROPERTY_REGEX:()=>S,allSettings:()=>h,applicationSettings:()=>d,getDefaultValue:()=>y,machineOverridableSettings:()=>f,machineSettings:()=>g,overrideIdentifiersFromKey:()=>w,resourceLanguageSettingsSchemaId:()=>_,resourceSettings:()=>p,validateProperty:()=>I,windowSettings:()=>m});var r=n(62);var i=n(3);var s=n(38);var o=n(11);var a=n(90);var l=n(91);var c=n(87);const u={Configuration:"base.contributions.configuration"};const h={properties:{},patternProperties:{}};const d={properties:{},patternProperties:{}};const g={properties:{},patternProperties:{}};const f={properties:{},patternProperties:{}};const m={properties:{},patternProperties:{}};const p={properties:{},patternProperties:{}};const _="vscode://schemas/settings/resourceLanguage";const b=c.Registry.as(l.Extensions.JSONContribution);class C{constructor(){this.registeredConfigurationDefaults=[];this.overrideIdentifiers=new Set;this._onDidSchemaChange=new i.Emitter;this._onDidUpdateConfiguration=new i.Emitter;this.configurationDefaultsOverrides=new Map;this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:o.localize("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}};this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode];this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:true,allowTrailingCommas:true,allowComments:true};this.configurationProperties={};this.policyConfigurations=new Map;this.excludedConfigurationProperties={};b.registerSchema(_,this.resourceLanguageSettingsSchema);this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=true){this.registerConfigurations([e],t)}registerConfigurations(e,t=true){const n=new Set;this.doRegisterConfigurations(e,t,n);b.registerSchema(_,this.resourceLanguageSettingsSchema);this._onDidSchemaChange.fire();this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t);this._onDidSchemaChange.fire();this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:true})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const n=[];for(const{overrides:r,source:i}of e){for(const e in r){t.add(e);const s=this.configurationDefaultsOverrides.get(e)??this.configurationDefaultsOverrides.set(e,{configurationDefaultOverrides:[]}).get(e);const o=r[e];s.configurationDefaultOverrides.push({value:o,source:i});if(S.test(e)){const t=this.mergeDefaultConfigurationsForOverrideIdentifier(e,o,i,s.configurationDefaultOverrideValue);if(!t){continue}s.configurationDefaultOverrideValue=t;this.updateDefaultOverrideProperty(e,t,i);n.push(...w(e))}else{const t=this.mergeDefaultConfigurationsForConfigurationProperty(e,o,i,s.configurationDefaultOverrideValue);if(!t){continue}s.configurationDefaultOverrideValue=t;const n=this.configurationProperties[e];if(n){this.updatePropertyDefaultValue(e,n);this.updateSchema(e,n)}}}}this.doRegisterOverrideIdentifiers(n)}updateDefaultOverrideProperty(e,t,n){const r={type:"object",default:t.value,description:o.localize("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,a.getLanguageTagSettingPlainKey)(e)),$ref:_,defaultDefaultValue:t.value,source:n,defaultValueSource:n};this.configurationProperties[e]=r;this.defaultLanguageConfigurationOverridesNode.properties[e]=r}mergeDefaultConfigurationsForOverrideIdentifier(e,t,n,r){const i=r?.value||{};const o=r?.source??new Map;if(!(o instanceof Map)){console.error("objectConfigurationSources is not a Map");return undefined}for(const e of Object.keys(t)){const r=t[e];const a=s.isObject(r)&&(s.isUndefined(i[e])||s.isObject(i[e]));if(a){i[e]={...i[e]??{},...r};if(n){for(const t in r){o.set(`${e}.${t}`,n)}}}else{i[e]=r;if(n){o.set(e,n)}else{o.delete(e)}}}return{value:i,source:o}}mergeDefaultConfigurationsForConfigurationProperty(e,t,n,r){const i=this.configurationProperties[e];const o=r?.value??i?.defaultDefaultValue;let a=n;const l=s.isObject(t)&&(i!==undefined&&i.type==="object"||i===undefined&&(s.isUndefined(o)||s.isObject(o)));if(l){a=r?.source??new Map;if(!(a instanceof Map)){console.error("defaultValueSource is not a Map");return undefined}for(const r in t){if(n){a.set(`${e}.${r}`,n)}}t={...s.isObject(o)?o:{},...t}}return{value:t,source:a}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e);this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e){this.overrideIdentifiers.add(t)}this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,n){e.forEach(e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,undefined,n);this.configurationContributors.push(e);this.registerJSONConfiguration(e)})}validateAndRegisterProperties(e,t=true,n,r,i=3,o){i=s.isUndefinedOrNull(e.scope)?i:e.scope;const a=e.properties;if(a){for(const e in a){const l=a[e];if(t&&I(e,l)){delete a[e];continue}l.source=n;l.defaultDefaultValue=a[e].default;this.updatePropertyDefaultValue(e,l);if(S.test(e)){l.scope=undefined}else{l.scope=s.isUndefinedOrNull(l.scope)?i:l.scope;l.restricted=s.isUndefinedOrNull(l.restricted)?!!r?.includes(e):l.restricted}if(a[e].hasOwnProperty("included")&&!a[e].included){this.excludedConfigurationProperties[e]=a[e];delete a[e];continue}else{this.configurationProperties[e]=a[e];if(a[e].policy?.name){this.policyConfigurations.set(a[e].policy.name,e)}}if(!a[e].deprecationMessage&&a[e].markdownDeprecationMessage){a[e].deprecationMessage=a[e].markdownDeprecationMessage}o.add(e)}}const l=e.allOf;if(l){for(const e of l){this.validateAndRegisterProperties(e,t,n,r,i,o)}}}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=e=>{const n=e.properties;if(n){for(const e in n){this.updateSchema(e,n[e])}}const r=e.allOf;r?.forEach(t)};t(e)}updateSchema(e,t){h.properties[e]=t;switch(t.scope){case 1:d.properties[e]=t;break;case 2:g.properties[e]=t;break;case 6:f.properties[e]=t;break;case 3:m.properties[e]=t;break;case 4:p.properties[e]=t;break;case 5:p.properties[e]=t;this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`;const n={type:"object",description:o.localize("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:o.localize("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:_};this.updatePropertyDefaultValue(t,n);h.properties[t]=n;d.properties[t]=n;g.properties[t]=n;f.properties[t]=n;m.properties[t]=n;p.properties[t]=n}}registerOverridePropertyPatternKey(){const e={type:"object",description:o.localize("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:o.localize("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:_};h.patternProperties[L]=e;d.patternProperties[L]=e;g.patternProperties[L]=e;f.patternProperties[L]=e;m.patternProperties[L]=e;p.patternProperties[L]=e;this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const n=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue;let r=undefined;let i=undefined;if(n&&(!t.disallowConfigurationDefault||!n.source)){r=n.value;i=n.source}if(s.isUndefined(r)){r=t.defaultDefaultValue;i=undefined}if(s.isUndefined(r)){r=y(t.type)}t.default=r;t.defaultValueSource=i}}const v=`\\[([^\\]]+)\\]`;const k=new RegExp(v,"g");const L=`^(${v})+$`;const S=new RegExp(L);function w(e){const t=[];if(S.test(e)){let n=k.exec(e);while(n?.length){const r=n[1].trim();if(r){t.push(r)}n=k.exec(e)}}return(0,r.distinct)(t)}function y(e){const t=Array.isArray(e)?e[0]:e;switch(t){case"boolean":return false;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const E=new C;c.Registry.add(u.Configuration,E);function I(e,t){if(!e.trim()){return o.localize("config.property.empty","Cannot register an empty property")}if(S.test(e)){return o.localize("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e)}if(E.getConfigurationProperties()[e]!==undefined){return o.localize("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e)}if(t.policy?.name&&E.getPolicyConfigurations().get(t.policy?.name)!==undefined){return o.localize("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,t.policy?.name,E.getPolicyConfigurations().get(t.policy?.name))}return null}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IConfigurationService:()=>i,addToValueTree:()=>o,getConfigurationValue:()=>c,getLanguageTagSettingPlainKey:()=>u,removeFromValueTree:()=>a,toValuesTree:()=>s});var r=n(82);const i=(0,r.createDecorator)("configurationService");function s(e,t){const n=Object.create(null);for(const r in e){o(n,r,e[r],t)}return n}function o(e,t,n,r){const i=t.split(".");const s=i.pop();let o=e;for(let e=0;e<i.length;e++){const n=i[e];let s=o[n];switch(typeof s){case"undefined":s=o[n]=Object.create(null);break;case"object":if(s===null){r(`Ignoring ${t} as ${i.slice(0,e+1).join(".")} is null`);return}break;default:r(`Ignoring ${t} as ${i.slice(0,e+1).join(".")} is ${JSON.stringify(s)}`);return}o=s}if(typeof o==="object"&&o!==null){try{o[s]=n}catch(e){r(`Ignoring ${t} as ${i.join(".")} is ${JSON.stringify(o)}`)}}else{r(`Ignoring ${t} as ${i.join(".")} is ${JSON.stringify(o)}`)}}function a(e,t){const n=t.split(".");l(e,n)}function l(e,t){const n=t.shift();if(t.length===0){delete e[n];return}if(Object.keys(e).indexOf(n)!==-1){const r=e[n];if(typeof r==="object"&&!Array.isArray(r)){l(r,t);if(Object.keys(r).length===0){delete e[n]}}}}function c(e,t,n){function r(e,t){let n=e;for(const e of t){if(typeof n!=="object"||n===null){return undefined}n=n[e]}return n}const i=t.split(".");const s=r(e,i);return typeof s==="undefined"?n:s}function u(e){return e.replace(/[\[\]]/g,"")}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Extensions:()=>s});var r=n(3);var i=n(87);const s={JSONContribution:"base.contributions.json"};function o(e){if(e.length>0&&e.charAt(e.length-1)==="#"){return e.substring(0,e.length-1)}return e}class a{constructor(){this._onDidChangeSchema=new r.Emitter;this.schemasById={}}registerSchema(e,t){this.schemasById[o(e)]=t;this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const l=new a;i.Registry.add(s.JSONContribution,l)},(e,t,n)=>{"use strict";n.r(t);n.d(t,{FileKind:()=>r});var r;(function(e){e[e["FILE"]=0]="FILE";e[e["FOLDER"]=1]="FOLDER";e[e["ROOT_FOLDER"]=2]="ROOT_FOLDER"})(r||(r={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ThemeColor:()=>i,ThemeIcon:()=>s});var r=n(36);var i;(function(e){function t(e){return e&&typeof e==="object"&&typeof e.id==="string"}e.isThemeColor=t})(i||(i={}));var s;(function(e){e.iconNameSegment="[A-Za-z0-9]+";e.iconNameExpression="[A-Za-z0-9-]+";e.iconModifierExpression="~[A-Za-z]+";e.iconNameCharacter="[A-Za-z0-9~-]";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function n(e){const i=t.exec(e.id);if(!i){return n(r.Codicon.error)}const[,s,o]=i;const a=["codicon","codicon-"+s];if(o){a.push("codicon-modifier-"+o.substring(1))}return a}e.asClassNameArray=n;function s(e){return n(e).join(" ")}e.asClassName=s;function o(e){return"."+n(e).join(".")}e.asCSSSelector=o;function a(e){return e&&typeof e==="object"&&typeof e.id==="string"&&(typeof e.color==="undefined"||i.isThemeColor(e.color))}e.isThemeIcon=a;const l=new RegExp(`^\\$\\((${e.iconNameExpression}(?:${e.iconModifierExpression})?)\\)$`);function c(e){const t=l.exec(e);if(!t){return undefined}const[,n]=t;return{id:n}}e.fromString=c;function u(e){return{id:e}}e.fromId=u;function h(e,t){let n=e.id;const r=n.lastIndexOf("~");if(r!==-1){n=n.substring(0,r)}if(t){n=`${n}~${t}`}return{id:n}}e.modify=h;function d(e){const t=e.id.lastIndexOf("~");if(t!==-1){return e.id.substring(t+1)}return undefined}e.getModifier=d;function g(e,t){return e.id===t.id&&e.color?.id===t.color?.id}e.isEqual=g})(s||(s={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ILanguageFeatureDebounceService:()=>g,LanguageFeatureDebounceService:()=>_});var r=n(24);var i=n(46);var s=n(95);var o=n(96);var a=n(97);var l=n(82);var c=n(99);var u=n(9);var h=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var d=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};const g=(0,l.createDecorator)("ILanguageFeatureDebounceService");var f;(function(e){const t=new WeakMap;let n=0;function r(e){let r=t.get(e);if(r===undefined){r=++n;t.set(e,r)}return r}e.of=r})(f||(f={}));class m{constructor(e){this._default=e}get(e){return this._default}update(e,t){return this._default}default(){return this._default}}class p{constructor(e,t,n,r,s,o){this._logService=e;this._name=t;this._registry=n;this._default=r;this._min=s;this._max=o;this._cache=new i.LRUCache(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((e,t)=>(0,r.doHash)(f.of(t),e),0)}get(e){const t=this._key(e);const n=this._cache.get(t);return n?(0,s.clamp)(n.value,this._min,this._max):this.default()}update(e,t){const n=this._key(e);let r=this._cache.get(n);if(!r){r=new s.SlidingWindowAverage(6);this._cache.set(n,r)}const i=(0,s.clamp)(r.update(t),this._min,this._max);if(!(0,u.matchesScheme)(e.uri,"output")){this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${i}ms`)}return i}_overall(){const e=new s.MovingAverage;for(const[,t]of this._cache){e.update(t.value)}return e.value}default(){const e=this._overall()|0||this._default;return(0,s.clamp)(e,this._min,this._max)}}let _=class e{constructor(e,t){this._logService=e;this._data=new Map;this._isDev=t.isExtensionDevelopment||!t.isBuilt}for(e,t,n){const r=n?.min??50;const i=n?.max??r**2;const s=n?.key??undefined;const o=`${f.of(e)},${r}${s?","+s:""}`;let a=this._data.get(o);if(!a){if(this._isDev){this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`);a=new m(r*1.5)}else{a=new p(this._logService,t,e,this._overallAverage()|0||r*1.5,r,i)}this._data.set(o,a)}return a}_overallAverage(){const e=new s.MovingAverage;for(const t of this._data.values()){e.update(t.default())}return e.value}};_=h([d(0,c.ILogService),d(1,o.IEnvironmentService)],_);(0,a.registerSingleton)(g,_,1)},(e,t,n)=>{"use strict";n.r(t);n.d(t,{MovingAverage:()=>i,SlidingWindowAverage:()=>s,clamp:()=>r});function r(e,t,n){return Math.min(Math.max(e,t),n)}class i{constructor(){this._n=1;this._val=0}update(e){this._val=this._val+(e-this._val)/this._n;this._n+=1;return this._val}get value(){return this._val}}class s{constructor(e){this._n=0;this._val=0;this._values=[];this._index=0;this._sum=0;this._values=new Array(e);this._values.fill(0,0,e)}update(e){const t=this._values[this._index];this._values[this._index]=e;this._index=(this._index+1)%this._values.length;this._sum-=t;this._sum+=e;if(this._n<this._values.length){this._n+=1}this._val=this._sum/this._n;return this._val}get value(){return this._val}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IEnvironmentService:()=>i});var r=n(82);const i=(0,r.createDecorator)("environmentService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{getSingletonServiceDescriptors:()=>o,registerSingleton:()=>s});var r=n(98);const i=[];function s(e,t,n){if(!(t instanceof r.SyncDescriptor)){t=new r.SyncDescriptor(t,[],Boolean(n))}i.push([e,t])}function o(){return i}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{SyncDescriptor:()=>r});class r{constructor(e,t=[],n=false){this.ctor=e;this.staticArguments=t;this.supportsDelayedInstantiation=n}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AbstractLogger:()=>u,CONTEXT_LOG_LEVEL:()=>f,ConsoleLogger:()=>h,DEFAULT_LOG_LEVEL:()=>c,ILogService:()=>a,LogLevel:()=>l,LogLevelToString:()=>g,MultiplexLogger:()=>d});var r=n(3);var i=n(5);var s=n(100);var o=n(82);const a=(0,o.createDecorator)("logService");var l;(function(e){e[e["Off"]=0]="Off";e[e["Trace"]=1]="Trace";e[e["Debug"]=2]="Debug";e[e["Info"]=3]="Info";e[e["Warning"]=4]="Warning";e[e["Error"]=5]="Error"})(l||(l={}));const c=l.Info;class u extends i.Disposable{constructor(){super(...arguments);this.level=c;this._onDidChangeLogLevel=this._register(new r.Emitter);this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){if(this.level!==e){this.level=e;this._onDidChangeLogLevel.fire(this.level)}}getLevel(){return this.level}checkLogLevel(e){return this.level!==l.Off&&this.level<=e}}class h extends u{constructor(e=c,t=true){super();this.useColors=t;this.setLevel(e)}trace(e,...t){if(this.checkLogLevel(l.Trace)){if(this.useColors){console.log("%cTRACE","color: #888",e,...t)}else{console.log(e,...t)}}}debug(e,...t){if(this.checkLogLevel(l.Debug)){if(this.useColors){console.log("%cDEBUG","background: #eee; color: #888",e,...t)}else{console.log(e,...t)}}}info(e,...t){if(this.checkLogLevel(l.Info)){if(this.useColors){console.log("%c INFO","color: #33f",e,...t)}else{console.log(e,...t)}}}warn(e,...t){if(this.checkLogLevel(l.Warning)){if(this.useColors){console.log("%c WARN","color: #993",e,...t)}else{console.log(e,...t)}}}error(e,...t){if(this.checkLogLevel(l.Error)){if(this.useColors){console.log("%c  ERR","color: #f33",e,...t)}else{console.error(e,...t)}}}}class d extends u{constructor(e){super();this.loggers=e;if(e.length){this.setLevel(e[0].getLevel())}}setLevel(e){for(const t of this.loggers){t.setLevel(e)}super.setLevel(e)}trace(e,...t){for(const n of this.loggers){n.trace(e,...t)}}debug(e,...t){for(const n of this.loggers){n.debug(e,...t)}}info(e,...t){for(const n of this.loggers){n.info(e,...t)}}warn(e,...t){for(const n of this.loggers){n.warn(e,...t)}}error(e,...t){for(const n of this.loggers){n.error(e,...t)}}dispose(){for(const e of this.loggers){e.dispose()}super.dispose()}}function g(e){switch(e){case l.Trace:return"trace";case l.Debug:return"debug";case l.Info:return"info";case l.Warning:return"warn";case l.Error:return"error";case l.Off:return"off"}}const f=new s.RawContextKey("logLevel",g(l.Info))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ContextKeyAndExpr:()=>z,ContextKeyDefinedExpr:()=>y,ContextKeyEqualsExpr:()=>E,ContextKeyExpr:()=>v,ContextKeyFalseExpr:()=>S,ContextKeyGreaterEqualsExpr:()=>A,ContextKeyGreaterExpr:()=>R,ContextKeyInExpr:()=>I,ContextKeyNotEqualsExpr:()=>T,ContextKeyNotExpr:()=>N,ContextKeyNotInExpr:()=>x,ContextKeyNotRegexExpr:()=>M,ContextKeyOrExpr:()=>q,ContextKeyRegexExpr:()=>F,ContextKeySmallerEqualsExpr:()=>D,ContextKeySmallerExpr:()=>O,ContextKeyTrueExpr:()=>w,IContextKeyService:()=>V,Parser:()=>C,RawContextKey:()=>H,expressionsAreEqualWithConstantSubstitution:()=>k,implies:()=>K});var r=n(10);var i=n(14);var s=n(101);var o=n(82);var a=n(11);const l=new Map;l.set("false",false);l.set("true",true);l.set("isMac",r.isMacintosh);l.set("isLinux",r.isLinux);l.set("isWindows",r.isWindows);l.set("isWeb",r.isWeb);l.set("isMacNative",r.isMacintosh&&!r.isWeb);l.set("isEdge",r.isEdge);l.set("isFirefox",r.isFirefox);l.set("isChrome",r.isChrome);l.set("isSafari",r.isSafari);const c=Object.prototype.hasOwnProperty;const u={regexParsingWithErrorRecovery:true};const h=(0,a.localize)("contextkey.parser.error.emptyString","Empty context key expression");const d=(0,a.localize)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively.");const g=(0,a.localize)("contextkey.parser.error.noInAfterNot","'in' after 'not'.");const f=(0,a.localize)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'");const m=(0,a.localize)("contextkey.parser.error.unexpectedToken","Unexpected token");const p=(0,a.localize)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?");const _=(0,a.localize)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression");const b=(0,a.localize)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class C{static{this._parseError=new Error}constructor(e=u){this._config=e;this._scanner=new s.Scanner;this._tokens=[];this._current=0;this._parsingErrors=[];this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:h,offset:0,lexeme:"",additionalInfo:d});return undefined}this._tokens=this._scanner.reset(e).scan();this._current=0;this._parsingErrors=[];try{const e=this._expr();if(!this._isAtEnd()){const e=this._peek();const t=e.type===17?p:undefined;this._parsingErrors.push({message:m,offset:e.offset,lexeme:s.Scanner.getLexeme(e),additionalInfo:t});throw C._parseError}return e}catch(e){if(!(e===C._parseError)){throw e}return undefined}}_expr(){return this._or()}_or(){const e=[this._and()];while(this._matchOne(16)){const t=this._and();e.push(t)}return e.length===1?e[0]:v.or(...e)}_and(){const e=[this._term()];while(this._matchOne(15)){const t=this._term();e.push(t)}return e.length===1?e[0]:v.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:this._advance();return S.INSTANCE;case 12:this._advance();return w.INSTANCE;case 0:{this._advance();const e=this._expr();this._consume(1,f);return e?.negate()}case 17:this._advance();return N.create(e.lexeme);default:throw this._errExpectedButGot(`KEY | true | false | '(' expression ')'`,e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:this._advance();return v.true();case 12:this._advance();return v.false();case 0:{this._advance();const e=this._expr();this._consume(1,f);return e}case 17:{const t=e.lexeme;this._advance();if(this._matchOne(9)){const e=this._peek();if(!this._config.regexParsingWithErrorRecovery){this._advance();if(e.type!==10){throw this._errExpectedButGot(`REGEX`,e)}const n=e.lexeme;const r=n.lastIndexOf("/");const i=r===n.length-1?undefined:this._removeFlagsGY(n.substring(r+1));let s;try{s=new RegExp(n.substring(1,r),i)}catch(t){throw this._errExpectedButGot(`REGEX`,e)}return F.create(t,s)}switch(e.type){case 10:case 19:{const n=[e.lexeme];this._advance();let r=this._peek();let i=0;for(let t=0;t<e.lexeme.length;t++){if(e.lexeme.charCodeAt(t)===40){i++}else if(e.lexeme.charCodeAt(t)===41){i--}}while(!this._isAtEnd()&&r.type!==15&&r.type!==16){switch(r.type){case 0:i++;break;case 1:i--;break;case 10:case 18:for(let t=0;t<r.lexeme.length;t++){if(r.lexeme.charCodeAt(t)===40){i++}else if(e.lexeme.charCodeAt(t)===41){i--}}}if(i<0){break}n.push(s.Scanner.getLexeme(r));this._advance();r=this._peek()}const o=n.join("");const a=o.lastIndexOf("/");const l=a===o.length-1?undefined:this._removeFlagsGY(o.substring(a+1));let c;try{c=new RegExp(o.substring(1,a),l)}catch(t){throw this._errExpectedButGot(`REGEX`,e)}return v.regex(t,c)}case 18:{const n=e.lexeme;this._advance();let r=null;if(!(0,i.isFalsyOrWhitespace)(n)){const t=n.indexOf("/");const i=n.lastIndexOf("/");if(t!==i&&t>=0){const s=n.slice(t+1,i);const o=n[i+1]==="i"?"i":"";try{r=new RegExp(s,o)}catch(t){throw this._errExpectedButGot(`REGEX`,e)}}}if(r===null){throw this._errExpectedButGot("REGEX",e)}return F.create(t,r)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,g);const e=this._value();return v.notIn(t,e)}const n=this._peek().type;switch(n){case 3:{this._advance();const e=this._value();if(this._previous().type===18){return v.equals(t,e)}switch(e){case"true":return v.has(t);case"false":return v.not(t);default:return v.equals(t,e)}}case 4:{this._advance();const e=this._value();if(this._previous().type===18){return v.notEquals(t,e)}switch(e){case"true":return v.not(t);case"false":return v.has(t);default:return v.notEquals(t,e)}}case 5:this._advance();return O.create(t,this._value());case 6:this._advance();return D.create(t,this._value());case 7:this._advance();return R.create(t,this._value());case 8:this._advance();return A.create(t,this._value());case 13:this._advance();return v.in(t,this._value());default:return v.has(t)}}case 20:this._parsingErrors.push({message:_,offset:e.offset,lexeme:"",additionalInfo:b});throw C._parseError;default:throw this._errExpectedButGot(`true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:this._advance();return e.lexeme;case 11:this._advance();return"true";case 12:this._advance();return"false";case 13:this._advance();return"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){if(this._check(e)){this._advance();return true}return false}_advance(){if(!this._isAtEnd()){this._current++}return this._previous()}_consume(e,t){if(this._check(e)){return this._advance()}throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,n){const r=(0,a.localize)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",e,s.Scanner.getLexeme(t));const i=t.offset;const o=s.Scanner.getLexeme(t);this._parsingErrors.push({message:r,offset:i,lexeme:o,additionalInfo:n});return C._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}class v{static false(){return S.INSTANCE}static true(){return w.INSTANCE}static has(e){return y.create(e)}static equals(e,t){return E.create(e,t)}static notEquals(e,t){return T.create(e,t)}static regex(e,t){return F.create(e,t)}static in(e,t){return I.create(e,t)}static notIn(e,t){return x.create(e,t)}static not(e){return N.create(e)}static and(...e){return z.create(e,null,true)}static or(...e){return q.create(e,null,true)}static{this._parser=new C({regexParsingWithErrorRecovery:false})}static deserialize(e){if(e===undefined||e===null){return undefined}const t=this._parser.parse(e);return t}}function k(e,t){const n=e?e.substituteConstants():undefined;const r=t?t.substituteConstants():undefined;if(!n&&!r){return true}if(!n||!r){return false}return n.equals(r)}function L(e,t){return e.cmp(t)}class S{static{this.INSTANCE=new S}constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return false}serialize(){return"false"}keys(){return[]}negate(){return w.INSTANCE}}class w{static{this.INSTANCE=new w}constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return true}serialize(){return"true"}keys(){return[]}negate(){return S.INSTANCE}}class y{static create(e,t=null){const n=l.get(e);if(typeof n==="boolean"){return n?w.INSTANCE:S.INSTANCE}return new y(e,t)}constructor(e,t){this.key=e;this.negated=t;this.type=2}cmp(e){if(e.type!==this.type){return this.type-e.type}return W(this.key,e.key)}equals(e){if(e.type===this.type){return this.key===e.key}return false}substituteConstants(){const e=l.get(this.key);if(typeof e==="boolean"){return e?w.INSTANCE:S.INSTANCE}return this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){if(!this.negated){this.negated=N.create(this.key,this)}return this.negated}}class E{static create(e,t,n=null){if(typeof t==="boolean"){return t?y.create(e,n):N.create(e,n)}const r=l.get(e);if(typeof r==="boolean"){const e=r?"true":"false";return t===e?w.INSTANCE:S.INSTANCE}return new E(e,t,n)}constructor(e,t,n){this.key=e;this.value=t;this.negated=n;this.type=4}cmp(e){if(e.type!==this.type){return this.type-e.type}return U(this.key,this.value,e.key,e.value)}equals(e){if(e.type===this.type){return this.key===e.key&&this.value===e.value}return false}substituteConstants(){const e=l.get(this.key);if(typeof e==="boolean"){const t=e?"true":"false";return this.value===t?w.INSTANCE:S.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=T.create(this.key,this.value,this)}return this.negated}}class I{static create(e,t){return new I(e,t)}constructor(e,t){this.key=e;this.valueKey=t;this.type=10;this.negated=null}cmp(e){if(e.type!==this.type){return this.type-e.type}return U(this.key,this.valueKey,e.key,e.valueKey)}equals(e){if(e.type===this.type){return this.key===e.key&&this.valueKey===e.valueKey}return false}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey);const n=e.getValue(this.key);if(Array.isArray(t)){return t.includes(n)}if(typeof n==="string"&&typeof t==="object"&&t!==null){return c.call(t,n)}return false}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){if(!this.negated){this.negated=x.create(this.key,this.valueKey)}return this.negated}}class x{static create(e,t){return new x(e,t)}constructor(e,t){this.key=e;this.valueKey=t;this.type=11;this._negated=I.create(e,t)}cmp(e){if(e.type!==this.type){return this.type-e.type}return this._negated.cmp(e._negated)}equals(e){if(e.type===this.type){return this._negated.equals(e._negated)}return false}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class T{static create(e,t,n=null){if(typeof t==="boolean"){if(t){return N.create(e,n)}return y.create(e,n)}const r=l.get(e);if(typeof r==="boolean"){const e=r?"true":"false";return t===e?S.INSTANCE:w.INSTANCE}return new T(e,t,n)}constructor(e,t,n){this.key=e;this.value=t;this.negated=n;this.type=5}cmp(e){if(e.type!==this.type){return this.type-e.type}return U(this.key,this.value,e.key,e.value)}equals(e){if(e.type===this.type){return this.key===e.key&&this.value===e.value}return false}substituteConstants(){const e=l.get(this.key);if(typeof e==="boolean"){const t=e?"true":"false";return this.value===t?S.INSTANCE:w.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=E.create(this.key,this.value,this)}return this.negated}}class N{static create(e,t=null){const n=l.get(e);if(typeof n==="boolean"){return n?S.INSTANCE:w.INSTANCE}return new N(e,t)}constructor(e,t){this.key=e;this.negated=t;this.type=3}cmp(e){if(e.type!==this.type){return this.type-e.type}return W(this.key,e.key)}equals(e){if(e.type===this.type){return this.key===e.key}return false}substituteConstants(){const e=l.get(this.key);if(typeof e==="boolean"){return e?S.INSTANCE:w.INSTANCE}return this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=y.create(this.key,this)}return this.negated}}function B(e,t){if(typeof e==="string"){const t=parseFloat(e);if(!isNaN(t)){e=t}}if(typeof e==="string"||typeof e==="number"){return t(e)}return S.INSTANCE}class R{static create(e,t,n=null){return B(t,t=>new R(e,t,n))}constructor(e,t,n){this.key=e;this.value=t;this.negated=n;this.type=12}cmp(e){if(e.type!==this.type){return this.type-e.type}return U(this.key,this.value,e.key,e.value)}equals(e){if(e.type===this.type){return this.key===e.key&&this.value===e.value}return false}substituteConstants(){return this}evaluate(e){if(typeof this.value==="string"){return false}return parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=D.create(this.key,this.value,this)}return this.negated}}class A{static create(e,t,n=null){return B(t,t=>new A(e,t,n))}constructor(e,t,n){this.key=e;this.value=t;this.negated=n;this.type=13}cmp(e){if(e.type!==this.type){return this.type-e.type}return U(this.key,this.value,e.key,e.value)}equals(e){if(e.type===this.type){return this.key===e.key&&this.value===e.value}return false}substituteConstants(){return this}evaluate(e){if(typeof this.value==="string"){return false}return parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=O.create(this.key,this.value,this)}return this.negated}}class O{static create(e,t,n=null){return B(t,t=>new O(e,t,n))}constructor(e,t,n){this.key=e;this.value=t;this.negated=n;this.type=14}cmp(e){if(e.type!==this.type){return this.type-e.type}return U(this.key,this.value,e.key,e.value)}equals(e){if(e.type===this.type){return this.key===e.key&&this.value===e.value}return false}substituteConstants(){return this}evaluate(e){if(typeof this.value==="string"){return false}return parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=A.create(this.key,this.value,this)}return this.negated}}class D{static create(e,t,n=null){return B(t,t=>new D(e,t,n))}constructor(e,t,n){this.key=e;this.value=t;this.negated=n;this.type=15}cmp(e){if(e.type!==this.type){return this.type-e.type}return U(this.key,this.value,e.key,e.value)}equals(e){if(e.type===this.type){return this.key===e.key&&this.value===e.value}return false}substituteConstants(){return this}evaluate(e){if(typeof this.value==="string"){return false}return parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=R.create(this.key,this.value,this)}return this.negated}}class F{static create(e,t){return new F(e,t)}constructor(e,t){this.key=e;this.regexp=t;this.type=7;this.negated=null}cmp(e){if(e.type!==this.type){return this.type-e.type}if(this.key<e.key){return-1}if(this.key>e.key){return 1}const t=this.regexp?this.regexp.source:"";const n=e.regexp?e.regexp.source:"";if(t<n){return-1}if(t>n){return 1}return 0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"";const n=e.regexp?e.regexp.source:"";return this.key===e.key&&t===n}return false}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):false}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){if(!this.negated){this.negated=M.create(this)}return this.negated}}class M{static create(e){return new M(e)}constructor(e){this._actual=e;this.type=8}cmp(e){if(e.type!==this.type){return this.type-e.type}return this._actual.cmp(e._actual)}equals(e){if(e.type===this.type){return this._actual.equals(e._actual)}return false}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function P(e){let t=null;for(let n=0,r=e.length;n<r;n++){const r=e[n].substituteConstants();if(e[n]!==r){if(t===null){t=[];for(let r=0;r<n;r++){t[r]=e[r]}}}if(t!==null){t[n]=r}}if(t===null){return e}return t}class z{static create(e,t,n){return z._normalizeArr(e,t,n)}constructor(e,t){this.expr=e;this.negated=t;this.type=6}cmp(e){if(e.type!==this.type){return this.type-e.type}if(this.expr.length<e.expr.length){return-1}if(this.expr.length>e.expr.length){return 1}for(let t=0,n=this.expr.length;t<n;t++){const n=L(this.expr[t],e.expr[t]);if(n!==0){return n}}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length){return false}for(let t=0,n=this.expr.length;t<n;t++){if(!this.expr[t].equals(e.expr[t])){return false}}return true}return false}substituteConstants(){const e=P(this.expr);if(e===this.expr){return this}return z.create(e,this.negated,false)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++){if(!this.expr[t].evaluate(e)){return false}}return true}static _normalizeArr(e,t,n){const r=[];let i=false;for(const t of e){if(!t){continue}if(t.type===1){i=true;continue}if(t.type===0){return S.INSTANCE}if(t.type===6){r.push(...t.expr);continue}r.push(t)}if(r.length===0&&i){return w.INSTANCE}if(r.length===0){return undefined}if(r.length===1){return r[0]}r.sort(L);for(let e=1;e<r.length;e++){if(r[e-1].equals(r[e])){r.splice(e,1);e--}}if(r.length===1){return r[0]}while(r.length>1){const e=r[r.length-1];if(e.type!==9){break}r.pop();const t=r.pop();const i=r.length===0;const s=q.create(e.expr.map(e=>z.create([e,t],null,n)),null,i);if(s){r.push(s);r.sort(L)}}if(r.length===1){return r[0]}if(n){for(let e=0;e<r.length;e++){for(let t=e+1;t<r.length;t++){if(r[e].negate().equals(r[t])){return S.INSTANCE}}}if(r.length===1){return r[0]}}return new z(r,t)}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr){e.push(...t.keys())}return e}negate(){if(!this.negated){const e=[];for(const t of this.expr){e.push(t.negate())}this.negated=q.create(e,this,true)}return this.negated}}class q{static create(e,t,n){return q._normalizeArr(e,t,n)}constructor(e,t){this.expr=e;this.negated=t;this.type=9}cmp(e){if(e.type!==this.type){return this.type-e.type}if(this.expr.length<e.expr.length){return-1}if(this.expr.length>e.expr.length){return 1}for(let t=0,n=this.expr.length;t<n;t++){const n=L(this.expr[t],e.expr[t]);if(n!==0){return n}}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length){return false}for(let t=0,n=this.expr.length;t<n;t++){if(!this.expr[t].equals(e.expr[t])){return false}}return true}return false}substituteConstants(){const e=P(this.expr);if(e===this.expr){return this}return q.create(e,this.negated,false)}evaluate(e){for(let t=0,n=this.expr.length;t<n;t++){if(this.expr[t].evaluate(e)){return true}}return false}static _normalizeArr(e,t,n){let r=[];let i=false;if(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];if(!n){continue}if(n.type===0){i=true;continue}if(n.type===1){return w.INSTANCE}if(n.type===9){r=r.concat(n.expr);continue}r.push(n)}if(r.length===0&&i){return S.INSTANCE}r.sort(L)}if(r.length===0){return undefined}if(r.length===1){return r[0]}for(let e=1;e<r.length;e++){if(r[e-1].equals(r[e])){r.splice(e,1);e--}}if(r.length===1){return r[0]}if(n){for(let e=0;e<r.length;e++){for(let t=e+1;t<r.length;t++){if(r[e].negate().equals(r[t])){return w.INSTANCE}}}if(r.length===1){return r[0]}}return new q(r,t)}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr){e.push(...t.keys())}return e}negate(){if(!this.negated){const e=[];for(const t of this.expr){e.push(t.negate())}while(e.length>1){const t=e.shift();const n=e.shift();const r=[];for(const e of $(t)){for(const t of $(n)){r.push(z.create([e,t],null,false))}}e.unshift(q.create(r,null,false))}this.negated=q.create(e,this,true)}return this.negated}}class H extends y{static{this._info=[]}static all(){return H._info.values()}constructor(e,t,n){super(e,null);this._defaultValue=t;if(typeof n==="object"){H._info.push({...n,key:e})}else if(n!==true){H._info.push({key:e,description:n,type:t!==null&&t!==undefined?typeof t:undefined})}}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return E.create(this.key,e)}}const V=(0,o.createDecorator)("contextKeyService");function W(e,t){if(e<t){return-1}if(e>t){return 1}return 0}function U(e,t,n,r){if(e<n){return-1}if(e>n){return 1}if(t<r){return-1}if(t>r){return 1}return 0}function K(e,t){if(e.type===0||t.type===1){return true}if(e.type===9){if(t.type===9){return j(e.expr,t.expr)}return false}if(t.type===9){for(const n of t.expr){if(K(e,n)){return true}}return false}if(e.type===6){if(t.type===6){return j(t.expr,e.expr)}for(const n of e.expr){if(K(n,t)){return true}}return false}return e.equals(t)}function j(e,t){let n=0;let r=0;while(n<e.length&&r<t.length){const i=e[n].cmp(t[r]);if(i<0){return false}else if(i===0){n++;r++}else{r++}}return n===e.length}function $(e){if(e.type===9){return e.expr}return[e]}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Scanner:()=>l});var r=n(2);var i=n(11);function s(...e){switch(e.length){case 1:return(0,i.localize)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",e[0]);case 2:return(0,i.localize)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",e[0],e[1]);case 3:return(0,i.localize)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",e[0],e[1],e[2]);default:return undefined}}const o=(0,i.localize)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?");const a=(0,i.localize)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class l{constructor(){this._input="";this._start=0;this._current=0;this._tokens=[];this._errors=[];this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw(0,r.illegalState)(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static{this._regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)))}static{this._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}reset(e){this._input=e;this._start=0;this._current=0;this._tokens=[];this._errors=[];return this}scan(){while(!this._isAtEnd()){this._start=this._current;const e=this._advance();switch(e){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const e=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:e})}else{this._addToken(2)}break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:e})}else if(this._match(126)){this._addToken(9)}else{this._error(s("==","=~"))}break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:if(this._match(38)){this._addToken(15)}else{this._error(s("&&"))}break;case 124:if(this._match(124)){this._addToken(16)}else{this._error(s("||"))}break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}}this._start=this._current;this._addToken(20);return Array.from(this._tokens)}_match(e){if(this._isAtEnd()){return false}if(this._input.charCodeAt(this._current)!==e){return false}this._current++;return true}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start;const n=this._input.substring(this._start,this._current);const r={type:19,offset:this._start,lexeme:n};this._errors.push({offset:t,lexeme:n,additionalInfo:e});this._tokens.push(r)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current);const n=l._keywords.get(t);if(n){this._addToken(n)}else{this._tokens.push({type:17,lexeme:t,offset:this._start})}}}_quotedString(){while(this._peek()!==39&&!this._isAtEnd()){this._advance()}if(this._isAtEnd()){this._error(o);return}this._advance();this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current;let t=false;let n=false;while(true){if(e>=this._input.length){this._current=e;this._error(a);return}const r=this._input.charCodeAt(e);if(t){t=false}else if(r===47&&!n){e++;break}else if(r===91){n=true}else if(r===92){t=true}else if(r===93){n=false}e++}while(e<this._input.length&&l._regexFlags.has(this._input.charCodeAt(e))){e++}this._current=e;const r=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:r,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ILanguageFeaturesService:()=>i});var r=n(82);const i=(0,r.createDecorator)("ILanguageFeaturesService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LanguageFeaturesService:()=>o});var r=n(104);var i=n(102);var s=n(97);class o{constructor(){this.referenceProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.renameProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.newSymbolNamesProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.codeActionProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.definitionProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.typeDefinitionProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.declarationProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.implementationProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentSymbolProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.inlayHintsProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.colorProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.codeLensProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentFormattingEditProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentRangeFormattingEditProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.onTypeFormattingEditProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.signatureHelpProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.hoverProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentHighlightProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.multiDocumentHighlightProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.selectionRangeProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.foldingRangeProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.linkProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.inlineCompletionsProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.inlineEditProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.completionProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.linkedEditingRangeProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentRangeSemanticTokensProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentSemanticTokensProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentDropEditProvider=new r.LanguageFeatureRegistry(this._score.bind(this));this.documentPasteEditProvider=new r.LanguageFeatureRegistry(this._score.bind(this))}_score(e){return this._notebookTypeResolver?.(e)}}(0,s.registerSingleton)(i.ILanguageFeaturesService,o,1)},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LanguageFeatureRegistry:()=>c});var r=n(3);var i=n(5);var s=n(47);var o=n(105);function a(e){if(typeof e==="string"){return false}else if(Array.isArray(e)){return e.every(a)}else{return!!e.exclusive}}class l{constructor(e,t,n,r,i){this.uri=e;this.languageId=t;this.notebookUri=n;this.notebookType=r;this.recursive=i}equals(e){return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&this.notebookUri?.toString()===e.notebookUri?.toString()&&this.recursive===e.recursive}}class c{constructor(e){this._notebookInfoResolver=e;this._clock=0;this._entries=[];this._onDidChange=new r.Emitter;this.onDidChange=this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};this._entries.push(n);this._lastCandidate=undefined;this._onDidChange.fire(this._entries.length);return(0,i.toDisposable)(()=>{if(n){const e=this._entries.indexOf(n);if(e>=0){this._entries.splice(e,1);this._lastCandidate=undefined;this._onDidChange.fire(this._entries.length);n=undefined}}})}has(e){return this.all(e).length>0}all(e){if(!e){return[]}this._updateScores(e,false);const t=[];for(const e of this._entries){if(e._score>0){t.push(e.provider)}}return t}ordered(e,t=false){const n=[];this._orderedForEach(e,t,e=>n.push(e.provider));return n}orderedGroups(e){const t=[];let n;let r;this._orderedForEach(e,false,e=>{if(n&&r===e._score){n.push(e.provider)}else{r=e._score;n=[e.provider];t.push(n)}});return t}_orderedForEach(e,t,n){this._updateScores(e,t);for(const e of this._entries){if(e._score>0){n(e)}}}_updateScores(e,t){const n=this._notebookInfoResolver?.(e.uri);const r=n?new l(e.uri,e.getLanguageId(),n.uri,n.type,t):new l(e.uri,e.getLanguageId(),undefined,undefined,t);if(this._lastCandidate?.equals(r)){return}this._lastCandidate=r;for(const n of this._entries){n._score=(0,o.score)(n.selector,r.uri,r.languageId,(0,s.shouldSynchronizeModel)(e),r.notebookUri,r.notebookType);if(a(n.selector)&&n._score>0){if(t){n._score=0}else{for(const e of this._entries){e._score=0}n._score=1e3;break}}}this._entries.sort(c._compareByScoreAndTime)}static _compareByScoreAndTime(e,t){if(e._score<t._score){return 1}else if(e._score>t._score){return-1}if(u(e.selector)&&!u(t.selector)){return 1}else if(!u(e.selector)&&u(t.selector)){return-1}if(e._time<t._time){return 1}else if(e._time>t._time){return-1}else{return 0}}}function u(e){if(typeof e==="string"){return false}if(Array.isArray(e)){return e.some(u)}return Boolean(e.isBuiltin)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{score:()=>s});var r=n(106);var i=n(18);function s(e,t,n,o,a,l){if(Array.isArray(e)){let r=0;for(const i of e){const e=s(i,t,n,o,a,l);if(e===10){return e}if(e>r){r=e}}return r}else if(typeof e==="string"){if(!o){return 0}if(e==="*"){return 5}else if(e===n){return 10}else{return 0}}else if(e){const{language:s,pattern:c,scheme:u,hasAccessToAllModels:h,notebookType:d}=e;if(!o&&!h){return 0}if(d&&a){t=a}let g=0;if(u){if(u===t.scheme){g=10}else if(u==="*"){g=5}else{return 0}}if(s){if(s===n){g=10}else if(s==="*"){g=Math.max(g,5)}else{return 0}}if(d){if(d===l){g=10}else if(d==="*"&&l!==undefined){g=Math.max(g,5)}else{return 0}}if(c){let e;if(typeof c==="string"){e=c}else{e={...c,base:(0,i.normalize)(c.base)}}if(e===t.fsPath||(0,r.match)(e,t.fsPath)){g=10}else{return 0}}return g}else{return 0}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{GLOBSTAR:()=>c,GLOB_SPLIT:()=>u,isRelativePattern:()=>F,match:()=>O,parse:()=>D,splitGlobAware:()=>m});var r=n(76);var i=n(85);var s=n(46);var o=n(18);var a=n(10);var l=n(14);const c="**";const u="/";const h="[/\\\\]";const d="[^/\\\\]";const g=/\//g;function f(e,t){switch(e){case 0:return"";case 1:return`${d}*?`;default:return`(?:${h}|${d}+${h}${t?`|${h}${d}+`:""})*?`}}function m(e,t){if(!e){return[]}const n=[];let r=false;let i=false;let s="";for(const o of e){switch(o){case t:if(!r&&!i){n.push(s);s="";continue}break;case"{":r=true;break;case"}":r=false;break;case"[":i=true;break;case"]":i=false;break}s+=o}if(s){n.push(s)}return n}function p(e){if(!e){return""}let t="";const n=m(e,u);if(n.every(e=>e===c)){t=".*"}else{let e=false;n.forEach((r,i)=>{if(r===c){if(e){return}t+=f(2,i===n.length-1)}else{let e=false;let s="";let o=false;let a="";for(const n of r){if(n!=="}"&&e){s+=n;continue}if(o&&(n!=="]"||!a)){let e;if(n==="-"){e=n}else if((n==="^"||n==="!")&&!a){e="^"}else if(n===u){e=""}else{e=(0,l.escapeRegExpCharacters)(n)}a+=e;continue}switch(n){case"{":e=true;continue;case"[":o=true;continue;case"}":{const n=m(s,",");const r=`(?:${n.map(e=>p(e)).join("|")})`;t+=r;e=false;s="";break}case"]":{t+="["+a+"]";o=false;a="";break}case"?":t+=d;continue;case"*":t+=f(1);continue;default:t+=(0,l.escapeRegExpCharacters)(n)}}if(i<n.length-1&&(n[i+1]!==c||i+2<n.length)){t+=h}}e=r===c})}return t}const _=/^\*\*\/\*\.[\w\.-]+$/;const b=/^\*\*\/([\w\.-]+)\/?$/;const C=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/;const v=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/;const k=/^\*\*((\/[\w\.-]+)+)\/?$/;const L=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/;const S=new s.LRUCache(1e4);const w=function(){return false};const y=function(){return null};function E(e,t){if(!e){return y}let n;if(typeof e!=="string"){n=e.pattern}else{n=e}n=n.trim();const r=`${n}_${!!t.trimForExclusions}`;let i=S.get(r);if(i){return I(i,e)}let s;if(_.test(n)){i=T(n.substr(4),n)}else if(s=b.exec(x(n,t))){i=N(s[1],n)}else if((t.trimForExclusions?v:C).test(n)){i=B(n,t)}else if(s=k.exec(x(n,t))){i=R(s[1].substr(1),n,true)}else if(s=L.exec(x(n,t))){i=R(s[1],n,false)}else{i=A(n)}S.set(r,i);return I(i,e)}function I(e,t){if(typeof t==="string"){return e}const n=function(n,r){if(!(0,i.isEqualOrParent)(n,t.base,!a.isLinux)){return null}return e((0,l.ltrim)(n.substr(t.base.length),o.sep),r)};n.allBasenames=e.allBasenames;n.allPaths=e.allPaths;n.basenames=e.basenames;n.patterns=e.patterns;return n}function x(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function T(e,t){return function(n,r){return typeof n==="string"&&n.endsWith(e)?t:null}}function N(e,t){const n=`/${e}`;const r=`\\${e}`;const i=function(i,s){if(typeof i!=="string"){return null}if(s){return s===e?t:null}return i===e||i.endsWith(n)||i.endsWith(r)?t:null};const s=[e];i.basenames=s;i.patterns=[t];i.allBasenames=s;return i}function B(e,t){const n=z(e.slice(1,-1).split(",").map(e=>E(e,t)).filter(e=>e!==y),e);const r=n.length;if(!r){return y}if(r===1){return n[0]}const i=function(t,r){for(let i=0,s=n.length;i<s;i++){if(n[i](t,r)){return e}}return null};const s=n.find(e=>!!e.allBasenames);if(s){i.allBasenames=s.allBasenames}const o=n.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);if(o.length){i.allPaths=o}return i}function R(e,t,n){const r=o.sep===o.posix.sep;const i=r?e:e.replace(g,o.sep);const s=o.sep+i;const a=o.posix.sep+e;let l;if(n){l=function(n,o){return typeof n==="string"&&(n===i||n.endsWith(s)||!r&&(n===e||n.endsWith(a)))?t:null}}else{l=function(n,s){return typeof n==="string"&&(n===i||!r&&n===e)?t:null}}l.allPaths=[(n?"*/":"./")+e];return l}function A(e){try{const t=new RegExp(`^${p(e)}$`);return function(n){t.lastIndex=0;return typeof n==="string"&&t.test(n)?e:null}}catch(e){return y}}function O(e,t,n){if(!e||typeof t!=="string"){return false}return D(e)(t,undefined,n)}function D(e,t={}){if(!e){return w}if(typeof e==="string"||F(e)){const n=E(e,t);if(n===y){return w}const r=function(e,t){return!!n(e,t)};if(n.allBasenames){r.allBasenames=n.allBasenames}if(n.allPaths){r.allPaths=n.allPaths}return r}return M(e,t)}function F(e){const t=e;if(!t){return false}return typeof t.base==="string"&&typeof t.pattern==="string"}function M(e,t){const n=z(Object.getOwnPropertyNames(e).map(n=>P(n,e[n],t)).filter(e=>e!==y));const i=n.length;if(!i){return y}if(!n.some(e=>!!e.requiresSiblings)){if(i===1){return n[0]}const e=function(e,t){let i=undefined;for(let s=0,o=n.length;s<o;s++){const o=n[s](e,t);if(typeof o==="string"){return o}if((0,r.isThenable)(o)){if(!i){i=[]}i.push(o)}}if(i){return(async()=>{for(const e of i){const t=await e;if(typeof t==="string"){return t}}return null})()}return null};const t=n.find(e=>!!e.allBasenames);if(t){e.allBasenames=t.allBasenames}const s=n.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);if(s.length){e.allPaths=s}return e}const s=function(e,t,i){let s=undefined;let a=undefined;for(let l=0,c=n.length;l<c;l++){const c=n[l];if(c.requiresSiblings&&i){if(!t){t=(0,o.basename)(e)}if(!s){s=t.substr(0,t.length-(0,o.extname)(e).length)}}const u=c(e,t,s,i);if(typeof u==="string"){return u}if((0,r.isThenable)(u)){if(!a){a=[]}a.push(u)}}if(a){return(async()=>{for(const e of a){const t=await e;if(typeof t==="string"){return t}}return null})()}return null};const a=n.find(e=>!!e.allBasenames);if(a){s.allBasenames=a.allBasenames}const l=n.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);if(l.length){s.allPaths=l}return s}function P(e,t,n){if(t===false){return y}const i=E(e,n);if(i===y){return y}if(typeof t==="boolean"){return i}if(t){const n=t.when;if(typeof n==="string"){const t=(t,s,o,a)=>{if(!a||!i(t,s)){return null}const l=n.replace("$(basename)",()=>o);const c=a(l);return(0,r.isThenable)(c)?c.then(t=>t?e:null):c?e:null};t.requiresSiblings=true;return t}}return i}function z(e,t){const n=e.filter(e=>!!e.basenames);if(n.length<2){return e}const r=n.reduce((e,t)=>{const n=t.basenames;return n?e.concat(n):e},[]);let i;if(t){i=[];for(let e=0,n=r.length;e<n;e++){i.push(t)}}else{i=n.reduce((e,t)=>{const n=t.patterns;return n?e.concat(n):e},[])}const s=function(e,t){if(typeof e!=="string"){return null}if(!t){let n;for(n=e.length;n>0;n--){const t=e.charCodeAt(n-1);if(t===47||t===92){break}}t=e.substr(n)}const n=r.indexOf(t);return n!==-1?i[n]:null};s.basenames=r;s.patterns=i;s.allBasenames=r;const o=e.filter(e=>!e.basenames);o.push(s);return o}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LanguageService:()=>u});var r=n(3);var i=n(5);var s=n(108);var o=n(62);var a=n(35);var l=n(86);var c=n(110);class u extends i.Disposable{static{this.instanceCount=0}constructor(e=false){super();this._onDidRequestBasicLanguageFeatures=this._register(new r.Emitter);this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event;this._onDidRequestRichLanguageFeatures=this._register(new r.Emitter);this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event;this._onDidChange=this._register(new r.Emitter({leakWarningThreshold:200}));this.onDidChange=this._onDidChange.event;this._requestedBasicLanguages=new Set;this._requestedRichLanguages=new Set;u.instanceCount++;this._registry=this._register(new s.LanguagesRegistry(true,e));this.languageIdCodec=this._registry.languageIdCodec;this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){u.instanceCount--;super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,o.firstOrDefault)(n,null)}createById(e){return new h(this.onDidChange,()=>this._createAndGetLanguageIdentifier(e))}createByFilepathOrFirstLine(e,t){return new h(this.onDidChange,()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(n)})}_createAndGetLanguageIdentifier(e){if(!e||!this.isRegisteredLanguageId(e)){e=l.PLAINTEXT_LANGUAGE_ID}return e}requestBasicLanguageFeatures(e){if(!this._requestedBasicLanguages.has(e)){this._requestedBasicLanguages.add(e);this._onDidRequestBasicLanguageFeatures.fire(e)}}requestRichLanguageFeatures(e){if(!this._requestedRichLanguages.has(e)){this._requestedRichLanguages.add(e);this.requestBasicLanguageFeatures(e);a.TokenizationRegistry.getOrCreate(e);this._onDidRequestRichLanguageFeatures.fire(e)}}}class h{constructor(e,t){this._value=(0,c.observableFromEvent)(this,e,()=>t());this.onDidChange=r.Event.fromObservable(this._value)}get languageId(){return this._value.get()}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LanguageIdCodec:()=>d,LanguagesRegistry:()=>g});var r=n(3);var i=n(5);var s=n(14);var o=n(109);var a=n(86);var l=n(89);var c=n(87);const u=Object.prototype.hasOwnProperty;const h="vs.editor.nullLanguage";class d{constructor(){this._languageIdToLanguage=[];this._languageToLanguageId=new Map;this._register(h,0);this._register(a.PLAINTEXT_LANGUAGE_ID,1);this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e;this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e)){return}const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||h}}class g extends i.Disposable{static{this.instanceCount=0}constructor(e=true,t=false){super();this._onDidChange=this._register(new r.Emitter);this.onDidChange=this._onDidChange.event;g.instanceCount++;this._warnOnOverwrite=t;this.languageIdCodec=new d;this._dynamicLanguages=[];this._languages={};this._mimeTypesMap={};this._nameMap={};this._lowercaseNameMap={};if(e){this._initializeFromRegistry();this._register(a.ModesRegistry.onDidChangeLanguages(e=>{this._initializeFromRegistry()}))}}dispose(){g.instanceCount--;super.dispose()}_initializeFromRegistry(){this._languages={};this._mimeTypesMap={};this._nameMap={};this._lowercaseNameMap={};(0,o.clearPlatformLanguageAssociations)();const e=[].concat(a.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e){this._registerLanguage(t)}this._mimeTypesMap={};this._nameMap={};this._lowercaseNameMap={};Object.keys(this._languages).forEach(e=>{const t=this._languages[e];if(t.name){this._nameMap[t.name]=t.identifier}t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier});t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})});c.Registry.as(l.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds());this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let n;if(u.call(this._languages,t)){n=this._languages[t]}else{this.languageIdCodec.register(t);n={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]};this._languages[t]=n}this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0){e.mimetypes.push(...t.mimetypes);r=t.mimetypes[0]}if(!r){r=`text/x-${n}`;e.mimetypes.push(r)}if(Array.isArray(t.extensions)){if(t.configuration){e.extensions=t.extensions.concat(e.extensions)}else{e.extensions=e.extensions.concat(t.extensions)}for(const e of t.extensions){(0,o.registerPlatformLanguageAssociation)({id:n,mime:r,extension:e},this._warnOnOverwrite)}}if(Array.isArray(t.filenames)){for(const i of t.filenames){(0,o.registerPlatformLanguageAssociation)({id:n,mime:r,filename:i},this._warnOnOverwrite);e.filenames.push(i)}}if(Array.isArray(t.filenamePatterns)){for(const e of t.filenamePatterns){(0,o.registerPlatformLanguageAssociation)({id:n,mime:r,filepattern:e},this._warnOnOverwrite)}}if(typeof t.firstLine==="string"&&t.firstLine.length>0){let e=t.firstLine;if(e.charAt(0)!=="^"){e="^"+e}try{const t=new RegExp(e);if(!(0,s.regExpLeadsToEndlessLoop)(t)){(0,o.registerPlatformLanguageAssociation)({id:n,mime:r,firstline:t},this._warnOnOverwrite)}}catch(n){console.warn(`[${t.id}]: Invalid regular expression \`${e}\`: `,n)}}e.aliases.push(n);let i=null;if(typeof t.aliases!=="undefined"&&Array.isArray(t.aliases)){if(t.aliases.length===0){i=[null]}else{i=t.aliases}}if(i!==null){for(const t of i){if(!t||t.length===0){continue}e.aliases.push(t)}}const a=i!==null&&i.length>0;if(a&&i[0]===null){}else{const t=(a?i[0]:null)||n;if(a||!e.name){e.name=t}}if(t.configuration){e.configurationFiles.push(t.configuration)}if(t.icon){e.icons.push(t.icon)}}isRegisteredLanguageId(e){if(!e){return false}return u.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();if(!u.call(this._lowercaseNameMap,t)){return null}return this._lowercaseNameMap[t]}getLanguageIdByMimeType(e){if(!e){return null}if(u.call(this._mimeTypesMap,e)){return this._mimeTypesMap[e]}return null}guessLanguageIdByFilepathOrFirstLine(e,t){if(!e&&!t){return[]}return(0,o.getLanguageIds)(e,t)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{clearPlatformLanguageAssociations:()=>p,getLanguageIds:()=>_,registerPlatformLanguageAssociation:()=>g});var r=n(106);var i=n(88);var s=n(9);var o=n(18);var a=n(84);var l=n(14);var c=n(86);let u=[];let h=[];let d=[];function g(e,t=false){f(e,false,t)}function f(e,t,n){const r=m(e,t);u.push(r);if(!r.userConfigured){h.push(r)}else{d.push(r)}if(n&&!r.userConfigured){u.forEach(e=>{if(e.mime===r.mime||e.userConfigured){return}if(r.extension&&e.extension===r.extension){console.warn(`Overwriting extension <<${r.extension}>> to now point to mime <<${r.mime}>>`)}if(r.filename&&e.filename===r.filename){console.warn(`Overwriting filename <<${r.filename}>> to now point to mime <<${r.mime}>>`)}if(r.filepattern&&e.filepattern===r.filepattern){console.warn(`Overwriting filepattern <<${r.filepattern}>> to now point to mime <<${r.mime}>>`)}if(r.firstline&&e.firstline===r.firstline){console.warn(`Overwriting firstline <<${r.firstline}>> to now point to mime <<${r.mime}>>`)}})}}function m(e,t){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:t,filenameLowercase:e.filename?e.filename.toLowerCase():undefined,extensionLowercase:e.extension?e.extension.toLowerCase():undefined,filepatternLowercase:e.filepattern?(0,r.parse)(e.filepattern.toLowerCase()):undefined,filepatternOnPath:e.filepattern?e.filepattern.indexOf(o.posix.sep)>=0:false}}function p(){u=u.filter(e=>e.userConfigured);h=[]}function _(e,t){return b(e,t).map(e=>e.id)}function b(e,t){let n;if(e){switch(e.scheme){case s.Schemas.file:n=e.fsPath;break;case s.Schemas.data:{const t=a.DataUri.parseMetaData(e);n=t.get(a.DataUri.META_DATA_LABEL);break}case s.Schemas.vscodeNotebookCell:n=undefined;break;default:n=e.path}}if(!n){return[{id:"unknown",mime:i.Mimes.unknown}]}n=n.toLowerCase();const r=(0,o.basename)(n);const l=C(n,r,d);if(l){return[l,{id:c.PLAINTEXT_LANGUAGE_ID,mime:i.Mimes.text}]}const u=C(n,r,h);if(u){return[u,{id:c.PLAINTEXT_LANGUAGE_ID,mime:i.Mimes.text}]}if(t){const e=v(t);if(e){return[e,{id:c.PLAINTEXT_LANGUAGE_ID,mime:i.Mimes.text}]}}return[{id:"unknown",mime:i.Mimes.unknown}]}function C(e,t,n){let r=undefined;let i=undefined;let s=undefined;for(let o=n.length-1;o>=0;o--){const a=n[o];if(t===a.filenameLowercase){r=a;break}if(a.filepattern){if(!i||a.filepattern.length>i.filepattern.length){const n=a.filepatternOnPath?e:t;if(a.filepatternLowercase?.(n)){i=a}}}if(a.extension){if(!s||a.extension.length>s.extension.length){if(t.endsWith(a.extensionLowercase)){s=a}}}}if(r){return r}if(i){return i}if(s){return s}return undefined}function v(e){if((0,l.startsWithUTF8BOM)(e)){e=e.substr(1)}if(e.length>0){for(let t=u.length-1;t>=0;t--){const n=u[t];if(!n.firstline){continue}const r=e.match(n.firstline);if(r&&r.length>0){return n}}}return undefined}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ObservablePromise:()=>a.ObservablePromise,PromiseResult:()=>a.PromiseResult,autorun:()=>s.autorun,autorunHandleChanges:()=>s.autorunHandleChanges,autorunOpts:()=>s.autorunOpts,autorunWithStore:()=>s.autorunWithStore,autorunWithStoreHandleChanges:()=>s.autorunWithStoreHandleChanges,constObservable:()=>o.constObservable,derived:()=>i.derived,derivedHandleChanges:()=>i.derivedHandleChanges,derivedObservableWithCache:()=>o.derivedObservableWithCache,derivedObservableWithWritableCache:()=>o.derivedObservableWithWritableCache,derivedOpts:()=>i.derivedOpts,derivedWithStore:()=>i.derivedWithStore,disposableObservableValue:()=>r.disposableObservableValue,keepObserved:()=>o.keepObserved,observableFromEvent:()=>o.observableFromEvent,observableSignal:()=>o.observableSignal,observableSignalFromEvent:()=>o.observableSignalFromEvent,observableValue:()=>r.observableValue,observableValueOpts:()=>l.observableValueOpts,recomputeInitiallyAndOnChange:()=>o.recomputeInitiallyAndOnChange,subtransaction:()=>r.subtransaction,transaction:()=>r.transaction,waitForState:()=>a.waitForState});var r=n(111);var i=n(115);var s=n(116);var o=n(117);var a=n(118);var l=n(119);var c=n(114);const u=false;if(u){(0,c.setLogger)(new c.ConsoleObservableLogger)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BaseObservable:()=>g,ConvenientObservable:()=>d,DisposableObservableValue:()=>S,ObservableValue:()=>k,TransactionImpl:()=>C,_setDerivedOpts:()=>h,_setKeepObserved:()=>c,_setRecomputeInitiallyAndOnChange:()=>a,asyncTransaction:()=>_,disposableObservableValue:()=>L,globalTransaction:()=>p,observableValue:()=>v,subtransaction:()=>b,transaction:()=>f});var r=n(112);var i=n(113);var s=n(114);let o;function a(e){o=e}let l;function c(e){l=e}let u;function h(e){u=e}class d{get TChange(){return null}reportChanges(){this.get()}read(e){if(e){return e.readObservable(this)}else{return this.get()}}map(e,t){const n=t===undefined?undefined:e;const r=t===undefined?e:t;return u({owner:n,debugName:()=>{const e=(0,i.getFunctionName)(r);if(e!==undefined){return e}const t=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/;const s=t.exec(r.toString());if(s){return`${this.debugName}.${s[2]}`}if(!n){return`${this.debugName} (mapped)`}return undefined},debugReferenceFn:r},e=>r(this.read(e),e))}flatten(){return u({owner:undefined,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){e.add(o(this,t));return this}keepObserved(e){e.add(l(this));return this}}class g extends d{constructor(){super(...arguments);this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e);if(t===0){this.onFirstObserverAdded()}}removeObserver(e){const t=this.observers.delete(e);if(t&&this.observers.size===0){this.onLastObserverRemoved()}}onFirstObserverAdded(){}onLastObserverRemoved(){}}function f(e,t){const n=new C(e,t);try{e(n)}finally{n.finish()}}let m=undefined;function p(e){if(m){e(m)}else{const t=new C(e,undefined);m=t;try{e(t)}finally{t.finish();m=undefined}}}async function _(e,t){const n=new C(e,t);try{await e(n)}finally{n.finish()}}function b(e,t,n){if(!e){f(t,n)}else{t(e)}}class C{constructor(e,t){this._fn=e;this._getDebugName=t;this.updatingObservers=[];(0,s.getLogger)()?.handleBeginTransaction(this)}getDebugName(){if(this._getDebugName){return this._getDebugName()}return(0,i.getFunctionName)(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t});e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:n,observable:r}=e[t];n.endUpdate(r)}this.updatingObservers=null;(0,s.getLogger)()?.handleEndTransaction()}}function v(e,t){let n;if(typeof e==="string"){n=new i.DebugNameData(undefined,e,undefined)}else{n=new i.DebugNameData(e,undefined,undefined)}return new k(n,t,r.strictEquals)}class k extends g{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,n){super();this._debugNameData=e;this._equalityComparator=n;this._value=t}get(){return this._value}set(e,t,n){if(n===undefined&&this._equalityComparator(this._value,e)){return}let r;if(!t){t=r=new C(()=>{},()=>`Setting ${this.debugName}`)}try{const r=this._value;this._setValue(e);(0,s.getLogger)()?.handleObservableChanged(this,{oldValue:r,newValue:e,change:n,didChange:true,hadValue:true});for(const e of this.observers){t.updateObserver(e,this);e.handleChange(this,n)}}finally{if(r){r.finish()}}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function L(e,t){let n;if(typeof e==="string"){n=new i.DebugNameData(undefined,e,undefined)}else{n=new i.DebugNameData(e,undefined,undefined)}return new S(n,t,r.strictEquals)}class S extends k{_setValue(e){if(this._value===e){return}if(this._value){this._value.dispose()}this._value=e}dispose(){this._value?.dispose()}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{equalsIfDefined:()=>a,itemEquals:()=>o,itemsEquals:()=>s,strictEquals:()=>i,structuralEquals:()=>l});var r=n(62);const i=(e,t)=>e===t;function s(e=i){return(t,n)=>r.equals(t,n,e)}function o(){return(e,t)=>e.equals(t)}function a(e,t,n){if(n!==undefined){const r=e;if(r===undefined||r===null||t===undefined||t===null){return t===r}return n(r,t)}else{const t=e;return(e,n)=>{if(e===undefined||e===null||n===undefined||n===null){return n===e}return t(e,n)}}}function l(e,t){if(e===t){return true}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length){return false}for(let n=0;n<e.length;n++){if(!l(e[n],t[n])){return false}}return true}if(e&&typeof e==="object"&&t&&typeof t==="object"){if(Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const n=e;const r=t;const i=Object.keys(n);const s=Object.keys(r);const o=new Set(s);if(i.length!==s.length){return false}for(const e of i){if(!o.has(e)){return false}if(!l(n[e],r[e])){return false}}return true}}return false}const c=new WeakMap},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DebugNameData:()=>r,getDebugName:()=>o,getFunctionName:()=>g});class r{constructor(e,t,n){this.owner=e;this.debugNameSource=t;this.referenceFn=n}getDebugName(e){return o(e,this)}}const i=new Map;const s=new WeakMap;function o(e,t){const n=s.get(e);if(n){return n}const r=a(e,t);if(r){let t=i.get(r)??0;t++;i.set(r,t);const n=t===1?r:`${r}#${t}`;s.set(e,n);return n}return undefined}function a(e,t){const n=s.get(e);if(n){return n}const r=t.owner?h(t.owner)+`.`:"";let i;const o=t.debugNameSource;if(o!==undefined){if(typeof o==="function"){i=o();if(i!==undefined){return r+i}}else{return r+o}}const a=t.referenceFn;if(a!==undefined){i=g(a);if(i!==undefined){return r+i}}if(t.owner!==undefined){const n=l(t.owner,e);if(n!==undefined){return r+n}}return undefined}function l(e,t){for(const n in e){if(e[n]===t){return n}}return undefined}const c=new Map;const u=new WeakMap;function h(e){const t=u.get(e);if(t){return t}const n=d(e);let r=c.get(n)??0;r++;c.set(n,r);const i=r===1?n:`${n}#${r}`;u.set(e,i);return i}function d(e){const t=e.constructor;if(t){return t.name}return"Object"}function g(e){const t=e.toString();const n=/\/\*\*\s*@description\s*([^*]*)\*\//;const r=n.exec(t);const i=r?r[1]:undefined;return i?.trim()}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ConsoleObservableLogger:()=>o,getLogger:()=>s,setLogger:()=>i});let r;function i(e){r=e}function s(){return r}class o{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}textToConsoleArgs(e){return a([l(f("|  ",this.indentation)),e])}formatInfo(e){if(!e.hadValue){return[l(` `),u(h(e.newValue,60),{color:"green"}),l(` (initial)`)]}return e.didChange?[l(` `),u(h(e.oldValue,70),{color:"red",strikeThrough:true}),l(` `),u(h(e.newValue,60),{color:"green"})]:[l(` (unchanged)`)]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([c("observable value changed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}formatChanges(e){if(e.size===0){return undefined}return u(" (changed deps: "+[...e].map(e=>e.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set);e.handleChange=(n,r)=>{this.changedObservablesSets.get(e).add(n);return t.apply(e,[n,r])}}handleDerivedRecomputed(e,t){const n=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([c("derived recomputed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}]));n.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([c("observable from event triggered"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set);e.handleChange=(n,r)=>{this.changedObservablesSets.get(e).add(n);return t.apply(e,[n,r])}}handleAutorunTriggered(e){const t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([c("autorun"),u(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}]));t.clear();this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();if(t===undefined){t=""}console.log(...this.textToConsoleArgs([c("transaction"),u(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}]));this.indentation++}handleEndTransaction(){this.indentation--}}function a(e){const t=new Array;const n=[];let r="";function i(e){if("length"in e){for(const t of e){if(t){i(t)}}}else if("text"in e){r+=`%c${e.text}`;t.push(e.style);if(e.data){n.push(...e.data)}}else if("data"in e){n.push(...e.data)}}i(e);const s=[r,...t];s.push(...n);return s}function l(e){return u(e,{color:"black"})}function c(e){return u(m(`${e}: `,10),{color:"black",bold:true})}function u(e,t={color:"black"}){function n(e){return Object.entries(e).reduce((e,[t,n])=>`${e}${t}:${n};`,"")}const r={color:t.color};if(t.strikeThrough){r["text-decoration"]="line-through"}if(t.bold){r["font-weight"]="bold"}return{text:e,style:n(r)}}function h(e,t){switch(typeof e){case"number":return""+e;case"string":if(e.length+2<=t){return`"${e}"`}return`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":if(e===null){return"null"}if(Array.isArray(e)){return d(e,t)}return g(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}function d(e,t){let n="[ ";let r=true;for(const i of e){if(!r){n+=", "}if(n.length-5>t){n+="...";break}r=false;n+=`${h(i,t-n.length)}`}n+=" ]";return n}function g(e,t){let n="{ ";let r=true;for(const[i,s]of Object.entries(e)){if(!r){n+=", "}if(n.length-5>t){n+="...";break}r=false;n+=`${i}: ${h(s,t-n.length)}`}n+=" }";return n}function f(e,t){let n="";for(let r=1;r<=t;r++){n+=e}return n}function m(e,t){while(e.length<t){e+=" "}return e}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Derived:()=>m,DerivedWithSetter:()=>p,derived:()=>c,derivedDisposable:()=>f,derivedHandleChanges:()=>d,derivedOpts:()=>h,derivedWithSetter:()=>u,derivedWithStore:()=>g});var r=n(49);var i=n(112);var s=n(5);var o=n(111);var a=n(113);var l=n(114);function c(e,t){if(t!==undefined){return new m(new a.DebugNameData(e,undefined,t),t,undefined,undefined,undefined,i.strictEquals)}return new m(new a.DebugNameData(undefined,undefined,e),e,undefined,undefined,undefined,i.strictEquals)}function u(e,t,n){return new p(new a.DebugNameData(e,undefined,t),t,undefined,undefined,undefined,i.strictEquals,n)}function h(e,t){return new m(new a.DebugNameData(e.owner,e.debugName,e.debugReferenceFn),t,undefined,undefined,e.onLastObserverRemoved,e.equalsFn??i.strictEquals)}(0,o._setDerivedOpts)(h);function d(e,t){return new m(new a.DebugNameData(e.owner,e.debugName,undefined),t,e.createEmptyChangeSummary,e.handleChange,undefined,e.equalityComparer??i.strictEquals)}function g(e,t){let n;let r;if(t===undefined){n=e;r=undefined}else{r=e;n=t}const o=new s.DisposableStore;return new m(new a.DebugNameData(r,undefined,n),e=>{o.clear();return n(e,o)},undefined,undefined,()=>o.dispose(),i.strictEquals)}function f(e,t){let n;let r;if(t===undefined){n=e;r=undefined}else{r=e;n=t}let o=undefined;return new m(new a.DebugNameData(r,undefined,n),e=>{if(!o){o=new s.DisposableStore}else{o.clear()}const t=n(e);if(t){o.add(t)}return t},undefined,undefined,()=>{if(o){o.dispose();o=undefined}},i.strictEquals)}class m extends o.BaseObservable{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,n,r,i=undefined,s){super();this._debugNameData=e;this._computeFn=t;this.createChangeSummary=n;this._handleChange=r;this._handleLastObserverRemoved=i;this._equalityComparator=s;this.state=0;this.value=undefined;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=undefined;this.changeSummary=this.createChangeSummary?.();(0,l.getLogger)()?.handleDerivedCreated(this)}onLastObserverRemoved(){this.state=0;this.value=undefined;for(const e of this.dependencies){e.removeObserver(this)}this.dependencies.clear();this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){const e=this._computeFn(this,this.createChangeSummary?.());this.onLastObserverRemoved();return e}else{do{if(this.state===1){for(const e of this.dependencies){e.reportChanges();if(this.state===2){break}}}if(this.state===1){this.state=3}this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3){return}const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies;this.dependencies=e;const t=this.state!==0;const n=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,r)}finally{for(const e of this.dependenciesToBeRemoved){e.removeObserver(this)}this.dependenciesToBeRemoved.clear()}const i=t&&!this._equalityComparator(n,this.value);(0,l.getLogger)()?.handleDerivedRecomputed(this,{oldValue:n,newValue:this.value,change:undefined,didChange:i,hadValue:t});if(i){for(const e of this.observers){e.handleChange(this,undefined)}}}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3){this.state=1;if(!t){for(const e of this.observers){e.handlePossibleChange(this)}}}if(t){for(const e of this.observers){e.beginUpdate(this)}}}endUpdate(e){this.updateCount--;if(this.updateCount===0){const e=[...this.observers];for(const t of e){t.endUpdate(this)}}(0,r.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const e of this.observers){e.handlePossibleChange(this)}}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const n=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary):true;const r=this.state===3;if(n&&(this.state===1||r)){this.state=2;if(r){for(const e of this.observers){e.handlePossibleChange(this)}}}}}readObservable(e){e.addObserver(this);const t=e.get();this.dependencies.add(e);this.dependenciesToBeRemoved.delete(e);return t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e);if(t){e.beginUpdate(this)}}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e);if(t){e.endUpdate(this)}}}class p extends m{constructor(e,t,n,r,i=undefined,s,o){super(e,t,n,r,i,s);this.set=o}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AutorunObserver:()=>d,autorun:()=>a,autorunHandleChanges:()=>c,autorunOpts:()=>l,autorunWithStore:()=>h,autorunWithStoreHandleChanges:()=>u});var r=n(49);var i=n(5);var s=n(113);var o=n(114);function a(e){return new d(new s.DebugNameData(undefined,undefined,e),e,undefined,undefined)}function l(e,t){return new d(new s.DebugNameData(e.owner,e.debugName,e.debugReferenceFn??t),t,undefined,undefined)}function c(e,t){return new d(new s.DebugNameData(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}function u(e,t){const n=new i.DisposableStore;const r=c({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(e,r)=>{n.clear();t(e,r,n)});return(0,i.toDisposable)(()=>{r.dispose();n.dispose()})}function h(e){const t=new i.DisposableStore;const n=l({owner:undefined,debugName:undefined,debugReferenceFn:e},n=>{t.clear();e(n,t)});return(0,i.toDisposable)(()=>{n.dispose();t.dispose()})}class d{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,n,r){this._debugNameData=e;this._runFn=t;this.createChangeSummary=n;this._handleChange=r;this.state=2;this.updateCount=0;this.disposed=false;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=this.createChangeSummary?.();(0,o.getLogger)()?.handleAutorunCreated(this);this._runIfNeeded();(0,i.trackDisposable)(this)}dispose(){this.disposed=true;for(const e of this.dependencies){e.removeObserver(this)}this.dependencies.clear();(0,i.markAsDisposed)(this)}_runIfNeeded(){if(this.state===3){return}const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies;this.dependencies=e;this.state=3;const t=this.disposed;try{if(!t){(0,o.getLogger)()?.handleAutorunTriggered(this);const e=this.changeSummary;this.changeSummary=this.createChangeSummary?.();this._runFn(this,e)}}finally{if(!t){(0,o.getLogger)()?.handleAutorunFinished(this)}for(const e of this.dependenciesToBeRemoved){e.removeObserver(this)}this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){if(this.state===3){this.state=1}this.updateCount++}endUpdate(){if(this.updateCount===1){do{if(this.state===1){this.state=3;for(const e of this.dependencies){e.reportChanges();if(this.state===2){break}}}this._runIfNeeded()}while(this.state!==3)}this.updateCount--;(0,r.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const n=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary):true;if(n){this.state=2}}}readObservable(e){if(this.disposed){return e.get()}e.addObserver(this);const t=e.get();this.dependencies.add(e);this.dependenciesToBeRemoved.delete(e);return t}}(function(e){e.Observer=d})(a||(a={}))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{FromEventObservable:()=>f,KeepAliveObserver:()=>k,ValueWithChangeEventFromObservable:()=>E,constObservable:()=>u,derivedConstOnceDefined:()=>x,derivedObservableWithCache:()=>L,derivedObservableWithWritableCache:()=>S,keepObserved:()=>C,mapObservableArrayCached:()=>w,observableFromEvent:()=>d,observableFromEventOpts:()=>g,observableFromValueWithChangeEvent:()=>I,observableSignal:()=>_,observableSignalFromEvent:()=>m,recomputeInitiallyAndOnChange:()=>v});var r=n(3);var i=n(5);var s=n(111);var o=n(113);var a=n(115);var l=n(114);var c=n(112);function u(e){return new h(e)}class h extends s.ConvenientObservable{constructor(e){super();this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function d(...e){let t;let n;let r;if(e.length===3){[t,n,r]=e}else{[n,r]=e}return new f(new o.DebugNameData(t,undefined,r),n,r,()=>f.globalTransaction,c.strictEquals)}function g(e,t,n){return new f(new o.DebugNameData(e.owner,e.debugName,e.debugReferenceFn??n),t,n,()=>f.globalTransaction,e.equalsFn??c.strictEquals)}class f extends s.BaseObservable{constructor(e,t,n,r,i){super();this._debugNameData=e;this.event=t;this._getValue=n;this._getTransaction=r;this._equalityComparator=i;this.hasValue=false;this.handleEvent=e=>{const t=this._getValue(e);const n=this.value;const r=!this.hasValue||!this._equalityComparator(n,t);let i=false;if(r){this.value=t;if(this.hasValue){i=true;(0,s.subtransaction)(this._getTransaction(),e=>{(0,l.getLogger)()?.handleFromEventObservableTriggered(this,{oldValue:n,newValue:t,change:undefined,didChange:r,hadValue:this.hasValue});for(const t of this.observers){e.updateObserver(t,this);t.handleChange(this,undefined)}},()=>{const e=this.getDebugName();return"Event fired"+(e?`: ${e}`:"")})}this.hasValue=true}if(!i){(0,l.getLogger)()?.handleFromEventObservableTriggered(this,{oldValue:n,newValue:t,change:undefined,didChange:r,hadValue:this.hasValue})}}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose();this.subscription=undefined;this.hasValue=false;this.value=undefined}get(){if(this.subscription){if(!this.hasValue){this.handleEvent(undefined)}return this.value}else{const e=this._getValue(undefined);return e}}}(function(e){e.Observer=f;function t(e,t){let n=false;if(f.globalTransaction===undefined){f.globalTransaction=e;n=true}try{t()}finally{if(n){f.globalTransaction=undefined}}}e.batchEventsGlobally=t})(d||(d={}));function m(e,t){return new p(e,t)}class p extends s.BaseObservable{constructor(e,t){super();this.debugName=e;this.event=t;this.handleEvent=()=>{(0,s.transaction)(e=>{for(const t of this.observers){e.updateObserver(t,this);t.handleChange(this,undefined)}},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose();this.subscription=undefined}get(){}}function _(e){if(typeof e==="string"){return new b(e)}else{return new b(undefined,e)}}class b extends s.BaseObservable{get debugName(){return new o.DebugNameData(this._owner,this._debugName,undefined).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super();this._debugName=e;this._owner=t}trigger(e,t){if(!e){(0,s.transaction)(e=>{this.trigger(e,t)},()=>`Trigger signal ${this.debugName}`);return}for(const n of this.observers){e.updateObserver(n,this);n.handleChange(this,t)}}get(){}}function C(e){const t=new k(false,undefined);e.addObserver(t);return(0,i.toDisposable)(()=>{e.removeObserver(t)})}(0,s._setKeepObserved)(C);function v(e,t){const n=new k(true,t);e.addObserver(n);if(t){t(e.get())}else{e.reportChanges()}return(0,i.toDisposable)(()=>{e.removeObserver(n)})}(0,s._setRecomputeInitiallyAndOnChange)(v);class k{constructor(e,t){this._forceRecompute=e;this._handleValue=t;this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--;if(this._counter===0&&this._forceRecompute){if(this._handleValue){this._handleValue(e.get())}else{e.reportChanges()}}}handlePossibleChange(e){}handleChange(e,t){}}function L(e,t){let n=undefined;const r=(0,a.derivedOpts)({owner:e,debugReferenceFn:t},e=>{n=t(e,n);return n});return r}function S(e,t){let n=undefined;const r=_("derivedObservableWithWritableCache");const i=(0,a.derived)(e,e=>{r.read(e);n=t(e,n);return n});return Object.assign(i,{clearCache:e=>{n=undefined;r.trigger(e)},setCache:(e,t)=>{n=e;r.trigger(t)}})}function w(e,t,n,r){let i=new y(n,r);const s=(0,a.derivedOpts)({debugReferenceFn:n,owner:e,onLastObserverRemoved:()=>{i.dispose();i=new y(n)}},e=>{i.setItems(t.read(e));return i.getItems()});return s}class y{constructor(e,t){this._map=e;this._keySelector=t;this._cache=new Map;this._items=[]}dispose(){this._cache.forEach(e=>e.store.dispose());this._cache.clear()}setItems(e){const t=[];const n=new Set(this._cache.keys());for(const r of e){const e=this._keySelector?this._keySelector(r):r;let s=this._cache.get(e);if(!s){const t=new i.DisposableStore;const n=this._map(r,t);s={out:n,store:t};this._cache.set(e,s)}else{n.delete(e)}t.push(s.out)}for(const e of n){const t=this._cache.get(e);t.store.dispose();this._cache.delete(e)}this._items=t}getItems(){return this._items}}class E{constructor(e){this.observable=e}get onDidChange(){return r.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}function I(e,t){if(t instanceof E){return t.observable}return d(e,t.onDidChange,()=>t.value)}function x(e,t){return L(e,(e,n)=>n??t(e))}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ObservablePromise:()=>o,PromiseResult:()=>a,waitForState:()=>l});var r=n(116);var i=n(111);var s=n(2);class o{static fromFn(e){return new o(e())}constructor(e){this._value=(0,i.observableValue)(this,undefined);this.promiseResult=this._value;this.promise=e.then(e=>{(0,i.transaction)(t=>{this._value.set(new a(e,undefined),t)});return e},e=>{(0,i.transaction)(t=>{this._value.set(new a(undefined,e),t)});throw e})}}class a{constructor(e,t){this.data=e;this.error=t}}function l(e,t,n,i){if(!t){t=e=>e!==null&&e!==undefined}return new Promise((o,a)=>{let l=true;let c=false;const u=e.map(e=>({isFinished:t(e),error:n?n(e):false,state:e}));const h=(0,r.autorun)(e=>{const{isFinished:t,error:n,state:r}=u.read(e);if(t||n){if(l){c=true}else{h.dispose()}if(n){a(n===true?r:n)}else{o(r)}}});if(i){const e=i.onCancellationRequested(()=>{h.dispose();e.dispose();a(new s.CancellationError)});if(i.isCancellationRequested){h.dispose();e.dispose();a(new s.CancellationError);return}}l=false;if(c){h.dispose()}})}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{observableValueOpts:()=>a});var r=n(112);var i=n(111);var s=n(113);var o=n(120);function a(e,t){if(e.lazy){return new o.LazyObservableValue(new s.DebugNameData(e.owner,e.debugName,undefined),t,e.equalsFn??r.strictEquals)}return new i.ObservableValue(new s.DebugNameData(e.owner,e.debugName,undefined),t,e.equalsFn??r.strictEquals)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LazyObservableValue:()=>i});var r=n(111);class i extends r.BaseObservable{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,n){super();this._debugNameData=e;this._equalityComparator=n;this._isUpToDate=true;this._deltas=[];this._updateCounter=0;this._value=t}get(){this._update();return this._value}_update(){if(this._isUpToDate){return}this._isUpToDate=true;if(this._deltas.length>0){for(const e of this.observers){for(const t of this._deltas){e.handleChange(this,t)}}this._deltas.length=0}else{for(const e of this.observers){e.handleChange(this,undefined)}}}_beginUpdate(){this._updateCounter++;if(this._updateCounter===1){for(const e of this.observers){e.beginUpdate(this)}}}_endUpdate(){this._updateCounter--;if(this._updateCounter===0){this._update();const e=[...this.observers];for(const t of e){t.endUpdate(this)}}}addObserver(e){const t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e);if(t){e.beginUpdate(this)}}removeObserver(e){const t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e);if(t){e.endUpdate(this)}}set(e,t,n){if(n===undefined&&this._equalityComparator(this._value,e)){return}let i;if(!t){t=i=new r.TransactionImpl(()=>{},()=>`Setting ${this.debugName}`)}try{this._isUpToDate=false;this._setValue(e);if(n!==undefined){this._deltas.push(n)}t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(e,t)=>{},handlePossibleChange:e=>{}},this);if(this._updateCounter>1){for(const e of this.observers){e.handlePossibleChange(this)}}}finally{if(i){i.finish()}}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IMarkerDecorationsService:()=>i});var r=n(82);const i=(0,r.createDecorator)("markerDecorationsService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{MarkerDecorationsService:()=>_});var r=n(123);var i=n(5);var s=n(47);var o=n(125);var a=n(127);var l=n(140);var c=n(25);var u=n(9);var h=n(3);var d=n(128);var g=n(46);var f=n(141);var m=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var p=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};let _=class e extends i.Disposable{constructor(e,t){super();this._markerService=t;this._onDidChangeMarker=this._register(new h.Emitter);this._markerDecorations=new g.ResourceMap;e.getModels().forEach(e=>this._onModelAdded(e));this._register(e.onModelAdded(this._onModelAdded,this));this._register(e.onModelRemoved(this._onModelRemoved,this));this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose();this._markerDecorations.forEach(e=>e.dispose());this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(e);return n?n.getMarker(t)||null:null}_handleMarkerChange(e){e.forEach(e=>{const t=this._markerDecorations.get(e);if(t){this._updateDecorations(t)}})}_onModelAdded(e){const t=new b(e);this._markerDecorations.set(e.uri,t);this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);if(t){t.dispose();this._markerDecorations.delete(e.uri)}if(e.uri.scheme===u.Schemas.inMemory||e.uri.scheme===u.Schemas.internal||e.uri.scheme===u.Schemas.vscode){this._markerService?.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});if(e.update(t)){this._onDidChangeMarker.fire(e.model)}}};_=m([p(0,l.IModelService),p(1,r.IMarkerService)],_);class b extends i.Disposable{constructor(e){super();this.model=e;this._map=new g.BidirectionalMap;this._register((0,i.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]);this._map.clear()}))}update(e){const{added:t,removed:n}=(0,f.diffSets)(new Set(this._map.keys()),new Set(e));if(t.length===0&&n.length===0){return false}const r=n.map(e=>this._map.get(e));const i=t.map(e=>({range:this._createDecorationRange(this.model,e),options:this._createDecorationOption(e)}));const s=this.model.deltaDecorations(r,i);for(const e of n){this._map.delete(e)}for(let e=0;e<s.length;e++){this._map.set(t[e],s[e])}return true}getMarker(e){return this._map.getKey(e.id)}_createDecorationRange(e,t){let n=c.Range.lift(t);if(t.severity===r.MarkerSeverity.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)){n=n.setEndPosition(n.startLineNumber,n.startColumn+2)}n=e.validateRange(n);if(n.isEmpty()){const t=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);if(t===1||n.endColumn>=t){return n}const r=e.getWordAtPosition(n.getStartPosition());if(r){n=new c.Range(n.startLineNumber,r.startColumn,n.endLineNumber,r.endColumn)}}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&n.startLineNumber===n.endLineNumber){const r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);if(r<n.endColumn){n=new c.Range(n.startLineNumber,r,n.endLineNumber,n.endColumn);t.startColumn=r}}return n}_createDecorationOption(e){let t;let n=undefined;let i;let l=undefined;let c;switch(e.severity){case r.MarkerSeverity.Hint:if(this._hasMarkerTag(e,2)){t=undefined}else if(this._hasMarkerTag(e,1)){t="squiggly-unnecessary"}else{t="squiggly-hint"}i=0;break;case r.MarkerSeverity.Info:t="squiggly-info";n=(0,o.themeColorFromId)(a.overviewRulerInfo);i=10;c={color:(0,o.themeColorFromId)(d.minimapInfo),position:1};break;case r.MarkerSeverity.Warning:t="squiggly-warning";n=(0,o.themeColorFromId)(a.overviewRulerWarning);i=20;c={color:(0,o.themeColorFromId)(d.minimapWarning),position:1};break;case r.MarkerSeverity.Error:default:t="squiggly-error";n=(0,o.themeColorFromId)(a.overviewRulerError);i=30;c={color:(0,o.themeColorFromId)(d.minimapError),position:1};break}if(e.tags){if(e.tags.indexOf(1)!==-1){l="squiggly-inline-unnecessary"}if(e.tags.indexOf(2)!==-1){l="squiggly-inline-deprecated"}}return{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:true,overviewRuler:{color:n,position:s.OverviewRulerLane.Right},minimap:c,zIndex:i,inlineClassName:l}}_hasMarkerTag(e,t){if(e.tags){return e.tags.indexOf(t)>=0}return false}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IMarkerData:()=>a,IMarkerService:()=>l,MarkerSeverity:()=>o});var r=n(124);var i=n(11);var s=n(82);var o;(function(e){e[e["Hint"]=1]="Hint";e[e["Info"]=2]="Info";e[e["Warning"]=4]="Warning";e[e["Error"]=8]="Error"})(o||(o={}));(function(e){function t(e,t){return t-e}e.compare=t;const n=Object.create(null);n[e.Error]=(0,i.localize)("sev.error","Error");n[e.Warning]=(0,i.localize)("sev.warning","Warning");n[e.Info]=(0,i.localize)("sev.info","Info");function s(e){return n[e]||""}e.toString=s;function o(t){switch(t){case r["default"].Error:return e.Error;case r["default"].Warning:return e.Warning;case r["default"].Info:return e.Info;case r["default"].Ignore:return e.Hint}}e.fromSeverity=o;function a(t){switch(t){case e.Error:return r["default"].Error;case e.Warning:return r["default"].Warning;case e.Info:return r["default"].Info;case e.Hint:return r["default"].Ignore}}e.toSeverity=a})(o||(o={}));var a;(function(e){const t="";function n(e){return r(e,true)}e.makeKey=n;function r(e,n){const r=[t];if(e.source){r.push(e.source.replace("¦","\\¦"))}else{r.push(t)}if(e.code){if(typeof e.code==="string"){r.push(e.code.replace("¦","\\¦"))}else{r.push(e.code.value.replace("¦","\\¦"))}}else{r.push(t)}if(e.severity!==undefined&&e.severity!==null){r.push(o.toString(e.severity))}else{r.push(t)}if(e.message&&n){r.push(e.message.replace("¦","\\¦"))}else{r.push(t)}if(e.startLineNumber!==undefined&&e.startLineNumber!==null){r.push(e.startLineNumber.toString())}else{r.push(t)}if(e.startColumn!==undefined&&e.startColumn!==null){r.push(e.startColumn.toString())}else{r.push(t)}if(e.endLineNumber!==undefined&&e.endLineNumber!==null){r.push(e.endLineNumber.toString())}else{r.push(t)}if(e.endColumn!==undefined&&e.endColumn!==null){r.push(e.endColumn.toString())}else{r.push(t)}r.push(t);return r.join("¦")}e.makeKeyOptionalMessage=r})(a||(a={}));const l=(0,s.createDecorator)("markerService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>s});var r=n(14);var i;(function(e){e[e["Ignore"]=0]="Ignore";e[e["Info"]=1]="Info";e[e["Warning"]=2]="Warning";e[e["Error"]=3]="Error"})(i||(i={}));(function(e){const t="error";const n="warning";const i="warn";const s="info";const o="ignore";function a(o){if(!o){return e.Ignore}if(r.equalsIgnoreCase(t,o)){return e.Error}if(r.equalsIgnoreCase(n,o)||r.equalsIgnoreCase(i,o)){return e.Warning}if(r.equalsIgnoreCase(s,o)){return e.Info}return e.Ignore}e.fromValue=a;function l(r){switch(r){case e.Error:return t;case e.Warning:return n;case e.Info:return s;default:return o}}e.toString=l})(i||(i={}));const s=i},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Extensions:()=>h,IThemeService:()=>l,Themable:()=>m,getThemeTypeSelector:()=>u,registerThemingParticipant:()=>f,themeColorFromId:()=>c});var r=n(3);var i=n(5);var s=n(82);var o=n(87);var a=n(126);const l=(0,s.createDecorator)("themeService");function c(e){return{id:e}}function u(e){switch(e){case a.ColorScheme.DARK:return"vs-dark";case a.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case a.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const h={ThemingContribution:"base.contributions.theming"};class d{constructor(){this.themingParticipants=[];this.themingParticipants=[];this.onThemingParticipantAddedEmitter=new r.Emitter}onColorThemeChange(e){this.themingParticipants.push(e);this.onThemingParticipantAddedEmitter.fire(e);return(0,i.toDisposable)(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const g=new d;o.Registry.add(h.ThemingContribution,g);function f(e){return g.onColorThemeChange(e)}class m extends i.Disposable{constructor(e){super();this.themeService=e;this.theme=e.getColorTheme();this._register(this.themeService.onDidColorThemeChange(e=>this.onThemeChange(e)))}onThemeChange(e){this.theme=e;this.updateStyles()}updateStyles(){}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ColorScheme:()=>r,isDark:()=>s,isHighContrast:()=>i});var r;(function(e){e["DARK"]="dark";e["LIGHT"]="light";e["HIGH_CONTRAST_DARK"]="hcDark";e["HIGH_CONTRAST_LIGHT"]="hcLight"})(r||(r={}));function i(e){return e===r.HIGH_CONTRAST_DARK||e===r.HIGH_CONTRAST_LIGHT}function s(e){return e===r.DARK||e===r.HIGH_CONTRAST_DARK}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{deprecatedEditorActiveIndentGuides:()=>L,deprecatedEditorIndentGuides:()=>k,editorActiveIndentGuide1:()=>T,editorActiveIndentGuide2:()=>N,editorActiveIndentGuide3:()=>B,editorActiveIndentGuide4:()=>R,editorActiveIndentGuide5:()=>A,editorActiveIndentGuide6:()=>O,editorActiveLineNumber:()=>F,editorBracketHighlightingForeground1:()=>te,editorBracketHighlightingForeground2:()=>ne,editorBracketHighlightingForeground3:()=>re,editorBracketHighlightingForeground4:()=>ie,editorBracketHighlightingForeground5:()=>se,editorBracketHighlightingForeground6:()=>oe,editorBracketHighlightingUnexpectedBracketForeground:()=>ae,editorBracketMatchBackground:()=>q,editorBracketMatchBorder:()=>H,editorBracketPairGuideActiveBackground1:()=>fe,editorBracketPairGuideActiveBackground2:()=>me,editorBracketPairGuideActiveBackground3:()=>pe,editorBracketPairGuideActiveBackground4:()=>_e,editorBracketPairGuideActiveBackground5:()=>be,editorBracketPairGuideActiveBackground6:()=>Ce,editorBracketPairGuideBackground1:()=>le,editorBracketPairGuideBackground2:()=>ce,editorBracketPairGuideBackground3:()=>ue,editorBracketPairGuideBackground4:()=>he,editorBracketPairGuideBackground5:()=>de,editorBracketPairGuideBackground6:()=>ge,editorCodeLensForeground:()=>z,editorCursorBackground:()=>f,editorCursorForeground:()=>g,editorDimmedLineNumber:()=>M,editorGutter:()=>U,editorIndentGuide1:()=>S,editorIndentGuide2:()=>w,editorIndentGuide3:()=>y,editorIndentGuide4:()=>E,editorIndentGuide5:()=>I,editorIndentGuide6:()=>x,editorLineHighlight:()=>a,editorLineHighlightBorder:()=>l,editorLineNumbers:()=>v,editorMultiCursorPrimaryBackground:()=>p,editorMultiCursorPrimaryForeground:()=>m,editorMultiCursorSecondaryBackground:()=>b,editorMultiCursorSecondaryForeground:()=>_,editorOverviewRulerBackground:()=>W,editorOverviewRulerBorder:()=>V,editorRangeHighlight:()=>c,editorRangeHighlightBorder:()=>u,editorRuler:()=>P,editorSymbolHighlight:()=>h,editorSymbolHighlightBorder:()=>d,editorUnicodeHighlightBackground:()=>ke,editorUnicodeHighlightBorder:()=>ve,editorUnnecessaryCodeBorder:()=>K,editorUnnecessaryCodeOpacity:()=>j,editorWhitespaces:()=>C,ghostTextBackground:()=>Q,ghostTextBorder:()=>$,ghostTextForeground:()=>G,overviewRulerError:()=>Z,overviewRulerInfo:()=>ee,overviewRulerRangeHighlight:()=>Y,overviewRulerWarning:()=>J});var r=n(11);var i=n(72);var s=n(128);var o=n(125);const a=(0,s.registerColor)("editor.lineHighlightBackground",null,r.localize("lineHighlight","Background color for the highlight of line at the cursor position."));const l=(0,s.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:s.contrastBorder},r.localize("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));const c=(0,s.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},r.localize("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),true);const u=(0,s.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:s.activeContrastBorder,hcLight:s.activeContrastBorder},r.localize("rangeHighlightBorder","Background color of the border around highlighted ranges."));const h=(0,s.registerColor)("editor.symbolHighlightBackground",{dark:s.editorFindMatchHighlight,light:s.editorFindMatchHighlight,hcDark:null,hcLight:null},r.localize("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),true);const d=(0,s.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:s.activeContrastBorder,hcLight:s.activeContrastBorder},r.localize("symbolHighlightBorder","Background color of the border around highlighted symbols."));const g=(0,s.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:i.Color.black,hcDark:i.Color.white,hcLight:"#0F4A85"},r.localize("caret","Color of the editor cursor."));const f=(0,s.registerColor)("editorCursor.background",null,r.localize("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor."));const m=(0,s.registerColor)("editorMultiCursor.primary.foreground",g,r.localize("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present."));const p=(0,s.registerColor)("editorMultiCursor.primary.background",f,r.localize("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor."));const _=(0,s.registerColor)("editorMultiCursor.secondary.foreground",g,r.localize("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present."));const b=(0,s.registerColor)("editorMultiCursor.secondary.background",f,r.localize("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor."));const C=(0,s.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},r.localize("editorWhitespaces","Color of whitespace characters in the editor."));const v=(0,s.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:i.Color.white,hcLight:"#292929"},r.localize("editorLineNumbers","Color of editor line numbers."));const k=(0,s.registerColor)("editorIndentGuide.background",C,r.localize("editorIndentGuides","Color of the editor indentation guides."),false,r.localize("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead."));const L=(0,s.registerColor)("editorIndentGuide.activeBackground",C,r.localize("editorActiveIndentGuide","Color of the active editor indentation guides."),false,r.localize("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead."));const S=(0,s.registerColor)("editorIndentGuide.background1",k,r.localize("editorIndentGuides1","Color of the editor indentation guides (1)."));const w=(0,s.registerColor)("editorIndentGuide.background2","#00000000",r.localize("editorIndentGuides2","Color of the editor indentation guides (2)."));const y=(0,s.registerColor)("editorIndentGuide.background3","#00000000",r.localize("editorIndentGuides3","Color of the editor indentation guides (3)."));const E=(0,s.registerColor)("editorIndentGuide.background4","#00000000",r.localize("editorIndentGuides4","Color of the editor indentation guides (4)."));const I=(0,s.registerColor)("editorIndentGuide.background5","#00000000",r.localize("editorIndentGuides5","Color of the editor indentation guides (5)."));const x=(0,s.registerColor)("editorIndentGuide.background6","#00000000",r.localize("editorIndentGuides6","Color of the editor indentation guides (6)."));const T=(0,s.registerColor)("editorIndentGuide.activeBackground1",L,r.localize("editorActiveIndentGuide1","Color of the active editor indentation guides (1)."));const N=(0,s.registerColor)("editorIndentGuide.activeBackground2","#00000000",r.localize("editorActiveIndentGuide2","Color of the active editor indentation guides (2)."));const B=(0,s.registerColor)("editorIndentGuide.activeBackground3","#00000000",r.localize("editorActiveIndentGuide3","Color of the active editor indentation guides (3)."));const R=(0,s.registerColor)("editorIndentGuide.activeBackground4","#00000000",r.localize("editorActiveIndentGuide4","Color of the active editor indentation guides (4)."));const A=(0,s.registerColor)("editorIndentGuide.activeBackground5","#00000000",r.localize("editorActiveIndentGuide5","Color of the active editor indentation guides (5)."));const O=(0,s.registerColor)("editorIndentGuide.activeBackground6","#00000000",r.localize("editorActiveIndentGuide6","Color of the active editor indentation guides (6)."));const D=(0,s.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:s.activeContrastBorder,hcLight:s.activeContrastBorder},r.localize("editorActiveLineNumber","Color of editor active line number"),false,r.localize("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));const F=(0,s.registerColor)("editorLineNumber.activeForeground",D,r.localize("editorActiveLineNumber","Color of editor active line number"));const M=(0,s.registerColor)("editorLineNumber.dimmedForeground",null,r.localize("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));const P=(0,s.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:i.Color.lightgrey,hcDark:i.Color.white,hcLight:"#292929"},r.localize("editorRuler","Color of the editor rulers."));const z=(0,s.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},r.localize("editorCodeLensForeground","Foreground color of editor CodeLens"));const q=(0,s.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},r.localize("editorBracketMatchBackground","Background color behind matching brackets"));const H=(0,s.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:s.contrastBorder,hcLight:s.contrastBorder},r.localize("editorBracketMatchBorder","Color for matching brackets boxes"));const V=(0,s.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},r.localize("editorOverviewRulerBorder","Color of the overview ruler border."));const W=(0,s.registerColor)("editorOverviewRuler.background",null,r.localize("editorOverviewRulerBackground","Background color of the editor overview ruler."));const U=(0,s.registerColor)("editorGutter.background",s.editorBackground,r.localize("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));const K=(0,s.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:i.Color.fromHex("#fff").transparent(.8),hcLight:s.contrastBorder},r.localize("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));const j=(0,s.registerColor)("editorUnnecessaryCode.opacity",{dark:i.Color.fromHex("#000a"),light:i.Color.fromHex("#0007"),hcDark:null,hcLight:null},r.localize("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."));const $=(0,s.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:i.Color.fromHex("#fff").transparent(.8),hcLight:i.Color.fromHex("#292929").transparent(.8)},r.localize("editorGhostTextBorder","Border color of ghost text in the editor."));const G=(0,s.registerColor)("editorGhostText.foreground",{dark:i.Color.fromHex("#ffffff56"),light:i.Color.fromHex("#0007"),hcDark:null,hcLight:null},r.localize("editorGhostTextForeground","Foreground color of the ghost text in the editor."));const Q=(0,s.registerColor)("editorGhostText.background",null,r.localize("editorGhostTextBackground","Background color of the ghost text in the editor."));const X=new i.Color(new i.RGBA(0,122,204,.6));const Y=(0,s.registerColor)("editorOverviewRuler.rangeHighlightForeground",X,r.localize("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),true);const Z=(0,s.registerColor)("editorOverviewRuler.errorForeground",{dark:new i.Color(new i.RGBA(255,18,18,.7)),light:new i.Color(new i.RGBA(255,18,18,.7)),hcDark:new i.Color(new i.RGBA(255,50,50,1)),hcLight:"#B5200D"},r.localize("overviewRuleError","Overview ruler marker color for errors."));const J=(0,s.registerColor)("editorOverviewRuler.warningForeground",{dark:s.editorWarningForeground,light:s.editorWarningForeground,hcDark:s.editorWarningBorder,hcLight:s.editorWarningBorder},r.localize("overviewRuleWarning","Overview ruler marker color for warnings."));const ee=(0,s.registerColor)("editorOverviewRuler.infoForeground",{dark:s.editorInfoForeground,light:s.editorInfoForeground,hcDark:s.editorInfoBorder,hcLight:s.editorInfoBorder},r.localize("overviewRuleInfo","Overview ruler marker color for infos."));const te=(0,s.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},r.localize("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization."));const ne=(0,s.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},r.localize("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization."));const re=(0,s.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},r.localize("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization."));const ie=(0,s.registerColor)("editorBracketHighlight.foreground4","#00000000",r.localize("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization."));const se=(0,s.registerColor)("editorBracketHighlight.foreground5","#00000000",r.localize("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization."));const oe=(0,s.registerColor)("editorBracketHighlight.foreground6","#00000000",r.localize("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization."));const ae=(0,s.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new i.Color(new i.RGBA(255,18,18,.8)),light:new i.Color(new i.RGBA(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},r.localize("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets."));const le=(0,s.registerColor)("editorBracketPairGuide.background1","#00000000",r.localize("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides."));const ce=(0,s.registerColor)("editorBracketPairGuide.background2","#00000000",r.localize("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides."));const ue=(0,s.registerColor)("editorBracketPairGuide.background3","#00000000",r.localize("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides."));const he=(0,s.registerColor)("editorBracketPairGuide.background4","#00000000",r.localize("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides."));const de=(0,s.registerColor)("editorBracketPairGuide.background5","#00000000",r.localize("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides."));const ge=(0,s.registerColor)("editorBracketPairGuide.background6","#00000000",r.localize("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides."));const fe=(0,s.registerColor)("editorBracketPairGuide.activeBackground1","#00000000",r.localize("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides."));const me=(0,s.registerColor)("editorBracketPairGuide.activeBackground2","#00000000",r.localize("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides."));const pe=(0,s.registerColor)("editorBracketPairGuide.activeBackground3","#00000000",r.localize("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides."));const _e=(0,s.registerColor)("editorBracketPairGuide.activeBackground4","#00000000",r.localize("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides."));const be=(0,s.registerColor)("editorBracketPairGuide.activeBackground5","#00000000",r.localize("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides."));const Ce=(0,s.registerColor)("editorBracketPairGuide.activeBackground6","#00000000",r.localize("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));const ve=(0,s.registerColor)("editorUnicodeHighlight.border",s.editorWarningForeground,r.localize("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));const ke=(0,s.registerColor)("editorUnicodeHighlight.background",s.editorWarningBackground,r.localize("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,o.registerThemingParticipant)((e,t)=>{const n=e.getColor(s.editorBackground);const r=e.getColor(a);const i=r&&!r.isTransparent()?r:n;if(i){t.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${i}; }`)}})},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DEFAULT_COLOR_CONFIG_VALUE:()=>r.DEFAULT_COLOR_CONFIG_VALUE,Extensions:()=>r.Extensions,_deprecatedQuickInputListFocusBackground:()=>d._deprecatedQuickInputListFocusBackground,activeContrastBorder:()=>i.activeContrastBorder,asCssVariable:()=>r.asCssVariable,asCssVariableName:()=>r.asCssVariableName,asCssVariableWithDefault:()=>r.asCssVariableWithDefault,badgeBackground:()=>h.badgeBackground,badgeForeground:()=>h.badgeForeground,breadcrumbsActiveSelectionForeground:()=>o.breadcrumbsActiveSelectionForeground,breadcrumbsBackground:()=>o.breadcrumbsBackground,breadcrumbsFocusForeground:()=>o.breadcrumbsFocusForeground,breadcrumbsForeground:()=>o.breadcrumbsForeground,breadcrumbsPickerBackground:()=>o.breadcrumbsPickerBackground,buttonBackground:()=>a.buttonBackground,buttonBorder:()=>a.buttonBorder,buttonForeground:()=>a.buttonForeground,buttonHoverBackground:()=>a.buttonHoverBackground,buttonSecondaryBackground:()=>a.buttonSecondaryBackground,buttonSecondaryForeground:()=>a.buttonSecondaryForeground,buttonSecondaryHoverBackground:()=>a.buttonSecondaryHoverBackground,buttonSeparator:()=>a.buttonSeparator,chartsBlue:()=>s.chartsBlue,chartsForeground:()=>s.chartsForeground,chartsGreen:()=>s.chartsGreen,chartsLines:()=>s.chartsLines,chartsOrange:()=>s.chartsOrange,chartsPurple:()=>s.chartsPurple,chartsRed:()=>s.chartsRed,chartsYellow:()=>s.chartsYellow,checkboxBackground:()=>a.checkboxBackground,checkboxBorder:()=>a.checkboxBorder,checkboxForeground:()=>a.checkboxForeground,checkboxSelectBackground:()=>a.checkboxSelectBackground,checkboxSelectBorder:()=>a.checkboxSelectBorder,contrastBorder:()=>i.contrastBorder,darken:()=>r.darken,defaultInsertColor:()=>o.defaultInsertColor,defaultRemoveColor:()=>o.defaultRemoveColor,descriptionForeground:()=>i.descriptionForeground,diffBorder:()=>o.diffBorder,diffDiagonalFill:()=>o.diffDiagonalFill,diffInserted:()=>o.diffInserted,diffInsertedLine:()=>o.diffInsertedLine,diffInsertedLineGutter:()=>o.diffInsertedLineGutter,diffInsertedOutline:()=>o.diffInsertedOutline,diffOverviewRulerInserted:()=>o.diffOverviewRulerInserted,diffOverviewRulerRemoved:()=>o.diffOverviewRulerRemoved,diffRemoved:()=>o.diffRemoved,diffRemovedLine:()=>o.diffRemovedLine,diffRemovedLineGutter:()=>o.diffRemovedLineGutter,diffRemovedOutline:()=>o.diffRemovedOutline,diffUnchangedRegionBackground:()=>o.diffUnchangedRegionBackground,diffUnchangedRegionForeground:()=>o.diffUnchangedRegionForeground,diffUnchangedTextBackground:()=>o.diffUnchangedTextBackground,disabledForeground:()=>i.disabledForeground,editorActionListBackground:()=>l.editorActionListBackground,editorActionListFocusBackground:()=>l.editorActionListFocusBackground,editorActionListFocusForeground:()=>l.editorActionListFocusForeground,editorActionListForeground:()=>l.editorActionListForeground,editorActiveLinkForeground:()=>o.editorActiveLinkForeground,editorBackground:()=>o.editorBackground,editorErrorBackground:()=>o.editorErrorBackground,editorErrorBorder:()=>o.editorErrorBorder,editorErrorForeground:()=>o.editorErrorForeground,editorFindMatch:()=>o.editorFindMatch,editorFindMatchBorder:()=>o.editorFindMatchBorder,editorFindMatchForeground:()=>o.editorFindMatchForeground,editorFindMatchHighlight:()=>o.editorFindMatchHighlight,editorFindMatchHighlightBorder:()=>o.editorFindMatchHighlightBorder,editorFindMatchHighlightForeground:()=>o.editorFindMatchHighlightForeground,editorFindRangeHighlight:()=>o.editorFindRangeHighlight,editorFindRangeHighlightBorder:()=>o.editorFindRangeHighlightBorder,editorForeground:()=>o.editorForeground,editorHintBorder:()=>o.editorHintBorder,editorHintForeground:()=>o.editorHintForeground,editorHoverBackground:()=>o.editorHoverBackground,editorHoverBorder:()=>o.editorHoverBorder,editorHoverForeground:()=>o.editorHoverForeground,editorHoverHighlight:()=>o.editorHoverHighlight,editorHoverStatusBarBackground:()=>o.editorHoverStatusBarBackground,editorInactiveSelection:()=>o.editorInactiveSelection,editorInfoBackground:()=>o.editorInfoBackground,editorInfoBorder:()=>o.editorInfoBorder,editorInfoForeground:()=>o.editorInfoForeground,editorInlayHintBackground:()=>o.editorInlayHintBackground,editorInlayHintForeground:()=>o.editorInlayHintForeground,editorInlayHintParameterBackground:()=>o.editorInlayHintParameterBackground,editorInlayHintParameterForeground:()=>o.editorInlayHintParameterForeground,editorInlayHintTypeBackground:()=>o.editorInlayHintTypeBackground,editorInlayHintTypeForeground:()=>o.editorInlayHintTypeForeground,editorLightBulbAiForeground:()=>o.editorLightBulbAiForeground,editorLightBulbAutoFixForeground:()=>o.editorLightBulbAutoFixForeground,editorLightBulbForeground:()=>o.editorLightBulbForeground,editorSelectionBackground:()=>o.editorSelectionBackground,editorSelectionForeground:()=>o.editorSelectionForeground,editorSelectionHighlight:()=>o.editorSelectionHighlight,editorSelectionHighlightBorder:()=>o.editorSelectionHighlightBorder,editorStickyScrollBackground:()=>o.editorStickyScrollBackground,editorStickyScrollBorder:()=>o.editorStickyScrollBorder,editorStickyScrollHoverBackground:()=>o.editorStickyScrollHoverBackground,editorStickyScrollShadow:()=>o.editorStickyScrollShadow,editorWarningBackground:()=>o.editorWarningBackground,editorWarningBorder:()=>o.editorWarningBorder,editorWarningForeground:()=>o.editorWarningForeground,editorWidgetBackground:()=>o.editorWidgetBackground,editorWidgetBorder:()=>o.editorWidgetBorder,editorWidgetForeground:()=>o.editorWidgetForeground,editorWidgetResizeBorder:()=>o.editorWidgetResizeBorder,errorForeground:()=>i.errorForeground,executeTransform:()=>r.executeTransform,focusBorder:()=>i.focusBorder,foreground:()=>i.foreground,iconForeground:()=>i.iconForeground,ifDefinedThenElse:()=>r.ifDefinedThenElse,inputActiveOptionBackground:()=>a.inputActiveOptionBackground,inputActiveOptionBorder:()=>a.inputActiveOptionBorder,inputActiveOptionForeground:()=>a.inputActiveOptionForeground,inputActiveOptionHoverBackground:()=>a.inputActiveOptionHoverBackground,inputBackground:()=>a.inputBackground,inputBorder:()=>a.inputBorder,inputForeground:()=>a.inputForeground,inputPlaceholderForeground:()=>a.inputPlaceholderForeground,inputValidationErrorBackground:()=>a.inputValidationErrorBackground,inputValidationErrorBorder:()=>a.inputValidationErrorBorder,inputValidationErrorForeground:()=>a.inputValidationErrorForeground,inputValidationInfoBackground:()=>a.inputValidationInfoBackground,inputValidationInfoBorder:()=>a.inputValidationInfoBorder,inputValidationInfoForeground:()=>a.inputValidationInfoForeground,inputValidationWarningBackground:()=>a.inputValidationWarningBackground,inputValidationWarningBorder:()=>a.inputValidationWarningBorder,inputValidationWarningForeground:()=>a.inputValidationWarningForeground,isColorDefaults:()=>r.isColorDefaults,keybindingLabelBackground:()=>a.keybindingLabelBackground,keybindingLabelBorder:()=>a.keybindingLabelBorder,keybindingLabelBottomBorder:()=>a.keybindingLabelBottomBorder,keybindingLabelForeground:()=>a.keybindingLabelForeground,lessProminent:()=>r.lessProminent,lighten:()=>r.lighten,listActiveSelectionBackground:()=>l.listActiveSelectionBackground,listActiveSelectionForeground:()=>l.listActiveSelectionForeground,listActiveSelectionIconForeground:()=>l.listActiveSelectionIconForeground,listDeemphasizedForeground:()=>l.listDeemphasizedForeground,listDropBetweenBackground:()=>l.listDropBetweenBackground,listDropOverBackground:()=>l.listDropOverBackground,listErrorForeground:()=>l.listErrorForeground,listFilterMatchHighlight:()=>l.listFilterMatchHighlight,listFilterMatchHighlightBorder:()=>l.listFilterMatchHighlightBorder,listFilterWidgetBackground:()=>l.listFilterWidgetBackground,listFilterWidgetNoMatchesOutline:()=>l.listFilterWidgetNoMatchesOutline,listFilterWidgetOutline:()=>l.listFilterWidgetOutline,listFilterWidgetShadow:()=>l.listFilterWidgetShadow,listFocusAndSelectionOutline:()=>l.listFocusAndSelectionOutline,listFocusBackground:()=>l.listFocusBackground,listFocusForeground:()=>l.listFocusForeground,listFocusHighlightForeground:()=>l.listFocusHighlightForeground,listFocusOutline:()=>l.listFocusOutline,listHighlightForeground:()=>l.listHighlightForeground,listHoverBackground:()=>l.listHoverBackground,listHoverForeground:()=>l.listHoverForeground,listInactiveFocusBackground:()=>l.listInactiveFocusBackground,listInactiveFocusOutline:()=>l.listInactiveFocusOutline,listInactiveSelectionBackground:()=>l.listInactiveSelectionBackground,listInactiveSelectionForeground:()=>l.listInactiveSelectionForeground,listInactiveSelectionIconForeground:()=>l.listInactiveSelectionIconForeground,listInvalidItemForeground:()=>l.listInvalidItemForeground,listWarningForeground:()=>l.listWarningForeground,menuBackground:()=>c.menuBackground,menuBorder:()=>c.menuBorder,menuForeground:()=>c.menuForeground,menuSelectionBackground:()=>c.menuSelectionBackground,menuSelectionBorder:()=>c.menuSelectionBorder,menuSelectionForeground:()=>c.menuSelectionForeground,menuSeparatorBackground:()=>c.menuSeparatorBackground,mergeBorder:()=>o.mergeBorder,mergeCommonContentBackground:()=>o.mergeCommonContentBackground,mergeCommonHeaderBackground:()=>o.mergeCommonHeaderBackground,mergeCurrentContentBackground:()=>o.mergeCurrentContentBackground,mergeCurrentHeaderBackground:()=>o.mergeCurrentHeaderBackground,mergeIncomingContentBackground:()=>o.mergeIncomingContentBackground,mergeIncomingHeaderBackground:()=>o.mergeIncomingHeaderBackground,minimapBackground:()=>u.minimapBackground,minimapError:()=>u.minimapError,minimapFindMatch:()=>u.minimapFindMatch,minimapForegroundOpacity:()=>u.minimapForegroundOpacity,minimapInfo:()=>u.minimapInfo,minimapSelection:()=>u.minimapSelection,minimapSelectionOccurrenceHighlight:()=>u.minimapSelectionOccurrenceHighlight,minimapSliderActiveBackground:()=>u.minimapSliderActiveBackground,minimapSliderBackground:()=>u.minimapSliderBackground,minimapSliderHoverBackground:()=>u.minimapSliderHoverBackground,minimapWarning:()=>u.minimapWarning,oneOf:()=>r.oneOf,overviewRulerCommonContentForeground:()=>o.overviewRulerCommonContentForeground,overviewRulerCurrentContentForeground:()=>o.overviewRulerCurrentContentForeground,overviewRulerFindMatchForeground:()=>o.overviewRulerFindMatchForeground,overviewRulerIncomingContentForeground:()=>o.overviewRulerIncomingContentForeground,overviewRulerSelectionHighlightForeground:()=>o.overviewRulerSelectionHighlightForeground,pickerGroupBorder:()=>d.pickerGroupBorder,pickerGroupForeground:()=>d.pickerGroupForeground,problemsErrorIconForeground:()=>o.problemsErrorIconForeground,problemsInfoIconForeground:()=>o.problemsInfoIconForeground,problemsWarningIconForeground:()=>o.problemsWarningIconForeground,progressBarBackground:()=>h.progressBarBackground,quickInputBackground:()=>d.quickInputBackground,quickInputForeground:()=>d.quickInputForeground,quickInputListFocusBackground:()=>d.quickInputListFocusBackground,quickInputListFocusForeground:()=>d.quickInputListFocusForeground,quickInputListFocusIconForeground:()=>d.quickInputListFocusIconForeground,quickInputTitleBackground:()=>d.quickInputTitleBackground,radioActiveBackground:()=>a.radioActiveBackground,radioActiveBorder:()=>a.radioActiveBorder,radioActiveForeground:()=>a.radioActiveForeground,radioInactiveBackground:()=>a.radioInactiveBackground,radioInactiveBorder:()=>a.radioInactiveBorder,radioInactiveForeground:()=>a.radioInactiveForeground,radioInactiveHoverBackground:()=>a.radioInactiveHoverBackground,registerColor:()=>r.registerColor,resolveColorValue:()=>r.resolveColorValue,sashHoverBorder:()=>h.sashHoverBorder,scrollbarShadow:()=>h.scrollbarShadow,scrollbarSliderActiveBackground:()=>h.scrollbarSliderActiveBackground,scrollbarSliderBackground:()=>h.scrollbarSliderBackground,scrollbarSliderHoverBackground:()=>h.scrollbarSliderHoverBackground,searchEditorFindMatch:()=>g.searchEditorFindMatch,searchEditorFindMatchBorder:()=>g.searchEditorFindMatchBorder,searchResultsInfoForeground:()=>g.searchResultsInfoForeground,selectBackground:()=>a.selectBackground,selectBorder:()=>a.selectBorder,selectForeground:()=>a.selectForeground,selectListBackground:()=>a.selectListBackground,selectionBackground:()=>i.selectionBackground,snippetFinalTabstopHighlightBackground:()=>o.snippetFinalTabstopHighlightBackground,snippetFinalTabstopHighlightBorder:()=>o.snippetFinalTabstopHighlightBorder,snippetTabstopHighlightBackground:()=>o.snippetTabstopHighlightBackground,snippetTabstopHighlightBorder:()=>o.snippetTabstopHighlightBorder,tableColumnsBorder:()=>l.tableColumnsBorder,tableOddRowsBackgroundColor:()=>l.tableOddRowsBackgroundColor,textBlockQuoteBackground:()=>i.textBlockQuoteBackground,textBlockQuoteBorder:()=>i.textBlockQuoteBorder,textCodeBlockBackground:()=>i.textCodeBlockBackground,textLinkActiveForeground:()=>i.textLinkActiveForeground,textLinkForeground:()=>i.textLinkForeground,textPreformatBackground:()=>i.textPreformatBackground,textPreformatForeground:()=>i.textPreformatForeground,textSeparatorForeground:()=>i.textSeparatorForeground,toolbarActiveBackground:()=>o.toolbarActiveBackground,toolbarHoverBackground:()=>o.toolbarHoverBackground,toolbarHoverOutline:()=>o.toolbarHoverOutline,transparent:()=>r.transparent,treeInactiveIndentGuidesStroke:()=>l.treeInactiveIndentGuidesStroke,treeIndentGuidesStroke:()=>l.treeIndentGuidesStroke,widgetBorder:()=>o.widgetBorder,widgetShadow:()=>o.widgetShadow,workbenchColorsSchemaId:()=>r.workbenchColorsSchemaId});var r=n(129);var i=n(130);var s=n(131);var o=n(132);var a=n(135);var l=n(136);var c=n(137);var u=n(134);var h=n(133);var d=n(138);var g=n(139)},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DEFAULT_COLOR_CONFIG_VALUE:()=>m,Extensions:()=>f,asCssVariable:()=>h,asCssVariableName:()=>u,asCssVariableWithDefault:()=>d,darken:()=>v,executeTransform:()=>C,ifDefinedThenElse:()=>w,isColorDefaults:()=>g,lessProminent:()=>y,lighten:()=>k,oneOf:()=>S,registerColor:()=>b,resolveColorValue:()=>E,transparent:()=>L,workbenchColorsSchemaId:()=>I});var r=n(49);var i=n(76);var s=n(72);var o=n(3);var a=n(91);var l=n(87);var c=n(11);function u(e){return`--vscode-${e.replace(/\./g,"-")}`}function h(e){return`var(${u(e)})`}function d(e,t){return`var(${u(e)}, ${t})`}function g(e){return e!==null&&typeof e==="object"&&"light"in e&&"dark"in e}const f={ColorContribution:"base.contributions.colors"};const m="default";class p{constructor(){this._onDidChangeSchema=new o.Emitter;this.onDidChangeSchema=this._onDidChangeSchema.event;this.colorSchema={type:"object",properties:{}};this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};this.colorsById={}}registerColor(e,t,n,r=false,i){const s={id:e,description:n,defaults:t,needsTransparency:r,deprecationMessage:i};this.colorsById[e]=s;const o={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};if(i){o.deprecationMessage=i}if(r){o.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$";o.patternErrorMessage=c.localize("transparecyRequired","This color must be transparent or it will obscure content")}this.colorSchema.properties[e]={description:n,oneOf:[o,{type:"string",const:m,description:c.localize("useDefault","Use the default color.")}]};this.colorReferenceSchema.enum.push(e);this.colorReferenceSchema.enumDescriptions.push(n);this._onDidChangeSchema.fire();return e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const n=this.colorsById[e];if(n?.defaults){const e=g(n.defaults)?n.defaults[t.type]:n.defaults;return E(e,t)}return undefined}getColorSchema(){return this.colorSchema}toString(){const e=(e,t)=>{const n=e.indexOf(".")===-1?0:1;const r=t.indexOf(".")===-1?0:1;if(n!==r){return n-r}return e.localeCompare(t)};return Object.keys(this.colorsById).sort(e).map(e=>`- \`${e}\`: ${this.colorsById[e].description}`).join("\n")}}const _=new p;l.Registry.add(f.ColorContribution,_);function b(e,t,n,r,i){return _.registerColor(e,t,n,r,i)}function C(e,t){switch(e.op){case 0:return E(e.value,t)?.darken(e.factor);case 1:return E(e.value,t)?.lighten(e.factor);case 2:return E(e.value,t)?.transparent(e.factor);case 3:{const n=E(e.background,t);if(!n){return E(e.value,t)}return E(e.value,t)?.makeOpaque(n)}case 4:for(const n of e.values){const e=E(n,t);if(e){return e}}return undefined;case 6:return E(t.defines(e.if)?e.then:e.else,t);case 5:{const n=E(e.value,t);if(!n){return undefined}const r=E(e.background,t);if(!r){return n.transparent(e.factor*e.transparency)}return n.isDarkerThan(r)?s.Color.getLighterColor(n,r,e.factor).transparent(e.transparency):s.Color.getDarkerColor(n,r,e.factor).transparent(e.transparency)}default:throw(0,r.assertNever)(e)}}function v(e,t){return{op:0,value:e,factor:t}}function k(e,t){return{op:1,value:e,factor:t}}function L(e,t){return{op:2,value:e,factor:t}}function S(...e){return{op:4,values:e}}function w(e,t,n){return{op:6,if:e,then:t,else:n}}function y(e,t,n,r){return{op:5,value:e,background:t,factor:n,transparency:r}}function E(e,t){if(e===null){return undefined}else if(typeof e==="string"){if(e[0]==="#"){return s.Color.fromHex(e)}return t.getColor(e)}else if(e instanceof s.Color){return e}else if(typeof e==="object"){return C(e,t)}return undefined}const I="vscode://schemas/workbench-colors";const x=l.Registry.as(a.Extensions.JSONContribution);x.registerSchema(I,_.getColorSchema());const T=new i.RunOnceScheduler(()=>x.notifySchemaChanged(I),200);_.onDidChangeSchema(()=>{if(!T.isScheduled()){T.schedule()}})},(e,t,n)=>{"use strict";n.r(t);n.d(t,{activeContrastBorder:()=>g,contrastBorder:()=>d,descriptionForeground:()=>c,disabledForeground:()=>a,errorForeground:()=>l,focusBorder:()=>h,foreground:()=>o,iconForeground:()=>u,selectionBackground:()=>f,textBlockQuoteBackground:()=>v,textBlockQuoteBorder:()=>k,textCodeBlockBackground:()=>L,textLinkActiveForeground:()=>p,textLinkForeground:()=>m,textPreformatBackground:()=>C,textPreformatForeground:()=>b,textSeparatorForeground:()=>_});var r=n(11);var i=n(72);var s=n(129);const o=(0,s.registerColor)("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},r.localize("foreground","Overall foreground color. This color is only used if not overridden by a component."));const a=(0,s.registerColor)("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},r.localize("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));const l=(0,s.registerColor)("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},r.localize("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));const c=(0,s.registerColor)("descriptionForeground",{light:"#717171",dark:(0,s.transparent)(o,.7),hcDark:(0,s.transparent)(o,.7),hcLight:(0,s.transparent)(o,.7)},r.localize("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const u=(0,s.registerColor)("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},r.localize("iconForeground","The default color for icons in the workbench."));const h=(0,s.registerColor)("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},r.localize("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component."));const d=(0,s.registerColor)("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},r.localize("contrastBorder","An extra border around elements to separate them from others for greater contrast."));const g=(0,s.registerColor)("contrastActiveBorder",{light:null,dark:null,hcDark:h,hcLight:h},r.localize("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));const f=(0,s.registerColor)("selection.background",null,r.localize("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));const m=(0,s.registerColor)("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},r.localize("textLinkForeground","Foreground color for links in text."));const p=(0,s.registerColor)("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},r.localize("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));const _=(0,s.registerColor)("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:i.Color.black,hcLight:"#292929"},r.localize("textSeparatorForeground","Color for text separators."));const b=(0,s.registerColor)("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},r.localize("textPreformatForeground","Foreground color for preformatted text segments."));const C=(0,s.registerColor)("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},r.localize("textPreformatBackground","Background color for preformatted text segments."));const v=(0,s.registerColor)("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},r.localize("textBlockQuoteBackground","Background color for block quotes in text."));const k=(0,s.registerColor)("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:i.Color.white,hcLight:"#292929"},r.localize("textBlockQuoteBorder","Border color for block quotes in text."));const L=(0,s.registerColor)("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:i.Color.black,hcLight:"#F2F2F2"},r.localize("textCodeBlockBackground","Background color for code blocks in text."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{chartsBlue:()=>h,chartsForeground:()=>l,chartsGreen:()=>f,chartsLines:()=>c,chartsOrange:()=>g,chartsPurple:()=>m,chartsRed:()=>u,chartsYellow:()=>d});var r=n(11);var i=n(129);var s=n(130);var o=n(132);var a=n(134);const l=(0,i.registerColor)("charts.foreground",s.foreground,r.localize("chartsForeground","The foreground color used in charts."));const c=(0,i.registerColor)("charts.lines",(0,i.transparent)(s.foreground,.5),r.localize("chartsLines","The color used for horizontal lines in charts."));const u=(0,i.registerColor)("charts.red",o.editorErrorForeground,r.localize("chartsRed","The red color used in chart visualizations."));const h=(0,i.registerColor)("charts.blue",o.editorInfoForeground,r.localize("chartsBlue","The blue color used in chart visualizations."));const d=(0,i.registerColor)("charts.yellow",o.editorWarningForeground,r.localize("chartsYellow","The yellow color used in chart visualizations."));const g=(0,i.registerColor)("charts.orange",a.minimapFindMatch,r.localize("chartsOrange","The orange color used in chart visualizations."));const f=(0,i.registerColor)("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},r.localize("chartsGreen","The green color used in chart visualizations."));const m=(0,i.registerColor)("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},r.localize("chartsPurple","The purple color used in chart visualizations."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{breadcrumbsActiveSelectionForeground:()=>Re,breadcrumbsBackground:()=>Ne,breadcrumbsFocusForeground:()=>Be,breadcrumbsForeground:()=>Te,breadcrumbsPickerBackground:()=>Ae,defaultInsertColor:()=>ae,defaultRemoveColor:()=>le,diffBorder:()=>Ce,diffDiagonalFill:()=>ve,diffInserted:()=>ce,diffInsertedLine:()=>he,diffInsertedLineGutter:()=>ge,diffInsertedOutline:()=>_e,diffOverviewRulerInserted:()=>me,diffOverviewRulerRemoved:()=>pe,diffRemoved:()=>ue,diffRemovedLine:()=>de,diffRemovedLineGutter:()=>fe,diffRemovedOutline:()=>be,diffUnchangedRegionBackground:()=>ke,diffUnchangedRegionForeground:()=>Le,diffUnchangedTextBackground:()=>Se,editorActiveLinkForeground:()=>T,editorBackground:()=>l,editorErrorBackground:()=>b,editorErrorBorder:()=>v,editorErrorForeground:()=>C,editorFindMatch:()=>D,editorFindMatchBorder:()=>q,editorFindMatchForeground:()=>F,editorFindMatchHighlight:()=>M,editorFindMatchHighlightBorder:()=>H,editorFindMatchHighlightForeground:()=>P,editorFindRangeHighlight:()=>z,editorFindRangeHighlightBorder:()=>V,editorForeground:()=>c,editorHintBorder:()=>x,editorHintForeground:()=>I,editorHoverBackground:()=>U,editorHoverBorder:()=>j,editorHoverForeground:()=>K,editorHoverHighlight:()=>W,editorHoverStatusBarBackground:()=>$,editorInactiveSelection:()=>R,editorInfoBackground:()=>w,editorInfoBorder:()=>E,editorInfoForeground:()=>y,editorInlayHintBackground:()=>Q,editorInlayHintForeground:()=>G,editorInlayHintParameterBackground:()=>J,editorInlayHintParameterForeground:()=>Z,editorInlayHintTypeBackground:()=>Y,editorInlayHintTypeForeground:()=>X,editorLightBulbAiForeground:()=>ne,editorLightBulbAutoFixForeground:()=>te,editorLightBulbForeground:()=>ee,editorSelectionBackground:()=>N,editorSelectionForeground:()=>B,editorSelectionHighlight:()=>A,editorSelectionHighlightBorder:()=>O,editorStickyScrollBackground:()=>u,editorStickyScrollBorder:()=>d,editorStickyScrollHoverBackground:()=>h,editorStickyScrollShadow:()=>g,editorWarningBackground:()=>k,editorWarningBorder:()=>S,editorWarningForeground:()=>L,editorWidgetBackground:()=>f,editorWidgetBorder:()=>p,editorWidgetForeground:()=>m,editorWidgetResizeBorder:()=>_,mergeBorder:()=>je,mergeCommonContentBackground:()=>Ke,mergeCommonHeaderBackground:()=>Ue,mergeCurrentContentBackground:()=>He,mergeCurrentHeaderBackground:()=>qe,mergeIncomingContentBackground:()=>We,mergeIncomingHeaderBackground:()=>Ve,overviewRulerCommonContentForeground:()=>Qe,overviewRulerCurrentContentForeground:()=>$e,overviewRulerFindMatchForeground:()=>Xe,overviewRulerIncomingContentForeground:()=>Ge,overviewRulerSelectionHighlightForeground:()=>Ye,problemsErrorIconForeground:()=>Ze,problemsInfoIconForeground:()=>et,problemsWarningIconForeground:()=>Je,snippetFinalTabstopHighlightBackground:()=>se,snippetFinalTabstopHighlightBorder:()=>oe,snippetTabstopHighlightBackground:()=>re,snippetTabstopHighlightBorder:()=>ie,toolbarActiveBackground:()=>xe,toolbarHoverBackground:()=>Ee,toolbarHoverOutline:()=>Ie,widgetBorder:()=>ye,widgetShadow:()=>we});var r=n(11);var i=n(72);var s=n(129);var o=n(130);var a=n(133);const l=(0,s.registerColor)("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:i.Color.black,hcLight:i.Color.white},r.localize("editorBackground","Editor background color."));const c=(0,s.registerColor)("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:i.Color.white,hcLight:o.foreground},r.localize("editorForeground","Editor default foreground color."));const u=(0,s.registerColor)("editorStickyScroll.background",l,r.localize("editorStickyScrollBackground","Background color of sticky scroll in the editor"));const h=(0,s.registerColor)("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:i.Color.fromHex("#0F4A85").transparent(.1)},r.localize("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));const d=(0,s.registerColor)("editorStickyScroll.border",{dark:null,light:null,hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("editorStickyScrollBorder","Border color of sticky scroll in the editor"));const g=(0,s.registerColor)("editorStickyScroll.shadow",a.scrollbarShadow,r.localize("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const f=(0,s.registerColor)("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:i.Color.white},r.localize("editorWidgetBackground","Background color of editor widgets, such as find/replace."));const m=(0,s.registerColor)("editorWidget.foreground",o.foreground,r.localize("editorWidgetForeground","Foreground color of editor widgets, such as find/replace."));const p=(0,s.registerColor)("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));const _=(0,s.registerColor)("editorWidget.resizeBorder",null,r.localize("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));const b=(0,s.registerColor)("editorError.background",null,r.localize("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),true);const C=(0,s.registerColor)("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},r.localize("editorError.foreground","Foreground color of error squigglies in the editor."));const v=(0,s.registerColor)("editorError.border",{dark:null,light:null,hcDark:i.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},r.localize("errorBorder","If set, color of double underlines for errors in the editor."));const k=(0,s.registerColor)("editorWarning.background",null,r.localize("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),true);const L=(0,s.registerColor)("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},r.localize("editorWarning.foreground","Foreground color of warning squigglies in the editor."));const S=(0,s.registerColor)("editorWarning.border",{dark:null,light:null,hcDark:i.Color.fromHex("#FFCC00").transparent(.8),hcLight:i.Color.fromHex("#FFCC00").transparent(.8)},r.localize("warningBorder","If set, color of double underlines for warnings in the editor."));const w=(0,s.registerColor)("editorInfo.background",null,r.localize("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),true);const y=(0,s.registerColor)("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},r.localize("editorInfo.foreground","Foreground color of info squigglies in the editor."));const E=(0,s.registerColor)("editorInfo.border",{dark:null,light:null,hcDark:i.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},r.localize("infoBorder","If set, color of double underlines for infos in the editor."));const I=(0,s.registerColor)("editorHint.foreground",{dark:i.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},r.localize("editorHint.foreground","Foreground color of hint squigglies in the editor."));const x=(0,s.registerColor)("editorHint.border",{dark:null,light:null,hcDark:i.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},r.localize("hintBorder","If set, color of double underlines for hints in the editor."));const T=(0,s.registerColor)("editorLink.activeForeground",{dark:"#4E94CE",light:i.Color.blue,hcDark:i.Color.cyan,hcLight:"#292929"},r.localize("activeLinkForeground","Color of active links."));const N=(0,s.registerColor)("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},r.localize("editorSelectionBackground","Color of the editor selection."));const B=(0,s.registerColor)("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:i.Color.white},r.localize("editorSelectionForeground","Color of the selected text for high contrast."));const R=(0,s.registerColor)("editor.inactiveSelectionBackground",{light:(0,s.transparent)(N,.5),dark:(0,s.transparent)(N,.5),hcDark:(0,s.transparent)(N,.7),hcLight:(0,s.transparent)(N,.5)},r.localize("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),true);const A=(0,s.registerColor)("editor.selectionHighlightBackground",{light:(0,s.lessProminent)(N,l,.3,.6),dark:(0,s.lessProminent)(N,l,.3,.6),hcDark:null,hcLight:null},r.localize("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),true);const O=(0,s.registerColor)("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},r.localize("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));const D=(0,s.registerColor)("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},r.localize("editorFindMatch","Color of the current search match."));const F=(0,s.registerColor)("editor.findMatchForeground",null,r.localize("editorFindMatchForeground","Text color of the current search match."));const M=(0,s.registerColor)("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},r.localize("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),true);const P=(0,s.registerColor)("editor.findMatchHighlightForeground",null,r.localize("findMatchHighlightForeground","Foreground color of the other search matches."),true);const z=(0,s.registerColor)("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},r.localize("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),true);const q=(0,s.registerColor)("editor.findMatchBorder",{light:null,dark:null,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},r.localize("editorFindMatchBorder","Border color of the current search match."));const H=(0,s.registerColor)("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},r.localize("findMatchHighlightBorder","Border color of the other search matches."));const V=(0,s.registerColor)("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:(0,s.transparent)(o.activeContrastBorder,.4),hcLight:(0,s.transparent)(o.activeContrastBorder,.4)},r.localize("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),true);const W=(0,s.registerColor)("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},r.localize("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),true);const U=(0,s.registerColor)("editorHoverWidget.background",f,r.localize("hoverBackground","Background color of the editor hover."));const K=(0,s.registerColor)("editorHoverWidget.foreground",m,r.localize("hoverForeground","Foreground color of the editor hover."));const j=(0,s.registerColor)("editorHoverWidget.border",p,r.localize("hoverBorder","Border color of the editor hover."));const $=(0,s.registerColor)("editorHoverWidget.statusBarBackground",{dark:(0,s.lighten)(U,.2),light:(0,s.darken)(U,.05),hcDark:f,hcLight:f},r.localize("statusBarBackground","Background color of the editor hover status bar."));const G=(0,s.registerColor)("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:i.Color.white,hcLight:i.Color.black},r.localize("editorInlayHintForeground","Foreground color of inline hints"));const Q=(0,s.registerColor)("editorInlayHint.background",{dark:(0,s.transparent)(a.badgeBackground,.1),light:(0,s.transparent)(a.badgeBackground,.1),hcDark:(0,s.transparent)(i.Color.white,.1),hcLight:(0,s.transparent)(a.badgeBackground,.1)},r.localize("editorInlayHintBackground","Background color of inline hints"));const X=(0,s.registerColor)("editorInlayHint.typeForeground",G,r.localize("editorInlayHintForegroundTypes","Foreground color of inline hints for types"));const Y=(0,s.registerColor)("editorInlayHint.typeBackground",Q,r.localize("editorInlayHintBackgroundTypes","Background color of inline hints for types"));const Z=(0,s.registerColor)("editorInlayHint.parameterForeground",G,r.localize("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters"));const J=(0,s.registerColor)("editorInlayHint.parameterBackground",Q,r.localize("editorInlayHintBackgroundParameter","Background color of inline hints for parameters"));const ee=(0,s.registerColor)("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},r.localize("editorLightBulbForeground","The color used for the lightbulb actions icon."));const te=(0,s.registerColor)("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},r.localize("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));const ne=(0,s.registerColor)("editorLightBulbAi.foreground",ee,r.localize("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));const re=(0,s.registerColor)("editor.snippetTabstopHighlightBackground",{dark:new i.Color(new i.RGBA(124,124,124,.3)),light:new i.Color(new i.RGBA(10,50,100,.2)),hcDark:new i.Color(new i.RGBA(124,124,124,.3)),hcLight:new i.Color(new i.RGBA(10,50,100,.2))},r.localize("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));const ie=(0,s.registerColor)("editor.snippetTabstopHighlightBorder",null,r.localize("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));const se=(0,s.registerColor)("editor.snippetFinalTabstopHighlightBackground",null,r.localize("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));const oe=(0,s.registerColor)("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new i.Color(new i.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},r.localize("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const ae=new i.Color(new i.RGBA(155,185,85,.2));const le=new i.Color(new i.RGBA(255,0,0,.2));const ce=(0,s.registerColor)("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},r.localize("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),true);const ue=(0,s.registerColor)("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},r.localize("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),true);const he=(0,s.registerColor)("diffEditor.insertedLineBackground",{dark:ae,light:ae,hcDark:null,hcLight:null},r.localize("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),true);const de=(0,s.registerColor)("diffEditor.removedLineBackground",{dark:le,light:le,hcDark:null,hcLight:null},r.localize("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),true);const ge=(0,s.registerColor)("diffEditorGutter.insertedLineBackground",null,r.localize("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));const fe=(0,s.registerColor)("diffEditorGutter.removedLineBackground",null,r.localize("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const me=(0,s.registerColor)("diffEditorOverview.insertedForeground",null,r.localize("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content."));const pe=(0,s.registerColor)("diffEditorOverview.removedForeground",null,r.localize("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));const _e=(0,s.registerColor)("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},r.localize("diffEditorInsertedOutline","Outline color for the text that got inserted."));const be=(0,s.registerColor)("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},r.localize("diffEditorRemovedOutline","Outline color for text that got removed."));const Ce=(0,s.registerColor)("diffEditor.border",{dark:null,light:null,hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("diffEditorBorder","Border color between the two text editors."));const ve=(0,s.registerColor)("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},r.localize("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));const ke=(0,s.registerColor)("diffEditor.unchangedRegionBackground","sideBar.background",r.localize("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));const Le=(0,s.registerColor)("diffEditor.unchangedRegionForeground","foreground",r.localize("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));const Se=(0,s.registerColor)("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},r.localize("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const we=(0,s.registerColor)("widget.shadow",{dark:(0,s.transparent)(i.Color.black,.36),light:(0,s.transparent)(i.Color.black,.16),hcDark:null,hcLight:null},r.localize("widgetShadow","Shadow color of widgets such as find/replace inside the editor."));const ye=(0,s.registerColor)("widget.border",{dark:null,light:null,hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("widgetBorder","Border color of widgets such as find/replace inside the editor."));const Ee=(0,s.registerColor)("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},r.localize("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));const Ie=(0,s.registerColor)("toolbar.hoverOutline",{dark:null,light:null,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},r.localize("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));const xe=(0,s.registerColor)("toolbar.activeBackground",{dark:(0,s.lighten)(Ee,.1),light:(0,s.darken)(Ee,.1),hcDark:null,hcLight:null},r.localize("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));const Te=(0,s.registerColor)("breadcrumb.foreground",(0,s.transparent)(o.foreground,.8),r.localize("breadcrumbsFocusForeground","Color of focused breadcrumb items."));const Ne=(0,s.registerColor)("breadcrumb.background",l,r.localize("breadcrumbsBackground","Background color of breadcrumb items."));const Be=(0,s.registerColor)("breadcrumb.focusForeground",{light:(0,s.darken)(o.foreground,.2),dark:(0,s.lighten)(o.foreground,.1),hcDark:(0,s.lighten)(o.foreground,.1),hcLight:(0,s.lighten)(o.foreground,.1)},r.localize("breadcrumbsFocusForeground","Color of focused breadcrumb items."));const Re=(0,s.registerColor)("breadcrumb.activeSelectionForeground",{light:(0,s.darken)(o.foreground,.2),dark:(0,s.lighten)(o.foreground,.1),hcDark:(0,s.lighten)(o.foreground,.1),hcLight:(0,s.lighten)(o.foreground,.1)},r.localize("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));const Ae=(0,s.registerColor)("breadcrumbPicker.background",f,r.localize("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const Oe=.5;const De=i.Color.fromHex("#40C8AE").transparent(Oe);const Fe=i.Color.fromHex("#40A6FF").transparent(Oe);const Me=i.Color.fromHex("#606060").transparent(.4);const Pe=.4;const ze=1;const qe=(0,s.registerColor)("merge.currentHeaderBackground",{dark:De,light:De,hcDark:null,hcLight:null},r.localize("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),true);const He=(0,s.registerColor)("merge.currentContentBackground",(0,s.transparent)(qe,Pe),r.localize("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),true);const Ve=(0,s.registerColor)("merge.incomingHeaderBackground",{dark:Fe,light:Fe,hcDark:null,hcLight:null},r.localize("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),true);const We=(0,s.registerColor)("merge.incomingContentBackground",(0,s.transparent)(Ve,Pe),r.localize("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),true);const Ue=(0,s.registerColor)("merge.commonHeaderBackground",{dark:Me,light:Me,hcDark:null,hcLight:null},r.localize("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),true);const Ke=(0,s.registerColor)("merge.commonContentBackground",(0,s.transparent)(Ue,Pe),r.localize("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),true);const je=(0,s.registerColor)("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},r.localize("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));const $e=(0,s.registerColor)("editorOverviewRuler.currentContentForeground",{dark:(0,s.transparent)(qe,ze),light:(0,s.transparent)(qe,ze),hcDark:je,hcLight:je},r.localize("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));const Ge=(0,s.registerColor)("editorOverviewRuler.incomingContentForeground",{dark:(0,s.transparent)(Ve,ze),light:(0,s.transparent)(Ve,ze),hcDark:je,hcLight:je},r.localize("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));const Qe=(0,s.registerColor)("editorOverviewRuler.commonContentForeground",{dark:(0,s.transparent)(Ue,ze),light:(0,s.transparent)(Ue,ze),hcDark:je,hcLight:je},r.localize("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const Xe=(0,s.registerColor)("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},r.localize("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),true);const Ye=(0,s.registerColor)("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",r.localize("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),true);const Ze=(0,s.registerColor)("problemsErrorIcon.foreground",C,r.localize("problemsErrorIconForeground","The color used for the problems error icon."));const Je=(0,s.registerColor)("problemsWarningIcon.foreground",L,r.localize("problemsWarningIconForeground","The color used for the problems warning icon."));const et=(0,s.registerColor)("problemsInfoIcon.foreground",y,r.localize("problemsInfoIconForeground","The color used for the problems info icon."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{badgeBackground:()=>l,badgeForeground:()=>c,progressBarBackground:()=>f,sashHoverBorder:()=>a,scrollbarShadow:()=>u,scrollbarSliderActiveBackground:()=>g,scrollbarSliderBackground:()=>h,scrollbarSliderHoverBackground:()=>d});var r=n(11);var i=n(72);var s=n(129);var o=n(130);const a=(0,s.registerColor)("sash.hoverBorder",o.focusBorder,r.localize("sashActiveBorder","Border color of active sashes."));const l=(0,s.registerColor)("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:i.Color.black,hcLight:"#0F4A85"},r.localize("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."));const c=(0,s.registerColor)("badge.foreground",{dark:i.Color.white,light:"#333",hcDark:i.Color.white,hcLight:i.Color.white},r.localize("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count."));const u=(0,s.registerColor)("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},r.localize("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled."));const h=(0,s.registerColor)("scrollbarSlider.background",{dark:i.Color.fromHex("#797979").transparent(.4),light:i.Color.fromHex("#646464").transparent(.4),hcDark:(0,s.transparent)(o.contrastBorder,.6),hcLight:(0,s.transparent)(o.contrastBorder,.4)},r.localize("scrollbarSliderBackground","Scrollbar slider background color."));const d=(0,s.registerColor)("scrollbarSlider.hoverBackground",{dark:i.Color.fromHex("#646464").transparent(.7),light:i.Color.fromHex("#646464").transparent(.7),hcDark:(0,s.transparent)(o.contrastBorder,.8),hcLight:(0,s.transparent)(o.contrastBorder,.8)},r.localize("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering."));const g=(0,s.registerColor)("scrollbarSlider.activeBackground",{dark:i.Color.fromHex("#BFBFBF").transparent(.4),light:i.Color.fromHex("#000000").transparent(.6),hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on."));const f=(0,s.registerColor)("progressBar.background",{dark:i.Color.fromHex("#0E70C0"),light:i.Color.fromHex("#0E70C0"),hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("progressBarBackground","Background color of the progress bar that can show for long running operations."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{minimapBackground:()=>f,minimapError:()=>g,minimapFindMatch:()=>l,minimapForegroundOpacity:()=>m,minimapInfo:()=>h,minimapSelection:()=>u,minimapSelectionOccurrenceHighlight:()=>c,minimapSliderActiveBackground:()=>b,minimapSliderBackground:()=>p,minimapSliderHoverBackground:()=>_,minimapWarning:()=>d});var r=n(11);var i=n(72);var s=n(129);var o=n(132);var a=n(133);const l=(0,s.registerColor)("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},r.localize("minimapFindMatchHighlight","Minimap marker color for find matches."),true);const c=(0,s.registerColor)("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},r.localize("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),true);const u=(0,s.registerColor)("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},r.localize("minimapSelectionHighlight","Minimap marker color for the editor selection."),true);const h=(0,s.registerColor)("minimap.infoHighlight",{dark:o.editorInfoForeground,light:o.editorInfoForeground,hcDark:o.editorInfoBorder,hcLight:o.editorInfoBorder},r.localize("minimapInfo","Minimap marker color for infos."));const d=(0,s.registerColor)("minimap.warningHighlight",{dark:o.editorWarningForeground,light:o.editorWarningForeground,hcDark:o.editorWarningBorder,hcLight:o.editorWarningBorder},r.localize("overviewRuleWarning","Minimap marker color for warnings."));const g=(0,s.registerColor)("minimap.errorHighlight",{dark:new i.Color(new i.RGBA(255,18,18,.7)),light:new i.Color(new i.RGBA(255,18,18,.7)),hcDark:new i.Color(new i.RGBA(255,50,50,1)),hcLight:"#B5200D"},r.localize("minimapError","Minimap marker color for errors."));const f=(0,s.registerColor)("minimap.background",null,r.localize("minimapBackground","Minimap background color."));const m=(0,s.registerColor)("minimap.foregroundOpacity",i.Color.fromHex("#000f"),r.localize("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));const p=(0,s.registerColor)("minimapSlider.background",(0,s.transparent)(a.scrollbarSliderBackground,.5),r.localize("minimapSliderBackground","Minimap slider background color."));const _=(0,s.registerColor)("minimapSlider.hoverBackground",(0,s.transparent)(a.scrollbarSliderHoverBackground,.5),r.localize("minimapSliderHoverBackground","Minimap slider background color when hovering."));const b=(0,s.registerColor)("minimapSlider.activeBackground",(0,s.transparent)(a.scrollbarSliderActiveBackground,.5),r.localize("minimapSliderActiveBackground","Minimap slider background color when clicked on."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{buttonBackground:()=>B,buttonBorder:()=>A,buttonForeground:()=>T,buttonHoverBackground:()=>R,buttonSecondaryBackground:()=>D,buttonSecondaryForeground:()=>O,buttonSecondaryHoverBackground:()=>F,buttonSeparator:()=>N,checkboxBackground:()=>U,checkboxBorder:()=>$,checkboxForeground:()=>j,checkboxSelectBackground:()=>K,checkboxSelectBorder:()=>G,inputActiveOptionBackground:()=>g,inputActiveOptionBorder:()=>h,inputActiveOptionForeground:()=>f,inputActiveOptionHoverBackground:()=>d,inputBackground:()=>l,inputBorder:()=>u,inputForeground:()=>c,inputPlaceholderForeground:()=>m,inputValidationErrorBackground:()=>L,inputValidationErrorBorder:()=>w,inputValidationErrorForeground:()=>S,inputValidationInfoBackground:()=>p,inputValidationInfoBorder:()=>b,inputValidationInfoForeground:()=>_,inputValidationWarningBackground:()=>C,inputValidationWarningBorder:()=>k,inputValidationWarningForeground:()=>v,keybindingLabelBackground:()=>Q,keybindingLabelBorder:()=>Y,keybindingLabelBottomBorder:()=>Z,keybindingLabelForeground:()=>X,radioActiveBackground:()=>P,radioActiveBorder:()=>z,radioActiveForeground:()=>M,radioInactiveBackground:()=>H,radioInactiveBorder:()=>V,radioInactiveForeground:()=>q,radioInactiveHoverBackground:()=>W,selectBackground:()=>y,selectBorder:()=>x,selectForeground:()=>I,selectListBackground:()=>E});var r=n(11);var i=n(72);var s=n(129);var o=n(130);var a=n(132);const l=(0,s.registerColor)("input.background",{dark:"#3C3C3C",light:i.Color.white,hcDark:i.Color.black,hcLight:i.Color.white},r.localize("inputBoxBackground","Input box background."));const c=(0,s.registerColor)("input.foreground",o.foreground,r.localize("inputBoxForeground","Input box foreground."));const u=(0,s.registerColor)("input.border",{dark:null,light:null,hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("inputBoxBorder","Input box border."));const h=(0,s.registerColor)("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("inputBoxActiveOptionBorder","Border color of activated options in input fields."));const d=(0,s.registerColor)("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},r.localize("inputOption.hoverBackground","Background color of activated options in input fields."));const g=(0,s.registerColor)("inputOption.activeBackground",{dark:(0,s.transparent)(o.focusBorder,.4),light:(0,s.transparent)(o.focusBorder,.2),hcDark:i.Color.transparent,hcLight:i.Color.transparent},r.localize("inputOption.activeBackground","Background hover color of options in input fields."));const f=(0,s.registerColor)("inputOption.activeForeground",{dark:i.Color.white,light:i.Color.black,hcDark:o.foreground,hcLight:o.foreground},r.localize("inputOption.activeForeground","Foreground color of activated options in input fields."));const m=(0,s.registerColor)("input.placeholderForeground",{light:(0,s.transparent)(o.foreground,.5),dark:(0,s.transparent)(o.foreground,.5),hcDark:(0,s.transparent)(o.foreground,.7),hcLight:(0,s.transparent)(o.foreground,.7)},r.localize("inputPlaceholderForeground","Input box foreground color for placeholder text."));const p=(0,s.registerColor)("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:i.Color.black,hcLight:i.Color.white},r.localize("inputValidationInfoBackground","Input validation background color for information severity."));const _=(0,s.registerColor)("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:o.foreground},r.localize("inputValidationInfoForeground","Input validation foreground color for information severity."));const b=(0,s.registerColor)("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("inputValidationInfoBorder","Input validation border color for information severity."));const C=(0,s.registerColor)("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:i.Color.black,hcLight:i.Color.white},r.localize("inputValidationWarningBackground","Input validation background color for warning severity."));const v=(0,s.registerColor)("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:o.foreground},r.localize("inputValidationWarningForeground","Input validation foreground color for warning severity."));const k=(0,s.registerColor)("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("inputValidationWarningBorder","Input validation border color for warning severity."));const L=(0,s.registerColor)("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:i.Color.black,hcLight:i.Color.white},r.localize("inputValidationErrorBackground","Input validation background color for error severity."));const S=(0,s.registerColor)("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:o.foreground},r.localize("inputValidationErrorForeground","Input validation foreground color for error severity."));const w=(0,s.registerColor)("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("inputValidationErrorBorder","Input validation border color for error severity."));const y=(0,s.registerColor)("dropdown.background",{dark:"#3C3C3C",light:i.Color.white,hcDark:i.Color.black,hcLight:i.Color.white},r.localize("dropdownBackground","Dropdown background."));const E=(0,s.registerColor)("dropdown.listBackground",{dark:null,light:null,hcDark:i.Color.black,hcLight:i.Color.white},r.localize("dropdownListBackground","Dropdown list background."));const I=(0,s.registerColor)("dropdown.foreground",{dark:"#F0F0F0",light:o.foreground,hcDark:i.Color.white,hcLight:o.foreground},r.localize("dropdownForeground","Dropdown foreground."));const x=(0,s.registerColor)("dropdown.border",{dark:y,light:"#CECECE",hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("dropdownBorder","Dropdown border."));const T=(0,s.registerColor)("button.foreground",i.Color.white,r.localize("buttonForeground","Button foreground color."));const N=(0,s.registerColor)("button.separator",(0,s.transparent)(T,.4),r.localize("buttonSeparator","Button separator color."));const B=(0,s.registerColor)("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},r.localize("buttonBackground","Button background color."));const R=(0,s.registerColor)("button.hoverBackground",{dark:(0,s.lighten)(B,.2),light:(0,s.darken)(B,.2),hcDark:B,hcLight:B},r.localize("buttonHoverBackground","Button background color when hovering."));const A=(0,s.registerColor)("button.border",o.contrastBorder,r.localize("buttonBorder","Button border color."));const O=(0,s.registerColor)("button.secondaryForeground",{dark:i.Color.white,light:i.Color.white,hcDark:i.Color.white,hcLight:o.foreground},r.localize("buttonSecondaryForeground","Secondary button foreground color."));const D=(0,s.registerColor)("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:i.Color.white},r.localize("buttonSecondaryBackground","Secondary button background color."));const F=(0,s.registerColor)("button.secondaryHoverBackground",{dark:(0,s.lighten)(D,.2),light:(0,s.darken)(D,.2),hcDark:null,hcLight:null},r.localize("buttonSecondaryHoverBackground","Secondary button background color when hovering."));const M=(0,s.registerColor)("radio.activeForeground",f,r.localize("radioActiveForeground","Foreground color of active radio option."));const P=(0,s.registerColor)("radio.activeBackground",g,r.localize("radioBackground","Background color of active radio option."));const z=(0,s.registerColor)("radio.activeBorder",h,r.localize("radioActiveBorder","Border color of the active radio option."));const q=(0,s.registerColor)("radio.inactiveForeground",null,r.localize("radioInactiveForeground","Foreground color of inactive radio option."));const H=(0,s.registerColor)("radio.inactiveBackground",null,r.localize("radioInactiveBackground","Background color of inactive radio option."));const V=(0,s.registerColor)("radio.inactiveBorder",{light:(0,s.transparent)(M,.2),dark:(0,s.transparent)(M,.2),hcDark:(0,s.transparent)(M,.4),hcLight:(0,s.transparent)(M,.2)},r.localize("radioInactiveBorder","Border color of the inactive radio option."));const W=(0,s.registerColor)("radio.inactiveHoverBackground",d,r.localize("radioHoverBackground","Background color of inactive active radio option when hovering."));const U=(0,s.registerColor)("checkbox.background",y,r.localize("checkbox.background","Background color of checkbox widget."));const K=(0,s.registerColor)("checkbox.selectBackground",a.editorWidgetBackground,r.localize("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const j=(0,s.registerColor)("checkbox.foreground",I,r.localize("checkbox.foreground","Foreground color of checkbox widget."));const $=(0,s.registerColor)("checkbox.border",x,r.localize("checkbox.border","Border color of checkbox widget."));const G=(0,s.registerColor)("checkbox.selectBorder",o.iconForeground,r.localize("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const Q=(0,s.registerColor)("keybindingLabel.background",{dark:new i.Color(new i.RGBA(128,128,128,.17)),light:new i.Color(new i.RGBA(221,221,221,.4)),hcDark:i.Color.transparent,hcLight:i.Color.transparent},r.localize("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut."));const X=(0,s.registerColor)("keybindingLabel.foreground",{dark:i.Color.fromHex("#CCCCCC"),light:i.Color.fromHex("#555555"),hcDark:i.Color.white,hcLight:o.foreground},r.localize("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut."));const Y=(0,s.registerColor)("keybindingLabel.border",{dark:new i.Color(new i.RGBA(51,51,51,.6)),light:new i.Color(new i.RGBA(204,204,204,.4)),hcDark:new i.Color(new i.RGBA(111,195,223)),hcLight:o.contrastBorder},r.localize("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut."));const Z=(0,s.registerColor)("keybindingLabel.bottomBorder",{dark:new i.Color(new i.RGBA(68,68,68,.6)),light:new i.Color(new i.RGBA(187,187,187,.4)),hcDark:new i.Color(new i.RGBA(111,195,223)),hcLight:o.foreground},r.localize("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{editorActionListBackground:()=>q,editorActionListFocusBackground:()=>W,editorActionListFocusForeground:()=>V,editorActionListForeground:()=>H,listActiveSelectionBackground:()=>d,listActiveSelectionForeground:()=>g,listActiveSelectionIconForeground:()=>f,listDeemphasizedForeground:()=>D,listDropBetweenBackground:()=>S,listDropOverBackground:()=>L,listErrorForeground:()=>I,listFilterMatchHighlight:()=>A,listFilterMatchHighlightBorder:()=>O,listFilterWidgetBackground:()=>T,listFilterWidgetNoMatchesOutline:()=>B,listFilterWidgetOutline:()=>N,listFilterWidgetShadow:()=>R,listFocusAndSelectionOutline:()=>h,listFocusBackground:()=>l,listFocusForeground:()=>c,listFocusHighlightForeground:()=>y,listFocusOutline:()=>u,listHighlightForeground:()=>w,listHoverBackground:()=>v,listHoverForeground:()=>k,listInactiveFocusBackground:()=>b,listInactiveFocusOutline:()=>C,listInactiveSelectionBackground:()=>m,listInactiveSelectionForeground:()=>p,listInactiveSelectionIconForeground:()=>_,listInvalidItemForeground:()=>E,listWarningForeground:()=>x,tableColumnsBorder:()=>P,tableOddRowsBackgroundColor:()=>z,treeInactiveIndentGuidesStroke:()=>M,treeIndentGuidesStroke:()=>F});var r=n(11);var i=n(72);var s=n(129);var o=n(130);var a=n(132);const l=(0,s.registerColor)("list.focusBackground",null,r.localize("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));const c=(0,s.registerColor)("list.focusForeground",null,r.localize("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));const u=(0,s.registerColor)("list.focusOutline",{dark:o.focusBorder,light:o.focusBorder,hcDark:o.activeContrastBorder,hcLight:o.activeContrastBorder},r.localize("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));const h=(0,s.registerColor)("list.focusAndSelectionOutline",null,r.localize("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not."));const d=(0,s.registerColor)("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:i.Color.fromHex("#0F4A85").transparent(.1)},r.localize("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));const g=(0,s.registerColor)("list.activeSelectionForeground",{dark:i.Color.white,light:i.Color.white,hcDark:null,hcLight:null},r.localize("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));const f=(0,s.registerColor)("list.activeSelectionIconForeground",null,r.localize("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));const m=(0,s.registerColor)("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:i.Color.fromHex("#0F4A85").transparent(.1)},r.localize("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));const p=(0,s.registerColor)("list.inactiveSelectionForeground",null,r.localize("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));const _=(0,s.registerColor)("list.inactiveSelectionIconForeground",null,r.localize("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));const b=(0,s.registerColor)("list.inactiveFocusBackground",null,r.localize("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));const C=(0,s.registerColor)("list.inactiveFocusOutline",null,r.localize("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));const v=(0,s.registerColor)("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:i.Color.white.transparent(.1),hcLight:i.Color.fromHex("#0F4A85").transparent(.1)},r.localize("listHoverBackground","List/Tree background when hovering over items using the mouse."));const k=(0,s.registerColor)("list.hoverForeground",null,r.localize("listHoverForeground","List/Tree foreground when hovering over items using the mouse."));const L=(0,s.registerColor)("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},r.localize("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse."));const S=(0,s.registerColor)("list.dropBetweenBackground",{dark:o.iconForeground,light:o.iconForeground,hcDark:null,hcLight:null},r.localize("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse."));const w=(0,s.registerColor)("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:o.focusBorder,hcLight:o.focusBorder},r.localize("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));const y=(0,s.registerColor)("list.focusHighlightForeground",{dark:w,light:(0,s.ifDefinedThenElse)(d,w,"#BBE7FF"),hcDark:w,hcLight:w},r.localize("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));const E=(0,s.registerColor)("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},r.localize("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));const I=(0,s.registerColor)("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},r.localize("listErrorForeground","Foreground color of list items containing errors."));const x=(0,s.registerColor)("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},r.localize("listWarningForeground","Foreground color of list items containing warnings."));const T=(0,s.registerColor)("listFilterWidget.background",{light:(0,s.darken)(a.editorWidgetBackground,0),dark:(0,s.lighten)(a.editorWidgetBackground,0),hcDark:a.editorWidgetBackground,hcLight:a.editorWidgetBackground},r.localize("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."));const N=(0,s.registerColor)("listFilterWidget.outline",{dark:i.Color.transparent,light:i.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},r.localize("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees."));const B=(0,s.registerColor)("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:o.contrastBorder,hcLight:o.contrastBorder},r.localize("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches."));const R=(0,s.registerColor)("listFilterWidget.shadow",a.widgetShadow,r.localize("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));const A=(0,s.registerColor)("list.filterMatchBackground",{dark:a.editorFindMatchHighlight,light:a.editorFindMatchHighlight,hcDark:null,hcLight:null},r.localize("listFilterMatchHighlight","Background color of the filtered match."));const O=(0,s.registerColor)("list.filterMatchBorder",{dark:a.editorFindMatchHighlightBorder,light:a.editorFindMatchHighlightBorder,hcDark:o.contrastBorder,hcLight:o.activeContrastBorder},r.localize("listFilterMatchHighlightBorder","Border color of the filtered match."));const D=(0,s.registerColor)("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},r.localize("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized."));const F=(0,s.registerColor)("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},r.localize("treeIndentGuidesStroke","Tree stroke color for the indentation guides."));const M=(0,s.registerColor)("tree.inactiveIndentGuidesStroke",(0,s.transparent)(F,.4),r.localize("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active."));const P=(0,s.registerColor)("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},r.localize("tableColumnsBorder","Table border color between columns."));const z=(0,s.registerColor)("tree.tableOddRowsBackground",{dark:(0,s.transparent)(o.foreground,.04),light:(0,s.transparent)(o.foreground,.04),hcDark:null,hcLight:null},r.localize("tableOddRowsBackgroundColor","Background color for odd table rows."));const q=(0,s.registerColor)("editorActionList.background",a.editorWidgetBackground,r.localize("editorActionListBackground","Action List background color."));const H=(0,s.registerColor)("editorActionList.foreground",a.editorWidgetForeground,r.localize("editorActionListForeground","Action List foreground color."));const V=(0,s.registerColor)("editorActionList.focusForeground",g,r.localize("editorActionListFocusForeground","Action List foreground color for the focused item."));const W=(0,s.registerColor)("editorActionList.focusBackground",d,r.localize("editorActionListFocusBackground","Action List background color for the focused item."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{menuBackground:()=>u,menuBorder:()=>l,menuForeground:()=>c,menuSelectionBackground:()=>d,menuSelectionBorder:()=>g,menuSelectionForeground:()=>h,menuSeparatorBackground:()=>f});var r=n(11);var i=n(129);var s=n(130);var o=n(135);var a=n(136);const l=(0,i.registerColor)("menu.border",{dark:null,light:null,hcDark:s.contrastBorder,hcLight:s.contrastBorder},r.localize("menuBorder","Border color of menus."));const c=(0,i.registerColor)("menu.foreground",o.selectForeground,r.localize("menuForeground","Foreground color of menu items."));const u=(0,i.registerColor)("menu.background",o.selectBackground,r.localize("menuBackground","Background color of menu items."));const h=(0,i.registerColor)("menu.selectionForeground",a.listActiveSelectionForeground,r.localize("menuSelectionForeground","Foreground color of the selected menu item in menus."));const d=(0,i.registerColor)("menu.selectionBackground",a.listActiveSelectionBackground,r.localize("menuSelectionBackground","Background color of the selected menu item in menus."));const g=(0,i.registerColor)("menu.selectionBorder",{dark:null,light:null,hcDark:s.activeContrastBorder,hcLight:s.activeContrastBorder},r.localize("menuSelectionBorder","Border color of the selected menu item in menus."));const f=(0,i.registerColor)("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:s.contrastBorder,hcLight:s.contrastBorder},r.localize("menuSeparatorBackground","Color of a separator menu item in menus."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{_deprecatedQuickInputListFocusBackground:()=>g,pickerGroupBorder:()=>d,pickerGroupForeground:()=>h,quickInputBackground:()=>l,quickInputForeground:()=>c,quickInputListFocusBackground:()=>p,quickInputListFocusForeground:()=>f,quickInputListFocusIconForeground:()=>m,quickInputTitleBackground:()=>u});var r=n(11);var i=n(72);var s=n(129);var o=n(132);var a=n(136);const l=(0,s.registerColor)("quickInput.background",o.editorWidgetBackground,r.localize("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette."));const c=(0,s.registerColor)("quickInput.foreground",o.editorWidgetForeground,r.localize("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette."));const u=(0,s.registerColor)("quickInputTitle.background",{dark:new i.Color(new i.RGBA(255,255,255,.105)),light:new i.Color(new i.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:i.Color.white},r.localize("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette."));const h=(0,s.registerColor)("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:i.Color.white,hcLight:"#0F4A85"},r.localize("pickerGroupForeground","Quick picker color for grouping labels."));const d=(0,s.registerColor)("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:i.Color.white,hcLight:"#0F4A85"},r.localize("pickerGroupBorder","Quick picker color for grouping borders."));const g=(0,s.registerColor)("quickInput.list.focusBackground",null,"",undefined,r.localize("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"));const f=(0,s.registerColor)("quickInputList.focusForeground",a.listActiveSelectionForeground,r.localize("quickInput.listFocusForeground","Quick picker foreground color for the focused item."));const m=(0,s.registerColor)("quickInputList.focusIconForeground",a.listActiveSelectionIconForeground,r.localize("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item."));const p=(0,s.registerColor)("quickInputList.focusBackground",{dark:(0,s.oneOf)(g,a.listActiveSelectionBackground),light:(0,s.oneOf)(g,a.listActiveSelectionBackground),hcDark:null,hcLight:null},r.localize("quickInput.listFocusBackground","Quick picker background color for the focused item."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{searchEditorFindMatch:()=>l,searchEditorFindMatchBorder:()=>c,searchResultsInfoForeground:()=>a});var r=n(11);var i=n(129);var s=n(130);var o=n(132);const a=(0,i.registerColor)("search.resultsInfoForeground",{light:s.foreground,dark:(0,i.transparent)(s.foreground,.65),hcDark:s.foreground,hcLight:s.foreground},r.localize("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));const l=(0,i.registerColor)("searchEditor.findMatchBackground",{light:(0,i.transparent)(o.editorFindMatchHighlight,.66),dark:(0,i.transparent)(o.editorFindMatchHighlight,.66),hcDark:o.editorFindMatchHighlight,hcLight:o.editorFindMatchHighlight},r.localize("searchEditor.queryMatch","Color of the Search Editor query matches."));const c=(0,i.registerColor)("searchEditor.findMatchBorder",{light:(0,i.transparent)(o.editorFindMatchHighlightBorder,.66),dark:(0,i.transparent)(o.editorFindMatchHighlightBorder,.66),hcDark:o.editorFindMatchHighlightBorder,hcLight:o.editorFindMatchHighlightBorder},r.localize("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IModelService:()=>i});var r=n(82);const i=(0,r.createDecorator)("modelService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{diffSets:()=>r,intersection:()=>i});function r(e,t){const n=[];const r=[];for(const r of e){if(!t.has(r)){n.push(r)}}for(const n of t){if(!e.has(n)){r.push(n)}}return{removed:n,added:r}}function i(e,t){const n=new Set;for(const r of t){if(e.has(r)){n.add(r)}}return n}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DefaultModelSHA1Computer:()=>y,ModelService:()=>w});var r=n(3);var i=n(5);var s=n(10);var o=n(143);var a=n(147);var l=n(86);var c=n(202);var u=n(90);var h=n(201);var d=n(24);var g=n(175);var f=n(9);var m=n(48);var p=n(82);var _=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var b=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};var C;function v(e){return e.toString()}class k{constructor(e,t,n){this.model=e;this._modelEventListeners=new i.DisposableStore;this.model=e;this._modelEventListeners.add(e.onWillDispose(()=>t(e)));this._modelEventListeners.add(e.onDidChangeLanguage(t=>n(e,t)))}dispose(){this._modelEventListeners.dispose()}}const L=s.isLinux||s.isMacintosh?1:2;class S{constructor(e,t,n,r,i,s,o,a){this.uri=e;this.initialUndoRedoSnapshot=t;this.time=n;this.sharesUndoRedoStack=r;this.heapSize=i;this.sha1=s;this.versionId=o;this.alternativeVersionId=a}}let w=class e extends i.Disposable{static{C=this}static{this.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024}constructor(e,t,n,i){super();this._configurationService=e;this._resourcePropertiesService=t;this._undoRedoService=n;this._instantiationService=i;this._onModelAdded=this._register(new r.Emitter);this.onModelAdded=this._onModelAdded.event;this._onModelRemoved=this._register(new r.Emitter);this.onModelRemoved=this._onModelRemoved.event;this._onModelModeChanged=this._register(new r.Emitter);this.onModelLanguageChanged=this._onModelModeChanged.event;this._modelCreationOptionsByLanguageAndResource=Object.create(null);this._models={};this._disposedModels=new Map;this._disposedModelsHeapSize=0;this._register(this._configurationService.onDidChangeConfiguration(e=>this._updateModelOptions(e)));this._updateModelOptions(undefined)}static _readModelOptions(e,t){let n=a.EDITOR_MODEL_DEFAULTS.tabSize;if(e.editor&&typeof e.editor.tabSize!=="undefined"){const t=parseInt(e.editor.tabSize,10);if(!isNaN(t)){n=t}if(n<1){n=1}}let r="tabSize";if(e.editor&&typeof e.editor.indentSize!=="undefined"&&e.editor.indentSize!=="tabSize"){const t=parseInt(e.editor.indentSize,10);if(!isNaN(t)){r=Math.max(t,1)}}let i=a.EDITOR_MODEL_DEFAULTS.insertSpaces;if(e.editor&&typeof e.editor.insertSpaces!=="undefined"){i=e.editor.insertSpaces==="false"?false:Boolean(e.editor.insertSpaces)}let s=L;const o=e.eol;if(o==="\r\n"){s=2}else if(o==="\n"){s=1}let l=a.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;if(e.editor&&typeof e.editor.trimAutoWhitespace!=="undefined"){l=e.editor.trimAutoWhitespace==="false"?false:Boolean(e.editor.trimAutoWhitespace)}let c=a.EDITOR_MODEL_DEFAULTS.detectIndentation;if(e.editor&&typeof e.editor.detectIndentation!=="undefined"){c=e.editor.detectIndentation==="false"?false:Boolean(e.editor.detectIndentation)}let u=a.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;if(e.editor&&typeof e.editor.largeFileOptimizations!=="undefined"){u=e.editor.largeFileOptimizations==="false"?false:Boolean(e.editor.largeFileOptimizations)}let h=a.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;if(e.editor?.bracketPairColorization&&typeof e.editor.bracketPairColorization==="object"){h={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}}return{isForSimpleWidget:t,tabSize:n,indentSize:r,insertSpaces:i,detectIndentation:c,defaultEOL:s,trimAutoWhitespace:l,largeFileOptimizations:u,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e){return this._resourcePropertiesService.getEOL(e,t)}const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});if(n&&typeof n==="string"&&n!=="auto"){return n}return s.OS===3||s.OS===2?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");if(typeof e==="boolean"){return e}return true}getCreationOptions(e,t,n){const r=typeof e==="string"?e:e.languageId;let i=this._modelCreationOptionsByLanguageAndResource[r+t];if(!i){const e=this._configurationService.getValue("editor",{overrideIdentifier:r,resource:t});const s=this._getEOL(t,r);i=C._readModelOptions({editor:e,eol:s},n);this._modelCreationOptionsByLanguageAndResource[r+t]=i}return i}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let r=0,i=n.length;r<i;r++){const i=n[r];const s=this._models[i];const o=s.model.getLanguageId();const a=s.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:o,resource:a})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:o,resource:a})){continue}const l=t[o+a];const c=this.getCreationOptions(o,a,s.model.isForSimpleWidget);C._setModelOptionsForModel(s.model,c,l)}}static _setModelOptionsForModel(e,t,n){if(n&&n.defaultEOL!==t.defaultEOL&&e.getLineCount()===1){e.setEOL(t.defaultEOL===1?0:1)}if(n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace&&(0,m.equals)(n.bracketPairColorizationOptions,t.bracketPairColorizationOptions)){return}if(t.detectIndentation){e.detectIndentation(t.insertSpaces,t.tabSize);e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})}else{e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})}}_insertDisposedModel(e){this._disposedModels.set(v(e.uri),e);this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(v(e));if(t){this._disposedModelsHeapSize-=t.heapSize}this._disposedModels.delete(v(e));return t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];this._disposedModels.forEach(e=>{if(!e.sharesUndoRedoStack){t.push(e)}});t.sort((e,t)=>e.time-t.time);while(t.length>0&&this._disposedModelsHeapSize>e){const e=t.shift();this._removeDisposedModel(e.uri);if(e.initialUndoRedoSnapshot!==null){this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}}_createModelData(e,t,n,r){const i=this.getCreationOptions(t,n,r);const s=this._instantiationService.createInstance(o.TextModel,e,t,i,n);if(n&&this._disposedModels.has(v(n))){const e=this._removeDisposedModel(n);const t=this._undoRedoService.getElements(n);const r=this._getSHA1Computer();const i=r.canComputeSHA1(s)?r.computeSHA1(s)===e.sha1:false;if(i||e.sharesUndoRedoStack){for(const e of t.past){if((0,g.isEditStackElement)(e)&&e.matchesResource(n)){e.setModel(s)}}for(const e of t.future){if((0,g.isEditStackElement)(e)&&e.matchesResource(n)){e.setModel(s)}}this._undoRedoService.setElementsValidFlag(n,true,e=>(0,g.isEditStackElement)(e)&&e.matchesResource(n));if(i){s._overwriteVersionId(e.versionId);s._overwriteAlternativeVersionId(e.alternativeVersionId);s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot)}}else{if(e.initialUndoRedoSnapshot!==null){this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}const a=v(s.uri);if(this._models[a]){throw new Error("ModelService: Cannot add model because it already exists!")}const l=new k(s,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));this._models[a]=l;return l}createModel(e,t,n,r=false){let i;if(t){i=this._createModelData(e,t,n,r)}else{i=this._createModelData(e,l.PLAINTEXT_LANGUAGE_ID,n,r)}this._onModelAdded.fire(i.model);return i.model}getModels(){const e=[];const t=Object.keys(this._models);for(let n=0,r=t.length;n<r;n++){const r=t[n];e.push(this._models[r].model)}return e}getModel(e){const t=v(e);const n=this._models[t];if(!n){return null}return n.model}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===f.Schemas.file||e.scheme===f.Schemas.vscodeRemote||e.scheme===f.Schemas.vscodeUserData||e.scheme===f.Schemas.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=v(e.uri);const n=this._models[t];const r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let i=false;let s=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const t=this._undoRedoService.getElements(e.uri);if(t.past.length>0||t.future.length>0){for(const n of t.past){if((0,g.isEditStackElement)(n)&&n.matchesResource(e.uri)){i=true;s+=n.heapSize(e.uri);n.setModel(e.uri)}}for(const n of t.future){if((0,g.isEditStackElement)(n)&&n.matchesResource(e.uri)){i=true;s+=n.heapSize(e.uri);n.setModel(e.uri)}}}}const o=C.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;const a=this._getSHA1Computer();if(!i){if(!r){const e=n.model.getInitialUndoRedoSnapshot();if(e!==null){this._undoRedoService.restoreSnapshot(e)}}}else if(!r&&(s>o||!a.canComputeSHA1(e))){const e=n.model.getInitialUndoRedoSnapshot();if(e!==null){this._undoRedoService.restoreSnapshot(e)}}else{this._ensureDisposedModelsHeapSize(o-s);this._undoRedoService.setElementsValidFlag(e.uri,false,t=>(0,g.isEditStackElement)(t)&&t.matchesResource(e.uri));this._insertDisposedModel(new S(e.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),r,s,a.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()))}delete this._models[t];n.dispose();delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri];this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const n=t.oldLanguage;const r=e.getLanguageId();const i=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);const s=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);C._setModelOptionsForModel(e,s,i);this._onModelModeChanged.fire({model:e,oldLanguageId:n})}_getSHA1Computer(){return new y}};w=C=_([b(0,u.IConfigurationService),b(1,c.ITextResourcePropertiesService),b(2,h.IUndoRedoService),b(3,p.IInstantiationService)],w);class y{static{this.MAX_MODEL_SIZE=10*1024*1024}canComputeSHA1(e){return e.getValueLength()<=y.MAX_MODEL_SIZE}computeSHA1(e){const t=new d.StringSHA1;const n=e.createSnapshot();let r;while(r=n.read()){t.update(r)}return t.digest()}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ModelDecorationGlyphMarginOptions:()=>J,ModelDecorationInjectedTextOptions:()=>te,ModelDecorationMinimapOptions:()=>ee,ModelDecorationOptions:()=>ne,ModelDecorationOverviewRulerOptions:()=>Z,TextModel:()=>U,createTextBuffer:()=>P,createTextBufferFactory:()=>F,createTextBufferFactoryFromSnapshot:()=>M,indentOfLine:()=>K});var r=n(62);var i=n(72);var s=n(2);var o=n(3);var a=n(5);var l=n(14);var c=n(17);var u=n(144);var h=n(145);var d=n(26);var g=n(25);var f=n(34);var m=n(147);var p=n(148);var _=n(149);var b=n(47);var C=n(160);var v=n(174);var k=n(175);var L=n(177);var S=n(181);var w=n(182);var y=n(183);var E=n(186);var I=n(44);var x=n(187);var T=n(194);var N=n(200);var B=n(82);var R=n(201);var A=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var O=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};var D;function F(e){const t=new E.PieceTreeTextBufferBuilder;t.acceptChunk(e);return t.finish()}function M(e){const t=new E.PieceTreeTextBufferBuilder;let n;while(typeof(n=e.read())==="string"){t.acceptChunk(n)}return t.finish()}function P(e,t){let n;if(typeof e==="string"){n=F(e)}else if(b.isITextSnapshot(e)){n=M(e)}else{n=e}return n.create(t)}let z=0;const q=999;const H=1e4;class V{constructor(e){this._source=e;this._eos=false}read(){if(this._eos){return null}const e=[];let t=0;let n=0;do{const r=this._source.read();if(r===null){this._eos=true;if(t===0){return null}else{return e.join("")}}if(r.length>0){e[t++]=r;n+=r.length}if(n>=64*1024){return e.join("")}}while(true)}}const W=()=>{throw new Error(`Invalid change accessor`)};let U=class e extends a.Disposable{static{D=this}static{this._MODEL_SYNC_LIMIT=50*1024*1024}static{this.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024}static{this.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3}static{this.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024}static{this.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:false,tabSize:m.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:m.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:m.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:false,defaultEOL:1,trimAutoWhitespace:m.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:m.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:m.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions}}static resolveOptions(e,t){if(t.detectIndentation){const n=(0,S.guessIndentation)(e,t.tabSize,t.insertSpaces);return new b.TextModelResolvedOptions({tabSize:n.tabSize,indentSize:"tabSize",insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new b.TextModelResolvedOptions(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return(0,a.combinedDisposable)(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,n,r=null,i,s,u,h){super();this._undoRedoService=i;this._languageService=s;this._languageConfigurationService=u;this.instantiationService=h;this._onWillDispose=this._register(new o.Emitter);this.onWillDispose=this._onWillDispose.event;this._onDidChangeDecorations=this._register(new se(e=>this.handleBeforeFireDecorationsChangedEvent(e)));this.onDidChangeDecorations=this._onDidChangeDecorations.event;this._onDidChangeOptions=this._register(new o.Emitter);this.onDidChangeOptions=this._onDidChangeOptions.event;this._onDidChangeAttached=this._register(new o.Emitter);this.onDidChangeAttached=this._onDidChangeAttached.event;this._onDidChangeInjectedText=this._register(new o.Emitter);this._eventEmitter=this._register(new oe);this._languageSelectionListener=this._register(new a.MutableDisposable);this._deltaDecorationCallCnt=0;this._attachedViews=new T.AttachedViews;z++;this.id="$model"+z;this.isForSimpleWidget=n.isForSimpleWidget;if(typeof r==="undefined"||r===null){this._associatedResource=c.URI.parse("inmemory://model/"+z)}else{this._associatedResource=r}this._attachedEditorCount=0;const{textBuffer:d,disposable:f}=P(e,n.defaultEOL);this._buffer=d;this._bufferDisposable=f;this._options=D.resolveOptions(this._buffer,n);const m=typeof t==="string"?t:t.languageId;if(typeof t!=="string"){this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))}this._bracketPairs=this._register(new C.BracketPairsTextModelPart(this,this._languageConfigurationService));this._guidesTextModelPart=this._register(new L.GuidesTextModelPart(this,this._languageConfigurationService));this._decorationProvider=this._register(new v.ColorizedBracketPairsDecorationProvider(this));this._tokenizationTextModelPart=this.instantiationService.createInstance(x.TokenizationTextModelPart,this,this._bracketPairs,m,this._attachedViews);const p=this._buffer.getLineCount();const _=this._buffer.getValueLengthInRange(new g.Range(1,1,p,this._buffer.getLineLength(p)+1),0);if(n.largeFileOptimizations){this._isTooLargeForTokenization=_>D.LARGE_FILE_SIZE_THRESHOLD||p>D.LARGE_FILE_LINE_COUNT_THRESHOLD;this._isTooLargeForHeapOperation=_>D.LARGE_FILE_HEAP_OPERATION_THRESHOLD}else{this._isTooLargeForTokenization=false;this._isTooLargeForHeapOperation=false}this._isTooLargeForSyncing=_>D._MODEL_SYNC_LIMIT;this._versionId=1;this._alternativeVersionId=1;this._initialUndoRedoSnapshot=null;this._isDisposed=false;this.__isDisposing=false;this._instanceId=l.singleLetterHash(z);this._lastDecorationId=0;this._decorations=Object.create(null);this._decorationsTree=new Q;this._commandManager=new k.EditStack(this,this._undoRedoService);this._isUndoing=false;this._isRedoing=false;this._trimAutoWhitespaceLines=null;this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit();this._onDidChangeDecorations.fire();this._onDidChangeDecorations.endDeferredEmit()}));this._languageService.requestRichLanguageFeatures(m);this._register(this._languageConfigurationService.onDidChange(e=>{this._bracketPairs.handleLanguageConfigurationServiceChange(e);this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(e)}))}dispose(){this.__isDisposing=true;this._onWillDispose.fire();this._tokenizationTextModelPart.dispose();this._isDisposed=true;super.dispose();this._bufferDisposable.dispose();this.__isDisposing=false;const e=new y.PieceTreeTextBuffer([],"","\n",false,false,true,true);e.dispose();this._buffer=e;this._bufferDisposable=a.Disposable.None}_assertNotDisposed(){if(this._isDisposed){throw new s.BugIndicatingError("Model is disposed!")}}_emitContentChangedEvent(e,t){if(this.__isDisposing){return}this._tokenizationTextModelPart.handleDidChangeContent(t);this._bracketPairs.handleDidChangeContent(t);this._eventEmitter.fire(new N.InternalModelContentChangeEvent(e,t))}setValue(e){this._assertNotDisposed();if(e===null||e===undefined){throw(0,s.illegalArgument)()}const{textBuffer:t,disposable:n}=P(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,n)}_createContentChanged2(e,t,n,r,i,s,o,a){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:r}],eol:this._buffer.getEOL(),isEolChange:a,versionId:this.getVersionId(),isUndoing:i,isRedoing:s,isFlush:o}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const n=this.getFullModelRange();const r=this.getValueLengthInRange(n);const i=this.getLineCount();const s=this.getLineMaxColumn(i);this._buffer=e;this._bufferDisposable.dispose();this._bufferDisposable=t;this._increaseVersionId();this._decorations=Object.create(null);this._decorationsTree=new Q;this._commandManager.clear();this._trimAutoWhitespaceLines=null;this._emitContentChangedEvent(new N.ModelRawContentChangedEvent([new N.ModelRawFlush],this._versionId,false,false),this._createContentChanged2(new g.Range(1,1,i,s),0,r,this.getValue(),false,false,true,false))}setEOL(e){this._assertNotDisposed();const t=e===1?"\r\n":"\n";if(this._buffer.getEOL()===t){return}const n=this.getFullModelRange();const r=this.getValueLengthInRange(n);const i=this.getLineCount();const s=this.getLineMaxColumn(i);this._onBeforeEOLChange();this._buffer.setEOL(t);this._increaseVersionId();this._onAfterEOLChange();this._emitContentChangedEvent(new N.ModelRawContentChangedEvent([new N.ModelRawEOLChanged],this._versionId,false,false),this._createContentChanged2(new g.Range(1,1,i,s),0,r,this.getValue(),false,false,false,true))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId();const t=this._decorationsTree.collectNodesPostOrder();for(let n=0,r=t.length;n<r;n++){const r=t[n];const i=r.range;const s=r.cachedAbsoluteStart-r.start;const o=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn);const a=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);r.cachedAbsoluteStart=o;r.cachedAbsoluteEnd=a;r.cachedVersionId=e;r.start=o-s;r.end=a-s;(0,w.recomputeMaxEnd)(r)}}onBeforeAttached(){this._attachedEditorCount++;if(this._attachedEditorCount===1){this._tokenizationTextModelPart.handleDidChangeAttached();this._onDidChangeAttached.fire(undefined)}return this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--;if(this._attachedEditorCount===0){this._tokenizationTextModelPart.handleDidChangeAttached();this._onDidChangeAttached.fire(undefined)}this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){this._assertNotDisposed();if(this.isTooLargeForTokenization()){return false}let e=0;let t=0;const n=this._buffer.getLineCount();for(let r=1;r<=n;r++){const n=this._buffer.getLineLength(r);if(n>=H){t+=n}else{e+=n}}return t>e}get uri(){return this._associatedResource}getOptions(){this._assertNotDisposed();return this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize!=="undefined"?e.tabSize:this._options.tabSize;const n=typeof e.indentSize!=="undefined"?e.indentSize:this._options.originalIndentSize;const r=typeof e.insertSpaces!=="undefined"?e.insertSpaces:this._options.insertSpaces;const i=typeof e.trimAutoWhitespace!=="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace;const s=typeof e.bracketColorizationOptions!=="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions;const o=new b.TextModelResolvedOptions({tabSize:t,indentSize:n,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:i,bracketPairColorizationOptions:s});if(this._options.equals(o)){return}const a=this._options.createChangeEvent(o);this._options=o;this._bracketPairs.handleDidChangeOptions(a);this._decorationProvider.handleDidChangeOptions(a);this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();const n=(0,S.guessIndentation)(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})}normalizeIndentation(e){this._assertNotDisposed();return(0,h.normalizeIndentation)(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){this._assertNotDisposed();return this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(l.UNUSUAL_LINE_TERMINATORS.source,false,true,false,null,false,1073741824);this._buffer.resetMightContainUnusualLineTerminators();this.pushEditOperations(e,t.map(e=>({range:e.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){this._assertNotDisposed();return this._alternativeVersionId}getInitialUndoRedoSnapshot(){this._assertNotDisposed();return this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1;this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=false){this._assertNotDisposed();if(this.isTooLargeForHeapOperation()){throw new s.BugIndicatingError("Operation would exceed heap memory limits")}const n=this.getFullModelRange();const r=this.getValueInRange(n,e);if(t){return this._buffer.getBOM()+r}return r}createSnapshot(e=false){return new V(this._buffer.createSnapshot(e))}getValueLength(e,t=false){this._assertNotDisposed();const n=this.getFullModelRange();const r=this.getValueLengthInRange(n,e);if(t){return this._buffer.getBOM().length+r}return r}getValueInRange(e,t=0){this._assertNotDisposed();return this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){this._assertNotDisposed();return this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){this._assertNotDisposed();return this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){this._assertNotDisposed();return this._buffer.getLineCount()}getLineContent(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new s.BugIndicatingError("Illegal value for lineNumber")}return this._buffer.getLineContent(e)}getLineLength(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new s.BugIndicatingError("Illegal value for lineNumber")}return this._buffer.getLineLength(e)}getLinesContent(){this._assertNotDisposed();if(this.isTooLargeForHeapOperation()){throw new s.BugIndicatingError("Operation would exceed heap memory limits")}return this._buffer.getLinesContent()}getEOL(){this._assertNotDisposed();return this._buffer.getEOL()}getEndOfLineSequence(){this._assertNotDisposed();return this._buffer.getEOL()==="\n"?0:1}getLineMinColumn(e){this._assertNotDisposed();return 1}getLineMaxColumn(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new s.BugIndicatingError("Illegal value for lineNumber")}return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new s.BugIndicatingError("Illegal value for lineNumber")}return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new s.BugIndicatingError("Illegal value for lineNumber")}return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount();const n=e.startLineNumber;const r=e.startColumn;let i=Math.floor(typeof n==="number"&&!isNaN(n)?n:1);let s=Math.floor(typeof r==="number"&&!isNaN(r)?r:1);if(i<1){i=1;s=1}else if(i>t){i=t;s=this.getLineMaxColumn(i)}else{if(s<=1){s=1}else{const e=this.getLineMaxColumn(i);if(s>=e){s=e}}}const o=e.endLineNumber;const a=e.endColumn;let l=Math.floor(typeof o==="number"&&!isNaN(o)?o:1);let c=Math.floor(typeof a==="number"&&!isNaN(a)?a:1);if(l<1){l=1;c=1}else if(l>t){l=t;c=this.getLineMaxColumn(l)}else{if(c<=1){c=1}else{const e=this.getLineMaxColumn(l);if(c>=e){c=e}}}if(n===i&&r===s&&o===l&&a===c&&e instanceof g.Range&&!(e instanceof f.Selection)){return e}return new g.Range(i,s,l,c)}_isValidPosition(e,t,n){if(typeof e!=="number"||typeof t!=="number"){return false}if(isNaN(e)||isNaN(t)){return false}if(e<1||t<1){return false}if((e|0)!==e||(t|0)!==t){return false}const r=this._buffer.getLineCount();if(e>r){return false}if(t===1){return true}const i=this.getLineMaxColumn(e);if(t>i){return false}if(n===1){const n=this._buffer.getLineCharCode(e,t-2);if(l.isHighSurrogate(n)){return false}}return true}_validatePosition(e,t,n){const r=Math.floor(typeof e==="number"&&!isNaN(e)?e:1);const i=Math.floor(typeof t==="number"&&!isNaN(t)?t:1);const s=this._buffer.getLineCount();if(r<1){return new d.Position(1,1)}if(r>s){return new d.Position(s,this.getLineMaxColumn(s))}if(i<=1){return new d.Position(r,1)}const o=this.getLineMaxColumn(r);if(i>=o){return new d.Position(r,o)}if(n===1){const e=this._buffer.getLineCharCode(r,i-2);if(l.isHighSurrogate(e)){return new d.Position(r,i-1)}}return new d.Position(r,i)}validatePosition(e){const t=1;this._assertNotDisposed();if(e instanceof d.Position){if(this._isValidPosition(e.lineNumber,e.column,t)){return e}}return this._validatePosition(e.lineNumber,e.column,t)}_isValidRange(e,t){const n=e.startLineNumber;const r=e.startColumn;const i=e.endLineNumber;const s=e.endColumn;if(!this._isValidPosition(n,r,0)){return false}if(!this._isValidPosition(i,s,0)){return false}if(t===1){const e=r>1?this._buffer.getLineCharCode(n,r-2):0;const t=s>1&&s<=this._buffer.getLineLength(i)?this._buffer.getLineCharCode(i,s-2):0;const o=l.isHighSurrogate(e);const a=l.isHighSurrogate(t);if(!o&&!a){return true}return false}return true}validateRange(e){const t=1;this._assertNotDisposed();if(e instanceof g.Range&&!(e instanceof f.Selection)){if(this._isValidRange(e,t)){return e}}const n=this._validatePosition(e.startLineNumber,e.startColumn,0);const r=this._validatePosition(e.endLineNumber,e.endColumn,0);const i=n.lineNumber;const s=n.column;const o=r.lineNumber;const a=r.column;if(t===1){const e=s>1?this._buffer.getLineCharCode(i,s-2):0;const t=a>1&&a<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,a-2):0;const n=l.isHighSurrogate(e);const r=l.isHighSurrogate(t);if(!n&&!r){return new g.Range(i,s,o,a)}if(i===o&&s===a){return new g.Range(i,s-1,o,a-1)}if(n&&r){return new g.Range(i,s-1,o,a+1)}if(n){return new g.Range(i,s-1,o,a)}return new g.Range(i,s,o,a+1)}return new g.Range(i,s,o,a)}modifyPosition(e,t){this._assertNotDisposed();const n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new g.Range(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,n,r){return this._buffer.findMatchesLineByLine(e,t,n,r)}findMatches(e,t,n,r,i,s,o=q){this._assertNotDisposed();let a=null;if(t!==null){if(!Array.isArray(t)){t=[t]}if(t.every(e=>g.Range.isIRange(e))){a=t.map(e=>this.validateRange(e))}}if(a===null){a=[this.getFullModelRange()]}a=a.sort((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn);const l=[];l.push(a.reduce((e,t)=>{if(g.Range.areIntersecting(e,t)){return e.plusRange(t)}l.push(e);return t}));let c;if(!n&&e.indexOf("\n")<0){const t=new I.SearchParams(e,n,r,i);const a=t.parseSearchRequest();if(!a){return[]}c=e=>this.findMatchesLineByLine(e,a,s,o)}else{c=t=>I.TextModelSearch.findMatches(this,new I.SearchParams(e,n,r,i),t,s,o)}return l.map(c).reduce((e,t)=>e.concat(t),[])}findNextMatch(e,t,n,r,i,s){this._assertNotDisposed();const o=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){const t=new I.SearchParams(e,n,r,i);const a=t.parseSearchRequest();if(!a){return null}const l=this.getLineCount();let c=new g.Range(o.lineNumber,o.column,l,this.getLineMaxColumn(l));let u=this.findMatchesLineByLine(c,a,s,1);I.TextModelSearch.findNextMatch(this,new I.SearchParams(e,n,r,i),o,s);if(u.length>0){return u[0]}c=new g.Range(1,1,o.lineNumber,this.getLineMaxColumn(o.lineNumber));u=this.findMatchesLineByLine(c,a,s,1);if(u.length>0){return u[0]}return null}return I.TextModelSearch.findNextMatch(this,new I.SearchParams(e,n,r,i),o,s)}findPreviousMatch(e,t,n,r,i,s){this._assertNotDisposed();const o=this.validatePosition(t);return I.TextModelSearch.findPreviousMatch(this,new I.SearchParams(e,n,r,i),o,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){const t=this.getEOL()==="\n"?0:1;if(t===e){return}try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();if(this._initialUndoRedoSnapshot===null){this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)}this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit();this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){if(e instanceof b.ValidAnnotatedEditOperation){return e}return new b.ValidAnnotatedEditOperation(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||false,e.isAutoWhitespaceEdit||false,e._isTracked||false)}_validateEditOperations(e){const t=[];for(let n=0,r=e.length;n<r;n++){t[n]=this._validateEditOperation(e[n])}return t}pushEditOperations(e,t,n,r){try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();return this._pushEditOperations(e,this._validateEditOperations(t),n,r)}finally{this._eventEmitter.endDeferredEmit();this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,n,r){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const n=t.map(e=>({range:this.validateRange(e.range),text:e.text}));let r=true;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];let s=false;for(let e=0,t=n.length;e<t;e++){const t=n[e].range;const r=t.startLineNumber>i.endLineNumber;const o=i.startLineNumber>t.endLineNumber;if(!r&&!o){s=true;break}}if(!s){r=false;break}}}if(r){for(let e=0,r=this._trimAutoWhitespaceLines.length;e<r;e++){const r=this._trimAutoWhitespaceLines[e];const i=this.getLineMaxColumn(r);let s=true;for(let e=0,t=n.length;e<t;e++){const t=n[e].range;const o=n[e].text;if(r<t.startLineNumber||r>t.endLineNumber){continue}if(r===t.startLineNumber&&t.startColumn===i&&t.isEmpty()&&o&&o.length>0&&o.charAt(0)==="\n"){continue}if(r===t.startLineNumber&&t.startColumn===1&&t.isEmpty()&&o&&o.length>0&&o.charAt(o.length-1)==="\n"){continue}s=false;break}if(s){const e=new g.Range(r,1,r,i);t.push(new b.ValidAnnotatedEditOperation(null,e,null,false,false,false))}}}this._trimAutoWhitespaceLines=null}if(this._initialUndoRedoSnapshot===null){this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)}return this._commandManager.pushEditOperation(e,t,n,r)}_applyUndo(e,t,n,r){const i=e.map(e=>{const t=this.getPositionAt(e.newPosition);const n=this.getPositionAt(e.newEnd);return{range:new g.Range(t.lineNumber,t.column,n.lineNumber,n.column),text:e.oldText}});this._applyUndoRedoEdits(i,t,true,false,n,r)}_applyRedo(e,t,n,r){const i=e.map(e=>{const t=this.getPositionAt(e.oldPosition);const n=this.getPositionAt(e.oldEnd);return{range:new g.Range(t.lineNumber,t.column,n.lineNumber,n.column),text:e.newText}});this._applyUndoRedoEdits(i,t,false,true,n,r)}_applyUndoRedoEdits(e,t,n,r,i,s){try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();this._isUndoing=n;this._isRedoing=r;this.applyEdits(e,false);this.setEOL(t);this._overwriteAlternativeVersionId(i)}finally{this._isUndoing=false;this._isRedoing=false;this._eventEmitter.endDeferredEmit(s);this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=false){try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();const n=this._validateEditOperations(e);return this._doApplyEdits(n,t)}finally{this._eventEmitter.endDeferredEmit();this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const n=this._buffer.getLineCount();const i=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t);const s=this._buffer.getLineCount();const o=i.changes;this._trimAutoWhitespaceLines=i.trimAutoWhitespaceLineNumbers;if(o.length!==0){for(let e=0,t=o.length;e<t;e++){const t=o[e];this._decorationsTree.acceptReplace(t.rangeOffset,t.rangeLength,t.text.length,t.forceMoveMarkers)}const e=[];this._increaseVersionId();let t=n;for(let n=0,i=o.length;n<i;n++){const i=o[n];const[a]=(0,u.countEOL)(i.text);this._onDidChangeDecorations.fire();const l=i.range.startLineNumber;const c=i.range.endLineNumber;const h=c-l;const g=a;const f=Math.min(h,g);const m=g-h;const p=s-t-m+l;const _=p;const b=p+g;const C=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new d.Position(_,1)),this.getOffsetAt(new d.Position(b,this.getLineMaxColumn(b))),0);const v=N.LineInjectedText.fromDecorations(C);const k=new r.ArrayQueue(v);for(let t=f;t>=0;t--){const n=l+t;const r=p+t;k.takeFromEndWhile(e=>e.lineNumber>r);const i=k.takeFromEndWhile(e=>e.lineNumber===r);e.push(new N.ModelRawLineChanged(n,this.getLineContent(r),i))}if(f<h){const t=l+f;e.push(new N.ModelRawLinesDeleted(t+1,c))}if(f<g){const n=new r.ArrayQueue(v);const i=l+f;const o=g-f;const a=s-t-o+i+1;const c=[];const u=[];for(let e=0;e<o;e++){const t=a+e;u[e]=this.getLineContent(t);n.takeWhile(e=>e.lineNumber<t);c[e]=n.takeWhile(e=>e.lineNumber===t)}e.push(new N.ModelRawLinesInserted(i+1,l+g,u,c))}t+=m}this._emitContentChangedEvent(new N.ModelRawContentChangedEvent(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),isEolChange:false,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:false})}return i.reverseEdits===null?undefined:i.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0){return}const t=Array.from(e);const n=t.map(e=>new N.ModelRawLineChanged(e,this.getLineContent(e),this._getInjectedTextInLine(e)));this._onDidChangeInjectedText.fire(new N.ModelInjectedTextChangedEvent(n))}changeDecorations(e,t=0){this._assertNotDisposed();try{this._onDidChangeDecorations.beginDeferredEmit();return this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const n={addDecoration:(t,n)=>this._deltaDecorationsImpl(e,[],[{range:t,options:n}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,ie(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,n)=>{if(t.length===0&&n.length===0){return[]}return this._deltaDecorationsImpl(e,t,n)}};let r=null;try{r=t(n)}catch(e){(0,s.onUnexpectedError)(e)}n.addDecoration=W;n.changeDecoration=W;n.changeDecorationOptions=W;n.removeDecoration=W;n.deltaDecorations=W;return r}deltaDecorations(e,t,n=0){this._assertNotDisposed();if(!e){e=[]}if(e.length===0&&t.length===0){return[]}try{this._deltaDecorationCallCnt++;if(this._deltaDecorationCallCnt>1){console.warn(`Invoking deltaDecorations recursively could lead to leaking decorations.`);(0,s.onUnexpectedError)(new Error(`Invoking deltaDecorations recursively could lead to leaking decorations.`))}this._onDidChangeDecorations.beginDeferredEmit();return this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit();this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,n){const r=e?this._decorations[e]:null;if(!r){if(!t){return null}return this._deltaDecorationsImpl(0,[],[{range:t,options:re[n]}],true)[0]}if(!t){this._decorationsTree.delete(r);delete this._decorations[r.id];return null}const i=this._validateRangeRelaxedNoAllocations(t);const s=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn);const o=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(r);r.reset(this.getVersionId(),s,o,i);r.setOptions(re[n]);this._decorationsTree.insert(r);return r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed){return}const t=this._decorationsTree.collectNodesFromOwner(e);for(let e=0,n=t.length;e<n;e++){const n=t[e];this._decorationsTree.delete(n);delete this._decorations[n.id]}}getDecorationOptions(e){const t=this._decorations[e];if(!t){return null}return t.options}getDecorationRange(e){const t=this._decorations[e];if(!t){return null}return this._decorationsTree.getNodeRange(this,t)}getLineDecorations(e,t=0,n=false){if(e<1||e>this.getLineCount()){return[]}return this.getLinesDecorations(e,e,t,n)}getLinesDecorations(e,t,n=0,i=false,s=false){const o=this.getLineCount();const a=Math.min(o,Math.max(1,e));const l=Math.min(o,Math.max(1,t));const c=this.getLineMaxColumn(l);const u=new g.Range(a,1,l,c);const h=this._getDecorationsInRange(u,n,i,s);(0,r.pushMany)(h,this._decorationProvider.getDecorationsInRange(u,n,i));return h}getDecorationsInRange(e,t=0,n=false,i=false,s=false){const o=this.validateRange(e);const a=this._getDecorationsInRange(o,t,n,s);(0,r.pushMany)(a,this._decorationProvider.getDecorationsInRange(o,t,n,i));return a}getOverviewRulerDecorations(e=0,t=false){return this._decorationsTree.getAll(this,e,t,true,false)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1);const n=t+this._buffer.getLineLength(e);const r=this._decorationsTree.getInjectedTextInInterval(this,t,n,0);return N.LineInjectedText.fromDecorations(r).filter(t=>t.lineNumber===e)}getAllDecorations(e=0,t=false){let n=this._decorationsTree.getAll(this,e,t,false,false);n=n.concat(this._decorationProvider.getAllDecorations(e,t));return n}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,false,false,true)}_getDecorationsInRange(e,t,n,r){const i=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn);const s=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,i,s,t,n,r)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const n=this._decorations[e];if(!n){return}if(n.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(n.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t);const i=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn);const s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(n);n.reset(this.getVersionId(),i,s,r);this._decorationsTree.insert(n);this._onDidChangeDecorations.checkAffectedAndFire(n.options);if(n.options.after){this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber)}if(n.options.before){this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}}_changeDecorationOptionsImpl(e,t){const n=this._decorations[e];if(!n){return}const r=n.options.overviewRuler&&n.options.overviewRuler.color?true:false;const i=t.overviewRuler&&t.overviewRuler.color?true:false;this._onDidChangeDecorations.checkAffectedAndFire(n.options);this._onDidChangeDecorations.checkAffectedAndFire(t);if(n.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(n.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,n);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}const s=r!==i;const o=$(t)!==G(n);if(s||o){this._decorationsTree.delete(n);n.setOptions(t);this._decorationsTree.insert(n)}else{n.setOptions(t)}}_deltaDecorationsImpl(e,t,n,r=false){const i=this.getVersionId();const s=t.length;let o=0;const a=n.length;let l=0;this._onDidChangeDecorations.beginDeferredEmit();try{const c=new Array(a);while(o<s||l<a){let u=null;if(o<s){do{u=this._decorations[t[o++]]}while(!u&&o<s);if(u){if(u.options.after){const e=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(u.options.before){const e=this._decorationsTree.getNodeRange(this,u);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(u);if(!r){this._onDidChangeDecorations.checkAffectedAndFire(u.options)}}}if(l<a){if(!u){const e=++this._lastDecorationId;const t=`${this._instanceId};${e}`;u=new w.IntervalNode(t,0,0);this._decorations[t]=u}const t=n[l];const s=this._validateRangeRelaxedNoAllocations(t.range);const o=ie(t.options);const a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn);const h=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);u.ownerId=e;u.reset(i,a,h,s);u.setOptions(o);if(u.options.after){this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber)}if(u.options.before){this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}if(!r){this._onDidChangeDecorations.checkAffectedAndFire(o)}this._decorationsTree.insert(u);c[l]=u.id;l++}else{if(u){delete this._decorations[u.id]}}}return c}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){if(typeof e==="string"){this._languageSelectionListener.clear();this._setLanguage(e,t)}else{this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t));this._setLanguage(e.languageId,t)}}_setLanguage(e,t){this.tokenization.setLanguageId(e,t);this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return K(this.getLineContent(e))+1}};U=D=A([O(4,R.IUndoRedoService),O(5,p.ILanguageService),O(6,_.ILanguageConfigurationService),O(7,B.IInstantiationService)],U);function K(e){let t=0;for(const n of e){if(n===" "||n==="\t"){t++}else{break}}return t}function j(e){return e.options.overviewRuler&&e.options.overviewRuler.color?true:false}function $(e){return!!e.after||!!e.before}function G(e){return!!e.options.after||!!e.options.before}class Q{constructor(){this._decorationsTree0=new w.IntervalTree;this._decorationsTree1=new w.IntervalTree;this._injectedTextDecorationsTree=new w.IntervalTree}ensureAllNodesHaveRanges(e){this.getAll(e,0,false,false,false)}_ensureNodesHaveRanges(e,t){for(const n of t){if(n.range===null){n.range=e.getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd)}}return t}getAllInInterval(e,t,n,r,i,s){const o=e.getVersionId();const a=this._intervalSearch(t,n,r,i,o,s);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,n,r,i,s){const o=this._decorationsTree0.intervalSearch(e,t,n,r,i,s);const a=this._decorationsTree1.intervalSearch(e,t,n,r,i,s);const l=this._injectedTextDecorationsTree.intervalSearch(e,t,n,r,i,s);return o.concat(a).concat(l)}getInjectedTextInInterval(e,t,n,r){const i=e.getVersionId();const s=this._injectedTextDecorationsTree.intervalSearch(t,n,r,false,i,false);return this._ensureNodesHaveRanges(e,s).filter(e=>e.options.showIfCollapsed||!e.range.isEmpty())}getAllInjectedText(e,t){const n=e.getVersionId();const r=this._injectedTextDecorationsTree.search(t,false,n,false);return this._ensureNodesHaveRanges(e,r).filter(e=>e.options.showIfCollapsed||!e.range.isEmpty())}getAll(e,t,n,r,i){const s=e.getVersionId();const o=this._search(t,n,r,s,i);return this._ensureNodesHaveRanges(e,o)}_search(e,t,n,r,i){if(n){return this._decorationsTree1.search(e,t,r,i)}else{const n=this._decorationsTree0.search(e,t,r,i);const s=this._decorationsTree1.search(e,t,r,i);const o=this._injectedTextDecorationsTree.search(e,t,r,i);return n.concat(s).concat(o)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e);const n=this._decorationsTree1.collectNodesFromOwner(e);const r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(n).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder();const t=this._decorationsTree1.collectNodesPostOrder();const n=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(n)}insert(e){if(G(e)){this._injectedTextDecorationsTree.insert(e)}else if(j(e)){this._decorationsTree1.insert(e)}else{this._decorationsTree0.insert(e)}}delete(e){if(G(e)){this._injectedTextDecorationsTree.delete(e)}else if(j(e)){this._decorationsTree1.delete(e)}else{this._decorationsTree0.delete(e)}}getNodeRange(e,t){const n=e.getVersionId();if(t.cachedVersionId!==n){this._resolveNode(t,n)}if(t.range===null){t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)}return t.range}_resolveNode(e,t){if(G(e)){this._injectedTextDecorationsTree.resolveNode(e,t)}else if(j(e)){this._decorationsTree1.resolveNode(e,t)}else{this._decorationsTree0.resolveNode(e,t)}}acceptReplace(e,t,n,r){this._decorationsTree0.acceptReplace(e,t,n,r);this._decorationsTree1.acceptReplace(e,t,n,r);this._injectedTextDecorationsTree.acceptReplace(e,t,n,r)}}function X(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class Y{constructor(e){this.color=e.color||"";this.darkColor=e.darkColor||""}}class Z extends Y{constructor(e){super(e);this._resolvedColor=null;this.position=typeof e.position==="number"?e.position:b.OverviewRulerLane.Center}getColor(e){if(!this._resolvedColor){if(e.type!=="light"&&this.darkColor){this._resolvedColor=this._resolveColor(this.darkColor,e)}else{this._resolvedColor=this._resolveColor(this.color,e)}}return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e==="string"){return e}const n=e?t.getColor(e.id):null;if(!n){return""}return n.toString()}}class J{constructor(e){this.position=e?.position??b.GlyphMarginLane.Center;this.persistLane=e?.persistLane}}class ee extends Y{constructor(e){super(e);this.position=e.position;this.sectionHeaderStyle=e.sectionHeaderStyle??null;this.sectionHeaderText=e.sectionHeaderText??null}getColor(e){if(!this._resolvedColor){if(e.type!=="light"&&this.darkColor){this._resolvedColor=this._resolveColor(this.darkColor,e)}else{this._resolvedColor=this._resolveColor(this.color,e)}}return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=undefined}_resolveColor(e,t){if(typeof e==="string"){return i.Color.fromHex(e)}return t.getColor(e.id)}}class te{static from(e){if(e instanceof te){return e}return new te(e)}constructor(e){this.content=e.content||"";this.inlineClassName=e.inlineClassName||null;this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||false;this.attachedData=e.attachedData||null;this.cursorStops=e.cursorStops||null}}class ne{static register(e){return new ne(e)}static createDynamic(e){return new ne(e)}constructor(e){this.description=e.description;this.blockClassName=e.blockClassName?X(e.blockClassName):null;this.blockDoesNotCollapse=e.blockDoesNotCollapse??null;this.blockIsAfterEnd=e.blockIsAfterEnd??null;this.blockPadding=e.blockPadding??null;this.stickiness=e.stickiness||0;this.zIndex=e.zIndex||0;this.className=e.className?X(e.className):null;this.shouldFillLineOnLineBreak=e.shouldFillLineOnLineBreak??null;this.hoverMessage=e.hoverMessage||null;this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null;this.lineNumberHoverMessage=e.lineNumberHoverMessage||null;this.isWholeLine=e.isWholeLine||false;this.showIfCollapsed=e.showIfCollapsed||false;this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||false;this.overviewRuler=e.overviewRuler?new Z(e.overviewRuler):null;this.minimap=e.minimap?new ee(e.minimap):null;this.glyphMargin=e.glyphMarginClassName?new J(e.glyphMargin):null;this.glyphMarginClassName=e.glyphMarginClassName?X(e.glyphMarginClassName):null;this.linesDecorationsClassName=e.linesDecorationsClassName?X(e.linesDecorationsClassName):null;this.lineNumberClassName=e.lineNumberClassName?X(e.lineNumberClassName):null;this.linesDecorationsTooltip=e.linesDecorationsTooltip?l.htmlAttributeEncodeValue(e.linesDecorationsTooltip):null;this.firstLineDecorationClassName=e.firstLineDecorationClassName?X(e.firstLineDecorationClassName):null;this.marginClassName=e.marginClassName?X(e.marginClassName):null;this.inlineClassName=e.inlineClassName?X(e.inlineClassName):null;this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||false;this.beforeContentClassName=e.beforeContentClassName?X(e.beforeContentClassName):null;this.afterContentClassName=e.afterContentClassName?X(e.afterContentClassName):null;this.after=e.after?te.from(e.after):null;this.before=e.before?te.from(e.before):null;this.hideInCommentTokens=e.hideInCommentTokens??false;this.hideInStringTokens=e.hideInStringTokens??false}}ne.EMPTY=ne.register({description:"empty"});const re=[ne.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ne.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ne.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ne.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ie(e){if(e instanceof ne){return e}return ne.createDynamic(e)}class se extends a.Disposable{constructor(e){super();this.handleBeforeFire=e;this._actual=this._register(new o.Emitter);this.event=this._actual.event;this._affectedInjectedTextLines=null;this._deferredCnt=0;this._shouldFireDeferred=false;this._affectsMinimap=false;this._affectsOverviewRuler=false;this._affectsGlyphMargin=false;this._affectsLineNumber=false}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){this._deferredCnt--;if(this._deferredCnt===0){if(this._shouldFireDeferred){this.doFire()}this._affectedInjectedTextLines?.clear();this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){if(!this._affectedInjectedTextLines){this._affectedInjectedTextLines=new Set}this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||=!!e.minimap?.position;this._affectsOverviewRuler||=!!e.overviewRuler?.color;this._affectsGlyphMargin||=!!e.glyphMarginClassName;this._affectsLineNumber||=!!e.lineNumberClassName;this.tryFire()}fire(){this._affectsMinimap=true;this._affectsOverviewRuler=true;this._affectsGlyphMargin=true;this.tryFire()}tryFire(){if(this._deferredCnt===0){this.doFire()}else{this._shouldFireDeferred=true}}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=false;this._affectsMinimap=false;this._affectsOverviewRuler=false;this._affectsGlyphMargin=false;this._actual.fire(e)}}class oe extends a.Disposable{constructor(){super();this._fastEmitter=this._register(new o.Emitter);this.fastEvent=this._fastEmitter.event;this._slowEmitter=this._register(new o.Emitter);this.slowEvent=this._slowEmitter.event;this._deferredCnt=0;this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){this._deferredCnt--;if(this._deferredCnt===0){if(this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null;this._fastEmitter.fire(t);this._slowEmitter.fire(t)}}}fire(e){if(this._deferredCnt>0){if(this._deferredEvent){this._deferredEvent=this._deferredEvent.merge(e)}else{this._deferredEvent=e}return}this._fastEmitter.fire(e);this._slowEmitter.fire(e)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{countEOL:()=>r});function r(e){let t=0;let n=0;let r=0;let i=0;for(let s=0,o=e.length;s<o;s++){const a=e.charCodeAt(s);if(a===13){if(t===0){n=s}t++;if(s+1<o&&e.charCodeAt(s+1)===10){i|=2;s++}else{i|=3}r=s+1}else if(a===10){i|=1;if(t===0){n=s}t++;r=s+1}}if(t===0){n=e.length}return[t,n,e.length-r,i]}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{normalizeIndentation:()=>o});var r=n(14);var i=n(146);function s(e,t,n){let r=0;for(let n=0;n<e.length;n++){if(e.charAt(n)==="\t"){r=i.CursorColumns.nextIndentTabStop(r,t)}else{r++}}let s="";if(!n){const e=Math.floor(r/t);r=r%t;for(let t=0;t<e;t++){s+="\t"}}for(let e=0;e<r;e++){s+=" "}return s}function o(e,t,n){let i=r.firstNonWhitespaceIndex(e);if(i===-1){i=e.length}return s(e.substring(0,i),t,n)+e.substring(i)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{CursorColumns:()=>i});var r=n(14);class i{static _nextVisibleColumn(e,t,n){if(e===9){return i.nextRenderTabStop(t,n)}if(r.isFullWidthCharacter(e)||r.isEmojiImprecise(e)){return t+2}return t+1}static visibleColumnFromColumn(e,t,n){const i=Math.min(t-1,e.length);const s=e.substring(0,i);const o=new r.GraphemeIterator(s);let a=0;while(!o.eol()){const e=r.getNextCodePoint(s,i,o.offset);o.nextGraphemeLength();a=this._nextVisibleColumn(e,a,n)}return a}static columnFromVisibleColumn(e,t,n){if(t<=0){return 1}const i=e.length;const s=new r.GraphemeIterator(e);let o=0;let a=1;while(!s.eol()){const l=r.getNextCodePoint(e,i,s.offset);s.nextGraphemeLength();const c=this._nextVisibleColumn(l,o,n);const u=s.offset+1;if(c>=t){const e=t-o;const n=c-t;if(n<e){return u}else{return a}}o=c;a=u}return i+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{EDITOR_MODEL_DEFAULTS:()=>r});const r={tabSize:4,indentSize:4,insertSpaces:true,detectIndentation:true,trimAutoWhitespace:true,largeFileOptimizations:true,bracketPairColorizationOptions:{enabled:true,independentColorPoolPerBracketType:false}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ILanguageService:()=>i});var r=n(82);const i=(0,r.createDecorator)("languageService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ILanguageConfigurationService:()=>L,LanguageConfigurationChangeEvent:()=>R,LanguageConfigurationRegistry:()=>A,LanguageConfigurationService:()=>S,LanguageConfigurationServiceChangeEvent:()=>k,ResolvedLanguageConfiguration:()=>O,getIndentationAtPosition:()=>x});var r=n(3);var i=n(5);var s=n(14);var o=n(50);var a=n(150);var l=n(151);var c=n(152);var u=n(157);var h=n(158);var d=n(154);var g=n(82);var f=n(90);var m=n(148);var p=n(97);var _=n(86);var b=n(159);var C=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var v=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};class k{constructor(e){this.languageId=e}affects(e){return!this.languageId?true:this.languageId===e}}const L=(0,g.createDecorator)("languageConfigurationService");let S=class e extends i.Disposable{constructor(e,t){super();this.configurationService=e;this.languageService=t;this._registry=this._register(new A);this.onDidChangeEmitter=this._register(new r.Emitter);this.onDidChange=this.onDidChangeEmitter.event;this.configurations=new Map;const n=new Set(Object.values(y));this._register(this.configurationService.onDidChangeConfiguration(e=>{const t=e.change.keys.some(e=>n.has(e));const r=e.change.overrides.filter(([e,t])=>t.some(e=>n.has(e))).map(([e])=>e);if(t){this.configurations.clear();this.onDidChangeEmitter.fire(new k(undefined))}else{for(const e of r){if(this.languageService.isRegisteredLanguageId(e)){this.configurations.delete(e);this.onDidChangeEmitter.fire(new k(e))}}}}));this._register(this._registry.onDidChange(e=>{this.configurations.delete(e.languageId);this.onDidChangeEmitter.fire(new k(e.languageId))}))}register(e,t,n){return this._registry.register(e,t,n)}getLanguageConfiguration(e){let t=this.configurations.get(e);if(!t){t=w(e,this._registry,this.configurationService,this.languageService);this.configurations.set(e,t)}return t}};S=C([v(0,f.IConfigurationService),v(1,m.ILanguageService)],S);function w(e,t,n,r){let i=t.getLanguageConfiguration(e);if(!i){if(!r.isRegisteredLanguageId(e)){return new O(e,{})}i=new O(e,{})}const s=E(i.languageId,n);const o=N([i.underlyingConfig,s]);const a=new O(i.languageId,o);return a}const y={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function E(e,t){const n=t.getValue(y.brackets,{overrideIdentifier:e});const r=t.getValue(y.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:I(n),colorizedBracketPairs:I(r)}}function I(e){if(!Array.isArray(e)){return undefined}return e.map(e=>{if(!Array.isArray(e)||e.length!==2){return undefined}return[e[0],e[1]]}).filter(e=>!!e)}function x(e,t,n){const r=e.getLineContent(t);let i=s.getLeadingWhitespace(r);if(i.length>n-1){i=i.substring(0,n-1)}return i}class T{constructor(e){this.languageId=e;this._resolved=null;this._entries=[];this._order=0;this._resolved=null}register(e,t){const n=new B(e,t,++this._order);this._entries.push(n);this._resolved=null;return(0,i.toDisposable)(()=>{for(let e=0;e<this._entries.length;e++){if(this._entries[e]===n){this._entries.splice(e,1);this._resolved=null;break}}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();if(e){this._resolved=new O(this.languageId,e)}}return this._resolved}_resolve(){if(this._entries.length===0){return null}this._entries.sort(B.cmp);return N(this._entries.map(e=>e.configuration))}}function N(e){let t={comments:undefined,brackets:undefined,wordPattern:undefined,indentationRules:undefined,onEnterRules:undefined,autoClosingPairs:undefined,surroundingPairs:undefined,autoCloseBefore:undefined,folding:undefined,colorizedBracketPairs:undefined,__electricCharacterSupport:undefined};for(const n of e){t={comments:n.comments||t.comments,brackets:n.brackets||t.brackets,wordPattern:n.wordPattern||t.wordPattern,indentationRules:n.indentationRules||t.indentationRules,onEnterRules:n.onEnterRules||t.onEnterRules,autoClosingPairs:n.autoClosingPairs||t.autoClosingPairs,surroundingPairs:n.surroundingPairs||t.surroundingPairs,autoCloseBefore:n.autoCloseBefore||t.autoCloseBefore,folding:n.folding||t.folding,colorizedBracketPairs:n.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:n.__electricCharacterSupport||t.__electricCharacterSupport}}return t}class B{constructor(e,t,n){this.configuration=e;this.priority=t;this.order=n}static cmp(e,t){if(e.priority===t.priority){return e.order-t.order}return e.priority-t.priority}}class R{constructor(e){this.languageId=e}}class A extends i.Disposable{constructor(){super();this._entries=new Map;this._onDidChange=this._register(new r.Emitter);this.onDidChange=this._onDidChange.event;this._register(this.register(_.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:true}},0))}register(e,t,n=0){let r=this._entries.get(e);if(!r){r=new T(e);this._entries.set(e,r)}const s=r.register(t,n);this._onDidChange.fire(new R(e));return(0,i.toDisposable)(()=>{s.dispose();this._onDidChange.fire(new R(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return t?.getResolvedConfiguration()||null}}class O{constructor(e,t){this.languageId=e;this.underlyingConfig=t;this._brackets=null;this._electricCharacter=null;this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new h.OnEnterSupport(this.underlyingConfig):null;this.comments=O._handleComments(this.underlyingConfig);this.characterPair=new l.CharacterPairSupport(this.underlyingConfig);this.wordDefinition=this.underlyingConfig.wordPattern||o.DEFAULT_WORD_REGEXP;this.indentationRules=this.underlyingConfig.indentationRules;if(this.underlyingConfig.indentationRules){this.indentRulesSupport=new u.IndentRulesSupport(this.underlyingConfig.indentationRules)}else{this.indentRulesSupport=null}this.foldingRules=this.underlyingConfig.folding||{};this.bracketsNew=new b.LanguageBracketsConfiguration(e,this.underlyingConfig)}getWordDefinition(){return(0,o.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){if(!this._brackets&&this.underlyingConfig.brackets){this._brackets=new d.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)}return this._brackets}get electricCharacter(){if(!this._electricCharacter){this._electricCharacter=new c.BracketElectricCharacterSupport(this.brackets)}return this._electricCharacter}onEnter(e,t,n,r){if(!this._onEnterSupport){return null}return this._onEnterSupport.onEnter(e,t,n,r)}getAutoClosingPairs(){return new a.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t){return null}const n={};if(t.lineComment){n.lineCommentToken=t.lineComment}if(t.blockComment){const[e,r]=t.blockComment;n.blockCommentStartToken=e;n.blockCommentEndToken=r}return n}}(0,p.registerSingleton)(L,S,1)},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AutoClosingPairs:()=>s,IndentAction:()=>r,StandardAutoClosingPairConditional:()=>i});var r;(function(e){e[e["None"]=0]="None";e[e["Indent"]=1]="Indent";e[e["IndentOutdent"]=2]="IndentOutdent";e[e["Outdent"]=3]="Outdent"})(r||(r={}));class i{constructor(e){this._neutralCharacter=null;this._neutralCharacterSearched=false;this.open=e.open;this.close=e.close;this._inString=true;this._inComment=true;this._inRegEx=true;if(Array.isArray(e.notIn)){for(let t=0,n=e.notIn.length;t<n;t++){const n=e.notIn[t];switch(n){case"string":this._inString=false;break;case"comment":this._inComment=false;break;case"regex":this._inRegEx=false;break}}}}isOK(e){switch(e){case 0:return true;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0){return true}const n=e.findTokenIndexAtOffset(t-2);const r=e.getStandardTokenType(n);return this.isOK(r)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){const e=String.fromCharCode(n);if(!this.open.includes(e)&&!this.close.includes(e)){return e}}return null}findNeutralCharacter(){if(!this._neutralCharacterSearched){this._neutralCharacterSearched=true;if(!this._neutralCharacter){this._neutralCharacter=this._findNeutralCharacterInRange(48,57)}if(!this._neutralCharacter){this._neutralCharacter=this._findNeutralCharacterInRange(97,122)}if(!this._neutralCharacter){this._neutralCharacter=this._findNeutralCharacterInRange(65,90)}}return this._neutralCharacter}}class s{constructor(e){this.autoClosingPairsOpenByStart=new Map;this.autoClosingPairsOpenByEnd=new Map;this.autoClosingPairsCloseByStart=new Map;this.autoClosingPairsCloseByEnd=new Map;this.autoClosingPairsCloseSingleChar=new Map;for(const t of e){o(this.autoClosingPairsOpenByStart,t.open.charAt(0),t);o(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t);o(this.autoClosingPairsCloseByStart,t.close.charAt(0),t);o(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t);if(t.close.length===1&&t.open.length===1){o(this.autoClosingPairsCloseSingleChar,t.close,t)}}}}function o(e,t,n){if(e.has(t)){e.get(t).push(n)}else{e.set(t,[n])}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{CharacterPairSupport:()=>i});var r=n(150);class i{static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t"}static{this.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t"}constructor(e){if(e.autoClosingPairs){this._autoClosingPairs=e.autoClosingPairs.map(e=>new r.StandardAutoClosingPairConditional(e))}else if(e.brackets){this._autoClosingPairs=e.brackets.map(e=>new r.StandardAutoClosingPairConditional({open:e[0],close:e[1]}))}else{this._autoClosingPairs=[]}if(e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new r.StandardAutoClosingPairConditional({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore==="string"?e.autoCloseBefore:i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES;this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore==="string"?e.autoCloseBefore:i.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS;this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketElectricCharacterSupport:()=>o});var r=n(62);var i=n(153);var s=n(154);class o{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets){for(const t of this._richEditBrackets.brackets){for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}}}return(0,r.distinct)(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0){return null}const r=t.findTokenIndexAtOffset(n-1);if((0,i.ignoreBracketsInToken)(t.getStandardTokenType(r))){return null}const o=this._richEditBrackets.reversedRegex;const a=t.getLineContent().substring(0,n-1)+e;const l=s.BracketsUtils.findPrevBracketInRange(o,1,a,0,a.length);if(!l){return null}const c=a.substring(l.startColumn-1,l.endColumn-1).toLowerCase();const u=this._richEditBrackets.textIsOpenBracket[c];if(u){return null}const h=t.getActualLineContentBefore(l.startColumn-1);if(!/^\s*$/.test(h)){return null}return{matchOpenBracket:c}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ScopedLineTokens:()=>i,createScopedLineTokens:()=>r,ignoreBracketsInToken:()=>s});function r(e,t){const n=e.getCount();const r=e.findTokenIndexAtOffset(t);const s=e.getLanguageId(r);let o=r;while(o+1<n&&e.getLanguageId(o+1)===s){o++}let a=r;while(a>0&&e.getLanguageId(a-1)===s){a--}return new i(e,s,a,o+1,e.getStartOffset(a),e.getEndOffset(o))}class i{constructor(e,t,n,r,i,s){this._scopedLineTokensBrand=undefined;this._actual=e;this.languageId=t;this._firstTokenIndex=n;this._lastTokenIndex=r;this.firstCharOffset=i;this._lastCharOffset=s;this.languageIdCodec=e.languageIdCodec}getLineContent(){const e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){const t=this._actual.getLineContent();return t.substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function s(e){return(e&3)!==0}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketsUtils:()=>C,RichEditBracket:()=>o,RichEditBrackets:()=>l,createBracketOrRegExp:()=>_});var r=n(14);var i=n(155);var s=n(25);class o{constructor(e,t,n,r,i,s){this._richEditBracketBrand=undefined;this.languageId=e;this.index=t;this.open=n;this.close=r;this.forwardRegex=i;this.reversedRegex=s;this._openSet=o._toSet(this.open);this._closeSet=o._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e){t.add(n)}return t}}function a(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const n=[];for(let e=0;e<t;e++){n[e]=e}const r=(e,t)=>{const[n,r]=e;const[i,s]=t;return n===i||n===s||r===i||r===s};const i=(e,r)=>{const i=Math.min(e,r);const s=Math.max(e,r);for(let e=0;e<t;e++){if(n[e]===s){n[e]=i}}};for(let s=0;s<t;s++){const o=e[s];for(let a=s+1;a<t;a++){const t=e[a];if(r(o,t)){i(n[s],n[a])}}}const s=[];for(let r=0;r<t;r++){const i=[];const o=[];for(let s=0;s<t;s++){if(n[s]===r){const[t,n]=e[s];i.push(t);o.push(n)}}if(i.length>0){s.push({open:i,close:o})}}return s}class l{constructor(e,t){this._richEditBracketsBrand=undefined;const n=a(t);this.brackets=n.map((t,r)=>new o(e,r,t.open,t.close,d(t.open,t.close,n,r),g(t.open,t.close,n,r)));this.forwardRegex=f(this.brackets);this.reversedRegex=m(this.brackets);this.textIsBracket={};this.textIsOpenBracket={};this.maxBracketLength=0;for(const e of this.brackets){for(const t of e.open){this.textIsBracket[t]=e;this.textIsOpenBracket[t]=true;this.maxBracketLength=Math.max(this.maxBracketLength,t.length)}for(const t of e.close){this.textIsBracket[t]=e;this.textIsOpenBracket[t]=false;this.maxBracketLength=Math.max(this.maxBracketLength,t.length)}}}}function c(e,t,n,r){for(let i=0,s=t.length;i<s;i++){if(i===n){continue}const s=t[i];for(const t of s.open){if(t.indexOf(e)>=0){r.push(t)}}for(const t of s.close){if(t.indexOf(e)>=0){r.push(t)}}}}function u(e,t){return e.length-t.length}function h(e){if(e.length<=1){return e}const t=[];const n=new Set;for(const r of e){if(n.has(r)){continue}t.push(r);n.add(r)}return t}function d(e,t,n,r){let i=[];i=i.concat(e);i=i.concat(t);for(let e=0,t=i.length;e<t;e++){c(i[e],n,r,i)}i=h(i);i.sort(u);i.reverse();return _(i)}function g(e,t,n,r){let i=[];i=i.concat(e);i=i.concat(t);for(let e=0,t=i.length;e<t;e++){c(i[e],n,r,i)}i=h(i);i.sort(u);i.reverse();return _(i.map(b))}function f(e){let t=[];for(const n of e){for(const e of n.open){t.push(e)}for(const e of n.close){t.push(e)}}t=h(t);return _(t)}function m(e){let t=[];for(const n of e){for(const e of n.open){t.push(e)}for(const e of n.close){t.push(e)}}t=h(t);return _(t.map(b))}function p(e){const t=/^[\w ]+$/.test(e);e=r.escapeRegExpCharacters(e);return t?`\\b${e}\\b`:e}function _(e,t){const n=`(${e.map(p).join(")|(")})`;return r.createRegExp(n,true,t)}const b=function(){function e(e){const t=new Uint16Array(e.length);let n=0;for(let r=e.length-1;r>=0;r--){t[n++]=e.charCodeAt(r)}return i.getPlatformTextDecoder().decode(t)}let t=null;let n=null;return function r(i){if(t!==i){t=i;n=e(t)}return n}}();class C{static _findPrevBracketInText(e,t,n,r){const i=n.match(e);if(!i){return null}const o=n.length-(i.index||0);const a=i[0].length;const l=r+o;return new s.Range(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,n,r,i){const s=b(n);const o=s.substring(n.length-i,n.length-r);return this._findPrevBracketInText(e,t,o,r)}static findNextBracketInText(e,t,n,r){const i=n.match(e);if(!i){return null}const o=i.index||0;const a=i[0].length;if(a===0){return null}const l=r+o;return new s.Range(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,n,r,i){const s=n.substring(r,i);return this.findNextBracketInText(e,t,s,r)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{StringBuilder:()=>f,decodeUTF16LE:()=>d,getPlatformTextDecoder:()=>h});var r=n(14);var i=n(10);var s=n(156);let o;function a(){if(!o){o=new TextDecoder("UTF-16LE")}return o}let l;function c(){if(!l){l=new TextDecoder("UTF-16BE")}return l}let u;function h(){if(!u){u=i.isLittleEndian()?a():c()}return u}function d(e,t,n){const r=new Uint16Array(e.buffer,t,n);if(n>0&&(r[0]===65279||r[0]===65534)){return g(e,t,n)}return a().decode(r)}function g(e,t,n){const r=[];let i=0;for(let o=0;o<n;o++){const n=s.readUInt16LE(e,t);t+=2;r[i++]=String.fromCharCode(n)}return r.join("")}class f{constructor(e){this._capacity=e|0;this._buffer=new Uint16Array(this._capacity);this._completedStrings=null;this._bufferLength=0}reset(){this._completedStrings=null;this._bufferLength=0}build(){if(this._completedStrings!==null){this._flushBuffer();return this._completedStrings.join("")}return this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0){return""}const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return h().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0;if(this._completedStrings===null){this._completedStrings=[e]}else{this._completedStrings[this._completedStrings.length]=e}}appendCharCode(e){const t=this._capacity-this._bufferLength;if(t<=1){if(t===0||r.isHighSurrogate(e)){this._flushBuffer()}}this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){if(this._bufferLength===this._capacity){this._flushBuffer()}this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer();this._completedStrings[this._completedStrings.length]=e;return}for(let n=0;n<t;n++){this._buffer[this._bufferLength++]=e.charCodeAt(n)}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{VSBuffer:()=>a,readUInt16LE:()=>l,readUInt32BE:()=>u,readUInt8:()=>d,writeUInt16LE:()=>c,writeUInt32BE:()=>h,writeUInt8:()=>g});var r=n(16);const i=typeof Buffer!=="undefined";const s=new r.Lazy(()=>new Uint8Array(256));let o;class a{static wrap(e){if(i&&!Buffer.isBuffer(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return new a(e)}constructor(e){this.buffer=e;this.byteLength=this.buffer.byteLength}toString(){if(i){return this.buffer.toString()}else{if(!o){o=new TextDecoder}return o.decode(this.buffer)}}}function l(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function c(e,t,n){e[n+0]=t&255;t=t>>>8;e[n+1]=t&255}function u(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}function h(e,t,n){e[n+3]=t;t=t>>>8;e[n+2]=t;t=t>>>8;e[n+1]=t;t=t>>>8;e[n]=t}function d(e,t){return e[t]}function g(e,t,n){e[n]=t}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IndentRulesSupport:()=>i});function r(e){if(e.global){e.lastIndex=0}return true}class i{constructor(e){this._indentationRules=e}shouldIncrease(e){if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&r(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e)){return true}}return false}shouldDecrease(e){if(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&r(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e)){return true}return false}shouldIndentNextLine(e){if(this._indentationRules&&this._indentationRules.indentNextLinePattern&&r(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e)){return true}return false}shouldIgnore(e){if(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&r(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e)){return true}return false}getIndentMetadata(e){let t=0;if(this.shouldIncrease(e)){t+=1}if(this.shouldDecrease(e)){t+=2}if(this.shouldIndentNextLine(e)){t+=4}if(this.shouldIgnore(e)){t+=8}return t}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{OnEnterSupport:()=>o});var r=n(2);var i=n(14);var s=n(150);class o{constructor(e){e=e||{};e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]];this._brackets=[];e.brackets.forEach(e=>{const t=o._createOpenBracketRegExp(e[0]);const n=o._createCloseBracketRegExp(e[1]);if(t&&n){this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})}});this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,r){if(e>=3){for(let e=0,i=this._regExpRules.length;e<i;e++){const i=this._regExpRules[e];const s=[{reg:i.beforeText,text:n},{reg:i.afterText,text:r},{reg:i.previousLineText,text:t}].every(e=>{if(!e.reg){return true}e.reg.lastIndex=0;return e.reg.test(e.text)});if(s){return i.action}}}if(e>=2){if(n.length>0&&r.length>0){for(let e=0,t=this._brackets.length;e<t;e++){const t=this._brackets[e];if(t.openRegExp.test(n)&&t.closeRegExp.test(r)){return{indentAction:s.IndentAction.IndentOutdent}}}}}if(e>=2){if(n.length>0){for(let e=0,t=this._brackets.length;e<t;e++){const t=this._brackets[e];if(t.openRegExp.test(n)){return{indentAction:s.IndentAction.Indent}}}}}return null}static _createOpenBracketRegExp(e){let t=i.escapeRegExpCharacters(e);if(!/\B/.test(t.charAt(0))){t="\\b"+t}t+="\\s*$";return o._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=i.escapeRegExpCharacters(e);if(!/\B/.test(t.charAt(t.length-1))){t=t+"\\b"}t="^\\s*"+t;return o._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(e){(0,r.onUnexpectedError)(e);return null}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketKindBase:()=>a,ClosingBracketKind:()=>c,LanguageBracketsConfiguration:()=>s,OpeningBracketKind:()=>l});var r=n(15);var i=n(154);class s{constructor(e,t){this.languageId=e;const n=t.brackets?o(t.brackets):[];const i=new r.CachedFunction(e=>{const t=new Set;return{info:new l(this,e,t),closing:t}});const s=new r.CachedFunction(e=>{const t=new Set;const n=new Set;return{info:new c(this,e,t,n),opening:t,openingColorized:n}});for(const[e,t]of n){const n=i.get(e);const r=s.get(t);n.closing.add(r.info);r.opening.add(n.info)}const a=t.colorizedBracketPairs?o(t.colorizedBracketPairs):n.filter(e=>!(e[0]==="<"&&e[1]===">"));for(const[e,t]of a){const n=i.get(e);const r=s.get(t);n.closing.add(r.info);r.openingColorized.add(n.info);r.opening.add(n.info)}this._openingBrackets=new Map([...i.cachedValues].map(([e,t])=>[e,t.info]));this._closingBrackets=new Map([...s.cachedValues].map(([e,t])=>[e,t.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return(0,i.createBracketOrRegExp)(t,e)}}function o(e){return e.filter(([e,t])=>e!==""&&t!=="")}class a{constructor(e,t){this.config=e;this.bracketText=t}get languageId(){return this.config.languageId}}class l extends a{constructor(e,t,n){super(e,t);this.openedBrackets=n;this.isOpeningBracket=true}}class c extends a{constructor(e,t,n,r){super(e,t);this.openingBrackets=n;this.openingColorizedBrackets=r;this.isOpeningBracket=false}closes(e){if(e["config"]!==this.config){return false}return this.openingBrackets.has(e)}closesColorized(e){if(e["config"]!==this.config){return false}return this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketPairsTextModelPart:()=>u});var r=n(62);var i=n(3);var s=n(5);var o=n(25);var a=n(153);var l=n(154);var c=n(161);class u extends s.Disposable{get canBuildAST(){const e=5e4*100;return this.textModel.getValueLength()<=e}constructor(e,t){super();this.textModel=e;this.languageConfigurationService=t;this.bracketPairsTree=this._register(new s.MutableDisposable);this.onDidChangeEmitter=new i.Emitter;this.onDidChange=this.onDidChangeEmitter.event;this.bracketsRequested=false}handleLanguageConfigurationServiceChange(e){if(!e.languageId||this.bracketPairsTree.value?.object.didLanguageChange(e.languageId)){this.bracketPairsTree.clear();this.updateBracketPairsTree()}}handleDidChangeOptions(e){this.bracketPairsTree.clear();this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear();this.updateBracketPairsTree()}handleDidChangeContent(e){this.bracketPairsTree.value?.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){this.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){this.bracketPairsTree.value?.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new s.DisposableStore;this.bracketPairsTree.value=h(e.add(new c.BracketPairsTree(this.textModel,e=>this.languageConfigurationService.getLanguageConfiguration(e))),e);e.add(this.bracketPairsTree.value.object.onDidChange(e=>this.onDidChangeEmitter.fire(e)));this.onDidChangeEmitter.fire()}}else{if(this.bracketPairsTree.value){this.bracketPairsTree.clear();this.onDidChangeEmitter.fire()}}}getBracketPairsInRange(e){this.bracketsRequested=true;this.updateBracketPairsTree();return this.bracketPairsTree.value?.object.getBracketPairsInRange(e,false)||r.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(e){this.bracketsRequested=true;this.updateBracketPairsTree();return this.bracketPairsTree.value?.object.getBracketPairsInRange(e,true)||r.CallbackIterable.empty}getBracketsInRange(e,t=false){this.bracketsRequested=true;this.updateBracketPairsTree();return this.bracketPairsTree.value?.object.getBracketsInRange(e,t)||r.CallbackIterable.empty}findMatchingBracketUp(e,t,n){const r=this.textModel.validatePosition(t);const i=this.textModel.getLanguageIdAtPosition(r.lineNumber,r.column);if(this.canBuildAST){const n=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew.getClosingBracketInfo(e);if(!n){return null}const r=this.getBracketPairsInRange(o.Range.fromPositions(t,t)).findLast(e=>n.closes(e.openingBracketInfo));if(r){return r.openingBracketRange}return null}else{const t=e.toLowerCase();const s=this.languageConfigurationService.getLanguageConfiguration(i).brackets;if(!s){return null}const o=s.textIsBracket[t];if(!o){return null}return f(this._findMatchingBracketUp(o,r,d(n)))}}matchBracket(e,t){if(this.canBuildAST){const t=this.getBracketPairsInRange(o.Range.fromPositions(e,e)).filter(t=>t.closingBracketRange!==undefined&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e))).findLastMaxBy((0,r.compareBy)(t=>t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange,o.Range.compareRangesUsingStarts));if(t){return[t.openingBracketRange,t.closingBracketRange]}return null}else{const n=d(t);return this._matchBracket(this.textModel.validatePosition(e),n)}}_establishBracketSearchOffsets(e,t,n,r){const i=t.getCount();const s=t.getLanguageId(r);let o=Math.max(0,e.column-1-n.maxBracketLength);for(let e=r-1;e>=0;e--){const n=t.getEndOffset(e);if(n<=o){break}if((0,a.ignoreBracketsInToken)(t.getStandardTokenType(e))||t.getLanguageId(e)!==s){o=n;break}}let l=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength);for(let e=r+1;e<i;e++){const n=t.getStartOffset(e);if(n>=l){break}if((0,a.ignoreBracketsInToken)(t.getStandardTokenType(e))||t.getLanguageId(e)!==s){l=n;break}}return{searchStartOffset:o,searchEndOffset:l}}_matchBracket(e,t){const n=e.lineNumber;const r=this.textModel.tokenization.getLineTokens(n);const i=this.textModel.getLineContent(n);const s=r.findTokenIndexAtOffset(e.column-1);if(s<0){return null}const o=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(s)).brackets;if(o&&!(0,a.ignoreBracketsInToken)(r.getStandardTokenType(s))){let{searchStartOffset:a,searchEndOffset:c}=this._establishBracketSearchOffsets(e,r,o,s);let u=null;while(true){const r=l.BracketsUtils.findNextBracketInRange(o.forwardRegex,n,i,a,c);if(!r){break}if(r.startColumn<=e.column&&e.column<=r.endColumn){const e=i.substring(r.startColumn-1,r.endColumn-1).toLowerCase();const n=this._matchFoundBracket(r,o.textIsBracket[e],o.textIsOpenBracket[e],t);if(n){if(n instanceof g){return null}u=n}}a=r.endColumn-1}if(u){return u}}if(s>0&&r.getStartOffset(s)===e.column-1){const o=s-1;const c=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId(o)).brackets;if(c&&!(0,a.ignoreBracketsInToken)(r.getStandardTokenType(o))){const{searchStartOffset:s,searchEndOffset:a}=this._establishBracketSearchOffsets(e,r,c,o);const u=l.BracketsUtils.findPrevBracketInRange(c.reversedRegex,n,i,s,a);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn){const e=i.substring(u.startColumn-1,u.endColumn-1).toLowerCase();const n=this._matchFoundBracket(u,c.textIsBracket[e],c.textIsOpenBracket[e],t);if(n){if(n instanceof g){return null}return n}}}}return null}_matchFoundBracket(e,t,n,r){if(!t){return null}const i=n?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);if(!i){return null}if(i instanceof g){return i}return[e,i]}_findMatchingBracketUp(e,t,n){const r=e.languageId;const i=e.reversedRegex;let s=-1;let o=0;const c=(t,r,a,c)=>{while(true){if(n&&++o%100===0&&!n()){return g.INSTANCE}const u=l.BracketsUtils.findPrevBracketInRange(i,t,r,a,c);if(!u){break}const h=r.substring(u.startColumn-1,u.endColumn-1).toLowerCase();if(e.isOpen(h)){s++}else if(e.isClose(h)){s--}if(s===0){return u}c=u.startColumn-1}return null};for(let e=t.lineNumber;e>=1;e--){const n=this.textModel.tokenization.getLineTokens(e);const i=n.getCount();const s=this.textModel.getLineContent(e);let o=i-1;let l=s.length;let u=s.length;if(e===t.lineNumber){o=n.findTokenIndexAtOffset(t.column-1);l=t.column-1;u=t.column-1}let h=true;for(;o>=0;o--){const t=n.getLanguageId(o)===r&&!(0,a.ignoreBracketsInToken)(n.getStandardTokenType(o));if(t){if(h){l=n.getStartOffset(o)}else{l=n.getStartOffset(o);u=n.getEndOffset(o)}}else{if(h&&l!==u){const t=c(e,s,l,u);if(t){return t}}}h=t}if(h&&l!==u){const t=c(e,s,l,u);if(t){return t}}}return null}_findMatchingBracketDown(e,t,n){const r=e.languageId;const i=e.forwardRegex;let s=1;let o=0;const c=(t,r,a,c)=>{while(true){if(n&&++o%100===0&&!n()){return g.INSTANCE}const u=l.BracketsUtils.findNextBracketInRange(i,t,r,a,c);if(!u){break}const h=r.substring(u.startColumn-1,u.endColumn-1).toLowerCase();if(e.isOpen(h)){s++}else if(e.isClose(h)){s--}if(s===0){return u}a=u.endColumn-1}return null};const u=this.textModel.getLineCount();for(let e=t.lineNumber;e<=u;e++){const n=this.textModel.tokenization.getLineTokens(e);const i=n.getCount();const s=this.textModel.getLineContent(e);let o=0;let l=0;let u=0;if(e===t.lineNumber){o=n.findTokenIndexAtOffset(t.column-1);l=t.column-1;u=t.column-1}let h=true;for(;o<i;o++){const t=n.getLanguageId(o)===r&&!(0,a.ignoreBracketsInToken)(n.getStandardTokenType(o));if(t){if(h){u=n.getEndOffset(o)}else{l=n.getStartOffset(o);u=n.getEndOffset(o)}}else{if(h&&l!==u){const t=c(e,s,l,u);if(t){return t}}}h=t}if(h&&l!==u){const t=c(e,s,l,u);if(t){return t}}}return null}findPrevBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST){this.bracketsRequested=true;this.updateBracketPairsTree();return this.bracketPairsTree.value?.object.getFirstBracketBefore(t)||null}let n=null;let r=null;let i=null;for(let e=t.lineNumber;e>=1;e--){const s=this.textModel.tokenization.getLineTokens(e);const o=s.getCount();const c=this.textModel.getLineContent(e);let u=o-1;let h=c.length;let d=c.length;if(e===t.lineNumber){u=s.findTokenIndexAtOffset(t.column-1);h=t.column-1;d=t.column-1;const e=s.getLanguageId(u);if(n!==e){n=e;r=this.languageConfigurationService.getLanguageConfiguration(n).brackets;i=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}}let g=true;for(;u>=0;u--){const t=s.getLanguageId(u);if(n!==t){if(r&&i&&g&&h!==d){const t=l.BracketsUtils.findPrevBracketInRange(r.reversedRegex,e,c,h,d);if(t){return this._toFoundBracket(i,t)}g=false}n=t;r=this.languageConfigurationService.getLanguageConfiguration(n).brackets;i=this.languageConfigurationService.getLanguageConfiguration(n).bracketsNew}const o=!!r&&!(0,a.ignoreBracketsInToken)(s.getStandardTokenType(u));if(o){if(g){h=s.getStartOffset(u)}else{h=s.getStartOffset(u);d=s.getEndOffset(u)}}else{if(i&&r&&g&&h!==d){const t=l.BracketsUtils.findPrevBracketInRange(r.reversedRegex,e,c,h,d);if(t){return this._toFoundBracket(i,t)}}}g=o}if(i&&r&&g&&h!==d){const t=l.BracketsUtils.findPrevBracketInRange(r.reversedRegex,e,c,h,d);if(t){return this._toFoundBracket(i,t)}}}return null}findNextBracket(e){const t=this.textModel.validatePosition(e);if(this.canBuildAST){this.bracketsRequested=true;this.updateBracketPairsTree();return this.bracketPairsTree.value?.object.getFirstBracketAfter(t)||null}const n=this.textModel.getLineCount();let r=null;let i=null;let s=null;for(let e=t.lineNumber;e<=n;e++){const n=this.textModel.tokenization.getLineTokens(e);const o=n.getCount();const c=this.textModel.getLineContent(e);let u=0;let h=0;let d=0;if(e===t.lineNumber){u=n.findTokenIndexAtOffset(t.column-1);h=t.column-1;d=t.column-1;const e=n.getLanguageId(u);if(r!==e){r=e;i=this.languageConfigurationService.getLanguageConfiguration(r).brackets;s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}}let g=true;for(;u<o;u++){const t=n.getLanguageId(u);if(r!==t){if(s&&i&&g&&h!==d){const t=l.BracketsUtils.findNextBracketInRange(i.forwardRegex,e,c,h,d);if(t){return this._toFoundBracket(s,t)}g=false}r=t;i=this.languageConfigurationService.getLanguageConfiguration(r).brackets;s=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const o=!!i&&!(0,a.ignoreBracketsInToken)(n.getStandardTokenType(u));if(o){if(g){d=n.getEndOffset(u)}else{h=n.getStartOffset(u);d=n.getEndOffset(u)}}else{if(s&&i&&g&&h!==d){const t=l.BracketsUtils.findNextBracketInRange(i.forwardRegex,e,c,h,d);if(t){return this._toFoundBracket(s,t)}}}g=o}if(s&&i&&g&&h!==d){const t=l.BracketsUtils.findNextBracketInRange(i.forwardRegex,e,c,h,d);if(t){return this._toFoundBracket(s,t)}}}return null}findEnclosingBrackets(e,t){const n=this.textModel.validatePosition(e);if(this.canBuildAST){const e=o.Range.fromPositions(n);const t=this.getBracketPairsInRange(o.Range.fromPositions(n,n)).findLast(t=>t.closingBracketRange!==undefined&&t.range.strictContainsRange(e));if(t){return[t.openingBracketRange,t.closingBracketRange]}return null}const r=d(t);const i=this.textModel.getLineCount();const s=new Map;let c=[];const u=(e,t)=>{if(!s.has(e)){const n=[];for(let e=0,r=t?t.brackets.length:0;e<r;e++){n[e]=0}s.set(e,n)}c=s.get(e)};let h=0;const m=(e,t,n,i,s)=>{while(true){if(r&&++h%100===0&&!r()){return g.INSTANCE}const o=l.BracketsUtils.findNextBracketInRange(e.forwardRegex,t,n,i,s);if(!o){break}const a=n.substring(o.startColumn-1,o.endColumn-1).toLowerCase();const u=e.textIsBracket[a];if(u){if(u.isOpen(a)){c[u.index]++}else if(u.isClose(a)){c[u.index]--}if(c[u.index]===-1){return this._matchFoundBracket(o,u,false,r)}}i=o.endColumn-1}return null};let p=null;let _=null;for(let e=n.lineNumber;e<=i;e++){const t=this.textModel.tokenization.getLineTokens(e);const r=t.getCount();const i=this.textModel.getLineContent(e);let s=0;let o=0;let l=0;if(e===n.lineNumber){s=t.findTokenIndexAtOffset(n.column-1);o=n.column-1;l=n.column-1;const e=t.getLanguageId(s);if(p!==e){p=e;_=this.languageConfigurationService.getLanguageConfiguration(p).brackets;u(p,_)}}let c=true;for(;s<r;s++){const n=t.getLanguageId(s);if(p!==n){if(_&&c&&o!==l){const t=m(_,e,i,o,l);if(t){return f(t)}c=false}p=n;_=this.languageConfigurationService.getLanguageConfiguration(p).brackets;u(p,_)}const r=!!_&&!(0,a.ignoreBracketsInToken)(t.getStandardTokenType(s));if(r){if(c){l=t.getEndOffset(s)}else{o=t.getStartOffset(s);l=t.getEndOffset(s)}}else{if(_&&c&&o!==l){const t=m(_,e,i,o,l);if(t){return f(t)}}}c=r}if(_&&c&&o!==l){const t=m(_,e,i,o,l);if(t){return f(t)}}}return null}_toFoundBracket(e,t){if(!t){return null}let n=this.textModel.getValueInRange(t);n=n.toLowerCase();const r=e.getBracketInfo(n);if(!r){return null}return{range:t,bracketInfo:r}}}function h(e,t){return{object:e,dispose:()=>t?.dispose()}}function d(e){if(typeof e==="undefined"){return()=>true}else{const t=Date.now();return()=>Date.now()-t<=e}}class g{static{this.INSTANCE=new g}constructor(){this._searchCanceledBrand=undefined}}function f(e){if(e instanceof g){return null}return e}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketPairsTree:()=>f});var r=n(3);var i=n(5);var s=n(162);var o=n(163);var a=n(165);var l=n(164);var c=n(170);var u=n(167);var h=n(168);var d=n(62);var g=n(173);class f extends i.Disposable{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){super();this.textModel=e;this.getLanguageConfiguration=t;this.didChangeEmitter=new r.Emitter;this.denseKeyProvider=new u.DenseKeyProvider;this.brackets=new a.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration);this.onDidChange=this.didChangeEmitter.event;this.queuedTextEditsForInitialAstWithoutTokens=[];this.queuedTextEdits=[];if(!e.tokenization.hasTokens){const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId());const t=new h.FastTokenizer(this.textModel.getValue(),e);this.initialAstWithoutTokens=(0,c.parseDocument)(t,[],undefined,true);this.astWithTokens=this.initialAstWithoutTokens}else if(e.tokenization.backgroundTokenizationState===2){this.initialAstWithoutTokens=undefined;this.astWithTokens=this.parseDocumentFromTextBuffer([],undefined,false)}else{this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],undefined,true);this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===undefined;this.initialAstWithoutTokens=undefined;if(!e){this.didChangeEmitter.fire()}}}handleDidChangeTokens({ranges:e}){const t=e.map(e=>new o.TextEditInfo((0,l.toLength)(e.fromLineNumber-1,0),(0,l.toLength)(e.toLineNumber,0),(0,l.toLength)(e.toLineNumber-e.fromLineNumber+1,0)));this.handleEdits(t,true);if(!this.initialAstWithoutTokens){this.didChangeEmitter.fire()}}handleContentChanged(e){const t=o.TextEditInfo.fromModelContentChanges(e.changes);this.handleEdits(t,false)}handleEdits(e,t){const n=(0,g.combineTextEditInfos)(this.queuedTextEdits,e);this.queuedTextEdits=n;if(this.initialAstWithoutTokens&&!t){this.queuedTextEditsForInitialAstWithoutTokens=(0,g.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,e)}}flushQueue(){if(this.queuedTextEdits.length>0){this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,false);this.queuedTextEdits=[]}if(this.queuedTextEditsForInitialAstWithoutTokens.length>0){if(this.initialAstWithoutTokens){this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,false)}this.queuedTextEditsForInitialAstWithoutTokens=[]}}parseDocumentFromTextBuffer(e,t,n){const r=false;const i=r?t?.deepClone():t;const s=new h.TextBufferTokenizer(this.textModel,this.brackets);const o=(0,c.parseDocument)(s,e,i,n);return o}getBracketsInRange(e,t){this.flushQueue();const n=(0,l.toLength)(e.startLineNumber-1,e.startColumn-1);const r=(0,l.toLength)(e.endLineNumber-1,e.endColumn-1);return new d.CallbackIterable(e=>{const i=this.initialAstWithoutTokens||this.astWithTokens;_(i,l.lengthZero,i.length,n,r,e,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const n=(0,l.positionToLength)(e.getStartPosition());const r=(0,l.positionToLength)(e.getEndPosition());return new d.CallbackIterable(e=>{const i=this.initialAstWithoutTokens||this.astWithTokens;const s=new b(e,t,this.textModel);C(i,l.lengthZero,i.length,n,r,s,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return p(t,l.lengthZero,t.length,(0,l.positionToLength)(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return m(t,l.lengthZero,t.length,(0,l.positionToLength)(e))}}function m(e,t,n,r){if(e.kind===4||e.kind===2){const i=[];for(const r of e.children){n=(0,l.lengthAdd)(t,r.length);i.push({nodeOffsetStart:t,nodeOffsetEnd:n});t=n}for(let t=i.length-1;t>=0;t--){const{nodeOffsetStart:n,nodeOffsetEnd:s}=i[t];if((0,l.lengthLessThan)(n,r)){const i=m(e.children[t],n,s,r);if(i){return i}}}return null}else if(e.kind===3){return null}else if(e.kind===1){const r=(0,l.lengthsToRange)(t,n);return{bracketInfo:e.bracketInfo,range:r}}return null}function p(e,t,n,r){if(e.kind===4||e.kind===2){for(const i of e.children){n=(0,l.lengthAdd)(t,i.length);if((0,l.lengthLessThan)(r,n)){const e=p(i,t,n,r);if(e){return e}}t=n}return null}else if(e.kind===3){return null}else if(e.kind===1){const r=(0,l.lengthsToRange)(t,n);return{bracketInfo:e.bracketInfo,range:r}}return null}function _(e,t,n,r,i,o,a,c,u,h,d=false){if(a>200){return true}e:while(true){switch(e.kind){case 4:{const s=e.childrenLength;for(let c=0;c<s;c++){const s=e.getChild(c);if(!s){continue}n=(0,l.lengthAdd)(t,s.length);if((0,l.lengthLessThanEqual)(t,i)&&(0,l.lengthGreaterThanEqual)(n,r)){const c=(0,l.lengthGreaterThanEqual)(n,i);if(c){e=s;continue e}const d=_(s,t,n,r,i,o,a,0,u,h);if(!d){return false}}t=n}return true}case 2:{const s=!h||!e.closingBracket||e.closingBracket.bracketInfo.closesColorized(e.openingBracket.bracketInfo);let d=0;if(u){let t=u.get(e.openingBracket.text);if(t===undefined){t=0}d=t;if(s){t++;u.set(e.openingBracket.text,t)}}const g=e.childrenLength;for(let f=0;f<g;f++){const g=e.getChild(f);if(!g){continue}n=(0,l.lengthAdd)(t,g.length);if((0,l.lengthLessThanEqual)(t,i)&&(0,l.lengthGreaterThanEqual)(n,r)){const f=(0,l.lengthGreaterThanEqual)(n,i);if(f&&g.kind!==1){e=g;if(s){a++;c=d+1}else{c=d}continue e}if(s||g.kind!==1||!e.closingBracket){const l=_(g,t,n,r,i,o,s?a+1:a,s?d+1:d,u,h,!e.closingBracket);if(!l){return false}}}t=n}u?.set(e.openingBracket.text,d);return true}case 3:{const e=(0,l.lengthsToRange)(t,n);return o(new s.BracketInfo(e,a-1,0,true))}case 1:{const e=(0,l.lengthsToRange)(t,n);return o(new s.BracketInfo(e,a-1,c-1,d))}case 0:return true}}}class b{constructor(e,t,n){this.push=e;this.includeMinIndentation=t;this.textModel=n}}function C(e,t,n,r,i,o,a,c){if(a>200){return true}let u=true;if(e.kind===2){let h=0;if(c){let t=c.get(e.openingBracket.text);if(t===undefined){t=0}h=t;t++;c.set(e.openingBracket.text,t)}const d=(0,l.lengthAdd)(t,e.openingBracket.length);let g=-1;if(o.includeMinIndentation){g=e.computeMinIndentation(t,o.textModel)}u=o.push(new s.BracketPairWithMinIndentationInfo((0,l.lengthsToRange)(t,n),(0,l.lengthsToRange)(t,d),e.closingBracket?(0,l.lengthsToRange)((0,l.lengthAdd)(d,e.child?.length||l.lengthZero),n):undefined,a,h,e,g));t=d;if(u&&e.child){const s=e.child;n=(0,l.lengthAdd)(t,s.length);if((0,l.lengthLessThanEqual)(t,i)&&(0,l.lengthGreaterThanEqual)(n,r)){u=C(s,t,n,r,i,o,a+1,c);if(!u){return false}}}c?.set(e.openingBracket.text,h)}else{let n=t;for(const t of e.children){const e=n;n=(0,l.lengthAdd)(n,t.length);if((0,l.lengthLessThanEqual)(e,i)&&(0,l.lengthLessThanEqual)(r,n)){u=C(t,e,n,r,i,o,a,c);if(!u){return false}}}}return u}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketInfo:()=>r,BracketPairInfo:()=>i,BracketPairWithMinIndentationInfo:()=>s});class r{constructor(e,t,n,r){this.range=e;this.nestingLevel=t;this.nestingLevelOfEqualBracketType=n;this.isInvalid=r}}class i{constructor(e,t,n,r,i,s){this.range=e;this.openingBracketRange=t;this.closingBracketRange=n;this.nestingLevel=r;this.nestingLevelOfEqualBracketType=i;this.bracketPairNode=s}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class s extends i{constructor(e,t,n,r,i,s,o){super(e,t,n,r,i,s);this.minVisibleColumnIndentation=o}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BeforeEditPositionMapper:()=>o,TextEditInfo:()=>s});var r=n(25);var i=n(164);class s{static fromModelContentChanges(e){const t=e.map(e=>{const t=r.Range.lift(e.range);return new s((0,i.positionToLength)(t.getStartPosition()),(0,i.positionToLength)(t.getEndPosition()),(0,i.lengthOfString)(e.text))}).reverse();return t}constructor(e,t,n){this.startOffset=e;this.endOffset=t;this.newLength=n}toString(){return`[${(0,i.lengthToObj)(this.startOffset)}...${(0,i.lengthToObj)(this.endOffset)}) -> ${(0,i.lengthToObj)(this.newLength)}`}}class o{constructor(e){this.nextEditIdx=0;this.deltaOldToNewLineCount=0;this.deltaOldToNewColumnCount=0;this.deltaLineIdxInOld=-1;this.edits=e.map(e=>a.from(e))}getOffsetBeforeChange(e){this.adjustNextEdit(e);return this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx];const n=t?this.translateOldToCur(t.offsetObj):null;if(n===null){return null}return(0,i.lengthDiffNonNegative)(e,n)}translateOldToCur(e){if(e.lineCount===this.deltaLineIdxInOld){return(0,i.toLength)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount)}else{return(0,i.toLength)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}}translateCurToOld(e){const t=(0,i.lengthToObj)(e);if(t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld){return(0,i.toLength)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount)}else{return(0,i.toLength)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}}adjustNextEdit(e){while(this.nextEditIdx<this.edits.length){const t=this.edits[this.nextEditIdx];const n=this.translateOldToCur(t.endOffsetAfterObj);if((0,i.lengthLessThanEqual)(n,e)){this.nextEditIdx++;const e=(0,i.lengthToObj)(n);const r=(0,i.lengthToObj)(this.translateOldToCur(t.endOffsetBeforeObj));const s=e.lineCount-r.lineCount;this.deltaOldToNewLineCount+=s;const o=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0;const a=e.columnCount-r.columnCount;this.deltaOldToNewColumnCount=o+a;this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else{break}}}}class a{static from(e){return new a(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,n){this.endOffsetBeforeObj=(0,i.lengthToObj)(t);this.endOffsetAfterObj=(0,i.lengthToObj)((0,i.lengthAdd)(e,n));this.offsetObj=(0,i.lengthToObj)(e)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{lengthAdd:()=>f,lengthDiff:()=>o,lengthDiffNonNegative:()=>_,lengthEquals:()=>p,lengthGetColumnCountIfZeroLineCount:()=>g,lengthGetLineCount:()=>d,lengthGreaterThanEqual:()=>v,lengthIsZero:()=>l,lengthLessThan:()=>b,lengthLessThanEqual:()=>C,lengthOfString:()=>S,lengthToObj:()=>h,lengthZero:()=>a,lengthsToRange:()=>L,positionToLength:()=>k,sumLengths:()=>m,toLength:()=>u});var r=n(14);var i=n(25);var s=n(60);function o(e,t,n,r){return e!==n?u(n-e,r):u(0,r-t)}const a=0;function l(e){return e===0}const c=2**26;function u(e,t){return e*c+t}function h(e){const t=e;const n=Math.floor(t/c);const r=t-n*c;return new s.TextLength(n,r)}function d(e){return Math.floor(e/c)}function g(e){return e}function f(e,t){let n=e+t;if(t>=c){n=n-e%c}return n}function m(e,t){return e.reduce((e,n)=>f(e,t(n)),a)}function p(e,t){return e===t}function _(e,t){const n=e;const r=t;const i=r-n;if(i<=0){return a}const s=Math.floor(n/c);const o=Math.floor(r/c);const l=r-o*c;if(s===o){const e=n-s*c;return u(0,l-e)}else{return u(o-s,l)}}function b(e,t){return e<t}function C(e,t){return e<=t}function v(e,t){return e>=t}function k(e){return u(e.lineNumber-1,e.column-1)}function L(e,t){const n=e;const r=Math.floor(n/c);const s=n-r*c;const o=t;const a=Math.floor(o/c);const l=o-a*c;return new i.Range(r+1,s+1,a+1,l+1)}function S(e){const t=(0,r.splitLines)(e);return u(t.length-1,t[t.length-1].length)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketTokens:()=>l,LanguageAgnosticBracketTokens:()=>u});var r=n(14);var i=n(166);var s=n(164);var o=n(167);var a=n(168);class l{static createFromLanguage(e,t){function n(e){return t.getKey(`${e.languageId}:::${e.bracketText}`)}const r=new Map;for(const t of e.bracketsNew.openingBrackets){const e=(0,s.toLength)(0,t.bracketText.length);const l=n(t);const c=o.SmallImmutableSet.getEmpty().add(l,o.identityKeyProvider);r.set(t.bracketText,new a.Token(e,1,l,c,i.BracketAstNode.create(e,t,c)))}for(const t of e.bracketsNew.closingBrackets){const e=(0,s.toLength)(0,t.bracketText.length);let l=o.SmallImmutableSet.getEmpty();const c=t.getOpeningBrackets();for(const e of c){l=l.add(n(e),o.identityKeyProvider)}r.set(t.bracketText,new a.Token(e,2,n(c[0]),l,i.BracketAstNode.create(e,t,l)))}return new l(r)}constructor(e){this.map=e;this.hasRegExp=false;this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty){return null}else{const e=[...this.map.keys()];e.sort();e.reverse();return e.map(e=>c(e)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null;this.hasRegExp=true}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,n]of this.map){if(n.kind===2&&n.bracketIds.intersects(e)){return t}}return undefined}get isEmpty(){return this.map.size===0}}function c(e){let t=(0,r.escapeRegExpCharacters)(e);if(/^[\w ]+/.test(e)){t=`\\b${t}`}if(/[\w ]+$/.test(e)){t=`${t}\\b`}return t}class u{constructor(e,t){this.denseKeyProvider=e;this.getLanguageConfiguration=t;this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);if(!t){t=l.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider);this.languageIdToBracketTokens.set(e,t)}return t}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketAstNode:()=>_,InvalidBracketAstNode:()=>b,ListAstNode:()=>c,PairAstNode:()=>l,TextAstNode:()=>p});var r=n(2);var i=n(146);var s=n(164);var o=n(167);class a{get length(){return this._length}constructor(e){this._length=e}}class l extends a{static create(e,t,n){let r=e.length;if(t){r=(0,s.lengthAdd)(r,t.length)}if(n){r=(0,s.lengthAdd)(r,n.length)}return new l(r,e,t,n,t?t.missingOpeningBracketIds:o.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];e.push(this.openingBracket);if(this.child){e.push(this.child)}if(this.closingBracket){e.push(this.closingBracket)}return e}constructor(e,t,n,r,i){super(e);this.openingBracket=t;this.child=n;this.closingBracket=r;this.missingOpeningBracketIds=i}canBeReused(e){if(this.closingBracket===null){return false}if(e.intersects(this.missingOpeningBracketIds)){return false}return true}deepClone(){return new l(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation((0,s.lengthAdd)(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class c extends a{static create23(e,t,n,r=false){let i=e.length;let o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight){throw new Error("Invalid list heights")}i=(0,s.lengthAdd)(i,t.length);o=o.merge(t.missingOpeningBracketIds);if(n){if(e.listHeight!==n.listHeight){throw new Error("Invalid list heights")}i=(0,s.lengthAdd)(i,n.length);o=o.merge(n.missingOpeningBracketIds)}return r?new h(i,e.listHeight+1,e,t,n,o):new u(i,e.listHeight+1,e,t,n,o)}static getEmpty(){return new g(s.lengthZero,0,[],o.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,n){super(e);this.listHeight=t;this._missingOpeningBracketIds=n;this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0){return undefined}const t=this.getChild(e-1);const n=t.kind===4?t.toMutable():t;if(t!==n){this.setChild(e-1,n)}return n}makeFirstElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0){return undefined}const t=this.getChild(0);const n=t.kind===4?t.toMutable():t;if(t!==n){this.setChild(0,n)}return n}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)){return false}if(this.childrenLength===0){return false}let t=this;while(t.kind===4){const e=t.childrenLength;if(e===0){throw new r.BugIndicatingError}t=t.getChild(e-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length;let n=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<e;r++){const e=this.getChild(r);t=(0,s.lengthAdd)(t,e.length);n=n.merge(e.missingOpeningBracketIds)}this._length=t;this._missingOpeningBracketIds=n;this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1){return this.cachedMinIndentation}let n=Number.MAX_SAFE_INTEGER;let r=e;for(let e=0;e<this.childrenLength;e++){const i=this.getChild(e);if(i){n=Math.min(n,i.computeMinIndentation(r,t));r=(0,s.lengthAdd)(r,i.length)}}this.cachedMinIndentation=n;return n}}class u extends c{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,n,r,i,s){super(e,t,s);this._item1=n;this._item2=r;this._item3=i}deepClone(){return new u(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3){throw new Error("Cannot append to a full (2,3) tree node")}this.throwIfImmutable();this._item3=e;this.handleChildrenChanged()}unappendChild(){if(!this._item3){throw new Error("Cannot remove from a non-full (2,3) tree node")}this.throwIfImmutable();const e=this._item3;this._item3=null;this.handleChildrenChanged();return e}prependChildOfSameHeight(e){if(this._item3){throw new Error("Cannot prepend to a full (2,3) tree node")}this.throwIfImmutable();this._item3=this._item2;this._item2=this._item1;this._item1=e;this.handleChildrenChanged()}unprependChild(){if(!this._item3){throw new Error("Cannot remove from a non-full (2,3) tree node")}this.throwIfImmutable();const e=this._item1;this._item1=this._item2;this._item2=this._item3;this._item3=null;this.handleChildrenChanged();return e}toMutable(){return this}}class h extends u{toMutable(){return new u(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class d extends c{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,n,r){super(e,t,r);this._children=n}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++){e[t]=this._children[t].deepClone()}return new d(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable();this._children.push(e);this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();this.handleChildrenChanged();return e}prependChildOfSameHeight(e){this.throwIfImmutable();this._children.unshift(e);this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();this.handleChildrenChanged();return e}toMutable(){return this}}class g extends d{toMutable(){return new d(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const f=[];class m extends a{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return f}deepClone(){return this}}class p extends m{get kind(){return 0}get missingOpeningBracketIds(){return o.SmallImmutableSet.getEmpty()}canBeReused(e){return true}computeMinIndentation(e,t){const n=(0,s.lengthToObj)(e);const r=(n.columnCount===0?n.lineCount:n.lineCount+1)+1;const o=(0,s.lengthGetLineCount)((0,s.lengthAdd)(e,this.length))+1;let a=Number.MAX_SAFE_INTEGER;for(let e=r;e<=o;e++){const n=t.getLineFirstNonWhitespaceColumn(e);const r=t.getLineContent(e);if(n===0){continue}const s=i.CursorColumns.visibleColumnFromColumn(r,n,t.getOptions().tabSize);a=Math.min(a,s)}return a}}class _ extends m{static create(e,t,n){const r=new _(e,t,n);return r}get kind(){return 1}get missingOpeningBracketIds(){return o.SmallImmutableSet.getEmpty()}constructor(e,t,n){super(e);this.bracketInfo=t;this.bracketIds=n}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return false}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class b extends m{get kind(){return 3}constructor(e,t){super(t);this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DenseKeyProvider:()=>o,SmallImmutableSet:()=>i,identityKeyProvider:()=>s});const r=[];class i{static{this.cache=new Array(129)}static create(e,t){if(e<=128&&t.length===0){let n=i.cache[e];if(!n){n=new i(e,t);i.cache[e]=n}return n}return new i(e,t)}static{this.empty=i.create(0,r)}static getEmpty(){return this.empty}constructor(e,t){this.items=e;this.additionalItems=t}add(e,t){const n=t.getKey(e);let r=n>>5;if(r===0){const e=1<<n|this.items;if(e===this.items){return this}return i.create(e,this.additionalItems)}r--;const s=this.additionalItems.slice(0);while(s.length<r){s.push(0)}s[r]|=1<<(n&31);return i.create(this.items,s)}merge(e){const t=this.items|e.items;if(this.additionalItems===r&&e.additionalItems===r){if(t===this.items){return this}if(t===e.items){return e}return i.create(t,r)}const n=[];for(let t=0;t<Math.max(this.additionalItems.length,e.additionalItems.length);t++){const r=this.additionalItems[t]||0;const i=e.additionalItems[t]||0;n.push(r|i)}return i.create(t,n)}intersects(e){if((this.items&e.items)!==0){return true}for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++){if((this.additionalItems[t]&e.additionalItems[t])!==0){return true}}return false}}const s={getKey(e){return e}};class o{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);if(t===undefined){t=this.items.size;this.items.set(e,t)}return t}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{FastTokenizer:()=>h,TextBufferTokenizer:()=>c,Token:()=>l});var r=n(2);var i=n(169);var s=n(166);var o=n(164);var a=n(167);class l{constructor(e,t,n,r,i){this.length=e;this.kind=t;this.bracketId=n;this.bracketIds=r;this.astNode=i}}class c{constructor(e,t){this.textModel=e;this.bracketTokens=t;this.reader=new u(this.textModel,this.bracketTokens);this._offset=o.lengthZero;this.didPeek=false;this.peeked=null;this.textBufferLineCount=e.getLineCount();this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,o.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=false;this._offset=(0,o.lengthAdd)(this._offset,e);const t=(0,o.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;if(this.peeked){this.didPeek=false;e=this.peeked}else{e=this.reader.read()}if(e){this._offset=(0,o.lengthAdd)(this._offset,e.length)}return e}peek(){if(!this.didPeek){this.peeked=this.reader.read();this.didPeek=true}return this.peeked}}class u{constructor(e,t){this.textModel=e;this.bracketTokens=t;this.lineIdx=0;this.line=null;this.lineCharOffset=0;this.lineTokens=null;this.lineTokenOffset=0;this.peekedToken=null;this.textBufferLineCount=e.getLineCount();this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){if(e===this.lineIdx){this.lineCharOffset=t;if(this.line!==null){this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)}}else{this.lineIdx=e;this.lineCharOffset=t;this.line=null}this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;this.peekedToken=null;this.lineCharOffset+=(0,o.lengthGetColumnCountIfZeroLineCount)(e.length);return e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength){return null}if(this.line===null){this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1);this.line=this.lineTokens.getLineContent();this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)}const e=this.lineIdx;const t=this.lineCharOffset;let n=0;while(true){const r=this.lineTokens;const s=r.getCount();let a=null;if(this.lineTokenOffset<s){const l=r.getMetadata(this.lineTokenOffset);while(this.lineTokenOffset+1<s&&l===r.getMetadata(this.lineTokenOffset+1)){this.lineTokenOffset++}const c=i.TokenMetadata.getTokenType(l)===0;const u=i.TokenMetadata.containsBalancedBrackets(l);const h=r.getEndOffset(this.lineTokenOffset);if(u&&c&&this.lineCharOffset<h){const e=r.getLanguageId(this.lineTokenOffset);const t=this.line.substring(this.lineCharOffset,h);const n=this.bracketTokens.getSingleLanguageBracketTokens(e);const i=n.regExpGlobal;if(i){i.lastIndex=0;const e=i.exec(t);if(e){a=n.getToken(e[0]);if(a){this.lineCharOffset+=e.index}}}}n+=h-this.lineCharOffset;if(a){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}else{this.lineCharOffset+=(0,o.lengthGetColumnCountIfZeroLineCount)(a.length);return a}}else{this.lineTokenOffset++;this.lineCharOffset=h}}else{if(this.lineIdx===this.textBufferLineCount-1){break}this.lineIdx++;this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1);this.lineTokenOffset=0;this.line=this.lineTokens.getLineContent();this.lineCharOffset=0;n+=33;if(n>1e3){break}}if(n>1500){break}}const r=(0,o.lengthDiff)(e,t,this.lineIdx,this.lineCharOffset);return new l(r,0,-1,a.SmallImmutableSet.getEmpty(),new s.TextAstNode(r))}}class h{constructor(e,t){this.text=e;this._offset=o.lengthZero;this.idx=0;const n=t.getRegExpStr();const r=n?new RegExp(n+"|\n","gi"):null;const i=[];let c;let u=0;let h=0;let d=0;let g=0;const f=[];for(let e=0;e<60;e++){f.push(new l((0,o.toLength)(0,e),0,-1,a.SmallImmutableSet.getEmpty(),new s.TextAstNode((0,o.toLength)(0,e))))}const m=[];for(let e=0;e<60;e++){m.push(new l((0,o.toLength)(1,e),0,-1,a.SmallImmutableSet.getEmpty(),new s.TextAstNode((0,o.toLength)(1,e))))}if(r){r.lastIndex=0;while((c=r.exec(e))!==null){const e=c.index;const n=c[0];if(n==="\n"){u++;h=e+1}else{if(d!==e){let t;if(g===u){const n=e-d;if(n<f.length){t=f[n]}else{const e=(0,o.toLength)(0,n);t=new l(e,0,-1,a.SmallImmutableSet.getEmpty(),new s.TextAstNode(e))}}else{const n=u-g;const r=e-h;if(n===1&&r<m.length){t=m[r]}else{const e=(0,o.toLength)(n,r);t=new l(e,0,-1,a.SmallImmutableSet.getEmpty(),new s.TextAstNode(e))}}i.push(t)}i.push(t.getToken(n));d=e+n.length;g=u}}}const p=e.length;if(d!==p){const e=g===u?(0,o.toLength)(0,p-d):(0,o.toLength)(u-g,p-h);i.push(new l(e,0,-1,a.SmallImmutableSet.getEmpty(),new s.TextAstNode(e)))}this.length=(0,o.toLength)(u,p-h);this.tokens=i}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new r.NotSupportedError}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{TokenMetadata:()=>r});class r{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static getClassNameFromMetadata(e){const t=this.getForeground(e);let n="mtk"+t;const r=this.getFontStyle(e);if(r&1){n+=" mtki"}if(r&2){n+=" mtkb"}if(r&4){n+=" mtku"}if(r&8){n+=" mtks"}return n}static getInlineStyleFromMetadata(e,t){const n=this.getForeground(e);const r=this.getFontStyle(e);let i=`color: ${t[n]};`;if(r&1){i+="font-style: italic;"}if(r&2){i+="font-weight: bold;"}let s="";if(r&4){s+=" underline"}if(r&8){s+=" line-through"}if(s){i+=`text-decoration:${s};`}return i}static getPresentationFromMetadata(e){const t=this.getForeground(e);const n=this.getFontStyle(e);return{foreground:t,italic:Boolean(n&1),bold:Boolean(n&2),underline:Boolean(n&4),strikethrough:Boolean(n&8)}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{parseDocument:()=>c});var r=n(166);var i=n(163);var s=n(167);var o=n(164);var a=n(171);var l=n(172);function c(e,t,n,r){const i=new u(e,t,n,r);return i.parseDocument()}class u{constructor(e,t,n,r){this.tokenizer=e;this.createImmutableLists=r;this._itemsConstructed=0;this._itemsFromCache=0;if(n&&r){throw new Error("Not supported")}this.oldNodeReader=n?new l.NodeReader(n):undefined;this.positionMapper=new i.BeforeEditPositionMapper(t)}parseDocument(){this._itemsConstructed=0;this._itemsFromCache=0;let e=this.parseList(s.SmallImmutableSet.getEmpty(),0);if(!e){e=r.ListAstNode.getEmpty()}return e}parseList(e,t){const n=[];while(true){let r=this.tryReadChildFromCache(e);if(!r){const n=this.tokenizer.peek();if(!n||n.kind===2&&n.bracketIds.intersects(e)){break}r=this.parseChild(e,t+1)}if(r.kind===4&&r.childrenLength===0){continue}n.push(r)}const r=this.oldNodeReader?(0,a.concat23Trees)(n):(0,a.concat23TreesOfSameHeight)(n,this.createImmutableLists);return r}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!(0,o.lengthIsZero)(t)){const n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),n=>{if(t!==null&&!(0,o.lengthLessThan)(n.length,t)){return false}const r=n.canBeReused(e);return r});if(n){this._itemsFromCache++;this.tokenizer.skip(n.length);return n}}}return undefined}parseChild(e,t){this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new r.InvalidBracketAstNode(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(t>300){return new r.TextAstNode(n.length)}const i=e.merge(n.bracketIds);const s=this.parseList(i,t+1);const o=this.tokenizer.peek();if(o&&o.kind===2&&(o.bracketId===n.bracketId||o.bracketIds.intersects(n.bracketIds))){this.tokenizer.read();return r.PairAstNode.create(n.astNode,s,o.astNode)}else{return r.PairAstNode.create(n.astNode,s,null)}}default:throw new Error("unexpected")}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{concat23Trees:()=>i,concat23TreesOfSameHeight:()=>s});var r=n(166);function i(e){if(e.length===0){return null}if(e.length===1){return e[0]}let t=0;function n(){if(t>=e.length){return null}const n=t;const r=e[n].listHeight;t++;while(t<e.length&&e[t].listHeight===r){t++}if(t-n>=2){return s(n===0&&t===e.length?e:e.slice(n,t),false)}else{return e[n]}}let r=n();let i=n();if(!i){return r}for(let e=n();e;e=n()){if(o(r,i)<=o(i,e)){r=a(r,i);i=e}else{i=a(i,e)}}const l=a(r,i);return l}function s(e,t=false){if(e.length===0){return null}if(e.length===1){return e[0]}let n=e.length;while(n>3){const i=n>>1;for(let s=0;s<i;s++){const i=s<<1;e[s]=r.ListAstNode.create23(e[i],e[i+1],i+3===n?e[i+2]:null,t)}n=i}return r.ListAstNode.create23(e[0],e[1],n>=3?e[2]:null,t)}function o(e,t){return Math.abs(e.listHeight-t.listHeight)}function a(e,t){if(e.listHeight===t.listHeight){return r.ListAstNode.create23(e,t,null,false)}else if(e.listHeight>t.listHeight){return l(e,t)}else{return c(t,e)}}function l(e,t){e=e.toMutable();let n=e;const i=[];let s;while(true){if(t.listHeight===n.listHeight){s=t;break}if(n.kind!==4){throw new Error("unexpected")}i.push(n);n=n.makeLastElementMutable()}for(let e=i.length-1;e>=0;e--){const t=i[e];if(s){if(t.childrenLength>=3){s=r.ListAstNode.create23(t.unappendChild(),s,null,false)}else{t.appendChildOfSameHeight(s);s=undefined}}else{t.handleChildrenChanged()}}if(s){return r.ListAstNode.create23(e,s,null,false)}else{return e}}function c(e,t){e=e.toMutable();let n=e;const i=[];while(t.listHeight!==n.listHeight){if(n.kind!==4){throw new Error("unexpected")}i.push(n);n=n.makeFirstElementMutable()}let s=t;for(let e=i.length-1;e>=0;e--){const t=i[e];if(s){if(t.childrenLength>=3){s=r.ListAstNode.create23(s,t.unprependChild(),null,false)}else{t.prependChildOfSameHeight(s);s=undefined}}else{t.handleChildrenChanged()}}if(s){return r.ListAstNode.create23(s,e,null,false)}else{return e}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{NodeReader:()=>i});var r=n(164);class i{constructor(e){this.lastOffset=r.lengthZero;this.nextNodes=[e];this.offsets=[r.lengthZero];this.idxs=[]}readLongestNodeAt(e,t){if((0,r.lengthLessThan)(e,this.lastOffset)){throw new Error("Invalid offset")}this.lastOffset=e;while(true){const n=o(this.nextNodes);if(!n){return undefined}const i=o(this.offsets);if((0,r.lengthLessThan)(e,i)){return undefined}if((0,r.lengthLessThan)(i,e)){if((0,r.lengthAdd)(i,n.length)<=e){this.nextNodeAfterCurrent()}else{const e=s(n);if(e!==-1){this.nextNodes.push(n.getChild(e));this.offsets.push(i);this.idxs.push(e)}else{this.nextNodeAfterCurrent()}}}else{if(t(n)){this.nextNodeAfterCurrent();return n}else{const e=s(n);if(e===-1){this.nextNodeAfterCurrent();return undefined}else{this.nextNodes.push(n.getChild(e));this.offsets.push(i);this.idxs.push(e)}}}}}nextNodeAfterCurrent(){while(true){const e=o(this.offsets);const t=o(this.nextNodes);this.nextNodes.pop();this.offsets.pop();if(this.idxs.length===0){break}const n=o(this.nextNodes);const i=s(n,this.idxs[this.idxs.length-1]);if(i!==-1){this.nextNodes.push(n.getChild(i));this.offsets.push((0,r.lengthAdd)(e,t.length));this.idxs[this.idxs.length-1]=i;break}else{this.idxs.pop()}}}}function s(e,t=-1){while(true){t++;if(t>=e.childrenLength){return-1}if(e.getChild(t)){return t}}}function o(e){return e.length>0?e[e.length-1]:undefined}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{combineTextEditInfos:()=>o});var r=n(62);var i=n(163);var s=n(164);function o(e,t){if(e.length===0){return t}if(t.length===0){return e}const n=new r.ArrayQueue(l(e));const o=l(t);o.push({modified:false,lengthBefore:undefined,lengthAfter:undefined});let c=n.dequeue();function u(e){if(e===undefined){const e=n.takeWhile(e=>true)||[];if(c){e.unshift(c)}return e}const t=[];while(c&&!(0,s.lengthIsZero)(e)){const[r,i]=c.splitAt(e);t.push(r);e=(0,s.lengthDiffNonNegative)(r.lengthAfter,e);c=i??n.dequeue()}if(!(0,s.lengthIsZero)(e)){t.push(new a(false,e,e))}return t}const h=[];function d(e,t,n){if(h.length>0&&(0,s.lengthEquals)(h[h.length-1].endOffset,e)){const e=h[h.length-1];h[h.length-1]=new i.TextEditInfo(e.startOffset,t,(0,s.lengthAdd)(e.newLength,n))}else{h.push({startOffset:e,endOffset:t,newLength:n})}}let g=s.lengthZero;for(const e of o){const t=u(e.lengthBefore);if(e.modified){const n=(0,s.sumLengths)(t,e=>e.lengthBefore);const r=(0,s.lengthAdd)(g,n);d(g,r,e.lengthAfter);g=r}else{for(const e of t){const t=g;g=(0,s.lengthAdd)(g,e.lengthBefore);if(e.modified){d(t,g,e.lengthAfter)}}}}return h}class a{constructor(e,t,n){this.modified=e;this.lengthBefore=t;this.lengthAfter=n}splitAt(e){const t=(0,s.lengthDiffNonNegative)(e,this.lengthAfter);if((0,s.lengthEquals)(t,s.lengthZero)){return[this,undefined]}else if(this.modified){return[new a(this.modified,this.lengthBefore,e),new a(this.modified,s.lengthZero,t)]}else{return[new a(this.modified,e,e),new a(this.modified,t,t)]}}toString(){return`${this.modified?"M":"U"}:${(0,s.lengthToObj)(this.lengthBefore)} -> ${(0,s.lengthToObj)(this.lengthAfter)}`}}function l(e){const t=[];let n=s.lengthZero;for(const r of e){const e=(0,s.lengthDiffNonNegative)(n,r.startOffset);if(!(0,s.lengthIsZero)(e)){t.push(new a(false,e,e))}const i=(0,s.lengthDiffNonNegative)(r.startOffset,r.endOffset);t.push(new a(true,i,r.newLength));n=r.endOffset}return t}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ColorizedBracketPairsDecorationProvider:()=>l});var r=n(3);var i=n(5);var s=n(25);var o=n(127);var a=n(125);class l extends i.Disposable{constructor(e){super();this.textModel=e;this.colorProvider=new c;this.onDidChangeEmitter=new r.Emitter;this.onDidChange=this.onDidChangeEmitter.event;this.colorizationOptions=e.getOptions().bracketPairColorizationOptions;this._register(e.bracketPairs.onDidChange(e=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,n,r){if(r){return[]}if(t===undefined){return[]}if(!this.colorizationOptions.enabled){return[]}const i=this.textModel.bracketPairs.getBracketsInRange(e,true).map(e=>({id:`bracket${e.range.toString()}-${e.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(e,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range})).toArray();return i}getAllDecorations(e,t){if(e===undefined){return[]}if(!this.colorizationOptions.enabled){return[]}return this.getDecorationsInRange(new s.Range(1,1,this.textModel.getLineCount(),1),e,t)}}class c{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){if(e.isInvalid){return this.unexpectedClosingBracketClassName}return this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}(0,a.registerThemingParticipant)((e,t)=>{const n=[o.editorBracketHighlightingForeground1,o.editorBracketHighlightingForeground2,o.editorBracketHighlightingForeground3,o.editorBracketHighlightingForeground4,o.editorBracketHighlightingForeground5,o.editorBracketHighlightingForeground6];const r=new c;t.addRule(`.monaco-editor .${r.unexpectedClosingBracketClassName} { color: ${e.getColor(o.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=n.map(t=>e.getColor(t)).filter(e=>!!e).filter(e=>!e.isTransparent());for(let e=0;e<30;e++){const n=i[e%i.length];t.addRule(`.monaco-editor .${r.getInlineClassNameOfLevel(e)} { color: ${n}; }`)}})},(e,t,n)=>{"use strict";n.r(t);n.d(t,{EditStack:()=>p,MultiModelEditStackElement:()=>g,SingleModelEditStackData:()=>h,SingleModelEditStackElement:()=>d,isEditStackElement:()=>m});var r=n(11);var i=n(2);var s=n(34);var o=n(17);var a=n(176);var l=n(156);var c=n(84);function u(e){return e.toString()}class h{static create(e,t){const n=e.getAlternativeVersionId();const r=f(e);return new h(n,n,r,r,t,t,[])}constructor(e,t,n,r,i,s,o){this.beforeVersionId=e;this.afterVersionId=t;this.beforeEOL=n;this.afterEOL=r;this.beforeCursorState=i;this.afterCursorState=s;this.changes=o}append(e,t,n,r,i){if(t.length>0){this.changes=(0,a.compressConsecutiveTextChanges)(this.changes,t)}this.afterEOL=n;this.afterVersionId=r;this.afterCursorState=i}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,n){l.writeUInt32BE(e,t?t.length:0,n);n+=4;if(t){for(const r of t){l.writeUInt32BE(e,r.selectionStartLineNumber,n);n+=4;l.writeUInt32BE(e,r.selectionStartColumn,n);n+=4;l.writeUInt32BE(e,r.positionLineNumber,n);n+=4;l.writeUInt32BE(e,r.positionColumn,n);n+=4}}return n}static _readSelections(e,t,n){const r=l.readUInt32BE(e,t);t+=4;for(let i=0;i<r;i++){const r=l.readUInt32BE(e,t);t+=4;const i=l.readUInt32BE(e,t);t+=4;const o=l.readUInt32BE(e,t);t+=4;const a=l.readUInt32BE(e,t);t+=4;n.push(new s.Selection(r,i,o,a))}return t}serialize(){let e=+4+4+1+1+h._writeSelectionsSize(this.beforeCursorState)+h._writeSelectionsSize(this.afterCursorState)+4;for(const t of this.changes){e+=t.writeSize()}const t=new Uint8Array(e);let n=0;l.writeUInt32BE(t,this.beforeVersionId,n);n+=4;l.writeUInt32BE(t,this.afterVersionId,n);n+=4;l.writeUInt8(t,this.beforeEOL,n);n+=1;l.writeUInt8(t,this.afterEOL,n);n+=1;n=h._writeSelections(t,this.beforeCursorState,n);n=h._writeSelections(t,this.afterCursorState,n);l.writeUInt32BE(t,this.changes.length,n);n+=4;for(const e of this.changes){n=e.write(t,n)}return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const r=l.readUInt32BE(t,n);n+=4;const i=l.readUInt32BE(t,n);n+=4;const s=l.readUInt8(t,n);n+=1;const o=l.readUInt8(t,n);n+=1;const c=[];n=h._readSelections(t,n,c);const u=[];n=h._readSelections(t,n,u);const d=l.readUInt32BE(t,n);n+=4;const g=[];for(let e=0;e<d;e++){n=a.TextChange.read(t,n,g)}return new h(r,i,s,o,c,u,g)}}class d{get type(){return 0}get resource(){if(o.URI.isUri(this.model)){return this.model}return this.model.uri}constructor(e,t,n,r){this.label=e;this.code=t;this.model=n;this._data=h.create(n,r)}toString(){const e=this._data instanceof h?this._data:h.deserialize(this._data);return e.changes.map(e=>e.toString()).join(", ")}matchesResource(e){const t=o.URI.isUri(this.model)?this.model:this.model.uri;return t.toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof h}append(e,t,n,r,i){if(this._data instanceof h){this._data.append(e,t,n,r,i)}}close(){if(this._data instanceof h){this._data=this._data.serialize()}}open(){if(!(this._data instanceof h)){this._data=h.deserialize(this._data)}}undo(){if(o.URI.isUri(this.model)){throw new Error(`Invalid SingleModelEditStackElement`)}if(this._data instanceof h){this._data=this._data.serialize()}const e=h.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(o.URI.isUri(this.model)){throw new Error(`Invalid SingleModelEditStackElement`)}if(this._data instanceof h){this._data=this._data.serialize()}const e=h.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){if(this._data instanceof h){this._data=this._data.serialize()}return this._data.byteLength+168}}class g{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,n){this.label=e;this.code=t;this.type=1;this._isOpen=true;this._editStackElementsArr=n.slice(0);this._editStackElementsMap=new Map;for(const e of this._editStackElementsArr){const t=u(e.resource);this._editStackElementsMap.set(t,e)}this._delegate=null}prepareUndoRedo(){if(this._delegate){return this._delegate.prepareUndoRedo(this)}}matchesResource(e){const t=u(e);return this._editStackElementsMap.has(t)}setModel(e){const t=u(o.URI.isUri(e)?e:e.uri);if(this._editStackElementsMap.has(t)){this._editStackElementsMap.get(t).setModel(e)}}canAppend(e){if(!this._isOpen){return false}const t=u(e.uri);if(this._editStackElementsMap.has(t)){const n=this._editStackElementsMap.get(t);return n.canAppend(e)}return false}append(e,t,n,r,i){const s=u(e.uri);const o=this._editStackElementsMap.get(s);o.append(e,t,n,r,i)}close(){this._isOpen=false}open(){}undo(){this._isOpen=false;for(const e of this._editStackElementsArr){e.undo()}}redo(){for(const e of this._editStackElementsArr){e.redo()}}heapSize(e){const t=u(e);if(this._editStackElementsMap.has(t)){const e=this._editStackElementsMap.get(t);return e.heapSize()}return 0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr){e.push(`${(0,c.basename)(t.resource)}: ${t}`)}return`{${e.join(", ")}}`}}function f(e){const t=e.getEOL();if(t==="\n"){return 0}else{return 1}}function m(e){if(!e){return false}return e instanceof d||e instanceof g}class p{constructor(e,t){this._model=e;this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);if(m(e)){e.close()}}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);if(m(e)){e.open()}}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const n=this._undoRedoService.getLastElement(this._model.uri);if(m(n)&&n.canAppend(this._model)){return n}const i=new d(r.localize("edit","Typing"),"undoredo.textBufferEdit",this._model,e);this._undoRedoService.pushElement(i,t);return i}pushEOL(e){const t=this._getOrCreateEditStackElement(null,undefined);this._model.setEOL(e);t.append(this._model,[],f(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n,r){const i=this._getOrCreateEditStackElement(e,r);const s=this._model.applyEdits(t,true);const o=p._computeCursorState(n,s);const a=s.map((e,t)=>({index:t,textChange:e.textChange}));a.sort((e,t)=>{if(e.textChange.oldPosition===t.textChange.oldPosition){return e.index-t.index}return e.textChange.oldPosition-t.textChange.oldPosition});i.append(this._model,a.map(e=>e.textChange),f(this._model),this._model.getAlternativeVersionId(),o);return o}static _computeCursorState(e,t){try{return e?e(t):null}catch(e){(0,i.onUnexpectedError)(e);return null}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{TextChange:()=>o,compressConsecutiveTextChanges:()=>a});var r=n(156);var i=n(155);function s(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class o{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,n,r){this.oldPosition=e;this.oldText=t;this.newPosition=n;this.newText=r}toString(){if(this.oldText.length===0){return`(insert@${this.oldPosition} "${s(this.newText)}")`}if(this.newText.length===0){return`(delete@${this.oldPosition} "${s(this.oldText)}")`}return`(replace@${this.oldPosition} "${s(this.oldText)}" with "${s(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){const i=t.length;r.writeUInt32BE(e,i,n);n+=4;for(let s=0;s<i;s++){r.writeUInt16LE(e,t.charCodeAt(s),n);n+=2}return n}static _readString(e,t){const n=r.readUInt32BE(e,t);t+=4;return(0,i.decodeUTF16LE)(e,t,n)}writeSize(){return+4+4+o._writeStringSize(this.oldText)+o._writeStringSize(this.newText)}write(e,t){r.writeUInt32BE(e,this.oldPosition,t);t+=4;r.writeUInt32BE(e,this.newPosition,t);t+=4;t=o._writeString(e,this.oldText,t);t=o._writeString(e,this.newText,t);return t}static read(e,t,n){const i=r.readUInt32BE(e,t);t+=4;const s=r.readUInt32BE(e,t);t+=4;const a=o._readString(e,t);t+=o._writeStringSize(a);const l=o._readString(e,t);t+=o._writeStringSize(l);n.push(new o(i,a,s,l));return t}}function a(e,t){if(e===null||e.length===0){return t}const n=new l(e,t);return n.compress()}class l{constructor(e,t){this._prevEdits=e;this._currEdits=t;this._result=[];this._resultLen=0;this._prevLen=this._prevEdits.length;this._prevDeltaOffset=0;this._currLen=this._currEdits.length;this._currDeltaOffset=0}compress(){let e=0;let t=0;let n=this._getPrev(e);let r=this._getCurr(t);while(e<this._prevLen||t<this._currLen){if(n===null){this._acceptCurr(r);r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(n);n=this._getPrev(++e);continue}if(r.oldEnd<=n.newPosition){this._acceptCurr(r);r=this._getCurr(++t);continue}if(n.newEnd<=r.oldPosition){this._acceptPrev(n);n=this._getPrev(++e);continue}if(r.oldPosition<n.newPosition){const[e,t]=l._splitCurr(r,n.newPosition-r.oldPosition);this._acceptCurr(e);r=t;continue}if(n.newPosition<r.oldPosition){const[e,t]=l._splitPrev(n,r.oldPosition-n.newPosition);this._acceptPrev(e);n=t;continue}let i;let s;if(r.oldEnd===n.newEnd){i=n;s=r;n=this._getPrev(++e);r=this._getCurr(++t)}else if(r.oldEnd<n.newEnd){const[e,o]=l._splitPrev(n,r.oldLength);i=e;s=r;n=o;r=this._getCurr(++t)}else{const[t,o]=l._splitCurr(r,n.newLength);i=n;s=t;n=this._getPrev(++e);r=o}this._result[this._resultLen++]=new o(i.oldPosition,i.oldText,s.newPosition,s.newText);this._prevDeltaOffset+=i.newLength-i.oldLength;this._currDeltaOffset+=s.newLength-s.oldLength}const i=l._merge(this._result);const s=l._removeNoOps(i);return s}_acceptCurr(e){this._result[this._resultLen++]=l._rebaseCurr(this._prevDeltaOffset,e);this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=l._rebasePrev(this._currDeltaOffset,e);this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new o(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new o(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const n=e.newText.substr(0,t);const r=e.newText.substr(t);return[new o(e.oldPosition,e.oldText,e.newPosition,n),new o(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const n=e.oldText.substr(0,t);const r=e.oldText.substr(t);return[new o(e.oldPosition,n,e.newPosition,e.newText),new o(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0){return e}const t=[];let n=0;let r=e[0];for(let i=1;i<e.length;i++){const s=e[i];if(r.oldEnd===s.oldPosition){r=new o(r.oldPosition,r.oldText+s.oldText,r.newPosition,r.newText+s.newText)}else{t[n++]=r;r=s}}t[n++]=r;return t}static _removeNoOps(e){if(e.length===0){return e}const t=[];let n=0;for(let r=0;r<e.length;r++){const i=e[r];if(i.oldText===i.newText){continue}t[n++]=i}return t}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{BracketPairGuidesClassNames:()=>d,GuidesTextModelPart:()=>h});var r=n(57);var i=n(14);var s=n(146);var o=n(25);var a=n(178);var l=n(179);var c=n(180);var u=n(2);class h extends a.TextModelPart{constructor(e,t){super();this.textModel=e;this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return(0,l.computeIndentLevel)(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,n){this.assertNotDisposed();const r=this.textModel.getLineCount();if(e<1||e>r){throw new u.BugIndicatingError("Illegal value for lineNumber")}const i=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules;const s=Boolean(i&&i.offSide);let o=-2;let a=-1;let l=-2;let c=-1;const h=e=>{if(o!==-1&&(o===-2||o>e-1)){o=-1;a=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){o=t;a=e;break}}}if(l===-2){l=-1;c=-1;for(let t=e;t<r;t++){const e=this._computeIndentLevel(t);if(e>=0){l=t;c=e;break}}}};let d=-2;let g=-1;let f=-2;let m=-1;const p=e=>{if(d===-2){d=-1;g=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){d=t;g=e;break}}}if(f!==-1&&(f===-2||f<e-1)){f=-1;m=-1;for(let t=e;t<r;t++){const e=this._computeIndentLevel(t);if(e>=0){f=t;m=e;break}}}};let _=0;let b=true;let C=0;let v=true;let k=0;let L=0;for(let i=0;b||v;i++){const o=e-i;const u=e+i;if(i>1&&(o<1||o<t)){b=false}if(i>1&&(u>r||u>n)){v=false}if(i>5e4){b=false;v=false}let f=-1;if(b&&o>=1){const e=this._computeIndentLevel(o-1);if(e>=0){l=o-1;c=e;f=Math.ceil(e/this.textModel.getOptions().indentSize)}else{h(o);f=this._getIndentLevelForWhitespaceLine(s,a,c)}}let S=-1;if(v&&u<=r){const e=this._computeIndentLevel(u-1);if(e>=0){d=u-1;g=e;S=Math.ceil(e/this.textModel.getOptions().indentSize)}else{p(u);S=this._getIndentLevelForWhitespaceLine(s,g,m)}}if(i===0){L=f;continue}if(i===1){if(u<=r&&S>=0&&L+1===S){b=false;_=u;C=u;k=S;continue}if(o>=1&&f>=0&&f-1===L){v=false;_=o;C=o;k=f;continue}_=e;C=e;k=L;if(k===0){return{startLineNumber:_,endLineNumber:C,indent:k}}}if(b){if(f>=k){_=o}else{b=false}}if(v){if(S>=k){C=u}else{v=false}}}return{startLineNumber:_,endLineNumber:C,indent:k}}getLinesBracketGuides(e,t,n,s){const a=[];for(let n=e;n<=t;n++){a.push([])}const l=true;const u=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new o.Range(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let h=undefined;if(n&&u.length>0){const i=(e<=n.lineNumber&&n.lineNumber<=t?u:this.textModel.bracketPairs.getBracketPairsInRange(o.Range.fromPositions(n)).toArray()).filter(e=>o.Range.strictContainsPosition(e.range,n));h=(0,r.findLast)(i,e=>l||e.range.startLineNumber!==e.range.endLineNumber)?.range}const g=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType;const f=new d;for(const n of u){if(!n.closingBracketRange){continue}const r=h&&n.range.equalsRange(h);if(!r&&!s.includeInactive){continue}const o=f.getInlineClassName(n.nestingLevel,n.nestingLevelOfEqualBracketType,g)+(s.highlightActive&&r?" "+f.activeClassName:"");const u=n.openingBracketRange.getStartPosition();const d=n.closingBracketRange.getStartPosition();const m=s.horizontalGuides===c.HorizontalGuidesState.Enabled||s.horizontalGuides===c.HorizontalGuidesState.EnabledForActive&&r;if(n.range.startLineNumber===n.range.endLineNumber){if(l&&m){a[n.range.startLineNumber-e].push(new c.IndentGuide(-1,n.openingBracketRange.getEndPosition().column,o,new c.IndentGuideHorizontalLine(false,d.column),-1,-1))}continue}const p=this.getVisibleColumnFromPosition(d);const _=this.getVisibleColumnFromPosition(n.openingBracketRange.getStartPosition());const b=Math.min(_,p,n.minVisibleColumnIndentation+1);let C=false;const v=i.firstNonWhitespaceIndex(this.textModel.getLineContent(n.closingBracketRange.startLineNumber));const k=v<n.closingBracketRange.startColumn-1;if(k){C=true}const L=Math.max(u.lineNumber,e);const S=Math.min(d.lineNumber,t);const w=C?1:0;for(let t=L;t<S+w;t++){a[t-e].push(new c.IndentGuide(b,-1,o,null,t===u.lineNumber?u.column:-1,t===d.lineNumber?d.column:-1))}if(m){if(u.lineNumber>=e&&_>b){a[u.lineNumber-e].push(new c.IndentGuide(b,-1,o,new c.IndentGuideHorizontalLine(false,u.column),-1,-1))}if(d.lineNumber<=t&&p>b){a[d.lineNumber-e].push(new c.IndentGuide(b,-1,o,new c.IndentGuideHorizontalLine(!C,d.column),-1,-1))}}}for(const e of a){e.sort((e,t)=>e.visibleColumn-t.visibleColumn)}return a}getVisibleColumnFromPosition(e){return s.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const n=this.textModel.getLineCount();if(e<1||e>n){throw new Error("Illegal value for startLineNumber")}if(t<1||t>n){throw new Error("Illegal value for endLineNumber")}const r=this.textModel.getOptions();const i=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules;const s=Boolean(i&&i.offSide);const o=new Array(t-e+1);let a=-2;let l=-1;let c=-2;let u=-1;for(let i=e;i<=t;i++){const t=i-e;const h=this._computeIndentLevel(i-1);if(h>=0){a=i-1;l=h;o[t]=Math.ceil(h/r.indentSize);continue}if(a===-2){a=-1;l=-1;for(let e=i-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){a=e;l=t;break}}}if(c!==-1&&(c===-2||c<i-1)){c=-1;u=-1;for(let e=i;e<n;e++){const t=this._computeIndentLevel(e);if(t>=0){c=e;u=t;break}}}o[t]=this._getIndentLevelForWhitespaceLine(s,l,u)}return o}_getIndentLevelForWhitespaceLine(e,t,n){const r=this.textModel.getOptions();if(t===-1||n===-1){return 0}else if(t<n){return 1+Math.floor(t/r.indentSize)}else if(t===n){return Math.ceil(n/r.indentSize)}else{if(e){return Math.ceil(n/r.indentSize)}else{return 1+Math.floor(n/r.indentSize)}}}}class d{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{TextModelPart:()=>i});var r=n(5);class i extends r.Disposable{constructor(){super(...arguments);this._isDisposed=false}dispose(){super.dispose();this._isDisposed=true}assertNotDisposed(){if(this._isDisposed){throw new Error("TextModelPart is disposed!")}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{computeIndentLevel:()=>r});function r(e,t){let n=0;let r=0;const i=e.length;while(r<i){const i=e.charCodeAt(r);if(i===32){n++}else if(i===9){n=n-n%t+t}else{break}r++}if(r===i){return-1}return n}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{HorizontalGuidesState:()=>r,IndentGuide:()=>i,IndentGuideHorizontalLine:()=>s});var r;(function(e){e[e["Disabled"]=0]="Disabled";e[e["EnabledForActive"]=1]="EnabledForActive";e[e["Enabled"]=2]="Enabled"})(r||(r={}));class i{constructor(e,t,n,r,i,s){this.visibleColumn=e;this.column=t;this.className=n;this.horizontalLine=r;this.forWrappedLinesAfterColumn=i;this.forWrappedLinesBeforeOrAtColumn=s;if(e!==-1===(t!==-1)){throw new Error}}}class s{constructor(e,t){this.top=e;this.endColumn=t}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{guessIndentation:()=>s});class r{constructor(){this.spacesDiff=0;this.looksLikeAlignment=false}}function i(e,t,n,r,i){i.spacesDiff=0;i.looksLikeAlignment=false;let s;for(s=0;s<t&&s<r;s++){const t=e.charCodeAt(s);const r=n.charCodeAt(s);if(t!==r){break}}let o=0,a=0;for(let n=s;n<t;n++){const t=e.charCodeAt(n);if(t===32){o++}else{a++}}let l=0,c=0;for(let e=s;e<r;e++){const t=n.charCodeAt(e);if(t===32){l++}else{c++}}if(o>0&&a>0){return}if(l>0&&c>0){return}const u=Math.abs(a-c);const h=Math.abs(o-l);if(u===0){i.spacesDiff=h;if(h>0&&0<=l-1&&l-1<e.length&&l<n.length){if(n.charCodeAt(l)!==32&&e.charCodeAt(l-1)===32){if(e.charCodeAt(e.length-1)===44){i.looksLikeAlignment=true}}}return}if(h%u===0){i.spacesDiff=h/u;return}}function s(e,t,n){const s=Math.min(e.getLineCount(),1e4);let o=0;let a=0;let l="";let c=0;const u=[2,4,6,8,3,5,7];const h=8;const d=[0,0,0,0,0,0,0,0,0];const g=new r;for(let r=1;r<=s;r++){const s=e.getLineLength(r);const u=e.getLineContent(r);const f=s<=65536;let m=false;let p=0;let _=0;let b=0;for(let t=0,n=s;t<n;t++){const n=f?u.charCodeAt(t):e.getLineCharCode(r,t);if(n===9){b++}else if(n===32){_++}else{m=true;p=t;break}}if(!m){continue}if(b>0){o++}else if(_>1){a++}i(l,c,u,p,g);if(g.looksLikeAlignment){if(!(n&&t===g.spacesDiff)){continue}}const C=g.spacesDiff;if(C<=h){d[C]++}l=u;c=p}let f=n;if(o!==a){f=o<a}let m=t;if(f){let e=f?0:.1*s;u.forEach(t=>{const n=d[t];if(n>e){e=n;m=t}});if(m===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2){m=2}}return{insertSpaces:f,tabSize:m}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IntervalNode:()=>m,IntervalTree:()=>_,SENTINEL:()=>p,getNodeColor:()=>r,intervalCompare:()=>M,nodeAcceptEdit:()=>v,recomputeMaxEnd:()=>D});function r(e){return(e.metadata&1)>>>0}function i(e,t){e.metadata=e.metadata&254|t<<0}function s(e){return(e.metadata&2)>>>1===1}function o(e,t){e.metadata=e.metadata&253|(t?1:0)<<1}function a(e){return(e.metadata&4)>>>2===1}function l(e,t){e.metadata=e.metadata&251|(t?1:0)<<2}function c(e){return(e.metadata&64)>>>6===1}function u(e,t){e.metadata=e.metadata&191|(t?1:0)<<6}function h(e){return(e.metadata&24)>>>3}function d(e,t){e.metadata=e.metadata&231|t<<3}function g(e){return(e.metadata&32)>>>5===1}function f(e,t){e.metadata=e.metadata&223|(t?1:0)<<5}class m{constructor(e,t,n){this.metadata=0;this.parent=this;this.left=this;this.right=this;i(this,1);this.start=t;this.end=n;this.delta=0;this.maxEnd=n;this.id=e;this.ownerId=0;this.options=null;l(this,false);u(this,false);d(this,1);f(this,false);this.cachedVersionId=0;this.cachedAbsoluteStart=t;this.cachedAbsoluteEnd=n;this.range=null;o(this,false)}reset(e,t,n,r){this.start=t;this.end=n;this.maxEnd=n;this.cachedVersionId=e;this.cachedAbsoluteStart=t;this.cachedAbsoluteEnd=n;this.range=r}setOptions(e){this.options=e;const t=this.options.className;l(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info");u(this,this.options.glyphMarginClassName!==null);d(this,this.options.stickiness);f(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){if(this.cachedVersionId!==n){this.range=null}this.cachedVersionId=n;this.cachedAbsoluteStart=e;this.cachedAbsoluteEnd=t}detach(){this.parent=null;this.left=null;this.right=null}}const p=new m(null,0,0);p.parent=p;p.left=p;p.right=p;i(p,0);class _{constructor(){this.root=p;this.requestNormalizeDelta=false}intervalSearch(e,t,n,r,i,s){if(this.root===p){return[]}return E(this,e,t,n,r,i,s)}search(e,t,n,r){if(this.root===p){return[]}return y(this,e,t,n,r)}collectNodesFromOwner(e){return S(this,e)}collectNodesPostOrder(){return w(this)}insert(e){I(this,e);this._normalizeDeltaIfNecessary()}delete(e){T(this,e);this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let r=0;while(e!==this.root){if(e===e.parent.right){r+=e.parent.delta}e=e.parent}const i=n.start+r;const s=n.end+r;n.setCachedOffsets(i,s,t)}acceptReplace(e,t,n,r){const i=k(this,e,e+t);for(let e=0,t=i.length;e<t;e++){const t=i[e];T(this,t)}this._normalizeDeltaIfNecessary();L(this,e,e+t,n);this._normalizeDeltaIfNecessary();for(let s=0,o=i.length;s<o;s++){const o=i[s];o.start=o.cachedAbsoluteStart;o.end=o.cachedAbsoluteEnd;v(o,e,e+t,n,r);o.maxEnd=o.end;I(this,o)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){if(!this.requestNormalizeDelta){return}this.requestNormalizeDelta=false;b(this)}}function b(e){let t=e.root;let n=0;while(t!==p){if(t.left!==p&&!s(t.left)){t=t.left;continue}if(t.right!==p&&!s(t.right)){n+=t.delta;t=t.right;continue}t.start=n+t.start;t.end=n+t.end;t.delta=0;D(t);o(t,true);o(t.left,false);o(t.right,false);if(t===t.parent.right){n-=t.parent.delta}t=t.parent}o(e.root,false)}function C(e,t,n,r){if(e<n){return true}if(e>n){return false}if(r===1){return false}if(r===2){return true}return t}function v(e,t,n,r,i){const s=h(e);const o=s===0||s===2;const a=s===1||s===2;const l=n-t;const c=r;const u=Math.min(l,c);const d=e.start;let f=false;const m=e.end;let p=false;if(t<=d&&m<=n&&g(e)){e.start=t;f=true;e.end=t;p=true}{const e=i?1:l>0?2:0;if(!f&&C(d,o,t,e)){f=true}if(!p&&C(m,a,t,e)){p=true}}if(u>0&&!i){const e=l>c?2:0;if(!f&&C(d,o,t+u,e)){f=true}if(!p&&C(m,a,t+u,e)){p=true}}{const r=i?1:0;if(!f&&C(d,o,n,r)){e.start=t+c;f=true}if(!p&&C(m,a,n,r)){e.end=t+c;p=true}}const _=c-l;if(!f){e.start=Math.max(0,d+_)}if(!p){e.end=Math.max(0,m+_)}if(e.start>e.end){e.end=e.start}}function k(e,t,n){let r=e.root;let i=0;let a=0;let l=0;let c=0;const u=[];let h=0;while(r!==p){if(s(r)){o(r.left,false);o(r.right,false);if(r===r.parent.right){i-=r.parent.delta}r=r.parent;continue}if(!s(r.left)){a=i+r.maxEnd;if(a<t){o(r,true);continue}if(r.left!==p){r=r.left;continue}}l=i+r.start;if(l>n){o(r,true);continue}c=i+r.end;if(c>=t){r.setCachedOffsets(l,c,0);u[h++]=r}o(r,true);if(r.right!==p&&!s(r.right)){i+=r.delta;r=r.right;continue}}o(e.root,false);return u}function L(e,t,n,r){let i=e.root;let a=0;let l=0;let c=0;const u=r-(n-t);while(i!==p){if(s(i)){o(i.left,false);o(i.right,false);if(i===i.parent.right){a-=i.parent.delta}D(i);i=i.parent;continue}if(!s(i.left)){l=a+i.maxEnd;if(l<t){o(i,true);continue}if(i.left!==p){i=i.left;continue}}c=a+i.start;if(c>n){i.start+=u;i.end+=u;i.delta+=u;if(i.delta<-1073741824||i.delta>1073741824){e.requestNormalizeDelta=true}o(i,true);continue}o(i,true);if(i.right!==p&&!s(i.right)){a+=i.delta;i=i.right;continue}}o(e.root,false)}function S(e,t){let n=e.root;const r=[];let i=0;while(n!==p){if(s(n)){o(n.left,false);o(n.right,false);n=n.parent;continue}if(n.left!==p&&!s(n.left)){n=n.left;continue}if(n.ownerId===t){r[i++]=n}o(n,true);if(n.right!==p&&!s(n.right)){n=n.right;continue}}o(e.root,false);return r}function w(e){let t=e.root;const n=[];let r=0;while(t!==p){if(s(t)){o(t.left,false);o(t.right,false);t=t.parent;continue}if(t.left!==p&&!s(t.left)){t=t.left;continue}if(t.right!==p&&!s(t.right)){t=t.right;continue}n[r++]=t;o(t,true)}o(e.root,false);return n}function y(e,t,n,r,i){let l=e.root;let u=0;let h=0;let d=0;const g=[];let f=0;while(l!==p){if(s(l)){o(l.left,false);o(l.right,false);if(l===l.parent.right){u-=l.parent.delta}l=l.parent;continue}if(l.left!==p&&!s(l.left)){l=l.left;continue}h=u+l.start;d=u+l.end;l.setCachedOffsets(h,d,r);let e=true;if(t&&l.ownerId&&l.ownerId!==t){e=false}if(n&&a(l)){e=false}if(i&&!c(l)){e=false}if(e){g[f++]=l}o(l,true);if(l.right!==p&&!s(l.right)){u+=l.delta;l=l.right;continue}}o(e.root,false);return g}function E(e,t,n,r,i,l,u){let h=e.root;let d=0;let g=0;let f=0;let m=0;const _=[];let b=0;while(h!==p){if(s(h)){o(h.left,false);o(h.right,false);if(h===h.parent.right){d-=h.parent.delta}h=h.parent;continue}if(!s(h.left)){g=d+h.maxEnd;if(g<t){o(h,true);continue}if(h.left!==p){h=h.left;continue}}f=d+h.start;if(f>n){o(h,true);continue}m=d+h.end;if(m>=t){h.setCachedOffsets(f,m,l);let e=true;if(r&&h.ownerId&&h.ownerId!==r){e=false}if(i&&a(h)){e=false}if(u&&!c(h)){e=false}if(e){_[b++]=h}}o(h,true);if(h.right!==p&&!s(h.right)){d+=h.delta;h=h.right;continue}}o(e.root,false);return _}function I(e,t){if(e.root===p){t.parent=p;t.left=p;t.right=p;i(t,0);e.root=t;return e.root}x(e,t);F(t.parent);let n=t;while(n!==e.root&&r(n.parent)===1){if(n.parent===n.parent.parent.left){const t=n.parent.parent.right;if(r(t)===1){i(n.parent,0);i(t,0);i(n.parent.parent,1);n=n.parent.parent}else{if(n===n.parent.right){n=n.parent;R(e,n)}i(n.parent,0);i(n.parent.parent,1);A(e,n.parent.parent)}}else{const t=n.parent.parent.left;if(r(t)===1){i(n.parent,0);i(t,0);i(n.parent.parent,1);n=n.parent.parent}else{if(n===n.parent.left){n=n.parent;A(e,n)}i(n.parent,0);i(n.parent.parent,1);R(e,n.parent.parent)}}}i(e.root,0);return t}function x(e,t){let n=0;let r=e.root;const s=t.start;const o=t.end;while(true){const e=M(s,o,r.start+n,r.end+n);if(e<0){if(r.left===p){t.start-=n;t.end-=n;t.maxEnd-=n;r.left=t;break}else{r=r.left}}else{if(r.right===p){t.start-=n+r.delta;t.end-=n+r.delta;t.maxEnd-=n+r.delta;r.right=t;break}else{n+=r.delta;r=r.right}}}t.parent=r;t.left=p;t.right=p;i(t,1)}function T(e,t){let n;let s;if(t.left===p){n=t.right;s=t;n.delta+=t.delta;if(n.delta<-1073741824||n.delta>1073741824){e.requestNormalizeDelta=true}n.start+=t.delta;n.end+=t.delta}else if(t.right===p){n=t.left;s=t}else{s=N(t.right);n=s.right;n.start+=s.delta;n.end+=s.delta;n.delta+=s.delta;if(n.delta<-1073741824||n.delta>1073741824){e.requestNormalizeDelta=true}s.start+=t.delta;s.end+=t.delta;s.delta=t.delta;if(s.delta<-1073741824||s.delta>1073741824){e.requestNormalizeDelta=true}}if(s===e.root){e.root=n;i(n,0);t.detach();B();D(n);e.root.parent=p;return}const o=r(s)===1;if(s===s.parent.left){s.parent.left=n}else{s.parent.right=n}if(s===t){n.parent=s.parent}else{if(s.parent===t){n.parent=s}else{n.parent=s.parent}s.left=t.left;s.right=t.right;s.parent=t.parent;i(s,r(t));if(t===e.root){e.root=s}else{if(t===t.parent.left){t.parent.left=s}else{t.parent.right=s}}if(s.left!==p){s.left.parent=s}if(s.right!==p){s.right.parent=s}}t.detach();if(o){F(n.parent);if(s!==t){F(s);F(s.parent)}B();return}F(n);F(n.parent);if(s!==t){F(s);F(s.parent)}let a;while(n!==e.root&&r(n)===0){if(n===n.parent.left){a=n.parent.right;if(r(a)===1){i(a,0);i(n.parent,1);R(e,n.parent);a=n.parent.right}if(r(a.left)===0&&r(a.right)===0){i(a,1);n=n.parent}else{if(r(a.right)===0){i(a.left,0);i(a,1);A(e,a);a=n.parent.right}i(a,r(n.parent));i(n.parent,0);i(a.right,0);R(e,n.parent);n=e.root}}else{a=n.parent.left;if(r(a)===1){i(a,0);i(n.parent,1);A(e,n.parent);a=n.parent.left}if(r(a.left)===0&&r(a.right)===0){i(a,1);n=n.parent}else{if(r(a.left)===0){i(a.right,0);i(a,1);R(e,a);a=n.parent.left}i(a,r(n.parent));i(n.parent,0);i(a.left,0);A(e,n.parent);n=e.root}}}i(n,0);B()}function N(e){while(e.left!==p){e=e.left}return e}function B(){p.parent=p;p.delta=0;p.start=0;p.end=0}function R(e,t){const n=t.right;n.delta+=t.delta;if(n.delta<-1073741824||n.delta>1073741824){e.requestNormalizeDelta=true}n.start+=t.delta;n.end+=t.delta;t.right=n.left;if(n.left!==p){n.left.parent=t}n.parent=t.parent;if(t.parent===p){e.root=n}else if(t===t.parent.left){t.parent.left=n}else{t.parent.right=n}n.left=t;t.parent=n;D(t);D(n)}function A(e,t){const n=t.left;t.delta-=n.delta;if(t.delta<-1073741824||t.delta>1073741824){e.requestNormalizeDelta=true}t.start-=n.delta;t.end-=n.delta;t.left=n.right;if(n.right!==p){n.right.parent=t}n.parent=t.parent;if(t.parent===p){e.root=n}else if(t===t.parent.right){t.parent.right=n}else{t.parent.left=n}n.right=t;t.parent=n;D(t);D(n)}function O(e){let t=e.end;if(e.left!==p){const n=e.left.maxEnd;if(n>t){t=n}}if(e.right!==p){const n=e.right.maxEnd+e.delta;if(n>t){t=n}}return t}function D(e){e.maxEnd=O(e)}function F(e){while(e!==p){const t=O(e);if(e.maxEnd===t){return}e.maxEnd=t;e=e.parent}}function M(e,t,n,r){if(e===n){return t-r}return e-n}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{PieceTreeTextBuffer:()=>h});var r=n(3);var i=n(14);var s=n(25);var o=n(47);var a=n(184);var l=n(144);var c=n(176);var u=n(5);class h extends u.Disposable{constructor(e,t,n,i,s,o,l){super();this._onDidChangeContent=this._register(new r.Emitter);this._BOM=t;this._mightContainNonBasicASCII=!o;this._mightContainRTL=i;this._mightContainUnusualLineTerminators=s;this._pieceTree=new a.PieceTreeBase(e,n,l)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=false}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const n=e+t;const r=this.getPositionAt(e);const i=this.getPositionAt(n);return new s.Range(r.lineNumber,r.column,i.lineNumber,i.column)}getValueInRange(e,t=0){if(e.isEmpty()){return""}const n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)}getValueLengthInRange(e,t=0){if(e.isEmpty()){return 0}if(e.startLineNumber===e.endLineNumber){return e.endColumn-e.startColumn}const n=this.getOffsetAt(e.startLineNumber,e.startColumn);const r=this.getOffsetAt(e.endLineNumber,e.endColumn);let i=0;const s=this._getEndOfLine(t);const o=this.getEOL();if(s.length!==o.length){const t=s.length-o.length;const n=e.endLineNumber-e.startLineNumber;i=t*n}return r-n+i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let n=0;const r=e.startLineNumber;const s=e.endLineNumber;for(let t=r;t<=s;t++){const o=this.getLineContent(t);const a=t===r?e.startColumn-1:0;const l=t===s?e.endColumn-1:o.length;for(let e=a;e<l;e++){if(i.isHighSurrogate(o.charCodeAt(e))){n=n+1;e=e+1}else{n=n+1}}}n+=this._getEndOfLine(t).length*(s-r);return n}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=i.firstNonWhitespaceIndex(this.getLineContent(e));if(t===-1){return 0}return t+1}getLineLastNonWhitespaceColumn(e){const t=i.lastNonWhitespaceIndex(this.getLineContent(e));if(t===-1){return 0}return t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,n){let r=this._mightContainRTL;let s=this._mightContainUnusualLineTerminators;let a=this._mightContainNonBasicASCII;let u=true;let d=[];for(let t=0;t<e.length;t++){const n=e[t];if(u&&n._isTracked){u=false}const o=n.range;if(n.text){let e=true;if(!a){e=!i.isBasicASCII(n.text);a=e}if(!r&&e){r=i.containsRTL(n.text)}if(!s&&e){s=i.containsUnusualLineTerminators(n.text)}}let c="";let h=0;let g=0;let f=0;if(n.text){let e;[h,g,f,e]=(0,l.countEOL)(n.text);const t=this.getEOL();const r=t==="\r\n"?2:1;if(e===0||e===r){c=n.text}else{c=n.text.replace(/\r\n|\r|\n/g,t)}}d[t]={sortIndex:t,identifier:n.identifier||null,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o),text:c,eolCount:h,firstLineLength:g,lastLineLength:f,forceMoveMarkers:Boolean(n.forceMoveMarkers),isAutoWhitespaceEdit:n.isAutoWhitespaceEdit||false}}d.sort(h._sortOpsAscending);let g=false;for(let e=0,t=d.length-1;e<t;e++){const t=d[e].range.getEndPosition();const n=d[e+1].range.getStartPosition();if(n.isBeforeOrEqual(t)){if(n.isBefore(t)){throw new Error("Overlapping ranges are not allowed!")}g=true}}if(u){d=this._reduceOperations(d)}const f=n||t?h._getInverseEditRanges(d):[];const m=[];if(t){for(let e=0;e<d.length;e++){const t=d[e];const n=f[e];if(t.isAutoWhitespaceEdit&&t.range.isEmpty()){for(let e=n.startLineNumber;e<=n.endLineNumber;e++){let r="";if(e===n.startLineNumber){r=this.getLineContent(t.range.startLineNumber);if(i.firstNonWhitespaceIndex(r)!==-1){continue}}m.push({lineNumber:e,oldContent:r})}}}}let p=null;if(n){let e=0;p=[];for(let t=0;t<d.length;t++){const n=d[t];const r=f[t];const i=this.getValueInRange(n.range);const s=n.rangeOffset+e;e+=n.text.length-i.length;p[t]={sortIndex:n.sortIndex,identifier:n.identifier,range:r,text:i,textChange:new c.TextChange(n.rangeOffset,i,s,n.text)}}if(!g){p.sort((e,t)=>e.sortIndex-t.sortIndex)}}this._mightContainRTL=r;this._mightContainUnusualLineTerminators=s;this._mightContainNonBasicASCII=a;const _=this._doApplyEdits(d);let b=null;if(t&&m.length>0){m.sort((e,t)=>t.lineNumber-e.lineNumber);b=[];for(let e=0,t=m.length;e<t;e++){const t=m[e].lineNumber;if(e>0&&m[e-1].lineNumber===t){continue}const n=m[e].oldContent;const r=this.getLineContent(t);if(r.length===0||r===n||i.firstNonWhitespaceIndex(r)!==-1){continue}b.push(t)}}this._onDidChangeContent.fire();return new o.ApplyEditsResult(p,_,b)}_reduceOperations(e){if(e.length<1e3){return e}return[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=false;const n=e[0].range;const r=e[e.length-1].range;const i=new s.Range(n.startLineNumber,n.startColumn,r.endLineNumber,r.endColumn);let o=n.startLineNumber;let a=n.startColumn;const c=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];const i=r.range;t=t||r.forceMoveMarkers;c.push(this.getValueInRange(new s.Range(o,a,i.startLineNumber,i.startColumn)));if(r.text.length>0){c.push(r.text)}o=i.endLineNumber;a=i.endColumn}const u=c.join("");const[h,d,g]=(0,l.countEOL)(u);return{sortIndex:0,identifier:e[0].identifier,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i,0),text:u,eolCount:h,firstLineLength:d,lastLineLength:g,forceMoveMarkers:t,isAutoWhitespaceEdit:false}}_doApplyEdits(e){e.sort(h._sortOpsDescending);const t=[];for(let n=0;n<e.length;n++){const r=e[n];const i=r.range.startLineNumber;const o=r.range.startColumn;const a=r.range.endLineNumber;const l=r.range.endColumn;if(i===a&&o===l&&r.text.length===0){continue}if(r.text){this._pieceTree.delete(r.rangeOffset,r.rangeLength);this._pieceTree.insert(r.rangeOffset,r.text,true)}else{this._pieceTree.delete(r.rangeOffset,r.rangeLength)}const c=new s.Range(i,o,a,l);t.push({range:c,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,n,r){return this._pieceTree.findMatchesLineByLine(e,t,n,r)}static _getInverseEditRanges(e){const t=[];let n=0;let r=0;let i=null;for(let o=0,a=e.length;o<a;o++){const a=e[o];let l;let c;if(i){if(i.range.endLineNumber===a.range.startLineNumber){l=n;c=r+(a.range.startColumn-i.range.endColumn)}else{l=n+(a.range.startLineNumber-i.range.endLineNumber);c=a.range.startColumn}}else{l=a.range.startLineNumber;c=a.range.startColumn}let u;if(a.text.length>0){const e=a.eolCount+1;if(e===1){u=new s.Range(l,c,l,c+a.firstLineLength)}else{u=new s.Range(l,c,l+e-1,a.lastLineLength+1)}}else{u=new s.Range(l,c,l,c)}n=u.endLineNumber;r=u.endColumn;t.push(u);i=a}return t}static _sortOpsAscending(e,t){const n=s.Range.compareRangesUsingEnds(e.range,t.range);if(n===0){return e.sortIndex-t.sortIndex}return n}static _sortOpsDescending(e,t){const n=s.Range.compareRangesUsingEnds(e.range,t.range);if(n===0){return t.sortIndex-e.sortIndex}return-n}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{Piece:()=>g,PieceTreeBase:()=>_,StringBuffer:()=>f,createLineStarts:()=>d,createLineStartsFast:()=>h});var r=n(26);var i=n(25);var s=n(47);var o=n(185);var a=n(44);const l=65535;function c(e){let t;if(e[e.length-1]<65536){t=new Uint16Array(e.length)}else{t=new Uint32Array(e.length)}t.set(e,0);return t}class u{constructor(e,t,n,r,i){this.lineStarts=e;this.cr=t;this.lf=n;this.crlf=r;this.isBasicASCII=i}}function h(e,t=true){const n=[0];let r=1;for(let t=0,i=e.length;t<i;t++){const s=e.charCodeAt(t);if(s===13){if(t+1<i&&e.charCodeAt(t+1)===10){n[r++]=t+2;t++}else{n[r++]=t+1}}else if(s===10){n[r++]=t+1}}if(t){return c(n)}else{return n}}function d(e,t){e.length=0;e[0]=0;let n=1;let r=0,i=0,s=0;let o=true;for(let a=0,l=t.length;a<l;a++){const c=t.charCodeAt(a);if(c===13){if(a+1<l&&t.charCodeAt(a+1)===10){s++;e[n++]=a+2;a++}else{r++;e[n++]=a+1}}else if(c===10){i++;e[n++]=a+1}else{if(o){if(c!==9&&(c<32||c>126)){o=false}}}}const a=new u(c(e),r,i,s,o);e.length=0;return a}class g{constructor(e,t,n,r,i){this.bufferIndex=e;this.start=t;this.end=n;this.lineFeedCnt=r;this.length=i}}class f{constructor(e,t){this.buffer=e;this.lineStarts=t}}class m{constructor(e,t){this._pieces=[];this._tree=e;this._BOM=t;this._index=0;if(e.root!==o.SENTINEL){e.iterate(e.root,e=>{if(e!==o.SENTINEL){this._pieces.push(e.piece)}return true})}}read(){if(this._pieces.length===0){if(this._index===0){this._index++;return this._BOM}else{return null}}if(this._index>this._pieces.length-1){return null}if(this._index===0){return this._BOM+this._tree.getPieceContent(this._pieces[this._index++])}return this._tree.getPieceContent(this._pieces[this._index++])}}class p{constructor(e){this._limit=e;this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e){return n}}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e){return n}}return null}set(e){if(this._cache.length>=this._limit){this._cache.shift()}this._cache.push(e)}validate(e){let t=false;const n=this._cache;for(let r=0;r<n.length;r++){const i=n[r];if(i.node.parent===null||i.nodeStartOffset>=e){n[r]=null;t=true;continue}}if(t){const e=[];for(const t of n){if(t!==null){e.push(t)}}this._cache=e}}}class _{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new f("",[0])];this._lastChangeBufferPos={line:0,column:0};this.root=o.SENTINEL;this._lineCnt=1;this._length=0;this._EOL=t;this._EOLLength=t.length;this._EOLNormalized=n;let r=null;for(let t=0,n=e.length;t<n;t++){if(e[t].buffer.length>0){if(!e[t].lineStarts){e[t].lineStarts=h(e[t].buffer)}const n=new g(t+1,{line:0,column:0},{line:e[t].lineStarts.length-1,column:e[t].buffer.length-e[t].lineStarts[e[t].lineStarts.length-1]},e[t].lineStarts.length-1,e[t].buffer.length);this._buffers.push(e[t]);r=this.rbInsertRight(r,n)}}this._searchCache=new p(1);this._lastVisitedLine={lineNumber:0,value:""};this.computeBufferMetadata()}normalizeEOL(e){const t=l;const n=t-Math.floor(t/3);const r=n*2;let i="";let s=0;const o=[];this.iterate(this.root,t=>{const a=this.getNodeContent(t);const l=a.length;if(s<=n||s+l<r){i+=a;s+=l;return true}const c=i.replace(/\r\n|\r|\n/g,e);o.push(new f(c,h(c)));i=a;s=l;return true});if(s>0){const t=i.replace(/\r\n|\r|\n/g,e);o.push(new f(t,h(t)))}this.create(o,e,true)}getEOL(){return this._EOL}setEOL(e){this._EOL=e;this._EOLLength=this._EOL.length;this.normalizeEOL(e)}createSnapshot(e){return new m(this,e)}getOffsetAt(e,t){let n=0;let r=this.root;while(r!==o.SENTINEL){if(r.left!==o.SENTINEL&&r.lf_left+1>=e){r=r.left}else if(r.lf_left+r.piece.lineFeedCnt+1>=e){n+=r.size_left;const i=this.getAccumulatedValue(r,e-r.lf_left-2);return n+=i+t-1}else{e-=r.lf_left+r.piece.lineFeedCnt;n+=r.size_left+r.piece.length;r=r.right}}return n}getPositionAt(e){e=Math.floor(e);e=Math.max(0,e);let t=this.root;let n=0;const i=e;while(t!==o.SENTINEL){if(t.size_left!==0&&t.size_left>=e){t=t.left}else if(t.size_left+t.piece.length>=e){const s=this.getIndexOf(t,e-t.size_left);n+=t.lf_left+s.index;if(s.index===0){const e=this.getOffsetAt(n+1,1);const t=i-e;return new r.Position(n+1,t+1)}return new r.Position(n+1,s.remainder+1)}else{e-=t.size_left+t.piece.length;n+=t.lf_left+t.piece.lineFeedCnt;if(t.right===o.SENTINEL){const t=this.getOffsetAt(n+1,1);const s=i-e-t;return new r.Position(n+1,s+1)}else{t=t.right}}}return new r.Position(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn){return""}const n=this.nodeAt2(e.startLineNumber,e.startColumn);const r=this.nodeAt2(e.endLineNumber,e.endColumn);const i=this.getValueInRange2(n,r);if(t){if(t!==this._EOL||!this._EOLNormalized){return i.replace(/\r\n|\r|\n/g,t)}if(t===this.getEOL()&&this._EOLNormalized){if(t==="\r\n"){}return i}return i.replace(/\r\n|\r|\n/g,t)}return i}getValueInRange2(e,t){if(e.node===t.node){const n=e.node;const r=this._buffers[n.piece.bufferIndex].buffer;const i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r.substring(i+e.remainder,i+t.remainder)}let n=e.node;const r=this._buffers[n.piece.bufferIndex].buffer;const i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);let s=r.substring(i+e.remainder,i+n.piece.length);n=n.next();while(n!==o.SENTINEL){const e=this._buffers[n.piece.bufferIndex].buffer;const r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){s+=e.substring(r,r+t.remainder);break}else{s+=e.substr(r,n.piece.length)}n=n.next()}return s}getLinesContent(){const e=[];let t=0;let n="";let r=false;this.iterate(this.root,i=>{if(i===o.SENTINEL){return true}const s=i.piece;let a=s.length;if(a===0){return true}const l=this._buffers[s.bufferIndex].buffer;const c=this._buffers[s.bufferIndex].lineStarts;const u=s.start.line;const h=s.end.line;let d=c[u]+s.start.column;if(r){if(l.charCodeAt(d)===10){d++;a--}e[t++]=n;n="";r=false;if(a===0){return true}}if(u===h){if(!this._EOLNormalized&&l.charCodeAt(d+a-1)===13){r=true;n+=l.substr(d,a-1)}else{n+=l.substr(d,a)}return true}n+=this._EOLNormalized?l.substring(d,Math.max(d,c[u+1]-this._EOLLength)):l.substring(d,c[u+1]).replace(/(\r\n|\r|\n)$/,"");e[t++]=n;for(let r=u+1;r<h;r++){n=this._EOLNormalized?l.substring(c[r],c[r+1]-this._EOLLength):l.substring(c[r],c[r+1]).replace(/(\r\n|\r|\n)$/,"");e[t++]=n}if(!this._EOLNormalized&&l.charCodeAt(c[h]+s.end.column-1)===13){r=true;if(s.end.column===0){t--}else{n=l.substr(c[h],s.end.column-1)}}else{n=l.substr(c[h],s.end.column)}return true});if(r){e[t++]=n;n=""}e[t++]=n;return e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){if(this._lastVisitedLine.lineNumber===e){return this._lastVisitedLine.value}this._lastVisitedLine.lineNumber=e;if(e===this._lineCnt){this._lastVisitedLine.value=this.getLineRawContent(e)}else if(this._EOLNormalized){this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength)}else{this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")}return this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t){return 0}const n=this._buffers[t.piece.bufferIndex];const r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return n.buffer.charCodeAt(r)}else{const t=this._buffers[e.node.piece.bufferIndex];const n=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start);const r=n+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){const n=this.nodeAt2(e,t+1);return this._getCharCode(n)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,n,r,s,o,l,c,u,h,d){const g=this._buffers[e.piece.bufferIndex];const f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start);const m=this.offsetInBuffer(e.piece.bufferIndex,s);const p=this.offsetInBuffer(e.piece.bufferIndex,o);let _;const b={line:0,column:0};let C;let v;if(t._wordSeparators){C=g.buffer.substring(m,p);v=e=>e+m;t.reset(0)}else{C=g.buffer;v=e=>e;t.reset(m)}do{_=t.next(C);if(_){if(v(_.index)>=p){return h}this.positionInBuffer(e,v(_.index)-f,b);const t=this.getLineFeedCnt(e.piece.bufferIndex,s,b);const o=b.line===s.line?b.column-s.column+r:b.column+1;const l=o+_[0].length;d[h++]=(0,a.createFindMatch)(new i.Range(n+t,o,n+t,l),_,c);if(v(_.index)+_[0].length>=p){return h}if(h>=u){return h}}}while(_);return h}findMatchesLineByLine(e,t,n,r){const i=[];let s=0;const o=new a.Searcher(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null){return[]}const c=this.nodeAt2(e.endLineNumber,e.endColumn);if(c===null){return[]}let u=this.positionInBuffer(l.node,l.remainder);const h=this.positionInBuffer(c.node,c.remainder);if(l.node===c.node){this.findMatchesInNode(l.node,o,e.startLineNumber,e.startColumn,u,h,t,n,r,s,i);return i}let d=e.startLineNumber;let g=l.node;while(g!==c.node){const a=this.getLineFeedCnt(g.piece.bufferIndex,u,g.piece.end);if(a>=1){const l=this._buffers[g.piece.bufferIndex].lineStarts;const c=this.offsetInBuffer(g.piece.bufferIndex,g.piece.start);const h=l[u.line+a];const f=d===e.startLineNumber?e.startColumn:1;s=this.findMatchesInNode(g,o,d,f,u,this.positionInBuffer(g,h-c),t,n,r,s,i);if(s>=r){return i}d+=a}const c=d===e.startLineNumber?e.startColumn-1:0;if(d===e.endLineNumber){const a=this.getLineContent(d).substring(c,e.endColumn-1);s=this._findMatchesInLine(t,o,a,e.endLineNumber,c,s,i,n,r);return i}s=this._findMatchesInLine(t,o,this.getLineContent(d).substr(c),d,c,s,i,n,r);if(s>=r){return i}d++;l=this.nodeAt2(d,1);g=l.node;u=this.positionInBuffer(l.node,l.remainder)}if(d===e.endLineNumber){const a=d===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(d).substring(a,e.endColumn-1);s=this._findMatchesInLine(t,o,l,e.endLineNumber,a,s,i,n,r);return i}const f=d===e.startLineNumber?e.startColumn:1;s=this.findMatchesInNode(c.node,o,d,f,u,h,t,n,r,s,i);return i}_findMatchesInLine(e,t,n,r,o,l,c,u,h){const d=e.wordSeparators;if(!u&&e.simpleSearch){const t=e.simpleSearch;const u=t.length;const g=n.length;let f=-u;while((f=n.indexOf(t,f+u))!==-1){if(!d||(0,a.isValidMatch)(d,n,g,f,u)){c[l++]=new s.FindMatch(new i.Range(r,f+1+o,r,f+1+u+o),null);if(l>=h){return l}}}return l}let g;t.reset(0);do{g=t.next(n);if(g){c[l++]=(0,a.createFindMatch)(new i.Range(r,g.index+1+o,r,g.index+1+g[0].length+o),g,u);if(l>=h){return l}}}while(g);return l}insert(e,t,n=false){this._EOLNormalized=this._EOLNormalized&&n;this._lastVisitedLine.lineNumber=0;this._lastVisitedLine.value="";if(this.root!==o.SENTINEL){const{node:n,remainder:r,nodeStartOffset:i}=this.nodeAt(e);const s=n.piece;const o=s.bufferIndex;const a=this.positionInBuffer(n,r);if(n.piece.bufferIndex===0&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&i+s.length===e&&t.length<l){this.appendToNode(n,t);this.computeBufferMetadata();return}if(i===e){this.insertContentToNodeLeft(t,n);this._searchCache.validate(e)}else if(i+n.piece.length>e){const e=[];let i=new g(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),this.offsetInBuffer(o,s.end)-this.offsetInBuffer(o,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){const e=this.nodeCharCodeAt(n,r);if(e===10){const e={line:i.start.line+1,column:0};i=new g(i.bufferIndex,e,i.end,this.getLineFeedCnt(i.bufferIndex,e,i.end),i.length-1);t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){const i=this.nodeCharCodeAt(n,r-1);if(i===13){const i=this.positionInBuffer(n,r-1);this.deleteNodeTail(n,i);t="\r"+t;if(n.piece.length===0){e.push(n)}}else{this.deleteNodeTail(n,a)}}else{this.deleteNodeTail(n,a)}const l=this.createNewPieces(t);if(i.length>0){this.rbInsertRight(n,i)}let c=n;for(let e=0;e<l.length;e++){c=this.rbInsertRight(c,l[e])}this.deleteNodes(e)}else{this.insertContentToNodeRight(t,n)}}else{const e=this.createNewPieces(t);let n=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++){n=this.rbInsertRight(n,e[t])}}this.computeBufferMetadata()}delete(e,t){this._lastVisitedLine.lineNumber=0;this._lastVisitedLine.value="";if(t<=0||this.root===o.SENTINEL){return}const n=this.nodeAt(e);const r=this.nodeAt(e+t);const i=n.node;const s=r.node;if(i===s){const s=this.positionInBuffer(i,n.remainder);const a=this.positionInBuffer(i,r.remainder);if(n.nodeStartOffset===e){if(t===i.piece.length){const e=i.next();(0,o.rbDelete)(this,i);this.validateCRLFWithPrevNode(e);this.computeBufferMetadata();return}this.deleteNodeHead(i,a);this._searchCache.validate(e);this.validateCRLFWithPrevNode(i);this.computeBufferMetadata();return}if(n.nodeStartOffset+i.piece.length===e+t){this.deleteNodeTail(i,s);this.validateCRLFWithNextNode(i);this.computeBufferMetadata();return}this.shrinkNode(i,s,a);this.computeBufferMetadata();return}const a=[];const l=this.positionInBuffer(i,n.remainder);this.deleteNodeTail(i,l);this._searchCache.validate(e);if(i.piece.length===0){a.push(i)}const c=this.positionInBuffer(s,r.remainder);this.deleteNodeHead(s,c);if(s.piece.length===0){a.push(s)}const u=i.next();for(let e=u;e!==o.SENTINEL&&e!==s;e=e.next()){a.push(e)}const h=i.piece.length===0?i.prev():i;this.deleteNodes(a);this.validateCRLFWithNextNode(h);this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const r=t.piece;const i={line:r.start.line+1,column:0};const s=new g(r.bufferIndex,i,r.end,this.getLineFeedCnt(r.bufferIndex,i,r.end),r.length-1);t.piece=s;e+="\n";(0,o.updateTreeMetadata)(this,t,-1,-1);if(t.piece.length===0){n.push(t)}}const r=this.createNewPieces(e);let i=this.rbInsertLeft(t,r[r.length-1]);for(let e=r.length-2;e>=0;e--){i=this.rbInsertLeft(i,r[e])}this.validateCRLFWithPrevNode(i);this.deleteNodes(n)}insertContentToNodeRight(e,t){if(this.adjustCarriageReturnFromNext(e,t)){e+="\n"}const n=this.createNewPieces(e);const r=this.rbInsertRight(t,n[0]);let i=r;for(let e=1;e<n.length;e++){i=this.rbInsertRight(i,n[e])}this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,n){const r=e.piece;const i=e.piece.bufferIndex;const s=this._buffers[i].lineStarts;const o=s[r.start.line]+r.start.column;const a=o+t;let l=r.start.line;let c=r.end.line;let u=0;let h=0;let d=0;while(l<=c){u=l+(c-l)/2|0;d=s[u];if(u===c){break}h=s[u+1];if(a<d){c=u-1}else if(a>=h){l=u+1}else{break}}if(n){n.line=u;n.column=a-d;return null}return{line:u,column:a-d}}getLineFeedCnt(e,t,n){if(n.column===0){return n.line-t.line}const r=this._buffers[e].lineStarts;if(n.line===r.length-1){return n.line-t.line}const i=r[n.line+1];const s=r[n.line]+n.column;if(i>s+1){return n.line-t.line}const o=s-1;const a=this._buffers[e].buffer;if(a.charCodeAt(o)===13){return n.line-t.line+1}else{return n.line-t.line}}offsetInBuffer(e,t){const n=this._buffers[e].lineStarts;return n[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++){(0,o.rbDelete)(this,e[t])}}createNewPieces(e){if(e.length>l){const t=[];while(e.length>l){const n=e.charCodeAt(l-1);let r;if(n===13||n>=55296&&n<=56319){r=e.substring(0,l-1);e=e.substring(l-1)}else{r=e.substring(0,l);e=e.substring(l)}const i=h(r);t.push(new g(this._buffers.length,{line:0,column:0},{line:i.length-1,column:r.length-i[i.length-1]},i.length-1,r.length));this._buffers.push(new f(r,i))}const n=h(e);t.push(new g(this._buffers.length,{line:0,column:0},{line:n.length-1,column:e.length-n[n.length-1]},n.length-1,e.length));this._buffers.push(new f(e,n));return t}let t=this._buffers[0].buffer.length;const n=h(e,false);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1};r=this._lastChangeBufferPos;for(let e=0;e<n.length;e++){n[e]+=t+1}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1));this._buffers[0].buffer+="_"+e;t+=1}else{if(t!==0){for(let e=0;e<n.length;e++){n[e]+=t}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1));this._buffers[0].buffer+=e}const i=this._buffers[0].buffer.length;const s=this._buffers[0].lineStarts.length-1;const o=i-this._buffers[0].lineStarts[s];const a={line:s,column:o};const c=new g(0,r,a,this.getLineFeedCnt(0,r,a),i-t);this._lastChangeBufferPos=a;return[c]}getLineRawContent(e,t=0){let n=this.root;let r="";const i=this._searchCache.get2(e);if(i){n=i.node;const s=this.getAccumulatedValue(n,e-i.nodeStartLineNumber-1);const o=this._buffers[n.piece.bufferIndex].buffer;const a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(i.nodeStartLineNumber+n.piece.lineFeedCnt===e){r=o.substring(a+s,a+n.piece.length)}else{const r=this.getAccumulatedValue(n,e-i.nodeStartLineNumber);return o.substring(a+s,a+r-t)}}else{let i=0;const s=e;while(n!==o.SENTINEL){if(n.left!==o.SENTINEL&&n.lf_left>=e-1){n=n.left}else if(n.lf_left+n.piece.lineFeedCnt>e-1){const r=this.getAccumulatedValue(n,e-n.lf_left-2);const o=this.getAccumulatedValue(n,e-n.lf_left-1);const a=this._buffers[n.piece.bufferIndex].buffer;const l=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=n.size_left;this._searchCache.set({node:n,nodeStartOffset:i,nodeStartLineNumber:s-(e-1-n.lf_left)});return a.substring(l+r,l+o-t)}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const t=this.getAccumulatedValue(n,e-n.lf_left-2);const i=this._buffers[n.piece.bufferIndex].buffer;const s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r=i.substring(s+t,s+n.piece.length);break}else{e-=n.lf_left+n.piece.lineFeedCnt;i+=n.size_left+n.piece.length;n=n.right}}}n=n.next();while(n!==o.SENTINEL){const e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const i=this.getAccumulatedValue(n,0);const s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=e.substring(s,s+i-t);return r}else{const t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=e.substr(t,n.piece.length)}n=n.next()}return r}computeBufferMetadata(){let e=this.root;let t=1;let n=0;while(e!==o.SENTINEL){t+=e.lf_left+e.piece.lineFeedCnt;n+=e.size_left+e.piece.length;e=e.right}this._lineCnt=t;this._length=n;this._searchCache.validate(this._length)}getIndexOf(e,t){const n=e.piece;const r=this.positionInBuffer(e,t);const i=r.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){const t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,r);if(t!==i){return{index:t,remainder:0}}}return{index:i,remainder:r.column}}getAccumulatedValue(e,t){if(t<0){return 0}const n=e.piece;const r=this._buffers[n.bufferIndex].lineStarts;const i=n.start.line+t+1;if(i>n.end.line){return r[n.end.line]+n.end.column-r[n.start.line]-n.start.column}else{return r[i]-r[n.start.line]-n.start.column}}deleteNodeTail(e,t){const n=e.piece;const r=n.lineFeedCnt;const i=this.offsetInBuffer(n.bufferIndex,n.end);const s=t;const a=this.offsetInBuffer(n.bufferIndex,s);const l=this.getLineFeedCnt(n.bufferIndex,n.start,s);const c=l-r;const u=a-i;const h=n.length+u;e.piece=new g(n.bufferIndex,n.start,s,l,h);(0,o.updateTreeMetadata)(this,e,u,c)}deleteNodeHead(e,t){const n=e.piece;const r=n.lineFeedCnt;const i=this.offsetInBuffer(n.bufferIndex,n.start);const s=t;const a=this.getLineFeedCnt(n.bufferIndex,s,n.end);const l=this.offsetInBuffer(n.bufferIndex,s);const c=a-r;const u=i-l;const h=n.length+u;e.piece=new g(n.bufferIndex,s,n.end,a,h);(0,o.updateTreeMetadata)(this,e,u,c)}shrinkNode(e,t,n){const r=e.piece;const i=r.start;const s=r.end;const a=r.length;const l=r.lineFeedCnt;const c=t;const u=this.getLineFeedCnt(r.bufferIndex,r.start,c);const h=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,i);e.piece=new g(r.bufferIndex,r.start,c,u,h);(0,o.updateTreeMetadata)(this,e,h-a,u-l);const d=new g(r.bufferIndex,n,s,this.getLineFeedCnt(r.bufferIndex,n,s),this.offsetInBuffer(r.bufferIndex,s)-this.offsetInBuffer(r.bufferIndex,n));const f=this.rbInsertRight(e,d);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){if(this.adjustCarriageReturnFromNext(t,e)){t+="\n"}const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e);const r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const i=h(t,false);for(let e=0;e<i.length;e++){i[e]+=r}if(n){const e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop();this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1));const s=this._buffers[0].lineStarts.length-1;const a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s];const l={line:s,column:a};const c=e.piece.length+t.length;const u=e.piece.lineFeedCnt;const d=this.getLineFeedCnt(0,e.piece.start,l);const f=d-u;e.piece=new g(e.piece.bufferIndex,e.piece.start,l,d,c);this._lastChangeBufferPos=l;(0,o.updateTreeMetadata)(this,e,t.length,f)}nodeAt(e){let t=this.root;const n=this._searchCache.get(e);if(n){return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset}}let r=0;while(t!==o.SENTINEL){if(t.size_left>e){t=t.left}else if(t.size_left+t.piece.length>=e){r+=t.size_left;const n={node:t,remainder:e-t.size_left,nodeStartOffset:r};this._searchCache.set(n);return n}else{e-=t.size_left+t.piece.length;r+=t.size_left+t.piece.length;t=t.right}}return null}nodeAt2(e,t){let n=this.root;let r=0;while(n!==o.SENTINEL){if(n.left!==o.SENTINEL&&n.lf_left>=e-1){n=n.left}else if(n.lf_left+n.piece.lineFeedCnt>e-1){const i=this.getAccumulatedValue(n,e-n.lf_left-2);const s=this.getAccumulatedValue(n,e-n.lf_left-1);r+=n.size_left;return{node:n,remainder:Math.min(i+t-1,s),nodeStartOffset:r}}else if(n.lf_left+n.piece.lineFeedCnt===e-1){const i=this.getAccumulatedValue(n,e-n.lf_left-2);if(i+t-1<=n.piece.length){return{node:n,remainder:i+t-1,nodeStartOffset:r}}else{t-=n.piece.length-i;break}}else{e-=n.lf_left+n.piece.lineFeedCnt;r+=n.size_left+n.piece.length;n=n.right}}n=n.next();while(n!==o.SENTINEL){if(n.piece.lineFeedCnt>0){const e=this.getAccumulatedValue(n,0);const r=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:r}}else{if(n.piece.length>=t-1){const e=this.offsetOfNode(n);return{node:n,remainder:t-1,nodeStartOffset:e}}else{t-=n.piece.length}}n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1){return-1}const n=this._buffers[e.piece.bufferIndex];const r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(r)}offsetOfNode(e){if(!e){return 0}let t=e.size_left;while(e!==this.root){if(e.parent.right===e){t+=e.parent.size_left+e.parent.piece.length}e=e.parent}return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL==="\n")}startWithLF(e){if(typeof e==="string"){return e.charCodeAt(0)===10}if(e===o.SENTINEL||e.piece.lineFeedCnt===0){return false}const t=e.piece;const n=this._buffers[t.bufferIndex].lineStarts;const r=t.start.line;const i=n[r]+t.start.column;if(r===n.length-1){return false}const s=n[r+1];if(s>i+1){return false}return this._buffers[t.bufferIndex].buffer.charCodeAt(i)===10}endWithCR(e){if(typeof e==="string"){return e.charCodeAt(e.length-1)===13}if(e===o.SENTINEL||e.piece.lineFeedCnt===0){return false}return this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();if(this.endWithCR(t)){this.fixCRLF(t,e)}}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();if(this.startWithLF(t)){this.fixCRLF(e,t)}}}fixCRLF(e,t){const n=[];const r=this._buffers[e.piece.bufferIndex].lineStarts;let i;if(e.piece.end.column===0){i={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}}else{i={line:e.piece.end.line,column:e.piece.end.column-1}}const s=e.piece.length-1;const a=e.piece.lineFeedCnt-1;e.piece=new g(e.piece.bufferIndex,e.piece.start,i,a,s);(0,o.updateTreeMetadata)(this,e,-1,-1);if(e.piece.length===0){n.push(e)}const l={line:t.piece.start.line+1,column:0};const c=t.piece.length-1;const u=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new g(t.piece.bufferIndex,l,t.piece.end,u,c);(0,o.updateTreeMetadata)(this,t,-1,-1);if(t.piece.length===0){n.push(t)}const h=this.createNewPieces("\r\n");this.rbInsertRight(e,h[0]);for(let e=0;e<n.length;e++){(0,o.rbDelete)(this,n[e])}}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const n=t.next();if(this.startWithLF(n)){e+="\n";if(n.piece.length===1){(0,o.rbDelete)(this,n)}else{const e=n.piece;const t={line:e.start.line+1,column:0};const r=e.length-1;const i=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new g(e.bufferIndex,t,e.end,i,r);(0,o.updateTreeMetadata)(this,n,-1,-1)}return true}}return false}iterate(e,t){if(e===o.SENTINEL){return t(o.SENTINEL)}const n=this.iterate(e.left,t);if(!n){return n}return t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===o.SENTINEL){return""}const t=this._buffers[e.piece.bufferIndex];const n=e.piece;const r=this.offsetInBuffer(n.bufferIndex,n.start);const i=this.offsetInBuffer(n.bufferIndex,n.end);const s=t.buffer.substring(r,i);return s}getPieceContent(e){const t=this._buffers[e.bufferIndex];const n=this.offsetInBuffer(e.bufferIndex,e.start);const r=this.offsetInBuffer(e.bufferIndex,e.end);const i=t.buffer.substring(n,r);return i}rbInsertRight(e,t){const n=new o.TreeNode(t,1);n.left=o.SENTINEL;n.right=o.SENTINEL;n.parent=o.SENTINEL;n.size_left=0;n.lf_left=0;const r=this.root;if(r===o.SENTINEL){this.root=n;n.color=0}else if(e.right===o.SENTINEL){e.right=n;n.parent=e}else{const t=(0,o.leftest)(e.right);t.left=n;n.parent=t}(0,o.fixInsert)(this,n);return n}rbInsertLeft(e,t){const n=new o.TreeNode(t,1);n.left=o.SENTINEL;n.right=o.SENTINEL;n.parent=o.SENTINEL;n.size_left=0;n.lf_left=0;if(this.root===o.SENTINEL){this.root=n;n.color=0}else if(e.left===o.SENTINEL){e.left=n;n.parent=e}else{const t=(0,o.righttest)(e.left);t.right=n;n.parent=t}(0,o.fixInsert)(this,n);return n}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{SENTINEL:()=>i,TreeNode:()=>r,fixInsert:()=>g,leftRotate:()=>u,leftest:()=>s,rbDelete:()=>d,recomputeTreeMetadata:()=>m,rightRotate:()=>h,righttest:()=>o,updateTreeMetadata:()=>f});class r{constructor(e,t){this.piece=e;this.color=t;this.size_left=0;this.lf_left=0;this.parent=this;this.left=this;this.right=this}next(){if(this.right!==i){return s(this.right)}let e=this;while(e.parent!==i){if(e.parent.left===e){break}e=e.parent}if(e.parent===i){return i}else{return e.parent}}prev(){if(this.left!==i){return o(this.left)}let e=this;while(e.parent!==i){if(e.parent.right===e){break}e=e.parent}if(e.parent===i){return i}else{return e.parent}}detach(){this.parent=null;this.left=null;this.right=null}}const i=new r(null,0);i.parent=i;i.left=i;i.right=i;i.color=0;function s(e){while(e.left!==i){e=e.left}return e}function o(e){while(e.right!==i){e=e.right}return e}function a(e){if(e===i){return 0}return e.size_left+e.piece.length+a(e.right)}function l(e){if(e===i){return 0}return e.lf_left+e.piece.lineFeedCnt+l(e.right)}function c(){i.parent=i}function u(e,t){const n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0);n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0);t.right=n.left;if(n.left!==i){n.left.parent=t}n.parent=t.parent;if(t.parent===i){e.root=n}else if(t.parent.left===t){t.parent.left=n}else{t.parent.right=n}n.left=t;t.parent=n}function h(e,t){const n=t.left;t.left=n.right;if(n.right!==i){n.right.parent=t}n.parent=t.parent;t.size_left-=n.size_left+(n.piece?n.piece.length:0);t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0);if(t.parent===i){e.root=n}else if(t===t.parent.right){t.parent.right=n}else{t.parent.left=n}n.right=t;t.parent=n}function d(e,t){let n;let r;if(t.left===i){r=t;n=r.right}else if(t.right===i){r=t;n=r.left}else{r=s(t.right);n=r.right}if(r===e.root){e.root=n;n.color=0;t.detach();c();e.root.parent=i;return}const o=r.color===1;if(r===r.parent.left){r.parent.left=n}else{r.parent.right=n}if(r===t){n.parent=r.parent;m(e,n)}else{if(r.parent===t){n.parent=r}else{n.parent=r.parent}m(e,n);r.left=t.left;r.right=t.right;r.parent=t.parent;r.color=t.color;if(t===e.root){e.root=r}else{if(t===t.parent.left){t.parent.left=r}else{t.parent.right=r}}if(r.left!==i){r.left.parent=r}if(r.right!==i){r.right.parent=r}r.size_left=t.size_left;r.lf_left=t.lf_left;m(e,r)}t.detach();if(n.parent.left===n){const t=a(n);const r=l(n);if(t!==n.parent.size_left||r!==n.parent.lf_left){const i=t-n.parent.size_left;const s=r-n.parent.lf_left;n.parent.size_left=t;n.parent.lf_left=r;f(e,n.parent,i,s)}}m(e,n.parent);if(o){c();return}let d;while(n!==e.root&&n.color===0){if(n===n.parent.left){d=n.parent.right;if(d.color===1){d.color=0;n.parent.color=1;u(e,n.parent);d=n.parent.right}if(d.left.color===0&&d.right.color===0){d.color=1;n=n.parent}else{if(d.right.color===0){d.left.color=0;d.color=1;h(e,d);d=n.parent.right}d.color=n.parent.color;n.parent.color=0;d.right.color=0;u(e,n.parent);n=e.root}}else{d=n.parent.left;if(d.color===1){d.color=0;n.parent.color=1;h(e,n.parent);d=n.parent.left}if(d.left.color===0&&d.right.color===0){d.color=1;n=n.parent}else{if(d.left.color===0){d.right.color=0;d.color=1;u(e,d);d=n.parent.left}d.color=n.parent.color;n.parent.color=0;d.left.color=0;h(e,n.parent);n=e.root}}}n.color=0;c()}function g(e,t){m(e,t);while(t!==e.root&&t.parent.color===1){if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;if(n.color===1){t.parent.color=0;n.color=0;t.parent.parent.color=1;t=t.parent.parent}else{if(t===t.parent.right){t=t.parent;u(e,t)}t.parent.color=0;t.parent.parent.color=1;h(e,t.parent.parent)}}else{const n=t.parent.parent.left;if(n.color===1){t.parent.color=0;n.color=0;t.parent.parent.color=1;t=t.parent.parent}else{if(t===t.parent.left){t=t.parent;h(e,t)}t.parent.color=0;t.parent.parent.color=1;u(e,t.parent.parent)}}}e.root.color=0}function f(e,t,n,r){while(t!==e.root&&t!==i){if(t.parent.left===t){t.parent.size_left+=n;t.parent.lf_left+=r}t=t.parent}}function m(e,t){let n=0;let r=0;if(t===e.root){return}while(t!==e.root&&t===t.parent.right){t=t.parent}if(t===e.root){return}t=t.parent;n=a(t.left)-t.size_left;r=l(t.left)-t.lf_left;t.size_left+=n;t.lf_left+=r;while(t!==e.root&&(n!==0||r!==0)){if(t.parent.left===t){t.parent.size_left+=n;t.parent.lf_left+=r}t=t.parent}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{PieceTreeTextBufferBuilder:()=>a});var r=n(14);var i=n(184);var s=n(183);class o{constructor(e,t,n,r,i,s,o,a,l){this._chunks=e;this._bom=t;this._cr=n;this._lf=r;this._crlf=i;this._containsRTL=s;this._containsUnusualLineTerminators=o;this._isBasicASCII=a;this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf;const n=this._cr+this._crlf;if(t===0){return e===1?"\n":"\r\n"}if(n>t/2){return"\r\n"}return"\n"}create(e){const t=this._getEOL(e);const n=this._chunks;if(this._normalizeEOL&&(t==="\r\n"&&(this._cr>0||this._lf>0)||t==="\n"&&(this._cr>0||this._crlf>0))){for(let e=0,r=n.length;e<r;e++){const r=n[e].buffer.replace(/\r\n|\r|\n/g,t);const s=(0,i.createLineStartsFast)(r);n[e]=new i.StringBuffer(r,s)}}const r=new s.PieceTreeTextBuffer(n,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class a{constructor(){this.chunks=[];this.BOM="";this._hasPreviousChar=false;this._previousChar=0;this._tmpLineStarts=[];this.cr=0;this.lf=0;this.crlf=0;this.containsRTL=false;this.containsUnusualLineTerminators=false;this.isBasicASCII=true}acceptChunk(e){if(e.length===0){return}if(this.chunks.length===0){if(r.startsWithUTF8BOM(e)){this.BOM=r.UTF8_BOM_CHARACTER;e=e.substr(1)}}const t=e.charCodeAt(e.length-1);if(t===13||t>=55296&&t<=56319){this._acceptChunk1(e.substr(0,e.length-1),false);this._hasPreviousChar=true;this._previousChar=t}else{this._acceptChunk1(e,false);this._hasPreviousChar=false;this._previousChar=t}}_acceptChunk1(e,t){if(!t&&e.length===0){return}if(this._hasPreviousChar){this._acceptChunk2(String.fromCharCode(this._previousChar)+e)}else{this._acceptChunk2(e)}}_acceptChunk2(e){const t=(0,i.createLineStarts)(this._tmpLineStarts,e);this.chunks.push(new i.StringBuffer(e,t.lineStarts));this.cr+=t.cr;this.lf+=t.lf;this.crlf+=t.crlf;if(!t.isBasicASCII){this.isBasicASCII=false;if(!this.containsRTL){this.containsRTL=r.containsRTL(e)}if(!this.containsUnusualLineTerminators){this.containsUnusualLineTerminators=r.containsUnusualLineTerminators(e)}}}finish(e=true){this._finish();return new o(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0){this._acceptChunk1("",true)}if(this._hasPreviousChar){this._hasPreviousChar=false;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=(0,i.createLineStartsFast)(e.buffer);e.lineStarts=t;if(this._previousChar===13){this.cr++}}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{TokenizationTextModelPart:()=>w});var r=n(2);var i=n(3);var s=n(5);var o=n(144);var a=n(55);var l=n(26);var c=n(50);var u=n(35);var h=n(148);var d=n(149);var g=n(178);var f=n(188);var m=n(194);var p=n(195);var _=n(196);var b=n(191);var C=n(197);var v=n(199);var k=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var L=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};var S;let w=S=class e extends g.TextModelPart{constructor(e,t,n,r,o,a,l){super();this._textModel=e;this._bracketPairsTextModelPart=t;this._languageId=n;this._attachedViews=r;this._languageService=o;this._languageConfigurationService=a;this._treeSitterService=l;this._semanticTokens=new v.SparseTokensStore(this._languageService.languageIdCodec);this._onDidChangeLanguage=this._register(new i.Emitter);this.onDidChangeLanguage=this._onDidChangeLanguage.event;this._onDidChangeLanguageConfiguration=this._register(new i.Emitter);this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event;this._onDidChangeTokens=this._register(new i.Emitter);this.onDidChangeTokens=this._onDidChangeTokens.event;this._tokensDisposables=this._register(new s.DisposableStore);this._register(this._languageConfigurationService.onDidChange(e=>{if(e.affects(this._languageId)){this._onDidChangeLanguageConfiguration.fire({})}}));this._register(i.Event.filter(u.TreeSitterTokenizationRegistry.onDidChange,e=>e.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()}));this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new y(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new p.TreeSitterTokens(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){const t=this._tokens!==undefined;this._tokens?.dispose();this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens();this._tokensDisposables.clear();this._tokensDisposables.add(this._tokens.onDidChangeTokens(e=>{this._emitModelTokensChangedEvent(e)}));this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(e=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}));if(t){this._tokens.resetTokenization()}}createPreferredTokenProvider(){if(u.TreeSitterTokenizationRegistry.get(this._languageId)){if(!(this._tokens instanceof p.TreeSitterTokens)){this.createTokens(true)}}else{if(!(this._tokens instanceof y)){this.createTokens(false)}}}handleLanguageConfigurationServiceChange(e){if(e.affects(this._languageId)){this._onDidChangeLanguageConfiguration.fire({})}}handleDidChangeContent(e){if(e.isFlush){this._semanticTokens.flush()}else if(!e.isEolChange){for(const t of e.changes){const[e,n,r]=(0,o.countEOL)(t.text);this._semanticTokens.acceptEdit(t.range,e,n,r,t.text.length>0?t.text.charCodeAt(0):0)}}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){if(!this._textModel._isDisposing()){this._bracketPairsTextModelPart.handleDidChangeTokens(e);this._onDidChangeTokens.fire(e)}}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount()){throw new r.BugIndicatingError("Illegal value for lineNumber")}}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e);this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){this.validateLineNumber(e);return this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){this.validateLineNumber(e);return this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e);this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,n){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,n)}tokenizeLineWithEdit(e,t,n){return this._tokens.tokenizeLineWithEdit(e,t,n)}setSemanticTokens(e,t){this._semanticTokens.set(e,t);this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens()){return}const n=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:true,ranges:[{fromLineNumber:n.startLineNumber,toLineNumber:n.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e);const n=this._textModel.getLineContent(t.lineNumber);const r=this.getLineTokens(t.lineNumber);const i=r.findTokenIndexAtOffset(t.column-1);const[s,o]=S._findLanguageBoundaries(r,i);const a=(0,c.getWordAtText)(t.column,this.getLanguageConfiguration(r.getLanguageId(i)).getWordDefinition(),n.substring(s,o),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn){return a}if(i>0&&s===t.column-1){const[s,o]=S._findLanguageBoundaries(r,i-1);const a=(0,c.getWordAtText)(t.column,this.getLanguageConfiguration(r.getLanguageId(i-1)).getWordDefinition(),n.substring(s,o),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn){return a}}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const n=e.getLanguageId(t);let r=0;for(let i=t;i>=0&&e.getLanguageId(i)===n;i--){r=e.getStartOffset(i)}let i=e.getLineContent().length;for(let r=t,s=e.getCount();r<s&&e.getLanguageId(r)===n;r++){i=e.getEndOffset(r)}return[r,i]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);if(!t){return{word:"",startColumn:e.column,endColumn:e.column}}return{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const n=this._textModel.validatePosition(new l.Position(e,t));const r=this.getLineTokens(n.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(n.column-1))}setLanguageId(e,t="api"){if(this._languageId===e){return}const n={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e;this._bracketPairsTextModelPart.handleDidChangeLanguage(n);this._tokens.resetTokenization();this.createPreferredTokenProvider();this._onDidChangeLanguage.fire(n);this._onDidChangeLanguageConfiguration.fire({})}};w=S=k([L(4,h.ILanguageService),L(5,d.ILanguageConfigurationService),L(6,_.ITreeSitterParserService)],w);class y extends m.AbstractTokens{constructor(e,t,n,r){super(e,t,n);this._tokenizer=null;this._defaultBackgroundTokenizer=null;this._backgroundTokenizer=this._register(new s.MutableDisposable);this._tokens=new C.ContiguousTokensStore(this._languageIdCodec);this._debugBackgroundTokenizer=this._register(new s.MutableDisposable);this._attachedViewStates=this._register(new s.DisposableMap);this._register(u.TokenizationRegistry.onDidChange(e=>{const t=this.getLanguageId();if(e.changedLanguages.indexOf(t)===-1){return}this.resetTokenization()}));this.resetTokenization();this._register(r.onDidChangeVisibleRanges(({view:e,state:t})=>{if(t){let n=this._attachedViewStates.get(e);if(!n){n=new m.AttachedViewHandler(()=>this.refreshRanges(n.lineRanges));this._attachedViewStates.set(e,n)}n.handleStateChange(t)}else{this._attachedViewStates.deleteAndDispose(e)}}))}resetTokenization(e=true){this._tokens.flush();this._debugBackgroundTokens?.flush();if(this._debugBackgroundStates){this._debugBackgroundStates=new f.TrackingTokenizationStateStore(this._textModel.getLineCount())}if(e){this._onDidChangeTokens.fire({semanticTokensApplied:false,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}const t=()=>{if(this._textModel.isTooLargeForTokenization()){return[null,null]}const e=u.TokenizationRegistry.get(this.getLanguageId());if(!e){return[null,null]}let t;try{t=e.getInitialState()}catch(e){(0,r.onUnexpectedError)(e);return[null,null]}return[e,t]};const[n,i]=t();if(n&&i){this._tokenizer=new f.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),n,this._textModel,this._languageIdCodec)}else{this._tokenizer=null}this._backgroundTokenizer.clear();this._defaultBackgroundTokenizer=null;if(this._tokenizer){const e={setTokens:e=>{this.setTokens(e)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2){return}const e=2;this._backgroundTokenizationState=e;this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(e,t)=>{if(!this._tokenizer){return}const n=this._tokenizer.store.getFirstInvalidEndStateLineNumber();if(n!==null&&e>=n){this._tokenizer?.store.setEndState(e,t)}}};if(n&&n.createBackgroundTokenizer&&!n.backgroundTokenizerShouldOnlyVerifyTokens){this._backgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,e)}if(!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()){this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new f.DefaultBackgroundTokenizer(this._tokenizer,e);this._defaultBackgroundTokenizer.handleChanges()}if(n?.backgroundTokenizerShouldOnlyVerifyTokens&&n.createBackgroundTokenizer){this._debugBackgroundTokens=new C.ContiguousTokensStore(this._languageIdCodec);this._debugBackgroundStates=new f.TrackingTokenizationStateStore(this._textModel.getLineCount());this._debugBackgroundTokenizer.clear();this._debugBackgroundTokenizer.value=n.createBackgroundTokenizer(this._textModel,{setTokens:e=>{this._debugBackgroundTokens?.setMultilineTokens(e,this._textModel)},backgroundTokenizationFinished(){},setEndState:(e,t)=>{this._debugBackgroundStates?.setEndState(e,t)}})}else{this._debugBackgroundTokens=undefined;this._debugBackgroundStates=undefined;this._debugBackgroundTokenizer.value=undefined}}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){this._defaultBackgroundTokenizer?.handleChanges()}handleDidChangeContent(e){if(e.isFlush){this.resetTokenization(false)}else if(!e.isEolChange){for(const t of e.changes){const[e,n]=(0,o.countEOL)(t.text);this._tokens.acceptEdit(t.range,e,n);this._debugBackgroundTokens?.acceptEdit(t.range,e,n)}this._debugBackgroundStates?.acceptChanges(e.changes);if(this._tokenizer){this._tokenizer.store.acceptChanges(e.changes)}this._defaultBackgroundTokenizer?.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);if(t.length>0){this._onDidChangeTokens.fire({semanticTokensApplied:false,ranges:t})}return{changes:t}}refreshAllVisibleLineTokens(){const e=a.LineRange.joinMany([...this._attachedViewStates].map(([e,t])=>t.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e){this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}}refreshRange(e,t){if(!this._tokenizer){return}e=Math.max(1,Math.min(this._textModel.getLineCount(),e));t=Math.min(this._textModel.getLineCount(),t);const n=new b.ContiguousMultilineTokensBuilder;const{heuristicTokens:r}=this._tokenizer.tokenizeHeuristically(n,e,t);const i=this.setTokens(n.finalize());if(r){for(const e of i.changes){this._backgroundTokenizer.value?.requestTokens(e.fromLineNumber,e.toLineNumber+1)}}this._defaultBackgroundTokenizer?.checkFinished()}forceTokenization(e){const t=new b.ContiguousMultilineTokensBuilder;this._tokenizer?.updateTokensUntilLine(t,e);this.setTokens(t.finalize());this._defaultBackgroundTokenizer?.checkFinished()}hasAccurateTokensForLine(e){if(!this._tokenizer){return true}return this._tokenizer.hasAccurateTokensForLine(e)}isCheapToTokenize(e){if(!this._tokenizer){return true}return this._tokenizer.isCheapToTokenize(e)}getLineTokens(e){const t=this._textModel.getLineContent(e);const n=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer){if(this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const r=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(!n.equals(r)&&this._debugBackgroundTokenizer.value?.reportMismatchingTokens){this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}}}return n}getTokenTypeIfInsertingCharacter(e,t,n){if(!this._tokenizer){return 0}const r=this._textModel.validatePosition(new l.Position(e,t));this.forceTokenization(r.lineNumber);return this._tokenizer.getTokenTypeIfInsertingCharacter(r,n)}tokenizeLineWithEdit(e,t,n){if(!this._tokenizer){return null}const r=this._textModel.validatePosition(e);this.forceTokenization(r.lineNumber);return this._tokenizer.tokenizeLineWithEdit(r,t,n)}get hasTokens(){return this._tokens.hasTokens}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DefaultBackgroundTokenizer:()=>v,RangePriorityQueueImpl:()=>b,TokenizationStateStore:()=>_,TokenizerWithStateStore:()=>f,TokenizerWithStateStoreAndTextModel:()=>m,TrackingTokenizationStateStore:()=>p});var r=n(76);var i=n(2);var s=n(10);var o=n(8);var a=n(144);var l=n(55);var c=n(56);var u=n(189);var h=n(190);var d=n(191);var g=n(193);class f{constructor(e,t){this.tokenizationSupport=t;this.initialState=this.tokenizationSupport.getInitialState();this.store=new p(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class m extends f{constructor(e,t,n,r){super(e,t);this._textModel=n;this._languageIdCodec=r}updateTokensUntilLine(e,t){const n=this._textModel.getLanguageId();while(true){const r=this.getFirstInvalidLine();if(!r||r.lineNumber>t){break}const i=this._textModel.getLineContent(r.lineNumber);const s=C(this._languageIdCodec,n,this.tokenizationSupport,i,true,r.startState);e.add(r.lineNumber,s.tokens);this.store.setEndState(r.lineNumber,s.endState)}}getTokenTypeIfInsertingCharacter(e,t){const n=this.getStartState(e.lineNumber);if(!n){return 0}const r=this._textModel.getLanguageId();const i=this._textModel.getLineContent(e.lineNumber);const s=i.substring(0,e.column-1)+t+i.substring(e.column-1);const o=C(this._languageIdCodec,r,this.tokenizationSupport,s,true,n);const a=new g.LineTokens(o.tokens,s,this._languageIdCodec);if(a.getCount()===0){return 0}const l=a.findTokenIndexAtOffset(e.column-1);return a.getStandardTokenType(l)}tokenizeLineWithEdit(e,t,n){const r=e.lineNumber;const i=e.column;const s=this.getStartState(r);if(!s){return null}const o=this._textModel.getLineContent(r);const a=o.substring(0,i-1)+n+o.substring(i-1+t);const l=this._textModel.getLanguageIdAtPosition(r,0);const c=C(this._languageIdCodec,l,this.tokenizationSupport,a,true,s);const u=new g.LineTokens(c.tokens,a,this._languageIdCodec);return u}hasAccurateTokensForLine(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();if(e<t){return true}if(e===t&&this._textModel.getLineLength(e)<2048){return true}return false}tokenizeHeuristically(e,t,n){if(n<=this.store.getFirstInvalidEndStateLineNumberOrMax()){return{heuristicTokens:false}}if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax()){this.updateTokensUntilLine(e,n);return{heuristicTokens:false}}let r=this.guessStartState(t);const i=this._textModel.getLanguageId();for(let s=t;s<=n;s++){const t=this._textModel.getLineContent(s);const n=C(this._languageIdCodec,i,this.tokenizationSupport,t,true,r);e.add(s,n.tokens);r=n.endState}return{heuristicTokens:true}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const n=[];let r=null;for(let i=e-1;t>1&&i>=1;i--){const e=this._textModel.getLineFirstNonWhitespaceColumn(i);if(e===0){continue}if(e<t){n.push(this._textModel.getLineContent(i));t=e;r=this.getStartState(i);if(r){break}}}if(!r){r=this.tokenizationSupport.getInitialState()}n.reverse();const i=this._textModel.getLanguageId();let s=r;for(const e of n){const t=C(this._languageIdCodec,i,this.tokenizationSupport,e,false,s);s=t.endState}return s}}class p{constructor(e){this.lineCount=e;this._tokenizationStateStore=new _;this._invalidEndStatesLineNumbers=new b;this._invalidEndStatesLineNumbers.addRange(new c.OffsetRange(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t){throw new i.BugIndicatingError("Cannot set null/undefined state")}this._invalidEndStatesLineNumbers.delete(e);const n=this._tokenizationStateStore.setEndState(e,t);if(n&&e<this.lineCount){this._invalidEndStatesLineNumbers.addRange(new c.OffsetRange(e+1,e+2))}return n}acceptChange(e,t){this.lineCount+=t-e.length;this._tokenizationStateStore.acceptChange(e,t);this._invalidEndStatesLineNumbers.addRangeAndResize(new c.OffsetRange(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[e]=(0,a.countEOL)(t.text);this.acceptChange(new l.LineRange(t.range.startLineNumber,t.range.endLineNumber+1),e+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new c.OffsetRange(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){if(e===1){return t}return this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null){return null}const n=this.getStartState(t,e);if(!n){throw new i.BugIndicatingError("Start state must be defined")}return{lineNumber:t,startState:n}}}class _{constructor(){this._lineEndStates=new h.FixedArray(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const n=this._lineEndStates.get(e);if(n&&n.equals(t)){return false}this._lineEndStates.set(e,t);return true}acceptChange(e,t){let n=e.length;if(t>0&&n>0){n--;t--}this._lineEndStates.replace(e.startLineNumber,n,t)}}class b{constructor(){this._ranges=[]}get min(){if(this._ranges.length===0){return null}return this._ranges[0].start}delete(e){const t=this._ranges.findIndex(t=>t.contains(e));if(t!==-1){const n=this._ranges[t];if(n.start===e){if(n.endExclusive===e+1){this._ranges.splice(t,1)}else{this._ranges[t]=new c.OffsetRange(e+1,n.endExclusive)}}else{if(n.endExclusive===e+1){this._ranges[t]=new c.OffsetRange(n.start,e)}else{this._ranges.splice(t,1,new c.OffsetRange(n.start,e),new c.OffsetRange(e+1,n.endExclusive))}}}}addRange(e){c.OffsetRange.addRange(e,this._ranges)}addRangeAndResize(e,t){let n=0;while(!(n>=this._ranges.length||e.start<=this._ranges[n].endExclusive)){n++}let r=n;while(!(r>=this._ranges.length||e.endExclusive<this._ranges[r].start)){r++}const i=t-e.length;for(let e=r;e<this._ranges.length;e++){this._ranges[e]=this._ranges[e].delta(i)}if(n===r){const r=new c.OffsetRange(e.start,e.start+t);if(!r.isEmpty){this._ranges.splice(n,0,r)}}else{const t=Math.min(e.start,this._ranges[n].start);const s=Math.max(e.endExclusive,this._ranges[r-1].endExclusive);const o=new c.OffsetRange(t,s+i);if(!o.isEmpty){this._ranges.splice(n,r-n,o)}else{this._ranges.splice(n,r-n)}}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function C(e,t,n,r,s,o){let a=null;if(n){try{a=n.tokenizeEncoded(r,s,o.clone())}catch(e){(0,i.onUnexpectedError)(e)}}if(!a){a=(0,u.nullTokenizeEncoded)(e.encodeLanguageId(t),o)}g.LineTokens.convertToEndOffset(a.tokens,r.length);return a}class v{constructor(e,t){this._tokenizerWithStateStore=e;this._backgroundTokenStore=t;this._isDisposed=false;this._isScheduled=false}dispose(){this._isDisposed=true}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){if(this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()){return}this._isScheduled=true;(0,r.runWhenGlobalIdle)(e=>{this._isScheduled=false;this._backgroundTokenizeWithDeadline(e)})}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining();const n=()=>{if(this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()){return}this._backgroundTokenizeForAtLeast1ms();if(Date.now()<t){(0,s.setTimeout0)(n)}else{this._beginBackgroundTokenization()}};n()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount();const t=new d.ContiguousMultilineTokensBuilder;const n=o.StopWatch.create(false);do{if(n.elapsed()>1){break}const r=this._tokenizeOneInvalidLine(t);if(r>=e){break}}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize());this.checkFinished()}_hasLinesToTokenize(){if(!this._tokenizerWithStateStore){return false}return!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(e){const t=this._tokenizerWithStateStore?.getFirstInvalidLine();if(!t){return this._tokenizerWithStateStore._textModel.getLineCount()+1}this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber);return t.lineNumber}checkFinished(){if(this._isDisposed){return}if(this._tokenizerWithStateStore.store.allStatesValid()){this._backgroundTokenStore.backgroundTokenizationFinished()}}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new l.LineRange(e,t))}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{NullState:()=>i,nullTokenize:()=>s,nullTokenizeEncoded:()=>o});var r=n(35);const i=new class{clone(){return this}equals(e){return this===e}};function s(e,t){return new r.TokenizationResult([new r.Token(0,"",e)],t)}function o(e,t){const n=new Uint32Array(2);n[0]=0;n[1]=(e<<0|0<<8|0<<11|1<<15|2<<24)>>>0;return new r.EncodedTokenizationResult(n,t===null?i:t)}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{FixedArray:()=>i});var r=n(62);class i{constructor(e){this._default=e;this._store=[]}get(e){if(e<this._store.length){return this._store[e]}return this._default}set(e,t){while(e>=this._store.length){this._store[this._store.length]=this._default}this._store[e]=t}replace(e,t,n){if(e>=this._store.length){return}if(t===0){this.insert(e,n);return}else if(n===0){this.delete(e,t);return}const r=this._store.slice(0,e);const i=this._store.slice(e+t);const o=s(n,this._default);this._store=r.concat(o,i)}delete(e,t){if(t===0||e>=this._store.length){return}this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length){return}const n=[];for(let e=0;e<t;e++){n[e]=this._default}this._store=(0,r.arrayInsert)(this._store,e,n)}}function s(e,t){const n=[];for(let r=0;r<e;r++){n[r]=t}return n}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ContiguousMultilineTokensBuilder:()=>i});var r=n(192);class i{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const n=this._tokens[this._tokens.length-1];if(n.endLineNumber+1===e){n.appendLineTokens(t);return}}this._tokens.push(new r.ContiguousMultilineTokens(e,[t]))}finalize(){return this._tokens}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ContiguousMultilineTokens:()=>r});class r{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e;this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{LineTokens:()=>i,getStandardTokenTypeAtPosition:()=>o});var r=n(169);class i{static{this.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0}static createEmpty(e,t){const n=i.defaultTokenMetadata;const r=new Uint32Array(2);r[0]=e.length;r[1]=n;return new i(r,e,t)}static createFromTextAndMetadata(e,t){let n=0;let r="";const s=new Array;for(const{text:t,metadata:i}of e){s.push(n+t.length,i);n+=t.length;r+=t}return new i(new Uint32Array(s),r,t)}constructor(e,t,n){this._lineTokensBrand=undefined;this._tokens=e;this._tokensCount=this._tokens.length>>>1;this._text=t;this.languageIdCodec=n}equals(e){if(e instanceof i){return this.slicedEquals(e,0,this._tokensCount)}return false}slicedEquals(e,t,n){if(this._text!==e._text){return false}if(this._tokensCount!==e._tokensCount){return false}const r=t<<1;const i=r+(n<<1);for(let t=r;t<i;t++){if(this._tokens[t]!==e._tokens[t]){return false}}return true}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){if(e>0){return this._tokens[e-1<<1]}return 0}getMetadata(e){const t=this._tokens[(e<<1)+1];return t}getLanguageId(e){const t=this._tokens[(e<<1)+1];const n=r.TokenMetadata.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(n)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return r.TokenMetadata.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return r.TokenMetadata.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return r.TokenMetadata.getClassNameFromMetadata(t)}getInlineStyle(e,t){const n=this._tokens[(e<<1)+1];return r.TokenMetadata.getInlineStyleFromMetadata(n,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return r.TokenMetadata.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return i.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new s(this,e,t,n)}static convertToEndOffset(e,t){const n=e.length>>>1;const r=n-1;for(let t=0;t<r;t++){e[t<<1]=e[t+1<<1]}e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2){return 0}let n=0;let r=(e.length>>>1)-1;while(n<r){const i=n+Math.floor((r-n)/2);const s=e[i<<1];if(s===t){return i+1}else if(s<t){n=i+1}else if(s>t){r=i}}return n}withInserted(e){if(e.length===0){return this}let t=0;let n=0;let r="";const s=new Array;let o=0;while(true){const i=t<this._tokensCount?this._tokens[t<<1]:-1;const a=n<e.length?e[n]:null;if(i!==-1&&(a===null||i<=a.offset)){r+=this._text.substring(o,i);const e=this._tokens[(t<<1)+1];s.push(r.length,e);t++;o=i}else if(a){if(a.offset>o){r+=this._text.substring(o,a.offset);const e=this._tokens[(t<<1)+1];s.push(r.length,e);o=a.offset}r+=a.text;s.push(r.length,a.tokenMetadata);n++}else{break}}return new i(new Uint32Array(s),r,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e);const n=this.getEndOffset(e);const r=this._text.substring(t,n);return r}forEach(e){const t=this.getCount();for(let n=0;n<t;n++){e(n)}}}class s{constructor(e,t,n,r){this._source=e;this._startOffset=t;this._endOffset=n;this._deltaOffset=r;this._firstTokenIndex=e.findTokenIndexAtOffset(t);this.languageIdCodec=e.languageIdCodec;this._tokensCount=0;for(let t=this._firstTokenIndex,r=e.getCount();t<r;t++){const r=e.getStartOffset(t);if(r>=n){break}this._tokensCount++}}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){if(e instanceof s){return this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)}return false}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e;const n=this._source.getStartOffset(t);const r=this._source.getEndOffset(t);let i=this._source.getTokenText(t);if(n<this._startOffset){i=i.substring(this._startOffset-n)}if(r>this._endOffset){i=i.substring(0,i.length-(r-this._endOffset))}return i}forEach(e){for(let t=0;t<this.getCount();t++){e(t)}}}function o(e,t){const n=t.lineNumber;if(!e.tokenization.isCheapToTokenize(n)){return undefined}e.tokenization.forceTokenization(n);const r=e.tokenization.getLineTokens(n);const i=r.findTokenIndexAtOffset(t.column-1);const s=r.getStandardTokenType(i);return s}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{AbstractTokens:()=>h,AttachedViewHandler:()=>u,AttachedViews:()=>l});var r=n(62);var i=n(76);var s=n(3);var o=n(5);var a=n(55);class l{constructor(){this._onDidChangeVisibleRanges=new s.Emitter;this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event;this._views=new Set}attachView(){const e=new c(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});this._views.add(e);return e}detachView(e){this._views.delete(e);this._onDidChangeVisibleRanges.fire({view:e,state:undefined})}}class c{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const n=e.map(e=>new a.LineRange(e.startLineNumber,e.endLineNumber+1));this.handleStateChange({visibleLineRanges:n,stabilized:t})}}class u extends o.Disposable{get lineRanges(){return this._lineRanges}constructor(e){super();this._refreshTokens=e;this.runner=this._register(new i.RunOnceScheduler(()=>this.update(),50));this._computedLineRanges=[];this._lineRanges=[]}update(){if((0,r.equals)(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))){return}this._computedLineRanges=this._lineRanges;this._refreshTokens()}handleStateChange(e){this._lineRanges=e.visibleLineRanges;if(e.stabilized){this.runner.cancel();this.update()}else{this.runner.schedule()}}}class h extends o.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,n){super();this._languageIdCodec=e;this._textModel=t;this.getLanguageId=n;this._backgroundTokenizationState=1;this._onDidChangeBackgroundTokenizationState=this._register(new s.Emitter);this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event;this._onDidChangeTokens=this._register(new s.Emitter);this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){if(this.isCheapToTokenize(e)){this.forceTokenization(e)}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{TreeSitterTokens:()=>o});var r=n(35);var i=n(193);var s=n(194);class o extends s.AbstractTokens{constructor(e,t,n,r){super(t,n,r);this._treeSitterService=e;this._tokenizationSupport=null;this._initialize()}_initialize(){const e=this.getLanguageId();if(!this._tokenizationSupport||this._lastLanguageId!==e){this._lastLanguageId=e;this._tokenizationSupport=r.TreeSitterTokenizationRegistry.get(e)}}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const n=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(n){return new i.LineTokens(n,t,this._languageIdCodec)}}return i.LineTokens.createEmpty(t,this._languageIdCodec)}resetTokenization(e=true){if(e){this._onDidChangeTokens.fire({semanticTokensApplied:false,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){if(e.isFlush){this.resetTokenization(false)}}forceTokenization(e){}hasAccurateTokensForLine(e){return true}isCheapToTokenize(e){return true}getTokenTypeIfInsertingCharacter(e,t,n){return 0}tokenizeLineWithEdit(e,t,n){return null}get hasTokens(){const e=this._treeSitterService.getParseResult(this._textModel)!==undefined;return e}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ITreeSitterParserService:()=>i});var r=n(82);const i=(0,r.createDecorator)("treeSitterParserService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ContiguousTokensStore:()=>l});var r=n(62);var i=n(26);var s=n(198);var o=n(193);var a=n(169);class l{constructor(e){this._lineTokens=[];this._len=0;this._languageIdCodec=e}flush(){this._lineTokens=[];this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,n){let r=null;if(t<this._len){r=this._lineTokens[t]}if(r!==null&&r!==s.EMPTY_LINE_TOKENS){return new o.LineTokens((0,s.toUint32Array)(r),n,this._languageIdCodec)}const i=new Uint32Array(2);i[0]=n.length;i[1]=c(this._languageIdCodec.encodeLanguageId(e));return new o.LineTokens(i,n,this._languageIdCodec)}static _massageTokens(e,t,n){const r=n?(0,s.toUint32Array)(n):null;if(t===0){let t=false;if(r&&r.length>1){t=a.TokenMetadata.getLanguageId(r[1])!==e}if(!t){return s.EMPTY_LINE_TOKENS}}if(!r||r.length===0){const n=new Uint32Array(2);n[0]=t;n[1]=c(e);return n.buffer}r[r.length-2]=t;if(r.byteOffset===0&&r.byteLength===r.buffer.byteLength){return r.buffer}return r}_ensureLine(e){while(e>=this._len){this._lineTokens[this._len]=null;this._len++}}_deleteLines(e,t){if(t===0){return}if(e+t>this._len){t=this._len-e}this._lineTokens.splice(e,t);this._len-=t}_insertLines(e,t){if(t===0){return}const n=[];for(let e=0;e<t;e++){n[e]=null}this._lineTokens=r.arrayInsert(this._lineTokens,e,n);this._len+=t}setTokens(e,t,n,r,i){const s=l._massageTokens(this._languageIdCodec.encodeLanguageId(e),n,r);this._ensureLine(t);const o=this._lineTokens[t];this._lineTokens[t]=s;if(i){return!l._equals(o,s)}return false}static _equals(e,t){if(!e||!t){return!e&&!t}const n=(0,s.toUint32Array)(e);const r=(0,s.toUint32Array)(t);if(n.length!==r.length){return false}for(let e=0,t=n.length;e<t;e++){if(n[e]!==r[e]){return false}}return true}acceptEdit(e,t,n){this._acceptDeleteRange(e);this._acceptInsertText(new i.Position(e.startLineNumber,e.startColumn),t,n)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len){return}if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn){return}this._lineTokens[t]=s.ContiguousTokensEditing.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=s.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],e.startColumn-1);const n=e.endLineNumber-1;let r=null;if(n<this._len){r=s.ContiguousTokensEditing.deleteBeginning(this._lineTokens[n],e.endColumn-1)}this._lineTokens[t]=s.ContiguousTokensEditing.append(this._lineTokens[t],r);this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,n){if(t===0&&n===0){return}const r=e.lineNumber-1;if(r>=this._len){return}if(t===0){this._lineTokens[r]=s.ContiguousTokensEditing.insert(this._lineTokens[r],e.column-1,n);return}this._lineTokens[r]=s.ContiguousTokensEditing.deleteEnding(this._lineTokens[r],e.column-1);this._lineTokens[r]=s.ContiguousTokensEditing.insert(this._lineTokens[r],e.column-1,n);this._insertLines(e.lineNumber,t)}setMultilineTokens(e,t){if(e.length===0){return{changes:[]}}const n=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];let s=0;let o=0;let a=false;for(let e=i.startLineNumber;e<=i.endLineNumber;e++){if(a){this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),i.getLineTokens(e),false);o=e}else{const n=this.setTokens(t.getLanguageId(),e-1,t.getLineLength(e),i.getLineTokens(e),true);if(n){a=true;s=e;o=e}}}if(a){n.push({fromLineNumber:s,toLineNumber:o})}}return{changes:n}}}function c(e){return(e<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ContiguousTokensEditing:()=>s,EMPTY_LINE_TOKENS:()=>i,toUint32Array:()=>o});var r=n(193);const i=new Uint32Array(0).buffer;class s{static deleteBeginning(e,t){if(e===null||e===i){return e}return s.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===i){return e}const n=o(e);const r=n[n.length-2];return s.delete(e,t,r)}static delete(e,t,n){if(e===null||e===i||t===n){return e}const s=o(e);const a=s.length>>>1;if(t===0&&s[s.length-2]===n){return i}const l=r.LineTokens.findIndexInTokensArray(s,t);const c=l>0?s[l-1<<1]:0;const u=s[l<<1];if(n<u){const r=n-t;for(let e=l;e<a;e++){s[e<<1]-=r}return e}let h;let d;if(c!==t){s[l<<1]=t;h=l+1<<1;d=t}else{h=l<<1;d=c}const g=n-t;for(let e=l+1;e<a;e++){const t=s[e<<1]-g;if(t>d){s[h++]=t;s[h++]=s[(e<<1)+1];d=t}}if(h===s.length){return e}const f=new Uint32Array(h);f.set(s.subarray(0,h),0);return f.buffer}static append(e,t){if(t===i){return e}if(e===i){return t}if(e===null){return e}if(t===null){return null}const n=o(e);const r=o(t);const s=r.length>>>1;const a=new Uint32Array(n.length+r.length);a.set(n,0);let l=n.length;const c=n[n.length-2];for(let e=0;e<s;e++){a[l++]=r[e<<1]+c;a[l++]=r[(e<<1)+1]}return a.buffer}static insert(e,t,n){if(e===null||e===i){return e}const s=o(e);const a=s.length>>>1;let l=r.LineTokens.findIndexInTokensArray(s,t);if(l>0){const e=s[l-1<<1];if(e===t){l--}}for(let e=l;e<a;e++){s[e<<1]+=n}return e}}function o(e){if(e instanceof Uint32Array){return e}else{return new Uint32Array(e)}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{SparseTokensStore:()=>s});var r=n(62);var i=n(193);class s{constructor(e){this._pieces=[];this._isComplete=false;this._languageIdCodec=e}flush(){this._pieces=[];this._isComplete=false}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[];this._isComplete=t}setPartial(e,t){let n=e;if(t.length>0){const r=t[0].getRange();const i=t[t.length-1].getRange();if(!r||!i){return e}n=e.plusRange(r).plusRange(i)}let i=null;for(let e=0,t=this._pieces.length;e<t;e++){const r=this._pieces[e];if(r.endLineNumber<n.startLineNumber){continue}if(r.startLineNumber>n.endLineNumber){i=i||{index:e};break}r.removeTokens(n);if(r.isEmpty()){this._pieces.splice(e,1);e--;t--;continue}if(r.endLineNumber<n.startLineNumber){continue}if(r.startLineNumber>n.endLineNumber){i=i||{index:e};continue}const[s,o]=r.split(n);if(s.isEmpty()){i=i||{index:e};continue}if(o.isEmpty()){continue}this._pieces.splice(e,1,s,o);e++;t++;i=i||{index:e}}i=i||{index:this._pieces.length};if(t.length>0){this._pieces=r.arrayInsert(this._pieces,i.index,t)}return n}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0){return t}const n=this._pieces;if(n.length===0){return t}const r=s._findFirstPieceWithLine(n,e);const o=n[r].getLineTokens(e);if(!o){return t}const a=t.getCount();const l=o.getCount();let c=0;const u=[];let h=0;let d=0;const g=(e,t)=>{if(e===d){return}d=e;u[h++]=e;u[h++]=t};for(let e=0;e<l;e++){const n=o.getStartCharacter(e);const r=o.getEndCharacter(e);const i=o.getMetadata(e);const s=((i&1?2048:0)|(i&2?4096:0)|(i&4?8192:0)|(i&8?16384:0)|(i&16?16744448:0)|(i&32?4278190080:0))>>>0;const l=~s>>>0;while(c<a&&t.getEndOffset(c)<=n){g(t.getEndOffset(c),t.getMetadata(c));c++}if(c<a&&t.getStartOffset(c)<n){g(n,t.getMetadata(c))}while(c<a&&t.getEndOffset(c)<r){g(t.getEndOffset(c),t.getMetadata(c)&l|i&s);c++}if(c<a){g(r,t.getMetadata(c)&l|i&s);if(t.getEndOffset(c)===r){c++}}else{const e=Math.min(Math.max(0,c-1),a-1);g(r,t.getMetadata(e)&l|i&s)}}while(c<a){g(t.getEndOffset(c),t.getMetadata(c));c++}return new i.LineTokens(new Uint32Array(u),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let n=0;let r=e.length-1;while(n<r){let i=n+Math.floor((r-n)/2);if(e[i].endLineNumber<t){n=i+1}else if(e[i].startLineNumber>t){r=i-1}else{while(i>n&&e[i-1].startLineNumber<=t&&t<=e[i-1].endLineNumber){i--}return i}}return n}acceptEdit(e,t,n,r,i){for(const s of this._pieces){s.acceptEdit(e,t,n,r,i)}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{InternalModelContentChangeEvent:()=>h,LineInjectedText:()=>i,ModelInjectedTextChangedEvent:()=>u,ModelRawContentChangedEvent:()=>c,ModelRawEOLChanged:()=>l,ModelRawFlush:()=>r,ModelRawLineChanged:()=>s,ModelRawLinesDeleted:()=>o,ModelRawLinesInserted:()=>a});class r{constructor(){this.changeType=1}}class i{static applyInjectedText(e,t){if(!t||t.length===0){return e}let n="";let r=0;for(const i of t){n+=e.substring(r,i.column-1);r=i.column-1;n+=i.options.content}n+=e.substring(r);return n}static fromDecorations(e){const t=[];for(const n of e){if(n.options.before&&n.options.before.content.length>0){t.push(new i(n.ownerId,n.range.startLineNumber,n.range.startColumn,n.options.before,0))}if(n.options.after&&n.options.after.content.length>0){t.push(new i(n.ownerId,n.range.endLineNumber,n.range.endColumn,n.options.after,1))}}t.sort((e,t)=>{if(e.lineNumber===t.lineNumber){if(e.column===t.column){return e.order-t.order}return e.column-t.column}return e.lineNumber-t.lineNumber});return t}constructor(e,t,n,r,i){this.ownerId=e;this.lineNumber=t;this.column=n;this.options=r;this.order=i}}class s{constructor(e,t,n){this.changeType=2;this.lineNumber=e;this.detail=t;this.injectedText=n}}class o{constructor(e,t){this.changeType=3;this.fromLineNumber=e;this.toLineNumber=t}}class a{constructor(e,t,n,r){this.changeType=4;this.injectedTexts=r;this.fromLineNumber=e;this.toLineNumber=t;this.detail=n}}class l{constructor(){this.changeType=5}}class c{constructor(e,t,n,r){this.changes=e;this.versionId=t;this.isUndoing=n;this.isRedoing=r;this.resultingSelection=null}containsEvent(e){for(let t=0,n=this.changes.length;t<n;t++){const n=this.changes[t];if(n.changeType===e){return true}}return false}static merge(e,t){const n=[].concat(e.changes).concat(t.changes);const r=t.versionId;const i=e.isUndoing||t.isUndoing;const s=e.isRedoing||t.isRedoing;return new c(n,r,i,s)}}class u{constructor(e){this.changes=e}}class h{constructor(e,t){this.rawContentChangedEvent=e;this.contentChangedEvent=t}merge(e){const t=c.merge(this.rawContentChangedEvent,e.rawContentChangedEvent);const n=h._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new h(t,n)}static _mergeChangeEvents(e,t){const n=[].concat(e.changes).concat(t.changes);const r=t.eol;const i=t.versionId;const s=e.isUndoing||t.isUndoing;const o=e.isRedoing||t.isRedoing;const a=e.isFlush||t.isFlush;const l=e.isEolChange&&t.isEolChange;return{changes:n,eol:r,isEolChange:l,versionId:i,isUndoing:s,isRedoing:o,isFlush:a}}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{IUndoRedoService:()=>i,ResourceEditStackSnapshot:()=>s,UndoRedoGroup:()=>o,UndoRedoSource:()=>a});var r=n(82);const i=(0,r.createDecorator)("undoRedoService");class s{constructor(e,t){this.resource=e;this.elements=t}}class o{static{this._ID=0}constructor(){this.id=o._ID++;this.order=1}nextOrder(){if(this.id===0){return 0}return this.order++}static{this.None=new o}}class a{static{this._ID=0}constructor(){this.id=a._ID++;this.order=1}nextOrder(){if(this.id===0){return 0}return this.order++}static{this.None=new a}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ITextResourceConfigurationService:()=>i,ITextResourcePropertiesService:()=>s});var r=n(82);const i=(0,r.createDecorator)("textResourceConfigurationService");const s=(0,r.createDecorator)("textResourcePropertiesService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ITextModelService:()=>i});var r=n(82);const i=(0,r.createDecorator)("textModelService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{encodeSemanticTokensDto:()=>a});var r=n(156);var i=n(10);function s(e){for(let t=0,n=e.length;t<n;t+=4){const n=e[t+0];const r=e[t+1];const i=e[t+2];const s=e[t+3];e[t+0]=s;e[t+1]=i;e[t+2]=r;e[t+3]=n}}function o(e){const t=new Uint8Array(e.buffer,e.byteOffset,e.length*4);if(!i.isLittleEndian()){s(t)}return r.VSBuffer.wrap(t)}function a(e){const t=new Uint32Array(l(e));let n=0;t[n++]=e.id;if(e.type==="full"){t[n++]=1;t[n++]=e.data.length;t.set(e.data,n);n+=e.data.length}else{t[n++]=2;t[n++]=e.deltas.length;for(const r of e.deltas){t[n++]=r.start;t[n++]=r.deleteCount;if(r.data){t[n++]=r.data.length;t.set(r.data,n);n+=r.data.length}else{t[n++]=0}}}return o(t)}function l(e){let t=0;t+=+1+1;if(e.type==="full"){t+=+1+e.data.length}else{t+=+1;t+=(+1+1+1)*e.deltas.length;for(const n of e.deltas){if(n.data){t+=n.data.length}}}return t}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{SemanticTokensProviderStyling:()=>h,toMultilineTokens2:()=>d});var r=n(169);var i=n(125);var s=n(99);var o=n(206);var a=n(148);var l=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var c=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};const u=false;let h=class e{constructor(e,t,n,r){this._legend=e;this._themeService=t;this._languageService=n;this._logService=r;this._hasWarnedOverlappingTokens=false;this._hasWarnedInvalidLengthTokens=false;this._hasWarnedInvalidEditStart=false;this._hashTable=new f}getMetadata(e,t,n){const i=this._languageService.languageIdCodec.encodeLanguageId(n);const o=this._hashTable.get(e,t,i);let a;if(o){a=o.metadata;if(u&&this._logService.getLevel()===s.LogLevel.Trace){this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${r.TokenMetadata.getForeground(a)}, fontStyle ${r.TokenMetadata.getFontStyle(a).toString(2)}`)}}else{let o=this._legend.tokenTypes[e];const l=[];if(o){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++){if(e&1){l.push(this._legend.tokenModifiers[t])}e=e>>1}if(u&&e>0&&this._logService.getLevel()===s.LogLevel.Trace){this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`);l.push("not-in-legend")}const r=this._themeService.getColorTheme().getTokenStyleMetadata(o,l,n);if(typeof r==="undefined"){a=2147483647}else{a=0;if(typeof r.italic!=="undefined"){const e=(r.italic?1:0)<<11;a|=e|1}if(typeof r.bold!=="undefined"){const e=(r.bold?2:0)<<11;a|=e|2}if(typeof r.underline!=="undefined"){const e=(r.underline?4:0)<<11;a|=e|4}if(typeof r.strikethrough!=="undefined"){const e=(r.strikethrough?8:0)<<11;a|=e|8}if(r.foreground){const e=r.foreground<<15;a|=e|16}if(a===0){a=2147483647}}}else{if(u&&this._logService.getLevel()===s.LogLevel.Trace){this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`)}a=2147483647;o="not-in-legend"}this._hashTable.add(e,t,i,a);if(u&&this._logService.getLevel()===s.LogLevel.Trace){this._logService.trace(`SemanticTokensProviderStyling ${e} (${o}) / ${t} (${l.join(" ")}): foreground ${r.TokenMetadata.getForeground(a)}, fontStyle ${r.TokenMetadata.getFontStyle(a).toString(2)}`)}}return a}warnOverlappingSemanticTokens(e,t){if(!this._hasWarnedOverlappingTokens){this._hasWarnedOverlappingTokens=true;this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`)}}warnInvalidLengthSemanticTokens(e,t){if(!this._hasWarnedInvalidLengthTokens){this._hasWarnedInvalidLengthTokens=true;this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`)}}warnInvalidEditStart(e,t,n,r,i){if(!this._hasWarnedInvalidEditStart){this._hasWarnedInvalidEditStart=true;this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${n}: The provided start offset ${r} is outside the previous data (length ${i}).`)}}};h=l([c(1,i.IThemeService),c(2,a.ILanguageService),c(3,s.ILogService)],h);function d(e,t,n){const r=e.data;const i=e.data.length/5|0;const s=Math.max(Math.ceil(i/1024),400);const a=[];let l=0;let c=1;let u=0;while(l<i){const e=l;let h=Math.min(e+s,i);if(h<i){let t=h;while(t-1>e&&r[5*t]===0){t--}if(t-1===e){let e=h;while(e+1<i&&r[5*e]===0){e++}h=e}else{h=t}}let d=new Uint32Array((h-e)*4);let g=0;let f=0;let m=0;let p=0;while(l<h){const e=5*l;const i=r[e];const s=r[e+1];const o=c+i|0;const a=i===0?u+s|0:s;const h=r[e+2];const _=a+h|0;const b=r[e+3];const C=r[e+4];if(_<=a){t.warnInvalidLengthSemanticTokens(o,a+1)}else if(m===o&&p>a){t.warnOverlappingSemanticTokens(o,a+1)}else{const e=t.getMetadata(b,C,n);if(e!==2147483647){if(f===0){f=o}d[g]=o-f;d[g+1]=a;d[g+2]=_;d[g+3]=e;g+=4;m=o;p=_}}c=o;u=a;l++}if(g!==d.length){d=d.subarray(0,g)}const _=o.SparseMultilineTokens.create(f,d);a.push(_)}return a}class g{constructor(e,t,n,r){this.tokenTypeIndex=e;this.tokenModifierSet=t;this.languageId=n;this.metadata=r;this.next=null}}class f{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0;this._currentLengthIndex=0;this._currentLength=f._SIZES[this._currentLengthIndex];this._growCount=Math.round(this._currentLengthIndex+1<f._SIZES.length?2/3*this._currentLength:0);this._elements=[];f._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++){e[n]=null}}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const r=this._hashFunc(e,t,n);let i=this._elements[r];while(i){if(i.tokenTypeIndex===e&&i.tokenModifierSet===t&&i.languageId===n){return i}i=i.next}return null}add(e,t,n,r){this._elementsCount++;if(this._growCount!==0&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++;this._currentLength=f._SIZES[this._currentLengthIndex];this._growCount=Math.round(this._currentLengthIndex+1<f._SIZES.length?2/3*this._currentLength:0);this._elements=[];f._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;while(e){const t=e.next;e.next=null;this._add(e);e=t}}}this._add(new g(e,t,n,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t];this._elements[t]=e}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{SparseLineTokens:()=>l,SparseMultilineTokens:()=>o});var r=n(26);var i=n(25);var s=n(144);class o{static create(e,t){return new o(e,new a(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(e,t){this._startLineNumber=e;this._tokens=t;this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){if(this._startLineNumber<=e&&e<=this._endLineNumber){return this._tokens.getLineTokens(e-this._startLineNumber)}return null}getRange(){const e=this._tokens.getRange();if(!e){return e}return new i.Range(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this._startLineNumber;const n=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,n,e.endColumn-1);this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber;const n=e.endLineNumber-this._startLineNumber;const[r,i,s]=this._tokens.split(t,e.startColumn-1,n,e.endColumn-1);return[new o(this._startLineNumber,r),new o(this._startLineNumber+s,i)]}applyEdit(e,t){const[n,r,i]=(0,s.countEOL)(t);this.acceptEdit(e,n,r,i,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,n,i,s){this._acceptDeleteRange(e);this._acceptInsertText(new r.Position(e.startLineNumber,e.startColumn),t,n,i,s);this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn){return}const t=e.startLineNumber-this._startLineNumber;const n=e.endLineNumber-this._startLineNumber;if(n<0){const e=n-t;this._startLineNumber-=e;return}const r=this._tokens.getMaxDeltaLine();if(t>=r+1){return}if(t<0&&n>=r+1){this._startLineNumber=0;this._tokens.clear();return}if(t<0){const r=-t;this._startLineNumber-=r;this._tokens.acceptDeleteRange(e.startColumn-1,0,0,n,e.endColumn-1)}else{this._tokens.acceptDeleteRange(0,t,e.startColumn-1,n,e.endColumn-1)}}_acceptInsertText(e,t,n,r,i){if(t===0&&n===0){return}const s=e.lineNumber-this._startLineNumber;if(s<0){this._startLineNumber+=t;return}const o=this._tokens.getMaxDeltaLine();if(s>=o+1){return}this._tokens.acceptInsertText(s,e.column-1,t,n,r,i)}}class a{constructor(e){this._tokens=e;this._tokenCount=e.length/4}toString(e){const t=[];for(let n=0;n<this._tokenCount;n++){t.push(`(${this._getDeltaLine(n)+e},${this._getStartCharacter(n)}-${this._getEndCharacter(n)})`)}return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();if(e===0){return-1}return this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0){return null}const t=this._getStartCharacter(0);const n=this._getDeltaLine(e-1);const r=this._getEndCharacter(e-1);return new i.Range(0,t+1,n,r+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0;let n=this._getTokenCount()-1;while(t<n){const r=t+Math.floor((n-t)/2);const i=this._getDeltaLine(r);if(i<e){t=r+1}else if(i>e){n=r-1}else{let i=r;while(i>t&&this._getDeltaLine(i-1)===e){i--}let s=r;while(s<n&&this._getDeltaLine(s+1)===e){s++}return new l(this._tokens.subarray(4*i,4*s+4))}}if(this._getDeltaLine(t)===e){return new l(this._tokens.subarray(4*t,4*t+4))}return null}clear(){this._tokenCount=0}removeTokens(e,t,n,r){const i=this._tokens;const s=this._tokenCount;let o=0;let a=false;let l=0;for(let c=0;c<s;c++){const s=4*c;const u=i[s];const h=i[s+1];const d=i[s+2];const g=i[s+3];if((u>e||u===e&&d>=t)&&(u<n||u===n&&h<=r)){a=true}else{if(o===0){l=u}if(a){const e=4*o;i[e]=u-l;i[e+1]=h;i[e+2]=d;i[e+3]=g}o++}}this._tokenCount=o;return l}split(e,t,n,r){const i=this._tokens;const s=this._tokenCount;const o=[];const l=[];let c=o;let u=0;let h=0;for(let o=0;o<s;o++){const s=4*o;const a=i[s];const d=i[s+1];const g=i[s+2];const f=i[s+3];if(a>e||a===e&&g>=t){if(a<n||a===n&&d<=r){continue}else{if(c!==l){c=l;u=0;h=a}}}c[u++]=a-h;c[u++]=d;c[u++]=g;c[u++]=f}return[new a(new Uint32Array(o)),new a(new Uint32Array(l)),h]}acceptDeleteRange(e,t,n,r,i){const s=this._tokens;const o=this._tokenCount;const a=r-t;let l=0;let c=false;for(let u=0;u<o;u++){const h=4*u;let d=s[h];let g=s[h+1];let f=s[h+2];const m=s[h+3];if(d<t||d===t&&f<=n){l++;continue}else if(d===t&&g<n){if(d===r&&f>i){f-=i-n}else{f=n}}else if(d===t&&g===n){if(d===r&&f>i){f-=i-n}else{c=true;continue}}else if(d<r||d===r&&g<i){if(d===r&&f>i){d=t;g=n;f=g+(f-i)}else{c=true;continue}}else if(d>r){if(a===0&&!c){l=o;break}d-=a}else if(d===r&&g>=i){if(e&&d===0){g+=e;f+=e}d-=a;g-=i-n;f-=i-n}else{throw new Error(`Not possible!`)}const p=4*l;s[p]=d;s[p+1]=g;s[p+2]=f;s[p+3]=m;l++}this._tokenCount=l}acceptInsertText(e,t,n,r,i,s){const o=n===0&&r===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122);const a=this._tokens;const l=this._tokenCount;for(let s=0;s<l;s++){const l=4*s;let c=a[l];let u=a[l+1];let h=a[l+2];if(c<e||c===e&&h<t){continue}else if(c===e&&h===t){if(o){h+=1}else{continue}}else if(c===e&&u<t&&t<h){if(n===0){h+=r}else{h=t}}else{if(c===e&&u===t){if(o){continue}}if(c===e){c+=n;if(n===0){u+=r;h+=r}else{const e=h-u;u=i+(u-t);h=u+e}}else{c+=n}}a[l]=c;a[l+1]=u;a[l+2]=h}}}class l{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ISemanticTokensStylingService:()=>i});var r=n(82);const i=(0,r.createDecorator)("semanticTokensStylingService")},(e,t,n)=>{"use strict";n.r(t);n.d(t,{SemanticTokensStylingService:()=>d});var r=n(5);var i=n(148);var s=n(125);var o=n(99);var a=n(205);var l=n(207);var c=n(97);var u=undefined&&undefined.__decorate||function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s};var h=undefined&&undefined.__param||function(e,t){return function(n,r){t(n,r,e)}};let d=class e extends r.Disposable{constructor(e,t,n){super();this._themeService=e;this._logService=t;this._languageService=n;this._caches=new WeakMap;this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(e){if(!this._caches.has(e)){this._caches.set(e,new a.SemanticTokensProviderStyling(e.getLegend(),this._themeService,this._languageService,this._logService))}return this._caches.get(e)}};d=u([h(0,s.IThemeService),h(1,o.ILogService),h(2,i.ILanguageService)],d);(0,c.registerSingleton)(l.ISemanticTokensStylingService,d,1)},(e,t,n)=>{"use strict";n.r(t)},(e,t,n)=>{"use strict";n.r(t);n.d(t,{DraggedTreeItemsIdentifier:()=>i,TreeViewsDnDService:()=>r});class r{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(e){if(e&&this._dragOperations.has(e)){const t=this._dragOperations.get(e);this._dragOperations.delete(e);return t}return undefined}}class i{constructor(e){this.identifier=e}}},(e,t,n)=>{"use strict";n.r(t);n.d(t,{ITreeViewsDnDService:()=>o});var r=n(97);var i=n(82);var s=n(210);const o=(0,i.createDecorator)("treeViewsDndService");(0,r.registerSingleton)(o,s.TreeViewsDnDService,1)}];var t={};function n(r){var i=t[r];if(i!==undefined){return i.exports}var s=t[r]={exports:{}};e[r](s,s.exports,n);return s.exports}(()=>{n.d=(e,t)=>{for(var r in t){if(n.o(t,r)&&!n.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}})();(()=>{n.e=()=>Promise.resolve()})();(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{n.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();var r={};(()=>{"use strict";n.r(r);n.d(r,{initialize:()=>o});var e=n(1);var t=n(21);var i=n(42);let s=false;function o(n){if(s){return}s=true;const r=new e.SimpleWorkerServer(e=>{globalThis.postMessage(e)},e=>new t.EditorSimpleWorker(i.EditorWorkerHost.getChannel(e),n));globalThis.onmessage=e=>{r.onmessage(e.data)}}globalThis.onmessage=e=>{if(!s){o(null)}}})()})();