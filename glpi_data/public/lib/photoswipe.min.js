(()=>{"use strict";var t={46:(t,e,i)=>{i.r(e);i.d(e,{default:()=>P});
/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function s(t,e,i){const s=document.createElement(e);if(t){s.className=t}if(i){i.appendChild(s)}return s}function n(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;if(i!==undefined){s+=` scale3d(${i},${i},1)`}return s}function o(t,e,i){t.style.width=typeof e==="number"?`${e}px`:e;t.style.height=typeof i==="number"?`${i}px`:i}const a={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function r(t){return"button"in t&&t.button===1||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function h(t,e,i=document){let s=[];if(t instanceof Element){s=[t]}else if(t instanceof NodeList||Array.isArray(t)){s=Array.from(t)}else{const n=typeof t==="string"?t:e;if(n){s=Array.from(i.querySelectorAll(n))}}return s}function l(t){return typeof t==="function"&&t.prototype&&t.prototype.goTo}function d(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class p{constructor(t,e){this.type=t;this.defaultPrevented=false;if(e){Object.assign(this,e)}}preventDefault(){this.defaultPrevented=true}}class c{constructor(){this._listeners={};this._filters={};this.pswp=undefined;this.options=undefined}addFilter(t,e,i=100){var s,n,o;if(!this._filters[t]){this._filters[t]=[]}(s=this._filters[t])===null||s===void 0||s.push({fn:e,priority:i});(n=this._filters[t])===null||n===void 0||n.sort((t,e)=>t.priority-e.priority);(o=this.pswp)===null||o===void 0||o.addFilter(t,e,i)}removeFilter(t,e){if(this._filters[t]){this._filters[t]=this._filters[t].filter(t=>t.fn!==e)}if(this.pswp){this.pswp.removeFilter(t,e)}}applyFilters(t,...e){var i;(i=this._filters[t])===null||i===void 0||i.forEach(t=>{e[0]=t.fn.apply(this,e)});return e[0]}on(t,e){var i,s;if(!this._listeners[t]){this._listeners[t]=[]}(i=this._listeners[t])===null||i===void 0||i.push(e);(s=this.pswp)===null||s===void 0||s.on(t,e)}off(t,e){var i;if(this._listeners[t]){this._listeners[t]=this._listeners[t].filter(t=>e!==t)}(i=this.pswp)===null||i===void 0||i.off(t,e)}dispatch(t,e){var i;if(this.pswp){return this.pswp.dispatch(t,e)}const s=new p(t,e);(i=this._listeners[t])===null||i===void 0||i.forEach(t=>{t.call(this,s)});return s}}class u{constructor(t,e){this.element=s("pswp__img pswp__img--placeholder",t?"img":"div",e);if(t){const e=this.element;e.decoding="async";e.alt="";e.src=t;e.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){if(!this.element){return}if(this.element.tagName==="IMG"){o(this.element,250,"auto");this.element.style.transformOrigin="0 0";this.element.style.transform=n(0,0,t/250)}else{o(this.element,t,e)}}destroy(){var t;if((t=this.element)!==null&&t!==void 0&&t.parentNode){this.element.remove()}this.element=null}}class m{constructor(t,e,i){this.instance=e;this.data=t;this.index=i;this.element=undefined;this.placeholder=undefined;this.slide=undefined;this.displayedImageWidth=0;this.displayedImageHeight=0;this.width=Number(this.data.w)||Number(this.data.width)||0;this.height=Number(this.data.h)||Number(this.data.height)||0;this.isAttached=false;this.hasSlide=false;this.isDecoding=false;this.state=a.IDLE;if(this.data.type){this.type=this.data.type}else if(this.data.src){this.type="image"}else{this.type="html"}this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){if(this.placeholder&&!this.keepPlaceholder()){setTimeout(()=>{if(this.placeholder){this.placeholder.destroy();this.placeholder=undefined}},1e3)}}load(t,e){if(this.slide&&this.usePlaceholder()){if(!this.placeholder){const t=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:false,this);this.placeholder=new u(t,this.slide.container)}else{const t=this.placeholder.element;if(t&&!t.parentElement){this.slide.container.prepend(t)}}}if(this.element&&!e){return}if(this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented){return}if(this.isImageContent()){this.element=s("pswp__img","img");if(this.displayedImageWidth){this.loadImage(t)}}else{this.element=s("pswp__content","div");this.element.innerHTML=this.data.html||""}if(e&&this.slide){this.slide.updateContentSize(true)}}loadImage(t){var e,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented){return}const s=this.element;this.updateSrcsetSizes();if(this.data.srcset){s.srcset=this.data.srcset}s.src=(e=this.data.src)!==null&&e!==void 0?e:"";s.alt=(i=this.data.alt)!==null&&i!==void 0?i:"";this.state=a.LOADING;if(s.complete){this.onLoaded()}else{s.onload=()=>{this.onLoaded()};s.onerror=()=>{this.onError()}}}setSlide(t){this.slide=t;this.hasSlide=true;this.instance=t.pswp}onLoaded(){this.state=a.LOADED;if(this.slide&&this.element){this.instance.dispatch("loadComplete",{slide:this.slide,content:this});if(this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode){this.append();this.slide.updateContentSize(true)}if(this.state===a.LOADED||this.state===a.ERROR){this.removePlaceholder()}}}onError(){this.state=a.ERROR;if(this.slide){this.displayError();this.instance.dispatch("loadComplete",{slide:this.slide,isError:true,content:this});this.instance.dispatch("loadError",{slide:this.slide,content:this})}}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===a.LOADING,this)}isError(){return this.state===a.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(t,e){if(!this.element){return}if(this.placeholder){this.placeholder.setDisplayedSize(t,e)}if(this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented){return}o(this.element,t,e);if(this.isImageContent()&&!this.isError()){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t;this.displayedImageHeight=e;if(i){this.loadImage(false)}else{this.updateSrcsetSizes()}if(this.slide){this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==a.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset){return}const t=this.element;const e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);if(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10)){t.sizes=e+"px";t.dataset.largestUsedSize=String(e)}}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented){return}this.load(true)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=false;this.slide=undefined;if(this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented){return}this.remove();if(this.placeholder){this.placeholder.destroy();this.placeholder=undefined}if(this.isImageContent()&&this.element){this.element.onload=null;this.element.onerror=null;this.element=undefined}}displayError(){if(this.slide){var t,e;let i=s("pswp__error-msg","div");i.innerText=(t=(e=this.instance.options)===null||e===void 0?void 0:e.errorMsg)!==null&&t!==void 0?t:"";i=this.instance.applyFilters("contentErrorElement",i,this);this.element=s("pswp__content pswp__error-msg-container","div");this.element.appendChild(i);this.slide.container.innerText="";this.slide.container.appendChild(this.element);this.slide.updateContentSize(true);this.removePlaceholder()}}append(){if(this.isAttached||!this.element){return}this.isAttached=true;if(this.state===a.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented){return}const t="decode"in this.element;if(this.isImageContent()){if(t&&this.slide&&(!this.slide.isActive||d())){this.isDecoding=true;this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=false;this.appendImage()})}else{this.appendImage()}}else if(this.slide&&!this.element.parentNode){this.slide.container.appendChild(this.element)}}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide){return}if(this.isImageContent()&&this.isDecoding&&!d()){this.appendImage()}else if(this.isError()){this.load(false,true)}if(this.slide.holderElement){this.slide.holderElement.setAttribute("aria-hidden","false")}}deactivate(){this.instance.dispatch("contentDeactivate",{content:this});if(this.slide&&this.slide.holderElement){this.slide.holderElement.setAttribute("aria-hidden","true")}}remove(){this.isAttached=false;if(this.instance.dispatch("contentRemove",{content:this}).defaultPrevented){return}if(this.element&&this.element.parentNode){this.element.remove()}if(this.placeholder&&this.placeholder.element){this.placeholder.element.remove()}}appendImage(){if(!this.isAttached){return}if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented){return}if(this.slide&&this.element&&!this.element.parentNode){this.slide.container.appendChild(this.element)}if(this.state===a.LOADED||this.state===a.ERROR){this.removePlaceholder()}}}function f(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i){return i}}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function v(t,e,i,s,n){let o=0;if(e.paddingFn){o=e.paddingFn(i,s,n)[t]}else if(e.padding){o=e.padding[t]}else{const i="padding"+t[0].toUpperCase()+t.slice(1);if(e[i]){o=e[i]}}return Number(o)||0}function g(t,e,i,s){return{x:e.x-v("left",t,e,i,s)-v("right",t,e,i,s),y:e.y-v("top",t,e,i,s)-v("bottom",t,e,i,s)}}const _=4e3;class y{constructor(t,e,i,s){this.pswp=s;this.options=t;this.itemData=e;this.index=i;this.panAreaSize=null;this.elementSize=null;this.fit=1;this.fill=1;this.vFill=1;this.initial=1;this.secondary=1;this.max=1;this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s;this.panAreaSize=i;const n=i.x/s.x;const o=i.y/s.y;this.fit=Math.min(1,n<o?n:o);this.fill=Math.min(1,n>o?n:o);this.vFill=Math.min(1,o);this.initial=this._getInitial();this.secondary=this._getSecondary();this.max=Math.max(this.initial,this.secondary,this._getMax());this.min=Math.min(this.fit,this.initial,this.secondary);if(this.pswp){this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}}_parseZoomLevelOption(t){const e=t+"ZoomLevel";const i=this.options[e];if(!i){return}if(typeof i==="function"){return i(this)}if(i==="fill"){return this.fill}if(i==="fit"){return this.fit}return Number(i)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");if(t){return t}t=Math.min(1,this.fit*3);if(this.elementSize&&t*this.elementSize.x>_){t=_/this.elementSize.x}return t}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function w(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){n=new y(o,t,-1);let a;if(e.pswp){a=e.pswp.viewportSize}else{a=f(o,e)}const r=g(o,a,t,i);n.update(s.width,s.height,r)}s.lazyLoad();if(n){s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial))}return s}function x(t,e){const i=e.getItemData(t);if(e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented){return}return w(i,e,t)}class S extends c{getNumItems(){var t;let e=0;const i=(t=this.options)===null||t===void 0?void 0:t.dataSource;if(i&&"length"in i){e=i.length}else if(i&&"gallery"in i){if(!i.items){i.items=this._getGalleryDOMElements(i.gallery)}if(i.items){e=i.items.length}}const s=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",s.numItems,i)}createContentFromData(t,e){return new m(t,this,e)}getItemData(t){var e;const i=(e=this.options)===null||e===void 0?void 0:e.dataSource;let s={};if(Array.isArray(i)){s=i[t]}else if(i&&"gallery"in i){if(!i.items){i.items=this._getGalleryDOMElements(i.gallery)}s=i.items[t]}let n=s;if(n instanceof Element){n=this._domElementToItemData(n)}const o=this.dispatch("itemData",{itemData:n||{},index:t});return this.applyFilters("itemData",o.itemData,t)}_getGalleryDOMElements(t){var e,i;if((e=this.options)!==null&&e!==void 0&&e.children||(i=this.options)!==null&&i!==void 0&&i.childSelector){return h(this.options.children,this.options.childSelector,t)||[]}return[t]}_domElementToItemData(t){const e={element:t};const i=t.tagName==="A"?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href;if(i.dataset.pswpSrcset){e.srcset=i.dataset.pswpSrcset}e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0;e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0;e.w=e.width;e.h=e.height;if(i.dataset.pswpType){e.type=i.dataset.pswpType}const n=t.querySelector("img");if(n){var s;e.msrc=n.currentSrc||n.src;e.alt=(s=n.getAttribute("alt"))!==null&&s!==void 0?s:""}if(i.dataset.pswpCropped||i.dataset.cropped){e.thumbCropped=true}}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return w(t,this,e)}}class P extends S{constructor(t){super();this.options=t||{};this._uid=0;this.shouldOpen=false;this._preloadedContent=undefined;this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){h(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.addEventListener("click",this.onThumbnailsClick,false)})}onThumbnailsClick(t){if(r(t)||window.pswp){return}let e={x:t.clientX,y:t.clientY};if(!e.x&&!e.y){e=null}let i=this.getClickedIndex(t);i=this.applyFilters("clickedIndex",i,t,this);const s={gallery:t.currentTarget};if(i>=0){t.preventDefault();this.loadAndOpen(i,s,e)}}getClickedIndex(t){if(this.options.getClickedIndexFn){return this.options.getClickedIndexFn.call(this,t)}const e=t.target;const i=h(this.options.children,this.options.childSelector,t.currentTarget);const s=i.findIndex(t=>t===e||t.contains(e));if(s!==-1){return s}else if(this.options.children||this.options.childSelector){return-1}return 0}loadAndOpen(t,e,i){if(window.pswp||!this.options){return false}if(!e&&this.options.gallery&&this.options.children){const t=h(this.options.gallery);if(t[0]){e={gallery:t[0]}}}this.options.index=t;this.options.initialPointerPos=i;this.shouldOpen=true;this.preload(t,e);return true}preload(t,e){const{options:i}=this;if(e){i.dataSource=e}const s=[];const n=typeof i.pswpModule;if(l(i.pswpModule)){s.push(Promise.resolve(i.pswpModule))}else if(n==="string"){throw new Error("pswpModule as string is no longer supported")}else if(n==="function"){s.push(i.pswpModule())}else{throw new Error("pswpModule is not valid")}if(typeof i.openPromise==="function"){s.push(i.openPromise())}if(i.preloadFirstSlide!==false&&t>=0){this._preloadedContent=x(t,this)}const o=++this._uid;Promise.all(s).then(t=>{if(this.shouldOpen){const e=t[0];this._openPhotoswipe(e,o)}})}_openPhotoswipe(t,e){if(e!==this._uid&&this.shouldOpen){return}this.shouldOpen=false;if(window.pswp){return}const i=typeof t==="object"?new t.default(this.options):new t(this.options);this.pswp=i;window.pswp=i;Object.keys(this._listeners).forEach(t=>{var e;(e=this._listeners[t])===null||e===void 0||e.forEach(e=>{i.on(t,e)})});Object.keys(this._filters).forEach(t=>{var e;(e=this._filters[t])===null||e===void 0||e.forEach(e=>{i.addFilter(t,e.fn,e.priority)})});if(this._preloadedContent){i.contentLoader.addToCache(this._preloadedContent);this._preloadedContent=undefined}i.on("destroy",()=>{this.pswp=undefined;delete window.pswp});i.init()}destroy(){var t;(t=this.pswp)===null||t===void 0||t.destroy();this.shouldOpen=false;this._listeners={};h(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,false)})}}},47:(t,e,i)=>{i.r(e);i.d(e,{default:()=>Tt});
/*!
  * PhotoSwipe 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function s(t,e,i){const s=document.createElement(e);if(t){s.className=t}if(i){i.appendChild(s)}return s}function n(t,e){t.x=e.x;t.y=e.y;if(e.id!==undefined){t.id=e.id}return t}function o(t){t.x=Math.round(t.x);t.y=Math.round(t.y)}function a(t,e){const i=Math.abs(t.x-e.x);const s=Math.abs(t.y-e.y);return Math.sqrt(i*i+s*s)}function r(t,e){return t.x===e.x&&t.y===e.y}function h(t,e,i){return Math.min(Math.max(t,e),i)}function l(t,e,i){let s=`translate3d(${t}px,${e||0}px,0)`;if(i!==undefined){s+=` scale3d(${i},${i},1)`}return s}function d(t,e,i,s){t.style.transform=l(e,i,s)}const p="cubic-bezier(.4,0,.22,1)";function c(t,e,i,s){t.style.transition=e?`${e} ${i}ms ${s||p}`:"none"}function u(t,e,i){t.style.width=typeof e==="number"?`${e}px`:e;t.style.height=typeof i==="number"?`${i}px`:i}function m(t){c(t)}function f(t){if("decode"in t){return t.decode().catch(()=>{})}if(t.complete){return Promise.resolve(t)}return new Promise((e,i)=>{t.onload=()=>e(t);t.onerror=i})}const v={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function g(t){return"button"in t&&t.button===1||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function _(t,e,i=document){let s=[];if(t instanceof Element){s=[t]}else if(t instanceof NodeList||Array.isArray(t)){s=Array.from(t)}else{const n=typeof t==="string"?t:e;if(n){s=Array.from(i.querySelectorAll(n))}}return s}function y(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}let w=false;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{w=true}}))}catch(t){}class x{constructor(){this._pool=[]}add(t,e,i,s){this._toggleListener(t,e,i,s)}remove(t,e,i,s){this._toggleListener(t,e,i,s,true)}removeAll(){this._pool.forEach(t=>{this._toggleListener(t.target,t.type,t.listener,t.passive,true,true)});this._pool=[]}_toggleListener(t,e,i,s,n,o){if(!t){return}const a=n?"removeEventListener":"addEventListener";const r=e.split(" ");r.forEach(e=>{if(e){if(!o){if(n){this._pool=this._pool.filter(s=>s.type!==e||s.listener!==i||s.target!==t)}else{this._pool.push({target:t,type:e,listener:i,passive:s})}}const r=w?{passive:s||false}:false;t[a](e,i,r)}})}}function S(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i){return i}}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function P(t,e,i,s,n){let o=0;if(e.paddingFn){o=e.paddingFn(i,s,n)[t]}else if(e.padding){o=e.padding[t]}else{const i="padding"+t[0].toUpperCase()+t.slice(1);if(e[i]){o=e[i]}}return Number(o)||0}function b(t,e,i,s){return{x:e.x-P("left",t,e,i,s)-P("right",t,e,i,s),y:e.y-P("top",t,e,i,s)-P("bottom",t,e,i,s)}}class I{constructor(t){this.slide=t;this.currZoomLevel=1;this.center={x:0,y:0};this.max={x:0,y:0};this.min={x:0,y:0}}update(t){this.currZoomLevel=t;if(!this.slide.width){this.reset()}else{this._updateAxis("x");this._updateAxis("y");this.slide.pswp.dispatch("calcBounds",{slide:this.slide})}}_updateAxis(t){const{pswp:e}=this.slide;const i=this.slide[t==="x"?"width":"height"]*this.currZoomLevel;const s=t==="x"?"left":"top";const n=P(s,e.options,e.viewportSize,this.slide.data,this.slide.index);const o=this.slide.panAreaSize[t];this.center[t]=Math.round((o-i)/2)+n;this.max[t]=i>o?Math.round(o-i)+n:this.center[t];this.min[t]=i>o?n:this.center[t]}reset(){this.center.x=0;this.center.y=0;this.max.x=0;this.max.y=0;this.min.x=0;this.min.y=0}correctPan(t,e){return h(e,this.max[t],this.min[t])}}const C=4e3;class L{constructor(t,e,i,s){this.pswp=s;this.options=t;this.itemData=e;this.index=i;this.panAreaSize=null;this.elementSize=null;this.fit=1;this.fill=1;this.vFill=1;this.initial=1;this.secondary=1;this.max=1;this.min=1}update(t,e,i){const s={x:t,y:e};this.elementSize=s;this.panAreaSize=i;const n=i.x/s.x;const o=i.y/s.y;this.fit=Math.min(1,n<o?n:o);this.fill=Math.min(1,n>o?n:o);this.vFill=Math.min(1,o);this.initial=this._getInitial();this.secondary=this._getSecondary();this.max=Math.max(this.initial,this.secondary,this._getMax());this.min=Math.min(this.fit,this.initial,this.secondary);if(this.pswp){this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}}_parseZoomLevelOption(t){const e=t+"ZoomLevel";const i=this.options[e];if(!i){return}if(typeof i==="function"){return i(this)}if(i==="fill"){return this.fill}if(i==="fit"){return this.fit}return Number(i)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");if(t){return t}t=Math.min(1,this.fit*3);if(this.elementSize&&t*this.elementSize.x>C){t=C/this.elementSize.x}return t}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}class z{constructor(t,e,i){this.data=t;this.index=e;this.pswp=i;this.isActive=e===i.currIndex;this.currentResolution=0;this.panAreaSize={x:0,y:0};this.pan={x:0,y:0};this.isFirstSlide=this.isActive&&!i.opener.isOpen;this.zoomLevels=new L(i.options,t,e,i);this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:e});this.content=this.pswp.contentLoader.getContentBySlide(this);this.container=s("pswp__zoom-wrap","div");this.holderElement=null;this.currZoomLevel=1;this.width=this.content.width;this.height=this.content.height;this.heavyAppended=false;this.bounds=new I(this);this.prevDisplayedWidth=-1;this.prevDisplayedHeight=-1;this.pswp.dispatch("slideInit",{slide:this})}setIsActive(t){if(t&&!this.isActive){this.activate()}else if(!t&&this.isActive){this.deactivate()}}append(t){this.holderElement=t;this.container.style.transformOrigin="0 0";if(!this.data){return}this.calculateSize();this.load();this.updateContentSize();this.appendHeavy();this.holderElement.appendChild(this.container);this.zoomAndPanToInitial();this.pswp.dispatch("firstZoomPan",{slide:this});this.applyCurrentZoomPan();this.pswp.dispatch("afterSetContent",{slide:this});if(this.isActive){this.activate()}}load(){this.content.load(false);this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:t}=this;const e=true;if(this.heavyAppended||!t.opener.isOpen||t.mainScroll.isShifted()||!this.isActive&&!e){return}if(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented){return}this.heavyAppended=true;this.content.append();this.pswp.dispatch("appendHeavyContent",{slide:this})}activate(){this.isActive=true;this.appendHeavy();this.content.activate();this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=false;this.content.deactivate();if(this.currZoomLevel!==this.zoomLevels.initial){this.calculateSize()}this.currentResolution=0;this.zoomAndPanToInitial();this.applyCurrentZoomPan();this.updateContentSize();this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=false;this.content.remove();this.container.remove();this.pswp.dispatch("slideDestroy",{slide:this})}resize(){if(this.currZoomLevel===this.zoomLevels.initial||!this.isActive){this.calculateSize();this.currentResolution=0;this.zoomAndPanToInitial();this.applyCurrentZoomPan();this.updateContentSize()}else{this.calculateSize();this.bounds.update(this.currZoomLevel);this.panTo(this.pan.x,this.pan.y)}}updateContentSize(t){const e=this.currentResolution||this.zoomLevels.initial;if(!e){return}const i=Math.round(this.width*e)||this.pswp.viewportSize.x;const s=Math.round(this.height*e)||this.pswp.viewportSize.y;if(!this.sizeChanged(i,s)&&!t){return}this.content.setDisplayedSize(i,s)}sizeChanged(t,e){if(t!==this.prevDisplayedWidth||e!==this.prevDisplayedHeight){this.prevDisplayedWidth=t;this.prevDisplayedHeight=e;return true}return false}getPlaceholderElement(){var t;return(t=this.content.placeholder)===null||t===void 0?void 0:t.element}zoomTo(t,e,i,s){const{pswp:n}=this;if(!this.isZoomable()||n.mainScroll.isShifted()){return}n.dispatch("beforeZoomTo",{destZoomLevel:t,centerPoint:e,transitionDuration:i});n.animations.stopAllPan();const a=this.currZoomLevel;if(!s){t=h(t,this.zoomLevels.min,this.zoomLevels.max)}this.setZoomLevel(t);this.pan.x=this.calculateZoomToPanOffset("x",e,a);this.pan.y=this.calculateZoomToPanOffset("y",e,a);o(this.pan);const r=()=>{this._setResolution(t);this.applyCurrentZoomPan()};if(!i){r()}else{n.animations.startTransition({isPan:true,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:r,duration:i,easing:n.options.easing})}}toggleZoom(t){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,t,this.pswp.options.zoomAnimationDuration)}setZoomLevel(t){this.currZoomLevel=t;this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(t,e,i){const s=this.bounds.max[t]-this.bounds.min[t];if(s===0){return this.bounds.center[t]}if(!e){e=this.pswp.getViewportCenterPoint()}if(!i){i=this.zoomLevels.initial}const n=this.currZoomLevel/i;return this.bounds.correctPan(t,(this.pan[t]-e[t])*n+e[t])}panTo(t,e){this.pan.x=this.bounds.correctPan("x",t);this.pan.y=this.bounds.correctPan("y",e);this.applyCurrentZoomPan()}isPannable(){return Boolean(this.width)&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return Boolean(this.width)&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel);if(this===this.pswp.currSlide){this.pswp.dispatch("zoomPanUpdate",{slide:this})}}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial;this.bounds.update(this.currZoomLevel);n(this.pan,this.bounds.center);this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(t,e,i){i/=this.currentResolution||this.zoomLevels.initial;d(this.container,t,e,i)}calculateSize(){const{pswp:t}=this;n(this.panAreaSize,b(t.options,t.viewportSize,this.data,this.index));this.zoomLevels.update(this.width,this.height,this.panAreaSize);t.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const t=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return l(this.pan.x,this.pan.y,t)}_setResolution(t){if(t===this.currentResolution){return}this.currentResolution=t;this.updateContentSize();this.pswp.dispatch("resolutionChanged")}}const A=.35;const T=.6;const E=.4;const D=.5;function O(t,e){return t*e/(1-e)}class Z{constructor(t){this.gestures=t;this.pswp=t.pswp;this.startPan={x:0,y:0}}start(){if(this.pswp.currSlide){n(this.startPan,this.pswp.currSlide.pan)}this.pswp.animations.stopAll()}change(){const{p1:t,prevP1:e,dragAxis:i}=this.gestures;const{currSlide:s}=this.pswp;if(i==="y"&&this.pswp.options.closeOnVerticalDrag&&s&&s.currZoomLevel<=s.zoomLevels.fit&&!this.gestures.isMultitouch){const i=s.pan.y+(t.y-e.y);if(!this.pswp.dispatch("verticalDrag",{panY:i}).defaultPrevented){this._setPanWithFriction("y",i,T);const t=1-Math.abs(this._getVerticalDragRatio(s.pan.y));this.pswp.applyBgOpacity(t);s.applyCurrentZoomPan()}}else{const t=this._panOrMoveMainScroll("x");if(!t){this._panOrMoveMainScroll("y");if(s){o(s.pan);s.applyCurrentZoomPan()}}}}end(){const{velocity:t}=this.gestures;const{mainScroll:e,currSlide:i}=this.pswp;let s=0;this.pswp.animations.stopAll();if(e.isShifted()){const i=e.x-e.getCurrSlideX();const n=i/this.pswp.viewportSize.x;if(t.x<-D&&n<0||t.x<.1&&n<-.5){s=1;t.x=Math.min(t.x,0)}else if(t.x>D&&n>0||t.x>-.1&&n>.5){s=-1;t.x=Math.max(t.x,0)}e.moveIndexBy(s,true,t.x)}if(i&&i.currZoomLevel>i.zoomLevels.max||this.gestures.isMultitouch){this.gestures.zoomLevels.correctZoomPan(true)}else{this._finishPanGestureForAxis("x");this._finishPanGestureForAxis("y")}}_finishPanGestureForAxis(t){const{velocity:e}=this.gestures;const{currSlide:i}=this.pswp;if(!i){return}const{pan:s,bounds:n}=i;const o=s[t];const a=this.pswp.bgOpacity<1&&t==="y";const r=.995;const l=o+O(e[t],r);if(a){const t=this._getVerticalDragRatio(o);const e=this._getVerticalDragRatio(l);if(t<0&&e<-E||t>0&&e>E){this.pswp.close();return}}const d=n.correctPan(t,l);if(o===d){return}const p=d===l?1:.82;const c=this.pswp.bgOpacity;const u=d-o;this.pswp.animations.startSpring({name:"panGesture"+t,isPan:true,start:o,end:d,velocity:e[t],dampingRatio:p,onUpdate:e=>{if(a&&this.pswp.bgOpacity<1){const t=1-(d-e)/u;this.pswp.applyBgOpacity(h(c+(1-c)*t,0,1))}s[t]=Math.floor(e);i.applyCurrentZoomPan()}})}_panOrMoveMainScroll(t){const{p1:e,dragAxis:i,prevP1:s,isMultitouch:n}=this.gestures;const{currSlide:o,mainScroll:a}=this.pswp;const r=e[t]-s[t];const h=a.x+r;if(!r||!o){return false}if(t==="x"&&!o.isPannable()&&!n){a.moveTo(h,true);return true}const{bounds:l}=o;const d=o.pan[t]+r;if(this.pswp.options.allowPanToNext&&i==="x"&&t==="x"&&!n){const e=a.getCurrSlideX();const i=a.x-e;const s=r>0;const n=!s;if(d>l.min[t]&&s){const e=l.min[t]<=this.startPan[t];if(e){a.moveTo(h,true);return true}else{this._setPanWithFriction(t,d)}}else if(d<l.max[t]&&n){const e=this.startPan[t]<=l.max[t];if(e){a.moveTo(h,true);return true}else{this._setPanWithFriction(t,d)}}else{if(i!==0){if(i>0){a.moveTo(Math.max(h,e),true);return true}else if(i<0){a.moveTo(Math.min(h,e),true);return true}}else{this._setPanWithFriction(t,d)}}}else{if(t==="y"){if(!a.isShifted()&&l.min.y!==l.max.y){this._setPanWithFriction(t,d)}}else{this._setPanWithFriction(t,d)}}return false}_getVerticalDragRatio(t){var e,i;return(t-((e=(i=this.pswp.currSlide)===null||i===void 0?void 0:i.bounds.center.y)!==null&&e!==void 0?e:0))/(this.pswp.viewportSize.y/3)}_setPanWithFriction(t,e,i){const{currSlide:s}=this.pswp;if(!s){return}const{pan:n,bounds:o}=s;const a=o.correctPan(t,e);if(a!==e||i){const s=Math.round(e-n[t]);n[t]+=s*(i||A)}else{n[t]=e}}}const F=.05;const M=.15;function R(t,e,i){t.x=(e.x+i.x)/2;t.y=(e.y+i.y)/2;return t}class B{constructor(t){this.gestures=t;this._startPan={x:0,y:0};this._startZoomPoint={x:0,y:0};this._zoomPoint={x:0,y:0};this._wasOverFitZoomLevel=false;this._startZoomLevel=1}start(){const{currSlide:t}=this.gestures.pswp;if(t){this._startZoomLevel=t.currZoomLevel;n(this._startPan,t.pan)}this.gestures.pswp.animations.stopAllPan();this._wasOverFitZoomLevel=false}change(){const{p1:t,startP1:e,p2:i,startP2:s,pswp:n}=this.gestures;const{currSlide:o}=n;if(!o){return}const r=o.zoomLevels.min;const h=o.zoomLevels.max;if(!o.isZoomable()||n.mainScroll.isShifted()){return}R(this._startZoomPoint,e,s);R(this._zoomPoint,t,i);let l=1/a(e,s)*a(t,i)*this._startZoomLevel;if(l>o.zoomLevels.initial+o.zoomLevels.initial/15){this._wasOverFitZoomLevel=true}if(l<r){if(n.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=o.zoomLevels.initial){const t=1-(r-l)/(r/1.2);if(!n.dispatch("pinchClose",{bgOpacity:t}).defaultPrevented){n.applyBgOpacity(t)}}else{l=r-(r-l)*M}}else if(l>h){l=h+(l-h)*F}o.pan.x=this._calculatePanForZoomLevel("x",l);o.pan.y=this._calculatePanForZoomLevel("y",l);o.setZoomLevel(l);o.applyCurrentZoomPan()}end(){const{pswp:t}=this.gestures;const{currSlide:e}=t;if((!e||e.currZoomLevel<e.zoomLevels.initial)&&!this._wasOverFitZoomLevel&&t.options.pinchToClose){t.close()}else{this.correctZoomPan()}}_calculatePanForZoomLevel(t,e){const i=e/this._startZoomLevel;return this._zoomPoint[t]-(this._startZoomPoint[t]-this._startPan[t])*i}correctZoomPan(t){const{pswp:e}=this.gestures;const{currSlide:i}=e;if(!(i!==null&&i!==void 0&&i.isZoomable())){return}if(this._zoomPoint.x===0){t=true}const s=i.currZoomLevel;let o;let a=true;if(s<i.zoomLevels.initial){o=i.zoomLevels.initial}else if(s>i.zoomLevels.max){o=i.zoomLevels.max}else{a=false;o=s}const l=e.bgOpacity;const d=e.bgOpacity<1;const p=n({x:0,y:0},i.pan);let c=n({x:0,y:0},p);if(t){this._zoomPoint.x=0;this._zoomPoint.y=0;this._startZoomPoint.x=0;this._startZoomPoint.y=0;this._startZoomLevel=s;n(this._startPan,p)}if(a){c={x:this._calculatePanForZoomLevel("x",o),y:this._calculatePanForZoomLevel("y",o)}}i.setZoomLevel(o);c={x:i.bounds.correctPan("x",c.x),y:i.bounds.correctPan("y",c.y)};i.setZoomLevel(s);const u=!r(c,p);if(!u&&!a&&!d){i._setResolution(o);i.applyCurrentZoomPan();return}e.animations.stopAllPan();e.animations.startSpring({isPan:true,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:t=>{t/=1e3;if(u||a){if(u){i.pan.x=p.x+(c.x-p.x)*t;i.pan.y=p.y+(c.y-p.y)*t}if(a){const e=s+(o-s)*t;i.setZoomLevel(e)}i.applyCurrentZoomPan()}if(d&&e.bgOpacity<1){e.applyBgOpacity(h(l+(1-l)*t,0,1))}},onComplete:()=>{i._setResolution(o);i.applyCurrentZoomPan()}})}}function k(t){return!!t.target.closest(".pswp__container")}class N{constructor(t){this.gestures=t}click(t,e){const i=e.target.classList;const s=i.contains("pswp__img");const n=i.contains("pswp__item")||i.contains("pswp__zoom-wrap");if(s){this._doClickOrTapAction("imageClick",t,e)}else if(n){this._doClickOrTapAction("bgClick",t,e)}}tap(t,e){if(k(e)){this._doClickOrTapAction("tap",t,e)}}doubleTap(t,e){if(k(e)){this._doClickOrTapAction("doubleTap",t,e)}}_doClickOrTapAction(t,e,i){var s;const{pswp:n}=this.gestures;const{currSlide:o}=n;const a=t+"Action";const r=n.options[a];if(n.dispatch(a,{point:e,originalEvent:i}).defaultPrevented){return}if(typeof r==="function"){r.call(n,e,i);return}switch(r){case"close":case"next":n[r]();break;case"zoom":o===null||o===void 0||o.toggleZoom(e);break;case"zoom-or-close":if(o!==null&&o!==void 0&&o.isZoomable()&&o.zoomLevels.secondary!==o.zoomLevels.initial){o.toggleZoom(e)}else if(n.options.clickToCloseNonZoomable){n.close()}break;case"toggle-controls":(s=this.gestures.pswp.element)===null||s===void 0||s.classList.toggle("pswp--ui-visible");break}}}const H=10;const W=300;const V=25;class q{constructor(t){this.pswp=t;this.dragAxis=null;this.p1={x:0,y:0};this.p2={x:0,y:0};this.prevP1={x:0,y:0};this.prevP2={x:0,y:0};this.startP1={x:0,y:0};this.startP2={x:0,y:0};this.velocity={x:0,y:0};this._lastStartP1={x:0,y:0};this._intervalP1={x:0,y:0};this._numActivePoints=0;this._ongoingPointers=[];this._touchEventEnabled="ontouchstart"in window;this._pointerEventEnabled=!!window.PointerEvent;this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1;this._numActivePoints=0;this._intervalTime=0;this._velocityCalculated=false;this.isMultitouch=false;this.isDragging=false;this.isZooming=false;this.raf=null;this._tapTimer=null;if(!this.supportsTouch){t.options.allowPanToNext=false}this.drag=new Z(this);this.zoomLevels=new B(this);this.tapHandler=new N(this);t.on("bindEvents",()=>{t.events.add(t.scrollWrap,"click",this._onClick.bind(this));if(this._pointerEventEnabled){this._bindEvents("pointer","down","up","cancel")}else if(this._touchEventEnabled){this._bindEvents("touch","start","end","cancel");if(t.scrollWrap){t.scrollWrap.ontouchmove=()=>{};t.scrollWrap.ontouchend=()=>{}}}else{this._bindEvents("mouse","down","up")}})}_bindEvents(t,e,i,s){const{pswp:n}=this;const{events:o}=n;const a=s?t+s:"";o.add(n.scrollWrap,t+e,this.onPointerDown.bind(this));o.add(window,t+"move",this.onPointerMove.bind(this));o.add(window,t+i,this.onPointerUp.bind(this));if(a){o.add(n.scrollWrap,a,this.onPointerUp.bind(this))}}onPointerDown(t){const e=t.type==="mousedown"||t.pointerType==="mouse";if(e&&t.button>0){return}const{pswp:i}=this;if(!i.opener.isOpen){t.preventDefault();return}if(i.dispatch("pointerDown",{originalEvent:t}).defaultPrevented){return}if(e){i.mouseDetected();this._preventPointerEventBehaviour(t,"down")}i.animations.stopAll();this._updatePoints(t,"down");if(this._numActivePoints===1){this.dragAxis=null;n(this.startP1,this.p1)}if(this._numActivePoints>1){this._clearTapTimer();this.isMultitouch=true}else{this.isMultitouch=false}}onPointerMove(t){this._preventPointerEventBehaviour(t,"move");if(!this._numActivePoints){return}this._updatePoints(t,"move");if(this.pswp.dispatch("pointerMove",{originalEvent:t}).defaultPrevented){return}if(this._numActivePoints===1&&!this.isDragging){if(!this.dragAxis){this._calculateDragDirection()}if(this.dragAxis&&!this.isDragging){if(this.isZooming){this.isZooming=false;this.zoomLevels.end()}this.isDragging=true;this._clearTapTimer();this._updateStartPoints();this._intervalTime=Date.now();this._velocityCalculated=false;n(this._intervalP1,this.p1);this.velocity.x=0;this.velocity.y=0;this.drag.start();this._rafStopLoop();this._rafRenderLoop()}}else if(this._numActivePoints>1&&!this.isZooming){this._finishDrag();this.isZooming=true;this._updateStartPoints();this.zoomLevels.start();this._rafStopLoop();this._rafRenderLoop()}}_finishDrag(){if(this.isDragging){this.isDragging=false;if(!this._velocityCalculated){this._updateVelocity(true)}this.drag.end();this.dragAxis=null}}onPointerUp(t){if(!this._numActivePoints){return}this._updatePoints(t,"up");if(this.pswp.dispatch("pointerUp",{originalEvent:t}).defaultPrevented){return}if(this._numActivePoints===0){this._rafStopLoop();if(this.isDragging){this._finishDrag()}else if(!this.isZooming&&!this.isMultitouch){this._finishTap(t)}}if(this._numActivePoints<2&&this.isZooming){this.isZooming=false;this.zoomLevels.end();if(this._numActivePoints===1){this.dragAxis=null;this._updateStartPoints()}}}_rafRenderLoop(){if(this.isDragging||this.isZooming){this._updateVelocity();if(this.isDragging){if(!r(this.p1,this.prevP1)){this.drag.change()}}else{if(!r(this.p1,this.prevP1)||!r(this.p2,this.prevP2)){this.zoomLevels.change()}}this._updatePrevPoints();this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this))}}_updateVelocity(t){const e=Date.now();const i=e-this._intervalTime;if(i<50&&!t){return}this.velocity.x=this._getVelocity("x",i);this.velocity.y=this._getVelocity("y",i);this._intervalTime=e;n(this._intervalP1,this.p1);this._velocityCalculated=true}_finishTap(t){const{mainScroll:e}=this.pswp;if(e.isShifted()){e.moveIndexBy(0,true);return}if(t.type.indexOf("cancel")>0){return}if(t.type==="mouseup"||t.pointerType==="mouse"){this.tapHandler.click(this.startP1,t);return}const i=this.pswp.options.doubleTapAction?W:0;if(this._tapTimer){this._clearTapTimer();if(a(this._lastStartP1,this.startP1)<V){this.tapHandler.doubleTap(this.startP1,t)}}else{n(this._lastStartP1,this.startP1);this._tapTimer=setTimeout(()=>{this.tapHandler.tap(this.startP1,t);this._clearTapTimer()},i)}}_clearTapTimer(){if(this._tapTimer){clearTimeout(this._tapTimer);this._tapTimer=null}}_getVelocity(t,e){const i=this.p1[t]-this._intervalP1[t];if(Math.abs(i)>1&&e>5){return i/e}return 0}_rafStopLoop(){if(this.raf){cancelAnimationFrame(this.raf);this.raf=null}}_preventPointerEventBehaviour(t,e){const i=this.pswp.applyFilters("preventPointerEvent",true,t,e);if(i){t.preventDefault()}}_updatePoints(t,e){if(this._pointerEventEnabled){const i=t;const s=this._ongoingPointers.findIndex(t=>t.id===i.pointerId);if(e==="up"&&s>-1){this._ongoingPointers.splice(s,1)}else if(e==="down"&&s===-1){this._ongoingPointers.push(this._convertEventPosToPoint(i,{x:0,y:0}))}else if(s>-1){this._convertEventPosToPoint(i,this._ongoingPointers[s])}this._numActivePoints=this._ongoingPointers.length;if(this._numActivePoints>0){n(this.p1,this._ongoingPointers[0])}if(this._numActivePoints>1){n(this.p2,this._ongoingPointers[1])}}else{const i=t;this._numActivePoints=0;if(i.type.indexOf("touch")>-1){if(i.touches&&i.touches.length>0){this._convertEventPosToPoint(i.touches[0],this.p1);this._numActivePoints++;if(i.touches.length>1){this._convertEventPosToPoint(i.touches[1],this.p2);this._numActivePoints++}}}else{this._convertEventPosToPoint(t,this.p1);if(e==="up"){this._numActivePoints=0}else{this._numActivePoints++}}}}_updatePrevPoints(){n(this.prevP1,this.p1);n(this.prevP2,this.p2)}_updateStartPoints(){n(this.startP1,this.p1);n(this.startP2,this.p2);this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted()){this.dragAxis="x"}else{const t=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(t!==0){const e=t>0?"x":"y";if(Math.abs(this.p1[e]-this.startP1[e])>=H){this.dragAxis=e}}}}_convertEventPosToPoint(t,e){e.x=t.pageX-this.pswp.offset.x;e.y=t.pageY-this.pswp.offset.y;if("pointerId"in t){e.id=t.pointerId}else if(t.identifier!==undefined){e.id=t.identifier}return e}_onClick(t){if(this.pswp.mainScroll.isShifted()){t.preventDefault();t.stopPropagation()}}}const U=.35;class G{constructor(t){this.pswp=t;this.x=0;this.slideWidth=0;this._currPositionIndex=0;this._prevPositionIndex=0;this._containerShiftIndex=-1;this.itemHolders=[]}resize(t){const{pswp:e}=this;const i=Math.round(e.viewportSize.x+e.viewportSize.x*e.options.spacing);const s=i!==this.slideWidth;if(s){this.slideWidth=i;this.moveTo(this.getCurrSlideX())}this.itemHolders.forEach((e,i)=>{if(s){d(e.el,(i+this._containerShiftIndex)*this.slideWidth)}if(t&&e.slide){e.slide.resize()}})}resetPosition(){this._currPositionIndex=0;this._prevPositionIndex=0;this.slideWidth=0;this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let t=0;t<3;t++){const e=s("pswp__item","div",this.pswp.container);e.setAttribute("role","group");e.setAttribute("aria-roledescription","slide");e.setAttribute("aria-hidden","true");e.style.display=t===1?"block":"none";this.itemHolders.push({el:e})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(t,e,i){const{pswp:s}=this;let n=s.potentialIndex+t;const o=s.getNumItems();if(s.canLoop()){n=s.getLoopedIndex(n);const e=(t+o)%o;if(e<=o/2){t=e}else{t=e-o}}else{if(n<0){n=0}else if(n>=o){n=o-1}t=n-s.potentialIndex}s.potentialIndex=n;this._currPositionIndex-=t;s.animations.stopMainScroll();const a=this.getCurrSlideX();if(!e){this.moveTo(a);this.updateCurrItem()}else{s.animations.startSpring({isMainScroll:true,start:this.x,end:a,velocity:i||0,naturalFrequency:30,dampingRatio:1,onUpdate:t=>{this.moveTo(t)},onComplete:()=>{this.updateCurrItem();s.appendHeavy()}});let t=s.potentialIndex-s.currIndex;if(s.canLoop()){const e=(t+o)%o;if(e<=o/2){t=e}else{t=e-o}}if(Math.abs(t)>1){this.updateCurrItem()}}return Boolean(t)}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){var t;const{pswp:e}=this;const i=this._prevPositionIndex-this._currPositionIndex;if(!i){return}this._prevPositionIndex=this._currPositionIndex;e.currIndex=e.potentialIndex;let s=Math.abs(i);let n;if(s>=3){this._containerShiftIndex+=i+(i>0?-3:3);s=3;this.itemHolders.forEach(t=>{var e;(e=t.slide)===null||e===void 0||e.destroy();t.slide=undefined})}for(let t=0;t<s;t++){if(i>0){n=this.itemHolders.shift();if(n){this.itemHolders[2]=n;this._containerShiftIndex++;d(n.el,(this._containerShiftIndex+2)*this.slideWidth);e.setContent(n,e.currIndex-s+t+2)}}else{n=this.itemHolders.pop();if(n){this.itemHolders.unshift(n);this._containerShiftIndex--;d(n.el,this._containerShiftIndex*this.slideWidth);e.setContent(n,e.currIndex+s-t-2)}}}if(Math.abs(this._containerShiftIndex)>50&&!this.isShifted()){this.resetPosition();this.resize()}e.animations.stopAllPan();this.itemHolders.forEach((t,e)=>{if(t.slide){t.slide.setIsActive(e===1)}});e.currSlide=(t=this.itemHolders[1])===null||t===void 0?void 0:t.slide;e.contentLoader.updateLazy(i);if(e.currSlide){e.currSlide.applyCurrentZoomPan()}e.dispatch("change")}moveTo(t,e){if(!this.pswp.canLoop()&&e){let e=(this.slideWidth*this._currPositionIndex-t)/this.slideWidth;e+=this.pswp.currIndex;const i=Math.round(t-this.x);if(e<0&&i>0||e>=this.pswp.getNumItems()-1&&i<0){t=this.x+i*U}}this.x=t;if(this.pswp.container){d(this.pswp.container,t)}this.pswp.dispatch("moveMainScroll",{x:t,dragging:e!==null&&e!==void 0?e:false})}}const K={Escape:27,z:90,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Tab:9};const $=(t,e)=>e?t:K[t];class j{constructor(t){this.pswp=t;this._wasFocused=false;t.on("bindEvents",()=>{if(t.options.trapFocus){if(!t.options.initialPointerPos){this._focusRoot()}t.events.add(document,"focusin",this._onFocusIn.bind(this))}t.events.add(document,"keydown",this._onKeyDown.bind(this))});const e=document.activeElement;t.on("destroy",()=>{if(t.options.returnFocus&&e&&this._wasFocused){e.focus()}})}_focusRoot(){if(!this._wasFocused&&this.pswp.element){this.pswp.element.focus();this._wasFocused=true}}_onKeyDown(t){const{pswp:e}=this;if(e.dispatch("keydown",{originalEvent:t}).defaultPrevented){return}if(g(t)){return}let i;let s;let n=false;const o="key"in t;switch(o?t.key:t.keyCode){case $("Escape",o):if(e.options.escKey){i="close"}break;case $("z",o):i="toggleZoom";break;case $("ArrowLeft",o):s="x";break;case $("ArrowUp",o):s="y";break;case $("ArrowRight",o):s="x";n=true;break;case $("ArrowDown",o):n=true;s="y";break;case $("Tab",o):this._focusRoot();break}if(s){t.preventDefault();const{currSlide:o}=e;if(e.options.arrowKeys&&s==="x"&&e.getNumItems()>1){i=n?"next":"prev"}else if(o&&o.currZoomLevel>o.zoomLevels.fit){o.pan[s]+=n?-80:80;o.panTo(o.pan.x,o.pan.y)}}if(i){t.preventDefault();e[i]()}}_onFocusIn(t){const{template:e}=this.pswp;if(e&&document!==t.target&&e!==t.target&&!e.contains(t.target)){e.focus()}}}const X="cubic-bezier(.4,0,.22,1)";class Y{constructor(t){var e;this.props=t;const{target:i,onComplete:s,transform:n,onFinish:o=()=>{},duration:a=333,easing:r=X}=t;this.onFinish=o;const h=n?"transform":"opacity";const l=(e=t[h])!==null&&e!==void 0?e:"";this._target=i;this._onComplete=s;this._finished=false;this._onTransitionEnd=this._onTransitionEnd.bind(this);this._helperTimeout=setTimeout(()=>{c(i,h,a,r);this._helperTimeout=setTimeout(()=>{i.addEventListener("transitionend",this._onTransitionEnd,false);i.addEventListener("transitioncancel",this._onTransitionEnd,false);this._helperTimeout=setTimeout(()=>{this._finalizeAnimation()},a+500);i.style[h]=l},30)},0)}_onTransitionEnd(t){if(t.target===this._target){this._finalizeAnimation()}}_finalizeAnimation(){if(!this._finished){this._finished=true;this.onFinish();if(this._onComplete){this._onComplete()}}}destroy(){if(this._helperTimeout){clearTimeout(this._helperTimeout)}m(this._target);this._target.removeEventListener("transitionend",this._onTransitionEnd,false);this._target.removeEventListener("transitioncancel",this._onTransitionEnd,false);if(!this._finished){this._finalizeAnimation()}}}const J=12;const Q=.75;class tt{constructor(t,e,i){this.velocity=t*1e3;this._dampingRatio=e||Q;this._naturalFrequency=i||J;this._dampedFrequency=this._naturalFrequency;if(this._dampingRatio<1){this._dampedFrequency*=Math.sqrt(1-this._dampingRatio*this._dampingRatio)}}easeFrame(t,e){let i=0;let s;e/=1e3;const n=Math.E**(-this._dampingRatio*this._naturalFrequency*e);if(this._dampingRatio===1){s=this.velocity+this._naturalFrequency*t;i=(t+s*e)*n;this.velocity=i*-this._naturalFrequency+s*n}else if(this._dampingRatio<1){s=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*t+this.velocity);const o=Math.cos(this._dampedFrequency*e);const a=Math.sin(this._dampedFrequency*e);i=n*(t*o+s*a);this.velocity=i*-this._naturalFrequency*this._dampingRatio+n*(-this._dampedFrequency*t*a+this._dampedFrequency*s*o)}return i}}class et{constructor(t){this.props=t;this._raf=0;const{start:e,end:i,velocity:s,onUpdate:n,onComplete:o,onFinish:a=()=>{},dampingRatio:r,naturalFrequency:h}=t;this.onFinish=a;const l=new tt(s,r,h);let d=Date.now();let p=e-i;const c=()=>{if(this._raf){p=l.easeFrame(p,Date.now()-d);if(Math.abs(p)<1&&Math.abs(l.velocity)<50){n(i);if(o){o()}this.onFinish()}else{d=Date.now();n(p+i);this._raf=requestAnimationFrame(c)}}};this._raf=requestAnimationFrame(c)}destroy(){if(this._raf>=0){cancelAnimationFrame(this._raf)}this._raf=0}}class it{constructor(){this.activeAnimations=[]}startSpring(t){this._start(t,true)}startTransition(t){this._start(t)}_start(t,e){const i=e?new et(t):new Y(t);this.activeAnimations.push(i);i.onFinish=()=>this.stop(i);return i}stop(t){t.destroy();const e=this.activeAnimations.indexOf(t);if(e>-1){this.activeAnimations.splice(e,1)}}stopAll(){this.activeAnimations.forEach(t=>{t.destroy()});this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter(t=>{if(t.props.isPan){t.destroy();return false}return true})}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter(t=>{if(t.props.isMainScroll){t.destroy();return false}return true})}isPanRunning(){return this.activeAnimations.some(t=>t.props.isPan)}}class st{constructor(t){this.pswp=t;t.events.add(t.element,"wheel",this._onWheel.bind(this))}_onWheel(t){t.preventDefault();const{currSlide:e}=this.pswp;let{deltaX:i,deltaY:s}=t;if(!e){return}if(this.pswp.dispatch("wheel",{originalEvent:t}).defaultPrevented){return}if(t.ctrlKey||this.pswp.options.wheelToZoom){if(e.isZoomable()){let i=-s;if(t.deltaMode===1){i*=.05}else{i*=t.deltaMode?1:.002}i=2**i;const n=e.currZoomLevel*i;e.zoomTo(n,{x:t.clientX,y:t.clientY})}}else{if(e.isPannable()){if(t.deltaMode===1){i*=18;s*=18}e.panTo(e.pan.x-i,e.pan.y-s)}}}}function nt(t){if(typeof t==="string"){return t}if(!t||!t.isCustomSVG){return""}const e=t;let i='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';i=i.split("%d").join(e.size||32);if(e.outlineID){i+='<use class="pswp__icn-shadow" xlink:href="#'+e.outlineID+'"/>'}i+=e.inner;i+="</svg>";return i}class ot{constructor(t,e){var i;const n=e.name||e.className;let o=e.html;if(t.options[n]===false){return}if(typeof t.options[n+"SVG"]==="string"){o=t.options[n+"SVG"]}t.dispatch("uiElementCreate",{data:e});let a="";if(e.isButton){a+="pswp__button ";a+=e.className||`pswp__button--${e.name}`}else{a+=e.className||`pswp__${e.name}`}let r=e.isButton?e.tagName||"button":e.tagName||"div";r=r.toLowerCase();const h=s(a,r);if(e.isButton){if(r==="button"){h.type="button"}let{title:i}=e;const{ariaLabel:s}=e;if(typeof t.options[n+"Title"]==="string"){i=t.options[n+"Title"]}if(i){h.title=i}const o=s||i;if(o){h.setAttribute("aria-label",o)}}h.innerHTML=nt(o);if(e.onInit){e.onInit(h,t)}if(e.onClick){h.onclick=i=>{if(typeof e.onClick==="string"){t[e.onClick]()}else if(typeof e.onClick==="function"){e.onClick(i,h,t)}}}const l=e.appendTo||"bar";let d=t.element;if(l==="bar"){if(!t.topBar){t.topBar=s("pswp__top-bar pswp__hide-on-close","div",t.scrollWrap)}d=t.topBar}else{h.classList.add("pswp__hide-on-close");if(l==="wrapper"){d=t.scrollWrap}}(i=d)===null||i===void 0||i.appendChild(t.applyFilters("uiElement",h,e))}}function at(t,e,i){t.classList.add("pswp__button--arrow");t.setAttribute("aria-controls","pswp__items");e.on("change",()=>{if(!e.options.loop){if(i){t.disabled=!(e.currIndex<e.getNumItems()-1)}else{t.disabled=!(e.currIndex>0)}}})}const rt={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:true,appendTo:"wrapper",html:{isCustomSVG:true,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:at};const ht={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:true,appendTo:"wrapper",html:{isCustomSVG:true,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(t,e)=>{at(t,e,true)}};const lt={name:"close",title:"Close",order:20,isButton:true,html:{isCustomSVG:true,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"};const dt={name:"zoom",title:"Zoom",order:10,isButton:true,html:{isCustomSVG:true,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/>'+'<path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/>'+'<path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"};const pt={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:true,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(t,e)=>{let i;let s=null;const n=(e,i)=>{t.classList.toggle("pswp__preloader--"+e,i)};const o=t=>{if(i!==t){i=t;n("active",t)}};const a=()=>{var t;if(!((t=e.currSlide)!==null&&t!==void 0&&t.content.isLoading())){o(false);if(s){clearTimeout(s);s=null}return}if(!s){s=setTimeout(()=>{var t;o(Boolean((t=e.currSlide)===null||t===void 0?void 0:t.content.isLoading()));s=null},e.options.preloaderDelay)}};e.on("change",a);e.on("loadComplete",t=>{if(e.currSlide===t.slide){a()}});if(e.ui){e.ui.updatePreloaderVisibility=a}}};const ct={name:"counter",order:5,onInit:(t,e)=>{e.on("change",()=>{t.innerText=e.currIndex+1+e.options.indexIndicatorSep+e.getNumItems()})}};function ut(t,e){t.classList.toggle("pswp--zoomed-in",e)}class mt{constructor(t){this.pswp=t;this.isRegistered=false;this.uiElementsData=[];this.items=[];this.updatePreloaderVisibility=()=>{};this._lastUpdatedZoomLevel=undefined}init(){const{pswp:t}=this;this.isRegistered=false;this.uiElementsData=[lt,rt,ht,dt,pt,ct];t.dispatch("uiRegister");this.uiElementsData.sort((t,e)=>(t.order||0)-(e.order||0));this.items=[];this.isRegistered=true;this.uiElementsData.forEach(t=>{this.registerElement(t)});t.on("change",()=>{var e;(e=t.element)===null||e===void 0||e.classList.toggle("pswp--one-slide",t.getNumItems()===1)});t.on("zoomPanUpdate",()=>this._onZoomPanUpdate())}registerElement(t){if(this.isRegistered){this.items.push(new ot(this.pswp,t))}else{this.uiElementsData.push(t)}}_onZoomPanUpdate(){const{template:t,currSlide:e,options:i}=this.pswp;if(this.pswp.opener.isClosing||!t||!e){return}let{currZoomLevel:s}=e;if(!this.pswp.opener.isOpen){s=e.zoomLevels.initial}if(s===this._lastUpdatedZoomLevel){return}this._lastUpdatedZoomLevel=s;const n=e.zoomLevels.initial-e.zoomLevels.secondary;if(Math.abs(n)<.01||!e.isZoomable()){ut(t,false);t.classList.remove("pswp--zoom-allowed");return}t.classList.add("pswp--zoom-allowed");const o=s===e.zoomLevels.initial?e.zoomLevels.secondary:e.zoomLevels.initial;ut(t,o<=s);if(i.imageClickAction==="zoom"||i.imageClickAction==="zoom-or-close"){t.classList.add("pswp--click-to-zoom")}}}function ft(t){const e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width}}function vt(t,e,i){const s=t.getBoundingClientRect();const n=s.width/e;const o=s.height/i;const a=n>o?n:o;const r=(s.width-e*a)/2;const h=(s.height-i*a)/2;const l={x:s.left+r,y:s.top+h,w:e*a};l.innerRect={w:s.width,h:s.height,x:r,y:h};return l}function gt(t,e,i){const s=i.dispatch("thumbBounds",{index:t,itemData:e,instance:i});if(s.thumbBounds){return s.thumbBounds}const{element:n}=e;let o;let a;if(n&&i.options.thumbSelector!==false){const t=i.options.thumbSelector||"img";a=n.matches(t)?n:n.querySelector(t)}a=i.applyFilters("thumbEl",a,e,t);if(a){if(!e.thumbCropped){o=ft(a)}else{o=vt(a,e.width||e.w||0,e.height||e.h||0)}}return i.applyFilters("thumbBounds",o,e,t)}class _t{constructor(t,e){this.type=t;this.defaultPrevented=false;if(e){Object.assign(this,e)}}preventDefault(){this.defaultPrevented=true}}class yt{constructor(){this._listeners={};this._filters={};this.pswp=undefined;this.options=undefined}addFilter(t,e,i=100){var s,n,o;if(!this._filters[t]){this._filters[t]=[]}(s=this._filters[t])===null||s===void 0||s.push({fn:e,priority:i});(n=this._filters[t])===null||n===void 0||n.sort((t,e)=>t.priority-e.priority);(o=this.pswp)===null||o===void 0||o.addFilter(t,e,i)}removeFilter(t,e){if(this._filters[t]){this._filters[t]=this._filters[t].filter(t=>t.fn!==e)}if(this.pswp){this.pswp.removeFilter(t,e)}}applyFilters(t,...e){var i;(i=this._filters[t])===null||i===void 0||i.forEach(t=>{e[0]=t.fn.apply(this,e)});return e[0]}on(t,e){var i,s;if(!this._listeners[t]){this._listeners[t]=[]}(i=this._listeners[t])===null||i===void 0||i.push(e);(s=this.pswp)===null||s===void 0||s.on(t,e)}off(t,e){var i;if(this._listeners[t]){this._listeners[t]=this._listeners[t].filter(t=>e!==t)}(i=this.pswp)===null||i===void 0||i.off(t,e)}dispatch(t,e){var i;if(this.pswp){return this.pswp.dispatch(t,e)}const s=new _t(t,e);(i=this._listeners[t])===null||i===void 0||i.forEach(t=>{t.call(this,s)});return s}}class wt{constructor(t,e){this.element=s("pswp__img pswp__img--placeholder",t?"img":"div",e);if(t){const e=this.element;e.decoding="async";e.alt="";e.src=t;e.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,e){if(!this.element){return}if(this.element.tagName==="IMG"){u(this.element,250,"auto");this.element.style.transformOrigin="0 0";this.element.style.transform=l(0,0,t/250)}else{u(this.element,t,e)}}destroy(){var t;if((t=this.element)!==null&&t!==void 0&&t.parentNode){this.element.remove()}this.element=null}}class xt{constructor(t,e,i){this.instance=e;this.data=t;this.index=i;this.element=undefined;this.placeholder=undefined;this.slide=undefined;this.displayedImageWidth=0;this.displayedImageHeight=0;this.width=Number(this.data.w)||Number(this.data.width)||0;this.height=Number(this.data.h)||Number(this.data.height)||0;this.isAttached=false;this.hasSlide=false;this.isDecoding=false;this.state=v.IDLE;if(this.data.type){this.type=this.data.type}else if(this.data.src){this.type="image"}else{this.type="html"}this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){if(this.placeholder&&!this.keepPlaceholder()){setTimeout(()=>{if(this.placeholder){this.placeholder.destroy();this.placeholder=undefined}},1e3)}}load(t,e){if(this.slide&&this.usePlaceholder()){if(!this.placeholder){const t=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:false,this);this.placeholder=new wt(t,this.slide.container)}else{const t=this.placeholder.element;if(t&&!t.parentElement){this.slide.container.prepend(t)}}}if(this.element&&!e){return}if(this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented){return}if(this.isImageContent()){this.element=s("pswp__img","img");if(this.displayedImageWidth){this.loadImage(t)}}else{this.element=s("pswp__content","div");this.element.innerHTML=this.data.html||""}if(e&&this.slide){this.slide.updateContentSize(true)}}loadImage(t){var e,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented){return}const s=this.element;this.updateSrcsetSizes();if(this.data.srcset){s.srcset=this.data.srcset}s.src=(e=this.data.src)!==null&&e!==void 0?e:"";s.alt=(i=this.data.alt)!==null&&i!==void 0?i:"";this.state=v.LOADING;if(s.complete){this.onLoaded()}else{s.onload=()=>{this.onLoaded()};s.onerror=()=>{this.onError()}}}setSlide(t){this.slide=t;this.hasSlide=true;this.instance=t.pswp}onLoaded(){this.state=v.LOADED;if(this.slide&&this.element){this.instance.dispatch("loadComplete",{slide:this.slide,content:this});if(this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode){this.append();this.slide.updateContentSize(true)}if(this.state===v.LOADED||this.state===v.ERROR){this.removePlaceholder()}}}onError(){this.state=v.ERROR;if(this.slide){this.displayError();this.instance.dispatch("loadComplete",{slide:this.slide,isError:true,content:this});this.instance.dispatch("loadError",{slide:this.slide,content:this})}}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===v.LOADING,this)}isError(){return this.state===v.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(t,e){if(!this.element){return}if(this.placeholder){this.placeholder.setDisplayedSize(t,e)}if(this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented){return}u(this.element,t,e);if(this.isImageContent()&&!this.isError()){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t;this.displayedImageHeight=e;if(i){this.loadImage(false)}else{this.updateSrcsetSizes()}if(this.slide){this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==v.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset){return}const t=this.element;const e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);if(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10)){t.sizes=e+"px";t.dataset.largestUsedSize=String(e)}}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){if(this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented){return}this.load(true)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=false;this.slide=undefined;if(this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented){return}this.remove();if(this.placeholder){this.placeholder.destroy();this.placeholder=undefined}if(this.isImageContent()&&this.element){this.element.onload=null;this.element.onerror=null;this.element=undefined}}displayError(){if(this.slide){var t,e;let i=s("pswp__error-msg","div");i.innerText=(t=(e=this.instance.options)===null||e===void 0?void 0:e.errorMsg)!==null&&t!==void 0?t:"";i=this.instance.applyFilters("contentErrorElement",i,this);this.element=s("pswp__content pswp__error-msg-container","div");this.element.appendChild(i);this.slide.container.innerText="";this.slide.container.appendChild(this.element);this.slide.updateContentSize(true);this.removePlaceholder()}}append(){if(this.isAttached||!this.element){return}this.isAttached=true;if(this.state===v.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented){return}const t="decode"in this.element;if(this.isImageContent()){if(t&&this.slide&&(!this.slide.isActive||y())){this.isDecoding=true;this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=false;this.appendImage()})}else{this.appendImage()}}else if(this.slide&&!this.element.parentNode){this.slide.container.appendChild(this.element)}}activate(){if(this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide){return}if(this.isImageContent()&&this.isDecoding&&!y()){this.appendImage()}else if(this.isError()){this.load(false,true)}if(this.slide.holderElement){this.slide.holderElement.setAttribute("aria-hidden","false")}}deactivate(){this.instance.dispatch("contentDeactivate",{content:this});if(this.slide&&this.slide.holderElement){this.slide.holderElement.setAttribute("aria-hidden","true")}}remove(){this.isAttached=false;if(this.instance.dispatch("contentRemove",{content:this}).defaultPrevented){return}if(this.element&&this.element.parentNode){this.element.remove()}if(this.placeholder&&this.placeholder.element){this.placeholder.element.remove()}}appendImage(){if(!this.isAttached){return}if(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented){return}if(this.slide&&this.element&&!this.element.parentNode){this.slide.container.appendChild(this.element)}if(this.state===v.LOADED||this.state===v.ERROR){this.removePlaceholder()}}}const St=5;function Pt(t,e,i){const s=e.createContentFromData(t,i);let n;const{options:o}=e;if(o){n=new L(o,t,-1);let a;if(e.pswp){a=e.pswp.viewportSize}else{a=S(o,e)}const r=b(o,a,t,i);n.update(s.width,s.height,r)}s.lazyLoad();if(n){s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial))}return s}function bt(t,e){const i=e.getItemData(t);if(e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented){return}return Pt(i,e,t)}class It{constructor(t){this.pswp=t;this.limit=Math.max(t.options.preload[0]+t.options.preload[1]+1,St);this._cachedItems=[]}updateLazy(t){const{pswp:e}=this;if(e.dispatch("lazyLoad").defaultPrevented){return}const{preload:i}=e.options;const s=t===undefined?true:t>=0;let n;for(n=0;n<=i[1];n++){this.loadSlideByIndex(e.currIndex+(s?n:-n))}for(n=1;n<=i[0];n++){this.loadSlideByIndex(e.currIndex+(s?-n:n))}}loadSlideByIndex(t){const e=this.pswp.getLoopedIndex(t);let i=this.getContentByIndex(e);if(!i){i=bt(e,this.pswp);if(i){this.addToCache(i)}}}getContentBySlide(t){let e=this.getContentByIndex(t.index);if(!e){e=this.pswp.createContentFromData(t.data,t.index);this.addToCache(e)}e.setSlide(t);return e}addToCache(t){this.removeByIndex(t.index);this._cachedItems.push(t);if(this._cachedItems.length>this.limit){const t=this._cachedItems.findIndex(t=>!t.isAttached&&!t.hasSlide);if(t!==-1){const e=this._cachedItems.splice(t,1)[0];e.destroy()}}}removeByIndex(t){const e=this._cachedItems.findIndex(e=>e.index===t);if(e!==-1){this._cachedItems.splice(e,1)}}getContentByIndex(t){return this._cachedItems.find(e=>e.index===t)}destroy(){this._cachedItems.forEach(t=>t.destroy());this._cachedItems=[]}}class Ct extends yt{getNumItems(){var t;let e=0;const i=(t=this.options)===null||t===void 0?void 0:t.dataSource;if(i&&"length"in i){e=i.length}else if(i&&"gallery"in i){if(!i.items){i.items=this._getGalleryDOMElements(i.gallery)}if(i.items){e=i.items.length}}const s=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",s.numItems,i)}createContentFromData(t,e){return new xt(t,this,e)}getItemData(t){var e;const i=(e=this.options)===null||e===void 0?void 0:e.dataSource;let s={};if(Array.isArray(i)){s=i[t]}else if(i&&"gallery"in i){if(!i.items){i.items=this._getGalleryDOMElements(i.gallery)}s=i.items[t]}let n=s;if(n instanceof Element){n=this._domElementToItemData(n)}const o=this.dispatch("itemData",{itemData:n||{},index:t});return this.applyFilters("itemData",o.itemData,t)}_getGalleryDOMElements(t){var e,i;if((e=this.options)!==null&&e!==void 0&&e.children||(i=this.options)!==null&&i!==void 0&&i.childSelector){return _(this.options.children,this.options.childSelector,t)||[]}return[t]}_domElementToItemData(t){const e={element:t};const i=t.tagName==="A"?t:t.querySelector("a");if(i){e.src=i.dataset.pswpSrc||i.href;if(i.dataset.pswpSrcset){e.srcset=i.dataset.pswpSrcset}e.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0;e.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0;e.w=e.width;e.h=e.height;if(i.dataset.pswpType){e.type=i.dataset.pswpType}const n=t.querySelector("img");if(n){var s;e.msrc=n.currentSrc||n.src;e.alt=(s=n.getAttribute("alt"))!==null&&s!==void 0?s:""}if(i.dataset.pswpCropped||i.dataset.cropped){e.thumbCropped=true}}return this.applyFilters("domItemData",e,t,i)}lazyLoadData(t,e){return Pt(t,this,e)}}const Lt=.003;class zt{constructor(t){this.pswp=t;this.isClosed=true;this.isOpen=false;this.isClosing=false;this.isOpening=false;this._duration=undefined;this._useAnimation=false;this._croppedZoom=false;this._animateRootOpacity=false;this._animateBgOpacity=false;this._placeholder=undefined;this._opacityElement=undefined;this._cropContainer1=undefined;this._cropContainer2=undefined;this._thumbBounds=undefined;this._prepareOpen=this._prepareOpen.bind(this);t.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen();this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening){return}const t=this.pswp.currSlide;this.isOpen=false;this.isOpening=false;this.isClosing=true;this._duration=this.pswp.options.hideAnimationDuration;if(t&&t.currZoomLevel*t.width>=this.pswp.options.maxWidthToAnimate){this._duration=0}this._applyStartProps();setTimeout(()=>{this._start()},this._croppedZoom?30:0)}_prepareOpen(){this.pswp.off("firstZoomPan",this._prepareOpen);if(!this.isOpening){const t=this.pswp.currSlide;this.isOpening=true;this.isClosing=false;this._duration=this.pswp.options.showAnimationDuration;if(t&&t.zoomLevels.initial*t.width>=this.pswp.options.maxWidthToAnimate){this._duration=0}this._applyStartProps()}}_applyStartProps(){const{pswp:t}=this;const e=this.pswp.currSlide;const{options:i}=t;if(i.showHideAnimationType==="fade"){i.showHideOpacity=true;this._thumbBounds=undefined}else if(i.showHideAnimationType==="none"){i.showHideOpacity=false;this._duration=0;this._thumbBounds=undefined}else if(this.isOpening&&t._initialThumbBounds){this._thumbBounds=t._initialThumbBounds}else{this._thumbBounds=this.pswp.getThumbBounds()}this._placeholder=e===null||e===void 0?void 0:e.getPlaceholderElement();t.animations.stopAll();this._useAnimation=Boolean(this._duration&&this._duration>50);this._animateZoom=Boolean(this._thumbBounds)&&(e===null||e===void 0?void 0:e.content.usePlaceholder())&&(!this.isClosing||!t.mainScroll.isShifted());if(!this._animateZoom){this._animateRootOpacity=true;if(this.isOpening&&e){e.zoomAndPanToInitial();e.applyCurrentZoomPan()}}else{var s;this._animateRootOpacity=(s=i.showHideOpacity)!==null&&s!==void 0?s:false}this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>Lt;this._opacityElement=this._animateRootOpacity?t.element:t.bg;if(!this._useAnimation){this._duration=0;this._animateZoom=false;this._animateBgOpacity=false;this._animateRootOpacity=true;if(this.isOpening){if(t.element){t.element.style.opacity=String(Lt)}t.applyBgOpacity(1)}return}if(this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect){var n;this._croppedZoom=true;this._cropContainer1=this.pswp.container;this._cropContainer2=(n=this.pswp.currSlide)===null||n===void 0?void 0:n.holderElement;if(t.container){t.container.style.overflow="hidden";t.container.style.width=t.viewportSize.x+"px"}}else{this._croppedZoom=false}if(this.isOpening){if(this._animateRootOpacity){if(t.element){t.element.style.opacity=String(Lt)}t.applyBgOpacity(1)}else{if(this._animateBgOpacity&&t.bg){t.bg.style.opacity=String(Lt)}if(t.element){t.element.style.opacity="1"}}if(this._animateZoom){this._setClosedStateZoomPan();if(this._placeholder){this._placeholder.style.willChange="transform";this._placeholder.style.opacity=String(Lt)}}}else if(this.isClosing){if(t.mainScroll.itemHolders[0]){t.mainScroll.itemHolders[0].el.style.display="none"}if(t.mainScroll.itemHolders[2]){t.mainScroll.itemHolders[2].el.style.display="none"}if(this._croppedZoom){if(t.mainScroll.x!==0){t.mainScroll.resetPosition();t.mainScroll.resize()}}}}_start(){if(this.isOpening&&this._useAnimation&&this._placeholder&&this._placeholder.tagName==="IMG"){new Promise(t=>{let e=false;let i=true;f(this._placeholder).finally(()=>{e=true;if(!i){t(true)}});setTimeout(()=>{i=false;if(e){t(true)}},50);setTimeout(t,250)}).finally(()=>this._initiate())}else{this._initiate()}}_initiate(){var t,e;(t=this.pswp.element)===null||t===void 0||t.style.setProperty("--pswp-transition-duration",this._duration+"ms");this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart");this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out"));(e=this.pswp.element)===null||e===void 0||e.classList.toggle("pswp--ui-visible",this.isOpening);if(this.isOpening){if(this._placeholder){this._placeholder.style.opacity="1"}this._animateToOpenState()}else if(this.isClosing){this._animateToClosedState()}if(!this._useAnimation){this._onAnimationComplete()}}_onAnimationComplete(){const{pswp:t}=this;this.isOpen=this.isOpening;this.isClosed=this.isClosing;this.isOpening=false;this.isClosing=false;t.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd");t.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd"));if(this.isClosed){t.destroy()}else if(this.isOpen){var e;if(this._animateZoom&&t.container){t.container.style.overflow="visible";t.container.style.width="100%"}(e=t.currSlide)===null||e===void 0||e.applyCurrentZoomPan()}}_animateToOpenState(){const{pswp:t}=this;if(this._animateZoom){if(this._croppedZoom&&this._cropContainer1&&this._cropContainer2){this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)");this._animateTo(this._cropContainer2,"transform","none")}if(t.currSlide){t.currSlide.zoomAndPanToInitial();this._animateTo(t.currSlide.container,"transform",t.currSlide.getCurrentTransform())}}if(this._animateBgOpacity&&t.bg){this._animateTo(t.bg,"opacity",String(t.options.bgOpacity))}if(this._animateRootOpacity&&t.element){this._animateTo(t.element,"opacity","1")}}_animateToClosedState(){const{pswp:t}=this;if(this._animateZoom){this._setClosedStateZoomPan(true)}if(this._animateBgOpacity&&t.bgOpacity>.01&&t.bg){this._animateTo(t.bg,"opacity","0")}if(this._animateRootOpacity&&t.element){this._animateTo(t.element,"opacity","0")}}_setClosedStateZoomPan(t){if(!this._thumbBounds)return;const{pswp:e}=this;const{innerRect:i}=this._thumbBounds;const{currSlide:s,viewportSize:o}=e;if(this._croppedZoom&&i&&this._cropContainer1&&this._cropContainer2){const e=-o.x+(this._thumbBounds.x-i.x)+i.w;const s=-o.y+(this._thumbBounds.y-i.y)+i.h;const n=o.x-i.w;const a=o.y-i.h;if(t){this._animateTo(this._cropContainer1,"transform",l(e,s));this._animateTo(this._cropContainer2,"transform",l(n,a))}else{d(this._cropContainer1,e,s);d(this._cropContainer2,n,a)}}if(s){n(s.pan,i||this._thumbBounds);s.currZoomLevel=this._thumbBounds.w/s.width;if(t){this._animateTo(s.container,"transform",s.getCurrentTransform())}else{s.applyCurrentZoomPan()}}}_animateTo(t,e,i){if(!this._duration){t.style[e]=i;return}const{animations:s}=this.pswp;const n={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{if(!s.activeAnimations.length){this._onAnimationComplete()}},target:t};n[e]=i;s.startTransition(n)}}const At={allowPanToNext:true,spacing:.1,loop:true,pinchToClose:true,closeOnVerticalDrag:true,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:true,arrowKeys:true,trapFocus:true,returnFocus:true,maxWidthToAnimate:4e3,clickToCloseNonZoomable:true,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class Tt extends Ct{constructor(t){super();this.options=this._prepareOptions(t||{});this.offset={x:0,y:0};this._prevViewportSize={x:0,y:0};this.viewportSize={x:0,y:0};this.bgOpacity=1;this.currIndex=0;this.potentialIndex=0;this.isOpen=false;this.isDestroying=false;this.hasMouse=false;this._initialItemData={};this._initialThumbBounds=undefined;this.topBar=undefined;this.element=undefined;this.template=undefined;this.container=undefined;this.scrollWrap=undefined;this.currSlide=undefined;this.events=new x;this.animations=new it;this.mainScroll=new G(this);this.gestures=new q(this);this.opener=new zt(this);this.keyboard=new j(this);this.contentLoader=new It(this)}init(){if(this.isOpen||this.isDestroying){return false}this.isOpen=true;this.dispatch("init");this.dispatch("beforeOpen");this._createMainStructure();let t="pswp--open";if(this.gestures.supportsTouch){t+=" pswp--touch"}if(this.options.mainClass){t+=" "+this.options.mainClass}if(this.element){this.element.className+=" "+t}this.currIndex=this.options.index||0;this.potentialIndex=this.currIndex;this.dispatch("firstUpdate");this.scrollWheel=new st(this);if(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems()){this.currIndex=0}if(!this.gestures.supportsTouch){this.mouseDetected()}this.updateSize();this.offset.y=window.pageYOffset;this._initialItemData=this.getItemData(this.currIndex);this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:undefined});this._initialThumbBounds=this.getThumbBounds();this.dispatch("initialLayout");this.on("openingAnimationEnd",()=>{const{itemHolders:t}=this.mainScroll;if(t[0]){t[0].el.style.display="block";this.setContent(t[0],this.currIndex-1)}if(t[2]){t[2].el.style.display="block";this.setContent(t[2],this.currIndex+1)}this.appendHeavy();this.contentLoader.updateLazy();this.events.add(window,"resize",this._handlePageResize.bind(this));this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this));this.dispatch("bindEvents")});if(this.mainScroll.itemHolders[1]){this.setContent(this.mainScroll.itemHolders[1],this.currIndex)}this.dispatch("change");this.opener.open();this.dispatch("afterInit");return true}getLoopedIndex(t){const e=this.getNumItems();if(this.options.loop){if(t>e-1){t-=e}if(t<0){t+=e}}return h(t,0,e-1)}appendHeavy(){this.mainScroll.itemHolders.forEach(t=>{var e;(e=t.slide)===null||e===void 0||e.appendHeavy()})}goTo(t){this.mainScroll.moveIndexBy(this.getLoopedIndex(t)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...t){var e;(e=this.currSlide)===null||e===void 0||e.zoomTo(...t)}toggleZoom(){var t;(t=this.currSlide)===null||t===void 0||t.toggleZoom()}close(){if(!this.opener.isOpen||this.isDestroying){return}this.isDestroying=true;this.dispatch("close");this.events.removeAll();this.opener.close()}destroy(){var t;if(!this.isDestroying){this.options.showHideAnimationType="none";this.close();return}this.dispatch("destroy");this._listeners={};if(this.scrollWrap){this.scrollWrap.ontouchmove=null;this.scrollWrap.ontouchend=null}(t=this.element)===null||t===void 0||t.remove();this.mainScroll.itemHolders.forEach(t=>{var e;(e=t.slide)===null||e===void 0||e.destroy()});this.contentLoader.destroy();this.events.removeAll()}refreshSlideContent(t){this.contentLoader.removeByIndex(t);this.mainScroll.itemHolders.forEach((e,i)=>{var s,n;let o=((s=(n=this.currSlide)===null||n===void 0?void 0:n.index)!==null&&s!==void 0?s:0)-1+i;if(this.canLoop()){o=this.getLoopedIndex(o)}if(o===t){this.setContent(e,t,true);if(i===1){var a;this.currSlide=e.slide;(a=e.slide)===null||a===void 0||a.setIsActive(true)}}});this.dispatch("change")}setContent(t,e,i){if(this.canLoop()){e=this.getLoopedIndex(e)}if(t.slide){if(t.slide.index===e&&!i){return}t.slide.destroy();t.slide=undefined}if(!this.canLoop()&&(e<0||e>=this.getNumItems())){return}const s=this.getItemData(e);t.slide=new z(s,e,this);if(e===this.currIndex){this.currSlide=t.slide}t.slide.append(t.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(t){if(this.isDestroying){return}const e=S(this.options,this);if(!t&&r(e,this._prevViewportSize)){return}n(this._prevViewportSize,e);this.dispatch("beforeResize");n(this.viewportSize,this._prevViewportSize);this._updatePageScrollOffset();this.dispatch("viewportSize");this.mainScroll.resize(this.opener.isOpen);if(!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches){this.mouseDetected()}this.dispatch("resize")}applyBgOpacity(t){this.bgOpacity=Math.max(t,0);if(this.bg){this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity)}}mouseDetected(){if(!this.hasMouse){var t;this.hasMouse=true;(t=this.element)===null||t===void 0||t.classList.add("pswp--has_mouse")}}_handlePageResize(){this.updateSize();if(/iPhone|iPad|iPod/i.test(window.navigator.userAgent)){setTimeout(()=>{this.updateSize()},500)}}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(t,e){this.offset.x=t;this.offset.y=e;this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=s("pswp","div");this.element.setAttribute("tabindex","-1");this.element.setAttribute("role","dialog");this.template=this.element;this.bg=s("pswp__bg","div",this.element);this.scrollWrap=s("pswp__scroll-wrap","section",this.element);this.container=s("pswp__container","div",this.scrollWrap);this.scrollWrap.setAttribute("aria-roledescription","carousel");this.container.setAttribute("aria-live","off");this.container.setAttribute("id","pswp__items");this.mainScroll.appendHolders();this.ui=new mt(this);this.ui.init();(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return gt(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(t){if(window.matchMedia("(prefers-reduced-motion), (update: slow)").matches){t.showHideAnimationType="none";t.zoomAnimationDuration=0}return{...At,...t}}}},48:(t,e,i)=>{i.r(e)}};var e={};function i(s){var n=e[s];if(n!==undefined){return n.exports}var o=e[s]={exports:{}};t[s](o,o.exports,i);return o.exports}(()=>{i.d=(t,e)=>{for(var s in e){if(i.o(e,s)&&!i.o(t,s)){Object.defineProperty(t,s,{enumerable:true,get:e[s]})}}}})();(()=>{i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})();(()=>{i.r=t=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})}})();var s={};(()=>{i.r(s);var t=i(46);var e=i(47);
/**
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @copyright 2003-2014 by the INDEPNET Development Team.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */window.PhotoSwipe=e["default"];window.PhotoSwipeLightbox=t["default"];i(48)})()})();