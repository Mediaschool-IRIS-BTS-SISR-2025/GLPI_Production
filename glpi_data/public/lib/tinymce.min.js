(()=>{var e=[,e=>{(function(){"use strict";var t=function(e){if(e===null){return"null"}if(e===undefined){return"undefined"}var t=typeof e;if(t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")){return"array"}if(t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")){return"string"}return t};var o=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1};var n=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)};var s=function(e,t){return r(function(o,n){return e.eq(t(o),t(n))})};var r=function(e){return{eq:e}};var a=r(function(e,t){return e===t});var c=a;var i=function(e){return r(function(t,o){if(t.length!==o.length){return false}var n=t.length;for(var s=0;s<n;s++){if(!e.eq(t[s],o[s])){return false}}return true})};var l=function(e,t){return s(i(e),function(e){return n(e,t)})};var d=function(e){return r(function(t,o){var n=Object.keys(t);var s=Object.keys(o);if(!l(c).eq(n,s)){return false}var r=n.length;for(var a=0;a<r;a++){var i=n[a];if(!e.eq(t[i],o[i])){return false}}return true})};var u=r(function(e,n){if(e===n){return true}var s=t(e);var r=t(n);if(s!==r){return false}if(o(s)){return e===n}else if(s==="array"){return i(u).eq(e,n)}else if(s==="object"){return d(u).eq(e,n)}return false});const f=Object.getPrototypeOf;const m=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const g=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&m(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return t}};const p=e=>t=>g(t)===e;const h=e=>t=>typeof t===e;const y=e=>t=>e===t;const b=(e,t)=>k(e)&&m(e,t,(e,t)=>f(e)===t);const v=p("string");const k=p("object");const w=e=>b(e,Object);const _=p("array");const x=y(null);const C=h("boolean");const S=y(undefined);const z=e=>e===null||e===undefined;const T=e=>!z(e);const E=h("function");const O=h("number");const A=(e,t)=>{if(_(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const D=()=>{};const M=(e,t)=>(...o)=>e(t.apply(null,o));const N=(e,t)=>o=>e(t(o));const R=e=>()=>e;const B=e=>e;const L=(e,t)=>e===t;function H(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const I=e=>t=>!e(t);const P=e=>()=>{throw new Error(e)};const F=e=>e();const V=e=>{e()};const j=R(false);const Z=R(true);class U{constructor(e,t){this.tag=e;this.value=t}static some(e){return new U(true,e)}static none(){return U.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return U.some(e(this.value))}else{return U.none()}}bind(e){if(this.tag){return e(this.value)}else{return U.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return U.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return T(e)?U.some(e):U.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}U.singletonNone=new U(false);const q=Array.prototype.slice;const $=Array.prototype.indexOf;const W=Array.prototype.push;const G=(e,t)=>$.call(e,t);const K=(e,t)=>{const o=G(e,t);return o===-1?U.none():U.some(o)};const Y=(e,t)=>G(e,t)>-1;const X=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const J=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const Q=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const ee=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const te=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const oe=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const ne=(e,t,o)=>{ee(e,(e,n)=>{o=t(o,e,n)});return o};const se=(e,t,o)=>{Q(e,(e,n)=>{o=t(o,e,n)});return o};const re=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return U.some(s)}else if(o(s,n)){break}}return U.none()};const ae=(e,t)=>re(e,t,j);const ce=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return U.some(o)}}return U.none()};const ie=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!_(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}W.apply(t,e[o])}return t};const le=(e,t)=>ie(J(e,t));const de=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const ue=e=>{const t=q.call(e,0);t.reverse();return t};const fe=(e,t)=>oe(e,e=>!Y(t,e));const me=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const ge=(e,t)=>{const o=q.call(e,0);o.sort(t);return o};const pe=(e,t)=>t>=0&&t<e.length?U.some(e[t]):U.none();const he=e=>pe(e,0);const ye=e=>pe(e,e.length-1);const be=E(Array.from)?Array.from:e=>q.call(e);const ve=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return U.none()};const ke=(e,t)=>{const o=[];const n=E(t)?e=>X(o,o=>t(o,e)):e=>Y(o,e);for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!n(s)){o.push(s)}}return o};const we=Object.keys;const _e=Object.hasOwnProperty;const xe=(e,t)=>{const o=we(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const Ce=(e,t)=>Se(e,(e,o)=>({k:o,v:t(e,o)}));const Se=(e,t)=>{const o={};xe(e,(e,n)=>{const s=t(e,n);o[s.k]=s.v});return o};const ze=e=>(t,o)=>{e[o]=t};const Te=(e,t,o,n)=>{xe(e,(e,s)=>{(t(e,s)?o:n)(e,s)})};const Ee=(e,t)=>{const o={};const n={};Te(e,t,ze(o),ze(n));return{t:o,f:n}};const Oe=(e,t)=>{const o={};Te(e,t,ze(o),D);return o};const Ae=(e,t)=>{const o=[];xe(e,(e,n)=>{o.push(t(e,n))});return o};const De=e=>Ae(e,B);const Me=(e,t)=>Ne(e,t)?U.from(e[t]):U.none();const Ne=(e,t)=>_e.call(e,t);const Re=(e,t)=>Ne(e,t)&&e[t]!==undefined&&e[t]!==null;const Be=(e,t,o=u)=>d(o).eq(e,t);const Le=e=>{if(!_(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};Q(e,(n,s)=>{const r=we(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!_(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=we(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=de(t,e=>Y(n,e));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}});return o};const He={generate:Le};const Ie=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const Pe=e=>{const t=t=>t(e);const o=R(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:Z,isError:j,map:t=>je.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>U.some(e)};return s};const Fe=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:j,isError:Z,map:t,mapError:t=>je.error(t(e)),bind:t,exists:j,forall:Z,getOr:B,or:B,getOrThunk:F,orThunk:F,getOrDie:P(String(e)),each:D,toOptional:U.none};return o};const Ve=(e,t)=>e.fold(()=>Fe(t),Pe);const je={value:Pe,error:Fe,fromOption:Ve};const Ze=typeof window!=="undefined"?window:Function("return this;")();const Ue=(e,t,o)=>Math.min(Math.max(e,t),o);const qe=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let $e=0;const We=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(qe()*1e9);$e++;return e+"_"+n+$e+String(o)};const Ge=(e,t)=>t;const Ke=(e,t)=>{const o=w(e)&&w(t);return o?Xe(e,t):t};const Ye=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(Ne(s,t)){o[t]=e(o[t],s[t])}}}return o};const Xe=Ye(Ke);const Je=Ye(Ge);const Qe=(e,t,o=L)=>e.exists(e=>o(e,t));const et=(e,t,o=L)=>ot(e,t,o).getOr(e.isNone()&&t.isNone());const tt=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const ot=(e,t,o)=>e.isSome()&&t.isSome()?U.some(o(e.getOrDie(),t.getOrDie())):U.none();const nt=(e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?U.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):U.none();const st=(e,t)=>e?U.some(t):U.none();const rt=(e,t)=>{let o=t!==undefined&&t!==null?t:Ze;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const at=(e,t)=>{const o=e.split(".");return rt(o,t)};He.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const ct=e=>{const t=[];const o=[];Q(e,e=>{e.fold(e=>{t.push(e)},e=>{o.push(e)})});return{errors:t,values:o}};const it=e=>{const t=Ie(U.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(U.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(U.some(e))};return{clear:n,isSet:s,get:r,set:a}};const lt=e=>{const t=Ie(U.none());const o=()=>t.get().each(e=>clearInterval(e));const n=()=>{o();t.set(U.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=n=>{o();t.set(U.some(setInterval(n,e)))};return{clear:n,isSet:s,get:r,set:a}};const dt=()=>{const e=it(D);const t=t=>e.get().each(t);return{...e,on:t}};const ut=(e,t)=>e.substring(t);const ft=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const mt=(e,t)=>pt(e,t)?ut(e,t.length):e;const gt=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return S(n)?true:s+t.length<=n}else{return false}};const pt=(e,t)=>ft(e,t,0);const ht=(e,t)=>ft(e,t,e.length-t.length);const yt=e=>t=>t.replace(e,"");const bt=yt(/^\s+|\s+$/g);const vt=yt(/^\s+/g);const kt=yt(/\s+$/g);const wt=e=>e.length>0;const _t=e=>!wt(e);const xt=(e,t)=>t<=0?"":new Array(t+1).join(e);const Ct=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?U.none():U.some(o)};const St=(e,t)=>{let o=null;const n=()=>{if(!x(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(x(o)){o=setTimeout(()=>{o=null;e.apply(null,n)},t)}};return{cancel:n,throttle:s}};const zt=(e,t)=>{let o=null;const n=()=>{if(!x(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout(()=>{o=null;e.apply(null,s)},t)};return{cancel:n,throttle:s}};const Tt=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Et="\ufeff";const Ot=" ";const At=e=>e===Et;const Dt=e=>e.replace(/\uFEFF/g,"");const Mt=e=>{const t={};Q(e,e=>{t[e]={}});return we(t)};const Nt=e=>e.length!==undefined;const Rt=Array.isArray;const Bt=e=>{if(!Rt(e)){const t=[];for(let o=0,n=e.length;o<n;o++){t[o]=e[o]}return t}else{return e}};const Lt=(e,t,o)=>{if(!e){return false}o=o||e;if(Nt(e)){for(let n=0,s=e.length;n<s;n++){if(t.call(o,e[n],n,e)===false){return false}}}else{for(const n in e){if(Ne(e,n)){if(t.call(o,e[n],n,e)===false){return false}}}}return true};const Ht=(e,t)=>{const o=[];Lt(e,(n,s)=>{o.push(t(n,s,e))});return o};const It=(e,t)=>{const o=[];Lt(e,(n,s)=>{if(!t||t(n,s,e)){o.push(n)}});return o};const Pt=(e,t)=>{if(e){for(let o=0,n=e.length;o<n;o++){if(e[o]===t){return o}}}return-1};const Ft=(e,t,o,n)=>{let s=S(o)?e[0]:o;for(let o=0;o<e.length;o++){s=t.call(n,s,e[o],o)}return s};const Vt=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){if(t.call(o,e[n],n,e)){return n}}return-1};const jt=e=>e[e.length-1];const Zt=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:R(s),isiPhone:R(r),isTablet:R(i),isPhone:R(l),isTouch:R(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:R(d),isDesktop:R(u)}};const Ut=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const qt=(e,t)=>{const o=Ut(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return Gt(n(1),n(2))};const $t=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return Wt()}return qt(e,o)};const Wt=()=>Gt(0,0);const Gt=(e,t)=>({major:e,minor:t});const Kt={nu:Gt,detect:$t,unknown:Wt};const Yt=(e,t)=>ve(t.brands,t=>{const o=t.brand.toLowerCase();return ae(e,e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:Kt.nu(parseInt(t.version,10),0)}))});const Xt=(e,t)=>{const o=String(t).toLowerCase();return ae(e,e=>e.search(o))};const Jt=(e,t)=>Xt(e,t).map(e=>{const o=Kt.detect(e.versionRegexes,t);return{current:e.name,version:o}});const Qt=(e,t)=>Xt(e,t).map(e=>{const o=Kt.detect(e.versionRegexes,t);return{current:e.name,version:o}});const eo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const to=e=>t=>gt(t,e);const oo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>gt(e,"edge/")&&gt(e,"chrome")&&gt(e,"safari")&&gt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,eo],search:e=>gt(e,"chrome")&&!gt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>gt(e,"msie")||gt(e,"trident")},{name:"Opera",versionRegexes:[eo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:to("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:to("firefox")},{name:"Safari",versionRegexes:[eo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(gt(e,"safari")||gt(e,"mobile/"))&&gt(e,"applewebkit")}];const no=[{name:"Windows",search:to("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>gt(e,"iphone")||gt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:to("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:to("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:to("linux"),versionRegexes:[]},{name:"Solaris",search:to("sunos"),versionRegexes:[]},{name:"FreeBSD",search:to("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:to("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const so={browsers:R(oo),oses:R(no)};const ro="Edge";const ao="Chromium";const co="IE";const io="Opera";const lo="Firefox";const uo="Safari";const fo=()=>mo({current:undefined,version:Kt.unknown()});const mo=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(ro),isChromium:n(ao),isIE:n(co),isOpera:n(io),isFirefox:n(lo),isSafari:n(uo)}};const go={unknown:fo,nu:mo,edge:R(ro),chromium:R(ao),ie:R(co),opera:R(io),firefox:R(lo),safari:R(uo)};const po="Windows";const ho="iOS";const yo="Android";const bo="Linux";const vo="macOS";const ko="Solaris";const wo="FreeBSD";const _o="ChromeOS";const xo=()=>Co({current:undefined,version:Kt.unknown()});const Co=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(po),isiOS:n(ho),isAndroid:n(yo),isMacOS:n(vo),isLinux:n(bo),isSolaris:n(ko),isFreeBSD:n(wo),isChromeOS:n(_o)}};const So={unknown:xo,nu:Co,windows:R(po),ios:R(ho),android:R(yo),linux:R(bo),macos:R(vo),solaris:R(ko),freebsd:R(wo),chromeos:R(_o)};const zo=(e,t,o)=>{const n=so.browsers();const s=so.oses();const r=t.bind(e=>Yt(n,e)).orThunk(()=>Jt(n,e)).fold(go.unknown,go.nu);const a=Qt(s,e).fold(So.unknown,So.nu);const c=Zt(a,r,e,o);return{browser:r,os:a,deviceType:c}};const To={detect:zo};const Eo=e=>window.matchMedia(e).matches;let Oo=Tt(()=>To.detect(window.navigator.userAgent,U.from(window.navigator.userAgentData),Eo));const Ao=()=>Oo();const Do=(e,t)=>at(e,t);const Mo=(e,t)=>{const o=Do(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const No=Object.getPrototypeOf;const Ro=e=>Mo("HTMLElement",e);const Bo=e=>{const t=at("ownerDocument.defaultView",e);return k(e)&&(Ro(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(No(e).constructor.name))};const Lo=window.navigator.userAgent;const Ho=Ao();const Io=Ho.browser;const Po=Ho.os;const Fo=Ho.deviceType;const Vo=Lo.indexOf("Windows Phone")!==-1;const jo={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Io.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Io.isIE(),windowsPhone:Vo,browser:{current:Io.current,version:Io.version,isChromium:Io.isChromium,isEdge:Io.isEdge,isFirefox:Io.isFirefox,isIE:Io.isIE,isOpera:Io.isOpera,isSafari:Io.isSafari},os:{current:Po.current,version:Po.version,isAndroid:Po.isAndroid,isChromeOS:Po.isChromeOS,isFreeBSD:Po.isFreeBSD,isiOS:Po.isiOS,isLinux:Po.isLinux,isMacOS:Po.isMacOS,isSolaris:Po.isSolaris,isWindows:Po.isWindows},deviceType:{isDesktop:Fo.isDesktop,isiPad:Fo.isiPad,isiPhone:Fo.isiPhone,isPhone:Fo.isPhone,isTablet:Fo.isTablet,isTouch:Fo.isTouch,isWebView:Fo.isWebView}};const Zo=/^\s*|\s*$/g;const Uo=e=>z(e)?"":(""+e).replace(Zo,"");const qo=(e,t)=>{if(!t){return e!==undefined}if(t==="array"&&Rt(e)){return true}return typeof e===t};const $o=(e,t,o={})=>{const n=v(e)?e.split(t||","):e||[];let s=n.length;while(s--){o[n[s]]={}}return o};const Wo=Ne;const Go=(e,...t)=>{for(let o=0;o<t.length;o++){const n=t[o];for(const t in n){if(Ne(n,t)){const o=n[t];if(o!==undefined){e[t]=o}}}}return e};const Ko=function(e,t,o,n){n=n||this;if(e){if(o){e=e[o]}Lt(e,(e,s)=>{if(t.call(n,e,s,o)===false){return false}else{Ko(e,t,o,n);return true}})}};const Yo=(e,t=window)=>{const o=e.split(".");for(let e=0,n=o.length;e<n;e++){t=t[o[e]];if(!t){break}}return t};const Xo=(e,t)=>{if(_(e)){return e}else if(e===""){return[]}else{return Ht(e.split(t||","),Uo)}};const Jo=e=>{const t=jo.cacheSuffix;if(t){e+=(e.indexOf("?")===-1?"?":"&")+t}return e};const Qo={trim:Uo,isArray:Rt,is:qo,toArray:Bt,makeMap:$o,each:Lt,map:Ht,grep:It,inArray:Pt,hasOwn:Wo,extend:Go,walk:Ko,resolve:Yo,explode:Xo,_addCacheSuffix:Jo};const en=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return nn(n.childNodes[0])};const tn=(e,t)=>{const o=t||document;const n=o.createElement(e);return nn(n)};const on=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return nn(n)};const nn=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const sn=(e,t,o)=>U.from(e.dom.elementFromPoint(t,o)).map(nn);const rn={fromHtml:en,fromTag:tn,fromText:on,fromDom:nn,fromPoint:sn};const an=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,o)=>{e.setStart(t.dom,o)},t=>{e.setStartAfter(t.dom)})};const cn=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,o)=>{e.setEnd(t.dom,o)},t=>{e.setEndAfter(t.dom)})};const ln=(e,t,o)=>{const n=e.document.createRange();an(n,t);cn(n,o);return n};const dn=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const un=He.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const fn=(e,t,o)=>t(rn.fromDom(o.startContainer),o.startOffset,rn.fromDom(o.endContainer),o.endOffset);const mn=(e,t)=>t.match({domRange:e=>({ltr:R(e),rtl:U.none}),relative:(t,o)=>({ltr:Tt(()=>ln(e,t,o)),rtl:Tt(()=>U.some(ln(e,o,t)))}),exact:(t,o,n,s)=>({ltr:Tt(()=>dn(e,t,o,n,s)),rtl:Tt(()=>U.some(dn(e,n,s,t,o)))})});const gn=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter(e=>e.collapsed===false);return n.map(e=>un.rtl(rn.fromDom(e.endContainer),e.endOffset,rn.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>fn(e,un.ltr,o))}else{return fn(e,un.ltr,o)}};const pn=(e,t)=>{const o=mn(e,t);return gn(e,o)};un.ltr;un.rtl;const hn=8;const yn=9;const bn=11;const vn=1;const kn=3;const wn=(e,t)=>{const o=e.dom;if(o.nodeType!==vn){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const _n=e=>e.nodeType!==vn&&e.nodeType!==yn&&e.nodeType!==bn||e.childElementCount===0;const xn=(e,t)=>{const o=t===undefined?document:t.dom;return _n(o)?[]:J(o.querySelectorAll(e),rn.fromDom)};const Cn=(e,t)=>{const o=t===undefined?document:t.dom;return _n(o)?U.none():U.from(o.querySelector(e)).map(rn.fromDom)};const Sn=(e,t)=>e.dom===t.dom;const zn=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const Tn=(e,t)=>{const o=[];const n=e=>{o.push(e);return t(e)};let s=t(e);do{s=s.bind(n)}while(s.isSome());return o};const En=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const On=e=>e.dom.nodeType;const An=e=>t=>On(t)===e;const Dn=e=>On(e)===hn||En(e)==="#comment";const Mn=e=>Nn(e)&&Bo(e.dom);const Nn=An(vn);const Rn=An(kn);const Bn=An(yn);const Ln=An(bn);const Hn=e=>t=>Nn(t)&&En(t)===e;const In=e=>rn.fromDom(e.dom.ownerDocument);const Pn=e=>Bn(e)?e:In(e);const Fn=e=>rn.fromDom(Pn(e).dom.documentElement);const Vn=e=>rn.fromDom(Pn(e).dom.defaultView);const jn=e=>U.from(e.dom.parentNode).map(rn.fromDom);const Zn=e=>U.from(e.dom.parentElement).map(rn.fromDom);const Un=(e,t)=>{const o=E(t)?t:j;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=rn.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const qn=e=>{const t=t=>oe(t,t=>!Sn(e,t));return jn(e).map(Yn).map(t).getOr([])};const $n=e=>U.from(e.dom.previousSibling).map(rn.fromDom);const Wn=e=>U.from(e.dom.nextSibling).map(rn.fromDom);const Gn=e=>ue(Tn(e,$n));const Kn=e=>Tn(e,Wn);const Yn=e=>J(e.dom.childNodes,rn.fromDom);const Xn=(e,t)=>{const o=e.dom.childNodes;return U.from(o[t]).map(rn.fromDom)};const Jn=e=>Xn(e,0);const Qn=e=>Xn(e,e.dom.childNodes.length-1);const es=e=>e.dom.childNodes.length;const ts=e=>{const t=e.dom.head;if(t===null||t===undefined){throw new Error("Head is not available yet")}return rn.fromDom(t)};const os=e=>Ln(e)&&T(e.dom.host);const ns=e=>rn.fromDom(e.dom.getRootNode());const ss=e=>os(e)?e:ts(Pn(e));const rs=e=>os(e)?e:rn.fromDom(Pn(e).dom.body);const as=e=>{const t=ns(e);return os(t)?U.some(t):U.none()};const cs=e=>rn.fromDom(e.dom.host);const is=e=>{if(T(e.target)){const t=rn.fromDom(e.target);if(Nn(t)&&ls(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return he(t)}}}}return U.from(e.target)};const ls=e=>T(e.dom.shadowRoot);const ds=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const us=e=>{const t=rn.fromDom(is(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=M(n,o);return ds(t,e.clientX,e.clientY,o,n,s,e)};const fs=(e,t)=>o=>{if(e(o)){t(us(o))}};const ms=(e,t,o,n,s)=>{const r=fs(o,n);e.dom.addEventListener(t,r,s);return{unbind:H(ps,e,t,r,s)}};const gs=(e,t,o,n)=>ms(e,t,o,n,false);const ps=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const hs=Z;const ys=(e,t,o)=>gs(e,t,hs,o);const bs=()=>rn.fromDom(document);const vs=(e,t=false)=>e.dom.focus({preventScroll:t});const ks=e=>{const t=ns(e).dom;return e.dom===t.activeElement};const ws=(e=bs())=>U.from(e.dom.activeElement).map(rn.fromDom);const _s=e=>ws(ns(e)).filter(t=>e.dom.contains(t.dom));const xs=(e,t)=>{const o=jn(e);o.each(o=>{o.dom.insertBefore(t.dom,e.dom)})};const Cs=(e,t)=>{const o=Wn(e);o.fold(()=>{const o=jn(e);o.each(e=>{zs(e,t)})},e=>{xs(e,t)})};const Ss=(e,t)=>{const o=Jn(e);o.fold(()=>{zs(e,t)},o=>{e.dom.insertBefore(t.dom,o.dom)})};const zs=(e,t)=>{e.dom.appendChild(t.dom)};const Ts=(e,t)=>{xs(e,t);zs(t,e)};const Es=(e,t)=>{Q(t,(o,n)=>{const s=n===0?e:t[n-1];Cs(s,o)})};const Os=(e,t)=>{Q(t,t=>{zs(e,t)})};const As=(e,t,o)=>{if(v(o)||C(o)||O(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Ds=(e,t,o)=>{As(e.dom,t,o)};const Ms=(e,t)=>{const o=e.dom;xe(t,(e,t)=>{As(o,t,e)})};const Ns=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const Rs=(e,t)=>U.from(Ns(e,t));const Bs=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};const Ls=(e,t)=>{e.dom.removeAttribute(t)};const Hs=e=>{const t=e.dom.attributes;return t===undefined||t===null||t.length===0};const Is=e=>se(e.dom.attributes,(e,t)=>{e[t.name]=t.value;return e},{});const Ps=e=>{e.dom.textContent="";Q(Yn(e),e=>{Fs(e)})};const Fs=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const Vs=e=>{const t=Yn(e);if(t.length>0){Es(e,t)}Fs(e)};const js=(e,t)=>rn.fromDom(e.dom.cloneNode(t));const Zs=e=>js(e,false);const Us=e=>js(e,true);const qs=(e,t)=>{const o=rn.fromTag(t);const n=Is(e);Ms(o,n);return o};const $s=(e,t)=>{const o=qs(e,t);Cs(e,o);const n=Yn(e);Os(o,n);Fs(e);return o};const Ws=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return Yn(rn.fromDom(n))};const Gs=e=>J(e,rn.fromDom);const Ks=e=>e.dom.innerHTML;const Ys=(e,t)=>{const o=In(e);const n=o.dom;const s=rn.fromDom(n.createDocumentFragment());const r=Ws(t,n);Os(s,r);Ps(e);zs(e,s)};const Xs=e=>{const t=rn.fromTag("div");const o=rn.fromDom(e.dom.cloneNode(true));zs(t,o);return Ks(t)};const Js=e=>e.style!==undefined&&E(e.style.getPropertyValue);const Qs=e=>{const t=Rn(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return as(rn.fromDom(t)).fold(()=>o.body.contains(t),N(Qs,cs))};const er=(e,t,o)=>{if(!v(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Js(e)){e.style.setProperty(t,o)}};const tr=(e,t)=>{if(Js(e)){e.style.removeProperty(t)}};const or=(e,t,o)=>{const n=e.dom;er(n,t,o)};const nr=(e,t)=>{const o=e.dom;xe(t,(e,t)=>{er(o,t,e)})};const sr=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Qs(e)?rr(o,t):s};const rr=(e,t)=>Js(e)?e.style.getPropertyValue(t):"";const ar=(e,t)=>{const o=e.dom;const n=rr(o,t);return U.from(n).filter(e=>e.length>0)};const cr=e=>{const t={};const o=e.dom;if(Js(o)){for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}}return t};const ir=(e,t)=>{const o=e.dom;tr(o,t);if(Qe(Rs(e,"style").map(bt),"")){Ls(e,"style")}};const lr=e=>e.dom.offsetWidth;const dr=(e,t)=>{const o=(t,o)=>{if(!O(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(Js(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=sr(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>se(t,(t,o)=>{const n=sr(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s},0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const ur=dr("height",e=>{const t=e.dom;return Qs(e)?t.getBoundingClientRect().height:t.offsetHeight});const fr=e=>ur.get(e);const mr=(e,t)=>{const o=(o,n)=>mr(e+o,t+n);return{left:e,top:t,translate:o}};const gr=mr;const pr=e=>{const t=e.getBoundingClientRect();return gr(t.left,t.top)};const hr=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const yr=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return gr(o.offsetLeft,o.offsetTop)}const r=hr(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=hr(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=hr(s.clientTop,o.clientTop);const i=hr(s.clientLeft,o.clientLeft);return br(e).translate(a-i,r-c)};const br=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return gr(n.offsetLeft,n.offsetTop)}if(!Qs(e)){return gr(0,0)}return pr(t)};const vr=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return gr(o,n)};const kr=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollTo(e,t)}};const wr=(e,t)=>{const o=Ao().browser.isSafari();if(o&&E(e.dom.scrollIntoViewIfNeeded)){e.dom.scrollIntoViewIfNeeded(false)}else{e.dom.scrollIntoView(t)}};const _r=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?U.from(t.dom.nodeValue):U.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const xr=(e,t)=>{const o=t||document;const n=o.createDocumentFragment();Q(e,e=>{n.appendChild(e.dom)});return rn.fromDom(n)};const Cr=_r(Rn,"text");const Sr=e=>Cr.get(e);const zr=e=>Cr.getOption(e);const Tr=(e,t)=>Cr.set(e,t);const Er=(e,t)=>{const o=Ns(e,t);return o===undefined||o===""?[]:o.split(" ")};const Or=(e,t,o)=>{const n=Er(e,t);const s=n.concat([o]);Ds(e,t,s.join(" "));return true};const Ar=(e,t,o)=>{const n=oe(Er(e,t),e=>e!==o);if(n.length>0){Ds(e,t,n.join(" "))}else{Ls(e,t)}return false};var Dr=(e,t,o,n,s)=>{if(e(o,n)){return U.some(o)}else if(E(s)&&s(o)){return U.none()}else{return t(o,n,s)}};const Mr=(e,t,o)=>{let n=e.dom;const s=E(o)?o:j;while(n.parentNode){n=n.parentNode;const e=rn.fromDom(n);if(t(e)){return U.some(e)}else if(s(e)){break}}return U.none()};const Nr=(e,t,o)=>{const n=(e,t)=>t(e);return Dr(n,Mr,e,t,o)};const Rr=(e,t)=>{const o=e.dom;if(!o.parentNode){return U.none()}return Br(rn.fromDom(o.parentNode),o=>!Sn(e,o)&&t(o))};const Br=(e,t)=>{const o=e=>t(rn.fromDom(e));const n=ae(e.dom.childNodes,o);return n.map(rn.fromDom)};const Lr=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=rn.fromDom(e.childNodes[n]);if(t(s)){return U.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return U.none()};return o(e.dom)};const Hr=(e,t,o)=>Mr(e,e=>wn(e,t),o);const Ir=(e,t)=>Cn(t,e);const Pr=(e,t,o)=>{const n=(e,t)=>wn(e,t);return Dr(n,Hr,e,t,o)};const Fr=e=>e.dom.classList!==undefined;const Vr=e=>Er(e,"class");const jr=(e,t)=>Or(e,"class",t);const Zr=(e,t)=>Ar(e,"class",t);const Ur=(e,t)=>{if(Y(Vr(e),t)){return Zr(e,t)}else{return jr(e,t)}};const qr=(e,t)=>{if(Fr(e)){e.dom.classList.add(t)}else{jr(e,t)}};const $r=e=>{const t=Fr(e)?e.dom.classList:Vr(e);if(t.length===0){Ls(e,"class")}};const Wr=(e,t)=>{if(Fr(e)){const o=e.dom.classList;o.remove(t)}else{Zr(e,t)}$r(e)};const Gr=(e,t)=>{const o=Fr(e)?e.dom.classList.toggle(t):Ur(e,t);$r(e);return o};const Kr=(e,t)=>Fr(e)&&e.dom.classList.contains(t);const Yr=(e,t)=>{Q(t,t=>{qr(e,t)})};const Xr=(e,t)=>{Q(t,t=>{Wr(e,t)})};const Jr=e=>Pr(e,"[contenteditable]");const Qr=(e,t=false)=>{if(Qs(e)){return e.dom.isContentEditable}else{return Jr(e).fold(R(t),e=>ea(e)==="true")}};const ea=e=>e.dom.contentEditable;const ta=(e,t)=>{e.dom.contentEditable=t?"true":"false"};const oa=(e,t)=>oe(Yn(e),t);const na=(e,t)=>{let o=[];Q(Yn(e),e=>{if(t(e)){o=o.concat([e])}o=o.concat(na(e,t))});return o};const sa=(e,t)=>xn(t,e);const ra=(e,t,o)=>Mr(e,t,o).isSome();const aa=(e,t)=>Rr(e,t).isSome();const ca=(e,t)=>Lr(e,t).isSome();const ia=(e,t,o)=>Hr(e,t,o).isSome();const la=e=>E(e)?e:j;const da=(e,t,o)=>{let n=e.dom;const s=la(o);while(n.parentNode){n=n.parentNode;const e=rn.fromDom(n);const o=t(e);if(o.isSome()){return o}else if(s(e)){break}}return U.none()};const ua=(e,t,o)=>{const n=t(e);const s=la(o);return n.orThunk(()=>s(e)?U.none():da(e,t,s))};const fa=e=>zr(e).filter(e=>e.trim().length!==0||e.indexOf(Ot)>-1).isSome();const ma=e=>Mn(e)&&Ns(e,"contenteditable")==="false";const ga=["img","br"];const pa=e=>{const t=fa(e);return t||Y(ga,En(e))||ma(e)};const ha=e=>Lr(e,pa);const ya=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const ba={create:ya};const va=He.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const ka=(e,t,o,n)=>e.fold(t,o,n);const wa=e=>e.fold(B,B,B);const _a=va.before;const xa=va.on;const Ca=va.after;const Sa={before:_a,on:xa,after:Ca,cata:ka,getStart:wa};const za=He.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Ta=e=>za.exact(e.start,e.soffset,e.finish,e.foffset);const Ea=e=>e.match({domRange:e=>rn.fromDom(e.startContainer),relative:(e,t)=>Sa.getStart(e),exact:(e,t,o,n)=>e});const Oa=za.domRange;const Aa=za.relative;const Da=za.exact;const Ma=e=>{const t=Ea(e);return Vn(t)};const Na=ba.create;const Ra={domRange:Oa,relative:Aa,exact:Da,exactFromRange:Ta,getWin:Ma,range:Na};const Ba=(e,t,o)=>{var n;return U.from((n=e.caretPositionFromPoint)===null||n===void 0?void 0:n.call(e,t,o)).bind(t=>{if(t.offsetNode===null){return U.none()}const o=e.createRange();o.setStart(t.offsetNode,t.offset);o.collapse();return U.some(o)})};const La=(e,t,o)=>{var n;return U.from((n=e.caretRangeFromPoint)===null||n===void 0?void 0:n.call(e,t,o))};const Ha=(e,t,o)=>{if(e.caretPositionFromPoint){return Ba(e,t,o)}else if(e.caretRangeFromPoint){return La(e,t,o)}else{return U.none()}};const Ia=(e,t,o)=>{const n=e.document;return Ha(n,t,o).map(e=>ba.create(rn.fromDom(e.startContainer),e.startOffset,rn.fromDom(e.endContainer),e.endOffset))};const Pa=(e,t)=>{const o=En(e);if("input"===o){return Sa.after(e)}else if(!Y(["br","img"],o)){return Sa.on(e,t)}else{return t===0?Sa.before(e):Sa.after(e)}};const Fa=(e,t)=>{const o=e.fold(Sa.before,Pa,Sa.after);const n=t.fold(Sa.before,Pa,Sa.after);return Ra.relative(o,n)};const Va=(e,t,o,n)=>{const s=Pa(e,t);const r=Pa(o,n);return Ra.relative(s,r)};const ja=e=>e.match({domRange:e=>{const t=rn.fromDom(e.startContainer);const o=rn.fromDom(e.endContainer);return Va(t,e.startOffset,o,e.endOffset)},relative:Fa,exact:Va});const Za=e=>{const t=Ra.getWin(e).dom;const o=(e,o,n,s)=>dn(t,e,o,n,s);const n=ja(e);return pn(t,n).match({ltr:o,rtl:o})};const Ua=(e,t,o)=>Ia(e,t,o);const qa=e=>{const t=e===undefined?window:e;if(Ao().browser.isFirefox()){return U.none()}else{return U.from(t.visualViewport)}};const $a=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Wa=e=>{const t=e===undefined?window:e;const o=t.document;const n=vr(rn.fromDom(o));return qa(t).fold(()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return $a(n.left,n.top,o,s)},e=>$a(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height))};class Ga{constructor(e,t){this.node=e;this.rootNode=t;this.current=this.current.bind(this);this.next=this.next.bind(this);this.prev=this.prev.bind(this);this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){this.node=this.findSibling(this.node,"firstChild","nextSibling",e);return this.node}prev(e){this.node=this.findSibling(this.node,"lastChild","previousSibling",e);return this.node}prev2(e){this.node=this.findPreviousNode(this.node,e);return this.node}findSibling(e,t,o,n){if(e){if(!n&&e[t]){return e[t]}if(e!==this.rootNode){let t=e[o];if(t){return t}for(let n=e.parentNode;n&&n!==this.rootNode;n=n.parentNode){t=n[o];if(t){return t}}}}return undefined}findPreviousNode(e,t){if(e){const o=e.previousSibling;if(this.rootNode&&o===this.rootNode){return}if(o){if(!t){for(let e=o.lastChild;e;e=e.lastChild){if(!e.lastChild){return e}}}return o}const n=e.parentNode;if(n&&n!==this.rootNode){return n}}return undefined}}const Ka=/^[ \t\r\n]*$/;const Ya=e=>Ka.test(e);const Xa=e=>{for(const t of e){if(!At(t)){return false}}return true};const Ja=e=>" \f\t\v".indexOf(e)!==-1;const Qa=e=>e==="\n"||e==="\r";const ec=(e,t)=>t<e.length&&t>=0?Qa(e[t]):false;const tc=(e,t=4,o=true,n=true)=>{const s=xt(" ",t);const r=e.replace(/\t/g,s);const a=se(r,(e,t)=>{if(Ja(t)||t===Ot){if(e.pcIsSpace||e.str===""&&o||e.str.length===r.length-1&&n||ec(r,e.str.length+1)){return{pcIsSpace:false,str:e.str+Ot}}else{return{pcIsSpace:true,str:e.str+" "}}}else{return{pcIsSpace:Qa(t),str:e.str+t}}},{pcIsSpace:false,str:""});return a.str};const oc=e=>t=>!!t&&t.nodeType===e;const nc=e=>!!e&&!Object.getPrototypeOf(e);const sc=oc(1);const rc=e=>sc(e)&&Mn(rn.fromDom(e));const ac=e=>sc(e)&&e.namespaceURI==="http://www.w3.org/2000/svg";const cc=e=>{const t=e.toLowerCase();return e=>T(e)&&e.nodeName.toLowerCase()===t};const ic=e=>{const t=e.map(e=>e.toLowerCase());return e=>{if(e&&e.nodeName){const o=e.nodeName.toLowerCase();return Y(t,o)}return false}};const lc=(e,t)=>{const o=t.toLowerCase().split(" ");return t=>{if(sc(t)){const n=t.ownerDocument.defaultView;if(n){for(let s=0;s<o.length;s++){const r=n.getComputedStyle(t,null);const a=r?r.getPropertyValue(e):null;if(a===o[s]){return true}}}}return false}};const dc=e=>t=>sc(t)&&t.hasAttribute(e);const uc=e=>sc(e)&&e.hasAttribute("data-mce-bogus");const fc=e=>sc(e)&&e.getAttribute("data-mce-bogus")==="all";const mc=e=>sc(e)&&e.tagName==="TABLE";const gc=e=>t=>{if(rc(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false};const pc=ic(["textarea","input"]);const hc=oc(3);const yc=oc(4);const bc=oc(7);const vc=oc(8);const kc=oc(9);const wc=oc(11);const _c=cc("br");const xc=cc("img");const Cc=cc("a");const Sc=gc("true");const zc=gc("false");const Tc=e=>rc(e)&&e.isContentEditable&&T(e.parentElement)&&!e.parentElement.isContentEditable;const Ec=ic(["td","th"]);const Oc=ic(["td","th","caption"]);const Ac=ic(["video","audio","object","embed"]);const Dc=cc("li");const Mc=cc("details");const Nc=cc("summary");const Rc={skipBogus:true,includeZwsp:false,checkRootAsContent:false};const Bc=(e,t,o)=>{const n=rn.fromDom(t);const s=rn.fromDom(e);const r=o.getWhitespaceElements();const a=e=>Ne(r,En(e));return ra(s,a,H(Sn,n))};const Lc=e=>sc(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"));const Hc=(e,t)=>sc(e)&&Ne(t.getNonEmptyElements(),e.nodeName);const Ic=dc("data-mce-bookmark");const Pc=e=>Zn(rn.fromDom(e)).exists(e=>!Qr(e));const Fc=(e,t,o)=>Ya(e.data)&&!Bc(e,t,o);const Vc=(e,t,o,n)=>hc(e)&&!Fc(e,t,o)&&(!n.includeZwsp||!Xa(e.data));const jc=(e,t,o,n)=>E(n.isContent)&&n.isContent(t)||Hc(t,e)||Ic(t)||Lc(t)||Vc(t,o,e,n)||zc(t)||Sc(t)&&Pc(t);const Zc=(e,t,o)=>{const n={...Rc,...o};if(n.checkRootAsContent){if(jc(e,t,t,n)){return false}}let s=t.firstChild;let r=0;if(!s){return true}const a=new Ga(s,t);do{if(n.skipBogus&&sc(s)){const e=s.getAttribute("data-mce-bogus");if(e){s=a.next(e==="all");continue}}if(vc(s)){s=a.next(true);continue}if(_c(s)){r++;s=a.next();continue}if(jc(e,s,t,n)){return false}s=a.next()}while(s);return r<=1};const Uc=(e,t,o)=>Zc(e,t.dom,{checkRootAsContent:true,...o});const qc=(e,t,o)=>jc(e,t,t,{includeZwsp:Rc.includeZwsp,...o});const $c=e=>{const t=e.toLowerCase();if(t==="svg"){return"svg"}else if(t==="math"){return"math"}else{return"html"}};const Wc=e=>$c(e)!=="html";const Gc=e=>Wc(e.nodeName);const Kc=e=>$c(e.nodeName);const Yc=["svg","math"];const Xc=()=>{const e=dt();const t=()=>e.get().map(Kc).getOr("html");const o=o=>{if(Gc(o)){e.set(o)}else if(e.get().exists(e=>!e.contains(o))){e.clear()}return t()};const n=()=>{e.clear()};return{track:o,current:t,reset:n}};const Jc="data-mce-block";const Qc=e=>oe(we(e),e=>!/[A-Z]/.test(e));const ei=e=>J(Qc(e),e=>{const t=CSS.escape(e);return`${t}:`+J(Yc,e=>`not(${e} ${t})`).join(":")}).join(",");const ti=(e,t)=>{if(T(t.querySelector(e))){t.setAttribute(Jc,"true");if(t.getAttribute("data-mce-selected")==="inline-boundary"){t.removeAttribute("data-mce-selected")}return true}else{t.removeAttribute(Jc);return false}};const oi=(e,t)=>{const o=ei(e.getTransparentElements());const n=ei(e.getBlockElements());return oe(t.querySelectorAll(o),e=>ti(n,e))};const ni=(e,t,o)=>{var n;const s=o?"lastChild":"firstChild";for(let o=t[s];o;o=o[s]){if(Zc(e,o,{checkRootAsContent:true})){(n=o.parentNode)===null||n===void 0?void 0:n.removeChild(o);return}}};const si=(e,t,o)=>{const n=document.createRange();const s=t.parentNode;if(s){n.setStartBefore(t);n.setEndBefore(o);const r=n.extractContents();ni(e,r,true);n.setStartAfter(o);n.setEndAfter(t);const a=n.extractContents();ni(e,a,false);if(!Zc(e,r,{checkRootAsContent:true})){s.insertBefore(r,t)}if(!Zc(e,o,{checkRootAsContent:true})){s.insertBefore(o,t)}if(!Zc(e,a,{checkRootAsContent:true})){s.insertBefore(a,t)}s.removeChild(t)}};const ri=(e,t,o)=>{const n=e.getBlockElements();const s=rn.fromDom(t);const r=e=>En(e)in n;const a=e=>Sn(e,s);Q(Gs(o),t=>{Mr(t,r,a).each(o=>{const n=oa(t,t=>r(t)&&!e.isValidChild(En(o),En(t)));if(n.length>0){const t=Zn(o);Q(n,t=>{Mr(t,r,a).each(o=>{si(e,o.dom,t.dom)})});t.each(t=>oi(e,t.dom))}})})};const ai=(e,t,o)=>{Q([...o,...mi(e,t)?[t]:[]],t=>Q(sa(rn.fromDom(t),t.nodeName.toLowerCase()),t=>{if(gi(e,t.dom)){Vs(t)}}))};const ci=(e,t)=>{const o=oi(e,t);ri(e,t,o);ai(e,t,o)};const ii=(e,t)=>{if(fi(e,t)){const o=ei(e.getBlockElements());ti(o,t)}};const li=(e,t,o)=>{const n=e=>Sn(e,rn.fromDom(t));const s=Un(rn.fromDom(o),n);pe(s,s.length-2).filter(Nn).fold(()=>ci(e,t),t=>ci(e,t.dom))};const di=e=>e.hasAttribute(Jc);const ui=(e,t)=>Ne(e.getTransparentElements(),t);const fi=(e,t)=>sc(t)&&ui(e,t.nodeName);const mi=(e,t)=>fi(e,t)&&di(t);const gi=(e,t)=>fi(e,t)&&!di(t);const pi=(e,t)=>t.type===1&&ui(e,t.name)&&v(t.attr(Jc));const hi=Ao().browser;const yi=e=>ae(e,Nn);const bi=e=>{if(hi.isFirefox()&&En(e)==="table"){return yi(Yn(e)).filter(e=>En(e)==="caption").bind(e=>yi(Kn(e)).map(t=>{const o=t.dom.offsetTop;const n=e.dom.offsetTop;const s=e.dom.offsetHeight;return o<=n?-s:0})).getOr(0)}else{return 0}};const vi=(e,t)=>e.children&&Y(e.children,t);const ki=(e,t,o)=>{let n=0,s=0;const r=e.ownerDocument;o=o?o:e;if(t){if(o===e&&t.getBoundingClientRect&&sr(rn.fromDom(e),"position")==="static"){const o=t.getBoundingClientRect();n=o.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft;s=o.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop;return{x:n,y:s}}let a=t;while(a&&a!==o&&a.nodeType&&!vi(a,o)){const e=a;n+=e.offsetLeft||0;s+=e.offsetTop||0;a=e.offsetParent}a=t.parentNode;while(a&&a!==o&&a.nodeType&&!vi(a,o)){n-=a.scrollLeft||0;s-=a.scrollTop||0;a=a.parentNode}s+=bi(rn.fromDom(t))}return{x:n,y:s}};const wi=(e,t={})=>{let o=0;const n={};const s=rn.fromDom(e);const r=Pn(s);const a=e=>{t.referrerPolicy=e};const c=e=>{t.contentCssCors=e};const i=e=>{zs(ss(s),e)};const l=e=>{const t=ss(s);Ir(t,"#"+e).each(Fs)};const d=e=>Me(n,e).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0}));const u=e=>new Promise((o,s)=>{let a;const c=Qo._addCacheSuffix(e);const l=d(c);n[c]=l;l.count++;const u=(e,t)=>{Q(e,V);l.status=t;l.passed=[];l.failed=[];if(a){a.onload=null;a.onerror=null;a=null}};const f=()=>u(l.passed,2);const m=()=>u(l.failed,3);if(o){l.passed.push(o)}if(s){l.failed.push(s)}if(l.status===1){return}if(l.status===2){f();return}if(l.status===3){m();return}l.status=1;const g=rn.fromTag("link",r.dom);Ms(g,{rel:"stylesheet",type:"text/css",id:l.id});if(t.contentCssCors){Ds(g,"crossOrigin","anonymous")}if(t.referrerPolicy){Ds(g,"referrerpolicy",t.referrerPolicy)}a=g.dom;a.onload=f;a.onerror=m;i(g);Ds(g,"href",c)});const f=(e,t)=>{const o=d(e);n[e]=o;o.count++;const s=rn.fromTag("style",r.dom);Ms(s,{rel:"stylesheet",type:"text/css",id:o.id,"data-mce-key":e});s.dom.innerHTML=t;i(s)};const m=e=>{const t=Promise.allSettled(J(e,e=>u(e).then(R(e))));return t.then(e=>{const t=te(e,e=>e.status==="fulfilled");if(t.fail.length>0){return Promise.reject(J(t.fail,e=>e.reason))}else{return J(t.pass,e=>e.value)}})};const g=e=>{const t=Qo._addCacheSuffix(e);Me(n,t).each(e=>{const o=--e.count;if(o===0){delete n[t];l(e.id)}})};const p=e=>{Me(n,e).each(t=>{const o=--t.count;if(o===0){delete n[e];l(t.id)}})};const h=e=>{Q(e,e=>{g(e)})};return{load:u,loadRawCss:f,loadAll:m,unload:g,unloadRawCss:p,unloadAll:h,_setReferrerPolicy:a,_setContentCssCors:c}};const _i=()=>{const e=new WeakMap;const t=(t,o)=>{const n=ns(t);const s=n.dom;return U.from(e.get(s)).getOrThunk(()=>{const t=wi(s,o);e.set(s,t);return t})};return{forElement:t}};const xi=_i();const Ci=e=>e.nodeName.toLowerCase()==="span";const Si=(e,t)=>T(e)&&(qc(t,e)||t.isInline(e.nodeName.toLowerCase()));const zi=(e,t,o)=>{const n=new Ga(e,t).prev(false);const s=new Ga(e,t).next(false);const r=S(n)||Si(n,o);const a=S(s)||Si(s,o);return r&&a};const Ti=e=>Ci(e)&&e.getAttribute("data-mce-type")==="bookmark";const Ei=(e,t,o)=>hc(e)&&e.data.length>0&&zi(e,t,o);const Oi=e=>sc(e)?e.childNodes.length>0:false;const Ai=e=>wc(e)||kc(e);const Di=(e,t,o,n)=>{var s;const r=n||t;if(sc(t)&&Ti(t)){return t}const a=t.childNodes;for(let t=a.length-1;t>=0;t--){Di(e,a[t],o,r)}if(sc(t)){const e=t.childNodes;if(e.length===1&&Ti(e[0])){(s=t.parentNode)===null||s===void 0?void 0:s.insertBefore(e[0],t)}}if(!Ai(t)&&!qc(o,t)&&!Oi(t)&&!Ei(t,r,o)){e.remove(t)}return t};const Mi=Qo.makeMap;const Ni=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;const Ri=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;const Bi=/[<>&\"\']/g;const Li=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi;const Hi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};const Ii={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"};const Pi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":`'`};const Fi=e=>{const t=rn.fromTag("div").dom;t.innerHTML=e;return t.textContent||t.innerText||e};const Vi=(e,t)=>{const o={};if(e){const n=e.split(",");t=t||10;for(let e=0;e<n.length;e+=2){const s=String.fromCharCode(parseInt(n[e],t));if(!Ii[s]){const t="&"+n[e+1]+";";o[s]=t;o[t]=s}}return o}else{return undefined}};const ji=Vi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,"+"5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,"+"5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,"+"5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,"+"68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,"+"6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,"+"6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,"+"75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,"+"7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,"+"7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,"+"sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,"+"st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,"+"t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,"+"tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,"+"u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,"+"81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,"+"8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,"+"8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,"+"8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,"+"8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,"+"nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,"+"rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,"+"Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,"+"80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,"+"811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);const Zi=(e,t)=>e.replace(t?Ni:Ri,e=>Ii[e]||e);const Ui=e=>(""+e).replace(Bi,e=>Ii[e]||e);const qi=(e,t)=>e.replace(t?Ni:Ri,e=>{if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return Ii[e]||"&#"+e.charCodeAt(0)+";"});const $i=(e,t,o)=>{const n=o||ji;return e.replace(t?Ni:Ri,e=>Ii[e]||n[e]||e)};const Wi=(e,t)=>{const o=Vi(t)||ji;const n=(e,t)=>e.replace(t?Ni:Ri,e=>{if(Ii[e]!==undefined){return Ii[e]}if(o[e]!==undefined){return o[e]}if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return"&#"+e.charCodeAt(0)+";"});const s=(e,t)=>$i(e,t,o);const r=Mi(e.replace(/\+/g,","));if(r.named&&r.numeric){return n}if(r.named){if(t){return s}return $i}if(r.numeric){return qi}return Zi};const Gi=e=>e.replace(Li,(e,t)=>{if(t){if(t.charAt(0).toLowerCase()==="x"){t=parseInt(t.substr(1),16)}else{t=parseInt(t,10)}if(t>65535){t-=65536;return String.fromCharCode(55296+(t>>10),56320+(t&1023))}return Hi[t]||String.fromCharCode(t)}return Pi[e]||ji[e]||Fi(e)});const Ki={encodeRaw:Zi,encodeAllRaw:Ui,encodeNumeric:qi,encodeNamed:$i,getEncodeFunc:Wi,decode:Gi};const Yi=(e,t)=>{e=Qo.trim(e);return e?e.split(t||" "):[]};const Xi=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$");const Ji=e=>k(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]";const Qi=e=>{const t=e=>{if(_(e)){return J(e,t)}else if(Ji(e)){return new RegExp(e.source,e.flags)}else if(k(e)){return Ce(e,t)}else{return e}};return t(e)};const el=e=>{const t=/^(~)?(.+)$/;return le(Yi(e,","),e=>{const o=t.exec(e);if(o){const e=o[1]==="~";const t=e?"span":"div";const n=o[2];return[{cloneName:t,name:n}]}else{return[]}})};const tl=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]);const ol=e=>{let t;let o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul";o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd "+"label map noscript object q s samp script select small span strong sub sup "+"textarea u var #text #comment";if(e!=="html4"){const e="a ins del canvas map";t+=" article aside details dialog figure main header footer hgroup section nav "+e;o+=" audio canvas command data datalist mark meter output picture "+"progress time wbr video ruby bdi keygen svg"}if(e!=="html5-strict"){const e="acronym applet basefont big font strike tt";o=[o,e].join(" ");const n="center dir isindex noframes";t=[t,n].join(" ")}const n=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:n}};const nl=e=>{const{blockContent:t,phrasingContent:o,flowContent:n}=ol(e);const s=e=>Object.freeze(e.split(" "));return Object.freeze({blockContent:s(t),phrasingContent:s(o),flowContent:s(n)})};const sl={html4:Tt(()=>nl("html4")),html5:Tt(()=>nl("html5")),"html5-strict":Tt(()=>nl("html5-strict"))};const rl=(e,t)=>{const{blockContent:o,phrasingContent:n,flowContent:s}=sl[e]();if(t==="blocks"){return U.some(o)}else if(t==="phrasing"){return U.some(n)}else if(t==="flow"){return U.some(s)}else{return U.none()}};const al=e=>{const t=tl(e);const{phrasingContent:o,flowContent:n}=ol(e);const s={};const r=(e,t,o)=>{s[e]={attributes:me(t,R({})),attributesOrder:t,children:me(o,R({}))}};const a=(e,o="",n="")=>{const s=Yi(n);const a=Yi(e);let c=a.length;const i=[...t,...Yi(o)];while(c--){r(a[c],i.slice(),s)}};const c=(e,t)=>{const o=Yi(e);const n=Yi(t);let r=o.length;while(r--){const e=s[o[r]];for(let t=0,o=n.length;t<o;t++){e.attributes[n[t]]={};e.attributesOrder.push(n[t])}}};if(e!=="html5-strict"){const e="acronym applet basefont big font strike tt";Q(Yi(e),e=>{a(e,"",o)});const t="center dir isindex noframes";Q(Yi(t),e=>{a(e,"",n)})}a("html","manifest","head body");a("head","","base command link meta noscript script style title");a("title hr noscript br");a("base","href target");a("link","href rel media hreflang type sizes hreflang");a("meta","name http-equiv content charset");a("style","media type scoped");a("script","src async defer type charset");a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus "+"onhashchange onload onmessage onoffline ononline onpagehide onpageshow "+"onpopstate onresize onscroll onstorage onunload",n);a("dd div","",n);a("address dt caption","",e==="html4"?o:n);a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o);a("blockquote","cite",n);a("ol","reversed start type","li");a("ul","","li");a("li","value",n);a("dl","","dt dd");a("a","href target rel media hreflang type",e==="html4"?o:n);a("q","cite",o);a("ins del","cite datetime",n);a("img","src sizes srcset alt usemap ismap width height");a("iframe","src name width height",n);a("embed","src type width height");a("object","data type typemustmatch name usemap form width height",[n,"param"].join(" "));a("param","name value");a("map","name",[n,"area"].join(" "));a("area","alt coords shape href target rel media hreflang type");a("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":""));a("colgroup","span","col");a("col","span");a("tbody thead tfoot","","tr");a("tr","","td th");a("td","colspan rowspan headers",n);a("th","colspan rowspan headers scope abbr",n);a("form","accept-charset action autocomplete enctype method name novalidate target",n);a("fieldset","disabled form name",[n,"legend"].join(" "));a("label","form for",o);a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate "+"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?n:o);a("select","disabled form multiple name required size","option optgroup");a("optgroup","disabled label","option");a("option","disabled label selected value");a("textarea","cols dirname disabled form maxlength name readonly required rows wrap");a("menu","type label",[n,"li"].join(" "));a("noscript","",n);if(e!=="html4"){a("wbr");a("ruby","",[o,"rt rp"].join(" "));a("figcaption","",n);a("mark rt rp bdi","",o);a("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" "));a("canvas","width height",n);a("data","value",o);a("video","src crossorigin poster preload autoplay mediagroup loop "+"muted controls width height buffered",[n,"track source"].join(" "));a("audio","src crossorigin preload autoplay mediagroup loop muted controls "+"buffered volume",[n,"track source"].join(" "));a("picture","","img source");a("source","src srcset type media sizes");a("track","kind src srclang label default");a("datalist","",[o,"option"].join(" "));a("article section nav aside main header footer","",n);a("hgroup","","h1 h2 h3 h4 h5 h6");a("figure","",[n,"figcaption"].join(" "));a("time","datetime",o);a("dialog","open",n);a("command","type label icon disabled checked radiogroup command");a("output","for form name",o);a("progress","value max",o);a("meter","value min max low high optimum",o);a("details","open",[n,"summary"].join(" "));a("keygen","autofocus challenge disabled form keytype name");r("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])}if(e!=="html5-strict"){c("script","language xml:space");c("style","xml:space");c("object","declare classid code codebase codetype archive standby align border hspace vspace");c("embed","align name hspace vspace");c("param","valuetype type");c("a","charset name rev shape coords");c("br","clear");c("applet","codebase archive code object alt name width height align hspace vspace");c("img","name longdesc align border hspace vspace");c("iframe","longdesc frameborder marginwidth marginheight scrolling align");c("font basefont","size color face");c("input","usemap align");c("select");c("textarea");c("h1 h2 h3 h4 h5 h6 div p legend caption","align");c("ul","type compact");c("li","type");c("ol dl menu dir","compact");c("pre","width xml:space");c("hr","align noshade size width");c("isindex","prompt");c("table","summary width frame rules cellspacing cellpadding align bgcolor");c("col","width align char charoff valign");c("colgroup","width align char charoff valign");c("thead","align char charoff valign");c("tr","align char charoff valign bgcolor");c("th","axis align char charoff valign nowrap bgcolor width height");c("form","accept");c("td","abbr axis scope align char charoff valign nowrap bgcolor width height");c("tfoot","align char charoff valign");c("tbody","align char charoff valign");c("area","nohref");c("body","background bgcolor text link vlink alink")}if(e!=="html4"){c("input button select textarea","autofocus");c("input textarea","placeholder");c("a","download");c("link script img","crossorigin");c("img","loading");c("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")}if(e!=="html4"){Q([s.video,s.audio],e=>{delete e.children.audio;delete e.children.video})}Q(Yi("a form meter progress dfn"),e=>{if(s[e]){delete s[e].children[e]}});delete s.caption.children.table;delete s.script;return s};const cl=e=>e==="-"?"remove":"add";const il=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return U.from(t.exec(e)).map(e=>({preset:e[1]==="@",name:e[2]}))};const ll=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return le(Yi(e,","),e=>{const o=t.exec(e);if(o){const e=o[1];const t=e?cl(e):"replace";const n=o[2];const s=le(Yi(o[3],"|"),e=>il(e).toArray());return[{operation:t,name:n,validChildren:s}]}else{return[]}})};const dl=(e,t)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/;const n=/[*?+]/;const{attributes:s,attributesOrder:r}=t;return Q(Yi(e,"|"),e=>{const a=o.exec(e);if(a){const e={};const o=a[1];const c=a[2].replace(/[\\:]:/g,":");const i=a[3];const l=a[4];if(o==="!"){t.attributesRequired=t.attributesRequired||[];t.attributesRequired.push(c);e.required=true}if(o==="-"){delete s[c];r.splice(Qo.inArray(r,c),1);return}if(i){if(i==="="){t.attributesDefault=t.attributesDefault||[];t.attributesDefault.push({name:c,value:l});e.defaultValue=l}else if(i==="~"){t.attributesForced=t.attributesForced||[];t.attributesForced.push({name:c,value:l});e.forcedValue=l}else if(i==="<"){e.validValues=Qo.makeMap(l,"?")}}if(n.test(c)){const o=e;t.attributePatterns=t.attributePatterns||[];o.pattern=Xi(c);t.attributePatterns.push(o)}else{if(!s[c]){r.push(c)}s[c]=e}}})};const ul=(e,t)=>{xe(e.attributes,(e,o)=>{t.attributes[o]=e});t.attributesOrder.push(...e.attributesOrder)};const fl=(e,t)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return le(Yi(t,","),t=>{const n=o.exec(t);if(n){const t=n[1];const o=n[2];const s=n[3];const r=n[4];const a=n[5];const c={attributes:{},attributesOrder:[]};e.each(e=>ul(e,c));if(t==="#"){c.paddEmpty=true}else if(t==="-"){c.removeEmpty=true}if(r==="!"){c.removeEmptyAttrs=true}if(a){dl(a,c)}if(s){c.outputName=o}if(o==="@"){if(e.isNone()){e=U.some(c)}else{return[]}}return[s?{name:o,element:c,aliasName:s}:{name:o,element:c}]}else{return[]}})};const ml={};const gl=Qo.makeMap,pl=Qo.each,hl=Qo.extend,yl=Qo.explode;const bl=(e,t={})=>{const o=gl(e," ",gl(e.toUpperCase()," "));return hl(o,t)};const vl=e=>bl("td th li dt dd figcaption caption details summary",e.getTextBlockElements());const kl=(e,t)=>{if(e){const o={};if(v(e)){e={"*":e}}pl(e,(e,n)=>{o[n]=o[n.toUpperCase()]=t==="map"?gl(e,/[, ]/):yl(e,/[, ]/)});return o}else{return undefined}};const wl=(e={})=>{var t;const o={};const n={};let s=[];const r={};const a={};const c=(t,o,n)=>{const s=e[t];if(!s){let e=ml[t];if(!e){e=bl(o,n);ml[t]=e}return e}else{return gl(s,/[, ]/,gl(s.toUpperCase(),/[, ]/))}};const i=(t=e.schema)!==null&&t!==void 0?t:"html5";const l=al(i);if(e.verify_html===false){e.valid_elements="*[*]"}const d=kl(e.valid_styles);const u=kl(e.invalid_styles,"map");const f=kl(e.valid_classes,"map");const m=c("whitespace_elements","pre script noscript style textarea video audio iframe object code");const g=c("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");const p=c("void_elements","area base basefont br col frame hr img input isindex link "+"meta param embed source wbr track");const h=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize "+"noshade nowrap readonly selected autoplay loop controls allowfullscreen");const y="td th iframe video audio object script code";const b=c("non_empty_elements",y+" pre svg textarea summary",p);const w=c("move_caret_before_on_enter_elements",y+" table",p);const x="h1 h2 h3 h4 h5 h6";const S=c("text_block_elements",x+" p div address pre form "+"blockquote center dir fieldset header footer article section hgroup aside main nav figure");const z=c("block_elements","hr table tbody thead tfoot "+"th tr td li ol ul caption dl dt dd noscript menu isindex option "+"datalist select optgroup figcaption details summary html body multicol listing",S);const T=c("text_inline_elements","span strong b em i font s strike u var cite "+"dfn code mark q sup sub samp");const E=c("transparent_elements","a ins del canvas map");const O=c("wrap_block_elements","pre "+x);pl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),e=>{a[e]=new RegExp("</"+e+"[^>]*>","gi")});const A=e=>{const t=U.from(o["@"]);const n=/[*?+]/;Q(fl(t,e!==null&&e!==void 0?e:""),({name:e,element:t,aliasName:r})=>{if(r){o[r]=t}if(n.test(e)){const o=t;o.pattern=Xi(e);s.push(o)}else{o[e]=t}})};const D=e=>{s=[];Q(we(o),e=>{delete o[e]});A(e)};const M=(e,t)=>{var s,a;delete ml.text_block_elements;delete ml.block_elements;const c=t.extends?!se(t.extends):false;const l=t.extends;n[e]=l?n[l]:{};r[e]=l!==null&&l!==void 0?l:e;b[e.toUpperCase()]={};b[e]={};if(!c){z[e.toUpperCase()]={};z[e]={}}if(l&&!o[e]&&o[l]){const t=Qi(o[l]);delete t.removeEmptyAttrs;delete t.removeEmpty;o[e]=t}else{o[e]={attributesOrder:[],attributes:{}}}if(_(t.attributes)){const n=e=>{r.attributesOrder.push(e);r.attributes[e]={}};const r=(s=o[e])!==null&&s!==void 0?s:{};delete r.attributesDefault;delete r.attributesForced;delete r.attributePatterns;delete r.attributesRequired;r.attributesOrder=[];r.attributes={};Q(t.attributes,e=>{const t=tl(i);il(e).each(({preset:e,name:o})=>{if(e){if(o==="global"){Q(t,n)}}else{n(o)}})});o[e]=r}if(C(t.padEmpty)){const n=(a=o[e])!==null&&a!==void 0?a:{};n.paddEmpty=t.padEmpty;o[e]=n}if(_(t.children)){const o={};const s=e=>{o[e]={}};const r=e=>{rl(i,e).each(e=>{Q(e,s)})};Q(t.children,e=>{il(e).each(({preset:e,name:t})=>{if(e){r(t)}else{s(t)}})});n[e]=o}if(l){xe(n,(t,o)=>{if(t[l]){n[o]=t=hl({},n[o]);t[e]=t[l]}})}};const N=e=>{Q(el(e!==null&&e!==void 0?e:""),({name:e,cloneName:t})=>{M(e,{extends:t})})};const B=e=>{if(k(e)){xe(e,(e,t)=>M(t,e))}else if(v(e)){N(e)}};const L=e=>{Q(ll(e!==null&&e!==void 0?e:""),({operation:e,name:t,validChildren:o})=>{const s=e==="replace"?{"#comment":{}}:n[t];const r=t=>{if(e==="remove"){delete s[t]}else{s[t]={}}};const a=e=>{rl(i,e).each(e=>{Q(e,r)})};Q(o,({preset:e,name:t})=>{if(e){a(t)}else{r(t)}});n[t]=s})};const H=e=>{const t=o[e];if(t){return t}let n=s.length;while(n--){const t=s[n];if(t.pattern.test(e)){return t}}return undefined};const I=()=>{if(!e.valid_elements){pl(l,(e,t)=>{o[t]={attributes:e.attributes,attributesOrder:e.attributesOrder};n[t]=e.children});pl(Yi("strong/b em/i"),e=>{const t=Yi(e,"/");o[t[1]].outputName=t[0]});pl(T,(t,n)=>{if(o[n]){if(e.padd_empty_block_inline_children){o[n].paddInEmptyBlock=true}o[n].removeEmpty=true}});pl(Yi("ol ul blockquote a table tbody"),e=>{if(o[e]){o[e].removeEmpty=true}});pl(Yi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),e=>{if(o[e]){o[e].paddEmpty=true}});pl(Yi("span"),e=>{o[e].removeEmptyAttrs=true})}else{D(e.valid_elements);pl(l,(e,t)=>{n[t]=e.children})}delete o.svg;B(e.custom_elements);L(e.valid_children);A(e.extended_valid_elements);L("+ol[ul|ol],+ul[ul|ol]");pl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(e,t)=>{if(o[t]){o[t].parentsRequired=Yi(e)}});if(e.invalid_elements){pl(yl(e.invalid_elements),e=>{if(o[e]){delete o[e]}})}if(!H("span")){A("span[!data-mce-type|*]")}};const P=R(d);const F=R(u);const V=R(f);const j=R(h);const Z=R(z);const q=R(S);const $=R(T);const W=R(Object.seal(p));const G=R(g);const K=R(b);const Y=R(w);const X=R(m);const J=R(E);const ee=R(O);const te=R(Object.seal(a));const oe=(e,t)=>{const o=n[e.toLowerCase()];return!!(o&&o[t.toLowerCase()])};const ne=(e,t)=>{const o=H(e);if(o){if(t){if(o.attributes[t]){return true}const e=o.attributePatterns;if(e){let o=e.length;while(o--){if(e[o].pattern.test(t)){return true}}}}else{return true}}return false};const se=e=>Ne(Z(),e);const re=e=>!pt(e,"#")&&ne(e)&&!se(e);const ae=e=>Ne(ee(),e)||re(e);const ce=R(r);I();return{type:i,children:n,elements:o,getValidStyles:P,getValidClasses:V,getBlockElements:Z,getInvalidStyles:F,getVoidElements:W,getTextBlockElements:q,getTextInlineElements:$,getBoolAttrs:j,getElementRule:H,getSelfClosingElements:G,getNonEmptyElements:K,getMoveCaretBeforeOnEnterElements:Y,getWhitespaceElements:X,getTransparentElements:J,getSpecialElements:te,isValidChild:oe,isValid:ne,isBlock:se,isInline:re,isWrapper:ae,getCustomElements:ce,addValidElements:A,setValidElements:D,addCustomElements:B,addValidChildren:L}};const _l=e=>({value:xl(e)});const xl=e=>mt(e,"#").toUpperCase();const Cl=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const Sl=e=>{const t=Cl(e.red)+Cl(e.green)+Cl(e.blue);return _l(t)};const zl=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i;const Tl=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i;const El=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const Ol=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return El(s,r,a,c)};const Al=e=>{if(zl.test(e)){return"rgb"}else if(Tl.test(e)){return"rgba"}return"other"};const Dl=e=>{const t=zl.exec(e);if(t!==null){return U.some(Ol(t[1],t[2],t[3],"1"))}const o=Tl.exec(e);if(o!==null){return U.some(Ol(o[1],o[2],o[3],o[4]))}return U.none()};const Ml=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`;const Nl=e=>Dl(e).map(Sl).map(e=>"#"+e.value).getOr(e);const Rl=(e={},t)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi;const n=/\s*([^:]+):\s*([^;]+);?/g;const s=/\s+$/;const r={};let a;let c;const i=Et;if(t){a=t.getValidStyles();c=t.getInvalidStyles()}const l=(`\\" \\' \\; \\: ; : `+i).split(" ");for(let e=0;e<l.length;e++){r[l[e]]=i+e;r[i+e]=l[e]}const d={parse:t=>{const a={};let c=false;const l=e.url_converter;const u=e.url_converter_scope||d;const f=(e,t,o)=>{const n=a[e+"-top"+t];if(!n){return}const s=a[e+"-right"+t];if(!s){return}const r=a[e+"-bottom"+t];if(!r){return}const c=a[e+"-left"+t];if(!c){return}const i=[n,s,r,c];let l=i.length-1;while(l--){if(i[l]!==i[l+1]){break}}if(l>-1&&o){return}a[e+t]=l===-1?i[0]:i.join(" ");delete a[e+"-top"+t];delete a[e+"-right"+t];delete a[e+"-bottom"+t];delete a[e+"-left"+t]};const m=e=>{const t=a[e];if(!t){return}const o=t.indexOf(",")>-1?[t]:t.split(" ");let n=o.length;while(n--){if(o[n]!==o[0]){return false}}a[e]=o[0];return true};const g=(e,t,o,n)=>{if(!m(t)){return}if(!m(o)){return}if(!m(n)){return}a[e]=a[t]+" "+a[o]+" "+a[n];delete a[t];delete a[o];delete a[n]};const p=e=>{c=true;return r[e]};const h=(e,t)=>{if(c){e=e.replace(/\uFEFF[0-9]/g,e=>r[e])}if(!t){e=e.replace(/\\([\'\";:])/g,"$1")}return e};const y=e=>String.fromCharCode(parseInt(e.slice(1),16));const b=e=>e.replace(/\\[0-9a-f]+/gi,y);const v=(t,o,n,s,r,a)=>{r=r||a;if(r){r=h(r);return`'`+r.replace(/\'/g,`\\'`)+`'`}o=h(o||n||s||"");if(!e.allow_script_urls){const t=o.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t)){return""}if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t)){return""}}if(l){o=l.call(u,o,"style")}return`url('`+o.replace(/\'/g,`\\'`)+`')`};if(t){t=t.replace(/[\u0000-\u001F]/g,"");t=t.replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,p));let r;while(r=n.exec(t)){n.lastIndex=r.index+r[0].length;let t=r[1].replace(s,"").toLowerCase();let l=r[2].replace(s,"");if(t&&l){t=b(t);l=b(l);if(t.indexOf(i)!==-1||t.indexOf('"')!==-1){continue}if(!e.allow_script_urls&&(t==="behavior"||/expression\s*\(|\/\*|\*\//.test(l))){continue}if(t==="font-weight"&&l==="700"){l="bold"}else if(t==="color"||t==="background-color"){l=l.toLowerCase()}if(Al(l)==="rgb"){Dl(l).each(e=>{l=Nl(Ml(e)).toLowerCase()})}l=l.replace(o,v);a[t]=c?h(l,true):l}}f("border","",true);f("border","-width");f("border","-color");f("border","-style");f("padding","");f("margin","");g("border","border-width","border-style","border-color");if(a.border==="medium none"){delete a.border}if(a["border-image"]==="none"){delete a["border-image"]}}return a},serialize:(e,t)=>{let o="";const n=(t,n)=>{const s=n[t];if(s){for(let t=0,n=s.length;t<n;t++){const n=s[t];const r=e[n];if(r){o+=(o.length>0?" ":"")+n+": "+r+";"}}}};const s=(e,t)=>{if(!c||!t){return true}let o=c["*"];if(o&&o[e]){return false}o=c[t];return!(o&&o[e])};if(t&&a){n("*",a);n(t,a)}else{xe(e,(e,n)=>{if(e&&s(n,t)){o+=(o.length>0?" ":"")+n+": "+e+";"}})}return o}};return d};const Bl={keyLocation:true,layerX:true,layerY:true,returnValue:true,webkitMovementX:true,webkitMovementY:true,keyIdentifier:true,mozPressure:true};const Ll=e=>e instanceof Event||E(e.initEvent);const Hl=e=>e.isDefaultPrevented===Z||e.isDefaultPrevented===j;const Il=e=>z(e.preventDefault)||Ll(e);const Pl=(e,t)=>{const o=t!==null&&t!==void 0?t:{};for(const t in e){if(!Ne(Bl,t)){o[t]=e[t]}}if(T(e.composedPath)){o.composedPath=()=>e.composedPath()}if(T(e.getModifierState)){o.getModifierState=t=>e.getModifierState(t)}if(T(e.getTargetRanges)){o.getTargetRanges=()=>e.getTargetRanges()}return o};const Fl=(e,t,o,n)=>{var s;const r=Pl(t,n);r.type=e;if(z(r.target)){r.target=(s=r.srcElement)!==null&&s!==void 0?s:o}if(Il(t)){r.preventDefault=()=>{r.defaultPrevented=true;r.isDefaultPrevented=Z;if(E(t.preventDefault)){t.preventDefault()}};r.stopPropagation=()=>{r.cancelBubble=true;r.isPropagationStopped=Z;if(E(t.stopPropagation)){t.stopPropagation()}};r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=Z;r.stopPropagation()};if(!Hl(r)){r.isDefaultPrevented=r.defaultPrevented===true?Z:j;r.isPropagationStopped=r.cancelBubble===true?Z:j;r.isImmediatePropagationStopped=j}}return r};const Vl="mce-data-";const jl=/^(?:mouse|contextmenu)|click/;const Zl=(e,t,o,n)=>{e.addEventListener(t,o,n||false)};const Ul=(e,t,o,n)=>{e.removeEventListener(t,o,n||false)};const ql=e=>T(e)&&jl.test(e.type);const $l=(e,t)=>{const o=Fl(e.type,e,document,t);if(ql(e)&&S(e.pageX)&&!S(e.clientX)){const t=o.target.ownerDocument||document;const n=t.documentElement;const s=t.body;const r=o;r.pageX=e.clientX+(n&&n.scrollLeft||s&&s.scrollLeft||0)-(n&&n.clientLeft||s&&s.clientLeft||0);r.pageY=e.clientY+(n&&n.scrollTop||s&&s.scrollTop||0)-(n&&n.clientTop||s&&s.clientTop||0)}return o};const Wl=(e,t,o)=>{const n=e.document,s={type:"ready"};if(o.domLoaded){t(s);return}const r=()=>n.readyState==="complete"||n.readyState==="interactive"&&n.body;const a=()=>{Ul(e,"DOMContentLoaded",a);Ul(e,"load",a);if(!o.domLoaded){o.domLoaded=true;t(s)}e=null};if(r()){a()}else{Zl(e,"DOMContentLoaded",a)}if(!o.domLoaded){Zl(e,"load",a)}};class Gl{constructor(){this.domLoaded=false;this.events={};this.count=1;this.expando=Vl+(+new Date).toString(32);this.hasFocusIn="onfocusin"in document.documentElement;this.count=1}bind(e,t,o,n){const s=this;let r;const a=window;const c=e=>{s.executeHandlers($l(e||a.event),i)};if(!e||hc(e)||vc(e)){return o}let i;if(!e[s.expando]){i=s.count++;e[s.expando]=i;s.events[i]={}}else{i=e[s.expando]}n=n||e;const l=t.split(" ");let d=l.length;while(d--){let t=l[d];let u=c;let f=false;let m=false;if(t==="DOMContentLoaded"){t="ready"}if(s.domLoaded&&t==="ready"&&e.readyState==="complete"){o.call(n,$l({type:t}));continue}if(!s.hasFocusIn&&(t==="focusin"||t==="focusout")){f=true;m=t==="focusin"?"focus":"blur";u=e=>{const t=$l(e||a.event);t.type=t.type==="focus"?"focusin":"focusout";s.executeHandlers(t,i)}}r=s.events[i][t];if(!r){s.events[i][t]=r=[{func:o,scope:n}];r.fakeName=m;r.capture=f;r.nativeHandler=u;if(t==="ready"){Wl(e,u,s)}else{Zl(e,m||t,u,f)}}else{if(t==="ready"&&s.domLoaded){o($l({type:t}))}else{r.push({func:o,scope:n})}}}e=r=null;return o}unbind(e,t,o){if(!e||hc(e)||vc(e)){return this}const n=e[this.expando];if(n){let s=this.events[n];if(t){const n=t.split(" ");let r=n.length;while(r--){const t=n[r];const a=s[t];if(a){if(o){let e=a.length;while(e--){if(a[e].func===o){const o=a.nativeHandler;const n=a.fakeName,r=a.capture;const c=a.slice(0,e).concat(a.slice(e+1));c.nativeHandler=o;c.fakeName=n;c.capture=r;s[t]=c}}}if(!o||a.length===0){delete s[t];Ul(e,a.fakeName||t,a.nativeHandler,a.capture)}}}}else{xe(s,(t,o)=>{Ul(e,t.fakeName||o,t.nativeHandler,t.capture)});s={}}for(const e in s){if(Ne(s,e)){return this}}delete this.events[n];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,o){return this.dispatch(e,t,o)}dispatch(e,t,o){if(!e||hc(e)||vc(e)){return this}const n=$l({type:t,target:e},o);do{const t=e[this.expando];if(t){this.executeHandlers(n,t)}e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped());return this}clean(e){if(!e||hc(e)||vc(e)){return this}if(e[this.expando]){this.unbind(e)}if(!e.getElementsByTagName){e=e.document}if(e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let o=t.length;while(o--){e=t[o];if(e[this.expando]){this.unbind(e)}}}return this}destroy(){this.events={}}cancel(e){if(e){e.preventDefault();e.stopImmediatePropagation()}return false}executeHandlers(e,t){const o=this.events[t];const n=o&&o[e.type];if(n){for(let t=0,o=n.length;t<o;t++){const o=n[t];if(o&&o.func.call(o.scope,e)===false){e.preventDefault()}if(e.isImmediatePropagationStopped()){return}}}}}Gl.Event=new Gl;const Kl=Qo.each;const Yl=Qo.grep;const Xl="data-mce-style";const Jl=Qo.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," ");const Ql=(e,t,o)=>{if(z(o)||o===""){Ls(e,t)}else{Ds(e,t,o)}};const ed=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase());const td=(e,t)=>{let o=0;if(e){for(let n=e.nodeType,s=e.previousSibling;s;s=s.previousSibling){const e=s.nodeType;if(t&&hc(s)){if(e===n||!s.data.length){continue}}o++;n=e}}return o};const od=(e,t)=>{const o=Ns(t,"style");const n=e.serialize(e.parse(o),En(t));Ql(t,Xl,n)};const nd=(e,t)=>{if(O(e)){return Ne(Jl,t)?e+"":e+"px"}else{return e}};const sd=(e,t,o)=>{const n=ed(t);if(z(o)||o===""){ir(e,n)}else{or(e,n,nd(o,n))}};const rd=(e,t,o)=>{const n=t.keep_values;const s={set:(e,n,s)=>{const r=rn.fromDom(e);if(E(t.url_converter)&&T(n)){n=t.url_converter.call(t.url_converter_scope||o(),String(n),s,e)}const a="data-mce-"+s;Ql(r,a,n);Ql(r,s,n)},get:(e,t)=>{const o=rn.fromDom(e);return Ns(o,"data-mce-"+t)||Ns(o,t)}};const r={style:{set:(t,o)=>{const s=rn.fromDom(t);if(n){Ql(s,Xl,o)}Ls(s,"style");if(v(o)){nr(s,e.parse(o))}},get:t=>{const o=rn.fromDom(t);const n=Ns(o,Xl)||Ns(o,"style");return e.serialize(e.parse(n),En(o))}}};if(n){r.href=r.src=s}return r};const ad=(e,t={})=>{const o={};const n=window;const s={};let r=0;const a=true;const c=true;const i=xi.forElement(rn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy});const l=[];const d=t.schema?t.schema:wl({});const u=Rl({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema);const f=t.ownEvents?new Gl:Gl.Event;const m=d.getBlockElements();const g=e=>{if(v(e)){return Ne(m,e)}else{return sc(e)&&(Ne(m,e.nodeName)||mi(d,e))}};const p=t=>t&&e&&v(t)?e.getElementById(t):t;const h=e=>{const t=p(e);return T(t)?rn.fromDom(t):null};const y=(e,t,o="")=>{let n;const s=h(e);if(T(s)&&Nn(s)){const e=Ve[t];if(e&&e.get){n=e.get(s.dom,t)}else{n=Ns(s,t)}}return T(n)?n:o};const b=e=>{const t=p(e);return z(t)?[]:t.attributes};const k=(e,o,n)=>{q(e,e=>{if(sc(e)){const s=rn.fromDom(e);const r=n===""?null:n;const a=Ns(s,o);const c=Ve[o];if(c&&c.set){c.set(s.dom,r,o)}else{Ql(s,o,r)}if(a!==r&&t.onSetAttrib){t.onSetAttrib({attrElm:s.dom,attrName:o,attrValue:r})}}})};const x=(e,t)=>e.cloneNode(t);const C=()=>t.root_element||e.body;const S=e=>{const t=Wa(e);return{x:t.x,y:t.y,w:t.width,h:t.height}};const O=(t,o)=>ki(e.body,p(t),o);const A=(e,o,n)=>{q(e,e=>{const s=rn.fromDom(e);sd(s,o,n);if(t.update_styles){od(u,s)}})};const M=(e,o)=>{q(e,e=>{const n=rn.fromDom(e);xe(o,(e,t)=>{sd(n,t,e)});if(t.update_styles){od(u,n)}})};const N=(e,t,o)=>{const n=p(e);if(z(n)||!rc(n)&&!ac(n)){return undefined}if(o){return sr(rn.fromDom(n),ed(t))}else{t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase());if(t==="float"){t="cssFloat"}return n.style?n.style[t]:undefined}};const B=e=>{const t=p(e);if(!t){return{w:0,h:0}}let o=N(t,"width");let n=N(t,"height");if(!o||o.indexOf("px")===-1){o="0"}if(!n||n.indexOf("px")===-1){n="0"}return{w:parseInt(o,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}};const L=e=>{const t=p(e);const o=O(t);const n=B(t);return{x:o.x,y:o.y,w:n.w,h:n.h}};const H=(e,t)=>{if(!e){return false}const o=_(e)?e:[e];return X(o,e=>wn(rn.fromDom(e),t))};const I=(e,t,o,n)=>{const s=[];let r=p(e);n=n===undefined;const a=o||(C().nodeName!=="BODY"?C().parentNode:null);if(v(t)){if(t==="*"){t=sc}else{const e=t;t=t=>H(t,e)}}while(r){if(r===a||z(r.nodeType)||kc(r)||wc(r)){break}if(!t||t(r)){if(n){s.push(r)}else{return[r]}}r=r.parentNode}return n?s:null};const P=(e,t,o)=>{const n=I(e,t,o,false);return n&&n.length>0?n[0]:null};const F=(e,t,o)=>{let n=t;if(e){if(v(t)){n=e=>H(e,t)}for(let t=e[o];t;t=t[o]){if(E(n)&&n(t)){return t}}}return null};const V=(e,t)=>F(e,t,"nextSibling");const j=(e,t)=>F(e,t,"previousSibling");const Z=e=>E(e.querySelectorAll);const U=(o,n)=>{var s,r;const a=(r=(s=p(n))!==null&&s!==void 0?s:t.root_element)!==null&&r!==void 0?r:e;return Z(a)?be(a.querySelectorAll(o)):[]};const q=function(e,t,o){const n=o!==null&&o!==void 0?o:this;if(_(e)){const o=[];Kl(e,(e,s)=>{const r=p(e);if(r){o.push(t.call(n,r,s))}});return o}else{const o=p(e);return!o?false:t.call(n,o)}};const $=(e,t)=>{q(e,e=>{xe(t,(t,o)=>{k(e,o,t)})})};const W=(e,t)=>{q(e,e=>{const o=rn.fromDom(e);Ys(o,t)})};const G=(t,o,n,s,r)=>q(t,t=>{const a=v(o)?e.createElement(o):o;if(T(n)){$(a,n)}if(s){if(!v(s)&&s.nodeType){a.appendChild(s)}else if(v(s)){W(a,s)}}return!r?t.appendChild(a):a});const K=(t,o,n)=>G(e.createElement(t),t,o,n,true);const Y=Ki.decode;const J=Ki.encodeAllRaw;const ee=(e,t,o="")=>{let n="<"+e;for(const e in t){if(Re(t,e)){n+=" "+e+'="'+J(t[e])+'"'}}if(_t(o)&&Ne(d.getVoidElements(),e)){return n+" />"}else{return n+">"+o+"</"+e+">"}};const te=t=>{const o=e.createElement("div");const n=e.createDocumentFragment();n.appendChild(o);if(t){o.innerHTML=t}let s;while(s=o.firstChild){n.appendChild(s)}n.removeChild(o);return n};const oe=(e,t)=>q(e,e=>{const o=rn.fromDom(e);if(t){Q(Yn(o),e=>{if(Rn(e)&&e.dom.length===0){Fs(e)}else{xs(o,e)}})}Fs(o);return o.dom});const ne=e=>q(e,e=>{const t=e.attributes;for(let o=t.length-1;o>=0;o--){e.removeAttributeNode(t.item(o))}});const se=e=>u.parse(e);const re=(e,t)=>u.serialize(e,t);const ae=t=>{if(Fe!==ad.DOM&&e===document){if(o[t]){return}o[t]=true}let n=e.getElementById("mceDefaultStyles");if(!n){n=e.createElement("style");n.id="mceDefaultStyles";n.type="text/css";const t=e.head;if(t.firstChild){t.insertBefore(n,t.firstChild)}else{t.appendChild(n)}}if(n.styleSheet){n.styleSheet.cssText+=t}else{n.appendChild(e.createTextNode(t))}};const ce=e=>{if(!e){e=""}Q(e.split(","),e=>{s[e]=true;i.load(e).catch(D)})};const ie=(e,t,o)=>{q(e,e=>{if(sc(e)){const n=rn.fromDom(e);const s=t.split(" ");Q(s,e=>{if(T(o)){const t=o?qr:Wr;t(n,e)}else{Gr(n,e)}})}})};const le=(e,t)=>{ie(e,t,true)};const ue=(e,t)=>{ie(e,t,false)};const fe=(e,t)=>{const o=h(e);const n=t.split(" ");return T(o)&&de(n,e=>Kr(o,e))};const me=e=>{q(e,e=>ir(rn.fromDom(e),"display"))};const ge=e=>{q(e,e=>or(rn.fromDom(e),"display","none"))};const pe=e=>{const t=h(e);return T(t)&&Qe(ar(t,"display"),"none")};const he=e=>(!e?"mce_":e)+r++;const ye=e=>{const t=h(e);if(T(t)){return sc(t.dom)?t.dom.outerHTML:Xs(t)}else{return""}};const ve=(e,t)=>{q(e,e=>{if(sc(e)){e.outerHTML=t}})};const ke=(e,t)=>{const o=p(t);return q(e,e=>{const t=o===null||o===void 0?void 0:o.parentNode;const n=o===null||o===void 0?void 0:o.nextSibling;if(t){if(n){t.insertBefore(e,n)}else{t.appendChild(e)}}return e})};const we=(e,t,o)=>q(t,n=>{var s;const r=_(t)?e.cloneNode(true):e;if(o){Kl(Yl(n.childNodes),e=>{r.appendChild(e)})}(s=n.parentNode)===null||s===void 0?void 0:s.replaceChild(r,n);return n});const _e=(e,t)=>{if(e.nodeName!==t.toUpperCase()){const o=K(t);Kl(b(e),t=>{k(o,t.nodeName,y(e,t.nodeName))});we(o,e,true);return o}else{return e}};const Ce=(e,t)=>{let o=e;while(o){let e=t;while(e&&o!==e){e=e.parentNode}if(o===e){break}o=o.parentNode}if(!o&&e.ownerDocument){return e.ownerDocument.documentElement}else{return o}};const Se=(e,t,o)=>{if(w(t)){const n=e=>{const o=e.nodeName.toLowerCase();return Boolean(t[o])};return Zc(d,e,{...o,isContent:n})}else{return Zc(d,e,o)}};const ze=()=>e.createRange();const Te=(e,t,o)=>{let n=ze();let s;let r;if(e&&t&&e.parentNode&&t.parentNode){const a=e.parentNode;n.setStart(a,td(e));n.setEnd(t.parentNode,td(t));s=n.extractContents();n=ze();n.setStart(t.parentNode,td(t)+1);n.setEnd(a,td(e)+1);r=n.extractContents();a.insertBefore(Di(Fe,s,d),e);if(o){a.insertBefore(o,e)}else{a.insertBefore(t,e)}a.insertBefore(Di(Fe,r,d),e);oe(e);return o||t}else{return undefined}};const Ee=(o,s,r,a)=>{if(_(o)){let e=o.length;const t=[];while(e--){t[e]=Ee(o[e],s,r,a)}return t}else{if(t.collect&&(o===e||o===n)){l.push([o,s,r,a])}return f.bind(o,s,r,a||Fe)}};const Oe=(t,o,s)=>{if(_(t)){let e=t.length;const n=[];while(e--){n[e]=Oe(t[e],o,s)}return n}else{if(l.length>0&&(t===e||t===n)){let e=l.length;while(e--){const[n,r,a]=l[e];if(t===n&&(!o||o===r)&&(!s||s===a)){f.unbind(n,r,a)}}}return f.unbind(t,o,s)}};const Ae=(e,t,o)=>f.dispatch(e,t,o);const De=(e,t,o)=>f.dispatch(e,t,o);const Me=e=>{if(e&&rc(e)){const t=e.getAttribute("data-mce-contenteditable");if(t&&t!=="inherit"){return t}return e.contentEditable!=="inherit"?e.contentEditable:null}else{return null}};const Be=e=>{const t=C();let o=null;for(let n=e;n&&n!==t;n=n.parentNode){o=Me(n);if(o!==null){break}}return o};const Le=e=>{if(T(e)){const t=sc(e)?e:e.parentElement;return T(t)&&rc(t)&&Qr(rn.fromDom(t))}else{return false}};const He=()=>{if(l.length>0){let e=l.length;while(e--){const[t,o,n]=l[e];f.unbind(t,o,n)}}xe(s,(e,t)=>{i.unload(t);delete s[t]})};const Ie=(e,t)=>e===t||t.contains(e);const Pe=e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset;const Fe={doc:e,settings:t,win:n,files:s,stdMode:a,boxModel:c,styleSheetLoader:i,boundEvents:l,styles:u,schema:d,events:f,isBlock:g,root:null,clone:x,getRoot:C,getViewPort:S,getRect:L,getSize:B,getParent:P,getParents:I,get:p,getNext:V,getPrev:j,select:U,is:H,add:G,create:K,createHTML:ee,createFragment:te,remove:oe,setStyle:A,getStyle:N,setStyles:M,removeAllAttribs:ne,setAttrib:k,setAttribs:$,getAttrib:y,getPos:O,parseStyle:se,serializeStyle:re,addStyle:ae,loadCSS:ce,addClass:le,removeClass:ue,hasClass:fe,toggleClass:ie,show:me,hide:ge,isHidden:pe,uniqueId:he,setHTML:W,getOuterHTML:ye,setOuterHTML:ve,decode:Y,encode:J,insertAfter:ke,replace:we,rename:_e,findCommonAncestor:Ce,run:q,getAttribs:b,isEmpty:Se,createRng:ze,nodeIndex:td,split:Te,bind:Ee,unbind:Oe,fire:De,dispatch:Ae,getContentEditable:Me,getContentEditableParent:Be,isEditable:Le,destroy:He,isChildOf:Ie,dumpRng:Pe};const Ve=rd(u,t,R(Fe));return Fe};ad.DOM=ad(document);ad.nodeIndex=td;const cd=ad.DOM;const id=0;const ld=1;const dd=2;const ud=3;class fd{constructor(e={}){this.states={};this.queue=[];this.scriptLoadedCallbacks={};this.queueLoadedCallbacks=[];this.loading=false;this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise((t,o)=>{const n=cd;let s;const r=()=>{n.remove(i);if(s){s.onerror=s.onload=s=null}};const a=()=>{r();t()};const c=()=>{r();o("Failed to load script: "+e)};const i=n.uniqueId();s=document.createElement("script");s.id=i;s.type="text/javascript";s.src=Qo._addCacheSuffix(e);if(this.settings.referrerPolicy){n.setAttrib(s,"referrerpolicy",this.settings.referrerPolicy)}s.onload=a;s.onerror=c;(document.getElementsByTagName("head")[0]||document.body).appendChild(s)})}isDone(e){return this.states[e]===dd}markDone(e){this.states[e]=dd}add(e){const t=this;t.queue.push(e);const o=t.states[e];if(o===undefined){t.states[e]=id}return new Promise((o,n)=>{if(!t.scriptLoadedCallbacks[e]){t.scriptLoadedCallbacks[e]=[]}t.scriptLoadedCallbacks[e].push({resolve:o,reject:n})})}load(e){return this.add(e)}remove(e){delete this.states[e];delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;this.queue=[];return this.loadScripts(e)}loadScripts(e){const t=this;const o=(e,o)=>{Me(t.scriptLoadedCallbacks,o).each(t=>{Q(t,t=>t[e](o))});delete t.scriptLoadedCallbacks[o]};const n=e=>{const t=oe(e,e=>e.status==="rejected");if(t.length>0){return Promise.reject(le(t,({reason:e})=>_(e)?e:[e]))}else{return Promise.resolve()}};const s=e=>Promise.allSettled(J(e,e=>{if(t.states[e]===dd){o("resolve",e);return Promise.resolve()}else if(t.states[e]===ud){o("reject",e);return Promise.reject(e)}else{t.states[e]=ld;return t.loadScript(e).then(()=>{t.states[e]=dd;o("resolve",e);const r=t.queue;if(r.length>0){t.queue=[];return s(r).then(n)}else{return Promise.resolve()}},()=>{t.states[e]=ud;o("reject",e);return Promise.reject(e)})}}));const r=e=>{t.loading=true;return s(e).then(e=>{t.loading=false;const o=t.queueLoadedCallbacks.shift();U.from(o).each(V);return n(e)})};const a=Mt(e);if(t.loading){return new Promise((e,o)=>{t.queueLoadedCallbacks.push(()=>{r(a).then(e,o)})})}else{return r(a)}}}fd.ScriptLoader=new fd;const md=(e,t)=>{const o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o};const gd=e=>k(e)&&Ne(e,"raw");const pd=e=>_(e)&&e.length>1;const hd={};const yd=Ie("en");const bd=()=>Me(hd,yd.get());const vd=()=>Ce(hd,e=>({...e}));const kd=e=>{if(e){yd.set(e)}};const wd=()=>yd.get();const _d=(e,t)=>{let o=hd[e];if(!o){hd[e]=o={}}const n=J(we(t),e=>e.toLowerCase());xe(t,(e,s)=>{const r=s.toLowerCase();if(r!==s&&md(n,r)){if(!Ne(t,r)){o[r]=e}o[s]=e}else{o[r]=e}})};const xd=e=>{const t=bd().getOr({});const o=e=>{if(E(e)){return Object.prototype.toString.call(e)}return!n(e)?""+e:""};const n=e=>e===""||e===null||e===undefined;const s=e=>{const n=o(e);return Ne(t,n)?o(t[n]):Me(t,n.toLowerCase()).map(o).getOr(n)};const r=e=>e.replace(/{context:\w+}$/,"");if(n(e)){return""}if(gd(e)){return o(e.raw)}if(pd(e)){const t=e.slice(1);const n=s(e[0]).replace(/\{([0-9]+)\}/g,(e,n)=>Ne(t,n)?o(t[n]):e);return r(n)}return r(s(e))};const Cd=()=>bd().bind(e=>Me(e,"_dir")).exists(e=>e==="rtl");const Sd=e=>Ne(hd,e);const zd={getData:vd,setCode:kd,getCode:wd,add:_d,translate:xd,isRtl:Cd,hasCode:Sd};const Td=()=>{const e=[];const t={};const o={};const n=[];const s=(e,t)=>{const o=oe(n,o=>o.name===e&&o.state===t);Q(o,e=>e.resolve())};const r=e=>Ne(t,e);const a=e=>Ne(o,e);const c=e=>{if(o[e]){return o[e].instance}return undefined};const i=(e,o)=>{const n=zd.getCode();const s=","+(o||"")+",";if(!n||o&&s.indexOf(","+n+",")===-1){return}fd.ScriptLoader.add(t[e]+"/langs/"+n+".js")};const l=(e,t)=>{if(Td.languageLoad!==false){if(r(e)){i(e,t)}else{g(e,"loaded").then(()=>i(e,t))}}};const d=(t,n)=>{e.push(n);o[t]={instance:n};s(t,"added");return n};const u=e=>{delete t[e];delete o[e]};const f=(e,t)=>{if(v(t)){return v(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}else{return t}};const m=(e,n)=>{if(t[e]){return Promise.resolve()}let r=v(n)?n:n.prefix+n.resource+n.suffix;if(r.indexOf("/")!==0&&r.indexOf("://")===-1){r=Td.baseURL+"/"+r}t[e]=r.substring(0,r.lastIndexOf("/"));const a=()=>{s(e,"loaded");return Promise.resolve()};if(o[e]){return a()}else{return fd.ScriptLoader.add(r).then(a)}};const g=(e,t="added")=>{if(t==="added"&&a(e)){return Promise.resolve()}else if(t==="loaded"&&r(e)){return Promise.resolve()}else{return new Promise(o=>{n.push({name:e,state:t,resolve:o})})}};return{items:e,urls:t,lookup:o,get:c,requireLangPack:l,add:d,remove:u,createUrl:f,load:m,waitFor:g}};Td.languageLoad=true;Td.baseURL="";Td.PluginManager=Td();Td.ThemeManager=Td();Td.ModelManager=Td();const Ed=R("mce-annotation");const Od=R("data-mce-annotation");const Ad=R("data-mce-annotation-uid");const Dd=R("data-mce-annotation-active");const Md=R("data-mce-annotation-classes");const Nd=R("data-mce-annotation-attrs");const Rd=e=>t=>Sn(t,e);const Bd=(e,t)=>{const o=e.selection.getRng();const n=rn.fromDom(o.startContainer);const s=rn.fromDom(e.getBody());const r=t.fold(()=>"."+Ed(),e=>`[${Od()}="${e}"]`);const a=Xn(n,o.startOffset).getOr(n);const c=Pr(a,r,Rd(s));return c.bind(t=>Rs(t,`${Ad()}`).bind(o=>Rs(t,`${Od()}`).map(t=>{const n=Id(e,o);return{uid:o,name:t,elements:n}})))};const Ld=e=>Nn(e)&&Kr(e,Ed());const Hd=(e,t)=>Bs(e,"data-mce-bogus")||ia(e,'[data-mce-bogus="all"]',Rd(t));const Id=(e,t)=>{const o=rn.fromDom(e.getBody());const n=sa(o,`[${Ad()}="${t}"]`);return oe(n,e=>!Hd(e,o))};const Pd=(e,t)=>{const o=rn.fromDom(e.getBody());const n=sa(o,`[${Od()}="${t}"]`);const s={};Q(n,e=>{if(!Hd(e,o)){const t=Ns(e,Ad());const o=Me(s,t).getOr([]);s[t]=o.concat([e])}});return s};const Fd=(e,t)=>{const o=Ie({});const n=()=>({listeners:[],previous:dt()});const s=(e,t)=>{r(e,e=>{t(e);return e})};const r=(e,t)=>{const s=o.get();const r=Me(s,e).getOrThunk(n);const a=t(r);s[e]=a;o.set(s)};const a=(e,t,o)=>{s(e,n=>{Q(n.listeners,n=>n(true,e,{uid:t,nodes:J(o,e=>e.dom)}))})};const c=e=>{s(e,t=>{Q(t.listeners,t=>t(false,e))})};const i=(t,o)=>{Q(Id(e,t),e=>{if(o){Ds(e,Dd(),"true")}else{Ls(e,Dd())}})};const l=zt(()=>{const o=ge(t.getNames());Q(o,t=>{r(t,o=>{const n=o.previous.get();Bd(e,U.some(t)).fold(()=>{n.each(e=>{c(t);o.previous.clear();i(e,false)})},({uid:e,name:t,elements:s})=>{if(!Qe(n,e)){n.each(e=>i(e,false));a(t,e,s);o.previous.set(e);i(e,true)}});return{previous:o.previous,listeners:o.listeners}})})},30);e.on("remove",()=>{l.cancel()});e.on("NodeChange",()=>{l.throttle()});const d=(e,t)=>{r(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))};return{addListener:d}};const Vd=(e,t)=>{const o=Od();const n=e=>U.from(e.attr(o)).bind(t.lookup);const s=e=>{var t,o;e.attr(Ad(),null);e.attr(Od(),null);e.attr(Dd(),null);const n=U.from(e.attr(Nd())).map(e=>e.split(",")).getOr([]);const s=U.from(e.attr(Md())).map(e=>e.split(",")).getOr([]);Q(n,t=>e.attr(t,null));const r=(o=(t=e.attr("class"))===null||t===void 0?void 0:t.split(" "))!==null&&o!==void 0?o:[];const a=fe(r,[Ed()].concat(s));e.attr("class",a.length>0?a.join(" "):null);e.attr(Md(),null);e.attr(Nd(),null)};e.serializer.addTempAttr(Dd());e.serializer.addAttributeFilter(o,e=>{for(const t of e){n(t).each(e=>{if(e.persistent===false){if(t.name==="span"){t.unwrap()}else{s(t)}}})}})};const jd=()=>{const e={};const t=(t,o)=>{e[t]={name:t,settings:o}};const o=t=>Me(e,t).map(e=>e.settings);const n=()=>we(e);return{register:t,lookup:o,getNames:n}};const Zd=(e,t,o=j)=>{const n=new Ga(e,t);const s=e=>{let t;do{t=n[e]()}while(t&&!hc(t)&&!o(t));return U.from(t).filter(hc)};return{current:()=>U.from(n.current()).filter(hc),next:()=>s("next"),prev:()=>s("prev"),prev2:()=>s("prev2")}};const Ud=(e,t)=>{const o=t?t:t=>e.isBlock(t)||_c(t)||zc(t);const n=(e,t,o,s)=>{if(hc(e)){const o=s(e,t,e.data);if(o!==-1){return U.some({container:e,offset:o})}}return o().bind(e=>n(e.container,e.offset,o,s))};const s=(t,s,r,a)=>{const c=Zd(t,a!==null&&a!==void 0?a:e.getRoot(),o);return n(t,s,()=>c.prev().map(e=>({container:e,offset:e.length})),r).getOrNull()};const r=(t,s,r,a)=>{const c=Zd(t,a!==null&&a!==void 0?a:e.getRoot(),o);return n(t,s,()=>c.next().map(e=>({container:e,offset:0})),r).getOrNull()};return{backwards:s,forwards:r}};const qd=["td","th"];const $d=["thead","tbody","tfoot"];const Wd=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"];const Gd=["li","dd","dt"];const Kd=["ul","ol","dl"];const Yd=["pre","script","textarea","style"];const Xd=e=>{let t;return o=>{t=t?t:me(e,Z);return Ne(t,En(o))}};const Jd=e=>En(e)==="table";const Qd=e=>Nn(e)&&En(e)==="br";const eu=Xd(Wd);const tu=Xd(Kd);const ou=Xd(Gd);const nu=Xd($d);const su=Xd(qd);const ru=Xd(Yd);const au=e=>{const t=[];let o=e.dom;while(o){t.push(rn.fromDom(o));o=o.lastChild}return t};const cu=e=>{const t=sa(e,"br");const o=oe(au(e).slice(-1),Qd);if(t.length===o.length){Q(o,Fs)}};const iu=()=>{const e=rn.fromTag("br");Ds(e,"data-mce-bogus","1");return e};const lu=e=>{Ps(e);zs(e,iu())};const du=(e,t)=>{Qn(e).each(o=>{$n(o).each(n=>{if(t.isBlock(En(e))&&Qd(o)&&t.isBlock(En(n))){Fs(o)}})})};const uu=Et;const fu=At;const mu=Dt;const gu=e=>e.insertContent(uu,{preserve_zwsp:true});const pu=sc;const hu=hc;const yu=e=>{if(hu(e)){e=e.parentNode}return pu(e)&&e.hasAttribute("data-mce-caret")};const bu=e=>hu(e)&&fu(e.data);const vu=e=>yu(e)||bu(e);const ku=e=>e.firstChild!==e.lastChild||!_c(e.firstChild);const wu=(e,t)=>{var o;const n=(o=e.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createTextNode(uu);const r=e.parentNode;if(!t){const t=e.nextSibling;if(hu(t)){if(vu(t)){return t}if(Su(t)){t.splitText(1);return t}}if(e.nextSibling){r===null||r===void 0?void 0:r.insertBefore(s,e.nextSibling)}else{r===null||r===void 0?void 0:r.appendChild(s)}}else{const t=e.previousSibling;if(hu(t)){if(vu(t)){return t}if(zu(t)){return t.splitText(t.data.length-1)}}r===null||r===void 0?void 0:r.insertBefore(s,e)}return s};const _u=e=>{const t=e.container();if(!hc(t)){return false}return t.data.charAt(e.offset())===uu||e.isAtStart()&&bu(t.previousSibling)};const xu=e=>{const t=e.container();if(!hc(t)){return false}return t.data.charAt(e.offset()-1)===uu||e.isAtEnd()&&bu(t.nextSibling)};const Cu=(e,t,o)=>{var n;const s=(n=t.ownerDocument)!==null&&n!==void 0?n:document;const r=s.createElement(e);r.setAttribute("data-mce-caret",o?"before":"after");r.setAttribute("data-mce-bogus","all");r.appendChild(iu().dom);const a=t.parentNode;if(!o){if(t.nextSibling){a===null||a===void 0?void 0:a.insertBefore(r,t.nextSibling)}else{a===null||a===void 0?void 0:a.appendChild(r)}}else{a===null||a===void 0?void 0:a.insertBefore(r,t)}return r};const Su=e=>hu(e)&&e.data[0]===uu;const zu=e=>hu(e)&&e.data[e.data.length-1]===uu;const Tu=e=>{var t;const o=e.getElementsByTagName("br");const n=o[o.length-1];if(uc(n)){(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)}};const Eu=e=>{if(e&&e.hasAttribute("data-mce-caret")){Tu(e);e.removeAttribute("data-mce-caret");e.removeAttribute("data-mce-bogus");e.removeAttribute("style");e.removeAttribute("data-mce-style");e.removeAttribute("_moz_abspos");return e}return null};const Ou=e=>yu(e.startContainer);const Au=Math.round;const Du=e=>{if(!e){return{left:0,top:0,bottom:0,right:0,width:0,height:0}}return{left:Au(e.left),top:Au(e.top),bottom:Au(e.bottom),right:Au(e.right),width:Au(e.width),height:Au(e.height)}};const Mu=(e,t)=>{e=Du(e);if(t){e.right=e.left}else{e.left=e.left+e.width;e.right=e.left}e.width=0;return e};const Nu=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right;const Ru=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2;const Bu=(e,t)=>{const o=Math.min(t.height/2,e.height/2);if(e.bottom-o<t.top){return true}if(e.top>t.bottom){return false}return Ru(t.top-e.bottom,e,t)};const Lu=(e,t)=>{if(e.top>t.bottom){return true}if(e.bottom<t.top){return false}return Ru(t.bottom-e.top,e,t)};const Hu=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom;const Iu=e=>se(e,(e,t)=>e.fold(()=>U.some(t),e=>{const o=Math.min(t.left,e.left);const n=Math.min(t.top,e.top);const s=Math.max(t.right,e.right);const r=Math.max(t.bottom,e.bottom);return U.some({top:n,right:s,bottom:r,left:o,width:s-o,height:r-n})}),U.none());const Pu=(e,t,o)=>{const n=Math.max(Math.min(t,e.left+e.width),e.left);const s=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-n)*(t-n)+(o-s)*(o-s))};const Fu=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));const Vu=e=>{const t=e.startContainer,o=e.startOffset;if(t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1){return t.childNodes[o]}return null};const ju=(e,t)=>{if(sc(e)&&e.hasChildNodes()){const o=e.childNodes;const n=Ue(t,0,o.length-1);return o[n]}else{return e}};const Zu=(e,t)=>{if(t<0&&sc(e)&&e.hasChildNodes()){return undefined}else{return ju(e,t)}};const Uu=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ؚ"+"ً-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް"+"߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़"+"ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣ"+"ਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼"+"ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗ"+"ୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖ"+"ౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ"+"്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູ"+"ົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗ"+"ྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴ"+"ႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵"+"ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘ"+"ᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴"+"ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩ"+"ᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹"+"᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⳱"+"⵿ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱"+"ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼ"+"ꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁"+"ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]");const qu=e=>v(e)&&e.charCodeAt(0)>=768&&Uu.test(e);const $u=(...e)=>t=>{for(let o=0;o<e.length;o++){if(e[o](t)){return true}}return false};const Wu=(...e)=>t=>{for(let o=0;o<e.length;o++){if(!e[o](t)){return false}}return true};const Gu=Sc;const Ku=zc;const Yu=_c;const Xu=hc;const Ju=ic(["script","style","textarea"]);const Qu=ic(["img","input","textarea","hr","iframe","video","audio","object","embed"]);const ef=ic(["table"]);const tf=vu;const of=e=>{if(tf(e)){return false}if(Xu(e)){return!Ju(e.parentNode)}return Qu(e)||Yu(e)||ef(e)||sf(e)};const nf=e=>sc(e)&&e.getAttribute("unselectable")==="true";const sf=e=>!nf(e)&&Ku(e);const rf=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(sf(o)){return false}if(Gu(o)){return true}}return true};const af=e=>{if(!sf(e)){return false}return!se(be(e.getElementsByTagName("*")),(e,t)=>e||Gu(t),false)};const cf=e=>Qu(e)||af(e);const lf=(e,t)=>of(e)&&rf(e,t);const df=sc;const uf=of;const ff=lc("display","block table");const mf=lc("float","left right");const gf=Wu(df,uf,I(mf));const pf=I(lc("white-space","pre pre-line pre-wrap"));const hf=hc;const yf=_c;const bf=ad.nodeIndex;const vf=Zu;const kf=e=>e?e.createRange():ad.DOM.createRng();const wf=e=>v(e)&&/[\r\n\t ]/.test(e);const _f=e=>!!e.setStart&&!!e.setEnd;const xf=e=>{const t=e.startContainer;const o=e.startOffset;if(wf(e.toString())&&pf(t.parentNode)&&hc(t)){const e=t.data;if(wf(e[o-1])||wf(e[o+1])){return true}}return false};const Cf=e=>{const t=e.ownerDocument;const o=kf(t);const n=t.createTextNode(Ot);const s=e.parentNode;s.insertBefore(n,e);o.setStart(n,0);o.setEnd(n,1);const r=Du(o.getBoundingClientRect());s.removeChild(n);return r};const Sf=e=>{const t=e.startContainer;const o=e.endContainer;const n=e.startOffset;const s=e.endOffset;if(t===o&&hc(o)&&n===0&&s===1){const t=e.cloneRange();t.setEndAfter(o);return Tf(t)}else{return null}};const zf=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0;const Tf=e=>{var t;let o;const n=e.getClientRects();if(n.length>0){o=Du(n[0])}else{o=Du(e.getBoundingClientRect())}if(!_f(e)&&yf(e)&&zf(o)){return Cf(e)}if(zf(o)&&_f(e)){return(t=Sf(e))!==null&&t!==void 0?t:o}return o};const Ef=(e,t)=>{const o=Mu(e,t);o.width=1;o.right=o.left+1;return o};const Of=e=>{const t=[];const o=e=>{if(e.height===0){return}if(t.length>0){if(Nu(e,t[t.length-1])){return}}t.push(e)};const n=(e,t)=>{const n=kf(e.ownerDocument);if(t<e.data.length){if(qu(e.data[t])){return}if(qu(e.data[t-1])){n.setStart(e,t);n.setEnd(e,t+1);if(!xf(n)){o(Ef(Tf(n),false));return}}}if(t>0){n.setStart(e,t-1);n.setEnd(e,t);if(!xf(n)){o(Ef(Tf(n),false))}}if(t<e.data.length){n.setStart(e,t);n.setEnd(e,t+1);if(!xf(n)){o(Ef(Tf(n),true))}}};const s=e.container();const r=e.offset();if(hf(s)){n(s,r);return t}if(df(s)){if(e.isAtEnd()){const e=vf(s,r);if(hf(e)){n(e,e.data.length)}if(gf(e)&&!yf(e)){o(Ef(Tf(e),false))}}else{const a=vf(s,r);if(hf(a)){n(a,0)}if(gf(a)&&e.isAtEnd()){o(Ef(Tf(a),false));return t}const c=vf(e.container(),e.offset()-1);if(gf(c)&&!yf(c)){if(ff(c)||ff(a)||!gf(a)){o(Ef(Tf(c),false))}}if(gf(a)){o(Ef(Tf(a),true))}}}return t};const Af=(e,t,o)=>{const n=()=>{if(hf(e)){return t===0}return t===0};const s=()=>{if(hf(e)){return t>=e.data.length}return t>=e.childNodes.length};const r=()=>{const o=kf(e.ownerDocument);o.setStart(e,t);o.setEnd(e,t);return o};const a=()=>{if(!o){o=Of(Af(e,t))}return o};const c=()=>a().length>0;const i=o=>o&&e===o.container()&&t===o.offset();const l=o=>vf(e,o?t-1:t);return{container:R(e),offset:R(t),toRange:r,getClientRects:a,isVisible:c,isAtStart:n,isAtEnd:s,isEqual:i,getNode:l}};Af.fromRangeStart=e=>Af(e.startContainer,e.startOffset);Af.fromRangeEnd=e=>Af(e.endContainer,e.endOffset);Af.after=e=>Af(e.parentNode,bf(e)+1);Af.before=e=>Af(e.parentNode,bf(e));Af.isAbove=(e,t)=>ot(he(t.getClientRects()),ye(e.getClientRects()),Bu).getOr(false);Af.isBelow=(e,t)=>ot(ye(t.getClientRects()),he(e.getClientRects()),Lu).getOr(false);Af.isAtStart=e=>e?e.isAtStart():false;Af.isAtEnd=e=>e?e.isAtEnd():false;Af.isTextPosition=e=>e?hc(e.container()):false;Af.isElementPosition=e=>!Af.isTextPosition(e);const Df=(e,t)=>{if(hc(t)&&t.data.length===0){e.remove(t)}};const Mf=(e,t,o)=>{t.insertNode(o);Df(e,o.previousSibling);Df(e,o.nextSibling)};const Nf=(e,t,o)=>{const n=U.from(o.firstChild);const s=U.from(o.lastChild);t.insertNode(o);n.each(t=>Df(e,t.previousSibling));s.each(t=>Df(e,t.nextSibling))};const Rf=(e,t,o)=>{if(wc(o)){Nf(e,t,o)}else{Mf(e,t,o)}};const Bf=hc;const Lf=uc;const Hf=ad.nodeIndex;const If=e=>{const t=e.parentNode;if(Lf(t)){return If(t)}return t};const Pf=e=>{if(!e){return[]}return Ft(e.childNodes,(e,t)=>{if(Lf(t)&&t.nodeName!=="BR"){e=e.concat(Pf(t))}else{e.push(t)}return e},[])};const Ff=(e,t)=>{let o=e;while(o=o.previousSibling){if(!Bf(o)){break}t+=o.data.length}return t};const Vf=e=>t=>e===t;const jf=e=>{let t,o;t=Pf(If(e));o=Vt(t,Vf(e),e);t=t.slice(0,o+1);const n=Ft(t,(e,o,n)=>{if(Bf(o)&&Bf(t[n-1])){e++}return e},0);t=It(t,ic([e.nodeName]));o=Vt(t,Vf(e),e);return o-n};const Zf=e=>{const t=Bf(e)?"text()":e.nodeName.toLowerCase();return t+"["+jf(e)+"]"};const Uf=(e,t,o)=>{const n=[];for(let s=t.parentNode;s&&s!==e;s=s.parentNode){if(o&&o(s)){break}n.push(s)}return n};const qf=(e,t)=>{let o=[];let n=t.container();let s=t.offset();let r;if(Bf(n)){r=Ff(n,s)}else{const e=n.childNodes;if(s>=e.length){r="after";s=e.length-1}else{r="before"}n=e[s]}o.push(Zf(n));let a=Uf(e,n);a=It(a,I(uc));o=o.concat(Ht(a,e=>Zf(e)));return o.reverse().join("/")+","+r};const $f=(e,t,o)=>{let n=Pf(e);n=It(n,(e,t)=>!Bf(e)||!Bf(n[t-1]));n=It(n,ic([t]));return n[o]};const Wf=(e,t)=>{let o=e;let n=0;while(Bf(o)){const s=o.data.length;if(t>=n&&t<=n+s){e=o;t=t-n;break}if(!Bf(o.nextSibling)){e=o;t=s;break}n+=s;o=o.nextSibling}if(Bf(e)&&t>e.data.length){t=e.data.length}return Af(e,t)};const Gf=(e,t)=>{if(!t){return null}const o=t.split(",");const n=o[0].split("/");const s=o.length>1?o[1]:"before";const r=Ft(n,(e,t)=>{const o=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);if(!o){return null}if(o[1]==="text()"){o[1]="#text"}return $f(e,o[1],parseInt(o[2],10))},e);if(!r){return null}if(!Bf(r)&&r.parentNode){let e;if(s==="after"){e=Hf(r)+1}else{e=Hf(r)}return Af(r.parentNode,e)}return Wf(r,parseInt(s,10))};const Kf=zc;const Yf=(e,t,o)=>{let n=e(t.data.slice(0,o)).length;for(let o=t.previousSibling;o&&hc(o);o=o.previousSibling){n+=e(o.data).length}return n};const Xf=(e,t,o,n,s)=>{const r=s?n.startContainer:n.endContainer;let a=s?n.startOffset:n.endOffset;const c=[];const i=e.getRoot();if(hc(r)){c.push(o?Yf(t,r,a):a)}else{let t=0;const n=r.childNodes;if(a>=n.length&&n.length){t=1;a=Math.max(0,n.length-1)}c.push(e.nodeIndex(n[a],o)+t)}for(let t=r;t&&t!==i;t=t.parentNode){c.push(e.nodeIndex(t,o))}return c};const Jf=(e,t,o,n)=>{const s=t.dom;const r=Xf(s,e,o,n,true);const a=t.isForward();const c=Ou(n)?{isFakeCaret:true}:{};if(!t.isCollapsed()){const t=Xf(s,e,o,n,false);return{start:r,end:t,forward:a,...c}}else{return{start:r,forward:a,...c}}};const Qf=(e,t,o)=>{let n=0;Qo.each(e.select(t),e=>{if(e.getAttribute("data-mce-bogus")==="all"){return}else if(e===o){return false}else{n++;return}});return n};const em=(e,t)=>{let o=t?e.startContainer:e.endContainer;let n=t?e.startOffset:e.endOffset;if(sc(o)&&o.nodeName==="TR"){const s=o.childNodes;o=s[Math.min(t?n:n-1,s.length-1)];if(o){n=t?0:o.childNodes.length;if(t){e.setStart(o,n)}else{e.setEnd(o,n)}}}};const tm=e=>{em(e,true);em(e,false);return e};const om=(e,t)=>{if(sc(e)){e=ju(e,t);if(Kf(e)){return e}}if(vu(e)){if(hc(e)&&yu(e)){e=e.parentNode}let t=e.previousSibling;if(Kf(t)){return t}t=e.nextSibling;if(Kf(t)){return t}}return undefined};const nm=e=>om(e.startContainer,e.startOffset)||om(e.endContainer,e.endOffset);const sm=(e,t,o)=>{const n=o.getNode();const s=o.getRng();if(n.nodeName==="IMG"||Kf(n)){const e=n.nodeName;return{name:e,index:Qf(o.dom,e,n)}}const r=nm(s);if(r){const e=r.tagName;return{name:e,index:Qf(o.dom,e,r)}}return Jf(e,o,t,s)};const rm=e=>{const t=e.getRng();return{start:qf(e.dom.getRoot(),Af.fromRangeStart(t)),end:qf(e.dom.getRoot(),Af.fromRangeEnd(t)),forward:e.isForward()}};const am=e=>({rng:e.getRng(),forward:e.isForward()});const cm=(e,t,o)=>{const n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",n,"&#xFEFF;"):e.create("span",n)};const im=(e,t)=>{const o=e.dom;let n=e.getRng();const s=o.uniqueId();const r=e.isCollapsed();const a=e.getNode();const c=a.nodeName;const i=e.isForward();if(c==="IMG"){return{name:c,index:Qf(o,c,a)}}const l=tm(n.cloneRange());if(!r){l.collapse(false);const e=cm(o,s+"_end",t);Rf(o,l,e)}n=tm(n);n.collapse(true);const d=cm(o,s+"_start",t);Rf(o,n,d);e.moveToBookmark({id:s,keep:true,forward:i});return{id:s,forward:i}};const lm=(e,t,o=false)=>{if(t===2){return sm(mu,o,e)}else if(t===3){return rm(e)}else if(t){return am(e)}else{return im(e,false)}};const dm=H(sm,B,true);const um=e=>e.type==="inline-command"||e.type==="inline-format";const fm=e=>e.type==="block-command"||e.type==="block-format";const mm=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t;const gm=e=>{var t;const o=t=>je.error({message:t,pattern:e});const n=(t,n,s)=>{if(e.format!==undefined){let s;if(_(e.format)){if(!de(e.format,v)){return o(t+" pattern has non-string items in the `format` array")}s=e.format}else if(v(e.format)){s=[e.format]}else{return o(t+" pattern has non-string `format` parameter")}return je.value(n(s))}else if(e.cmd!==undefined){if(!v(e.cmd)){return o(t+" pattern has non-string `cmd` parameter")}return je.value(s(e.cmd,e.value))}else{return o(t+" pattern is missing both `format` and `cmd` parameters")}};if(!k(e)){return o("Raw pattern is not an object")}if(!v(e.start)){return o("Raw pattern is missing `start` parameter")}if(e.end!==undefined){if(!v(e.end)){return o("Inline pattern has non-string `end` parameter")}if(e.start.length===0&&e.end.length===0){return o("Inline pattern has empty `start` and `end` parameters")}let t=e.start;let s=e.end;if(s.length===0){s=t;t=""}return n("Inline",e=>({type:"inline-format",start:t,end:s,format:e}),(e,o)=>({type:"inline-command",start:t,end:s,cmd:e,value:o}))}else if(e.replacement!==undefined){if(!v(e.replacement)){return o("Replacement pattern has non-string `replacement` parameter")}if(e.start.length===0){return o("Replacement pattern has empty `start` parameter")}return je.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement})}else{const s=(t=e.trigger)!==null&&t!==void 0?t:"space";if(e.start.length===0){return o("Block pattern has empty `start` parameter")}return n("Block",t=>({type:"block-format",start:e.start,format:t[0],trigger:s}),(t,o)=>({type:"block-command",start:e.start,cmd:t,value:o,trigger:s}))}};const pm=e=>oe(e,fm);const hm=e=>oe(e,um);const ym=(e,t)=>({inlinePatterns:hm(e),blockPatterns:pm(e),dynamicPatternsLookup:t});const bm=(e,t)=>({...e,blockPatterns:oe(e.blockPatterns,e=>mm(e,t))});const vm=e=>{const t=ct(J(e,gm));Q(t.errors,e=>console.error(e.message,e.pattern));return t.values};const km=e=>t=>{const o=e(t);return vm(o)};const wm=(e,t)=>e.dispatch("PreProcess",t);const _m=(e,t)=>e.dispatch("PostProcess",t);const xm=e=>{e.dispatch("remove")};const Cm=e=>{e.dispatch("detach")};const Sm=(e,t)=>{e.dispatch("SwitchMode",{mode:t})};const zm=(e,t,o,n,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:s})};const Tm=(e,t,o,n,s)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:s})};const Em=e=>{e.dispatch("PreInit")};const Om=e=>{e.dispatch("PostRender")};const Am=e=>{e.dispatch("Init")};const Dm=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})};const Mm=(e,t,o)=>{e.dispatch(t,o)};const Nm=(e,t,o,n)=>{e.dispatch("FormatApply",{format:t,node:o,vars:n})};const Rm=(e,t,o,n)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:n})};const Bm=(e,t)=>e.dispatch("BeforeSetContent",t);const Lm=(e,t)=>e.dispatch("SetContent",t);const Hm=(e,t)=>e.dispatch("BeforeGetContent",t);const Im=(e,t)=>e.dispatch("GetContent",t);const Pm=(e,t)=>{e.dispatch("AutocompleterStart",t)};const Fm=(e,t)=>{e.dispatch("AutocompleterUpdate",t)};const Vm=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)};const jm=e=>{e.dispatch("AutocompleterEnd")};const Zm=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o});const Um=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o});const qm=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t});const $m=(e,t)=>e.dispatch("EditableRootStateChange",{state:t});const Wm=(e,t)=>e.dispatch("DisabledStateChange",{state:t});const Gm=Ao().deviceType;const Km=Gm.isTouch();const Ym=ad.DOM;const Xm=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return se(t,(e,t)=>{const o=t.split("=");const n=o[0];const s=o.length>1?o[1]:n;e[bt(n)]=bt(s);return e},{})};const Jm=e=>b(e,RegExp);const Qm=e=>t=>t.options.get(e);const eg=e=>v(e)||k(e);const tg=(e,t="")=>o=>{const n=v(o);if(n){if(o.indexOf("=")!==-1){const s=Xm(o);return{value:Me(s,e.id).getOr(t),valid:n}}else{return{value:o,valid:n}}}else{return{valid:false,message:"Must be a string."}}};const og=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id});t("selector",{processor:"string"});t("target",{processor:"object"});t("suffix",{processor:"string"});t("cache_suffix",{processor:"string"});t("base_url",{processor:"string"});t("referrer_policy",{processor:"string",default:""});t("language_load",{processor:"boolean",default:true});t("inline",{processor:"boolean",default:false});t("iframe_attrs",{processor:"object",default:{}});t("doctype",{processor:"string",default:"<!DOCTYPE html>"});t("document_base_url",{processor:"string",default:e.documentBaseUrl});t("body_id",{processor:tg(e,"tinymce"),default:"tinymce"});t("body_class",{processor:tg(e),default:""});t("content_security_policy",{processor:"string",default:""});t("br_in_pre",{processor:"boolean",default:true});t("forced_root_block",{processor:e=>{const t=v(e)&&wt(e);if(t){return{value:e,valid:t}}else{return{valid:false,message:"Must be a non-empty string."}}},default:"p"});t("forced_root_block_attrs",{processor:"object",default:{}});t("newline_behavior",{processor:e=>{const t=Y(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: block, linebreak, invert or default."}},default:"default"});t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"});t("no_newline_selector",{processor:"string",default:""});t("keep_styles",{processor:"boolean",default:true});t("end_container_on_empty_block",{processor:e=>{if(C(e)){return{valid:true,value:e}}else if(v(e)){return{valid:true,value:e}}else{return{valid:false,message:"Must be boolean or a string"}}},default:"blockquote"});t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"});t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"});t("font_size_classes",{processor:"string",default:""});t("automatic_uploads",{processor:"boolean",default:true});t("images_reuse_filename",{processor:"boolean",default:false});t("images_replace_blob_uris",{processor:"boolean",default:true});t("icons",{processor:"string",default:""});t("icons_url",{processor:"string",default:""});t("images_upload_url",{processor:"string",default:""});t("images_upload_base_path",{processor:"string",default:""});t("images_upload_credentials",{processor:"boolean",default:false});t("images_upload_handler",{processor:"function"});t("language",{processor:"string",default:"en"});t("language_url",{processor:"string",default:""});t("entity_encoding",{processor:"string",default:"named"});t("indent",{processor:"boolean",default:true});t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"});t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"});t("indent_use_margin",{processor:"boolean",default:false});t("indentation",{processor:"string",default:"40px"});t("content_css",{processor:e=>{const t=e===false||v(e)||A(e,v);if(t){if(v(e)){return{value:J(e.split(","),bt),valid:t}}else if(_(e)){return{value:e,valid:t}}else if(e===false){return{value:[],valid:t}}else{return{value:e,valid:t}}}else{return{valid:false,message:"Must be false, a string or an array of strings."}}},default:Jg(e)?[]:["default"]});t("content_style",{processor:"string"});t("content_css_cors",{processor:"boolean",default:false});t("font_css",{processor:e=>{const t=v(e)||A(e,v);if(t){const o=_(e)?e:J(e.split(","),bt);return{value:o,valid:t}}else{return{valid:false,message:"Must be a string or an array of strings."}}},default:[]});t("extended_mathml_attributes",{processor:"string[]"});t("extended_mathml_elements",{processor:"string[]"});t("inline_boundaries",{processor:"boolean",default:true});t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"});t("object_resizing",{processor:e=>{const t=C(e)||v(e);if(t){if(e===false||Gm.isiPhone()||Gm.isiPad()){return{value:"",valid:t}}else{return{value:e===true?"table,img,figure.image,div,video,iframe":e,valid:t}}}else{return{valid:false,message:"Must be boolean or a string"}}},default:!Km});t("resize_img_proportional",{processor:"boolean",default:true});t("event_root",{processor:"string"});t("service_message",{processor:"string"});t("onboarding",{processor:"boolean",default:true});t("tiny_cloud_entry_url",{processor:"string"});t("theme",{processor:e=>e===false||v(e)||E(e),default:"silver"});t("theme_url",{processor:"string"});t("formats",{processor:"object"});t("format_empty_lines",{processor:"boolean",default:false});t("format_noneditable_selector",{processor:"string",default:""});t("preview_styles",{processor:e=>{const t=e===false||v(e);if(t){return{value:e===false?"":e,valid:t}}else{return{valid:false,message:"Must be false or a string"}}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"});t("custom_ui_selector",{processor:"string",default:""});t("hidden_input",{processor:"boolean",default:true});t("submit_patch",{processor:"boolean",default:true});t("encoding",{processor:"string"});t("add_form_submit_trigger",{processor:"boolean",default:true});t("add_unload_trigger",{processor:"boolean",default:true});t("custom_undo_redo_levels",{processor:"number",default:0});t("disable_nodechange",{processor:"boolean",default:false});t("disabled",{processor:t=>{if(C(t)){if(e.initialized&&th(e)!==t){Promise.resolve().then(()=>{Wm(e,t)})}return{valid:true,value:t}}return{valid:false,message:"The value must be a boolean."}},default:false});t("readonly",{processor:"boolean",default:false});t("editable_root",{processor:"boolean",default:true});t("plugins",{processor:"string[]",default:[]});t("external_plugins",{processor:"object"});t("forced_plugins",{processor:"string[]"});t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"});t("model_url",{processor:"string"});t("block_unsupported_drop",{processor:"boolean",default:true});t("visual",{processor:"boolean",default:true});t("visual_table_class",{processor:"string",default:"mce-item-table"});t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"});t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")});t("setup",{processor:"function"});t("init_instance_callback",{processor:"function"});t("url_converter",{processor:"function",default:e.convertURL});t("url_converter_scope",{processor:"object",default:e});t("urlconverter_callback",{processor:"function"});t("allow_conditional_comments",{processor:"boolean",default:false});t("allow_html_data_urls",{processor:"boolean",default:false});t("allow_svg_data_urls",{processor:"boolean"});t("allow_html_in_named_anchor",{processor:"boolean",default:false});t("allow_script_urls",{processor:"boolean",default:false});t("allow_unsafe_link_target",{processor:"boolean",default:false});t("allow_mathml_annotation_encodings",{processor:e=>{const t=A(e,v);return t?{value:e,valid:t}:{valid:false,message:"Must be an array of strings."}},default:[]});t("convert_fonts_to_spans",{processor:"boolean",default:true,deprecated:true});t("fix_list_elements",{processor:"boolean",default:false});t("preserve_cdata",{processor:"boolean",default:false});t("remove_trailing_brs",{processor:"boolean",default:true});t("pad_empty_with_br",{processor:"boolean",default:false});t("inline_styles",{processor:"boolean",default:true,deprecated:true});t("element_format",{processor:"string",default:"html"});t("entities",{processor:"string"});t("schema",{processor:"string",default:"html5"});t("convert_urls",{processor:"boolean",default:true});t("relative_urls",{processor:"boolean",default:true});t("remove_script_host",{processor:"boolean",default:true});t("custom_elements",{processor:eg});t("extended_valid_elements",{processor:"string"});t("invalid_elements",{processor:"string"});t("invalid_styles",{processor:eg});t("valid_children",{processor:"string"});t("valid_classes",{processor:eg});t("valid_elements",{processor:"string"});t("valid_styles",{processor:eg});t("verify_html",{processor:"boolean",default:true});t("auto_focus",{processor:e=>v(e)||e===true});t("browser_spellcheck",{processor:"boolean",default:false});t("protect",{processor:"array"});t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"});t("deprecation_warnings",{processor:"boolean",default:true});t("a11y_advanced_options",{processor:"boolean",default:false});t("api_key",{processor:"string"});t("license_key",{processor:"string"});t("paste_block_drop",{processor:"boolean",default:false});t("paste_data_images",{processor:"boolean",default:true});t("paste_preprocess",{processor:"function"});t("paste_postprocess",{processor:"function"});t("paste_webkit_styles",{processor:"string",default:"none"});t("paste_remove_styles_if_webkit",{processor:"boolean",default:true});t("paste_merge_formats",{processor:"boolean",default:true});t("smart_paste",{processor:"boolean",default:true});t("paste_as_text",{processor:"boolean",default:false});t("paste_tab_spaces",{processor:"number",default:4});t("text_patterns",{processor:e=>{if(A(e,k)||e===false){const t=e===false?[]:e;return{value:vm(t),valid:true}}else{return{valid:false,message:"Must be an array of objects or false."}}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]});t("text_patterns_lookup",{processor:e=>{if(E(e)){return{value:km(e),valid:true}}else{return{valid:false,message:"Must be a single function"}}},default:e=>[]});t("noneditable_class",{processor:"string",default:"mceNonEditable"});t("editable_class",{processor:"string",default:"mceEditable"});t("noneditable_regexp",{processor:e=>{if(A(e,Jm)){return{value:e,valid:true}}else if(Jm(e)){return{value:[e],valid:true}}else{return{valid:false,message:"Must be a RegExp or an array of RegExp."}}},default:[]});t("table_tab_navigation",{processor:"boolean",default:true});t("highlight_on_focus",{processor:"boolean",default:true});t("xss_sanitization",{processor:"boolean",default:true});t("details_initial_state",{processor:e=>{const t=Y(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"});t("details_serialized_state",{processor:e=>{const t=Y(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"});t("init_content_sync",{processor:"boolean",default:false});t("newdocument_content",{processor:"string",default:""});t("sandbox_iframes",{processor:"boolean",default:true});t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]});t("convert_unsafe_embeds",{processor:"boolean",default:true});e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:zd.isRtl()?"rtl":undefined});t("placeholder",{processor:"string",default:Ym.getAttrib(e.getElement(),"placeholder")})})};const ng=Qm("iframe_attrs");const sg=Qm("doctype");const rg=Qm("document_base_url");const ag=Qm("body_id");const cg=Qm("body_class");const ig=Qm("content_security_policy");const lg=Qm("br_in_pre");const dg=Qm("forced_root_block");const ug=Qm("forced_root_block_attrs");const fg=Qm("newline_behavior");const mg=Qm("br_newline_selector");const gg=Qm("no_newline_selector");const pg=Qm("keep_styles");const hg=Qm("end_container_on_empty_block");const yg=Qm("automatic_uploads");const bg=Qm("images_reuse_filename");const vg=Qm("images_replace_blob_uris");const kg=Qm("icons");const wg=Qm("icons_url");const _g=Qm("images_upload_url");const xg=Qm("images_upload_base_path");const Cg=Qm("images_upload_credentials");const Sg=Qm("images_upload_handler");const zg=Qm("content_css_cors");const Tg=Qm("referrer_policy");const Eg=Qm("language");const Og=Qm("language_url");const Ag=Qm("indent_use_margin");const Dg=Qm("indentation");const Mg=Qm("content_css");const Ng=Qm("content_style");const Rg=Qm("font_css");const Bg=Qm("directionality");const Lg=Qm("inline_boundaries_selector");const Hg=Qm("object_resizing");const Ig=Qm("resize_img_proportional");const Pg=Qm("placeholder");const Fg=Qm("event_root");const Vg=Qm("service_message");const jg=Qm("theme");const Zg=Qm("theme_url");const Ug=Qm("model");const qg=Qm("model_url");const $g=Qm("inline_boundaries");const Wg=Qm("formats");const Gg=Qm("preview_styles");const Kg=Qm("format_empty_lines");const Yg=Qm("format_noneditable_selector");const Xg=Qm("custom_ui_selector");const Jg=Qm("inline");const Qg=Qm("hidden_input");const ep=Qm("submit_patch");const tp=Qm("add_form_submit_trigger");const op=Qm("add_unload_trigger");const np=Qm("custom_undo_redo_levels");const sp=Qm("disable_nodechange");const rp=Qm("readonly");const ap=Qm("editable_root");const cp=Qm("content_css_cors");const ip=Qm("plugins");const lp=Qm("external_plugins");const dp=Qm("block_unsupported_drop");const up=Qm("visual");const fp=Qm("visual_table_class");const mp=Qm("visual_anchor_class");const gp=Qm("iframe_aria_text");const pp=Qm("setup");const hp=Qm("init_instance_callback");const yp=Qm("urlconverter_callback");const bp=Qm("auto_focus");const vp=Qm("browser_spellcheck");const kp=Qm("protect");const wp=Qm("paste_block_drop");const _p=Qm("paste_data_images");const xp=Qm("paste_preprocess");const Cp=Qm("paste_postprocess");const Sp=Qm("newdocument_content");const zp=Qm("paste_webkit_styles");const Tp=Qm("paste_remove_styles_if_webkit");const Ep=Qm("paste_merge_formats");const Op=Qm("smart_paste");const Ap=Qm("paste_as_text");const Dp=Qm("paste_tab_spaces");const Mp=Qm("allow_html_data_urls");const Np=Qm("text_patterns");const Rp=Qm("text_patterns_lookup");const Bp=Qm("noneditable_class");const Lp=Qm("editable_class");const Hp=Qm("noneditable_regexp");const Ip=Qm("preserve_cdata");const Pp=Qm("highlight_on_focus");const Fp=Qm("xss_sanitization");const Vp=Qm("init_content_sync");const jp=e=>e.options.isSet("text_patterns_lookup");const Zp=e=>Qo.explode(e.options.get("font_size_style_values"));const Up=e=>Qo.explode(e.options.get("font_size_classes"));const qp=e=>e.options.get("encoding")==="xml";const $p=e=>Qo.explode(e.options.get("images_file_types"));const Wp=Qm("table_tab_navigation");const Gp=Qm("details_initial_state");const Kp=Qm("details_serialized_state");const Yp=Qm("sandbox_iframes");const Xp=e=>e.options.get("sandbox_iframes_exclusions");const Jp=Qm("convert_unsafe_embeds");const Qp=Qm("license_key");const eh=Qm("api_key");const th=Qm("disabled");const oh=sc;const nh=hc;const sh=e=>{const t=e.parentNode;if(t){t.removeChild(e)}};const rh=e=>{const t=mu(e);return{count:e.length-t.length,text:t}};const ah=e=>{let t;while((t=e.data.lastIndexOf(uu))!==-1){e.deleteData(t,1)}};const ch=(e,t)=>{mh(e);return t};const ih=(e,t)=>{const o=rh(e.data.substr(0,t.offset()));const n=rh(e.data.substr(t.offset()));const s=o.text+n.text;if(s.length>0){ah(e);return Af(e,t.offset()-o.count)}else{return t}};const lh=(e,t)=>{const o=t.container();const n=K(be(o.childNodes),e).map(e=>e<t.offset()?Af(o,t.offset()-1):t).getOr(t);mh(e);return n};const dh=(e,t)=>nh(e)&&t.container()===e?ih(e,t):ch(e,t);const uh=(e,t)=>t.container()===e.parentNode?lh(e,t):ch(e,t);const fh=(e,t)=>Af.isTextPosition(t)?dh(e,t):uh(e,t);const mh=e=>{if(oh(e)&&vu(e)){if(ku(e)){e.removeAttribute("data-mce-caret")}else{sh(e)}}if(nh(e)){ah(e);if(e.data.length===0){sh(e)}}};const gh=zc;const ph=Ac;const hh=Ec;const yh="*[contentEditable=false],video,audio,embed,object";const bh=(e,t,o)=>{const n=Mu(t.getBoundingClientRect(),o);let s;let r;if(e.tagName==="BODY"){const t=e.ownerDocument.documentElement;s=e.scrollLeft||t.scrollLeft;r=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();s=e.scrollLeft-t.left;r=e.scrollTop-t.top}n.left+=s;n.right+=s;n.top+=r;n.bottom+=r;n.width=1;let a=t.offsetWidth-t.clientWidth;if(a>0){if(o){a*=-1}n.left+=a;n.right+=a}return n};const vh=e=>{var t,o;const n=sa(rn.fromDom(e),yh);for(let e=0;e<n.length;e++){const s=n[e].dom;let r=s.previousSibling;if(zu(r)){const e=r.data;if(e.length===1){(t=r.parentNode)===null||t===void 0?void 0:t.removeChild(r)}else{r.deleteData(e.length-1,1)}}r=s.nextSibling;if(Su(r)){const e=r.data;if(e.length===1){(o=r.parentNode)===null||o===void 0?void 0:o.removeChild(r)}else{r.deleteData(0,1)}}}};const kh=(e,t,o,n)=>{const s=dt();let r;let a;const c=dg(e);const i=e.dom;const l=(e,n)=>{let r;d();if(hh(n)){return null}if(o(n)){const o=Cu(c,n,e);const l=bh(t,n,e);i.setStyle(o,"top",l.top);i.setStyle(o,"caret-color","transparent");a=o;const d=i.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});i.setStyles(d,{...l});i.add(t,d);s.set({caret:d,element:n,before:e});if(e){i.addClass(d,"mce-visual-caret-before")}u();r=n.ownerDocument.createRange();r.setStart(o,0);r.setEnd(o,0)}else{a=wu(n,e);r=n.ownerDocument.createRange();if(_h(a.nextSibling)){r.setStart(a,0);r.setEnd(a,0)}else{r.setStart(a,1);r.setEnd(a,1)}return r}return r};const d=()=>{vh(t);if(a){mh(a);a=null}s.on(e=>{i.remove(e.caret);s.clear()});if(r){clearInterval(r);r=undefined}};const u=()=>{r=window.setInterval(()=>{s.on(e=>{if(n()){i.toggleClass(e.caret,"mce-visual-caret-hidden")}else{i.addClass(e.caret,"mce-visual-caret-hidden")}})},500)};const f=()=>{s.on(e=>{const o=bh(t,e.element,e.before);i.setStyles(e.caret,{...o})})};const m=()=>clearInterval(r);const g=()=>".mce-visual-caret {"+"position: absolute;"+"background-color: black;"+"background-color: currentcolor;"+"}"+".mce-visual-caret-hidden {"+"display: none;"+"}"+"*[data-mce-caret] {"+"position: absolute;"+"left: -1000px;"+"right: auto;"+"top: 0;"+"margin: 0;"+"padding: 0;"+"}";return{isShowing:s.isSet,show:l,hide:d,getCss:g,reposition:f,destroy:m}};const wh=()=>jo.browser.isFirefox();const _h=e=>gh(e)||ph(e);const xh=e=>{const t=_h(e)||mc(e)&&wh();return t&&Zn(rn.fromDom(e)).exists(Qr)};const Ch=Sc;const Sh=zc;const zh=Ac;const Th=lc("display","block table table-cell table-row table-caption list-item");const Eh=vu;const Oh=yu;const Ah=sc;const Dh=hc;const Mh=of;const Nh=e=>e===1;const Rh=e=>e===-1;const Bh=(e,t)=>{let o;while(o=e(t)){if(!Oh(o)){return o}}return null};const Lh=(e,t,o,n,s)=>{const r=new Ga(e,n);const a=Sh(e)||Oh(e);let c;if(Rh(t)){if(a){c=Bh(r.prev.bind(r),true);if(o(c)){return c}}while(c=Bh(r.prev.bind(r),s)){if(o(c)){return c}}}if(Nh(t)){if(a){c=Bh(r.next.bind(r),true);if(o(c)){return c}}while(c=Bh(r.next.bind(r),s)){if(o(c)){return c}}}return null};const Hh=(e,t)=>{const o=e=>Ch(e.dom);const n=e=>e.dom===t;return Mr(rn.fromDom(e),o,n).map(e=>e.dom).getOr(t)};const Ih=(e,t)=>{while(e&&e!==t){if(Th(e)){return e}e=e.parentNode}return null};const Ph=(e,t,o)=>Ih(e.container(),o)===Ih(t.container(),o);const Fh=(e,t)=>{if(!t){return U.none()}const o=t.container();const n=t.offset();if(!Ah(o)){return U.none()}return U.from(o.childNodes[n+e])};const Vh=(e,t)=>{var o;const n=(o=t.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createRange();if(e){s.setStartBefore(t);s.setEndBefore(t)}else{s.setStartAfter(t);s.setEndAfter(t)}return s};const jh=(e,t,o)=>Ih(t,e)===Ih(o,e);const Zh=(e,t,o)=>{const n=e?"previousSibling":"nextSibling";let s=o;while(s&&s!==t){let e=s[n];if(e&&Eh(e)){e=e[n]}if(Sh(e)||zh(e)){if(jh(t,e,s)){return e}break}if(Mh(e)){break}s=s.parentNode}return null};const Uh=H(Vh,true);const qh=H(Vh,false);const $h=(e,t,o)=>{let n;const s=H(Zh,true,t);const r=H(Zh,false,t);const a=o.startContainer;const c=o.startOffset;if(yu(a)){const e=Dh(a)?a.parentNode:a;const t=e.getAttribute("data-mce-caret");if(t==="before"){n=e.nextSibling;if(xh(n)){return Uh(n)}}if(t==="after"){n=e.previousSibling;if(xh(n)){return qh(n)}}}if(!o.collapsed){return o}if(hc(a)){if(Eh(a)){if(e===1){n=r(a);if(n){return Uh(n)}n=s(a);if(n){return qh(n)}}if(e===-1){n=s(a);if(n){return qh(n)}n=r(a);if(n){return Uh(n)}}return o}if(zu(a)&&c>=a.data.length-1){if(e===1){n=r(a);if(n){return Uh(n)}}return o}if(Su(a)&&c<=1){if(e===-1){n=s(a);if(n){return qh(n)}}return o}if(c===a.data.length){n=r(a);if(n){return Uh(n)}return o}if(c===0){n=s(a);if(n){return qh(n)}return o}}return o};const Wh=(e,t)=>Fh(e?0:-1,t).filter(Sh);const Gh=(e,t,o)=>{const n=$h(e,t,o);return e===-1?Af.fromRangeStart(n):Af.fromRangeEnd(n)};const Kh=e=>U.from(e.getNode()).map(rn.fromDom);const Yh=e=>U.from(e.getNode(true)).map(rn.fromDom);const Xh=(e,t)=>{let o=t;while(o=e(o)){if(o.isVisible()){return o}}return o};const Jh=(e,t)=>{const o=Ph(e,t);if(!o&&_c(e.getNode())){return true}return o};const Qh=zc;const ey=hc;const ty=sc;const oy=_c;const ny=of;const sy=cf;const ry=lf;const ay=(e,t)=>{const o=[];let n=e;while(n&&n!==t){o.push(n);n=n.parentNode}return o};const cy=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){return e.childNodes[t]}return null};const iy=(e,t)=>{if(Nh(e)){if(ny(t.previousSibling)&&!ey(t.previousSibling)){return Af.before(t)}if(ey(t)){return Af(t,0)}}if(Rh(e)){if(ny(t.nextSibling)&&!ey(t.nextSibling)){return Af.after(t)}if(ey(t)){return Af(t,t.data.length)}}if(Rh(e)){if(oy(t)){return Af.before(t)}return Af.after(t)}return Af.before(t)};const ly=(e,t)=>{const o=t.nextSibling;if(o&&ny(o)){if(ey(o)){return Af(o,0)}else{return Af.before(o)}}else{return dy(1,Af.after(t),e)}};const dy=(e,t,o)=>{let n;let s;let r;let a;if(!ty(o)||!t){return null}if(t.isEqual(Af.after(o))&&o.lastChild){a=Af.after(o.lastChild);if(Rh(e)&&ny(o.lastChild)&&ty(o.lastChild)){return oy(o.lastChild)?Af.before(o.lastChild):a}}else{a=t}const c=a.container();let i=a.offset();if(ey(c)){if(Rh(e)&&i>0){return Af(c,--i)}if(Nh(e)&&i<c.length){return Af(c,++i)}n=c}else{if(Rh(e)&&i>0){s=cy(c,i-1);if(ny(s)){if(!sy(s)){r=Lh(s,e,ry,s);if(r){if(ey(r)){return Af(r,r.data.length)}return Af.after(r)}}if(ey(s)){return Af(s,s.data.length)}return Af.before(s)}}if(Nh(e)&&i<c.childNodes.length){s=cy(c,i);if(ny(s)){if(oy(s)){return ly(o,s)}if(!sy(s)){r=Lh(s,e,ry,s);if(r){if(ey(r)){return Af(r,0)}return Af.before(r)}}if(ey(s)){return Af(s,0)}return Af.after(s)}}n=s?s:a.getNode()}if(n&&(Nh(e)&&a.isAtEnd()||Rh(e)&&a.isAtStart())){n=Lh(n,e,Z,o,true);if(ry(n,o)){return iy(e,n)}}s=n?Lh(n,e,ry,o):n;const l=jt(oe(ay(c,o),Qh));if(l&&(!s||!l.contains(s))){if(Nh(e)){a=Af.after(l)}else{a=Af.before(l)}return a}if(s){return iy(e,s)}return null};const uy=e=>({next:t=>dy(1,t,e),prev:t=>dy(-1,t,e)});const fy=(e,t,o)=>{const n=e?Af.before(o):Af.after(o);return vy(e,t,n)};const my=e=>_c(e)?Af.before(e):Af.after(e);const gy=e=>{if(Af.isTextPosition(e)){return e.offset()===0}else{return of(e.getNode())}};const py=e=>{if(Af.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else{return of(e.getNode(true))}};const hy=(e,t)=>!Af.isTextPosition(e)&&!Af.isTextPosition(t)&&e.getNode()===t.getNode(true);const yy=e=>!Af.isTextPosition(e)&&_c(e.getNode());const by=(e,t,o)=>{if(e){return!hy(t,o)&&!yy(t)&&py(t)&&gy(o)}else{return!hy(o,t)&&gy(t)&&py(o)}};const vy=(e,t,o)=>{const n=uy(t);return U.from(e?n.next(o):n.prev(o))};const ky=(e,t,o)=>vy(e,t,o).bind(n=>{if(Ph(o,n,t)&&by(e,o,n)){return vy(e,t,n)}else{return U.some(n)}});const wy=(e,t,o,n)=>ky(e,t,o).bind(o=>n(o)?wy(e,t,o,n):U.some(o));const _y=(e,t)=>{const o=e?t.firstChild:t.lastChild;if(hc(o)){return U.some(Af(o,e?0:o.data.length))}else if(o){if(of(o)){return U.some(e?Af.before(o):my(o))}else{return fy(e,t,o)}}else{return U.none()}};const xy=H(vy,true);const Cy=H(vy,false);const Sy=H(_y,true);const zy=H(_y,false);const Ty="_mce_caret";const Ey=e=>sc(e)&&e.id===Ty;const Oy=(e,t)=>{let o=t;while(o&&o!==e){if(Ey(o)){return o}o=o.parentNode}return null};const Ay=e=>v(e.start);const Dy=e=>Ne(e,"rng");const My=e=>Ne(e,"id");const Ny=e=>Ne(e,"name");const Ry=e=>Qo.isArray(e.start);const By=e=>!Ny(e)&&C(e.forward)?e.forward:true;const Ly=(e,t)=>{if(sc(t)&&e.isBlock(t)&&!t.innerHTML){t.innerHTML='<br data-mce-bogus="1" />'}return t};const Hy=(e,t)=>{const o=U.from(Gf(e.getRoot(),t.start));const n=U.from(Gf(e.getRoot(),t.end));return ot(o,n,(o,n)=>{const s=e.createRng();s.setStart(o.container(),o.offset());s.setEnd(n.container(),n.offset());return{range:s,forward:By(t)}})};const Iy=(e,t)=>{var o;const n=(o=e.ownerDocument)!==null&&o!==void 0?o:document;const s=n.createTextNode(uu);e.appendChild(s);t.setStart(s,0);t.setEnd(s,0)};const Py=e=>!e.hasChildNodes();const Fy=(e,t)=>zy(e).fold(j,e=>{t.setStart(e.container(),e.offset());t.setEnd(e.container(),e.offset());return true});const Vy=(e,t,o)=>{if(Py(t)&&Oy(e,t)){Iy(t,o);return true}else{return false}};const jy=(e,t,o,n)=>{const s=o[t?"start":"end"];const r=e.getRoot();if(s){let e=r;let o=s[0];for(let t=s.length-1;e&&t>=1;t--){const o=e.childNodes;if(Vy(r,e,n)){return true}if(s[t]>o.length-1){if(Vy(r,e,n)){return true}return Fy(e,n)}e=o[s[t]]}if(hc(e)){o=Math.min(s[0],e.data.length)}if(sc(e)){o=Math.min(s[0],e.childNodes.length)}if(t){n.setStart(e,o)}else{n.setEnd(e,o)}}return true};const Zy=e=>hc(e)&&e.data.length>0;const Uy=(e,t,o)=>{const n=e.get(o.id+"_"+t);const s=n===null||n===void 0?void 0:n.parentNode;const r=o.keep;if(n&&s){let a;let c;if(t==="start"){if(!r){a=s;c=e.nodeIndex(n)}else{if(n.hasChildNodes()){a=n.firstChild;c=1}else if(Zy(n.nextSibling)){a=n.nextSibling;c=0}else if(Zy(n.previousSibling)){a=n.previousSibling;c=n.previousSibling.data.length}else{a=s;c=e.nodeIndex(n)+1}}}else{if(!r){a=s;c=e.nodeIndex(n)}else{if(n.hasChildNodes()){a=n.firstChild;c=1}else if(Zy(n.previousSibling)){a=n.previousSibling;c=n.previousSibling.data.length}else{a=s;c=e.nodeIndex(n)}}}if(!r){const s=n.previousSibling;const r=n.nextSibling;Qo.each(Qo.grep(n.childNodes),e=>{if(hc(e)){e.data=e.data.replace(/\uFEFF/g,"")}});let i;while(i=e.get(o.id+"_"+t)){e.remove(i,true)}if(hc(r)&&hc(s)&&!jo.browser.isOpera()){const t=s.data.length;s.appendData(r.data);e.remove(r);a=s;c=t}}return U.some(Af(a,c))}else{return U.none()}};const qy=(e,t)=>{const o=e.createRng();if(jy(e,true,t,o)&&jy(e,false,t,o)){return U.some({range:o,forward:By(t)})}else{return U.none()}};const $y=(e,t)=>{const o=Uy(e,"start",t);const n=Uy(e,"end",t);return ot(o,n.or(o),(o,n)=>{const s=e.createRng();s.setStart(Ly(e,o.container()),o.offset());s.setEnd(Ly(e,n.container()),n.offset());return{range:s,forward:By(t)}})};const Wy=(e,t)=>U.from(e.select(t.name)[t.index]).map(t=>{const o=e.createRng();o.selectNode(t);return{range:o,forward:true}});const Gy=(e,t)=>{const o=e.dom;if(t){if(Ry(t)){return qy(o,t)}else if(Ay(t)){return Hy(o,t)}else if(My(t)){return $y(o,t)}else if(Ny(t)){return Wy(o,t)}else if(Dy(t)){return U.some({range:t.rng,forward:By(t)})}}return U.none()};const Ky=(e,t,o)=>lm(e,t,o);const Yy=(e,t)=>{Gy(e,t).each(({range:t,forward:o})=>{e.setRng(t,o)})};const Xy=e=>sc(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark";const Jy=e=>t=>e===t;const Qy=Jy(Ot);const eb=e=>e!==""&&" \f\n\r\t\v".indexOf(e)!==-1;const tb=e=>!eb(e)&&!Qy(e)&&!At(e);const ob=e=>{const t=[];if(e){for(let o=0;o<e.rangeCount;o++){t.push(e.getRangeAt(o))}}return t};const nb=e=>le(e,e=>{const t=Vu(e);return t?[rn.fromDom(t)]:[]});const sb=e=>ob(e).length>1;const rb=e=>oe(nb(e),su);const ab=e=>sa(e,"td[data-mce-selected],th[data-mce-selected]");const cb=(e,t)=>{const o=ab(t);return o.length>0?o:rb(e)};const ib=e=>cb(ob(e.selection.getSel()),rn.fromDom(e.getBody()));const lb=(e,t)=>Hr(e,"table",t);const db=e=>{const t=e.startContainer,o=e.startOffset;if(hc(t)){return o===0?U.some(rn.fromDom(t)):U.none()}else{return U.from(t.childNodes[o]).map(rn.fromDom)}};const ub=e=>{const t=e.endContainer,o=e.endOffset;if(hc(t)){return o===t.data.length?U.some(rn.fromDom(t)):U.none()}else{return U.from(t.childNodes[o-1]).map(rn.fromDom)}};const fb=e=>Jn(e).fold(R([e]),t=>[e].concat(fb(t)));const mb=e=>Qn(e).fold(R([e]),t=>{if(En(t)==="br"){return $n(t).map(t=>[e].concat(mb(t))).getOr([])}else{return[e].concat(mb(t))}});const gb=(e,t)=>ot(db(t),ub(t),(t,o)=>{const n=ae(fb(e),H(Sn,t));const s=ae(mb(e),H(Sn,o));return n.isSome()&&s.isSome()}).getOr(false);const pb=(e,t,o,n)=>{const s=o;const r=new Ga(o,s);const a=Oe(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!Y(["td","th","table"],t.toLowerCase()));let c=o;do{if(hc(c)&&Qo.trim(c.data).length!==0){if(n){t.setStart(c,0)}else{t.setEnd(c,c.data.length)}return}if(a[c.nodeName]){if(n){t.setStartBefore(c)}else{if(c.nodeName==="BR"){t.setEndBefore(c)}else{t.setEndAfter(c)}}return}}while(c=n?r.next():r.prev());if(s.nodeName==="BODY"){if(n){t.setStart(s,0)}else{t.setEnd(s,s.childNodes.length)}}};const hb=e=>{const t=e.selection.getSel();return T(t)&&t.rangeCount>0};const yb=(e,t)=>{const o=ib(e);if(o.length>0){Q(o,o=>{const n=o.dom;const s=e.dom.createRng();s.setStartBefore(n);s.setEndAfter(n);t(s,true)})}else{t(e.selection.getRng(),false)}};const bb=(e,t,o)=>{const n=im(e,t);o(n);e.moveToBookmark(n)};const vb=e=>O(e===null||e===void 0?void 0:e.nodeType);const kb=e=>sc(e)&&!Xy(e)&&!Ey(e)&&!uc(e);const wb=(e,t)=>{if(kb(t)&&!/^(TD|TH)$/.test(t.nodeName)){const o=e.getAttrib(t,"data-mce-selected");const n=parseInt(o,10);return!isNaN(n)&&n>0}else{return false}};const _b=(e,t,o)=>{const{selection:n,dom:s}=e;const r=n.getNode();const a=zc(r);bb(n,true,()=>{t()});const c=a&&zc(r);if(c&&s.isChildOf(r,e.getBody())){e.selection.select(r)}else if(o(n.getStart())){xb(s,n)}};const xb=(e,t)=>{var o,n;const s=t.getRng();const{startContainer:r,startOffset:a}=s;const c=t.getNode();if(wb(e,c)){return}if(sc(r)){const c=r.childNodes;const i=e.getRoot();let l;if(a<c.length){const t=c[a];l=new Ga(t,(o=e.getParent(t,e.isBlock))!==null&&o!==void 0?o:i)}else{const t=c[c.length-1];l=new Ga(t,(n=e.getParent(t,e.isBlock))!==null&&n!==void 0?n:i);l.next(true)}for(let o=l.current();o;o=l.next()){if(e.getContentEditable(o)==="false"){return}else if(hc(o)&&!Tb(o)){s.setStart(o,0);t.setRng(s);return}}}};const Cb=(e,t,o)=>{if(e){const n=t?"nextSibling":"previousSibling";for(e=o?e:e[n];e;e=e[n]){if(sc(e)||!Tb(e)){return e}}}return undefined};const Sb=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||mi(e,t);const zb=(e,t,o)=>e.schema.isValidChild(t,o);const Tb=(e,t=false)=>{if(T(e)&&hc(e)){const o=t?e.data.replace(/ /g," "):e.data;return Ya(o)}else{return false}};const Eb=e=>T(e)&&hc(e)&&e.length===0;const Ob=(e,t)=>{const o="[data-mce-cef-wrappable]";const n=Yg(e);const s=_t(n)?o:`${o},${n}`;return wn(rn.fromDom(t),s)};const Ab=(e,t)=>{const o=e.dom;return kb(t)&&o.getContentEditable(t)==="false"&&Ob(e,t)&&o.select('[contenteditable="true"]',t).length===0};const Db=(e,t)=>{if(E(e)){return e(t)}else if(T(t)){e=e.replace(/%(\w+)/g,(e,o)=>t[o]||e)}return e};const Mb=(e,t)=>{e=e||"";t=t||"";e=""+(e.nodeName||e);t=""+(t.nodeName||t);return e.toLowerCase()===t.toLowerCase()};const Nb=(e,t)=>{if(z(e)){return null}else{let o=String(e);if(t==="color"||t==="backgroundColor"){o=Nl(o)}if(t==="fontWeight"&&e===700){o="bold"}if(t==="fontFamily"){o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return o}};const Rb=(e,t,o)=>{const n=e.getStyle(t,o);return Nb(n,o)};const Bb=(e,t)=>{let o;e.getParent(t,t=>{if(sc(t)){o=e.getStyle(t,"text-decoration");return!!o&&o!=="none"}else{return false}});return o};const Lb=(e,t,o)=>e.getParents(t,o,e.getRoot());const Hb=(e,t,o)=>{const n=e.formatter.get(t);return T(n)&&X(n,o)};const Ib=(e,t)=>{const o=e=>{const t=e=>E(e)||e.length>1&&e.charAt(0)==="%";return X(["styles","attributes"],o=>Me(e,o).exists(e=>{const o=_(e)?e:De(e);return X(o,t)}))};return Hb(e,t,o)};const Pb=(e,t,o)=>{const n=["inline","block","selector","attributes","styles","classes"];const s=e=>Oe(e,(e,t)=>X(n,e=>e===t));return Hb(e,t,t=>{const n=s(t);return Hb(e,o,e=>{const t=s(e);return Be(n,t)})})};const Fb=e=>Re(e,"block");const Vb=e=>Fb(e)&&e.wrapper===true;const jb=e=>Fb(e)&&e.wrapper!==true;const Zb=e=>Re(e,"selector");const Ub=e=>Re(e,"inline");const qb=e=>Zb(e)&&Ub(e)&&Qe(Me(e,"mixed"),true);const $b=e=>Zb(e)&&e.expand!==false&&!Ub(e);const Wb=e=>{const t=[];let o=e;while(o){if(hc(o)&&o.data!==uu||o.childNodes.length>1){return[]}if(sc(o)){t.push(o)}o=o.firstChild}return t};const Gb=e=>Wb(e).length>0;const Kb=e=>Ey(e.dom)&&Gb(e.dom);const Yb=Xy;const Xb=Lb;const Jb=Tb;const Qb=Sb;const ev=e=>_c(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling;const tv=(e,t)=>{let o=t;while(o){if(sc(o)&&e.getContentEditable(o)){return e.getContentEditable(o)==="false"?o:t}o=o.parentNode}return t};const ov=(e,t,o,n)=>{const s=t.data;if(e){for(let e=o;e>0;e--){if(n(s.charAt(e-1))){return e}}}else{for(let e=o;e<s.length;e++){if(n(s.charAt(e))){return e}}}return-1};const nv=(e,t,o)=>ov(e,t,o,e=>Qy(e)||eb(e));const sv=(e,t,o)=>ov(e,t,o,tb);const rv=(e,t,o,n,s,r)=>{let a;const c=e.getParent(o,t=>Tc(t)||e.isBlock(t));const i=T(c)?c:t;const l=(t,o,n)=>{const r=Ud(e);const c=s?r.backwards:r.forwards;return U.from(c(t,o,(e,t)=>{if(Yb(e.parentNode)){return-1}else{a=e;return n(s,e,t)}},i))};const d=l(o,n,nv);return d.bind(e=>r?l(e.container,e.offset+(s?-1:0),sv):U.some(e)).orThunk(()=>a?U.some({container:a,offset:s?0:a.length}):U.none())};const av=(e,t,o,n,s)=>{const r=n[s];if(hc(n)&&_t(n.data)&&r){n=r}const a=Xb(e,n);for(let n=0;n<a.length;n++){for(let s=0;s<t.length;s++){const r=t[s];if(T(r.collapsed)&&r.collapsed!==o.collapsed){continue}if(Zb(r)&&e.is(a[n],r.selector)){return a[n]}}}return n};const cv=(e,t,o,n)=>{var s;let r=o;const a=e.getRoot();const c=t[0];if(Fb(c)){r=c.wrapper?null:e.getParent(o,c.block,a)}if(!r){const t=(s=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&s!==void 0?s:a;r=e.getParent(hc(o)?o.parentNode:o,t=>t!==a&&Qb(e.schema,t),t)}if(r&&Fb(c)&&c.wrapper){r=Xb(e,r,"ul,ol").reverse()[0]||r}if(!r){r=o;while(r&&r[n]&&!e.isBlock(r[n])){r=r[n];if(Mb(r,"br")){break}}}return r||o};const iv=(e,t,o,n)=>{const s=o.parentNode;if(T(o[n])){return false}else if(s===t||z(s)||e.isBlock(s)){return true}else{return iv(e,t,s,n)}};const lv=(e,t,o,n,s,r)=>{let a=o;const c=s?"previousSibling":"nextSibling";const i=e.getRoot();if(hc(o)&&!Jb(o)){if(s?n>0:n<o.data.length){return o}}while(a){if(Tc(a)){return o}if(!t[0].block_expand&&e.isBlock(a)){return r?a:o}for(let t=a[c];t;t=t[c]){const o=hc(t)&&!iv(e,i,t,c);if(!Yb(t)&&!ev(t)&&!Jb(t,o)){return a}}if(a===i||a.parentNode===i){o=a;break}a=a.parentNode}return o};const dv=e=>Yb(e.parentNode)||Yb(e);const uv=(e,t,o,n={})=>{const{includeTrailingSpace:s=false,expandToBlock:r=true}=n;const a=e.getParent(t.commonAncestorContainer,e=>Tc(e));const c=T(a)?a:e.getRoot();let{startContainer:i,startOffset:l,endContainer:d,endOffset:u}=t;const f=o[0];if(sc(i)&&i.hasChildNodes()){i=ju(i,l);if(hc(i)){l=0}}if(sc(d)&&d.hasChildNodes()){d=ju(d,t.collapsed?u:u-1);if(hc(d)){u=d.data.length}}i=tv(e,i);d=tv(e,d);if(dv(i)){i=Yb(i)?i:i.parentNode;if(t.collapsed){i=i.previousSibling||i}else{i=i.nextSibling||i}if(hc(i)){l=t.collapsed?i.length:0}}if(dv(d)){d=Yb(d)?d:d.parentNode;if(t.collapsed){d=d.nextSibling||d}else{d=d.previousSibling||d}if(hc(d)){u=t.collapsed?0:d.length}}if(t.collapsed){const t=rv(e,c,i,l,true,s);t.each(({container:e,offset:t})=>{i=e;l=t});const o=rv(e,c,d,u,false,s);o.each(({container:e,offset:t})=>{d=e;u=t})}if(Ub(f)||f.block_expand){if(!Ub(f)||(!hc(i)||l===0)){i=lv(e,o,i,l,true,r)}if(!Ub(f)||(!hc(d)||u===d.data.length)){d=lv(e,o,d,u,false,r)}}if($b(f)){i=av(e,o,t,i,"previousSibling");d=av(e,o,t,d,"nextSibling")}if(Fb(f)||Zb(f)){i=cv(e,o,i,"previousSibling");d=cv(e,o,d,"nextSibling");if(Fb(f)){if(!e.isBlock(i)){i=lv(e,o,i,l,true,r);if(hc(i)){l=0}}if(!e.isBlock(d)){d=lv(e,o,d,u,false,r);if(hc(d)){u=d.data.length}}}}if(sc(i)&&i.parentNode){l=e.nodeIndex(i);i=i.parentNode}if(sc(d)&&d.parentNode){u=e.nodeIndex(d)+1;d=d.parentNode}return{startContainer:i,startOffset:l,endContainer:d,endOffset:u}};const fv=(e,t,o)=>{var n;const s=t.startOffset;const r=ju(t.startContainer,s);const a=t.endOffset;const c=ju(t.endContainer,a-1);const i=e=>{const t=e[0];if(hc(t)&&t===r&&s>=t.data.length){e.splice(0,1)}const o=e[e.length-1];if(a===0&&e.length>0&&o===c&&hc(o)){e.splice(e.length-1,1)}return e};const l=(e,t,o)=>{const n=[];for(;e&&e!==o;e=e[t]){n.push(e)}return n};const d=(t,o)=>e.getParent(t,e=>e.parentNode===o,o);const u=(e,t,n)=>{const s=n?"nextSibling":"previousSibling";for(let r=e,a=r.parentNode;r&&r!==t;r=a){a=r.parentNode;const t=l(r===e?r:r[s],s);if(t.length){if(!n){t.reverse()}o(i(t))}}};if(r===c){return o(i([r]))}const f=(n=e.findCommonAncestor(r,c))!==null&&n!==void 0?n:e.getRoot();if(e.isChildOf(r,c)){return u(r,f,true)}if(e.isChildOf(c,r)){return u(c,f)}const m=d(r,f)||r;const g=d(c,f)||c;u(r,m,true);const p=l(m===r?m:m.nextSibling,"nextSibling",g===c?g.nextSibling:g);if(p.length){o(i(p))}u(c,g)};const mv=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"];const gv=e=>Rn(e)&&Sr(e)===uu;const pv=(e,t,o,n)=>Zn(t).fold(()=>"skipping",s=>{if(n==="br"||gv(t)){return"valid"}else if(Ld(t)){return"existing"}else if(Ey(t.dom)){return"caret"}else if(X(mv,e=>wn(t,e))){return"valid-block"}else if(!zb(e,o,n)||!zb(e,En(s),o)){return"invalid-child"}else{return"valid"}});const hv=(e,t)=>{const o=uv(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset);t.setEnd(o.endContainer,o.endOffset);e.selection.setRng(t)};const yv=(e,t,o,n,s,r)=>{const{uid:a=t,...c}=o;qr(e,Ed());Ds(e,`${Ad()}`,a);Ds(e,`${Od()}`,n);const{attributes:i={},classes:l=[]}=s(a,c);Ms(e,i);Yr(e,l);if(r){if(l.length>0){Ds(e,`${Md()}`,l.join(","))}const t=we(i);if(t.length>0){Ds(e,`${Nd()}`,t.join(","))}}};const bv=e=>{Wr(e,Ed());Ls(e,`${Ad()}`);Ls(e,`${Od()}`);Ls(e,`${Dd()}`);const t=Rs(e,`${Nd()}`).map(e=>e.split(",")).getOr([]);const o=Rs(e,`${Md()}`).map(e=>e.split(",")).getOr([]);Q(t,t=>Ls(e,t));Xr(e,o);Ls(e,`${Md()}`);Ls(e,`${Nd()}`)};const vv=(e,t,o,n,s)=>{const r=rn.fromTag("span",e);yv(r,t,o,n,s,false);return r};const kv=(e,t,o,n,s,r)=>{const a=[];const c=vv(e.getDoc(),o,r,n,s);const i=dt();const l=()=>{i.clear()};const d=()=>i.get().getOrThunk(()=>{const e=Zs(c);a.push(e);i.set(e);return e});const u=e=>{Q(e,f)};const f=t=>{const a=pv(e,t,"span",En(t));switch(a){case"invalid-child":{l();const e=Yn(t);u(e);l();break}case"valid-block":{l();yv(t,o,r,n,s,true);break}case"valid":{const e=d();Ts(t,e);break}}};const m=e=>{const t=J(e,rn.fromDom);u(t)};fv(e.dom,t,e=>{l();m(e)});return a};const wv=(e,t,o,n)=>{e.undoManager.transact(()=>{const s=e.selection;const r=s.getRng();const a=ib(e).length>0;const c=We("mce-annotation");if(r.collapsed&&!a){hv(e,r)}if(s.getRng().collapsed&&!a){const r=vv(e.getDoc(),c,n,t,o.decorate);Ys(r,Ot);s.getRng().insertNode(r.dom);s.select(r.dom)}else{bb(s,false,()=>{yb(e,s=>{kv(e,s,c,t,o.decorate,n)})})}})};const _v=e=>{const t=jd();Vd(e,t);const o=Fd(e,t);const n=Hn("span");const s=e=>{Q(e,e=>{if(n(e)){Vs(e)}else{bv(e)}})};return{register:(e,o)=>{t.register(e,o)},annotate:(o,n)=>{t.lookup(o).each(t=>{wv(e,o,t,n)})},annotationChanged:(e,t)=>{o.addListener(e,t)},remove:t=>{Bd(e,U.some(t)).each(({elements:t})=>{const o=e.selection.getBookmark();s(t);e.selection.moveToBookmark(o)})},removeAll:t=>{const o=e.selection.getBookmark();xe(Pd(e,t),(e,t)=>{s(e)});e.selection.moveToBookmark(o)},getAll:t=>{const o=Pd(e,t);return Ce(o,e=>J(e,e=>e.dom))}}};const xv=e=>({getBookmark:H(Ky,e),moveToBookmark:H(Yy,e)});xv.isBookmarkNode=Xy;const Cv=(e,t,o)=>{if(o.collapsed){return false}else{return X(o.getClientRects(),o=>Hu(o,e,t))}};const Sv=(e,t)=>{const o=Rn(t)?Sr(t).length:Yn(t).length+1;if(e>o){return o}else if(e<0){return 0}return e};const zv=e=>Ra.range(e.start,Sv(e.soffset,e.start),e.finish,Sv(e.foffset,e.finish));const Tv=(e,t)=>!nc(t.dom)&&(zn(e,t)||Sn(e,t));const Ev=e=>t=>Tv(e,t.start)&&Tv(e,t.finish);const Ov=e=>e.inline||jo.browser.isFirefox();const Av=e=>Ra.range(rn.fromDom(e.startContainer),e.startOffset,rn.fromDom(e.endContainer),e.endOffset);const Dv=e=>{const t=e.getSelection();const o=!t||t.rangeCount===0?U.none():U.from(t.getRangeAt(0));return o.map(Av)};const Mv=e=>{const t=Vn(e);return Dv(t.dom).filter(Ev(e))};const Nv=(e,t)=>U.from(t).filter(Ev(e)).map(zv);const Rv=e=>{const t=document.createRange();try{t.setStart(e.start.dom,e.soffset);t.setEnd(e.finish.dom,e.foffset);return U.some(t)}catch(e){return U.none()}};const Bv=e=>{const t=Ov(e)?Mv(rn.fromDom(e.getBody())):U.none();e.bookmark=t.isSome()?t:e.bookmark};const Lv=e=>{const t=e.bookmark?e.bookmark:U.none();return t.bind(t=>Nv(rn.fromDom(e.getBody()),t)).bind(Rv)};const Hv=e=>{Lv(e).each(t=>e.selection.setRng(t))};const Iv=e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1};const Pv={isEditorUIElement:Iv};const Fv=(e,t)=>{if(!O(t)){t=0}return window.setTimeout(e,t)};const Vv=(e,t)=>{if(!O(t)){t=0}return window.setInterval(e,t)};const jv={setEditorTimeout:(e,t,o)=>Fv(()=>{if(!e.removed){t()}},o),setEditorInterval:(e,t,o)=>{const n=Vv(()=>{if(!e.removed){t()}else{window.clearInterval(n)}},o);return n}};const Zv=(e,t)=>{const o=e.view(t);return o.fold(R([]),t=>{const o=e.owner(t);const n=Zv(e,o);return[t].concat(n)})};const Uv=(e,t)=>{const o=t.owner(e);return Zv(t,o)};const qv=e=>{var t;const o=e.dom===document?U.none():U.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return o.map(rn.fromDom)};const $v=e=>Pn(e);var Wv=Object.freeze({__proto__:null,view:qv,owner:$v});const Gv=e=>{const t=bs();const o=vr(t);const n=Uv(e,Wv);const s=br(e);const r=ne(n,(e,t)=>{const o=br(t);return{left:e.left+o.left,top:e.top+o.top}},{left:0,top:0});return gr(r.left+s.left+o.left,r.top+s.top+o.top)};const Kv=e=>e.type==="nodechange"&&e.selectionChange;const Yv=(e,t)=>{const o=()=>{t.throttle()};ad.DOM.bind(document,"mouseup",o);e.on("remove",()=>{ad.DOM.unbind(document,"mouseup",o)})};const Xv=(e,t)=>{e.on("mouseup touchend",e=>{t.throttle()})};const Jv=(e,t)=>{Xv(e,t);e.on("keyup NodeChange AfterSetSelectionRange",t=>{if(!Kv(t)){Bv(e)}})};const Qv=e=>{const t=St(()=>{Bv(e)},0);e.on("init",()=>{if(e.inline){Yv(e,t)}Jv(e,t)});e.on("remove",()=>{t.cancel()})};let ek;const tk=ad.DOM;const ok=e=>sc(e)&&Pv.isEditorUIElement(e);const nk=e=>{const t=e.classList;if(t!==undefined){return t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body")}else{return false}};const sk=(e,t)=>{const o=Xg(e);const n=tk.getParent(t,t=>ok(t)||(o?e.dom.is(t,o):false));return n!==null};const rk=e=>{try{const t=ns(rn.fromDom(e.getElement()));return ws(t).fold(()=>document.body,e=>e.dom)}catch(e){return document.body}};const ak=(e,t)=>{const o=t.editor;Qv(o);const n=(e,t)=>{if(Pp(e)&&e.inline!==true){const o=rn.fromDom(e.getContainer());t(o,"tox-edit-focus")}};const s=e=>{const t=25;if(!e.iframeElement){return}const o=rn.fromDom(e.iframeElement);const n=Gv(o);const s=Wa(window);if(n.top<s.y||n.top>s.bottom-t){o.dom.scrollIntoView({block:"center"})}};o.on("focusin",()=>{const t=e.focusedEditor;if(nk(rk(o))){n(o,qr)}if(t!==o){if(t){t.dispatch("blur",{focusedEditor:o})}e.setActive(o);e.focusedEditor=o;o.dispatch("focus",{blurredEditor:t});o.focus(true);const n=Ao().browser;if(o.inline!==true&&(n.isSafari()||n.isChromium())){s(o)}}});o.on("focusout",()=>{jv.setEditorTimeout(o,()=>{const t=e.focusedEditor;if(!nk(rk(o))||t!==o){n(o,Wr)}if(!sk(o,rk(o))&&t===o){o.dispatch("blur",{focusedEditor:null});e.focusedEditor=null}})});if(!ek){ek=t=>{const o=e.activeEditor;if(o){is(t).each(t=>{const n=t;if(n.ownerDocument===document){if(n!==document.body&&!sk(o,n)&&e.focusedEditor===o){o.dispatch("blur",{focusedEditor:null});e.focusedEditor=null}}})}};tk.bind(document,"focusin",ek)}};const ck=(e,t)=>{if(e.focusedEditor===t.editor){e.focusedEditor=null}if(!e.activeEditor&&ek){tk.unbind(document,"focusin",ek);ek=null}};const ik=e=>{e.on("AddEditor",H(ak,e));e.on("RemoveEditor",H(ck,e))};const lk=(e,t)=>e.dom.getParent(t,t=>e.dom.getContentEditable(t)==="true");const dk=(e,t)=>e.dom.getParent(t,t=>e.dom.getContentEditable(t)==="false")!==null;const uk=e=>e.collapsed?U.from(ju(e.startContainer,e.startOffset)).map(rn.fromDom):U.none();const fk=(e,t)=>uk(t).bind(t=>{if(nu(t)){return U.some(t)}else if(!zn(e,t)){return U.some(e)}else{return U.none()}});const mk=(e,t)=>{fk(rn.fromDom(e.getBody()),t).bind(e=>Sy(e.dom)).fold(()=>{e.selection.normalize()},t=>e.selection.setRng(t.toRange()))};const gk=e=>{if(e.setActive){try{e.setActive()}catch(t){e.focus()}}else{e.focus()}};const pk=e=>ks(e)||_s(e).isSome();const hk=e=>T(e.iframeElement)&&ks(rn.fromDom(e.iframeElement));const yk=e=>{const t=e.getBody();return t&&pk(rn.fromDom(t))};const bk=e=>{const t=ns(rn.fromDom(e.getElement()));return ws(t).filter(t=>!nk(t.dom)&&sk(e,t.dom)).isSome()};const vk=e=>e.inline?yk(e):hk(e);const kk=e=>vk(e)||bk(e);const wk=e=>{const t=e.selection;const o=e.getBody();let n=t.getRng();e.quirks.refreshContentEditable();const s=e=>{Lv(e).each(t=>{e.selection.setRng(t);n=t})};if(!vk(e)&&e.hasEditableRoot()){s(e)}const r=lk(e,t.getNode());if(r&&e.dom.isChildOf(r,o)){if(!dk(e,r)){gk(o)}gk(r);if(!e.hasEditableRoot()){s(e)}mk(e,n);_k(e);return}if(!e.inline){if(!jo.browser.isOpera()){gk(o)}e.getWin().focus()}if(jo.browser.isFirefox()||e.inline){gk(o);mk(e,n)}_k(e)};const _k=e=>e.editorManager.setActive(e);const xk=(e,t)=>{if(e.removed){return}if(t){_k(e)}else{wk(e)}};const Ck={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||Ck.metaKeyPressed(e),metaKeyPressed:e=>jo.os.isMacOS()||jo.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey};const Sk="data-mce-selected";const zk="table,img,figure.image,hr,video,span.mce-preview-object,details";const Tk=Math.abs;const Ek=Math.round;const Ok={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};const Ak=e=>e.type==="longpress"||e.type.indexOf("touch")===0;const Dk=(e,t)=>{const o=t.dom;const n=t.getDoc();const s=document;const r=t.getBody();let a,c,i,l,d;let u,f,m,g,p,h;let y;let b;let v;let k;const w=e=>T(e)&&(xc(e)||o.is(e,"figure.image"));const _=e=>Ac(e)||o.hasClass(e,"mce-preview-object");const x=(e,t)=>{if(Ak(e)){const o=e.touches[0];return w(e.target)&&!Cv(o.clientX,o.clientY,t)}else{return w(e.target)&&!Cv(e.clientX,e.clientY,t)}};const C=e=>{const o=e.target;if(x(e,t.selection.getRng())&&!e.isDefaultPrevented()){t.selection.select(o)}};const S=e=>{if(o.hasClass(e,"mce-preview-object")&&T(e.firstElementChild)){return[e,e.firstElementChild]}else if(o.is(e,"figure.image")){return[e.querySelector("img")]}else{return[e]}};const z=e=>{const n=Hg(t);if(!n||t.mode.isReadOnly()){return false}if(e.getAttribute("data-mce-resize")==="false"){return false}if(e===t.getBody()){return false}if(o.hasClass(e,"mce-preview-object")&&T(e.firstElementChild)){return wn(rn.fromDom(e.firstElementChild),n)}else{return wn(rn.fromDom(e),n)}};const E=(e,t)=>{if(_(t)){return e.create("img",{src:jo.transparentSrc})}else if(mc(t)){const o=pt(l.name,"n");const n=o?he:ye;const s=t.cloneNode(true);n(e.select("tr",s)).each(t=>{const o=e.select("td,th",t);e.setStyle(t,"height",null);Q(o,t=>e.setStyle(t,"height",null))});return s}else{return t.cloneNode(true)}};const O=(e,n,s)=>{if(T(s)){const r=S(e);Q(r,e=>{if(e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)){o.setStyle(e,n,s)}else{o.setAttrib(e,n,""+s)}})}};const A=(e,t,o)=>{O(e,"width",t);O(e,"height",o)};const D=e=>{let n,s,d;let x,C;n=e.screenX-u;s=e.screenY-f;y=n*l[2]+m;b=s*l[3]+g;y=y<5?5:y;b=b<5?5:b;if((w(a)||_(a))&&Ig(t)!==false){d=!Ck.modifierPressed(e)}else{d=Ck.modifierPressed(e)}if(d){if(Tk(n)>Tk(s)){b=Ek(y*p);y=Ek(b/p)}else{y=Ek(b/p);b=Ek(y*p)}}A(c,y,b);x=l.startPos.x+n;C=l.startPos.y+s;x=x>0?x:0;C=C>0?C:0;o.setStyles(i,{left:x,top:C,display:"block"});i.innerHTML=y+" &times; "+b;n=r.scrollWidth-v;s=r.scrollHeight-k;if(n+s!==0){o.setStyles(i,{left:x-n,top:C-s})}if(!h){zm(t,a,m,g,"corner-"+l.name);h=true}};const M=()=>{const e=h;h=false;if(e){O(a,"width",y);O(a,"height",b)}o.unbind(n,"mousemove",D);o.unbind(n,"mouseup",M);if(s!==n){o.unbind(s,"mousemove",D);o.unbind(s,"mouseup",M)}o.remove(c);o.remove(i);o.remove(d);N(a);if(e){Tm(t,a,y,b,"corner-"+l.name);o.setAttrib(a,"style",o.getAttrib(a,"style"))}t.nodeChanged()};const N=e=>{I();const h=o.getPos(e,r);const w=h.x;const _=h.y;const x=e.getBoundingClientRect();const C=x.width||x.right-x.left;const T=x.height||x.bottom-x.top;if(a!==e){B();a=e;y=b=0}const O=t.dispatch("ObjectSelected",{target:e});if(z(e)&&!O.isDefaultPrevented()){xe(Ok,(e,t)=>{const h=h=>{const y=S(a)[0];u=h.screenX;f=h.screenY;m=y.clientWidth;g=y.clientHeight;p=g/m;l=e;l.name=t;l.startPos={x:C*e[0]+w,y:T*e[1]+_};v=r.scrollWidth;k=r.scrollHeight;d=o.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"});o.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"});c=E(o,a);o.addClass(c,"mce-clonedresizable");o.setAttrib(c,"data-mce-bogus","all");c.contentEditable="false";o.setStyles(c,{left:w,top:_,margin:0});A(c,C,T);c.removeAttribute(Sk);r.appendChild(c);o.bind(n,"mousemove",D);o.bind(n,"mouseup",M);if(s!==n){o.bind(s,"mousemove",D);o.bind(s,"mouseup",M)}i=o.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+g)};let y=o.get("mceResizeHandle"+t);if(y){o.remove(y)}y=o.add(r,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:true,style:"cursor:"+t+"-resize; margin:0; padding:0"});o.bind(y,"mousedown",e=>{e.stopImmediatePropagation();e.preventDefault();h(e)});e.elm=y;o.setStyles(y,{left:C*e[0]+w-y.offsetWidth/2,top:T*e[1]+_-y.offsetHeight/2})})}else{B(false)}};const R=St(N,0);const B=(e=true)=>{R.cancel();I();if(a&&e){a.removeAttribute(Sk)}xe(Ok,(e,t)=>{const n=o.get("mceResizeHandle"+t);if(n){o.unbind(n);o.remove(n)}})};const L=(e,t)=>o.isChildOf(e,t);const H=n=>{if(h||t.removed||t.composing){return}const s=n.type==="mousedown"?n.target:e.getNode();const a=Pr(rn.fromDom(s),zk).map(e=>e.dom).filter(e=>o.isEditable(e.parentElement)||e.nodeName==="IMG"&&o.isEditable(e)).getOrUndefined();const c=T(a)?o.getAttrib(a,Sk,"1"):"1";Q(o.select(`img[${Sk}],hr[${Sk}]`),e=>{e.removeAttribute(Sk)});if(T(a)&&L(a,r)&&kk(t)){P();const t=e.getStart(true);if(L(t,a)&&L(e.getEnd(true),a)){o.setAttrib(a,Sk,c);R.throttle(a);return}}B()};const I=()=>{xe(Ok,e=>{if(e.elm){o.unbind(e.elm);delete e.elm}})};const P=()=>{try{t.getDoc().execCommand("enableObjectResizing",false,"false")}catch(e){}};t.on("init",()=>{P();t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",H);t.on("keyup compositionend",e=>{if(a&&a.nodeName==="TABLE"){H(e)}});t.on("hide blur",B);t.on("contextmenu longpress",C,true)});t.on("remove",I);const F=()=>{R.cancel();a=c=d=null};return{isResizable:z,showResizeRect:N,hideResizeRect:B,updateResizeRect:H,destroy:F}};const Mk=(e,t,o)=>{const n=Vn(rn.fromDom(o));return Ua(n.dom,e,t).map(e=>{const t=o.createRange();t.setStart(e.start.dom,e.soffset);t.setEnd(e.finish.dom,e.foffset);return t}).getOrUndefined()};const Nk=(e,t)=>T(e)&&T(t)&&(e.startContainer===t.startContainer&&e.startOffset===t.startOffset)&&(e.endContainer===t.endContainer&&e.endOffset===t.endOffset);const Rk=(e,t,o)=>{let n=e;while(n&&n!==t){if(o(n)){return n}n=n.parentNode}return null};const Bk=(e,t,o)=>Rk(e,t,o)!==null;const Lk=(e,t,o)=>Bk(e,t,e=>e.nodeName===o);const Hk=(e,t)=>vu(e)&&!Bk(e,t,Ey);const Ik=(e,t,o)=>{const n=t.parentNode;if(n){const s=new Ga(t,e.getParent(n,e.isBlock)||e.getRoot());let r;while(r=s[o?"prev":"next"]()){if(_c(r)){return true}}}return false};const Pk=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t};const Fk=(e,t)=>{let o=t;while(o&&o!==e){if(zc(o)){return true}o=o.parentNode}return false};const Vk=(e,t,o,n,s)=>{const r=e.getRoot();const a=e.schema.getNonEmptyElements();const c=s.parentNode;let i;let l;if(!c){return U.none()}const d=e.getParent(c,e.isBlock)||r;if(n&&_c(s)&&t&&e.isEmpty(d)){return U.some(Af(c,e.nodeIndex(s)))}const u=new Ga(s,d);while(l=u[n?"prev":"next"]()){if(e.getContentEditableParent(l)==="false"||Hk(l,r)){return U.none()}if(hc(l)&&l.data.length>0){if(!Lk(l,r,"A")){return U.some(Af(l,n?l.data.length:0))}return U.none()}if(e.isBlock(l)||a[l.nodeName.toLowerCase()]){return U.none()}i=l}if(vc(i)){return U.none()}if(o&&i){return U.some(Af(i,0))}return U.none()};const jk=(e,t,o,n)=>{const s=e.getRoot();let r;let a=false;let c=o?n.startContainer:n.endContainer;let i=o?n.startOffset:n.endOffset;const l=sc(c)&&i===c.childNodes.length;const d=e.schema.getNonEmptyElements();let u=o;if(vu(c)){return U.none()}if(sc(c)&&i>c.childNodes.length-1){u=false}if(kc(c)){c=s;i=0}if(c===s){if(u){r=c.childNodes[i>0?i-1:0];if(r){if(vu(r)){return U.none()}if(d[r.nodeName]||mc(r)){return U.none()}}}if(c.hasChildNodes()){i=Math.min(!u&&i>0?i-1:i,c.childNodes.length-1);c=c.childNodes[i];i=hc(c)&&l?c.data.length:0;if(!t&&c===s.lastChild&&mc(c)){return U.none()}if(Fk(s,c)||vu(c)){return U.none()}if(Mc(c)){return U.none()}if(c.hasChildNodes()&&!mc(c)){r=c;const t=new Ga(c,s);do{if(zc(r)||vu(r)){a=false;break}if(hc(r)&&r.data.length>0){i=u?0:r.data.length;c=r;a=true;break}if(d[r.nodeName.toLowerCase()]&&!Oc(r)){i=e.nodeIndex(r);c=r.parentNode;if(!u){i++}a=true;break}}while(r=u?t.next():t.prev())}}}if(t){if(hc(c)&&i===0){Vk(e,l,t,true,c).each(e=>{c=e.container();i=e.offset();a=true})}if(sc(c)){r=c.childNodes[i];if(!r){r=c.childNodes[i-1]}if(r&&_c(r)&&!Pk(r,"A")&&!Ik(e,r,false)&&!Ik(e,r,true)){Vk(e,l,t,true,r).each(e=>{c=e.container();i=e.offset();a=true})}}}if(u&&!t&&hc(c)&&i===c.data.length){Vk(e,l,t,false,c).each(e=>{c=e.container();i=e.offset();a=true})}return a&&c?U.some(Af(c,i)):U.none()};const Zk=(e,t)=>{const o=t.collapsed,n=t.cloneRange();const s=Af.fromRangeStart(t);jk(e,o,true,n).each(e=>{if(!o||!Af.isAbove(s,e)){n.setStart(e.container(),e.offset())}});if(!o){jk(e,o,false,n).each(e=>{n.setEnd(e.container(),e.offset())})}if(o){n.collapse(true)}return Nk(t,n)?U.none():U.some(n)};const Uk=(e,t)=>e.splitText(t);const qk=e=>{let t=e.startContainer,o=e.startOffset,n=e.endContainer,s=e.endOffset;if(t===n&&hc(t)){if(o>0&&o<t.data.length){n=Uk(t,o);t=n.previousSibling;if(s>o){s=s-o;const e=Uk(n,s).previousSibling;t=n=e;s=e.data.length;o=0}else{s=0}}}else{if(hc(t)&&o>0&&o<t.data.length){t=Uk(t,o);o=0}if(hc(n)&&s>0&&s<n.data.length){const e=Uk(n,s).previousSibling;n=e;s=e.data.length}}return{startContainer:t,startOffset:o,endContainer:n,endOffset:s}};const $k=e=>{const t=(t,o)=>fv(e,t,o);const o=qk;const n=t=>Zk(e,t).fold(j,e=>{t.setStart(e.startContainer,e.startOffset);t.setEnd(e.endContainer,e.endOffset);return true});const s=(t,o={type:"word"})=>{if(o.type==="word"){const o=uv(e,t,[{inline:"span"}],{includeTrailingSpace:false,expandToBlock:false});const n=e.createRng();n.setStart(o.startContainer,o.startOffset);n.setEnd(o.endContainer,o.endOffset);return n}return t};return{walk:t,split:o,expand:s,normalize:n}};$k.compareRanges=Nk;$k.getCaretRangeFromPoint=Mk;$k.getSelectedNode=Vu;$k.getNode=ju;const Wk=e=>En(e)==="textarea";const Gk=(e,t)=>{const o=e.dispatch("ScrollIntoView",t);return o.isDefaultPrevented()};const Kk=(e,t)=>{e.dispatch("AfterScrollIntoView",t)};const Yk=(e,t)=>{const o=Yn(e);if(o.length===0||Wk(e)){return{element:e,offset:t}}else if(t<o.length&&!Wk(o[t])){return{element:o[t],offset:0}}else{const n=o[o.length-1];if(Wk(n)){return{element:e,offset:t}}else{if(En(n)==="img"){return{element:n,offset:1}}else if(Rn(n)){return{element:n,offset:Sr(n).length}}else{return{element:n,offset:Yn(n).length}}}}};const Xk=(e,t)=>{const o=yr(e);const n=fr(e);return{element:e,bottom:o.top+n,height:n,pos:o,cleanup:t}};const Jk=(e,t)=>{const o=Yk(e,t);const n=rn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+uu+"</span>");xs(o.element,n);return Xk(n,()=>Fs(n))};const Qk=e=>Xk(rn.fromDom(e),D);const ew=(e,t,o,n)=>{sw(e,(s,r)=>ow(e,t,o,n),o)};const tw=(e,t,o,n,s)=>{const r={elm:n.element.dom,alignToTop:s};if(Gk(e,r)){return}const a=vr(t).top;o(e,t,a,n,s);Kk(e,r)};const ow=(e,t,o,n)=>{const s=rn.fromDom(e.getBody());const r=rn.fromDom(e.getDoc());lr(s);const a=Jk(rn.fromDom(o.startContainer),o.startOffset);tw(e,r,t,a,n);a.cleanup()};const nw=(e,t,o,n)=>{const s=rn.fromDom(e.getDoc());tw(e,s,o,Qk(t),n)};const sw=(e,t,o)=>{const n=o.startContainer;const s=o.startOffset;const r=o.endContainer;const a=o.endOffset;t(rn.fromDom(n),rn.fromDom(r));const c=e.dom.createRng();c.setStart(n,s);c.setEnd(r,a);e.selection.setRng(o)};const rw=(e,t,o,n,s)=>{const r=t.pos;const a=30;if(n){kr(r.left,Math.max(0,r.top-a),s)}else{const n=r.top-o+t.height+a;kr(-e.getBody().getBoundingClientRect().left,n,s)}};const aw=(e,t,o,n,s,r)=>{const a=n+o;const c=s.pos.top;const i=s.bottom;const l=i-c>=n;if(c<o){rw(e,s,n,r!==false,t)}else if(c>a){const o=l?r!==false:r===true;rw(e,s,n,o,t)}else if(i>a&&!l){rw(e,s,n,r===true,t)}};const cw=(e,t,o,n,s)=>{const r=Vn(t).dom.innerHeight;aw(e,t,o,r,n,s)};const iw=(e,t,o,n,s)=>{const r=Vn(t).dom.innerHeight;aw(e,t,o,r,n,s);const a=Gv(n.element);const c=Wa(window);if(a.top<c.y){wr(n.element,s!==false)}else if(a.top>c.bottom){wr(n.element,s===true)}};const lw=(e,t,o)=>ew(e,cw,t,o);const dw=(e,t,o)=>nw(e,t,cw,o);const uw=(e,t,o)=>ew(e,iw,t,o);const fw=(e,t,o)=>nw(e,t,iw,o);const mw=(e,t,o)=>{const n=e.inline?dw:fw;n(e,t,o)};const gw=(e,t,o)=>{const n=e.inline?lw:uw;n(e,t,o)};const pw=(e,t)=>{if(t.collapsed){return e.isEditable(t.startContainer)}else{return e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)}};const hw=(e,t,o,n,s)=>{const r=o?t.startContainer:t.endContainer;const a=o?t.startOffset:t.endOffset;return U.from(r).map(rn.fromDom).map(e=>!n||!t.collapsed?Xn(e,s(e,a)).getOr(e):e).bind(e=>Nn(e)?U.some(e):jn(e).filter(Nn)).map(e=>e.dom).getOr(e)};const yw=(e,t,o=false)=>hw(e,t,true,o,(e,t)=>Math.min(es(e),t));const bw=(e,t,o=false)=>hw(e,t,false,o,(e,t)=>t>0?t-1:t);const vw=(e,t)=>{const o=e;while(e&&hc(e)&&e.length===0){e=t?e.nextSibling:e.previousSibling}return e||o};const kw=(e,t)=>{if(!t){return e}let o=t.startContainer;let n=t.endContainer;const s=t.startOffset;const r=t.endOffset;let a=t.commonAncestorContainer;if(!t.collapsed){if(o===n){if(r-s<2){if(o.hasChildNodes()){a=o.childNodes[s]}}}if(hc(o)&&hc(n)){if(o.length===s){o=vw(o.nextSibling,true)}else{o=o.parentNode}if(r===0){n=vw(n.previousSibling,false)}else{n=n.parentNode}if(o&&o===n){a=o}}}const c=hc(a)?a.parentNode:a;return rc(c)?c:e};const ww=(e,t,o,n)=>{const s=[];const r=e.getRoot();const a=e.getParent(o||yw(r,t,t.collapsed),e.isBlock);const c=e.getParent(n||bw(r,t,t.collapsed),e.isBlock);if(a&&a!==r){s.push(a)}if(a&&c&&a!==c){let t;const o=new Ga(a,r);while((t=o.next())&&t!==c){if(e.isBlock(t)){s.push(t)}}}if(c&&a!==c&&c!==r){s.push(c)}return s};const _w=(e,t,o)=>U.from(t).bind(t=>U.from(t.parentNode).map(n=>{const s=e.nodeIndex(t);const r=e.createRng();r.setStart(n,s);r.setEnd(n,s+1);if(o){pb(e,r,t,true);pb(e,r,t,false)}return r}));const xw=(e,t)=>J(t,t=>{const o=e.dispatch("GetSelectionRange",{range:t});return o.range!==t?o.range:t});const Cw={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};const Sw=(e,t,o)=>{const n=o?"lastChild":"firstChild";const s=o?"prev":"next";if(e[n]){return e[n]}if(e!==t){let o=e[s];if(o){return o}for(let n=e.parent;n&&n!==t;n=n.parent){o=n[s];if(o){return o}}}return undefined};const zw=e=>{var t;const o=(t=e.value)!==null&&t!==void 0?t:"";if(!Ya(o)){return false}const n=e.parent;if(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(o)){return false}return true};const Tw=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ew{static create(e,t){const o=new Ew(e,Cw[e]||1);if(t){xe(t,(e,t)=>{o.attr(t,e)})}return o}constructor(e,t){this.name=e;this.type=t;if(t===1){this.attributes=[];this.attributes.map={}}}replace(e){const t=this;if(e.parent){e.remove()}t.insert(e,t);t.remove();return t}attr(e,t){const o=this;if(!v(e)){if(T(e)){xe(e,(e,t)=>{o.attr(t,e)})}return o}const n=o.attributes;if(n){if(t!==undefined){if(t===null){if(e in n.map){delete n.map[e];let t=n.length;while(t--){if(n[t].name===e){n.splice(t,1);return o}}}return o}if(e in n.map){let o=n.length;while(o--){if(n[o].name===e){n[o].value=t;break}}}else{n.push({name:e,value:t})}n.map[e]=t;return o}return n.map[e]}return undefined}clone(){const e=this;const t=new Ew(e.name,e.type);const o=e.attributes;if(o){const e=[];e.map={};for(let t=0,n=o.length;t<n;t++){const n=o[t];if(n.name!=="id"){e[e.length]={name:n.name,value:n.value};e.map[n.name]=n.value}}t.attributes=e}t.value=e.value;return t}wrap(e){const t=this;if(t.parent){t.parent.insert(e,t);e.append(t)}return t}unwrap(){const e=this;for(let t=e.firstChild;t;){const o=t.next;e.insert(t,e,true);t=o}e.remove()}remove(){const e=this,t=e.parent,o=e.next,n=e.prev;if(t){if(t.firstChild===e){t.firstChild=o;if(o){o.prev=null}}else if(n){n.next=o}if(t.lastChild===e){t.lastChild=n;if(n){n.next=null}}else if(o){o.prev=n}e.parent=e.next=e.prev=null}return e}append(e){const t=this;if(e.parent){e.remove()}const o=t.lastChild;if(o){o.next=e;e.prev=o;t.lastChild=e}else{t.lastChild=t.firstChild=e}e.parent=t;return e}insert(e,t,o){if(e.parent){e.remove()}const n=t.parent||this;if(o){if(t===n.firstChild){n.firstChild=e}else if(t.prev){t.prev.next=e}e.prev=t.prev;e.next=t;t.prev=e}else{if(t===n.lastChild){n.lastChild=e}else if(t.next){t.next.prev=e}e.next=t.next;e.prev=t;t.next=e}e.parent=n;return e}getAll(e){const t=this;const o=[];for(let n=t.firstChild;n;n=Sw(n,t)){if(n.name===e){o.push(n)}}return o}children(){const e=this;const t=[];for(let o=e.firstChild;o;o=o.next){t.push(o)}return t}empty(){const e=this;if(e.firstChild){const t=[];for(let o=e.firstChild;o;o=Sw(o,e)){t.push(o)}let o=t.length;while(o--){const e=t[o];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}e.firstChild=e.lastChild=null;return e}isEmpty(e,t={},o){var n;const s=this;let r=s.firstChild;if(Tw(s)){return false}if(r){do{if(r.type===1){if(r.attr("data-mce-bogus")){continue}if(e[r.name]){return false}if(Tw(r)){return false}}if(r.type===8){return false}if(r.type===3&&!zw(r)){return false}if(r.type===3&&r.parent&&t[r.parent.name]&&Ya((n=r.value)!==null&&n!==void 0?n:"")){return false}if(o&&o(r)){return false}}while(r=Sw(r,s))}return true}walk(e){return Sw(this,null,e)}}const Ow=Qo.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," ");const Aw=e=>v(e.nodeValue)&&e.nodeValue.includes(uu);const Dw=e=>`${e.length===0?"":`${J(e,e=>`[${e}]`).join(",")},`}[data-mce-bogus="all"]`;const Mw=(e,t)=>t.querySelectorAll(Dw(e));const Nw=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,e=>Aw(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP);const Rw=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,e=>{if(Aw(e)){const t=e.parentNode;return t&&Ne(Ow,t.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else{return NodeFilter.FILTER_SKIP}});const Bw=e=>Nw(e).nextNode()!==null;const Lw=e=>Rw(e).nextNode()!==null;const Hw=(e,t)=>t.querySelector(Dw(e))!==null;const Iw=(e,t)=>{Q(Mw(e,t),t=>{const o=rn.fromDom(t);if(Ns(o,"data-mce-bogus")==="all"){Fs(o)}else{Q(e,e=>{if(Bs(o,e)){Ls(o,e)}})}})};const Pw=e=>{let t=e.nextNode();while(t!==null){t.nodeValue=null;t=e.nextNode()}};const Fw=M(Pw,Nw);const Vw=M(Pw,Rw);const jw=(e,t)=>{const o=[{condition:H(Hw,t),action:H(Iw,t)},{condition:Bw,action:Fw},{condition:Lw,action:Vw}];let n=e;let s=false;Q(o,({condition:t,action:o})=>{if(t(n)){if(!s){n=e.cloneNode(true);s=true}o(n)}});return n};const Zw=e=>{const t=sa(e,"[data-mce-bogus]");Q(t,e=>{const t=Ns(e,"data-mce-bogus");if(t==="all"){Fs(e)}else if(Qd(e)){xs(e,rn.fromText(Et));Fs(e)}else{Vs(e)}})};const Uw=e=>{const t=sa(e,"input");Q(t,e=>{Ls(e,"name")})};const qw=(e,t)=>{const o=dg(e);const n=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${o}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(n,"")};const $w=(e,t)=>{const o=e.getDoc();const n=ns(rn.fromDom(e.getBody()));const s=rn.fromTag("div",o);Ds(s,"data-mce-bogus","all");nr(s,{position:"fixed",left:"-9999999px",top:"0"});Ys(s,t.innerHTML);Zw(s);Uw(s);const r=rs(n);zs(r,s);const a=mu(s.dom.innerText);Fs(s);return a};const Ww=(e,t,o)=>{let n;if(t.format==="raw"){n=Qo.trim(mu(jw(o,e.serializer.getTempAttrs()).innerHTML))}else if(t.format==="text"){n=$w(e,o)}else if(t.format==="tree"){n=e.serializer.serialize(o,t)}else{n=qw(e,e.serializer.serialize(o,t))}const s=t.format!=="text"&&!ru(rn.fromDom(o));return s&&v(n)?Qo.trim(n):n};const Gw=(e,t)=>U.from(e.getBody()).fold(R(t.format==="tree"?new Ew("body",11):""),o=>Ww(e,t,o));const Kw=Qo.makeMap;const Yw=e=>{const t=[];e=e||{};const o=e.indent;const n=Kw(e.indent_before||"");const s=Kw(e.indent_after||"");const r=Ki.getEncodeFunc(e.entity_encoding||"raw",e.entities);const a=e.element_format!=="xhtml";return{start:(e,c,i)=>{if(o&&n[e]&&t.length>0){const e=t[t.length-1];if(e.length>0&&e!=="\n"){t.push("\n")}}t.push("<",e);if(c){for(let e=0,o=c.length;e<o;e++){const o=c[e];t.push(" ",o.name,'="',r(o.value,true),'"')}}if(!i||a){t[t.length]=">"}else{t[t.length]=" />"}if(i&&o&&s[e]&&t.length>0){const e=t[t.length-1];if(e.length>0&&e!=="\n"){t.push("\n")}}},end:e=>{let n;t.push("</",e,">");if(o&&s[e]&&t.length>0){n=t[t.length-1];if(n.length>0&&n!=="\n"){t.push("\n")}}},text:(e,o)=>{if(e.length>0){t[t.length]=o?e:r(e)}},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,n)=>{if(n){t.push("<?",e," ",r(n),"?>")}else{t.push("<?",e,"?>")}if(o){t.push("\n")}},doctype:e=>{t.push("<!DOCTYPE",e,">",o?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}};const Xw=(e={},t=wl())=>{const o=Yw(e);e.validate="validate"in e?e.validate:true;const n=n=>{const s=e.validate;const r={3:e=>{var t;o.text((t=e.value)!==null&&t!==void 0?t:"",e.raw)},8:e=>{var t;o.comment((t=e.value)!==null&&t!==void 0?t:"")},7:e=>{o.pi(e.name,e.value)},10:e=>{var t;o.doctype((t=e.value)!==null&&t!==void 0?t:"")},4:e=>{var t;o.cdata((t=e.value)!==null&&t!==void 0?t:"")},11:e=>{let t=e;if(t=t.firstChild){do{a(t)}while(t=t.next)}}};o.reset();const a=e=>{var n;const c=r[e.type];if(!c){const r=e.name;const c=r in t.getVoidElements();let i=e.attributes;if(s&&i&&i.length>1){const o=[];o.map={};const n=t.getElementRule(e.name);if(n){for(let e=0,t=n.attributesOrder.length;e<t;e++){const t=n.attributesOrder[e];if(t in i.map){const e=i.map[t];o.map[t]=e;o.push({name:t,value:e})}}for(let e=0,t=i.length;e<t;e++){const t=i[e].name;if(!(t in o.map)){const e=i.map[t];o.map[t]=e;o.push({name:t,value:e})}}i=o}}o.start(r,i,c);if(Wc(r)){if(v(e.value)){o.text(e.value,true)}o.end(r)}else{if(!c){let t=e.firstChild;if(t){if((r==="pre"||r==="textarea")&&t.type===3&&((n=t.value)===null||n===void 0?void 0:n[0])==="\n"){o.text("\n",true)}do{a(t)}while(t=t.next)}o.end(r)}}}else{c(e)}};if(n.type===1&&!e.inner){a(n)}else if(n.type===3){r[3](n)}else{r[11](n)}return o.getContent()};return{serialize:n}};const Jw=new Set;(()=>{const e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Q(e,e=>{Jw.add(e)})})();const Qw=new Set;(()=>{const e=["background-color"];Q(e,e=>{Qw.add(e)})})();const e_=["font","text-decoration","text-emphasis"];const t_=(e,t)=>e.parseStyle(e.getAttrib(t,"style"));const o_=(e,t)=>we(t_(e,t));const n_=e=>Jw.has(e);const s_=e=>Qw.has(e);const r_=(e,t)=>X(o_(e,t),e=>n_(e));const a_=(e,t)=>r_(e,t)&&X(o_(e,t),e=>s_(e));const c_=e=>oe(e,e=>X(e_,t=>pt(e,t)));const i_=(e,t,o)=>{const n=o_(e,t);const s=o_(e,o);const r=n=>{var s,r;const a=(s=e.getStyle(t,n))!==null&&s!==void 0?s:"";const c=(r=e.getStyle(o,n))!==null&&r!==void 0?r:"";return wt(a)&&wt(c)&&a!==c};return X(n,e=>{const t=t=>X(t,t=>t===e);if(!t(s)&&t(e_)){const e=c_(s);return X(e,r)}else{return r(e)}})};const l_=(e,t,o)=>U.from(o.container()).filter(hc).exists(n=>{const s=e?0:-1;return t(n.data.charAt(o.offset()+s))});const d_=H(l_,true,eb);const u_=H(l_,false,eb);const f_=e=>{const t=e.container();return hc(t)&&(t.data.length===0||fu(t.data)&&xv.isBookmarkNode(t.parentNode))};const m_=(e,t)=>o=>Fh(e?0:-1,o).filter(t).isSome();const g_=e=>xc(e)&&sr(rn.fromDom(e),"display")==="block";const p_=e=>zc(e)&&!fc(e);const h_=m_(true,g_);const y_=m_(false,g_);const b_=m_(true,Ac);const v_=m_(false,Ac);const k_=m_(true,mc);const w_=m_(false,mc);const __=m_(true,p_);const x_=m_(false,p_);const C_=e=>e.slice(0,-1);const S_=(e,t,o)=>{if(zn(t,e)){return C_(Un(e,e=>o(e)||Sn(e,t)))}else{return[]}};const z_=(e,t)=>S_(e,t,j);const T_=(e,t)=>[e].concat(z_(e,t));const E_=(e,t,o)=>wy(e,t,o,f_);const O_=e=>t=>e.isBlock(En(t));const A_=(e,t,o)=>ae(T_(rn.fromDom(t.container()),e),O_(o));const D_=(e,t,o,n)=>E_(e,t.dom,o).forall(e=>A_(t,o,n).fold(()=>!Ph(e,o,t.dom),n=>!Ph(e,o,t.dom)&&zn(n,rn.fromDom(e.container()))));const M_=(e,t,o,n)=>A_(t,o,n).fold(()=>E_(e,t.dom,o).forall(e=>!Ph(e,o,t.dom)),t=>E_(e,t.dom,o).isNone());const N_=H(M_,false);const R_=H(M_,true);const B_=H(D_,false);const L_=H(D_,true);const H_=e=>Kh(e).exists(Qd);const I_=(e,t,o,n)=>{const s=oe(T_(rn.fromDom(o.container()),t),e=>n.isBlock(En(e)));const r=he(s).getOr(t);return vy(e,r.dom,o).filter(H_)};const P_=(e,t,o)=>Kh(t).exists(Qd)||I_(true,e,t,o).isSome();const F_=(e,t,o)=>Yh(t).exists(Qd)||I_(false,e,t,o).isSome();const V_=H(I_,false);const j_=H(I_,true);const Z_=e=>Af.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd();const U_=(e,t,o)=>{const n=oe(T_(rn.fromDom(t.container()),e),e=>o.isBlock(En(e)));return he(n).getOr(e)};const q_=(e,t,o)=>{if(Z_(t)){return u_(t)}else{return u_(t)||Cy(U_(e,t,o).dom,t).exists(u_)}};const $_=(e,t,o)=>{if(Z_(t)){return d_(t)}else{return d_(t)||xy(U_(e,t,o).dom,t).exists(d_)}};const W_=e=>Y(["pre","pre-wrap"],e);const G_=e=>Kh(e).bind(e=>Nr(e,Nn)).exists(e=>W_(sr(e,"white-space")));const K_=(e,t)=>Cy(e.dom,t).isNone();const Y_=(e,t)=>xy(e.dom,t).isNone();const X_=(e,t,o)=>K_(e,t)||Y_(e,t)||N_(e,t,o)||R_(e,t,o)||F_(e,t,o)||P_(e,t,o);const J_=e=>T(e)&&zc(e)&&Th(e);const Q_=(e,t)=>o=>J_(new Ga(o,e)[t]());const ex=(e,t)=>{const o=xy(e.dom,t).getOr(t);const n=Q_(e.dom,"next");return t.isAtEnd()&&(n(t.container())||n(o.container()))};const tx=(e,t)=>{const o=Cy(e.dom,t).getOr(t);const n=Q_(e.dom,"prev");return t.isAtStart()&&(n(t.container())||n(o.container()))};const ox=(e,t,o)=>{if(G_(t)){return false}else{return X_(e,t,o)||q_(e,t,o)||$_(e,t,o)}};const nx=(e,t,o)=>{if(G_(t)){return false}else{return N_(e,t,o)||B_(e,t,o)||F_(e,t,o)||q_(e,t,o)||tx(e,t)}};const sx=e=>{const t=e.container();const o=e.offset();if(hc(t)&&o<t.data.length){return Af(t,o+1)}else{return e}};const rx=(e,t,o)=>{if(G_(t)){return false}else{return R_(e,t,o)||L_(e,t,o)||P_(e,t,o)||$_(e,t,o)||ex(e,t)}};const ax=(e,t,o)=>nx(e,t,o)||rx(e,sx(t),o);const cx=(e,t)=>Qy(e.charAt(t));const ix=(e,t)=>eb(e.charAt(t));const lx=e=>{const t=e.container();return hc(t)&&gt(t.data,Ot)};const dx=e=>{const t=e.split("");return J(t,(e,o)=>{if(Qy(e)&&o>0&&o<t.length-1&&tb(t[o-1])&&tb(t[o+1])){return" "}else{return e}}).join("")};const ux=(e,t,o,n)=>{const s=t.data;const r=Af(t,0);if(!o&&cx(s,0)&&!ax(e,r,n)){t.data=" "+s.slice(1);return true}else if(o&&ix(s,0)&&nx(e,r,n)){t.data=Ot+s.slice(1);return true}else{return false}};const fx=e=>{const t=e.data;const o=dx(t);if(o!==t){e.data=o;return true}else{return false}};const mx=(e,t,o,n)=>{const s=t.data;const r=Af(t,s.length-1);if(!o&&cx(s,s.length-1)&&!ax(e,r,n)){t.data=s.slice(0,-1)+" ";return true}else if(o&&ix(s,s.length-1)&&rx(e,r,n)){t.data=s.slice(0,-1)+Ot;return true}else{return false}};const gx=(e,t,o)=>{const n=t.container();if(!hc(n)){return U.none()}if(lx(t)){const s=ux(e,n,false,o)||fx(n)||mx(e,n,false,o);return st(s,t)}else if(ax(e,t,o)){const s=ux(e,n,true,o)||mx(e,n,true,o);return st(s,t)}else{return U.none()}};const px=e=>{const t=rn.fromDom(e.getBody());if(e.selection.isCollapsed()){gx(t,Af.fromRangeStart(e.selection.getRng()),e.schema).each(t=>{e.selection.setRng(t.toRange())})}};const hx=(e,t,o,n)=>{if(o===0){return}const s=rn.fromDom(e);const r=Mr(s,e=>n.isBlock(En(e))).getOr(s);const a=e.data.slice(t,t+o);const c=t+o>=e.data.length&&rx(r,Af(e,e.data.length),n);const i=t===0&&nx(r,Af(e,0),n);e.replaceData(t,o,tc(a,4,i,c))};const yx=(e,t,o)=>{const n=e.data.slice(t);const s=n.length-vt(n).length;hx(e,t,s,o)};const bx=(e,t,o)=>{const n=e.data.slice(0,t);const s=n.length-kt(n).length;hx(e,t-s,s,o)};const vx=(e,t,o,n,s=true)=>{const r=kt(e.data).length;const a=s?e:t;const c=s?t:e;if(s){a.appendData(c.data)}else{a.insertData(0,c.data)}Fs(rn.fromDom(c));if(n){yx(a,r,o)}return a};const kx=(e,t)=>{const o=e.container();const n=e.offset();return!Af.isTextPosition(e)&&o===t.parentNode&&n>Af.before(t).offset()};const wx=(e,t)=>kx(t,e)?Af(t.container(),t.offset()-1):t;const _x=e=>hc(e)?Af(e,0):Af.before(e);const xx=e=>hc(e)?Af(e,e.data.length):Af.after(e);const Cx=e=>{if(of(e.previousSibling)){return U.some(xx(e.previousSibling))}else{return e.previousSibling?zy(e.previousSibling):U.none()}};const Sx=e=>{if(of(e.nextSibling)){return U.some(_x(e.nextSibling))}else{return e.nextSibling?Sy(e.nextSibling):U.none()}};const zx=(e,t)=>U.from(t.previousSibling?t.previousSibling:t.parentNode).bind(t=>Cy(e,Af.before(t))).orThunk(()=>xy(e,Af.after(t)));const Tx=(e,t)=>xy(e,Af.after(t)).orThunk(()=>Cy(e,Af.before(t)));const Ex=(e,t)=>Cx(t).orThunk(()=>Sx(t)).orThunk(()=>zx(e,t));const Ox=(e,t)=>Sx(t).orThunk(()=>Cx(t)).orThunk(()=>Tx(e,t));const Ax=(e,t,o)=>e?Ox(t,o):Ex(t,o);const Dx=(e,t,o)=>Ax(e,t,o).map(H(wx,o));const Mx=(e,t,o)=>{o.fold(()=>{e.focus()},o=>{e.selection.setRng(o.toRange(),t)})};const Nx=e=>t=>t.dom===e;const Rx=(e,t)=>t&&Ne(e.schema.getBlockElements(),En(t));const Bx=(e,t,o)=>{if(Uc(e,t)){const e=rn.fromHtml('<br data-mce-bogus="1">');if(o){Q(Yn(t),e=>{if(!Kb(e)){Fs(e)}})}else{Ps(t)}zs(t,e);return U.some(Af.before(e.dom))}else{return U.none()}};const Lx=(e,t,o,n)=>{const s=$n(e).filter(Rn);const r=Wn(e).filter(Rn);Fs(e);return nt(s,r,t,(e,t,s)=>{const r=e.dom,a=t.dom;const c=r.data.length;vx(r,a,o,n);return s.container()===a?Af(r,c):s}).orThunk(()=>{if(n){s.each(e=>bx(e.dom,e.dom.length,o));r.each(e=>yx(e.dom,0,o))}return t})};const Hx=(e,t)=>Ne(e.schema.getTextInlineElements(),En(t));const Ix=(e,t,o,n=true,s=false)=>{const r=Dx(t,e.getBody(),o.dom);const a=Mr(o,H(Rx,e),Nx(e.getBody()));const c=Lx(o,r,e.schema,Hx(e,o));if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{a.bind(t=>Bx(e.schema,t,s)).fold(()=>{if(n){Mx(e,t,c)}},o=>{if(n){Mx(e,t,U.some(o))}})}};const Px=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;const Fx=e=>Px.test(e);const Vx=(e,t)=>wn(rn.fromDom(t),Lg(e))&&!mi(e.schema,t)&&e.dom.isEditable(t);const jx=e=>{var t;return ad.DOM.getStyle(e,"direction",true)==="rtl"||Fx((t=e.textContent)!==null&&t!==void 0?t:"")};const Zx=(e,t,o)=>oe(ad.DOM.getParents(o.container(),"*",t),e);const Ux=(e,t,o)=>{const n=Zx(e,t,o);return U.from(n[n.length-1])};const qx=(e,t,o)=>{const n=Ih(t,e);const s=Ih(o,e);return T(n)&&n===s};const $x=e=>_u(e)||xu(e);const Wx=(e,t)=>{const o=t.container(),n=t.offset();if(e){if(bu(o)){if(hc(o.nextSibling)){return Af(o.nextSibling,0)}else{return Af.after(o)}}else{return _u(t)?Af(o,n+1):t}}else{if(bu(o)){if(hc(o.previousSibling)){return Af(o.previousSibling,o.previousSibling.data.length)}else{return Af.before(o)}}else{return xu(t)?Af(o,n-1):t}}};const Gx=H(Wx,true);const Kx=H(Wx,false);const Yx=(e,t)=>{const o=e=>e.stopImmediatePropagation();e.on("beforeinput input",o,true);e.getDoc().execCommand(t);e.off("beforeinput input",o)};const Xx=e=>{e.execCommand("delete")};const Jx=e=>Yx(e,"Delete");const Qx=e=>Yx(e,"ForwardDelete");const eC=e=>t=>Qe(jn(t),e,Sn);const tC=e=>eu(e)||ou(e);const oC=(e,t)=>{if(zn(e,t)){return Nr(t,tC,eC(e))}else{return U.none()}};const nC=(e,t=true)=>{if(e.dom.isEmpty(e.getBody())){e.setContent("",{no_selection:!t})}};const sC=(e,t,o)=>ot(Sy(o),zy(o),(n,s)=>{const r=Wx(true,n);const a=Wx(false,s);const c=Wx(false,t);if(e){return xy(o,c).exists(e=>e.isEqual(a)&&t.isEqual(r))}else{return Cy(o,c).exists(e=>e.isEqual(r)&&t.isEqual(a))}}).getOr(true);const rC=e=>{const t=Dn(e)?$n(e):Qn(e);return t.bind(rC).orThunk(()=>U.some(e))};const aC=(e,t,o,n=true)=>{var s;t.deleteContents();const r=rC(o).getOr(o);const a=rn.fromDom((s=e.dom.getParent(r.dom,e.dom.isBlock))!==null&&s!==void 0?s:o.dom);if(a.dom===e.getBody()){nC(e,n)}else if(Uc(e.schema,a,{checkRootAsContent:false})){lu(a);if(n){e.selection.setCursorLocation(a.dom,0)}}if(!Sn(o,a)){const t=Qe(jn(a),o)?[]:qn(a);Q(t.concat(Yn(o)),t=>{if(!Sn(t,a)&&!zn(t,a)&&Uc(e.schema,t)){Fs(t)}})}};const cC=e=>t=>Sn(e,t);const iC=e=>sa(e,"td,th");const lC=(e,t)=>lb(rn.fromDom(e),t);const dC=e=>ot(e.startTable,e.endTable,(t,o)=>{const n=ca(t,e=>Sn(e,o));const s=ca(o,e=>Sn(e,t));return!n&&!s?e:{...e,startTable:n?U.none():e.startTable,endTable:s?U.none():e.endTable,isSameTable:false,isMultiTable:false}}).getOr(e);const uC=e=>dC(e);const fC=(e,t)=>{const o=lC(e.startContainer,t);const n=lC(e.endContainer,t);const s=o.isSome();const r=n.isSome();const a=ot(o,n,Sn).getOr(false);const c=!a&&s&&r;return uC({startTable:o,endTable:n,isStartInTable:s,isEndInTable:r,isSameTable:a,isMultiTable:c})};const mC=(e,t)=>({start:e,end:t});const gC=(e,t,o)=>({rng:e,table:t,cells:o});const pC=He.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]);const hC=(e,t)=>Pr(rn.fromDom(e),"td,th",t);const yC=e=>!Sn(e.start,e.end);const bC=(e,t)=>lb(e.start,t).bind(o=>lb(e.end,t).bind(e=>st(Sn(o,e),o)));const vC=(e,t)=>!yC(e)&&bC(e,t).exists(e=>{const t=e.dom.rows;return t.length===1&&t[0].cells.length===1});const kC=(e,t)=>{const o=hC(e.startContainer,t);const n=hC(e.endContainer,t);return ot(o,n,mC)};const wC=e=>t=>lb(t,e).bind(e=>ye(iC(e)).map(e=>mC(t,e)));const _C=e=>t=>lb(t,e).bind(e=>he(iC(e)).map(e=>mC(e,t)));const xC=e=>t=>bC(t,e).map(e=>gC(t,e,iC(e)));const CC=(e,t,o,n)=>{if(o.collapsed||!e.forall(yC)){return U.none()}else if(t.isSameTable){const t=e.bind(xC(n));return U.some({start:t,end:t})}else{const e=hC(o.startContainer,n);const t=hC(o.endContainer,n);const s=e.bind(wC(n)).bind(xC(n));const r=t.bind(_C(n)).bind(xC(n));return U.some({start:s,end:r})}};const SC=(e,t)=>ce(e,e=>Sn(e,t));const zC=e=>ot(SC(e.cells,e.rng.start),SC(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1));const TC=(e,t,o)=>e.exists(e=>vC(e,o)&&gb(e.start,t));const EC=(e,t)=>{const{startTable:o,endTable:n}=t;const s=e.cloneRange();o.each(e=>s.setStartAfter(e.dom));n.each(e=>s.setEndBefore(e.dom));return s};const OC=(e,t,o,n)=>CC(e,t,o,n).bind(({start:e,end:t})=>e.or(t)).bind(e=>{const{isSameTable:n}=t;const s=zC(e).getOr([]);if(n&&e.cells.length===s.length){return U.some(pC.fullTable(e.table))}else if(s.length>0){if(n){return U.some(pC.partialTable(s,U.none()))}else{const e=EC(o,t);return U.some(pC.partialTable(s,U.some({...t,rng:e})))}}else{return U.none()}});const AC=(e,t,o,n)=>CC(e,t,o,n).bind(({start:e,end:n})=>{const s=e.bind(zC).getOr([]);const r=n.bind(zC).getOr([]);if(s.length>0&&r.length>0){const e=EC(o,t);return U.some(pC.multiTable(s,r,e))}else{return U.none()}});const DC=(e,t)=>{const o=cC(e);const n=kC(t,o);const s=fC(t,o);if(TC(n,t,o)){return n.map(e=>pC.singleCellTable(t,e.start))}else if(s.isMultiTable){return AC(n,s,t,o)}else{return OC(n,s,t,o)}};const MC=e=>Q(e,e=>{Ls(e,"contenteditable");lu(e)});const NC=(e,t)=>U.from(e.dom.getParent(t,e.dom.isBlock)).map(rn.fromDom);const RC=(e,t,o)=>{o.each(o=>{if(t){Fs(o)}else{lu(o);e.selection.setCursorLocation(o.dom,0)}})};const BC=(e,t,o,n)=>{const s=o.cloneRange();if(n){s.setStart(o.startContainer,o.startOffset);s.setEndAfter(t.dom.lastChild)}else{s.setStartBefore(t.dom.firstChild);s.setEnd(o.endContainer,o.endOffset)}PC(e,s,t,false).each(e=>e())};const LC=e=>{const t=ib(e);const o=rn.fromDom(e.selection.getNode());if(Ec(o.dom)&&Uc(e.schema,o)){e.selection.setCursorLocation(o.dom,0)}else{e.selection.collapse(true)}if(t.length>1&&X(t,e=>Sn(e,o))){Ds(o,"data-mce-selected","1")}};const HC=(e,t,o)=>U.some(()=>{const n=e.selection.getRng();const s=o.bind(({rng:o,isStartInTable:s})=>{const r=NC(e,s?o.endContainer:o.startContainer);o.deleteContents();RC(e,s,r.filter(H(Uc,e.schema)));const a=s?t[0]:t[t.length-1];BC(e,a,n,s);if(!Uc(e.schema,a)){return U.some(s?t.slice(1):t.slice(0,-1))}else{return U.none()}}).getOr(t);MC(s);LC(e)});const IC=(e,t,o,n)=>U.some(()=>{const s=e.selection.getRng();const r=t[0];const a=o[o.length-1];BC(e,r,s,true);BC(e,a,s,false);const c=Uc(e.schema,r)?t:t.slice(1);const i=Uc(e.schema,a)?o:o.slice(0,-1);MC(c.concat(i));n.deleteContents();LC(e)});const PC=(e,t,o,n=true)=>U.some(()=>{aC(e,t,o,n)});const FC=(e,t)=>U.some(()=>Ix(e,false,t));const VC=(e,t,o)=>DC(t,o).bind(t=>t.fold(H(PC,e),H(FC,e),H(HC,e),H(IC,e)));const jC=(e,t)=>GC(e,t);const ZC=(e,t,o,n)=>$C(t,n).fold(()=>VC(e,t,o),t=>jC(e,t));const UC=(e,t,o)=>{const n=rn.fromDom(e.getBody());const s=e.selection.getRng();return o.length!==0?HC(e,o,U.none()):ZC(e,n,s,t)};const qC=(e,t)=>ae(T_(t,e),su);const $C=(e,t)=>ae(T_(t,e),Hn("caption"));const WC=(e,t,o,n,s)=>ky(o,e.getBody(),s).bind(e=>qC(t,rn.fromDom(e.getNode())).bind(e=>Sn(e,n)?U.none():U.some(D)));const GC=(e,t)=>U.some(()=>{lu(t);e.selection.setCursorLocation(t.dom,0)});const KC=(e,t,o,n)=>Sy(e.dom).bind(s=>zy(e.dom).map(e=>t?o.isEqual(s)&&n.isEqual(e):o.isEqual(e)&&n.isEqual(s))).getOr(true);const YC=(e,t)=>GC(e,t);const XC=(e,t,o)=>$C(e,rn.fromDom(o.getNode())).fold(()=>U.some(D),e=>st(!Sn(e,t),D));const JC=(e,t,o,n,s)=>ky(o,e.getBody(),s).fold(()=>U.some(D),r=>KC(n,o,s,r)?YC(e,n):XC(t,n,r));const QC=(e,t,o,n)=>{const s=Af.fromRangeStart(e.selection.getRng());return qC(o,n).bind(n=>Uc(e.schema,n,{checkRootAsContent:false})?GC(e,n):WC(e,o,t,n,s))};const eS=(e,t,o,n)=>{const s=Af.fromRangeStart(e.selection.getRng());return Uc(e.schema,n)?GC(e,n):JC(e,o,t,n,s)};const tS=(e,t)=>e?k_(t):w_(t);const oS=(e,t)=>{const o=Af.fromRangeStart(e.selection.getRng());return tS(t,o)||vy(t,e.getBody(),o).exists(e=>tS(t,e))};const nS=(e,t,o)=>{const n=rn.fromDom(e.getBody());return $C(n,o).fold(()=>QC(e,t,n,o).orThunk(()=>st(oS(e,t),D)),o=>eS(e,t,n,o))};const sS=(e,t)=>{const o=rn.fromDom(e.selection.getStart(true));const n=ib(e);return e.selection.isCollapsed()&&n.length===0?nS(e,t,o):UC(e,o,n)};const rS=(e,t)=>{let o=t;while(o&&o!==e){if(Sc(o)||zc(o)){return o}o=o.parentNode}return null};const aS=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"];const cS=Qo.each;const iS=e=>{const t=e.dom;const o=new Set(e.serializer.getTempAttrs());const n=(e,o)=>{if(e.nodeName!==o.nodeName||e.nodeType!==o.nodeType){return false}const n=e=>{const o={};cS(t.getAttribs(e),n=>{const r=n.nodeName.toLowerCase();if(r!=="style"&&!s(r)){o[r]=t.getAttrib(e,r)}});return o};const r=(e,t)=>{for(const o in e){if(Ne(e,o)){const n=t[o];if(S(n)){return false}if(e[o]!==n){return false}delete t[o]}}for(const e in t){if(Ne(t,e)){return false}}return true};if(sc(e)&&sc(o)){if(!r(n(e),n(o))){return false}if(!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(o,"style")))){return false}}return!Xy(e)&&!Xy(o)};const s=e=>X(aS,t=>pt(e,t))||o.has(e);return{compare:n,isAttributeInternal:s}};const lS=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name);const dS=e=>e.name==="summary";const uS=(e,t)=>{let o=e;while(o=o.walk()){t(o)}};const fS=(e,t,o,n)=>{const s=o.name;for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.name===s){const e=n.nodes[s];if(e){e.nodes.push(o)}else{n.nodes[s]={filter:r,nodes:[o]}}}}if(o.attributes){for(let e=0,s=t.length;e<s;e++){const s=t[e];const r=s.name;if(r in o.attributes.map){const e=n.attributes[r];if(e){e.nodes.push(o)}else{n.attributes[r]={filter:s,nodes:[o]}}}}}};const mS=(e,t,o)=>{const n={nodes:{},attributes:{}};if(o.firstChild){uS(o,o=>{fS(e,t,o,n)})}return n};const gS=(e,t)=>{const o=(e,o)=>{xe(e,e=>{const n=be(e.nodes);Q(e.filter.callbacks,s=>{for(let t=n.length-1;t>=0;t--){const s=n[t];const r=o?s.attr(e.filter.name)!==undefined:s.name===e.filter.name;if(!r||z(s.parent)){n.splice(t,1)}}if(n.length>0){s(n,e.filter.name,t)}})})};o(e.nodes,false);o(e.attributes,true)};const pS=(e,t,o,n={})=>{const s=mS(e,t,o);gS(s,n)};const hS=(e,t,o,n)=>{const s=e.pad_empty_with_br||t.insert;if(s&&o(n)){const e=new Ew("br",1);if(t.insert){e.attr("data-mce-bogus","1")}n.empty().append(e)}else{n.empty().append(new Ew("#text",3)).value=Ot}};const yS=e=>{var t;return bS(e,"#text")&&((t=e===null||e===void 0?void 0:e.firstChild)===null||t===void 0?void 0:t.value)===Ot};const bS=(e,t)=>{const o=e===null||e===void 0?void 0:e.firstChild;return T(o)&&o===e.lastChild&&o.name===t};const vS=(e,t)=>{const o=e.getElementRule(t.name);return(o===null||o===void 0?void 0:o.paddEmpty)===true};const kS=(e,t,o,n)=>n.isEmpty(t,o,t=>vS(e,t));const wS=(e,t)=>T(e)&&(t(e)||e.name==="br");const _S=e=>{let t;for(let o=e;o;o=o.parent){const e=o.attr("contenteditable");if(e==="false"){break}else if(e==="true"){t=o}}return U.from(t)};const xS=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name]){e.empty().remove()}else{const n=e.children();for(const e of n){if(o&&!t.isValidChild(o.name,e.name)){xS(e,t,o)}}e.unwrap()}};const CS=(e,t,o,n=D)=>{const s=t.getTextBlockElements();const r=t.getNonEmptyElements();const a=t.getWhitespaceElements();const c=Qo.makeMap("tr,td,th,tbody,thead,tfoot,table,summary");const i=new Set;const l=e=>e!==o&&!c[e.name];for(let o=0;o<e.length;o++){const c=e[o];let d;let u;let f;if(!c.parent||i.has(c)){continue}if(s[c.name]&&c.parent.name==="li"){let e=c.next;while(e){if(s[e.name]){e.name="li";i.add(e);c.parent.insert(e,c.parent)}else{break}e=e.next}c.unwrap();continue}const m=[c];for(d=c.parent;d&&!t.isValidChild(d.name,c.name)&&l(d);d=d.parent){m.push(d)}if(d&&m.length>1){if(!zS(t,c,d)){m.reverse();u=m[0].clone();n(u);let e=u;for(let o=0;o<m.length-1;o++){if(t.isValidChild(e.name,m[o].name)&&o>0){f=m[o].clone();n(f);e.append(f)}else{f=e}for(let e=m[o].firstChild;e&&e!==m[o+1];){const t=e.next;f.append(e);e=t}e=f}if(!kS(t,r,a,u)){d.insert(u,m[0],true);d.insert(c,u)}else{d.insert(c,m[0],true)}d=m[0];if(kS(t,r,a,d)||bS(d,"br")){d.empty().remove()}}else{xS(c,t)}}else if(c.parent){if(c.name==="li"){let e=c.prev;if(e&&(e.name==="ul"||e.name==="ol")){e.append(c);continue}e=c.next;if(e&&(e.name==="ul"||e.name==="ol")&&e.firstChild){e.insert(c,e.firstChild,true);continue}const t=new Ew("ul",1);n(t);c.wrap(t);continue}if(t.isValidChild(c.parent.name,"div")&&t.isValidChild("div",c.name)){const e=new Ew("div",1);n(e);c.wrap(e)}else{xS(c,t)}}}};const SS=(e,t)=>{let o=e;while(o){if(o.name===t){return true}o=o.parent}return false};const zS=(e,t,o=t.parent)=>{if(!o){return false}if(e.children[t.name]&&!e.isValidChild(o.name,t.name)){return true}if(t.name==="a"&&SS(o,"a")){return true}if(dS(o)&&lS(t)){return!((o===null||o===void 0?void 0:o.firstChild)===t&&(o===null||o===void 0?void 0:o.lastChild)===t)}return false};const TS=(e,t,o,n)=>{const s=document.createRange();s.setStart(e,t);s.setEnd(o,n);return s};const ES=e=>{const t=Af.fromRangeStart(e);const o=Af.fromRangeEnd(e);const n=e.commonAncestorContainer;return vy(false,n,o).map(s=>{if(!Ph(t,o,n)&&Ph(t,s,n)){return TS(t.container(),t.offset(),s.container(),s.offset())}else{return e}}).getOr(e)};const OS=e=>e.collapsed?e:ES(e);const AS=e=>T(e.firstChild)&&e.firstChild===e.lastChild;const DS=e=>e.name==="br"||e.value===Ot;const MS=(e,t)=>{const o=e.getBlockElements();return o[t.name]&&AS(t)&&DS(t.firstChild)};const NS=(e,t)=>{const o=e.getNonEmptyElements();return T(t)&&(t.isEmpty(o)||MS(e,t))};const RS=(e,t)=>{let o=t.firstChild;let n=t.lastChild;if(o&&o.name==="meta"){o=o.next}if(n&&n.attr("id")==="mce_marker"){n=n.prev}if(NS(e,n)){n=n===null||n===void 0?void 0:n.prev}if(!o||o!==n){return false}return o.name==="ul"||o.name==="ol"};const BS=e=>{var t,o;const n=e.firstChild;const s=e.lastChild;if(n&&n.nodeName==="META"){(t=n.parentNode)===null||t===void 0?void 0:t.removeChild(n)}if(s&&s.id==="mce_marker"){(o=s.parentNode)===null||o===void 0?void 0:o.removeChild(s)}return e};const LS=(e,t,o)=>{const n=t.serialize(o);const s=e.createFragment(n);return BS(s)};const HS=e=>{var t;return oe((t=e===null||e===void 0?void 0:e.childNodes)!==null&&t!==void 0?t:[],e=>e.nodeName==="LI")};const IS=e=>e.data===Ot||_c(e);const PS=e=>T(e===null||e===void 0?void 0:e.firstChild)&&e.firstChild===e.lastChild&&IS(e.firstChild);const FS=e=>!e.firstChild||PS(e);const VS=e=>e.length>0&&FS(e[e.length-1])?e.slice(0,-1):e;const jS=(e,t)=>{const o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null};const ZS=(e,t)=>!!jS(e,t);const US=(e,t)=>{const o=t.cloneRange();const n=t.cloneRange();o.setStartBefore(e);n.setEndAfter(e);return[o.cloneContents(),n.cloneContents()]};const qS=(e,t)=>{const o=Af.before(e);const n=uy(t);const s=n.next(o);return s?s.toRange():null};const $S=(e,t)=>{const o=Af.after(e);const n=uy(t);const s=n.prev(o);return s?s.toRange():null};const WS=(e,t,o,n)=>{const s=US(e,n);const r=e.parentNode;if(r){r.insertBefore(s[0],e);Qo.each(t,t=>{r.insertBefore(t,e)});r.insertBefore(s[1],e);r.removeChild(e)}return $S(t[t.length-1],o)};const GS=(e,t,o)=>{const n=e.parentNode;if(n){Qo.each(t,t=>{n.insertBefore(t,e)})}return qS(e,o)};const KS=(e,t,o,n)=>{n.insertAfter(t.reverse(),e);return $S(t[0],o)};const YS=(e,t,o,n)=>{const s=LS(t,e,n);const r=jS(t,o.startContainer);const a=VS(HS(s.firstChild));const c=1,i=2;const l=t.getRoot();const d=e=>{const n=Af.fromRangeStart(o);const s=uy(t.getRoot());const a=e===c?s.prev(n):s.next(n);const i=a===null||a===void 0?void 0:a.getNode();return i?jS(t,i)!==r:true};if(!r){return null}else if(d(c)){return GS(r,a,l)}else if(d(i)){return KS(r,a,l,t)}else{return WS(r,a,l,o)}};const XS=["pre"];const JS=(e,t,o,n)=>{var s;const r=t.firstChild;const a=t.lastChild;const c=a.attr("data-mce-type")==="bookmark"?a.prev:a;const i=r===c;const l=Y(XS,r.name);if(i&&l){const t=r.attr("contenteditable")!=="false";const a=((s=e.getParent(o,e.isBlock))===null||s===void 0?void 0:s.nodeName.toLowerCase())===r.name;const c=U.from(rS(n,o)).forall(Sc);return t&&a&&c}else{return false}};const QS=Ec;const ez=(e,t,o)=>{if(T(o)){const n=e.getParent(t.endContainer,QS);return o===n&&gb(rn.fromDom(o),t)}else{return false}};const tz=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const e=t.childNodes;return e.length===1&&_c(e[0])||e.length===0}else{return false}};const oz=(e,t,o)=>{var n;if(o.getAttribute("data-mce-bogus")==="all"){(n=o.parentNode)===null||n===void 0?void 0:n.insertBefore(e.dom.createFragment(t),o)}else{if(tz(e.dom,o)){e.dom.setHTML(o,t)}else{e.selection.setContent(t,{no_events:true})}}};const nz=(e,t,o)=>{U.from(e.getParent(t,"td,th")).map(rn.fromDom).each(e=>du(e,o))};const sz=(e,t)=>{const o=e.schema.getTextInlineElements();const n=e.dom;if(t){const t=e.getBody();const s=iS(e);const r="*[data-mce-fragment]";const a=n.select(r);Qo.each(a,e=>{const a=e=>T(o[e.nodeName.toLowerCase()]);const c=e=>e.childNodes.length===1;const i=e=>!(r_(n,e)||a_(n,e));if(i(e)&&a(e)&&c(e)){const o=o_(n,e);const i=(e,t)=>de(e,e=>Y(t,e));const l=t=>c(e)&&n.is(t,r)&&a(t)&&(t.nodeName===e.nodeName&&i(o,o_(n,t))||l(t.children[0]));const d=o=>T(o)&&o!==t&&(s.compare(e,o)||d(o.parentElement));const u=o=>T(o)&&o!==t&&n.is(o,r)&&(i_(n,e,o)||u(o.parentElement));if(l(e.children[0])||d(e.parentElement)&&!u(e.parentElement)){n.remove(e,true)}}})}};const rz=e=>{let t=e;while(t=t.walk()){if(t.type===1){t.attr("data-mce-fragment","1")}}};const az=e=>{Qo.each(e.getElementsByTagName("*"),e=>{e.removeAttribute("data-mce-fragment")})};const cz=e=>!!e.getAttribute("data-mce-fragment");const iz=(e,t)=>T(t)&&!e.schema.getVoidElements()[t.nodeName];const lz=(e,t)=>{var o,n,s;let r;const a=e.dom;const c=e.selection;if(!t){return}c.scrollIntoView(t);const i=rS(e.getBody(),t);if(i&&a.getContentEditable(i)==="false"){a.remove(t);c.select(i);return}let l=a.createRng();const d=t.previousSibling;if(hc(d)){l.setStart(d,(n=(o=d.nodeValue)===null||o===void 0?void 0:o.length)!==null&&n!==void 0?n:0);const e=t.nextSibling;if(hc(e)){d.appendData(e.data);(s=e.parentNode)===null||s===void 0?void 0:s.removeChild(e)}}else{l.setStartBefore(t);l.setEndBefore(t)}const u=t=>{let o=Af.fromRangeStart(t);const n=uy(e.getBody());o=n.next(o);return o===null||o===void 0?void 0:o.toRange()};const f=a.getParent(t,a.isBlock);a.remove(t);if(f&&a.isEmpty(f)){const e=QS(f);Ps(rn.fromDom(f));l.setStart(f,0);l.setEnd(f,0);if(!e&&!cz(f)&&(r=u(l))){l=r;a.remove(f)}else{a.add(f,a.create("br",e?{}:{"data-mce-bogus":"1"}))}}c.setRng(l)};const dz=e=>{const t=e.dom;const o=OS(e.selection.getRng());e.selection.setRng(o);const n=t.getParent(o.startContainer,QS);if(ez(t,o,n)){PC(e,o,rn.fromDom(n))}else if(fz(o)||uz(o)){o.deleteContents()}else{e.getDoc().execCommand("Delete",false)}};const uz=e=>mz(e,hc);const fz=e=>mz(e,Cc);const mz=(e,t)=>e.startContainer===e.endContainer&&e.endOffset-e.startOffset===1&&t(e.startContainer.childNodes[e.startOffset]);const gz=e=>{for(let t=e;t;t=t.walk()){if(t.attr("id")==="mce_marker"){return U.some(t)}}return U.none()};const pz=(e,t,o)=>{var n;return X(o.children(),lS)&&((n=e.getParent(t,e.isBlock))===null||n===void 0?void 0:n.nodeName)==="SUMMARY"};const hz=(e,t,o)=>{var n,s;const r=e.selection;const a=e.dom;const c=e.parser;const i=o.merge;const l=Xw({validate:true},e.schema);const d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(!o.preserve_zwsp){t=mu(t)}if(t.indexOf("{$caret}")===-1){t+="{$caret}"}t=t.replace(/\{\$caret\}/,d);let u=r.getRng();const f=u.startContainer;const m=e.getBody();if(f===m&&r.isCollapsed()){if(a.isBlock(m.firstChild)&&iz(e,m.firstChild)&&a.isEmpty(m.firstChild)){u=a.createRng();u.setStart(m.firstChild,0);u.setEnd(m.firstChild,0);r.setRng(u)}}if(!r.isCollapsed()){dz(e)}const g=r.getNode();const p={context:g.nodeName.toLowerCase(),data:o.data,insert:true};const h=c.parse(t,p);if(o.paste===true&&RS(e.schema,h)&&ZS(a,g)){u=YS(l,a,r.getRng(),h);if(u){r.setRng(u)}return t}if(o.paste===true&&JS(a,h,g,e.getBody())){(n=h.firstChild)===null||n===void 0?void 0:n.unwrap()}rz(h);let y=h.lastChild;if(y&&y.attr("id")==="mce_marker"){const t=y;for(y=y.prev;y;y=y.walk(true)){if(y.name==="table"){break}if(y.type===3||!a.isBlock(y.name)){if(y.parent&&e.schema.isValidChild(y.parent.name,"span")){y.parent.insert(t,y,y.name==="br")}break}}}e._selectionOverrides.showBlockCaretContainer(g);if(!p.invalid&&!pz(a,g,h)){t=l.serialize(h);oz(e,t,g)}else{e.selection.setContent(d);let o=r.getNode();let n;const i=e.getBody();if(kc(o)){o=n=i}else{n=o}while(n&&n!==i){o=n;n=n.parentNode}t=o===i?i.innerHTML:a.getOuterHTML(o);const u=c.parse(t);const f=gz(u);const m=f.bind(_S).getOr(u);f.each(e=>e.replace(h));const g=h.children();const p=(s=h.parent)!==null&&s!==void 0?s:u;h.unwrap();const y=oe(g,t=>zS(e.schema,t,p));CS(y,e.schema,m);pS(c.getNodeFilters(),c.getAttributeFilters(),u);t=l.serialize(u);if(o===i){a.setHTML(i,t)}else{a.setOuterHTML(o,t)}}sz(e,i);lz(e,a.get("mce_marker"));az(e.getBody());nz(a,r.getStart(),e.schema);li(e.schema,e.getBody(),r.getStart());return t};const yz=e=>e instanceof Ew;const bz=e=>{if(vk(e)){Sy(e.getBody()).each(t=>{const o=t.getNode();const n=mc(o)?Sy(o).getOr(t):t;e.selection.setRng(n.toRange())})}};const vz=(e,t,o)=>{e.dom.setHTML(e.getBody(),t);if(o!==true){bz(e)}};const kz=(e,t,o,n)=>{o=mu(o);if(o.length===0||/^\s+$/.test(o)){const s='<br data-mce-bogus="1">';if(t.nodeName==="TABLE"){o="<tr><td>"+s+"</td></tr>"}else if(/^(UL|OL)$/.test(t.nodeName)){o="<li>"+s+"</li>"}const r=dg(e);if(e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())){o=s;o=e.dom.createHTML(r,ug(e),o)}else if(!o){o=s}vz(e,o,n.no_selection);return{content:o,html:o}}else{if(n.format!=="raw"){o=Xw({validate:false},e.schema).serialize(e.parser.parse(o,{isRootContent:true,insert:true}))}const s=ru(rn.fromDom(t))?o:Qo.trim(o);vz(e,s,n.no_selection);return{content:s,html:s}}};const wz=(e,t,o,n)=>{pS(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const s=Xw({validate:false},e.schema).serialize(o);const r=mu(ru(rn.fromDom(t))?s:Qo.trim(s));vz(e,r,n.no_selection);return{content:o,html:r}};const _z=(e,t,o)=>U.from(e.getBody()).map(n=>{if(yz(t)){return wz(e,n,t,o)}else{return kz(e,n,t,o)}}).getOr({content:t,html:yz(o.content)?"":o.content});const xz=Mb;const Cz=(e,t,o)=>{const n=e.formatter.get(o);if(n){for(let o=0;o<n.length;o++){const s=n[o];if(Zb(s)&&s.inherit===false&&e.dom.is(t,s.selector)){return true}}}return false};const Sz=(e,t,o,n,s)=>{const r=e.dom.getRoot();if(t===r){return false}const a=e.dom.getParent(t,t=>{if(Cz(e,t,o)){return true}return t.parentNode===r||!!Ez(e,t,o,n,true)});return!!Ez(e,a,o,n,s)};const zz=(e,t,o)=>{if(Ub(o)&&xz(t,o.inline)){return true}if(Fb(o)&&xz(t,o.block)){return true}if(Zb(o)){return sc(t)&&e.is(t,o.selector)}return false};const Tz=(e,t,o,n,s,r)=>{const a=o[n];const c=n==="attributes";if(E(o.onmatch)){return o.onmatch(t,o,n)}if(a){if(!Nt(a)){for(const n in a){if(Ne(a,n)){const i=c?e.getAttrib(t,n):Rb(e,t,n);const l=Db(a[n],r);const d=z(i)||_t(i);if(d&&z(l)){continue}if(s&&d&&!o.exact){return false}if((!s||o.exact)&&!xz(i,Nb(l,n))){return false}}}}else{for(let o=0;o<a.length;o++){if(c?e.getAttrib(t,a[o]):Rb(e,t,a[o])){return true}}}}return true};const Ez=(e,t,o,n,s)=>{const r=e.formatter.get(o);const a=e.dom;if(r&&sc(t)){for(let o=0;o<r.length;o++){const c=r[o];if(zz(e.dom,t,c)&&Tz(a,t,c,"attributes",s,n)&&Tz(a,t,c,"styles",s,n)){const o=c.classes;if(o){for(let s=0;s<o.length;s++){if(!e.dom.hasClass(t,Db(o[s],n))){return}}}return c}}}return undefined};const Oz=(e,t,o,n,s)=>{if(n){return Sz(e,n,t,o,s)}n=e.selection.getNode();if(Sz(e,n,t,o,s)){return true}const r=e.selection.getStart();if(r!==n){if(Sz(e,r,t,o,s)){return true}}return false};const Az=(e,t,o)=>{const n=[];const s={};const r=e.selection.getStart();e.dom.getParent(r,r=>{for(let a=0;a<t.length;a++){const c=t[a];if(!s[c]&&Ez(e,r,c,o)){s[c]=true;n.push(c)}}},e.dom.getRoot());return n};const Dz=(e,t)=>{const o=t=>Sn(t,rn.fromDom(e.getBody()));const n=(t,o)=>Ez(e,t.dom,o)?U.some(o):U.none();return U.from(e.selection.getStart(true)).bind(e=>ua(rn.fromDom(e),e=>ve(t,t=>n(e,t)),o)).getOrNull()};const Mz=(e,t)=>{const o=e.formatter.get(t);const n=e.dom;if(o&&e.selection.isEditable()){const t=e.selection.getStart();const s=Lb(n,t);for(let e=o.length-1;e>=0;e--){const t=o[e];if(!Zb(t)){return true}for(let e=s.length-1;e>=0;e--){if(n.is(s[e],t.selector)){return true}}}}return false};const Nz=(e,t,o)=>se(o,(o,n)=>{const s=Ib(e,n);if(e.formatter.matchNode(t,n,{},s)){return o.concat([n])}else{return o}},[]);const Rz=uu;const Bz=(e,t)=>e.importNode(t,true);const Lz=e=>{if(e){const t=new Ga(e,e);for(let e=t.current();e;e=t.next()){if(hc(e)){return e}}}return null};const Hz=e=>{const t=rn.fromTag("span");Ms(t,{id:Ty,"data-mce-bogus":"1","data-mce-type":"format-caret"});if(e){zs(t,rn.fromText(Rz))}return t};const Iz=e=>{const t=Lz(e);if(t&&t.data.charAt(0)===Rz){t.deleteData(0,1)}return t};const Pz=(e,t,o)=>{const n=e.dom,s=e.selection;if(Gb(t)){Ix(e,false,rn.fromDom(t),o,true)}else{const e=s.getRng();const o=n.getParent(t,n.isBlock);const r=e.startContainer;const a=e.startOffset;const c=e.endContainer;const i=e.endOffset;const l=Iz(t);n.remove(t,true);if(r===l&&a>0){e.setStart(l,a-1)}if(c===l&&i>0){e.setEnd(l,i-1)}if(o&&n.isEmpty(o)){lu(rn.fromDom(o))}s.setRng(e)}};const Fz=(e,t,o)=>{const n=e.dom,s=e.selection;if(!t){t=Oy(e.getBody(),s.getStart());if(!t){while(t=n.get(Ty)){Pz(e,t,o)}}}else{Pz(e,t,o)}};const Vz=(e,t,o)=>{var n,s;const r=e.dom;const a=r.getParent(o,H(Sb,e.schema));if(a&&r.isEmpty(a)){(n=o.parentNode)===null||n===void 0?void 0:n.replaceChild(t,o)}else{cu(rn.fromDom(o));if(r.isEmpty(o)){(s=o.parentNode)===null||s===void 0?void 0:s.replaceChild(t,o)}else{r.insertAfter(t,o)}}};const jz=(e,t)=>{e.appendChild(t);return t};const Zz=(e,t)=>{var o;const n=ne(e,(e,t)=>jz(e,t.cloneNode(false)),t);const s=(o=n.ownerDocument)!==null&&o!==void 0?o:document;return jz(n,s.createTextNode(Rz))};const Uz=(e,t,o,n,s,r)=>{const a=e.formatter;const c=e.dom;const i=oe(we(a.get()),e=>e!==n&&!gt(e,"removeformat"));const l=Nz(e,o,i);const d=oe(l,t=>!Pb(e,t,n));if(d.length>0){const e=o.cloneNode(false);c.add(t,e);a.remove(n,s,e,r);c.remove(e);return U.some(e)}else{return U.none()}};const qz=e=>Tr(e,Sr(e).replace(new RegExp(`${Ot}$`)," "));const $z=(e,t)=>{const o=()=>{if(t!==null&&!e.dom.isEmpty(t)){$n(rn.fromDom(t)).each(e=>{if(Rn(e)){qz(e)}else{Lr(e,e=>Rn(e)).each(e=>{if(Rn(e)){qz(e)}})}})}};e.once("input",t=>{if(t.data&&!eb(t.data)){if(!t.isComposing){o()}else{e.once("compositionend",()=>{o()})}}})};const Wz=(e,t,o)=>{let n;const s=e.selection;const r=e.formatter.get(t);if(!r){return}const a=s.getRng();let c=a.startOffset;const i=a.startContainer;const l=i.nodeValue;n=Oy(e.getBody(),s.getStart());const d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&c>0&&c<l.length&&d.test(l.charAt(c))&&d.test(l.charAt(c-1))){const n=s.getBookmark();a.collapse(true);let c=uv(e.dom,a,r);c=qk(c);e.formatter.apply(t,o,c);s.moveToBookmark(n)}else{let r=n?Lz(n):null;if(!n||(r===null||r===void 0?void 0:r.data)!==Rz){n=Bz(e.getDoc(),Hz(true).dom);r=n.firstChild;a.insertNode(n);c=1;$z(e,n);e.formatter.apply(t,o,n)}else{e.formatter.apply(t,o,n)}s.setCursorLocation(r,c)}};const Gz=(e,t,o,n)=>{const s=e.dom;const r=e.selection;let a=false;const c=e.formatter.get(t);if(!c){return}const i=r.getRng();const l=i.startContainer;const d=i.startOffset;let u=l;if(hc(l)){if(d!==l.data.length){a=true}u=u.parentNode}const f=[];let m;while(u){if(Ez(e,u,t,o,n)){m=u;break}if(u.nextSibling){a=true}f.push(u);u=u.parentNode}if(!m){return}if(a){const a=r.getBookmark();i.collapse(true);let l=uv(s,i,c,{includeTrailingSpace:true});l=qk(l);e.formatter.remove(t,o,l,n);r.moveToBookmark(a)}else{const a=Oy(e.getBody(),m);const c=T(a)?s.getParents(m.parentNode,Z,a):[];const i=Hz(false).dom;Vz(e,i,a!==null&&a!==void 0?a:m);const l=Uz(e,i,m,t,o,n);const d=Zz([...f,...l.toArray(),...c],i);if(a){Pz(e,a,T(a))}r.setCursorLocation(d,1);$z(e,i);if(s.isEmpty(m)){s.remove(m)}}};const Kz=(e,t,o)=>{const n=e.selection,s=e.getBody();Fz(e,null,o);if((t===8||t===46)&&n.isCollapsed()&&n.getStart().innerHTML===Rz){Fz(e,Oy(s,n.getStart()),true)}if(t===37||t===39){Fz(e,Oy(s,n.getStart()),true)}};const Yz=e=>hc(e)&&ht(e.data,Ot);const Xz=e=>{e.on("mouseup keydown",t=>{Kz(e,t.keyCode,Yz(e.selection.getRng().endContainer))})};const Jz=e=>{const t=Hz(false);const o=Zz(e,t.dom);return{caretContainer:t,caretPosition:Af(o,0)}};const Qz=(e,t)=>{const{caretContainer:o,caretPosition:n}=Jz(t);xs(rn.fromDom(e),o);Fs(rn.fromDom(e));return n};const eT=(e,t)=>{const{caretContainer:o,caretPosition:n}=Jz(t);e.insertNode(o.dom);return n};const tT=(e,t)=>{if(Ey(t.dom)){return false}const o=e.schema.getTextInlineElements();return Ne(o,En(t))&&!Ey(t.dom)&&!uc(t.dom)};const oT={};const nT=ic(["pre"]);const sT=(e,t)=>{const o=oT[e];if(!o){oT[e]=[]}oT[e].push(t)};const rT=(e,t)=>{if(Ne(oT,e)){Q(oT[e],e=>{e(t)})}};sT("pre",e=>{const t=e.selection.getRng();const o=e=>t=>{const o=t.previousSibling;return nT(o)&&Y(e,o)};const n=(e,t)=>{const o=rn.fromDom(t);const n=Pn(o).dom;Fs(o);Os(rn.fromDom(e),[rn.fromTag("br",n),rn.fromTag("br",n),...Yn(o)])};if(!t.collapsed){const t=e.selection.getSelectedBlocks();const s=oe(oe(t,nT),o(t));Q(s,e=>{n(e.previousSibling,e)})}});const aT=["fontWeight","fontStyle","color","fontSize","fontFamily"];const cT=e=>k(e.styles)&&X(we(e.styles),e=>Y(aT,e));const iT=e=>ae(e,e=>Ub(e)&&e.inline==="span"&&cT(e));const lT=(e,t)=>{const o=e.get(t);return _(o)?iT(o):U.none()};const dT=(e,t)=>Cy(t,Af.fromRangeStart(e)).isNone();const uT=(e,t)=>xy(t,Af.fromRangeEnd(e)).exists(e=>!_c(e.getNode())||xy(t,e).isSome())===false;const fT=e=>t=>Dc(t)&&e.isEditable(t);const mT=e=>{const t=e.getSelectedBlocks();const o=e.getRng();if(e.isCollapsed()){return[]}if(t.length===1){return dT(o,t[0])&&uT(o,t[0])?t:[]}else{const e=he(t).filter(e=>dT(o,e)).toArray();const n=ye(t).filter(e=>uT(o,e)).toArray();const s=t.slice(1,-1);return e.concat(s).concat(n)}};const gT=e=>oe(mT(e),fT(e.dom));const pT=e=>oe(e.getSelectedBlocks(),fT(e.dom));const hT=Qo.each;const yT=e=>sc(e)&&!Xy(e)&&!Ey(e)&&!uc(e);const bT=(e,t)=>{for(let o=e;o;o=o[t]){if(hc(o)&&wt(o.data)){return e}if(sc(o)&&!Xy(o)){return o}}return e};const vT=(e,t,o)=>{const n=iS(e);const s=rc(t)&&e.dom.isEditable(t);const r=rc(o)&&e.dom.isEditable(o);if(s&&r){const s=bT(t,"previousSibling");const r=bT(o,"nextSibling");if(n.compare(s,r)){for(let e=s.nextSibling;e&&e!==r;){const t=e;e=e.nextSibling;s.appendChild(t)}e.dom.remove(r);Qo.each(Qo.grep(r.childNodes),e=>{s.appendChild(e)});return s}}return o};const kT=(e,t,o,n)=>{var s;if(n&&t.merge_siblings!==false){const t=(s=vT(e,Cb(n),n))!==null&&s!==void 0?s:n;vT(e,t,Cb(t,true))}};const wT=(e,t,o)=>{if(t.clear_child_styles){const n=t.links?"*:not(a)":"*";hT(e.select(n,o),o=>{if(yT(o)&&e.isEditable(o)){hT(t.styles,(t,n)=>{e.setStyle(o,n,"")})}})}};const _T=(e,t,o)=>{hT(e.childNodes,e=>{if(yT(e)){if(t(e)){o(e)}if(e.hasChildNodes()){_T(e,t,o)}}})};const xT=(e,t)=>{if(t.nodeName==="SPAN"&&e.getAttribs(t).length===0){e.remove(t,true)}};const CT=(e,t)=>o=>!!(o&&Rb(e,o,t));const ST=(e,t,o)=>n=>{e.setStyle(n,t,o);if(n.getAttribute("style")===""){n.removeAttribute("style")}xT(e,n)};const zT=He.generate([{keep:[]},{rename:["name"]},{removed:[]}]);const TT=/^(src|href|style)$/;const ET=Qo.each;const OT=Mb;const AT=e=>/^(TR|TH|TD)$/.test(e.nodeName);const DT=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o);const MT=(e,t,o)=>{let n=t[o?"startContainer":"endContainer"];let s=t[o?"startOffset":"endOffset"];if(sc(n)){const e=n.childNodes.length-1;if(!o&&s){s--}n=n.childNodes[s>e?e:s]}if(hc(n)&&o&&s>=n.data.length){n=new Ga(n,e.getBody()).next()||n}if(hc(n)&&!o&&s===0){n=new Ga(n,e.getBody()).prev()||n}return n};const NT=(e,t)=>{const o=t?"firstChild":"lastChild";const n=e[o];if(AT(e)&&n){if(e.nodeName==="TR"){return n[o]||n}else{return n}}return e};const RT=(e,t,o,n)=>{var s;const r=e.create(o,n);(s=t.parentNode)===null||s===void 0?void 0:s.insertBefore(r,t);r.appendChild(t);return r};const BT=(e,t,o,n,s)=>{const r=rn.fromDom(t);const a=rn.fromDom(e.create(n,s));const c=o?Kn(r):Gn(r);Os(a,c);if(o){xs(r,a);Ss(a,r)}else{Cs(r,a);zs(a,r)}return a.dom};const LT=(e,t)=>t.links&&e.nodeName==="A";const HT=(e,t,o)=>{const n=t.parentNode;let s;const r=e.dom;const a=dg(e);if(Fb(o)){if(n===r.getRoot()){if(!o.list_block||!OT(t,o.list_block)){Q(be(t.childNodes),t=>{if(zb(e,a,t.nodeName.toLowerCase())){if(!s){s=RT(r,t,a);r.setAttribs(s,ug(e))}else{s.appendChild(t)}}else{s=null}})}}}if(qb(o)&&!OT(o.inline,t)){return}r.remove(t,true)};const IT=(e,t,o)=>{if(O(e)){return{name:t,value:null}}else{return{name:e,value:Db(t,o)}}};const PT=(e,t)=>{if(e.getAttrib(t,"style")===""){t.removeAttribute("style");t.removeAttribute("data-mce-style")}};const FT=(e,t,o,n,s)=>{let r=false;ET(o.styles,(a,c)=>{const{name:i,value:l}=IT(c,a,n);const d=Nb(l,i);if(o.remove_similar||x(l)||!sc(s)||OT(Rb(e,s,i),d)){e.setStyle(t,i,"")}r=true});if(r){PT(e,t)}};const VT=(e,t,o)=>{if(t==="removeformat"){Q(pT(e.selection),t=>{Q(aT,o=>e.dom.setStyle(t,o,""));PT(e.dom,t)})}else{lT(e.formatter,t).each(t=>{Q(pT(e.selection),n=>FT(e.dom,n,t,o,null))})}};const jT=(e,t,o,n,s)=>{const r=e.dom;const a=iS(e);const c=e.schema;if(Ub(t)&&ui(c,t.inline)&&mi(c,n)&&n.parentElement===e.getBody()){HT(e,n,t);return zT.removed()}if(!t.ceFalseOverride&&n&&r.getContentEditableParent(n)==="false"){return zT.keep()}if(n&&!zz(r,n,t)&&!LT(n,t)){return zT.keep()}const i=n;const l=t.preserve_attributes;if(Ub(t)&&t.remove==="all"&&_(l)){const e=oe(r.getAttribs(i),e=>Y(l,e.name.toLowerCase()));r.removeAllAttribs(i);Q(e,e=>r.setAttrib(i,e.name,e.value));if(e.length>0){return zT.rename("span")}}if(t.remove!=="all"){FT(r,i,t,o,s);ET(t.attributes,(e,n)=>{const{name:a,value:c}=IT(n,e,o);if(t.remove_similar||x(c)||!sc(s)||OT(r.getAttrib(s,a),c)){if(a==="class"){const e=r.getAttrib(i,a);if(e){let t="";Q(e.split(/\s+/),e=>{if(/mce\-\w+/.test(e)){t+=(t?" ":"")+e}});if(t){r.setAttrib(i,a,t);return}}}if(TT.test(a)){i.removeAttribute("data-mce-"+a)}if(a==="style"&&ic(["li"])(i)&&r.getStyle(i,"list-style-type")==="none"){i.removeAttribute(a);r.setStyle(i,"list-style-type","none");return}if(a==="class"){i.removeAttribute("className")}i.removeAttribute(a)}});ET(t.classes,e=>{e=Db(e,o);if(!sc(s)||r.hasClass(s,e)){r.removeClass(i,e)}});const e=r.getAttribs(i);for(let t=0;t<e.length;t++){const o=e[t].nodeName;if(!a.isAttributeInternal(o)){return zT.keep()}}}if(t.remove!=="none"){HT(e,i,t);return zT.removed()}return zT.keep()};const ZT=(e,t,o,n,s)=>{let r;if(t.parentNode){Q(Lb(e.dom,t.parentNode).reverse(),t=>{if(!r&&sc(t)&&t.id!=="_start"&&t.id!=="_end"){const a=Ez(e,t,o,n,s);if(a&&a.split!==false){r=t}}})}return r};const UT=(e,t,o,n)=>jT(e,t,o,n,n).fold(R(n),t=>{const o=e.dom.createFragment();o.appendChild(n);return e.dom.rename(n,t)},R(null));const qT=(e,t,o,n,s,r,a,c)=>{var i,l;let d;let u;const f=e.dom;if(o){const m=o.parentNode;for(let o=n.parentNode;o&&o!==m;o=o.parentNode){let n=f.clone(o,false);for(let o=0;o<t.length;o++){n=UT(e,t[o],c,n);if(n===null){break}}if(n){if(d){n.appendChild(d)}if(!u){u=n}d=n}}if(r&&(!a.mixed||!f.isBlock(o))){n=(i=f.split(o,n))!==null&&i!==void 0?i:n}if(d&&u){(l=s.parentNode)===null||l===void 0?void 0:l.insertBefore(d,s);u.appendChild(s);if(Ub(a)){kT(e,a,c,d)}}}return n};const $T=(e,t,o,n,s)=>{const r=e.formatter.get(t);const a=r[0];const c=e.dom;const i=e.selection;const l=n=>{const c=ZT(e,n,t,o,s);return qT(e,r,c,n,n,true,a,o)};const d=e=>Xy(e)&&sc(e)&&(e.id==="_start"||e.id==="_end");const u=t=>X(r,n=>GT(e,n,o,t,t));const f=t=>{const o=be(t.childNodes);const n=u(t);const s=n||X(r,e=>zz(c,t,e));const i=t.parentNode;if(!s&&T(i)&&$b(a)){u(i)}if(a.deep){if(o.length){for(let e=0;e<o.length;e++){f(o[e])}}}const l=["underline","line-through","overline"];Q(l,o=>{if(sc(t)&&e.dom.getStyle(t,"text-decoration")===o&&t.parentNode&&Bb(c,t.parentNode)===o){GT(e,{deep:false,exact:true,inline:"span",styles:{textDecoration:o}},undefined,t)}})};const m=e=>{const t=c.get(e?"_start":"_end");if(t){let o=t[e?"firstChild":"lastChild"];if(d(o)){o=o[e?"firstChild":"lastChild"]}if(hc(o)&&o.data.length===0){o=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling}c.remove(t,true);return o}else{return null}};const g=t=>{let o;let n;let s=uv(c,t,r,{includeTrailingSpace:t.collapsed});if(a.split){s=qk(s);o=MT(e,s,true);n=MT(e,s);if(o!==n){o=NT(o,true);n=NT(n,false);if(DT(c,o,n)){const e=U.from(o.firstChild).getOr(o);l(BT(c,e,true,"span",{id:"_start","data-mce-type":"bookmark"}));m(true);return}if(DT(c,n,o)){const e=U.from(n.lastChild).getOr(n);l(BT(c,e,false,"span",{id:"_end","data-mce-type":"bookmark"}));m(false);return}o=RT(c,o,"span",{id:"_start","data-mce-type":"bookmark"});n=RT(c,n,"span",{id:"_end","data-mce-type":"bookmark"});const e=c.createRng();e.setStartAfter(o);e.setEndBefore(n);fv(c,e,e=>{Q(e,e=>{if(!Xy(e)&&!Xy(e.parentNode)){l(e)}})});l(o);l(n);o=m(true);n=m()}else{o=n=l(o)}s.startContainer=o.parentNode?o.parentNode:o;s.startOffset=c.nodeIndex(o);s.endContainer=n.parentNode?n.parentNode:n;s.endOffset=c.nodeIndex(n)+1}fv(c,s,e=>{Q(e,f)})};if(n){if(vb(n)){const e=c.createRng();e.setStartBefore(n);e.setEndAfter(n);g(e)}else{g(n)}Rm(e,t,n,o);return}if(!i.isCollapsed()||!Ub(a)||ib(e).length){_b(e,()=>yb(e,g),n=>Ub(a)&&Oz(e,t,o,n));e.nodeChanged()}else{Gz(e,t,o,s)}VT(e,t,o);Rm(e,t,n,o)};const WT=(e,t,o,n,s)=>{if(n||e.selection.isEditable()){$T(e,t,o,n,s)}};const GT=(e,t,o,n,s)=>jT(e,t,o,n,s).fold(j,t=>{e.dom.rename(n,t);return true},Z);const KT=Qo.each;const YT=(e,t,o,n)=>{const s=t=>{if(rc(t)&&sc(t.parentNode)&&e.isEditable(t)){const o=Bb(e,t.parentNode);if(e.getStyle(t,"color")&&o){e.setStyle(t,"text-decoration",o)}else if(e.getStyle(t,"text-decoration")===o){e.setStyle(t,"text-decoration",null)}}};if(t.styles&&(t.styles.color||t.styles.textDecoration)){Qo.walk(n,s,"childNodes");s(n)}};const XT=(e,t,o,n)=>{if(t.styles&&t.styles.backgroundColor){const s=CT(e,"fontSize");_T(n,t=>s(t)&&e.isEditable(t),ST(e,"backgroundColor",Db(t.styles.backgroundColor,o)))}};const JT=(e,t,o,n)=>{if(Ub(t)&&(t.inline==="sub"||t.inline==="sup")){const o=CT(e,"fontSize");_T(n,t=>o(t)&&e.isEditable(t),ST(e,"fontSize",""));const s=oe(e.select(t.inline==="sup"?"sub":"sup",n),e.isEditable);e.remove(s,true)}};const QT=(e,t,o,n)=>{KT(t,t=>{if(Ub(t)){KT(e.dom.select(t.inline,n),n=>{if(yT(n)){GT(e,t,o,n,t.exact?n:null)}})}wT(e.dom,t,n)})};const eE=(e,t,o,n,s)=>{const r=s.parentNode;if(Ez(e,r,o,n)){if(GT(e,t,n,s)){return}}if(t.merge_with_parents&&r){e.dom.getParent(r,r=>{if(Ez(e,r,o,n)){GT(e,t,n,s);return true}else{return false}})}};const tE=Qo.each;const oE=(e,t,o,n)=>{if(Kg(e)&&Ub(t)&&o.parentNode){const t=vl(e.schema);const s=aa(rn.fromDom(o),e=>Ey(e.dom));return Re(t,n)&&Zc(e.schema,o.parentNode,{skipBogus:false,includeZwsp:true})&&!s}else{return false}};const nE=(e,t,o,n)=>{tE(o.styles,(o,s)=>{e.setStyle(t,s,Db(o,n))});if(o.styles){const o=e.getAttrib(t,"style");if(o){e.setAttrib(t,"data-mce-style",o)}}};const sE=(e,t,o,n)=>{const s=e.formatter.get(t);const r=s[0];const a=!n&&e.selection.isCollapsed();const c=e.dom;const i=e.selection;const l=(e,t=r)=>{if(E(t.onformat)){t.onformat(e,t,o,n)}nE(c,e,t,o);tE(t.attributes,(t,n)=>{c.setAttrib(e,n,Db(t,o))});tE(t.classes,t=>{const n=Db(t,o);if(!c.hasClass(e,n)){c.addClass(e,n)}})};const d=(e,t)=>{let o=false;tE(e,e=>{if(!Zb(e)){return false}if(c.getContentEditable(t)==="false"&&!e.ceFalseOverride){return true}if(T(e.collapsed)&&e.collapsed!==a){return true}if(c.is(t,e.selector)&&!Ey(t)){l(t,e);o=true;return false}return true});return o};const u=e=>{if(v(e)){const t=c.create(e);l(t);return t}else{return null}};const f=(n,a,c)=>{const i=[];let f=true;const m=r.inline||r.block;const g=u(m);const p=n=>Vb(r)&&Ez(e,n,t,o);const h=(t,o,n)=>{const s=jb(r)&&Sb(e.schema,t)&&zb(e,o,m);return n&&s};const y=(t,o,s,a)=>{const i=t.nodeName.toLowerCase();const l=zb(e,m,i)&&zb(e,o,m);const d=!c&&hc(t)&&fu(t.data);const u=Ey(t);const f=!Ub(r)||!n.isBlock(t);return(s||a)&&l&&!d&&!u&&f};fv(n,a,t=>{let o;const a=t=>{let c=false;let u=f;let b=false;const v=t.parentNode;const k=v.nodeName.toLowerCase();const w=n.getContentEditable(t);if(T(w)){u=f;f=w==="true";c=true;b=Ab(e,t)}const _=f&&!c;if(_c(t)&&!oE(e,r,t,k)){o=null;if(Fb(r)){n.remove(t)}return}if(p(t)){o=null;return}if(h(t,k,_)){const e=n.rename(t,m);l(e);i.push(e);o=null;return}if(Zb(r)){let e=d(s,t);if(!e&&T(v)&&$b(r)){e=d(s,v)}if(!Ub(r)||e){o=null;return}}if(T(g)&&y(t,k,_,b)){if(!o){o=n.clone(g,false);v.insertBefore(o,t);i.push(o)}if(b&&c){f=u}o.appendChild(t)}else{o=null;Q(be(t.childNodes),a);if(c){f=u}o=null}};Q(t,a)});if(r.links===true){Q(i,e=>{const t=e=>{if(e.nodeName==="A"){l(e,r)}Q(be(e.childNodes),t)};t(e)})}Q(i,a=>{const c=e=>{let t=0;Q(e.childNodes,e=>{if(!Eb(e)&&!Xy(e)){t++}});return t};const d=e=>{const t=ae(e.childNodes,kb).filter(e=>n.getContentEditable(e)!=="false"&&zz(n,e,r));return t.map(t=>{const o=n.clone(t,false);l(o);n.replace(o,e,true);n.remove(t,true);return o}).getOr(e)};const u=c(a);if((i.length>1||!n.isBlock(a))&&u===0){n.remove(a,true);return}if(Ub(r)||Fb(r)&&r.wrapper){if(!r.exact&&u===1){a=d(a)}QT(e,s,o,a);eE(e,r,t,o,a);XT(n,r,o,a);YT(n,r,o,a);JT(n,r,o,a);kT(e,r,o,a)}})};const m=vb(n)?n:i.getNode();if(c.getContentEditable(m)==="false"&&!Ab(e,m)){n=m;d(s,n);Nm(e,t,n,o);return}if(r){if(n){if(vb(n)){if(!d(s,n)){const e=c.createRng();e.setStartBefore(n);e.setEndAfter(n);f(c,uv(c,e,s),true)}}else{f(c,n,true)}}else{if(!a||!Ub(r)||ib(e).length){i.setRng(OS(i.getRng()));_b(e,()=>{yb(e,(e,t)=>{const o=t?e:uv(c,e,s);f(c,o,false)})},Z);e.nodeChanged()}else{Wz(e,t,o)}lT(e.formatter,t).each(t=>{Q(gT(e.selection),e=>nE(c,e,t,o))})}rT(t,e)}Nm(e,t,n,o)};const rE=(e,t,o,n)=>{if(n||e.selection.isEditable()){sE(e,t,o,n)}};const aE=e=>Ne(e,"vars");const cE=(e,t)=>{e.set({});t.on("NodeChange",o=>{uE(t,o.element,e.get())});t.on("FormatApply FormatRemove",o=>{const n=U.from(o.node).map(e=>vb(e)?e:e.startContainer).bind(e=>sc(e)?U.some(e):U.from(e.parentElement)).getOrThunk(()=>iE(t));uE(t,n,e.get())})};const iE=e=>e.selection.getStart();const lE=(e,t,o,n,s)=>{const r=t=>{const r=e.formatter.matchNode(t,o,s!==null&&s!==void 0?s:{},n);return!S(r)};const a=t=>{if(Cz(e,t,o)){return true}else{if(!n){return T(e.formatter.matchNode(t,o,s,true))}else{return false}}};return re(t,r,a)};const dE=(e,t)=>{const o=t!==null&&t!==void 0?t:iE(e);return oe(Lb(e.dom,o),e=>sc(e)&&!uc(e))};const uE=(e,t,o)=>{const n=dE(e,t);xe(o,(o,s)=>{const r=o=>{const r=lE(e,n,s,o.similar,aE(o)?o.vars:undefined);const a=r.isSome();if(o.state.get()!==a){o.state.set(a);const e=r.getOr(t);if(aE(o)){o.callback(a,{node:e,format:s,parents:n})}else{Q(o.callbacks,t=>t(a,{node:e,format:s,parents:n}))}}};Q([o.withSimilar,o.withoutSimilar],r);Q(o.withVars,r)})};const fE=(e,t,o,n,s,r)=>{const a=t.get();Q(o.split(","),t=>{const o=Me(a,t).getOrThunk(()=>{const e={withSimilar:{state:Ie(false),similar:true,callbacks:[]},withoutSimilar:{state:Ie(false),similar:false,callbacks:[]},withVars:[]};a[t]=e;return e});const c=()=>{const o=dE(e);return lE(e,o,t,s,r).isSome()};if(S(r)){const e=s?o.withSimilar:o.withoutSimilar;e.callbacks.push(n);if(e.callbacks.length===1){e.state.set(c())}}else{o.withVars.push({state:Ie(c()),similar:s,vars:r,callback:n})}});t.set(a)};const mE=(e,t,o)=>{const n=e.get();Q(t.split(","),e=>Me(n,e).each(t=>{n[e]={withSimilar:{...t.withSimilar,callbacks:oe(t.withSimilar.callbacks,e=>e!==o)},withoutSimilar:{...t.withoutSimilar,callbacks:oe(t.withoutSimilar.callbacks,e=>e!==o)},withVars:oe(t.withVars,e=>e.callback!==o)}}));e.set(n)};const gE=(e,t,o,n,s,r)=>{fE(e,t,o,n,s,r);return{unbind:()=>mE(t,o,n)}};const pE=(e,t,o,n)=>{const s=e.formatter.get(t);if(s){if(Oz(e,t,o,n)&&(!("toggle"in s[0])||s[0].toggle)){WT(e,t,o,n)}else{rE(e,t,o,n)}}};const hE=Qo.explode;const yE=()=>{const e={};const t=(t,o)=>{Q(hE(t),t=>{if(!Ne(e,t)){e[t]={name:t,callbacks:[]}}e[t].callbacks.push(o)})};const o=()=>De(e);const n=(t,o)=>{Q(hE(t),t=>{if(Ne(e,t)){if(T(o)){const n=e[t];const s=oe(n.callbacks,e=>e!==o);if(s.length>0){n.callbacks=s}else{delete e[t]}}else{delete e[t]}}})};return{addFilter:t,getFilters:o,removeFilter:n}};const bE=(e,t)=>{Q(t,t=>{e.attr(t,null)})};const vE=(e,t,o)=>{e.addNodeFilter("font",e=>{Q(e,e=>{const n=t.parse(e.attr("style"));const s=e.attr("color");const r=e.attr("face");const a=e.attr("size");if(s){n.color=s}if(r){n["font-family"]=r}if(a){Ct(a).each(e=>{n["font-size"]=o[e-1]})}e.name="span";e.attr("style",t.serialize(n));bE(e,["color","face","size"])})})};const kE=(e,t,o)=>{e.addNodeFilter("strike",e=>{const n=t.type!=="html4";Q(e,e=>{if(n){e.name="s"}else{const t=o.parse(e.attr("style"));t["text-decoration"]="line-through";e.name="span";e.attr("style",o.serialize(t))}})})};const wE=(e,t,o)=>{var n;const s=Rl();if(t.convert_fonts_to_spans){vE(e,s,Qo.explode((n=t.font_size_legacy_values)!==null&&n!==void 0?n:""))}kE(e,o,s)};const _E=(e,t,o)=>{if(t.inline_styles){wE(e,t,o)}};const xE=e=>fetch(e).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}));const CE=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""};const SE=e=>{try{return decodeURIComponent(e)}catch(t){return e}};const zE=e=>{const[t,...o]=e.split(",");const n=o.join(",");const s=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(s){const e=s[2]===";base64";const t=SE(n);const o=e?CE(t):t;return U.some({type:s[1],data:o,base64Encoded:e})}else{return U.none()}};const TE=(e,t,o=true)=>{let n=t;if(o){try{n=atob(t)}catch(e){return U.none()}}const s=new Uint8Array(n.length);for(let e=0;e<s.length;e++){s[e]=n.charCodeAt(e)}return U.some(new Blob([s],{type:e}))};const EE=e=>new Promise((t,o)=>{zE(e).bind(({type:e,data:t,base64Encoded:o})=>TE(e,t,o)).fold(()=>o("Invalid data URI"),t)});const OE=e=>{if(pt(e,"blob:")){return xE(e)}else if(pt(e,"data:")){return EE(e)}else{return Promise.reject("Unknown URI format")}};const AE=e=>new Promise((t,o)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)};n.onerror=()=>{var e;o((e=n.error)===null||e===void 0?void 0:e.message)};n.readAsDataURL(e)});let DE=0;const ME=e=>(e||"blobid")+DE++;const NE=(e,t,o)=>zE(e).bind(({data:e,type:n,base64Encoded:s})=>{if(t&&!s){return U.none()}else{const t=s?e:btoa(e);return o(t,n)}});const RE=(e,t,o)=>{const n=e.create(ME(),t,o);e.add(n);return n};const BE=(e,t,o=false)=>NE(t,o,(t,o)=>U.from(e.getByData(t,o)).orThunk(()=>TE(o,t).map(o=>RE(e,o,t))));const LE=(e,t)=>{const o=()=>Promise.reject("Invalid data URI");if(pt(t,"blob:")){const n=e.getByUri(t);if(T(n)){return Promise.resolve(n)}else{return OE(t).then(t=>AE(t).then(n=>NE(n,false,o=>U.some(RE(e,t,o))).getOrThunk(o)))}}else if(pt(t,"data:")){return BE(e,t).fold(o,e=>Promise.resolve(e))}else{return Promise.reject("Unknown image data format")}};const HE=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/;const IE=e=>U.from(e.match(HE)).bind(e=>pe(e,1)).map(e=>pt(e,"www.")?e.substring(4):e);const PE=(e,t)=>{if(U.from(e.attr("src")).bind(IE).forall(e=>!Y(t,e))){e.attr("sandbox","")}};const FE=(e,t)=>pt(e,`${t}/`);const VE=e=>{if(S(e)){return"iframe"}else if(FE(e,"image")){return"img"}else if(FE(e,"video")){return"video"}else if(FE(e,"audio")){return"audio"}else{return"iframe"}};const jE=({type:e,src:t,width:o,height:n}={},s,r)=>{const a=VE(e);const c=new Ew(a,1);c.attr(a==="audio"?{src:t}:{src:t,width:o,height:n});if(a==="audio"||a==="video"){c.attr("controls","")}if(a==="iframe"&&s){PE(c,r)}return c};const ZE=e=>T(e.attr("data-mce-bogus"));const UE=e=>e.attr("src")===jo.transparentSrc||T(e.attr("data-mce-placeholder"));const qE=(e,t)=>{const{blob_cache:o}=t;if(o){const t=e=>{const t=e.attr("src");if(UE(e)||ZE(e)||z(t)){return}BE(o,t,true).each(t=>{e.attr("src",t.blobUri())})};e.addAttributeFilter("src",e=>Q(e,t))}};const $E=(e,t)=>{var o,n;const s=e.schema;e.addAttributeFilter("href",e=>{let o=e.length;const n=e=>{const t=e.split(" ").filter(e=>e.length>0);return t.concat(["noopener"]).sort().join(" ")};const s=e=>{const t=e?Qo.trim(e):"";if(!/\b(noopener)\b/g.test(t)){return n(t)}else{return t}};if(!t.allow_unsafe_link_target){while(o--){const t=e[o];if(t.name==="a"&&t.attr("target")==="_blank"){t.attr("rel",s(t.attr("rel")))}}}});if(!t.allow_html_in_named_anchor){e.addAttributeFilter("id,name",e=>{let t=e.length,o,n,s,r;while(t--){r=e[t];if(r.name==="a"&&r.firstChild&&!r.attr("href")){s=r.parent;o=r.lastChild;while(o&&s){n=o.prev;s.insert(o,r);o=n}}}})}if(t.fix_list_elements){e.addNodeFilter("ul,ol",e=>{let t=e.length,o,n;while(t--){o=e[t];n=o.parent;if(n&&(n.name==="ul"||n.name==="ol")){if(o.prev&&o.prev.name==="li"){o.prev.append(o)}else{const e=new Ew("li",1);e.attr("style","list-style-type: none");o.wrap(e)}}}})}const r=s.getValidClasses();if(t.validate&&r){e.addAttributeFilter("class",e=>{var t;let o=e.length;while(o--){const n=e[o];const s=(t=n.attr("class"))!==null&&t!==void 0?t:"";const a=Qo.explode(s," ");let c="";for(let e=0;e<a.length;e++){const t=a[e];let o=false;let s=r["*"];if(s&&s[t]){o=true}s=r[n.name];if(!o&&s&&s[t]){o=true}if(o){if(c){c+=" "}c+=t}}if(!c.length){c=null}n.attr("class",c)}})}qE(e,t);const a=(o=t.sandbox_iframes)!==null&&o!==void 0?o:false;const c=ke((n=t.sandbox_iframes_exclusions)!==null&&n!==void 0?n:[]);if(t.convert_unsafe_embeds){e.addNodeFilter("object,embed",e=>Q(e,e=>{e.replace(jE({type:e.attr("type"),src:e.name==="object"?e.attr("data"):e.attr("src"),width:e.attr("width"),height:e.attr("height")},a,c))}))}if(a){e.addNodeFilter("iframe",e=>Q(e,e=>PE(e,c)))}};
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:WE,setPrototypeOf:GE,isFrozen:KE,getPrototypeOf:YE,getOwnPropertyDescriptor:XE}=Object;let{freeze:JE,seal:QE,create:eO}=Object;let{apply:tO,construct:oO}=typeof Reflect!=="undefined"&&Reflect;if(!JE){JE=function e(t){return t}}if(!QE){QE=function e(t){return t}}if(!tO){tO=function e(t,o,n){return t.apply(o,n)}}if(!oO){oO=function e(t,o){return new t(...o)}}const nO=yO(Array.prototype.forEach);const sO=yO(Array.prototype.lastIndexOf);const rO=yO(Array.prototype.pop);const aO=yO(Array.prototype.push);const cO=yO(Array.prototype.splice);const iO=yO(String.prototype.toLowerCase);const lO=yO(String.prototype.toString);const dO=yO(String.prototype.match);const uO=yO(String.prototype.replace);const fO=yO(String.prototype.indexOf);const mO=yO(String.prototype.trim);const gO=yO(Object.prototype.hasOwnProperty);const pO=yO(RegExp.prototype.test);const hO=bO(TypeError);function yO(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++){n[s-1]=arguments[s]}return tO(e,t,n)}}function bO(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++){o[n]=arguments[n]}return oO(e,o)}}function vO(e,t){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:iO;if(GE){GE(e,null)}let n=t.length;while(n--){let s=t[n];if(typeof s==="string"){const e=o(s);if(e!==s){if(!KE(t)){t[n]=e}s=e}}e[s]=true}return e}function kO(e){for(let t=0;t<e.length;t++){const o=gO(e,t);if(!o){e[t]=null}}return e}function wO(e){const t=eO(null);for(const[o,n]of WE(e)){const s=gO(e,o);if(s){if(Array.isArray(n)){t[o]=kO(n)}else if(n&&typeof n==="object"&&n.constructor===Object){t[o]=wO(n)}else{t[o]=n}}}return t}function _O(e,t){while(e!==null){const o=XE(e,t);if(o){if(o.get){return yO(o.get)}if(typeof o.value==="function"){return yO(o.value)}}e=YE(e)}function o(){return null}return o}const xO=JE(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);const CO=JE(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);const SO=JE(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);const zO=JE(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);const TO=JE(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]);const EO=JE(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);const OO=JE(["#text"]);const AO=JE(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]);const DO=JE(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);const MO=JE(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);const NO=JE(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);const RO=QE(/\{\{[\w\W]*|[\w\W]*\}\}/gm);const BO=QE(/<%[\w\W]*|[\w\W]*%>/gm);const LO=QE(/\$\{[\w\W]*/gm);const HO=QE(/^data-[\-\w.\u00B7-\uFFFF]+$/);const IO=QE(/^aria-[\-\w]+$/);const PO=QE(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);const FO=QE(/^(?:\w+script|data):/i);const VO=QE(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);const jO=QE(/^html$/i);const ZO=QE(/^[a-z][.\w]*(-[.\w]+)+$/i);var UO=Object.freeze({__proto__:null,ARIA_ATTR:IO,ATTR_WHITESPACE:VO,CUSTOM_ELEMENT:ZO,DATA_ATTR:HO,DOCTYPE_NAME:jO,ERB_EXPR:BO,IS_ALLOWED_URI:PO,IS_SCRIPT_OR_DATA:FO,MUSTACHE_EXPR:RO,TMPLIT_EXPR:LO});const qO={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12};const $O=function e(){return typeof window==="undefined"?null:window};const WO=function e(t,o){if(typeof t!=="object"||typeof t.createPolicy!=="function"){return null}let n=null;const s="data-tt-policy-suffix";if(o&&o.hasAttribute(s)){n=o.getAttribute(s)}const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){console.warn("TrustedTypes policy "+r+" could not be created.");return null}};const GO=function e(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function KO(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:$O();const t=e=>KO(e);t.version="3.2.4";t.removed=[];if(!e||!e.document||e.document.nodeType!==qO.document||!e.Element){t.isSupported=false;return t}let{document:o}=e;const n=o;const s=n.currentScript;const{DocumentFragment:r,HTMLTemplateElement:a,Node:c,Element:i,NodeFilter:l,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:m}=e;const g=i.prototype;const p=_O(g,"cloneNode");const h=_O(g,"remove");const y=_O(g,"nextSibling");const b=_O(g,"childNodes");const v=_O(g,"parentNode");if(typeof a==="function"){const e=o.createElement("template");if(e.content&&e.content.ownerDocument){o=e.content.ownerDocument}}let k;let w="";const{implementation:_,createNodeIterator:x,createDocumentFragment:C,getElementsByTagName:S}=o;const{importNode:z}=n;let T=GO();t.isSupported=typeof WE==="function"&&typeof v==="function"&&_&&_.createHTMLDocument!==undefined;const{MUSTACHE_EXPR:E,ERB_EXPR:O,TMPLIT_EXPR:A,DATA_ATTR:D,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:B}=UO;let{IS_ALLOWED_URI:L}=UO;let H=null;const I=vO({},[...xO,...CO,...SO,...TO,...OO]);let P=null;const F=vO({},[...AO,...DO,...MO,...NO]);let V=Object.seal(eO(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));let j=null;let Z=null;let U=true;let q=true;let $=false;let W=true;let G=false;let K=true;let Y=false;let X=false;let J=false;let Q=false;let ee=false;let te=false;let oe=true;let ne=false;const se="user-content-";let re=true;let ae=false;let ce={};let ie=null;const le=vO({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=vO({},["audio","video","img","source","image","track"]);let fe=null;const me=vO({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);const ge="http://www.w3.org/1998/Math/MathML";const pe="http://www.w3.org/2000/svg";const he="http://www.w3.org/1999/xhtml";let ye=he;let be=false;let ve=null;const ke=vO({},[ge,pe,he],lO);let we=vO({},["mi","mo","mn","ms","mtext"]);let _e=vO({},["annotation-xml"]);const xe=vO({},["title","style","font","a","script"]);let Ce=null;const Se=["application/xhtml+xml","text/html"];const ze="text/html";let Te=null;let Ee=null;const Oe=o.createElement("form");const Ae=function e(t){return t instanceof RegExp||t instanceof Function};const De=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(Ee&&Ee===t){return}if(!t||typeof t!=="object"){t={}}t=wO(t);Ce=Se.indexOf(t.PARSER_MEDIA_TYPE)===-1?ze:t.PARSER_MEDIA_TYPE;Te=Ce==="application/xhtml+xml"?lO:iO;H=gO(t,"ALLOWED_TAGS")?vO({},t.ALLOWED_TAGS,Te):I;P=gO(t,"ALLOWED_ATTR")?vO({},t.ALLOWED_ATTR,Te):F;ve=gO(t,"ALLOWED_NAMESPACES")?vO({},t.ALLOWED_NAMESPACES,lO):ke;fe=gO(t,"ADD_URI_SAFE_ATTR")?vO(wO(me),t.ADD_URI_SAFE_ATTR,Te):me;de=gO(t,"ADD_DATA_URI_TAGS")?vO(wO(ue),t.ADD_DATA_URI_TAGS,Te):ue;ie=gO(t,"FORBID_CONTENTS")?vO({},t.FORBID_CONTENTS,Te):le;j=gO(t,"FORBID_TAGS")?vO({},t.FORBID_TAGS,Te):{};Z=gO(t,"FORBID_ATTR")?vO({},t.FORBID_ATTR,Te):{};ce=gO(t,"USE_PROFILES")?t.USE_PROFILES:false;U=t.ALLOW_ARIA_ATTR!==false;q=t.ALLOW_DATA_ATTR!==false;$=t.ALLOW_UNKNOWN_PROTOCOLS||false;W=t.ALLOW_SELF_CLOSE_IN_ATTR!==false;G=t.SAFE_FOR_TEMPLATES||false;K=t.SAFE_FOR_XML!==false;Y=t.WHOLE_DOCUMENT||false;Q=t.RETURN_DOM||false;ee=t.RETURN_DOM_FRAGMENT||false;te=t.RETURN_TRUSTED_TYPE||false;J=t.FORCE_BODY||false;oe=t.SANITIZE_DOM!==false;ne=t.SANITIZE_NAMED_PROPS||false;re=t.KEEP_CONTENT!==false;ae=t.IN_PLACE||false;L=t.ALLOWED_URI_REGEXP||PO;ye=t.NAMESPACE||he;we=t.MATHML_TEXT_INTEGRATION_POINTS||we;_e=t.HTML_INTEGRATION_POINTS||_e;V=t.CUSTOM_ELEMENT_HANDLING||{};if(t.CUSTOM_ELEMENT_HANDLING&&Ae(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&Ae(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}if(G){q=false}if(ee){Q=true}if(ce){H=vO({},OO);P=[];if(ce.html===true){vO(H,xO);vO(P,AO)}if(ce.svg===true){vO(H,CO);vO(P,DO);vO(P,NO)}if(ce.svgFilters===true){vO(H,SO);vO(P,DO);vO(P,NO)}if(ce.mathMl===true){vO(H,TO);vO(P,MO);vO(P,NO)}}if(t.ADD_TAGS){if(H===I){H=wO(H)}vO(H,t.ADD_TAGS,Te)}if(t.ADD_ATTR){if(P===F){P=wO(P)}vO(P,t.ADD_ATTR,Te)}if(t.ADD_URI_SAFE_ATTR){vO(fe,t.ADD_URI_SAFE_ATTR,Te)}if(t.FORBID_CONTENTS){if(ie===le){ie=wO(ie)}vO(ie,t.FORBID_CONTENTS,Te)}if(re){H["#text"]=true}if(Y){vO(H,["html","head","body"])}if(H.table){vO(H,["tbody"]);delete j.tbody}if(t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!=="function"){throw hO('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.')}if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!=="function"){throw hO('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.')}k=t.TRUSTED_TYPES_POLICY;w=k.createHTML("")}else{if(k===undefined){k=WO(m,s)}if(k!==null&&typeof w==="string"){w=k.createHTML("")}}if(JE){JE(t)}Ee=t};const Me=vO({},[...CO,...SO,...zO]);const Ne=vO({},[...TO,...EO]);const Re=function e(t){let o=v(t);if(!o||!o.tagName){o={namespaceURI:ye,tagName:"template"}}const n=iO(t.tagName);const s=iO(o.tagName);if(!ve[t.namespaceURI]){return false}if(t.namespaceURI===pe){if(o.namespaceURI===he){return n==="svg"}if(o.namespaceURI===ge){return n==="svg"&&(s==="annotation-xml"||we[s])}return Boolean(Me[n])}if(t.namespaceURI===ge){if(o.namespaceURI===he){return n==="math"}if(o.namespaceURI===pe){return n==="math"&&_e[s]}return Boolean(Ne[n])}if(t.namespaceURI===he){if(o.namespaceURI===pe&&!_e[s]){return false}if(o.namespaceURI===ge&&!we[s]){return false}return!Ne[n]&&(xe[n]||!Me[n])}if(Ce==="application/xhtml+xml"&&ve[t.namespaceURI]){return true}return false};const Be=function e(o){aO(t.removed,{element:o});try{v(o).removeChild(o)}catch(e){h(o)}};const Le=function e(o,n){try{aO(t.removed,{attribute:n.getAttributeNode(o),from:n})}catch(e){aO(t.removed,{attribute:null,from:n})}n.removeAttribute(o);if(o==="is"){if(Q||ee){try{Be(n)}catch(e){}}else{try{n.setAttribute(o,"")}catch(e){}}}};const He=function e(t){let n=null;let s=null;if(J){t="<remove></remove>"+t}else{const e=dO(t,/^[\r\n\t ]+/);s=e&&e[0]}if(Ce==="application/xhtml+xml"&&ye===he){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}const r=k?k.createHTML(t):t;if(ye===he){try{n=(new f).parseFromString(r,Ce)}catch(e){}}if(!n||!n.documentElement){n=_.createDocument(ye,"template",null);try{n.documentElement.innerHTML=be?w:r}catch(e){}}const a=n.body||n.documentElement;if(t&&s){a.insertBefore(o.createTextNode(s),a.childNodes[0]||null)}if(ye===he){return S.call(n,Y?"html":"body")[0]}return Y?n.documentElement:a};const Ie=function e(t){return x.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)};const Pe=function e(t){return t instanceof u&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof d)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function"||typeof t.hasChildNodes!=="function")};const Fe=function e(t){return typeof c==="function"&&t instanceof c};function Ve(e,o,n){nO(e,e=>{e.call(t,o,n,Ee)})}const je=function e(o){let n=null;Ve(T.beforeSanitizeElements,o,null);if(Pe(o)){Be(o);return true}const s=Te(o.nodeName);Ve(T.uponSanitizeElement,o,{tagName:s,allowedTags:H});if(o.hasChildNodes()&&!Fe(o.firstElementChild)&&pO(/<[/\w]/g,o.innerHTML)&&pO(/<[/\w]/g,o.textContent)){Be(o);return true}if(o.nodeType===qO.progressingInstruction){Be(o);return true}if(K&&o.nodeType===qO.comment&&pO(/<[/\w]/g,o.data)){Be(o);return true}if(!H[s]||j[s]){if(!j[s]&&Ue(s)){if(V.tagNameCheck instanceof RegExp&&pO(V.tagNameCheck,s)){return false}if(V.tagNameCheck instanceof Function&&V.tagNameCheck(s)){return false}}if(re&&!ie[s]){const e=v(o)||o.parentNode;const t=b(o)||o.childNodes;if(t&&e){const n=t.length;for(let s=n-1;s>=0;--s){const n=p(t[s],true);n.__removalCount=(o.__removalCount||0)+1;e.insertBefore(n,y(o))}}}Be(o);return true}if(o instanceof i&&!Re(o)){Be(o);return true}if((s==="noscript"||s==="noembed"||s==="noframes")&&pO(/<\/no(script|embed|frames)/i,o.innerHTML)){Be(o);return true}if(G&&o.nodeType===qO.text){n=o.textContent;nO([E,O,A],e=>{n=uO(n,e," ")});if(o.textContent!==n){aO(t.removed,{element:o.cloneNode()});o.textContent=n}}Ve(T.afterSanitizeElements,o,null);return false};const Ze=function e(t,n,s){if(oe&&(n==="id"||n==="name")&&(s in o||s in Oe)){return false}if(q&&!Z[n]&&pO(D,n));else if(U&&pO(M,n));else if(!P[n]||Z[n]){if(Ue(t)&&(V.tagNameCheck instanceof RegExp&&pO(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&pO(V.attributeNameCheck,n)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(n))||n==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&pO(V.tagNameCheck,s)||V.tagNameCheck instanceof Function&&V.tagNameCheck(s)));else{return false}}else if(fe[n]);else if(pO(L,uO(s,R,"")));else if((n==="src"||n==="xlink:href"||n==="href")&&t!=="script"&&fO(s,"data:")===0&&de[t]);else if($&&!pO(N,uO(s,R,"")));else if(s){return false}else;return true};const Ue=function e(t){return t!=="annotation-xml"&&dO(t,B)};const qe=function e(o){Ve(T.beforeSanitizeAttributes,o,null);const{attributes:n}=o;if(!n||Pe(o)){return}const s={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:P,forceKeepAttr:undefined};let r=n.length;while(r--){const e=n[r];const{name:a,namespaceURI:c,value:i}=e;const l=Te(a);let d=a==="value"?i:mO(i);const u=d;s.attrName=l;s.attrValue=d;s.keepAttr=true;s.forceKeepAttr=undefined;Ve(T.uponSanitizeAttribute,o,s);d=s.attrValue;if(ne&&(l==="id"||l==="name")){Le(a,o);d=se+d}if(K&&pO(/((--!?|])>)|<\/(style|title)/i,d)){Le(a,o);continue}if(s.forceKeepAttr){continue}if(!s.keepAttr){Le(a,o);continue}if(!W&&pO(/\/>/i,d)){Le(a,o);continue}if(G){nO([E,O,A],e=>{d=uO(d,e," ")})}const f=Te(o.nodeName);if(!Ze(f,l,d)){Le(a,o);continue}if(k&&typeof m==="object"&&typeof m.getAttributeType==="function"){if(c);else{switch(m.getAttributeType(f,l)){case"TrustedHTML":{d=k.createHTML(d);break}case"TrustedScriptURL":{d=k.createScriptURL(d);break}}}}if(d!==u){try{if(c){o.setAttributeNS(c,a,d)}else{o.setAttribute(a,d)}if(Pe(o)){Be(o)}else{rO(t.removed)}}catch(e){}}}Ve(T.afterSanitizeAttributes,o,null)};const $e=function e(t){let o=null;const n=Ie(t);Ve(T.beforeSanitizeShadowDOM,t,null);while(o=n.nextNode()){Ve(T.uponSanitizeShadowNode,o,null);je(o);qe(o);if(o.content instanceof r){e(o.content)}}Ve(T.afterSanitizeShadowDOM,t,null)};t.sanitize=function(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let s=null;let a=null;let i=null;let l=null;be=!e;if(be){e="\x3c!--\x3e"}if(typeof e!=="string"&&!Fe(e)){if(typeof e.toString==="function"){e=e.toString();if(typeof e!=="string"){throw hO("dirty is not a string, aborting")}}else{throw hO("toString is not a function")}}if(!t.isSupported){return e}if(!X){De(o)}t.removed=[];if(typeof e==="string"){ae=false}if(ae){if(e.nodeName){const t=Te(e.nodeName);if(!H[t]||j[t]){throw hO("root node is forbidden and cannot be sanitized in-place")}}}else if(e instanceof c){s=He("\x3c!----\x3e");a=s.ownerDocument.importNode(e,true);if(a.nodeType===qO.element&&a.nodeName==="BODY"){s=a}else if(a.nodeName==="HTML"){s=a}else{s.appendChild(a)}}else{if(!Q&&!G&&!Y&&e.indexOf("<")===-1){return k&&te?k.createHTML(e):e}s=He(e);if(!s){return Q?null:te?w:""}}if(s&&J){Be(s.firstChild)}const d=Ie(ae?e:s);while(i=d.nextNode()){je(i);qe(i);if(i.content instanceof r){$e(i.content)}}if(ae){return e}if(Q){if(ee){l=C.call(s.ownerDocument);while(s.firstChild){l.appendChild(s.firstChild)}}else{l=s}if(P.shadowroot||P.shadowrootmode){l=z.call(n,l,true)}return l}let u=Y?s.outerHTML:s.innerHTML;if(Y&&H["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&pO(jO,s.ownerDocument.doctype.name)){u="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+u}if(G){nO([E,O,A],e=>{u=uO(u,e," ")})}return k&&te?k.createHTML(u):u};t.setConfig=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};De(e);X=true};t.clearConfig=function(){Ee=null;X=false};t.isValidAttribute=function(e,t,o){if(!Ee){De({})}const n=Te(e);const s=Te(t);return Ze(n,s,o)};t.addHook=function(e,t){if(typeof t!=="function"){return}aO(T[e],t)};t.removeHook=function(e,t){if(t!==undefined){const o=sO(T[e],t);return o===-1?undefined:cO(T[e],o,1)[0]}return rO(T[e])};t.removeHooks=function(e){T[e]=[]};t.removeAllHooks=function(){T=GO()};return t}var YO=KO();const XO=Qo.each,JO=Qo.trim;const QO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];const eA={ftp:21,http:80,https:443,mailto:25};const tA=["img","video"];const oA=(e,t)=>{if(T(e)){return!e}else{return T(t)?!Y(tA,t):true}};const nA=e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}};const sA=(e,t,o)=>{const n=nA(t).replace(/\s/g,"");if(e.allow_script_urls){return false}else if(/((java|vb)script|mhtml):/i.test(n)){return true}else if(e.allow_html_data_urls){return false}else if(/^data:image\//i.test(n)){return oA(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(n)}else{return/^data:/i.test(n)}};class rA{static parseDataUri(e){let t;const o=decodeURIComponent(e).split(",");const n=/data:([^;]+)/.exec(o[0]);if(n){t=n[1]}return{type:t,data:o[1]}}static isDomSafe(e,t,o={}){if(o.allow_script_urls){return true}else{const n=Ki.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!sA(o,n,t)}}static getDocumentBaseUrl(e){var t;let o;if(e.protocol.indexOf("http")!==0&&e.protocol!=="file:"){o=(t=e.href)!==null&&t!==void 0?t:""}else{o=e.protocol+"//"+e.host+e.pathname}if(/^[^:]+:\/\/\/?[^\/]+\//.test(o)){o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(o)){o+="/"}}return o}constructor(e,t={}){this.path="";this.directory="";e=JO(e);this.settings=t;const o=t.base_uri;const n=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){n.source=e;return}const s=e.indexOf("//")===0;if(e.indexOf("/")===0&&!s){e=(o?o.protocol||"http":"http")+"://mce_host"+e}if(!/^[\w\-]*:?\/\//.test(e)){const t=o?o.path:new rA(document.location.href).directory;if((o===null||o===void 0?void 0:o.protocol)===""){e="//mce_host"+n.toAbsPath(t,e)}else{const s=/([^#?]*)([#?]?.*)/.exec(e);if(s){e=(o&&o.protocol||"http")+"://mce_host"+n.toAbsPath(t,s[1])+s[2]}}}e=e.replace(/@@/g,"(mce_at)");const r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);if(r){XO(QO,(e,t)=>{let o=r[t];if(o){o=o.replace(/\(mce_at\)/g,"@@")}n[e]=o})}if(o){if(!n.protocol){n.protocol=o.protocol}if(!n.userInfo){n.userInfo=o.userInfo}if(!n.port&&n.host==="mce_host"){n.port=o.port}if(!n.host||n.host==="mce_host"){n.host=o.host}n.source=""}if(s){n.protocol=""}}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);if(t){this.path=t[0];this.directory=t[1];this.file=t[2]}this.source="";this.getURI()}toRelative(e){if(e==="./"){return e}const t=new rA(e,{base_uri:this});if(t.host!=="mce_host"&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&t.protocol!==""){return t.getURI()}const o=this.getURI(),n=t.getURI();if(o===n||o.charAt(o.length-1)==="/"&&o.substr(0,o.length-1)===n){return o}let s=this.toRelPath(this.path,t.path);if(t.query){s+="?"+t.query}if(t.anchor){s+="#"+t.anchor}return s}toAbsolute(e,t){const o=new rA(e,{base_uri:this});return o.getURI(t&&this.isSameOrigin(o))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port){return true}const t=this.protocol?eA[this.protocol]:null;if(t&&(this.port||t)==(e.port||t)){return true}}return false}toRelPath(e,t){let o=0,n="",s,r;const a=e.substring(0,e.lastIndexOf("/")).split("/");const c=t.split("/");if(a.length>=c.length){for(s=0,r=a.length;s<r;s++){if(s>=c.length||a[s]!==c[s]){o=s+1;break}}}if(a.length<c.length){for(s=0,r=c.length;s<r;s++){if(s>=a.length||a[s]!==c[s]){o=s+1;break}}}if(o===1){return t}for(s=0,r=a.length-(o-1);s<r;s++){n+="../"}for(s=o-1,r=c.length;s<r;s++){if(s!==o-1){n+="/"+c[s]}else{n+=c[s]}}return n}toAbsPath(e,t){let o=0;const n=/\/$/.test(t)?"/":"";const s=e.split("/");const r=t.split("/");const a=[];XO(s,e=>{if(e){a.push(e)}});const c=[];for(let e=r.length-1;e>=0;e--){if(r[e].length===0||r[e]==="."){continue}if(r[e]===".."){o++;continue}if(o>0){o--;continue}c.push(r[e])}const i=a.length-o;let l;if(i<=0){l=ue(c).join("/")}else{l=a.slice(0,i).join("/")+"/"+ue(c).join("/")}if(l.indexOf("/")!==0){l="/"+l}if(n&&l.lastIndexOf("/")!==l.length-1){l+=n}return l}getURI(e=false){let t;if(!this.source||e){t="";if(!e){if(this.protocol){t+=this.protocol+"://"}else{t+="//"}if(this.userInfo){t+=this.userInfo+"@"}if(this.host){t+=this.host}if(this.port){t+=":"+this.port}}if(this.path){t+=this.path}if(this.query){t+="?"+this.query}if(this.anchor){t+="#"+this.anchor}this.source=t}return this.source}}const aA=Qo.makeMap("src,href,data,background,action,formaction,poster,xlink:href");const cA="data-mce-type";let iA=0;const lA=(e,t,o,n,s)=>{var r,a,c,i;const l=t.validate;const d=o.getSpecialElements();if(e.nodeType===hn&&!t.allow_conditional_comments&&/^\[if/i.test((r=e.nodeValue)!==null&&r!==void 0?r:"")){e.nodeValue=" "+e.nodeValue}const u=(a=s===null||s===void 0?void 0:s.tagName)!==null&&a!==void 0?a:e.nodeName.toLowerCase();if(n!=="html"&&o.isValid(n)){if(T(s)){s.allowedTags[u]=true}return}if(e.nodeType!==vn||u==="body"){return}const f=rn.fromDom(e);const m=Bs(f,cA);const g=Ns(f,"data-mce-bogus");if(!m&&v(g)){if(g==="all"){Fs(f)}else{Vs(f)}return}const p=o.getElementRule(u);if(l&&!p){if(Ne(d,u)){Fs(f)}else{Vs(f)}return}else{if(T(s)){s.allowedTags[u]=true}}if(l&&p&&!m){Q((c=p.attributesForced)!==null&&c!==void 0?c:[],e=>{Ds(f,e.name,e.value==="{$uid}"?`mce_${iA++}`:e.value)});Q((i=p.attributesDefault)!==null&&i!==void 0?i:[],e=>{if(!Bs(f,e.name)){Ds(f,e.name,e.value==="{$uid}"?`mce_${iA++}`:e.value)}});if(p.attributesRequired&&!X(p.attributesRequired,e=>Bs(f,e))){Vs(f);return}if(p.removeEmptyAttrs&&Hs(f)){Vs(f);return}if(p.outputName&&p.outputName!==u){$s(f,p.outputName)}}};const dA=(e,t,o,n,s)=>{const r=e.tagName.toLowerCase();const{attrName:a,attrValue:c}=s;s.keepAttr=uA(t,o,n,r,a,c);if(s.keepAttr){s.allowedAttributes[a]=true;if(mA(a,o)){s.attrValue=a}if(t.allow_svg_data_urls&&pt(c,"data:image/svg+xml")){s.forceKeepAttr=true}}else if(fA(e,a)){s.forceKeepAttr=true}};const uA=(e,t,o,n,s,r)=>{if(o!=="html"&&!Wc(n)){return true}return!(s in aA&&sA(e,r,n))&&(!e.validate||t.isValid(n,s)||pt(s,"data-")||pt(s,"aria-"))};const fA=(e,t)=>e.hasAttribute(cA)&&(t==="id"||t==="class"||t==="style");const mA=(e,t)=>e in t.getBoolAttrs();const gA=(e,t,o,n)=>{const{attributes:s}=e;for(let r=s.length-1;r>=0;r--){const a=s[r];const c=a.name;const i=a.value;if(!uA(t,o,n,e.tagName.toLowerCase(),c,i)&&!fA(e,c)){e.removeAttribute(c)}else if(mA(c,o)){e.setAttribute(c,c)}}};const pA=(e,t,o)=>{const n=YO();n.addHook("uponSanitizeElement",(n,s)=>{lA(n,e,t,o.track(n),s)});n.addHook("uponSanitizeAttribute",(n,s)=>{dA(n,e,t,o.current(),s)});return n};const hA=(e,t)=>{const o={IN_PLACE:true,ALLOW_UNKNOWN_PROTOCOLS:true,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:false};const n={...o};n.PARSER_MEDIA_TYPE=t;if(e.allow_script_urls){n.ALLOWED_URI_REGEXP=/.*/}else if(e.allow_html_data_urls){n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i}return n};const yA=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(e=>`xlink:${e}`);const o={IN_PLACE:true,USE_PROFILES:{html:true,svg:true,svgFilters:true},ALLOWED_ATTR:t};YO().sanitize(e,o)};const bA=(e,t)=>{const o={IN_PLACE:true,USE_PROFILES:{mathMl:true}};const n=YO();const s=t.allow_mathml_annotation_encodings;const r=_(s)&&s.length>0;const a=e=>{const t=e.getAttribute("encoding");return r&&v(t)&&Y(s,t)};const c=(e,o)=>{if(r&&o==="semantics"){return U.some(true)}else if(o==="annotation"){return U.some(sc(e)&&a(e))}else if(_(t.extended_mathml_elements)){if(t.extended_mathml_elements.includes(o)){return U.from(true)}else{return U.none()}}else{return U.none()}};n.addHook("uponSanitizeElement",(e,o)=>{var n;const s=(n=o.tagName)!==null&&n!==void 0?n:e.nodeName.toLowerCase();const r=c(e,s);r.each(n=>{o.allowedTags[s]=n;if(!n&&t.sanitize){if(sc(e)){e.remove()}}})});n.addHook("uponSanitizeAttribute",(e,o)=>{if(_(t.extended_mathml_attributes)){const e=t.extended_mathml_attributes.includes(o.attrName);if(e){o.forceKeepAttr=true}}});n.sanitize(e,o)};const vA=e=>t=>{const o=Kc(t);if(o==="svg"){yA(t)}else if(o==="math"){bA(t,e)}else{throw new Error("Not a namespace element")}};const kA=(e,t)=>{const o=Xc();if(e.sanitize){const n=pA(e,t,o);const s=(t,s)=>{n.sanitize(t,hA(e,s));n.removed=[];o.reset()};return{sanitizeHtmlElement:s,sanitizeNamespaceElement:vA(e)}}else{const n=(n,s)=>{const r=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let a;while(a=r.nextNode()){const n=o.track(a);lA(a,e,t,n);if(sc(a)){gA(a,e,t,n)}}o.reset()};const s=D;return{sanitizeHtmlElement:n,sanitizeNamespaceElement:s}}};const wA=Qo.makeMap,_A=Qo.extend;const xA=(e,t,o,n)=>{const s=e.name;const r=s in o&&s!=="title"&&s!=="textarea"&&s!=="noscript";const a=t.childNodes;for(let t=0,s=a.length;t<s;t++){const s=a[t];const c=new Ew(s.nodeName.toLowerCase(),s.nodeType);if(sc(s)){const e=s.attributes;for(let t=0,o=e.length;t<o;t++){const o=e[t];c.attr(o.name,o.value)}if(Wc(c.name)){n(s);c.value=s.innerHTML}}else if(hc(s)){c.value=s.data;if(r){c.raw=true}}else if(vc(s)||yc(s)||bc(s)){c.value=s.data}if(!Wc(c.name)){xA(c,s,o,n)}e.append(c)}};const CA=(e,t,o)=>{const n=[];for(let o=e,s=o;o;s=o,o=o.walk()){const r=o;Q(t,e=>e(r));if(z(r.parent)&&r!==e){o=s}else{n.push(r)}}for(let e=n.length-1;e>=0;e--){const t=n[e];Q(o,e=>e(t))}};const SA=(e,t,o,n)=>{const s=o.validate;const r=t.getNonEmptyElements();const a=t.getWhitespaceElements();const c=_A(wA("script,style,head,html,body,title,meta,param"),t.getBlockElements());const i=vl(t);const l=/[ \t\r\n]+/g;const d=/^[ \t\r\n]+/;const u=/[ \t\r\n]+$/;const f=e=>{let t=e.parent;while(T(t)){if(t.name in a){return true}else{t=t.parent}}return false};const m=e=>{let o=e;while(T(o)){if(o.name in i){return kS(t,r,a,o)}else{o=o.parent}}return false};const g=o=>o.name in c||pi(t,o)||Wc(o.name)&&o.parent===e;const p=(t,o)=>{const s=o?t.prev:t.next;if(T(s)||z(t.parent)){return false}return g(t.parent)&&(t.parent!==e||n.isRootContent===true)};const h=e=>{var t;if(e.type===3){if(!f(e)){let o=(t=e.value)!==null&&t!==void 0?t:"";o=o.replace(l," ");if(wS(e.prev,g)||p(e,true)){o=o.replace(d,"")}if(o.length===0){e.remove()}else if(o===" "&&e.prev&&e.prev.type===hn&&e.next&&e.next.type===hn){e.remove()}else{e.value=o}}}};const y=e=>{var c;if(e.type===1){const c=t.getElementRule(e.name);if(s&&c){const s=kS(t,r,a,e);if(c.paddInEmptyBlock&&s&&m(e)){hS(o,n,g,e)}else if(c.removeEmpty&&s){if(g(e)){e.remove()}else{e.unwrap()}}else if(c.paddEmpty&&(s||yS(e))){hS(o,n,g,e)}}}else if(e.type===3){if(!f(e)){let t=(c=e.value)!==null&&c!==void 0?c:"";if(e.next&&g(e.next)||p(e,false)){t=t.replace(u,"")}if(t.length===0){e.remove()}else{e.value=t}}}};return[h,y]};const zA=(e,t)=>{var o;const n=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;if(n===false){return""}else if(n===true){return"p"}else{return n}};const TA=(e={},t=wl())=>{const o=yE();const n=yE();const s={validate:true,root_name:"body",sanitize:true,...e};const r=new DOMParser;const a=kA(s,t);const c=(e,o,n="html")=>{const s=n==="xhtml"?"application/xhtml+xml":"text/html";const c=Ne(t.getSpecialElements(),o.toLowerCase());const i=c?`<${o}>${e}</${o}>`:e;const l=()=>{if(n==="xhtml"){return`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${i}</body></html>`}else if(/^[\s]*<head/i.test(e)||/^[\s]*<html/i.test(e)||/^[\s]*<!DOCTYPE/i.test(e)){return`<html>${i}</html>`}else{return`<body>${i}</body>`}};const d=r.parseFromString(l(),s).body;a.sanitizeHtmlElement(d,s);return c?d.firstChild:d};const i=o.addFilter;const l=o.getFilters;const d=o.removeFilter;const u=n.addFilter;const f=n.getFilters;const m=n.removeFilter;const g=(e,o)=>{if(zS(t,e)){o.push(e)}};const p=(e,o)=>{const n=v(o.attr(cA));const s=o.type===1&&(!Ne(e,o.name)&&!pi(t,o))&&!Wc(o.name);return o.type===3||s&&!n};const h=(e,o)=>{const n=_A(wA("script,style,head,html,body,title,meta,param"),t.getBlockElements());const r=/^[ \t\r\n]+/;const a=/[ \t\r\n]+$/;let c=e.firstChild,i=null;const l=e=>{var t,o;if(e){c=e.firstChild;if(c&&c.type===3){c.value=(t=c.value)===null||t===void 0?void 0:t.replace(r,"")}c=e.lastChild;if(c&&c.type===3){c.value=(o=c.value)===null||o===void 0?void 0:o.replace(a,"")}}};if(!t.isValidChild(e.name,o.toLowerCase())){return}while(c){const t=c.next;if(p(n,c)){if(!i){i=new Ew(o,1);i.attr(s.forced_root_block_attrs);e.insert(i,c);i.append(c)}else{i.append(c)}}else{l(i);i=null}c=t}l(i)};const y=(e,o={})=>{var n;const r=s.validate;const i=(n=o.context)!==null&&n!==void 0?n:s.root_name;const d=c(e,i,o.format);ci(t,d);const u=new Ew(i,11);xA(u,d,t.getSpecialElements(),a.sanitizeNamespaceElement);d.innerHTML="";const[m,p]=SA(u,t,s,o);const y=[];const b=r?e=>g(e,y):D;const v={nodes:{},attributes:{}};const k=e=>fS(l(),f(),e,v);CA(u,[m,k],[p,b]);y.reverse();if(r&&y.length>0){if(o.context){const{pass:e,fail:n}=te(y,e=>e.parent===u);CS(n,t,u,k);o.invalid=e.length>0}else{CS(y,t,u,k)}}const w=zA(s,o);if(w&&(u.name==="body"||o.isRootContent)){h(u,w)}if(!o.invalid){gS(v,o)}return u};const b={schema:t,addAttributeFilter:u,getAttributeFilters:f,removeAttributeFilter:m,addNodeFilter:i,getNodeFilters:l,removeNodeFilter:d,parse:y};$E(b,s);_E(b,s,t);return b};const EA=e=>yz(e)?Xw({validate:false}).serialize(e):e;const OA=(e,t,o)=>{const n=EA(e);const s=t(n);if(s.isDefaultPrevented()){return s}else if(yz(e)){if(s.content!==n){const t=TA({validate:false,forced_root_block:false,...o}).parse(s.content,{context:e.name});return{...s,content:t}}else{return{...s,content:e}}}else{return s}};const AA=e=>({sanitize:Fp(e),sandbox_iframes:Yp(e),sandbox_iframes_exclusions:Xp(e)});const DA=(e,t)=>{if(t.no_events){return je.value(t)}else{const o=Hm(e,t);if(o.isDefaultPrevented()){return je.error(Im(e,{content:"",...o}).content)}else{return je.value(o)}}};const MA=(e,t,o)=>{if(o.no_events){return t}else{const n=OA(t,t=>Im(e,{...o,content:t}),AA(e));return n.content}};const NA=(e,t)=>{if(t.no_events){return je.value(t)}else{const o=OA(t.content,o=>Bm(e,{...t,content:o}),AA(e));if(o.isDefaultPrevented()){Lm(e,o);return je.error(undefined)}else{return je.value(o)}}};const RA=(e,t,o)=>{if(!o.no_events){Lm(e,{...o,content:t})}};const BA=(e,t,o)=>({element:e,width:t,rows:o});const LA=(e,t)=>({element:e,cells:t});const HA=(e,t)=>({x:e,y:t});const IA=(e,t)=>Rs(e,t).bind(Ct).getOr(1);const PA=(e,t,o,n,s)=>{const r=IA(s,"rowspan");const a=IA(s,"colspan");const c=e.rows;for(let e=o;e<o+r;e++){if(!c[e]){c[e]=LA(Us(n),[])}for(let n=t;n<t+a;n++){const r=c[e].cells;r[n]=e===o&&n===t?s:Zs(s)}}};const FA=(e,t,o)=>{const n=e.rows;const s=n[o]?n[o].cells:[];return!!s[t]};const VA=(e,t,o)=>{while(FA(e,t,o)){t++}return t};const jA=e=>se(e,(e,t)=>t.cells.length>e?t.cells.length:e,0);const ZA=(e,t)=>{const o=e.rows;for(let e=0;e<o.length;e++){const n=o[e].cells;for(let o=0;o<n.length;o++){if(Sn(n[o],t)){return U.some(HA(o,e))}}}return U.none()};const UA=(e,t,o,n,s)=>{const r=[];const a=e.rows;for(let e=o;e<=s;e++){const o=a[e].cells;const s=t<n?o.slice(t,n+1):o.slice(n,t+1);r.push(LA(a[e].element,s))}return r};const qA=(e,t,o)=>{const n=t.x,s=t.y;const r=o.x,a=o.y;const c=s<a?UA(e,n,s,r,a):UA(e,n,a,r,s);return BA(e.element,jA(c),c)};const $A=(e,t)=>{const o=Zs(e.element);const n=rn.fromTag("tbody");Os(n,t);zs(o,n);return o};const WA=e=>J(e.rows,e=>{const t=J(e.cells,e=>{const t=Us(e);Ls(t,"colspan");Ls(t,"rowspan");return t});const o=Zs(e.element);Os(o,t);return o});const GA=e=>{const t=BA(Zs(e),0,[]);Q(sa(e,"tr"),(e,o)=>{Q(sa(e,"td,th"),(n,s)=>{PA(t,VA(t,s,o),o,e,n)})});return BA(t.element,jA(t.rows),t.rows)};const KA=e=>$A(e,WA(e));const YA=(e,t,o)=>ZA(e,t).bind(t=>ZA(e,o).map(o=>qA(e,t,o)));const XA=e=>ae(e,e=>En(e)==="ul"||En(e)==="ol");const JA=(e,t)=>ae(e,e=>En(e)==="li"&&gb(e,t)).fold(R([]),t=>XA(e).map(e=>{const t=rn.fromTag(En(e));const o=Oe(cr(e),(e,t)=>pt(t,"list-style"));nr(t,o);return[rn.fromTag("li"),t]}).getOr([]));const QA=(e,t)=>{const o=se(t,(e,t)=>{zs(t,e);return t},e);return t.length>0?xr([o]):o};const eD=e=>{if(ou(e)){return jn(e).filter(tu).fold(R([]),t=>[e,t])}else{return tu(e)?[e]:[]}};const tD=(e,t,o)=>{const n=rn.fromDom(t.commonAncestorContainer);const s=T_(n,e);const r=oe(s,e=>o.isWrapper(En(e)));const a=JA(s,t);const c=r.concat(a.length?a:eD(n));return J(c,Zs)};const oD=()=>xr([]);const nD=(e,t,o)=>QA(rn.fromDom(t.cloneContents()),tD(e,t,o));const sD=(e,t)=>Hr(t,"table",H(Sn,e));const rD=(e,t)=>sD(e,t[0]).bind(e=>{const o=t[0];const n=t[t.length-1];const s=GA(e);return YA(s,o,n).map(e=>xr([KA(e)]))}).getOrThunk(oD);const aD=(e,t,o)=>t.length>0&&t[0].collapsed?oD():nD(e,t[0],o);const cD=(e,t,o)=>{const n=cb(t,e);return n.length>0?rD(e,n):aD(e,t,o)};const iD=(e,t)=>t>=0&&t<e.length&&eb(e.charAt(t));const lD=e=>mu(e.innerText);const dD=e=>e.map(e=>e.nodeName).getOr("div").toLowerCase();const uD=e=>U.from(e.selection.getRng()).map(t=>{var o;const n=U.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock));const s=e.getBody();const r=dD(n);const a=rn.fromDom(t.cloneContents());Zw(a);Uw(a);const c=e.dom.add(s,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom);const i=lD(c);const l=mu((o=c.textContent)!==null&&o!==void 0?o:"");e.dom.remove(c);if(iD(l,0)||iD(l,l.length-1)){const e=n.getOr(s);const t=lD(e);const o=t.indexOf(i);if(o===-1){return i}else{const e=iD(t,o-1);const n=iD(t,o+i.length);return(e?" ":"")+i+(n?" ":"")}}else{return i}}).getOr("");const fD=(e,t)=>{const o=e.selection.getRng(),n=e.dom.create("body");const s=e.selection.getSel();const r=xw(e,ob(s));const a=t.contextual?cD(rn.fromDom(e.getBody()),r,e.schema).dom:o.cloneContents();if(a){n.appendChild(a)}return e.selection.serializer.serialize(n,t)};const mD=(e,t)=>{if(t.format==="text"){return uD(e)}else{const o=fD(e,t);if(t.format==="tree"){return o}else{return e.selection.isCollapsed()?"":o}}};const gD=(e,t)=>({...e,format:t,get:true,selection:true,getInner:true});const pD=(e,t,o={})=>{const n=gD(o,t);return DA(e,n).fold(B,t=>{const o=mD(e,t);return MA(e,o,t)})};const hD=0,yD=1,bD=2;const vD=(e,t)=>{const o=e.length+t.length+2;const n=new Array(o);const s=new Array(o);const r=(e,t,o)=>({start:e,end:t,diag:o});const a=(o,n,s,r,c)=>{const l=i(o,n,s,r);if(l===null||l.start===n&&l.diag===n-r||l.end===o&&l.diag===o-s){let a=o;let i=s;while(a<n||i<r){if(a<n&&i<r&&e[a]===t[i]){c.push([hD,e[a]]);++a;++i}else{if(n-o>r-s){c.push([bD,e[a]]);++a}else{c.push([yD,t[i]]);++i}}}}else{a(o,l.start,s,l.start-l.diag,c);for(let t=l.start;t<l.end;++t){c.push([hD,e[t]])}a(l.end,n,l.end-l.diag,r,c)}};const c=(o,n,s,a)=>{let c=o;while(c-n<a&&c<s&&e[c]===t[c-n]){++c}return r(o,c,n)};const i=(o,r,a,i)=>{const l=r-o;const d=i-a;if(l===0||d===0){return null}const u=l-d;const f=d+l;const m=(f%2===0?f:f+1)/2;n[1+m]=o;s[1+m]=r+1;let g,p,h,y,b;for(g=0;g<=m;++g){for(p=-g;p<=g;p+=2){h=p+m;if(p===-g||p!==g&&n[h-1]<n[h+1]){n[h]=n[h+1]}else{n[h]=n[h-1]+1}y=n[h];b=y-o+a-p;while(y<r&&b<i&&e[y]===t[b]){n[h]=++y;++b}if(u%2!==0&&u-g<=p&&p<=u+g){if(s[h-u]<=n[h]){return c(s[h-u],p+o-a,r,i)}}}for(p=u-g;p<=u+g;p+=2){h=p+m-u;if(p===u-g||p!==u+g&&s[h+1]<=s[h-1]){s[h]=s[h+1]-1}else{s[h]=s[h-1]}y=s[h]-1;b=y-o+a-p;while(y>=o&&b>=a&&e[y]===t[b]){s[h]=y--;b--}if(u%2===0&&-g<=p&&p<=g){if(s[h]<=n[h+u]){return c(s[h],p+o-a,r,i)}}}}return null};const l=[];a(0,e.length,0,t.length,l);return l};const kD=e=>{if(sc(e)){return e.outerHTML}else if(hc(e)){return Ki.encodeRaw(e.data,false)}else if(vc(e)){return"\x3c!--"+e.data+"--\x3e"}return""};const wD=e=>{let t;const o=document.createElement("div");const n=document.createDocumentFragment();if(e){o.innerHTML=e}while(t=o.firstChild){n.appendChild(t)}return n};const _D=(e,t,o)=>{const n=wD(t);if(e.hasChildNodes()&&o<e.childNodes.length){const t=e.childNodes[o];e.insertBefore(n,t)}else{e.appendChild(n)}};const xD=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const o=e.childNodes[t];e.removeChild(o)}};const CD=(e,t)=>{let o=0;Q(e,e=>{if(e[0]===hD){o++}else if(e[0]===yD){_D(t,e[1],o);o++}else if(e[0]===bD){xD(t,o)}})};const SD=(e,t)=>oe(J(be(e.childNodes),t?M(mu,kD):kD),e=>e.length>0);const zD=(e,t)=>{const o=J(be(t.childNodes),kD);CD(vD(o,e),t);return t};const TD=Tt(()=>document.implementation.createHTMLDocument("undo"));const ED=e=>e.querySelector("iframe")!==null;const OD=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null});const AD=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null});const DD=e=>{const t=e.serializer.getTempAttrs();const o=jw(e.getBody(),t);return ED(o)?OD(SD(o,true)):AD(mu(o.innerHTML))};const MD=(e,t,o)=>{const n=o?t.beforeBookmark:t.bookmark;if(t.type==="fragmented"){zD(t.fragments,e.getBody())}else{e.setContent(t.content,{format:"raw",no_selection:T(n)&&Ry(n)?!n.isFakeCaret:true})}if(n){e.selection.moveToBookmark(n);e.selection.scrollIntoView()}};const ND=e=>e.type==="fragmented"?e.fragments.join(""):e.content;const RD=e=>{const t=rn.fromTag("body",TD());Ys(t,ND(e));Q(sa(t,"*[data-mce-bogus]"),Vs);return Ks(t)};const BD=(e,t)=>ND(e)===ND(t);const LD=(e,t)=>RD(e)===RD(t);const HD=(e,t)=>{if(!e||!t){return false}else if(BD(e,t)){return true}else{return LD(e,t)}};const ID=e=>e.get()===0;const PD=(e,t,o)=>{if(ID(o)){e.typing=t}};const FD=(e,t)=>{if(e.typing){PD(e,false,t);e.add()}};const VD=e=>{if(e.typing){e.typing=false;e.add()}};const jD=(e,t,o)=>{if(ID(t)){o.set(dm(e.selection))}};const ZD=(e,t,o,n,s,r,a)=>{const c=DD(e);const i=Qo.extend(r||{},c);if(!ID(n)||e.removed){return null}const l=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:i,lastLevel:l,originalEvent:a}).isDefaultPrevented()){return null}if(l&&HD(l,i)){return null}if(t.data[o.get()]){s.get().each(e=>{t.data[o.get()].beforeBookmark=e})}const d=np(e);if(d){if(t.data.length>d){for(let e=0;e<t.data.length-1;e++){t.data[e]=t.data[e+1]}t.data.length--;o.set(t.data.length)}}i.bookmark=dm(e.selection);if(o.get()<t.data.length-1){t.data.length=o.get()+1}t.data.push(i);o.set(t.data.length-1);const u={level:i,lastLevel:l,originalEvent:a};if(o.get()>0){e.setDirty(true);e.dispatch("AddUndo",u);e.dispatch("change",u)}else{e.dispatch("AddUndo",u)}return i};const UD=(e,t,o)=>{t.data=[];o.set(0);t.typing=false;e.dispatch("ClearUndos")};const qD=(e,t,o,n,s)=>{if(t.transact(n)){const n=t.data[o.get()].bookmark;const r=t.data[o.get()-1];MD(e,r,true);if(t.transact(s)){t.data[o.get()-1].beforeBookmark=n}}};const $D=(e,t,o)=>{let n;if(t.get()<o.length-1){t.set(t.get()+1);n=o[t.get()];MD(e,n,false);e.setDirty(true);e.dispatch("Redo",{level:n})}return n};const WD=(e,t,o,n)=>{let s;if(t.typing){t.add();t.typing=false;PD(t,false,o)}if(n.get()>0){n.set(n.get()-1);s=t.data[n.get()];MD(e,s,true);e.setDirty(true);e.dispatch("Undo",{level:s})}return s};const GD=e=>{e.clear();e.add()};const KD=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!HD(DD(e),t.data[0]);const YD=(e,t)=>t.get()<e.data.length-1&&!e.typing;const XD=(e,t,o)=>{FD(e,t);e.beforeChange();e.ignore(o);return e.add()};const JD=(e,t)=>{try{e.set(e.get()+1);t()}finally{e.set(e.get()-1)}};const QD=(e,t)=>{const o=e.dom;const n=T(t)?t:e.getBody();Q(o.select("table,a",n),t=>{switch(t.nodeName){case"TABLE":const n=fp(e);const s=o.getAttrib(t,"border");if((!s||s==="0")&&e.hasVisual){o.addClass(t,n)}else{o.removeClass(t,n)}break;case"A":if(!o.getAttrib(t,"href")){const n=o.getAttrib(t,"name")||t.id;const s=mp(e);if(n&&e.hasVisual){o.addClass(t,s)}else{o.removeClass(t,s)}}break}});e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})};const eM=e=>({init:{bindEvents:D},undoManager:{beforeChange:(t,o)=>jD(e,t,o),add:(t,o,n,s,r,a)=>ZD(e,t,o,n,s,r,a),undo:(t,o,n)=>WD(e,t,o,n),redo:(t,o)=>$D(e,t,o),clear:(t,o)=>UD(e,t,o),reset:e=>GD(e),hasUndo:(t,o)=>KD(e,t,o),hasRedo:(e,t)=>YD(e,t),transact:(e,t,o)=>XD(e,t,o),ignore:(e,t)=>JD(e,t),extra:(t,o,n,s)=>qD(e,t,o,n,s)},formatter:{match:(t,o,n,s)=>Oz(e,t,o,n,s),matchAll:(t,o)=>Az(e,t,o),matchNode:(t,o,n,s)=>Ez(e,t,o,n,s),canApply:t=>Mz(e,t),closest:t=>Dz(e,t),apply:(t,o,n)=>rE(e,t,o,n),remove:(t,o,n,s)=>WT(e,t,o,n,s),toggle:(t,o,n)=>pE(e,t,o,n),formatChanged:(t,o,n,s,r)=>gE(e,t,o,n,s,r)},editor:{getContent:t=>Gw(e,t),setContent:(t,o)=>_z(e,t,o),insertContent:(t,o)=>hz(e,t,o),addVisual:t=>QD(e,t)},selection:{getContent:(t,o)=>pD(e,t,o)},autocompleter:{addDecoration:D,removeDecoration:D},raw:{getModel:()=>U.none()}});const tM=e=>{const t=e=>k(e)?e:{};const{init:o,undoManager:n,formatter:s,editor:r,selection:a,autocompleter:c,raw:i}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:(e,t,o)=>n.transact(o),ignore:(e,t)=>n.ignore(t),extra:(e,t,o,s)=>n.extra(o,s)},formatter:{match:(e,o,n,r)=>s.match(e,t(o),r),matchAll:s.matchAll,matchNode:s.matchNode,canApply:e=>s.canApply(e),closest:e=>s.closest(e),apply:(e,o,n)=>s.apply(e,t(o)),remove:(e,o,n,r)=>s.remove(e,t(o)),toggle:(e,o,n)=>s.toggle(e,t(o)),formatChanged:(e,t,o,n,r)=>s.formatChanged(t,o,n,r)},editor:{getContent:e=>r.getContent(e),setContent:(e,t)=>({content:r.setContent(e,t),html:""}),insertContent:(e,t)=>{r.insertContent(e);return""},addVisual:r.addVisual},selection:{getContent:(e,t)=>a.getContent(t)},autocompleter:{addDecoration:c.addDecoration,removeDecoration:c.removeDecoration},raw:{getModel:()=>U.some(i.getRawModel())}}};const oM=()=>{const e=R(null);const t=R("");return{init:{bindEvents:D},undoManager:{beforeChange:D,add:e,undo:e,redo:e,clear:D,reset:D,hasUndo:j,hasRedo:j,transact:e,ignore:D,extra:D},formatter:{match:j,matchAll:R([]),matchNode:R(undefined),canApply:j,closest:t,apply:D,remove:D,toggle:D,formatChanged:R({unbind:D})},editor:{getContent:t,setContent:R({content:"",html:""}),insertContent:R(""),addVisual:D},selection:{getContent:t},autocompleter:{addDecoration:D,removeDecoration:D},raw:{getModel:R(U.none())}}};const nM=e=>Ne(e.plugins,"rtc");const sM=e=>Me(e.plugins,"rtc").bind(e=>U.from(e.setup));const rM=e=>{const t=e;return sM(e).fold(()=>{t.rtcInstance=eM(e);return U.none()},e=>{t.rtcInstance=oM();return U.some(()=>e().then(e=>{t.rtcInstance=tM(e);return e.rtc.isRemote}))})};const aM=e=>e.rtcInstance?e.rtcInstance:eM(e);const cM=e=>{const t=e.rtcInstance;if(!t){throw new Error("Failed to get RTC instance not yet initialized.")}else{return t}};const iM=(e,t,o)=>{cM(e).undoManager.beforeChange(t,o)};const lM=(e,t,o,n,s,r,a)=>cM(e).undoManager.add(t,o,n,s,r,a);const dM=(e,t,o,n)=>cM(e).undoManager.undo(t,o,n);const uM=(e,t,o)=>cM(e).undoManager.redo(t,o);const fM=(e,t,o)=>{cM(e).undoManager.clear(t,o)};const mM=(e,t)=>{cM(e).undoManager.reset(t)};const gM=(e,t,o)=>cM(e).undoManager.hasUndo(t,o);const pM=(e,t,o)=>cM(e).undoManager.hasRedo(t,o);const hM=(e,t,o,n)=>cM(e).undoManager.transact(t,o,n);const yM=(e,t,o)=>{cM(e).undoManager.ignore(t,o)};const bM=(e,t,o,n,s)=>{cM(e).undoManager.extra(t,o,n,s)};const vM=(e,t,o,n,s)=>cM(e).formatter.match(t,o,n,s);const kM=(e,t,o)=>cM(e).formatter.matchAll(t,o);const wM=(e,t,o,n,s)=>cM(e).formatter.matchNode(t,o,n,s);const _M=(e,t)=>cM(e).formatter.canApply(t);const xM=(e,t)=>cM(e).formatter.closest(t);const CM=(e,t,o,n)=>{cM(e).formatter.apply(t,o,n)};const SM=(e,t,o,n,s)=>{cM(e).formatter.remove(t,o,n,s)};const zM=(e,t,o,n)=>{cM(e).formatter.toggle(t,o,n)};const TM=(e,t,o,n,s,r)=>cM(e).formatter.formatChanged(t,o,n,s,r);const EM=(e,t)=>aM(e).editor.getContent(t);const OM=(e,t,o)=>aM(e).editor.setContent(t,o);const AM=(e,t,o)=>aM(e).editor.insertContent(t,o);const DM=(e,t,o)=>cM(e).selection.getContent(t,o);const MM=(e,t)=>cM(e).editor.addVisual(t);const NM=e=>cM(e).init.bindEvents();const RM=(e,t={})=>{const o=t.format?t.format:"html";return DM(e,o,t)};const BM=e=>{if(e.dom.length===0){Fs(e);return U.none()}else{return U.some(e)}};const LM=(e,t)=>e.filter(e=>xv.isBookmarkNode(e.dom)).bind(t?Wn:$n);const HM=(e,t,o,n,s)=>{const r=e.dom;const a=t.dom;const c=n?r.length:a.length;if(n){vx(r,a,s,false,!n);o.setStart(a,c)}else{vx(a,r,s,false,!n);o.setEnd(a,c)}};const IM=(e,t,o)=>{jn(e).each(n=>{const s=e.dom;if(t&&nx(n,Af(s,0),o)){yx(s,0,o)}else if(!t&&rx(n,Af(s,s.length),o)){bx(s,s.length,o)}})};const PM=(e,t,o,n,s)=>{e.bind(e=>{const r=n?bx:yx;r(e.dom,n?e.dom.length:0,s);return t.filter(Rn).map(t=>HM(e,t,o,n,s))}).orThunk(()=>{const e=LM(t,n).or(t).filter(Rn);return e.map(e=>IM(e,n,s))})};const FM=(e,t,o)=>{const n=U.from(t.firstChild).map(rn.fromDom);const s=U.from(t.lastChild).map(rn.fromDom);e.deleteContents();e.insertNode(t);const r=n.bind($n).filter(Rn).bind(BM);const a=s.bind(Wn).filter(Rn).bind(BM);PM(r,n,e,true,o);PM(a,s,e,false,o);e.collapse(false)};const VM=(e,t)=>({format:"html",...e,set:true,selection:true,content:t});const jM=(e,t)=>{if(t.format!=="raw"){const o=e.selection.getRng();const n=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock);const s=n?{context:n.nodeName.toLowerCase()}:{};const r=e.parser.parse(t.content,{forced_root_block:false,...s,...t});return Xw({validate:false},e.schema).serialize(r)}else{return t.content}};const ZM=(e,t,o={})=>{const n=VM(o,t);NA(e,n).each(t=>{const o=jM(e,t);const n=e.selection.getRng();FM(n,n.createContextualFragment(o),e.schema);e.selection.setRng(n);gw(e,n);RA(e,o,t)})};const UM=(e,t,o)=>{if(Ne(e,t)){const n=oe(e[t],e=>e!==o);if(n.length===0){delete e[t]}else{e[t]=n}}};var qM=(e,t)=>{let o;let n;const s=(t,o)=>ae(o,o=>e.is(o,t));const r=t=>e.getParents(t,undefined,e.getRoot());const a=()=>{o={};n={};t.on("NodeChange",e=>{const t=e.element;const a=r(t);const c={};xe(o,(e,t)=>{s(t,a).each(o=>{if(!n[t]){Q(e,e=>{e(true,{node:o,selector:t,parents:a})});n[t]=e}c[t]=e})});xe(n,(e,o)=>{if(!c[o]){delete n[o];Q(e,e=>{e(false,{node:t,selector:o,parents:a})})}})})};return{selectorChangedWithUnbind:(e,c)=>{if(!o){a()}if(!o[e]){o[e]=[]}o[e].push(c);s(e,r(t.selection.getStart())).each(()=>{n[e]=o[e]});return{unbind:()=>{UM(o,e,c);UM(n,e,c)}}}}};const $M=e=>!!(e&&e.ownerDocument)&&zn(rn.fromDom(e.ownerDocument),rn.fromDom(e));const WM=e=>{if(!e){return false}else{return $M(e.startContainer)&&$M(e.endContainer)}};const GM=(e,t,o,n)=>{let s;let r;const{selectorChangedWithUnbind:a}=qM(e,n);const c=(t,o)=>{const s=e.createRng();if(T(t)&&T(o)){s.setStart(t,o);s.setEnd(t,o);k(s);y(false)}else{pb(e,s,n.getBody(),true);k(s)}};const i=e=>RM(n,e);const l=(e,t)=>ZM(n,e,t);const d=e=>yw(n.getBody(),v(),e);const u=e=>bw(n.getBody(),v(),e);const f=(e,t)=>B.getBookmark(e,t);const m=e=>B.moveToBookmark(e);const g=(t,o)=>{_w(e,t,o).each(k);return t};const p=()=>{const e=v(),t=b();if(!e||e.item){return false}if(e.compareEndPoints){return e.compareEndPoints("StartToEnd",e)===0}return!t||e.collapsed};const h=()=>{if(n.mode.isReadOnly()){return false}const t=v();const o=n.getBody().querySelectorAll('[data-mce-selected="1"]');if(o.length>0){return de(o,t=>e.isEditable(t.parentElement))}else{return pw(e,t)}};const y=e=>{const t=v();t.collapse(!!e);k(t)};const b=()=>t.getSelection?t.getSelection():t.document.selection;const v=()=>{let o;const a=(e,t,o)=>{try{return t.compareBoundaryPoints(e,o)}catch(e){return-1}};const c=t.document;if(T(n.bookmark)&&!vk(n)){const e=Lv(n);if(e.isSome()){return e.map(e=>xw(n,[e])[0]).getOr(c.createRange())}}try{const e=b();if(e&&!nc(e.anchorNode)){if(e.rangeCount>0){o=e.getRangeAt(0)}else{o=c.createRange()}o=xw(n,[o])[0]}}catch(e){}if(!o){o=c.createRange()}if(kc(o.startContainer)&&o.collapsed){const t=e.getRoot();o.setStart(t,0);o.setEnd(t,0)}if(s&&r){if(a(o.START_TO_START,o,s)===0&&a(o.END_TO_END,o,s)===0){o=r}else{s=null;r=null}}return o};const k=(e,t)=>{if(!WM(e)){return}const o=b();const a=n.dispatch("SetSelectionRange",{range:e,forward:t});e=a.range;if(o){r=e;try{o.removeAllRanges();o.addRange(e)}catch(e){}if(t===false&&o.extend){o.collapse(e.endContainer,e.endOffset);o.extend(e.startContainer,e.startOffset)}s=o.rangeCount>0?o.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(o===null||o===void 0?void 0:o.setBaseAndExtent)){if(e.endOffset-e.startOffset<2){if(e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];if(t&&t.nodeName==="IMG"){o.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset);if(o.anchorNode!==e.startContainer||o.focusNode!==e.endContainer){o.setBaseAndExtent(t,0,t,1)}}}}}n.dispatch("AfterSetSelectionRange",{range:e,forward:t})};const w=t=>{l(e.getOuterHTML(t));return t};const _=()=>kw(n.getBody(),v());const x=(t,o)=>ww(e,v(),t,o);const C=()=>{const t=b();const o=t===null||t===void 0?void 0:t.anchorNode;const n=t===null||t===void 0?void 0:t.focusNode;if(!t||!o||!n||nc(o)||nc(n)){return true}const s=e.createRng();const r=e.createRng();try{s.setStart(o,t.anchorOffset);s.collapse(true);r.setStart(n,t.focusOffset);r.collapse(true)}catch(e){return true}return s.compareBoundaryPoints(s.START_TO_START,r)<=0};const S=()=>{const t=v();const o=b();if(!sb(o)&&hb(n)){const o=Zk(e,t);o.each(e=>{k(e,C())});return o.getOr(t)}return t};const z=(e,t)=>{a(e,t);return R};const E=()=>{let t;let o=e.getRoot();while(o&&o.nodeName!=="BODY"){if(o.scrollHeight>o.clientHeight){t=o;break}o=o.parentNode}return t};const O=(e,t)=>{if(T(e)){mw(n,e,t)}else{gw(n,v(),t)}};const A=(e,t)=>k(Mk(e,t,n.getDoc()));const D=()=>{const e=v();return e.collapsed?Af.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()};const M=()=>{t=s=r=null;L.destroy()};const N=(t={type:"word"})=>k($k(e).expand(v(),t));const R={dom:e,win:t,serializer:o,editor:n,expand:N,collapse:y,setCursorLocation:c,getContent:i,setContent:l,getBookmark:f,moveToBookmark:m,select:g,isCollapsed:p,isEditable:h,isForward:C,setNode:w,getNode:_,getSel:b,setRng:k,getRng:v,getStart:d,getEnd:u,getSelectedBlocks:x,normalize:S,selectorChanged:z,selectorChangedWithUnbind:a,getScrollContainer:E,scrollIntoView:O,placeCaretAt:A,getBoundingClientRect:D,destroy:M};const B=xv(R);const L=Dk(R,n);R.bookmarkManager=B;R.controlSelection=L;return R};const KM=(e,t,o)=>{t.addNodeFilter("br",(t,n,s)=>{const r=Qo.extend({},o.getBlockElements());const a=o.getNonEmptyElements();const c=o.getWhitespaceElements();r.body=1;const i=e=>e.name in r||pi(o,e);for(let n=0,l=t.length;n<l;n++){let l=t[n];let d=l.parent;if(d&&i(d)&&l===d.lastChild){let t=l.prev;while(t){const e=t.name;if(e!=="span"||t.attr("data-mce-type")!=="bookmark"){if(e==="br"){l=null}break}t=t.prev}if(l){l.remove();if(kS(o,a,c,d)){const t=o.getElementRule(d.name);if(t){if(t.removeEmpty){d.remove()}else if(t.paddEmpty){hS(e,s,i,d)}}}}}else{let e=l;while(d&&d.firstChild===e&&d.lastChild===e){e=d;if(r[d.name]){break}d=d.parent}if(e===d){const e=new Ew("#text",3);e.value=Ot;l.replace(e)}}}})};const YM=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(e,t)=>{let o=e.length;while(o--){const n=e[o];n.attr("tabindex",n.attr("data-mce-tabindex"));n.attr(t,null)}});e.addAttributeFilter("src,href,style",(e,n)=>{const s="data-mce-"+n;const r=t.url_converter;const a=t.url_converter_scope;let c=e.length;while(c--){const t=e[c];let i=t.attr(s);if(i!==undefined){t.attr(n,i.length>0?i:null);t.attr(s,null)}else{i=t.attr(n);if(n==="style"){i=o.serializeStyle(o.parseStyle(i),t.name)}else if(r){i=r.call(a,i,n,t.name)}t.attr(n,i.length>0?i:null)}}});e.addAttributeFilter("class",e=>{let t=e.length;while(t--){const o=e[t];let n=o.attr("class");if(n){n=n.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");o.attr("class",n.length>0?n:null)}}});e.addAttributeFilter("data-mce-type",(e,t,o)=>{let n=e.length;while(n--){const t=e[n];if(t.attr("data-mce-type")==="bookmark"&&!o.cleanup){const e=U.from(t.firstChild).exists(e=>{var t;return!fu((t=e.value)!==null&&t!==void 0?t:"")});if(e){t.unwrap()}else{t.remove()}}}});e.addNodeFilter("script,style",(e,o)=>{var n;const s=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let r=e.length;while(r--){const a=e[r];const c=a.firstChild;const i=(n=c===null||c===void 0?void 0:c.value)!==null&&n!==void 0?n:"";if(o==="script"){const e=a.attr("type");if(e){a.attr("type",e==="mce-no/type"?null:e.replace(/^mce\-/,""))}if(t.element_format==="xhtml"&&c&&i.length>0){c.value="// <![CDATA[\n"+s(i)+"\n// ]]>"}}else{if(t.element_format==="xhtml"&&c&&i.length>0){c.value="\x3c!--\n"+s(i)+"\n--\x3e"}}}});e.addNodeFilter("#comment",e=>{let n=e.length;while(n--){const s=e[n];const r=s.value;if(t.preserve_cdata&&(r===null||r===void 0?void 0:r.indexOf("[CDATA["))===0){s.name="#cdata";s.type=4;s.value=o.decode(r.replace(/^\[CDATA\[|\]\]$/g,""))}else if((r===null||r===void 0?void 0:r.indexOf("mce:protected "))===0){s.name="#text";s.type=3;s.raw=true;s.value=unescape(r).substr(14)}}});e.addNodeFilter("xml:namespace,input",(e,t)=>{let o=e.length;while(o--){const n=e[o];if(n.type===7){n.remove()}else if(n.type===1){if(t==="input"&&!n.attr("type")){n.attr("type","text")}}}});e.addAttributeFilter("data-mce-type",t=>{Q(t,t=>{if(t.attr("data-mce-type")==="format-caret"){if(t.isEmpty(e.schema.getNonEmptyElements())){t.remove()}else{t.unwrap()}}})});e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,"+"data-mce-selected,data-mce-expando,data-mce-block,"+"data-mce-type,data-mce-resize,data-mce-placeholder",(e,t)=>{let o=e.length;while(o--){e[o].attr(t,null)}});if(t.remove_trailing_brs){KM(t,e,e.schema)}};const XM=e=>{const t=e=>(e===null||e===void 0?void 0:e.name)==="br";const o=e.lastChild;if(t(o)){const e=o.prev;if(t(e)){o.remove();e.remove()}}};const JM=(e,t,o)=>{let n;const s=e.dom;let r=t.cloneNode(true);const a=document.implementation;if(a.createHTMLDocument){const e=a.createHTMLDocument("");Qo.each(r.nodeName==="BODY"?r.childNodes:[r],t=>{e.body.appendChild(e.importNode(t,true))});if(r.nodeName!=="BODY"){r=e.body.firstChild}else{r=e.body}n=s.doc;s.doc=e}wm(e,{...o,node:r});if(n){s.doc=n}return r};const QM=(e,t)=>T(e)&&e.hasEventListeners("PreProcess")&&!t.no_events;const eN=(e,t,o)=>QM(e,o)?JM(e,t,o):t;const tN=(e,t,o)=>{if(Qo.inArray(t,o)===-1){e.addAttributeFilter(o,(e,t)=>{let o=e.length;while(o--){e[o].attr(t,null)}});t.push(o)}};const oN=(e,t,o)=>{if(!t.no_events&&e){const n=_m(e,{...t,content:o});return n.content}else{return o}};const nN=(e,t,o)=>{const n=mu(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||ru(rn.fromDom(t))?n:Qo.trim(n)};const sN=(e,t,o)=>{const n=o.selection?{forced_root_block:false,...o}:o;const s=e.parse(t,n);XM(s);return s};const rN=(e,t,o)=>{const n=Xw(e,t);return n.serialize(o)};const aN=(e,t,o,n,s)=>{const r=rN(t,o,n);return oN(e,s,r)};const cN=(e,t)=>{const o=["data-mce-selected"];const n={entity_encoding:"named",remove_trailing_brs:true,pad_empty_with_br:false,...e};const s=t&&t.dom?t.dom:ad.DOM;const r=t&&t.schema?t.schema:wl(n);const a=TA(n,r);YM(a,n,s);const c=(e,o={})=>{const c={format:"html",...o};const i=eN(t,e,c);const l=nN(s,i,c);const d=sN(a,l,c);return c.format==="tree"?d:aN(t,n,r,d,c)};return{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:c,addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:H(tN,a,o),getTempAttrs:R(o),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}};const iN=(e,t)=>{const o=cN(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}};const lN="html";const dN=(e,t)=>({...e,format:t,get:true,getInner:true});const uN=(e,t={})=>{const o=t.format?t.format:lN;const n=dN(t,o);return DA(e,n).fold(B,t=>{const o=EM(e,t);return MA(e,o,t)})};const fN="html";const mN=(e,t)=>({format:fN,...e,set:true,content:t});const gN=(e,t,o={})=>{const n=mN(o,t);return NA(e,n).map(t=>{const o=OM(e,t.content,t);RA(e,o.html,t);return o.content}).getOr(t)};const pN=("autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,"+"boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,"+"force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,"+"non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,"+"tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,"+"paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,"+"template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format").split(",");const hN=[];const yN="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(",");const bN=[{name:"export",replacedWith:"Export to PDF"}];const vN=(e,t)=>{const o=oe(t,t=>Ne(e,t));return ge(o)};const kN=e=>{const t=vN(e,pN);const o=e.forced_root_block;if(o===false||o===""){t.push("forced_root_block (false only)")}return ge(t)};const wN=e=>vN(e,hN);const _N=(e,t)=>{const o=Qo.makeMap(e.plugins," ");const n=e=>Ne(o,e);const s=oe(t,n);return ge(s)};const xN=e=>_N(e,yN);const CN=e=>_N(e,bN.map(e=>e.name));const SN=(e,t)=>{const o=kN(e);const n=xN(t);const s=n.length>0;const r=o.length>0;const a=t.theme==="mobile";if(s||r||a){const e="\n- ";const t=a?`\n\nThemes:${e}mobile`:"";const c=s?`\n\nPlugins:${e}${n.join(e)}`:"";const i=r?`\n\nOptions:${e}${o.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. "+"See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+t+c+i)}};const zN=e=>ae(bN,t=>t.name===e).fold(()=>e,t=>{if(t.replacedWith){return`${e}, replaced by ${t.replacedWith}`}else{return e}});const TN=(e,t)=>{const o=wN(e);const n=CN(t);const s=n.length>0;const r=o.length>0;if(s||r){const e="\n- ";const t=s?`\n\nPlugins:${e}${n.map(zN).join(e)}`:"";const a=r?`\n\nOptions:${e}${o.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+a)}};const EN=(e,t)=>{SN(e,t);TN(e,t)};const ON=ad.DOM;const AN=e=>{ON.setStyle(e.id,"display",e.orgDisplay)};const DN=e=>U.from(e).each(e=>e.destroy());const MN=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null;t.bodyElement=t.contentDocument=t.contentWindow=null;t.iframeElement=t.targetElm=null;const o=e.selection;if(o){const e=o.dom;t.selection=o.win=o.dom=e.doc=null}};const NN=e=>{const t=e.formElement;if(t){if(t._mceOldSubmit){t.submit=t._mceOldSubmit;delete t._mceOldSubmit}ON.unbind(t,"submit reset",e.formEventDelegate)}};const RN=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:o}=e;const n=e.getBody();const s=e.getElement();if(n){e.save({is_removing:true})}e.removed=true;e.unbindAllNativeEvents();if(e.hasHiddenInput&&T(s===null||s===void 0?void 0:s.nextSibling)){ON.remove(s.nextSibling)}xm(e);e.editorManager.remove(e);if(!e.inline&&n){AN(e)}Cm(e);ON.remove(e.getContainer());DN(t);DN(o);e.destroy()}};const BN=(e,t)=>{const{selection:o,dom:n}=e;if(e.destroyed){return}if(!t&&!e.removed){e.remove();return}if(!t){e.editorManager.off("beforeunload",e._beforeUnload);if(e.theme&&e.theme.destroy){e.theme.destroy()}DN(o);DN(n)}NN(e);MN(e);e.destroyed=true};const LN=()=>{const e={};const t=(t,o)=>{e[t]=o};const o=t=>{if(e[t]){return e[t]}else{return{icons:{}}}};const n=t=>Ne(e,t);return{add:t,get:o,has:n}};const HN=LN();const IN=Td.ModelManager;const PN=(e,t)=>{const o=t.dom;return o[e]};const FN=(e,t)=>parseInt(sr(t,e),10);const VN=H(PN,"clientWidth");const jN=H(PN,"clientHeight");const ZN=H(FN,"margin-top");const UN=H(FN,"margin-left");const qN=e=>e.dom.getBoundingClientRect();const $N=(e,t,o)=>{const n=VN(e);const s=jN(e);return t>=0&&o>=0&&t<=n&&o<=s};const WN=(e,t,o,n)=>{const s=qN(t);const r=e?s.left+t.dom.clientLeft+UN(t):0;const a=e?s.top+t.dom.clientTop+ZN(t):0;const c=o-r;const i=n-a;return{x:c,y:i}};const GN=(e,t,o)=>{const n=rn.fromDom(e.getBody());const s=e.inline?n:Fn(n);const r=WN(e.inline,s,t,o);return $N(s,r.x,r.y)};const KN=e=>U.from(e).map(rn.fromDom);const YN=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return KN(t).map(Qs).getOr(false)};var XN=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const JN=e=>{const t=[];const o=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():XN()};const n=()=>U.from(t[0]);const s=(e,t)=>e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout;const r=()=>{n().each(e=>{e.reposition()})};const a=e=>{t.push(e)};const c=e=>{ce(t,t=>t===e).each(e=>{t.splice(e,1)})};const i=(n,i=true)=>{if(e.removed||!YN(e)){return{}}if(i){e.dispatch("BeforeOpenNotification",{notification:n})}return ae(t,e=>s(o().getArgs(e),n)).getOrThunk(()=>{e.editorManager.setActive(e);const t=o().open(n,()=>{c(t)},()=>kk(e));a(t);r();e.dispatch("OpenNotification",{notification:{...t}});return t})};const l=()=>{n().each(e=>{o().close(e);c(e);r()})};const d=R(t);const u=e=>{e.on("SkinLoaded",()=>{const t=Vg(e);if(t){i({text:t,type:"warning",timeout:0},false)}r()});e.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(r)});e.on("remove",()=>{Q(t.slice(),e=>{o().close(e)})});e.on("keydown",e=>{var t;const o=((t=e.key)===null||t===void 0?void 0:t.toLowerCase())==="f12"||e.keyCode===123;if(e.altKey&&o){e.preventDefault();n().map(e=>rn.fromDom(e.getEl())).each(e=>vs(e))}})};u(e);return{open:i,close:l,getNotifications:d}};const QN=Td.PluginManager;const eR=Td.ThemeManager;var tR=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const oR=e=>{let t=[];const o=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():tR()};const n=(e,t)=>(...o)=>t?t.apply(e,o):undefined;const s=t=>{e.dispatch("OpenWindow",{dialog:t})};const r=t=>{e.dispatch("CloseWindow",{dialog:t})};const a=e=>{t.push(e);s(e)};const c=o=>{r(o);t=oe(t,e=>e!==o);if(t.length===0){e.focus()}};const i=()=>U.from(t[t.length-1]);const l=t=>{e.editorManager.setActive(e);Bv(e);e.ui.show();const o=t();a(o);return o};const d=(e,t)=>l(()=>o().open(e,t,c));const u=e=>l(()=>o().openUrl(e,c));const f=(e,t,s)=>{const r=o();r.alert(e,n(s?s:r,t))};const m=(e,t,s)=>{const r=o();r.confirm(e,n(s?s:r,t))};const g=()=>{i().each(e=>{o().close(e);c(e)})};e.on("remove",()=>{Q(t,e=>{o().close(e)})});return{open:d,openUrl:u,alert:f,confirm:m,close:g}};const nR=(e,t)=>{e.notificationManager.open({type:"error",text:t})};const sR=(e,t)=>{if(e._skinLoaded){nR(e,t)}else{e.on("SkinLoaded",()=>{nR(e,t)})}};const rR=(e,t)=>{sR(e,zd.translate(["Failed to upload image: {0}",t]))};const aR=(e,t,o)=>{Mm(e,t,{message:o});console.error(o)};const cR=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`;const iR=(e,t,o)=>{aR(e,"PluginLoadError",cR("plugin",t,o))};const lR=(e,t,o)=>{aR(e,"IconsLoadError",cR("icons",t,o))};const dR=(e,t,o)=>{aR(e,"LanguageLoadError",cR("language",t,o))};const uR=(e,t,o)=>{aR(e,"ThemeLoadError",cR("theme",t,o))};const fR=(e,t,o)=>{aR(e,"ModelLoadError",cR("model",t,o))};const mR=(e,t,o)=>{const n=zd.translate(["Failed to initialize plugin: {0}",t]);Mm(e,"PluginLoadError",{message:n});gR(n,o);sR(e,n)};const gR=(e,...t)=>{const o=window.console;if(o){if(o.error){o.error(e,...t)}else{o.log(e,...t)}}};const pR=e=>{U.from(e.selection.getNode()).each(e=>{e.removeAttribute("data-mce-selected")})};const hR=(e,t,o)=>{try{e.getDoc().execCommand(t,false,String(o))}catch(e){}};const yR=(e,t)=>{hR(e,"StyleWithCSS",t);hR(e,"enableInlineTableEditing",t);hR(e,"enableObjectResizing",t)};const bR=e=>{e.selection.setRng(e.selection.getRng())};const vR=(e,t,o)=>{if(Kr(e,t)&&!o){Wr(e,t)}else if(o){qr(e,t)}};const kR=e=>{const t=rn.fromDom(e.getBody());vR(t,"mce-content-readonly",true);e.selection.controlSelection.hideResizeRect();e._selectionOverrides.hideFakeCaret();pR(e)};const wR=e=>{const t=rn.fromDom(e.getBody());vR(t,"mce-content-readonly",false);if(e.hasEditableRoot()){ta(t,true)}yR(e,false);if(kk(e)){e.focus()}bR(e);e.nodeChanged()};const _R=e=>th(e);const xR="data-mce-contenteditable";const CR=e=>{Q(sa(e,'*[contenteditable="true"]'),e=>{Ds(e,xR,"true");ta(e,false)})};const SR=e=>{Q(sa(e,`*[${xR}="true"]`),e=>{Ls(e,xR);ta(e,true)})};const zR=(e,t)=>{const o=rn.fromDom(e.getBody());if(t){kR(e);ta(o,false);CR(o)}else{SR(o);wR(e)}};const TR=e=>{if(e.serializer){ER(e)}else{e.on("PreInit",()=>{ER(e)})}};const ER=e=>{e.parser.addAttributeFilter("contenteditable",t=>{if(_R(e)){Q(t,e=>{e.attr(xR,e.attr("contenteditable"));e.attr("contenteditable","false")})}});e.serializer.addAttributeFilter(xR,t=>{if(_R(e)){Q(t,e=>{e.attr("contenteditable",e.attr(xR))})}});e.serializer.addTempAttr(xR)};const OR=e=>e.type==="click";const AR=["copy"];const DR=e=>Y(AR,e.type);const MR=(e,t)=>{const o=t=>Sn(t,rn.fromDom(e.getBody()));return Pr(t,"a",o).bind(e=>Rs(e,"href"))};const NR=(e,t)=>{if(OR(t)&&!Ck.metaKeyPressed(t)){const o=rn.fromDom(t.target);MR(e,o).each(o=>{t.preventDefault();if(/^#/.test(o)){const t=e.dom.select(`${o},[name="${mt(o,"#")}"]`);if(t.length){e.selection.scrollIntoView(t[0],true)}}else{window.open(o,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}})}else if(DR(t)){e.dispatch(t.type,t)}};const RR=e=>{e.on("ShowCaret ObjectSelected",t=>{if(_R(e)){t.preventDefault()}});e.on("DisabledStateChange",t=>{if(!t.isDefaultPrevented()){zR(e,t.state)}})};const BR=e=>{TR(e);RR(e)};const LR=e=>/^[a-z0-9\-]+$/i.test(e);const HR=e=>"content/"+e+"/content.css";const IR=e=>tinymce.Resource.has(HR(e));const PR=e=>VR(e,Mg(e));const FR=e=>VR(e,Rg(e));const VR=(e,t)=>{const o=e.editorManager.baseURL+"/skins/content";const n=e.editorManager.suffix;const s=`content${n}.css`;return J(t,t=>{if(IR(t)){return t}else if(LR(t)&&!e.inline){return`${o}/${t}/${s}`}else{return e.documentBaseURI.toAbsolute(t)}})};const jR=e=>{e.contentCSS=e.contentCSS.concat(PR(e),FR(e))};const ZR=e=>e?be(e.getElementsByTagName("img")):[];const UR=(e,t)=>{const o={};const n=(n,s=Z)=>{const r=oe(ZR(n),t=>{const o=t.src;if(t.hasAttribute("data-mce-bogus")){return false}if(t.hasAttribute("data-mce-placeholder")){return false}if(!o||o===jo.transparentSrc){return false}if(pt(o,"blob:")){return!e.isUploaded(o)&&s(t)}if(pt(o,"data:")){return s(t)}return false});const a=J(r,e=>{const n=e.src;if(Ne(o,n)){return o[n].then(t=>{if(v(t)){return t}else{return{image:e,blobInfo:t.blobInfo}}})}else{const s=LE(t,n).then(t=>{delete o[n];return{image:e,blobInfo:t}}).catch(e=>{delete o[n];return e});o[n]=s;return s}});return Promise.all(a)};return{findAll:n}};const qR=()=>{const e=1,t=2;let o={};const n=(e,t)=>({status:e,resultUri:t});const s=e=>e in o;const r=e=>{const t=o[e];return t?t.resultUri:null};const a=t=>s(t)?o[t].status===e:false;const c=e=>s(e)?o[e].status===t:false;const i=t=>{o[t]=n(e,null)};const l=(e,s)=>{o[e]=n(t,s)};const d=e=>{delete o[e]};const u=()=>{o={}};return{hasBlobUri:s,getResultUri:r,isPending:a,isUploaded:c,markPending:i,markUploaded:l,removeFailed:d,destroy:u}};let $R=0;const WR=()=>{const e=()=>Math.round(qe()*4294967295).toString(36);const t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()};const GR=e=>e+$R+++WR();const KR=()=>{let e=[];const t=e=>{const t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return t[e.toLowerCase()]||"dat"};const o=(e,t,o,s,r)=>{if(v(e)){const a=e;return n({id:a,name:s,filename:r,blob:t,base64:o})}else if(k(e)){return n(e)}else{throw new Error("Unknown input type")}};const n=e=>{if(!e.blob||!e.base64){throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}const o=e.id||GR("blobid");const n=e.name||o;const s=e.blob;return{id:R(o),name:R(n),filename:R(e.filename||n+"."+t(s.type)),blob:R(s),base64:R(e.base64),blobUri:R(e.blobUri||URL.createObjectURL(s)),uri:R(e.uri)}};const s=t=>{if(!a(t.id())){e.push(t)}};const r=t=>ae(e,t).getOrUndefined();const a=e=>r(t=>t.id()===e);const c=e=>r(t=>t.blobUri()===e);const i=(e,t)=>r(o=>o.base64()===e&&o.blob().type===t);const l=t=>{e=oe(e,e=>{if(e.blobUri()===t){URL.revokeObjectURL(e.blobUri());return false}return true})};const d=()=>{Q(e,e=>{URL.revokeObjectURL(e.blobUri())});e=[]};return{create:o,add:s,get:a,getByUri:c,getByData:i,findFirst:r,removeByUri:l,destroy:d}};const YR=(e,t)=>{const o={};const n=(e,t)=>{if(e){return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")}return t};const s=(e,o)=>new Promise((s,r)=>{const a=new XMLHttpRequest;a.open("POST",t.url);a.withCredentials=t.credentials;a.upload.onprogress=e=>{o(e.loaded/e.total*100)};a.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+a.status)};a.onload=()=>{if(a.status<200||a.status>=300){r("HTTP Error: "+a.status);return}const e=JSON.parse(a.responseText);if(!e||!v(e.location)){r("Invalid JSON: "+a.responseText);return}s(n(t.basePath,e.location))};const c=new FormData;c.append("file",e.blob(),e.filename());a.send(c)});const r=E(t.handler)?t.handler:s;const a=()=>new Promise(e=>{e([])});const c=(e,t)=>({url:t,blobInfo:e,status:true});const i=(e,t)=>({url:"",blobInfo:e,status:false,error:t});const l=(e,t)=>{Qo.each(o[e],e=>{e(t)});delete o[e]};const d=(t,o,n)=>{e.markPending(t.blobUri());return new Promise(s=>{let r;let a;try{const d=()=>{if(r){r.close();a=D}};const u=o=>{d();e.markUploaded(t.blobUri(),o);l(t.blobUri(),c(t,o));s(c(t,o))};const f=o=>{d();e.removeFailed(t.blobUri());l(t.blobUri(),i(t,o));s(i(t,o))};a=e=>{if(e<0||e>100){return}U.from(r).orThunk(()=>U.from(n).map(F)).each(t=>{r=t;t.progressBar.value(e)})};o(t,a).then(u,e=>{f(v(e)?{message:e}:e)})}catch(e){s(i(t,e))}})};const u=e=>e===s;const f=e=>{const t=e.blobUri();return new Promise(e=>{o[t]=o[t]||[];o[t].push(e)})};const m=(t,o)=>{t=Qo.grep(t,t=>!e.isUploaded(t.blobUri()));return Promise.all(Qo.map(t,t=>e.isPending(t.blobUri())?f(t):d(t,r,o)))};const g=(e,o)=>!t.url&&u(r)?a():m(e,o);return{upload:g}};const XR=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true});const JR=(e,t)=>YR(t,{url:_g(e),basePath:xg(e),credentials:Cg(e),handler:Sg(e)});const QR=e=>{const t=qR();const o=JR(e,t);return{upload:(t,n=true)=>o.upload(t,n?XR(e):undefined)}};const eB=(e,t)=>e.dom.isEmpty(t.dom)&&T(e.schema.getTextBlockElements()[En(t)]);const tB=e=>t=>{if(eB(e,t)){zs(t,rn.fromHtml('<br data-mce-bogus="1" />'))}};const oB=e=>{const t=KR();let o,n;const s=qR();const r=[];const a=t=>o=>{if(e.selection){return t(o)}return[]};const c=e=>e+(e.indexOf("?")===-1?"?":"&")+(new Date).getTime();const i=(e,t,o)=>{let n=0;do{n=e.indexOf(t,n);if(n!==-1){e=e.substring(0,n)+o+e.substr(n+t.length);n+=o.length-t.length+1}}while(n!==-1);return e};const l=(e,t,o)=>{const n=`src="${o}"${o===jo.transparentSrc?' data-mce-placeholder="1"':""}`;e=i(e,`src="${t}"`,n);e=i(e,'data-mce-src="'+t+'"','data-mce-src="'+o+'"');return e};const d=(t,o)=>{Q(e.undoManager.data,e=>{if(e.type==="fragmented"){e.fragments=J(e.fragments,e=>l(e,t,o))}else{e.content=l(e.content,t,o)}})};const u=(t,o)=>{const n=e.convertURL(o,"src");d(t.src,o);Ms(rn.fromDom(t),{src:bg(e)?c(o):o,"data-mce-src":n})};const f=()=>{if(!o){o=JR(e,s)}return h().then(a(n=>{const s=J(n,e=>e.blobInfo);return o.upload(s,XR(e)).then(a(o=>{const s=[];let r=false;const a=J(o,(o,a)=>{const{blobInfo:c,image:i}=n[a];let l=false;if(o.status&&vg(e)){if(o.url&&!gt(i.src,o.url)){r=true}t.removeByUri(i.src);if(nM(e));else{u(i,o.url)}}else if(o.error){if(o.error.remove){d(i.src,jo.transparentSrc);s.push(i);l=true}rR(e,o.error.message)}return{element:i,status:o.status,uploadUri:o.url,blobInfo:c,removed:l}});if(s.length>0&&!nM(e)){e.undoManager.transact(()=>{Q(Gs(s),o=>{const n=jn(o);Fs(o);n.each(tB(e));t.removeByUri(o.dom.src)})})}else if(r){e.undoManager.dispatchChange()}return a}))}))};const m=()=>yg(e)?f():Promise.resolve([]);const g=e=>de(r,t=>t(e));const p=e=>{r.push(e)};const h=()=>{if(!n){n=UR(s,t)}return n.findAll(e.getBody(),g).then(a(t=>{const o=oe(t,t=>{if(v(t)){sR(e,t);return false}else if(t.uriType==="blob"){return false}else{return true}});if(nM(e));else{Q(o,e=>{d(e.image.src,e.blobInfo.blobUri());e.image.src=e.blobInfo.blobUri();e.image.removeAttribute("data-mce-src")})}return o}))};const y=()=>{t.destroy();s.destroy();n=o=null};const b=o=>o.replace(/src="(blob:[^"]+)"/g,(o,n)=>{const r=s.getResultUri(n);if(r){return'src="'+r+'"'}let a=t.getByUri(n);if(!a){a=se(e.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n),undefined)}if(a){const e=a.blob();return'src="data:'+e.type+";base64,"+a.base64()+'"'}return o});e.on("SetContent",()=>{if(yg(e)){m()}else{h()}});e.on("RawSaveContent",e=>{e.content=b(e.content)});e.on("GetContent",e=>{if(e.source_view||e.format==="raw"||e.format==="tree"){return}e.content=b(e.content)});e.on("PostRender",()=>{e.parser.addNodeFilter("img",e=>{Q(e,e=>{const o=e.attr("src");if(!o||t.getByUri(o)){return}const n=s.getResultUri(o);if(n){e.attr("src",n)}})})});return{blobCache:t,addFilter:p,uploadImages:f,uploadImagesAuto:m,scanForImages:h,destroy:y}};const nB=e=>{const t=e.dom;const o=e.schema.type;const n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:false,preview:false},{selector:"img,audio,video",collapsed:false,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:true},{selector:"table",collapsed:false,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:true,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:false,preview:"font-family font-size"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:true},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:true,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"[data-ephox-embed-iri]",ceFalseOverride:true,styles:{marginLeft:"auto",marginRight:"auto"},preview:false}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:true},{selector:"table",collapsed:false,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:true,styles:{float:"right"},preview:false}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:false,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:true};const t={inline:"strike",remove:"all",preserve_attributes:["class","style"]};const n={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[n,e,t]:[e,n,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:"span",toggle:false,styles:{fontFamily:"%value"},clear_child_styles:true},fontsize:{inline:"span",toggle:false,styles:{fontSize:"%value"},clear_child_styles:true},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:true,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:(e,t,o)=>sc(e)&&e.hasAttribute("href"),onformat:(e,o,n)=>{Qo.each(n,(o,n)=>{t.setAttrib(e,n,o)})}},lang:{inline:"span",clear_child_styles:true,remove_similar:true,attributes:{lang:"%value","data-mce-lang":e=>{var t;return(t=e===null||e===void 0?void 0:e.customValue)!==null&&t!==void 0?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]};Qo.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),e=>{n[e]={block:e,remove:"all"}});return n};const sB={remove_similar:true,inherit:false};const rB={selector:"td,th",...sB};const aB={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...rB},tablecellverticalalign:{styles:{"vertical-align":"%value"},...rB},tablecellbordercolor:{styles:{borderColor:"%value"},...rB},tablecellclass:{classes:["%value"],...rB},tableclass:{selector:"table",classes:["%value"],...sB},tablecellborderstyle:{styles:{borderStyle:"%value"},...rB},tablecellborderwidth:{styles:{borderWidth:"%value"},...rB}};const cB=R(aB);const iB=e=>{const t={};const o=e=>T(e)?t[e]:t;const n=e=>Ne(t,e);const s=(e,o)=>{if(e){if(!v(e)){xe(e,(e,t)=>{s(t,e)})}else{if(!_(o)){o=[o]}Q(o,e=>{if(S(e.deep)){e.deep=!Zb(e)}if(S(e.split)){e.split=!Zb(e)||Ub(e)}if(S(e.remove)&&Zb(e)&&!Ub(e)){e.remove="none"}if(Zb(e)&&Ub(e)){e.mixed=true;e.block_expand=true}if(v(e.classes)){e.classes=e.classes.split(/\s+/)}});t[e]=o}}};const r=e=>{if(e&&t[e]){delete t[e]}return t};s(nB(e));s(cB());s(Wg(e));return{get:o,has:n,register:s,unregister:r}};const lB=Qo.each;const dB=ad.DOM;const uB=e=>T(e)&&k(e);const fB=(e,t)=>{const o=t&&t.schema||wl({});const n=(e,t)=>{if(t.classes.length>0){dB.addClass(e,t.classes.join(" "))}dB.setAttribs(e,t.attrs)};const s=e=>{const t=v(e)?{name:e,classes:[],attrs:{}}:e;const o=dB.create(t.name);n(o,t);return o};const r=(e,t)=>{const n=o.getElementRule(e.nodeName.toLowerCase());const s=n===null||n===void 0?void 0:n.parentsRequired;if(s&&s.length){return t&&Y(s,t)?t:s[0]}else{return false}};const a=(e,t,o)=>{let n;const c=t[0];const i=uB(c)?c.name:undefined;const l=r(e,i);if(l){if(i===l){n=c;t=t.slice(1)}else{n=l}}else if(c){n=c;t=t.slice(1)}else if(!o){return e}const d=n?s(n):dB.create("div");d.appendChild(e);if(o){Qo.each(o,t=>{const o=s(t);d.insertBefore(o,e)})}const u=uB(n)?n.siblings:undefined;return a(d,t,u)};const c=dB.create("div");if(e.length>0){const t=e[0];const o=s(t);const n=uB(t)?t.siblings:undefined;c.appendChild(a(o,e.slice(1),n))}return c};const mB=e=>{e=Qo.trim(e);let t="div";const o={name:t,classes:[],attrs:{},selector:e};if(e!=="*"){t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,n,s,r)=>{switch(t){case"#":o.attrs.id=n;break;case".":o.classes.push(n);break;case":":if(Qo.inArray("checked disabled enabled read-only required".split(" "),n)!==-1){o.attrs[n]=n}break}if(s==="["){const e=r.match(/([\w\-]+)(?:\=\"([^\"]+))?/);if(e){o.attrs[e[1]]=e[2]}}return""})}o.name=t||"div";return o};const gB=e=>{if(!v(e)){return[]}e=e.split(/\s*,\s*/)[0];e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1");return Qo.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{const t=Qo.map(e.split(/(?:~\+|~|\+)/),mB);const o=t.pop();if(t.length){o.siblings=t}return o}).reverse()};const pB=(e,t)=>{let o="";let n=Gg(e);if(n===""){return""}const s=e=>v(e)?e.replace(/%(\w+)/g,""):"";const r=(t,o)=>dB.getStyle(o!==null&&o!==void 0?o:e.getBody(),t,true);if(v(t)){const o=e.formatter.get(t);if(!o){return""}t=o[0]}if("preview"in t){const e=t.preview;if(e===false){return""}else{n=e||n}}let a=t.block||t.inline||"span";let c;const i=gB(t.selector);if(i.length>0){if(!i[0].name){i[0].name=a}a=t.selector;c=fB(i,e)}else{c=fB([a],e)}const l=dB.select(a,c)[0]||c.firstChild;lB(t.styles,(e,t)=>{const o=s(e);if(o){dB.setStyle(l,t,o)}});lB(t.attributes,(e,t)=>{const o=s(e);if(o){dB.setAttrib(l,t,o)}});lB(t.classes,e=>{const t=s(e);if(!dB.hasClass(l,t)){dB.addClass(l,t)}});e.dispatch("PreviewFormats");dB.setStyles(c,{position:"absolute",left:-65535});e.getBody().appendChild(c);const d=r("fontSize");const u=/px$/.test(d)?parseInt(d,10):0;lB(n.split(" "),e=>{let t=r(e,l);if(e==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)){t=r(e);if(Nl(t).toLowerCase()==="#ffffff"){return}}if(e==="color"){if(Nl(t).toLowerCase()==="#000000"){return}}if(e==="font-size"){if(/em|%$/.test(t)){if(u===0){return}const e=parseFloat(t)/(/%$/.test(t)?100:1);t=e*u+"px"}}if(e==="border"&&t){o+="padding:0 2px;"}o+=e+":"+t+";"});e.dispatch("AfterPreviewFormats");dB.remove(c);return o};const hB=e=>{e.addShortcut("meta+b","","Bold");e.addShortcut("meta+i","","Italic");e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++){e.addShortcut("access+"+t,"",["FormatBlock",false,"h"+t])}e.addShortcut("access+7","",["FormatBlock",false,"p"]);e.addShortcut("access+8","",["FormatBlock",false,"div"]);e.addShortcut("access+9","",["FormatBlock",false,"address"])};const yB=e=>{const t=iB(e);const o=Ie({});hB(e);Xz(e);if(!nM(e)){cE(o,e)}return{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,o,n)=>{CM(e,t,o,n)},remove:(t,o,n,s)=>{SM(e,t,o,n,s)},toggle:(t,o,n)=>{zM(e,t,o,n)},match:(t,o,n,s)=>vM(e,t,o,n,s),closest:t=>xM(e,t),matchAll:(t,o)=>kM(e,t,o),matchNode:(t,o,n,s)=>wM(e,t,o,n,s),canApply:t=>_M(e,t),formatChanged:(t,n,s,r)=>TM(e,o,t,n,s,r),getCssText:H(pB,e)}};const bB=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return true;default:return false}};const vB=(e,t,o)=>{const n=Ie(false);const s=e=>{PD(t,false,o);t.add({},e)};e.on("init",()=>{t.add()});e.on("BeforeExecCommand",e=>{const n=e.command;if(!bB(n)){FD(t,o);t.beforeChange()}});e.on("ExecCommand",e=>{const t=e.command;if(!bB(t)){s(e)}});e.on("ObjectResizeStart cut",()=>{t.beforeChange()});e.on("SaveContent ObjectResized blur",s);e.on("dragend",s);e.on("keyup",o=>{const r=o.keyCode;if(o.isDefaultPrevented()){return}const a=jo.os.isMacOS()&&o.key==="Meta";if(r>=33&&r<=36||r>=37&&r<=40||r===45||o.ctrlKey||a){s();e.nodeChanged()}if(r===46||r===8){e.nodeChanged()}if(n.get()&&t.typing&&!HD(DD(e),t.data[0])){if(!e.isDirty()){e.setDirty(true)}e.dispatch("TypingUndo");n.set(false);e.nodeChanged()}});e.on("keydown",e=>{const r=e.keyCode;if(e.isDefaultPrevented()){return}if(r>=33&&r<=36||r>=37&&r<=40||r===45){if(t.typing){s(e)}return}const a=e.ctrlKey&&!e.altKey||e.metaKey;if((r<16||r>20)&&r!==224&&r!==91&&!t.typing&&!a){t.beforeChange();PD(t,true,o);t.add({},e);n.set(true);return}const c=jo.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey;if(c){t.beforeChange()}});e.on("mousedown",e=>{if(t.typing){s(e)}});const r=e=>e.inputType==="insertReplacementText";const a=e=>e.inputType==="insertText"&&e.data===null;const c=e=>e.inputType==="insertFromPaste"||e.inputType==="insertFromDrop";e.on("input",e=>{if(e.inputType&&(r(e)||a(e)||c(e))){s(e)}});e.on("AddUndo Undo Redo ClearUndos",t=>{if(!t.isDefaultPrevented()){e.nodeChanged()}})};const kB=e=>{e.addShortcut("meta+z","","Undo");e.addShortcut("meta+y,meta+shift+z","","Redo")};const wB=e=>{const t=dt();const o=Ie(0);const n=Ie(0);const s={data:[],typing:false,beforeChange:()=>{iM(e,o,t)},add:(r,a)=>lM(e,s,n,o,t,r,a),dispatchChange:()=>{e.setDirty(true);const t=DD(e);t.bookmark=dm(e.selection);e.dispatch("change",{level:t,lastLevel:pe(s.data,n.get()).getOrUndefined()})},undo:()=>dM(e,s,o,n),redo:()=>uM(e,n,s.data),clear:()=>{fM(e,s,n)},reset:()=>{mM(e,s)},hasUndo:()=>gM(e,s,n),hasRedo:()=>pM(e,s,n),transact:t=>hM(e,s,o,t),ignore:t=>{yM(e,o,t)},extra:(t,o)=>{bM(e,s,n,t,o)}};if(!nM(e)){vB(e,s,o)}kB(e);return s};const _B=[9,27,Ck.HOME,Ck.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ck.DOWN,Ck.UP,Ck.LEFT,Ck.RIGHT].concat(jo.browser.isFirefox()?[224]:[]);const xB="data-mce-placeholder";const CB=e=>e.type==="keydown"||e.type==="keyup";const SB=e=>{const t=e.keyCode;return t===Ck.BACKSPACE||t===Ck.DELETE};const zB=e=>{if(CB(e)){const t=e.keyCode;return!SB(e)&&(Ck.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Y(_B,t))}else{return false}};const TB=e=>CB(e)&&!(SB(e)||e.type==="keyup"&&e.keyCode===229);const EB=(e,t,o)=>{if(e.isEmpty(t,undefined,{skipBogus:false,includeZwsp:true})){const n=t.firstElementChild;if(!n){return true}else if(e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")){return false}else{return o===n.nodeName.toLowerCase()}}else{return false}};const OB=e=>{var t;const o=e.dom;const n=dg(e);const s=(t=Pg(e))!==null&&t!==void 0?t:"";const r=(t,a)=>{if(zB(t)){return}const c=e.getBody();const i=TB(t)?false:EB(o,c,n);const l=o.getAttrib(c,xB)!=="";if(l!==i||a){o.setAttrib(c,xB,i?s:null);Dm(e,i);e.on(i?"keydown":"keyup",r);e.off(i?"keyup":"keydown",r)}};if(wt(s)){e.on("init",t=>{r(t,true);e.on("change SetContent ExecCommand",r);e.on("paste",t=>jv.setEditorTimeout(e,()=>r(t)))})}};const AB=(e,t)=>({block:e,position:t});const DB=(e,t)=>({from:e,to:t});const MB=(e,t)=>{const o=rn.fromDom(e);const n=rn.fromDom(t.container());return oC(o,n).map(e=>AB(e,t))};const NB=e=>!(zn(e.to.block,e.from.block)||zn(e.from.block,e.to.block));const RB=e=>!Sn(e.from.block,e.to.block);const BB=(e,t)=>{const o=t=>Sn(t,e);const n=e=>su(e)||Sc(e.dom);return Nr(t,n,o).filter(Nn).getOr(e)};const LB=(e,t)=>{const o=rn.fromDom(e);return Sn(BB(o,t.from.block),BB(o,t.to.block))};const HB=e=>zc(e.from.block.dom)===false&&zc(e.to.block.dom)===false;const IB=e=>{const t=e=>eu(e)||di(e.dom)||ou(e);return t(e.from.block)&&t(e.to.block)};const PB=(e,t,o,n)=>{if(_c(n.position.getNode())&&!Uc(e,n.block)){return _y(false,n.block.dom).bind(e=>{if(e.isEqual(n.position)){return vy(o,t,e).bind(e=>MB(t,e))}else{return U.some(n)}}).getOr(n)}else{return n}};const FB=(e,t,o,n)=>{const s=MB(t,Af.fromRangeStart(n));const r=s.bind(n=>vy(o,t,n.position).bind(n=>MB(t,n).map(n=>PB(e,t,o,n))));return ot(s,r,DB).filter(e=>RB(e)&&LB(t,e)&&HB(e)&&IB(e)&&NB(e))};const VB=(e,t,o,n)=>n.collapsed?FB(e,t,o,n):U.none();const jB=(e,t)=>{const o=Yn(e);return ce(o,e=>t.isBlock(En(e))).fold(R(o),e=>o.slice(0,e))};const ZB=(e,t)=>{const o=jB(e,t);Q(o,Fs);return o};const UB=(e,t,o)=>{const n=T_(o,t);return ae(n.reverse(),t=>Uc(e,t)).each(Fs)};const qB=(e,t)=>oe(Gn(t),t=>!Uc(e,t)).length===0;const $B=(e,t,o,n,s)=>{if(Uc(n,o)){lu(o);return Sy(o.dom)}if(qB(n,s)&&Uc(n,t)){xs(s,rn.fromTag("br"))}const r=Cy(o.dom,Af.before(s.dom));Q(ZB(t,n),e=>{xs(s,e)});UB(n,e,t);return r};const WB=(e,t)=>e.isInline(En(t));const GB=(e,t,o,n)=>{if(Uc(n,o)){if(Uc(n,t)){const e=e=>{const t=(e,o)=>Jn(e).fold(()=>o,e=>WB(n,e)?t(e,o.concat(Zs(e))):o);return t(e,[])};const s=ne(e(o),(e,t)=>{Ts(e,t);return t},iu());Ps(t);zs(t,s)}Fs(o);return Sy(t.dom)}const s=zy(o.dom);Q(ZB(t,n),e=>{zs(o,e)});UB(n,e,t);return s};const KB=(e,t)=>{const o=T_(t,e);return U.from(o[o.length-1])};const YB=(e,t)=>zn(t,e)?KB(t,e):U.none();const XB=(e,t)=>{_y(e,t.dom).bind(e=>U.from(e.getNode())).map(rn.fromDom).filter(Qd).each(Fs)};const JB=(e,t,o,n)=>{XB(true,t);XB(false,o);return YB(t,o).fold(H(GB,e,t,o,n),H($B,e,t,o,n))};const QB=(e,t,o,n,s)=>t?JB(e,n,o,s):JB(e,o,n,s);const eL=(e,t)=>{const o=rn.fromDom(e.getBody());const n=VB(e.schema,o.dom,t,e.selection.getRng()).map(n=>()=>{QB(o,t,n.from.block,n.to.block,e.schema).each(t=>{e.selection.setRng(t.toRange())})});return n};const tL=(e,t,o)=>{const n=t.getRng();return ot(oC(e,rn.fromDom(n.startContainer)),oC(e,rn.fromDom(n.endContainer)),(s,r)=>{if(!Sn(s,r)){return U.some(()=>{n.deleteContents();QB(e,true,s,r,o).each(e=>{t.setRng(e.toRange())})})}else{return U.none()}}).getOr(U.none())};const oL=(e,t)=>{const o=rn.fromDom(t);const n=H(Sn,e);return Mr(o,su,n).isSome()};const nL=(e,t)=>oL(e,t.startContainer)||oL(e,t.endContainer);const sL=(e,t)=>{const o=Cy(e.dom,Af.fromRangeStart(t)).isNone();const n=xy(e.dom,Af.fromRangeEnd(t)).isNone();return!nL(e,t)&&o&&n};const rL=e=>U.some(()=>{e.setContent("");e.selection.setCursorLocation()});const aL=e=>{const t=rn.fromDom(e.getBody());const o=e.selection.getRng();return sL(t,o)?rL(e):tL(t,e.selection,e.schema)};const cL=(e,t)=>e.selection.isCollapsed()?U.none():aL(e);const iL=(e,t,o,n,s)=>U.from(t._selectionOverrides.showCaret(e,o,n,s));const lL=e=>{const t=e.ownerDocument.createRange();t.selectNode(e);return t};const dL=(e,t)=>{const o=e.dispatch("BeforeObjectSelected",{target:t});if(o.isDefaultPrevented()){return U.none()}return U.some(lL(t))};const uL=(e,t,o)=>{const n=$h(1,e.getBody(),t);const s=Af.fromRangeStart(n);const r=s.getNode();if(_h(r)){return iL(1,e,r,!s.isAtEnd(),false)}const a=s.getNode(true);if(_h(a)){return iL(1,e,a,false,false)}const c=rS(e.dom.getRoot(),s.getNode());if(_h(c)){return iL(1,e,c,false,o)}return U.none()};const fL=(e,t,o)=>t.collapsed?uL(e,t,o).getOr(t):t;const mL=e=>__(e)||b_(e);const gL=e=>x_(e)||v_(e);const pL=(e,t)=>{if(hc(t)&&t.data.length===0){e.remove(t)}};const hL=(e,t,o,n,s,r)=>{iL(n,e,r.getNode(!s),s,true).each(o=>{if(t.collapsed){const e=t.cloneRange();if(s){e.setEnd(o.startContainer,o.startOffset)}else{e.setStart(o.endContainer,o.endOffset)}e.deleteContents()}else{t.deleteContents()}e.selection.setRng(o)});pL(e.dom,o)};const yL=(e,t)=>{const o=e.selection.getRng();if(!hc(o.commonAncestorContainer)){return U.none()}const n=t?1:-1;const s=uy(e.getBody());const r=H(Xh,t?s.next:s.prev);const a=t?mL:gL;const c=Gh(n,e.getBody(),o);const i=r(c);const l=i?Wx(t,i):i;if(!l||!Jh(c,l)){return U.none()}else if(a(l)){return U.some(()=>hL(e,o,c.getNode(),n,t,l))}const d=r(l);if(d&&a(d)){if(Jh(l,d)){return U.some(()=>hL(e,o,c.getNode(),n,t,d))}}return U.none()};const bL=(e,t)=>yL(e,t);const vL=(e,t)=>{const o=e.getBody();return t?Sy(o).filter(__):zy(o).filter(x_)};const kL=e=>{const t=e.selection.getRng();return!t.collapsed&&(vL(e,true).exists(e=>e.isEqual(Af.fromRangeStart(t)))||vL(e,false).exists(e=>e.isEqual(Af.fromRangeEnd(t))))};const wL=e=>T(e)&&(su(rn.fromDom(e))||ou(rn.fromDom(e)));const _L=He.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]);const xL=(e,t)=>{const o=t.getNode(!e);const n=e?"after":"before";return sc(o)&&o.getAttribute("data-mce-caret")===n};const CL=(e,t,o,n,s)=>{const r=t=>s.isInline(t.nodeName.toLowerCase())&&!Ph(o,n,e);return Wh(!t,o).fold(()=>Wh(t,n).fold(j,r),r)};const SL=(e,t,o,n,s)=>{const r=s.getNode(!o);return oC(rn.fromDom(t),rn.fromDom(n.getNode())).map(t=>Uc(e,t)?_L.remove(t.dom):_L.moveToElement(r)).orThunk(()=>U.some(_L.moveToElement(r)))};const zL=(e,t,o,n)=>vy(t,e,o).bind(s=>{if(wL(s.getNode())){return U.none()}else if(CL(e,t,o,s,n)){return U.none()}else if(t&&zc(s.getNode())){return SL(n,e,t,o,s)}else if(!t&&zc(s.getNode(true))){return SL(n,e,t,o,s)}else if(t&&x_(o)){return U.some(_L.moveToPosition(s))}else if(!t&&__(o)){return U.some(_L.moveToPosition(s))}else{return U.none()}});const TL=(e,t)=>{if(z(t)){return U.none()}else if(e&&zc(t.nextSibling)){return U.some(_L.moveToElement(t.nextSibling))}else if(!e&&zc(t.previousSibling)){return U.some(_L.moveToElement(t.previousSibling))}else{return U.none()}};const EL=(e,t,o)=>o.fold(e=>U.some(_L.remove(e)),e=>U.some(_L.moveToElement(e)),o=>{if(Ph(t,o,e)){return U.none()}else{return U.some(_L.moveToPosition(o))}});const OL=(e,t,o,n)=>{if(xL(t,o)){return TL(t,o.getNode(!t)).orThunk(()=>zL(e,t,o,n))}else{return zL(e,t,o,n).bind(t=>EL(e,o,t))}};const AL=(e,t,o,n)=>{const s=$h(t?1:-1,e,o);const r=Af.fromRangeStart(s);const a=rn.fromDom(e);if(!t&&x_(r)){return U.some(_L.remove(r.getNode(true)))}else if(t&&__(r)){return U.some(_L.remove(r.getNode()))}else if(!t&&__(r)&&F_(a,r,n)){return V_(a,r,n).map(e=>_L.remove(e.getNode()))}else if(t&&x_(r)&&P_(a,r,n)){return j_(a,r,n).map(e=>_L.remove(e.getNode()))}else{return OL(e,t,r,n)}};const DL=(e,t)=>o=>{e._selectionOverrides.hideFakeCaret();Ix(e,t,rn.fromDom(o));return true};const ML=(e,t)=>o=>{const n=t?Af.before(o):Af.after(o);e.selection.setRng(n.toRange());return true};const NL=e=>t=>{e.selection.setRng(t.toRange());return true};const RL=(e,t)=>U.from(rS(e.getBody(),t));const BL=(e,t)=>{const o=e.selection.getNode();return RL(e,o).filter(zc).fold(()=>AL(e.getBody(),t,e.selection.getRng(),e.schema).map(o=>()=>o.fold(DL(e,t),ML(e,t),NL(e))),()=>U.some(D))};const LL=e=>{Q(sa(e,".mce-offscreen-selection"),Fs)};const HL=(e,t)=>{const o=e.selection.getNode();if(zc(o)&&!Ec(o)){const n=RL(e,o.parentNode).filter(zc);return n.fold(()=>U.some(()=>{LL(rn.fromDom(e.getBody()));Ix(e,t,rn.fromDom(e.selection.getNode()));nC(e)}),()=>U.some(D))}if(kL(e)){return U.some(()=>{aC(e,e.selection.getRng(),rn.fromDom(e.getBody()))})}return U.none()};const IL=e=>{const t=e.dom,o=e.selection;const n=rS(e.getBody(),o.getNode());if(Sc(n)&&t.isBlock(n)&&t.isEmpty(n)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(n,"");n.appendChild(e);o.setRng(Af.before(e).toRange())}return true};const PL=(e,t)=>{if(e.selection.isCollapsed()){return BL(e,t)}else{return HL(e,t)}};const FL=e=>e.hasOwnProperty("text");const VL=e=>e.hasOwnProperty("marker");const jL=(e,t)=>{const o=(e,o)=>{if(hc(e)){return{text:e,offset:o}}else{const n=t();const s=e.childNodes;if(o<s.length){e.insertBefore(n,s[o]);return{marker:n,before:true}}else{e.appendChild(n);return{marker:n,before:false}}}};const n=o(e.endContainer,e.endOffset);const s=o(e.startContainer,e.startOffset);return{start:s,end:n}};const ZL=e=>{var t,o;const{start:n,end:s}=e;const r=new window.Range;if(FL(n)){r.setStart(n.text,n.offset)}else{if(VL(n)){if(n.before){r.setStartBefore(n.marker)}else{r.setStartAfter(n.marker)}(t=n.marker.parentNode)===null||t===void 0?void 0:t.removeChild(n.marker)}}if(FL(s)){r.setEnd(s.text,s.offset)}else{if(VL(s)){if(s.before){r.setEndBefore(s.marker)}else{r.setEndAfter(s.marker)}(o=s.marker.parentNode)===null||o===void 0?void 0:o.removeChild(s.marker)}}return r};const UL=(e,t)=>{var o;const n=e.dom;const s=n.getParent(e.selection.getStart(),n.isBlock);const r=n.getParent(e.selection.getEnd(),n.isBlock);const a=e.getBody();const c=(o=s===null||s===void 0?void 0:s.nodeName)===null||o===void 0?void 0:o.toLowerCase();if(c==="div"&&s&&r&&s===a.firstChild&&r===a.lastChild&&!n.isEmpty(a)){const o=s.cloneNode(false);const n=()=>{if(t){Qx(e)}else{Jx(e)}if(a.firstChild!==s){const t=jL(e.selection.getRng(),()=>document.createElement("span"));Array.from(a.childNodes).forEach(e=>o.appendChild(e));a.appendChild(o);e.selection.setRng(ZL(t))}};return U.some(n)}return U.none()};const qL=(e,t)=>{const o=Af.fromRangeStart(e.selection.getRng());return vy(t,e.getBody(),o).filter(e=>t?h_(e):y_(e)).bind(e=>Fh(t?0:-1,e)).map(t=>()=>e.selection.select(t))};const $L=(e,t)=>e.selection.isCollapsed()?qL(e,t):U.none();const WL=hc;const GL=e=>WL(e)&&e.data[0]===uu;const KL=e=>WL(e)&&e.data[e.data.length-1]===uu;const YL=e=>{var t;const o=(t=e.ownerDocument)!==null&&t!==void 0?t:document;return o.createTextNode(uu)};const XL=e=>{var t;if(WL(e.previousSibling)){if(KL(e.previousSibling)){return e.previousSibling}else{e.previousSibling.appendData(uu);return e.previousSibling}}else if(WL(e)){if(GL(e)){return e}else{e.insertData(0,uu);return e}}else{const o=YL(e);(t=e.parentNode)===null||t===void 0?void 0:t.insertBefore(o,e);return o}};const JL=e=>{var t,o;if(WL(e.nextSibling)){if(GL(e.nextSibling)){return e.nextSibling}else{e.nextSibling.insertData(0,uu);return e.nextSibling}}else if(WL(e)){if(KL(e)){return e}else{e.appendData(uu);return e}}else{const n=YL(e);if(e.nextSibling){(t=e.parentNode)===null||t===void 0?void 0:t.insertBefore(n,e.nextSibling)}else{(o=e.parentNode)===null||o===void 0?void 0:o.appendChild(n)}return n}};const QL=(e,t)=>e?XL(t):JL(t);const eH=H(QL,true);const tH=H(QL,false);const oH=(e,t)=>{if(hc(e.container())){return QL(t,e.container())}else{return QL(t,e.getNode())}};const nH=(e,t)=>{const o=t.get();return o&&e.container()===o&&bu(o)};const sH=(e,t)=>t.fold(t=>{mh(e.get());const o=eH(t);e.set(o);return U.some(Af(o,o.length-1))},t=>Sy(t).map(t=>{if(!nH(t,e)){mh(e.get());const o=oH(t,true);e.set(o);return Af(o,1)}else{const t=e.get();return Af(t,1)}}),t=>zy(t).map(t=>{if(!nH(t,e)){mh(e.get());const o=oH(t,false);e.set(o);return Af(o,o.length-1)}else{const t=e.get();return Af(t,t.length-1)}}),t=>{mh(e.get());const o=tH(t);e.set(o);return U.some(Af(o,1))});const rH=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o].apply(null,t);if(n.isSome()){return n}}return U.none()};const aH=He.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]);const cH=(e,t)=>{const o=Ih(t,e);return o?o:e};const iH=(e,t,o)=>{const n=Gx(o);const s=cH(t,n.container());return Ux(e,s,n).fold(()=>xy(s,n).bind(H(Ux,e,s)).map(e=>aH.before(e)),U.none)};const lH=(e,t)=>Oy(e,t)===null;const dH=(e,t,o)=>Ux(e,t,o).filter(H(lH,t));const uH=(e,t,o)=>{const n=Kx(o);return dH(e,t,n).bind(e=>{const t=Cy(e,n);return t.isNone()?U.some(aH.start(e)):U.none()})};const fH=(e,t,o)=>{const n=Gx(o);return dH(e,t,n).bind(e=>{const t=xy(e,n);return t.isNone()?U.some(aH.end(e)):U.none()})};const mH=(e,t,o)=>{const n=Kx(o);const s=cH(t,n.container());return Ux(e,s,n).fold(()=>Cy(s,n).bind(H(Ux,e,s)).map(e=>aH.after(e)),U.none)};const gH=e=>!jx(hH(e));const pH=(e,t,o)=>{const n=rH([iH,uH,fH,mH],[e,t,o]);return n.filter(gH)};const hH=e=>e.fold(B,B,B,B);const yH=e=>e.fold(R("before"),R("start"),R("end"),R("after"));const bH=e=>e.fold(aH.before,aH.before,aH.after,aH.after);const vH=e=>e.fold(aH.start,aH.start,aH.end,aH.end);const kH=(e,t)=>yH(e)===yH(t)&&hH(e)===hH(t);const wH=(e,t,o,n,s,r)=>ot(Ux(t,o,n),Ux(t,o,s),(t,n)=>{if(t!==n&&qx(o,t,n)){return aH.after(e?t:n)}else{return r}}).getOr(r);const _H=(e,t)=>e.fold(Z,e=>!kH(e,t));const xH=(e,t,o,n,s)=>{const r=Wx(e,s);const a=vy(e,o,r).map(H(Wx,e));const c=a.fold(()=>n.map(bH),s=>pH(t,o,s).map(H(wH,e,t,o,r,s)).filter(H(_H,n)));return c.filter(gH)};const CH=(e,t)=>{if(e){return t.fold(M(U.some,aH.start),U.none,M(U.some,aH.after),U.none)}else{return t.fold(U.none,M(U.some,aH.before),U.none,M(U.some,aH.end))}};const SH=(e,t,o,n)=>{const s=Wx(e,n);const r=pH(t,o,s);return pH(t,o,s).bind(H(CH,e)).orThunk(()=>xH(e,t,o,r,n))};const zH=e=>E(e.selection.getSel().modify);const TH=(e,t,o)=>{const n=e?1:-1;t.setRng(Af(o.container(),o.offset()+n).toRange());t.getSel().modify("move",e?"forward":"backward","word");return true};const EH=(e,t)=>{const o=t.selection.getRng();const n=e?Af.fromRangeEnd(o):Af.fromRangeStart(o);if(!zH(t)){return false}else if(e&&_u(n)){return TH(true,t.selection,n)}else if(!e&&xu(n)){return TH(false,t.selection,n)}else{return false}};var OH;(function(e){e[e["Br"]=0]="Br";e[e["Block"]=1]="Block";e[e["Wrap"]=2]="Wrap";e[e["Eol"]=3]="Eol"})(OH||(OH={}));const AH=(e,t)=>e===-1?ue(t):t;const DH=(e,t,o)=>e===1?t.next(o):t.prev(o);const MH=(e,t,o,n)=>{if(_c(n.getNode(t===1))){return OH.Br}else if(Ph(o,n)===false){return OH.Block}else{return OH.Wrap}};const NH=(e,t,o,n)=>{const s=uy(o);let r=n;const a=[];while(r){const n=DH(t,s,r);if(!n){break}if(_c(n.getNode(false))){if(t===1){return{positions:AH(t,a).concat([n]),breakType:OH.Br,breakAt:U.some(n)}}else{return{positions:AH(t,a),breakType:OH.Br,breakAt:U.some(n)}}}if(!n.isVisible()){r=n;continue}if(e(r,n)){const e=MH(o,t,r,n);return{positions:AH(t,a),breakType:e,breakAt:U.some(n)}}a.push(n);r=n}return{positions:AH(t,a),breakType:OH.Eol,breakAt:U.none()}};const RH=(e,t,o,n)=>t(o,n).breakAt.map(n=>{const s=t(o,n).positions;return e===-1?s.concat(n):[n].concat(s)}).getOr([]);const BH=(e,t)=>se(e,(e,o)=>e.fold(()=>U.some(o),n=>ot(he(n.getClientRects()),he(o.getClientRects()),(e,s)=>{const r=Math.abs(t-e.left);const a=Math.abs(t-s.left);return a<=r?o:n}).or(e)),U.none());const LH=(e,t)=>he(t.getClientRects()).bind(t=>BH(e,t.left));const HH=H(NH,Af.isAbove,-1);const IH=H(NH,Af.isBelow,1);const PH=H(RH,-1,HH);const FH=H(RH,1,IH);const VH=(e,t)=>HH(e,t).breakAt.isNone();const jH=(e,t)=>IH(e,t).breakAt.isNone();const ZH=e=>Sy(e).map(t=>[t].concat(IH(e,t).positions)).getOr([]);const UH=e=>zy(e).map(t=>HH(e,t).positions.concat(t)).getOr([]);const qH=(e,t)=>LH(PH(e,t),t);const $H=(e,t)=>LH(FH(e,t),t);const WH=zc;const GH=(e,t)=>Math.abs(e.left-t);const KH=(e,t)=>Math.abs(e.right-t);const YH=e=>Re(e,"node");const XH=(e,t)=>Ft(e,(e,o)=>{const n=Math.min(GH(e,t),KH(e,t));const s=Math.min(GH(o,t),KH(o,t));if(s===n&&YH(o)&&WH(o.node)){return o}if(s<n){return o}return e});const JH=e=>{const t=t=>J(t,t=>{const o=Du(t);o.node=e;return o});if(sc(e)){return t(e.getClientRects())}else if(hc(e)){const o=e.ownerDocument.createRange();o.setStart(e,0);o.setEnd(e,e.data.length);return t(o.getClientRects())}else{return[]}};const QH=e=>le(e,JH);var eI;(function(e){e[e["Up"]=-1]="Up";e[e["Down"]=1]="Down"})(eI||(eI={}));const tI=(e,t,o,n)=>{let s=n;while(s=Lh(s,e,lf,t)){if(o(s)){return}}};const oI=(e,t,o,n,s,r)=>{let a=0;const c=[];const i=n=>{let r=QH([n]);if(e===eI.Up){r=r.reverse()}for(let e=0;e<r.length;e++){const n=r[e];if(o(n,l)){continue}if(c.length>0&&t(n,jt(c))){a++}n.line=a;if(s(n)){return true}c.push(n)}return false};const l=jt(r.getClientRects());if(!l){return c}const d=r.getNode();if(d){i(d);tI(e,n,i,d)}return c};const nI=(e,t)=>t.line>e;const sI=(e,t)=>t.line===e;const rI=H(oI,eI.Up,Bu,Lu);const aI=H(oI,eI.Down,Lu,Bu);const cI=e=>jt(e.getClientRects());const iI=(e,t,o,n)=>{const s=uy(t);let r;let a;let c;let i;const l=[];let d=0;if(e===eI.Down){r=s.next;a=Lu;c=Bu;i=Af.after(n)}else{r=s.prev;a=Bu;c=Lu;i=Af.before(n)}const u=cI(i);do{if(!i.isVisible()){continue}const e=cI(i);if(c(e,u)){continue}if(l.length>0&&a(e,jt(l))){d++}const t=Du(e);t.position=i;t.line=d;if(o(t)){return l}l.push(t)}while(i=r(i));return l};const lI=e=>t=>nI(e,t);const dI=e=>t=>sI(e,t);const uI=(e,t)=>{e.selection.setRng(t);gw(e,e.selection.getRng())};const fI=(e,t,o)=>U.some(fL(e,t,o));const mI=(e,t,o,n,s,r)=>{const a=t===1;const c=uy(e.getBody());const i=H(Xh,a?c.next:c.prev);const l=a?n:s;if(!o.collapsed){const n=Vu(o);if(r(n)){return iL(t,e,n,t===-1,false)}else if(kL(e)){const e=o.cloneRange();e.collapse(t===-1);return U.from(e)}}const d=Gh(t,e.getBody(),o);if(l(d)){return dL(e,d.getNode(!a))}let u=i(d);const f=Ou(o);if(!u){return f?U.some(o):U.none()}else{u=Wx(a,u)}if(l(u)){return iL(t,e,u.getNode(!a),a,false)}const m=i(u);if(m&&l(m)){if(Jh(u,m)){return iL(t,e,m.getNode(!a),a,false)}}if(f){return fI(e,u.toRange(),false)}return U.none()};const gI=(e,t,o,n,s,r)=>{const a=Gh(t,e.getBody(),o);const c=jt(a.getClientRects());const i=t===eI.Down;const l=e.getBody();if(!c){return U.none()}if(kL(e)){const e=i?Af.fromRangeEnd(o):Af.fromRangeStart(o);const t=!i?qH:$H;return t(l,e).orThunk(()=>U.from(e)).map(e=>e.toRange())}const d=i?aI:rI;const u=d(l,lI(1),a);const f=oe(u,dI(1));const m=c.left;const g=XH(f,m);if(g&&r(g.node)){const o=Math.abs(m-g.left);const n=Math.abs(m-g.right);return iL(t,e,g.node,o<n,false)}let p;if(n(a)){p=a.getNode()}else if(s(a)){p=a.getNode(true)}else{p=Vu(o)}if(p){const o=iI(t,l,lI(1),p);let n=XH(oe(o,dI(1)),m);if(n){return fI(e,n.position.toRange(),false)}n=jt(oe(o,dI(0)));if(n){return fI(e,n.position.toRange(),false)}}if(f.length===0){return pI(e,i).filter(i?s:n).map(t=>fL(e,t.toRange(),false))}return U.none()};const pI=(e,t)=>{const o=e.selection.getRng();const n=t?Af.fromRangeEnd(o):Af.fromRangeStart(o);const s=Hh(n.container(),e.getBody());if(t){const e=IH(s,n);return ye(e.positions)}else{const e=HH(s,n);return he(e.positions)}};const hI=(e,t,o)=>pI(e,t).filter(o).exists(t=>{e.selection.setRng(t.toRange());return true});const yI=(e,t)=>{const o=e.dom.createRng();o.setStart(t.container(),t.offset());o.setEnd(t.container(),t.offset());e.selection.setRng(o)};const bI=(e,t)=>{if(e){t.setAttribute("data-mce-selected","inline-boundary")}else{t.removeAttribute("data-mce-selected")}};const vI=(e,t,o)=>sH(t,o).map(t=>{yI(e,t);return o});const kI=(e,t,o)=>{const n=Af.fromRangeStart(e);if(e.collapsed){return n}else{const s=Af.fromRangeEnd(e);return o?Cy(t,s).getOr(s):xy(t,n).getOr(n)}};const wI=(e,t,o)=>{const n=e.getBody();const s=kI(e.selection.getRng(),n,o);const r=H(Vx,e);const a=SH(o,r,n,s);return a.bind(o=>vI(e,t,o))};const _I=(e,t,o)=>{const n=J(sa(rn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),e=>e.dom);const s=oe(n,e);const r=oe(o,e);Q(fe(s,r),H(bI,false));Q(fe(r,s),H(bI,true))};const xI=(e,t)=>{const o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){const n=Af.fromRangeStart(e.selection.getRng());if(Af.isTextPosition(n)&&!$x(n)){yI(e,fh(o,n));t.set(null)}}};const CI=(e,t,o,n)=>{if(t.selection.isCollapsed()){const s=oe(n,e);Q(s,n=>{const s=Af.fromRangeStart(t.selection.getRng());pH(e,t.getBody(),s).bind(e=>vI(t,o,e))})}};const SI=(e,t,o)=>$g(e)?wI(e,t,o).isSome():false;const zI=(e,t,o)=>$g(t)?EH(e,t):false;const TI=e=>{const t=Ie(null);const o=H(Vx,e);e.on("NodeChange",n=>{if($g(e)){_I(o,e.dom,n.parents);xI(e,t);CI(o,e,t,n.parents)}});return t};const EI=H(zI,true);const OI=H(zI,false);const AI=(e,t,o)=>{if($g(e)){const n=pI(e,t).getOrThunk(()=>{const o=e.selection.getRng();return t?Af.fromRangeEnd(o):Af.fromRangeStart(o)});return pH(H(Vx,e),e.getBody(),n).exists(t=>{const n=bH(t);return sH(o,n).exists(t=>{yI(e,t);return true})})}else{return false}};const DI=(e,t)=>{const o=document.createRange();o.setStart(e.container(),e.offset());o.setEnd(t.container(),t.offset());return o};const MI=e=>ot(Sy(e),zy(e),(t,o)=>{const n=Wx(true,t);const s=Wx(false,o);return xy(e,n).forall(e=>e.isEqual(s))}).getOr(true);const NI=(e,t)=>o=>sH(t,o).map(t=>()=>yI(e,t));const RI=(e,t,o,n)=>{const s=e.getBody();const r=H(Vx,e);e.undoManager.ignore(()=>{e.selection.setRng(DI(o,n));Jx(e);pH(r,s,Af.fromRangeStart(e.selection.getRng())).map(vH).bind(NI(e,t)).each(V)});e.nodeChanged()};const BI=(e,t)=>{const o=Ih(t,e);return o?o:e};const LI=(e,t,o,n)=>{const s=BI(e.getBody(),n.container());const r=H(Vx,e);const a=pH(r,s,n);const c=a.bind(e=>{if(o){return e.fold(R(U.some(vH(e))),U.none,R(U.some(bH(e))),U.none)}else{return e.fold(U.none,R(U.some(bH(e))),U.none,R(U.some(vH(e))))}});return c.map(NI(e,t)).getOrThunk(()=>{const c=ky(o,s,n);const i=c.bind(e=>pH(r,s,e));return ot(a,i,()=>Ux(r,s,n).bind(t=>{if(MI(t)){return U.some(()=>{Ix(e,o,rn.fromDom(t))})}else{return U.none()}})).getOrThunk(()=>i.bind(()=>c.map(s=>()=>{if(o){RI(e,t,n,s)}else{RI(e,t,s,n)}})))})};const HI=(e,t,o)=>{if(e.selection.isCollapsed()&&$g(e)){const n=Af.fromRangeStart(e.selection.getRng());return LI(e,t,o,n)}return U.none()};const II=e=>es(e)>1;const PI=(e,t)=>{const o=rn.fromDom(e.getBody());const n=rn.fromDom(e.selection.getStart());const s=T_(n,o);return ce(s,t).fold(R(s),e=>s.slice(0,e))};const FI=e=>es(e)===1;const VI=e=>PI(e,t=>e.schema.isBlock(En(t))||II(t));const jI=e=>PI(e,t=>e.schema.isBlock(En(t)));const ZI=(e,t)=>{const o=H(tT,e);return le(t,e=>o(e)?[e.dom]:[])};const UI=e=>{const t=jI(e);return ZI(e,t)};const qI=(e,t,o,n)=>{const s=ZI(t,n);if(s.length===0){Ix(t,e,o)}else{const e=Qz(o.dom,s);t.selection.setRng(e.toRange())}};const $I=(e,t)=>{const o=oe(VI(e),FI);return ye(o).bind(n=>{const s=Af.fromRangeStart(e.selection.getRng());if(sC(t,s,n.dom)&&!Kb(n)){return U.some(()=>qI(t,e,n,o))}else{return U.none()}})};const WI=(e,t)=>{const o=t.parentElement;return _c(t)&&!x(o)&&e.dom.isEmpty(o)};const GI=e=>Kb(rn.fromDom(e));const KI=(e,t)=>{const o=e.selection.getStart();const n=WI(e,o)||GI(o)?Qz(o,t):eT(e.selection.getRng(),t);e.selection.setRng(n.toRange())};const YI=(e,t)=>{const o=fe(t,UI(e));if(o.length>0){KI(e,o)}};const XI=e=>hc(e.startContainer);const JI=e=>e.startOffset===0&&XI(e);const QI=(e,t)=>{const o=t.startContainer.parentElement;return!x(o)&&tT(e,rn.fromDom(o))};const eP=e=>{const t=e.startContainer.parentNode;const o=e.endContainer.parentNode;return!x(t)&&!x(o)&&t.isEqualNode(o)};const tP=e=>{const t=e.endContainer;return e.endOffset===(hc(t)?t.length:t.childNodes.length)};const oP=e=>eP(e)&&tP(e);const nP=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer);const sP=e=>oP(e)||nP(e);const rP=e=>{const t=e.selection.getRng();return JI(t)&&QI(e,t)&&sP(t)};const aP=e=>{if(rP(e)){const t=UI(e);return U.some(()=>{Jx(e);YI(e,t)})}else{return U.none()}};const cP=(e,t)=>e.selection.isCollapsed()?$I(e,t):aP(e);const iP=(e,t)=>ra(e,e=>Ey(e.dom),e=>t.isBlock(En(e)));const lP=e=>iP(rn.fromDom(e.selection.getStart()),e.schema);const dP=e=>{const t=e.selection.getRng();return t.collapsed&&(XI(t)||e.dom.isEmpty(t.startContainer))&&!lP(e)};const uP=e=>{if(dP(e)){KI(e,[])}return true};const fP=(e,t,o)=>{if(T(o)){return U.some(()=>{e._selectionOverrides.hideFakeCaret();Ix(e,t,rn.fromDom(o))})}else{return U.none()}};const mP=(e,t)=>{const o=t?b_:v_;const n=t?1:-1;const s=Gh(n,e.getBody(),e.selection.getRng());if(o(s)){return fP(e,t,s.getNode(!t))}else{return U.from(Wx(t,s)).filter(e=>o(e)&&Jh(s,e)).bind(o=>fP(e,t,o.getNode(!t)))}};const gP=(e,t)=>{const o=e.selection.getNode();return Ac(o)?fP(e,t,o):U.none()};const pP=(e,t)=>e.selection.isCollapsed()?mP(e,t):gP(e,t);const hP=e=>Nr(e,e=>Sc(e.dom)||zc(e.dom)).exists(e=>Sc(e.dom));const yP=e=>Ct(e!==null&&e!==void 0?e:"").getOr(0);const bP=(e,t)=>{const o=e||Jd(t)?"margin":"padding";const n=sr(t,"direction")==="rtl"?"-right":"-left";return o+n};const vP=(e,t,o,n,s,r)=>{const a=bP(o,rn.fromDom(r));const c=yP(e.getStyle(r,a));if(t==="outdent"){const t=Math.max(0,c-n);e.setStyle(r,a,t?t+s:"")}else{const t=c+n+s;e.setStyle(r,a,t)}};const kP=(e,t)=>de(t,t=>{const o=bP(Ag(e),t);const n=ar(t,o).map(yP).getOr(0);const s=e.dom.getContentEditable(t.dom);return s!=="false"&&n>0});const wP=e=>{const t=CP(e);return!e.mode.isReadOnly()&&(t.length>1||kP(e,t))};const _P=e=>tu(e)||ou(e);const xP=e=>jn(e).exists(_P);const CP=e=>oe(Gs(e.selection.getSelectedBlocks()),e=>!_P(e)&&!xP(e)&&hP(e));const SP=(e,t)=>{var o,n;if(e.mode.isReadOnly()){return}const{dom:s}=e;const r=Dg(e);const a=(n=(o=/[a-z%]+$/i.exec(r))===null||o===void 0?void 0:o[0])!==null&&n!==void 0?n:"px";const c=yP(r);const i=Ag(e);Q(CP(e),e=>{vP(s,t,i,c,a,e.dom)})};const zP=e=>SP(e,"indent");const TP=e=>SP(e,"outdent");const EP=e=>{if(e.selection.isCollapsed()&&wP(e)){const t=e.dom;const o=e.selection.getRng();const n=Af.fromRangeStart(o);const s=t.getParent(o.startContainer,t.isBlock);if(s!==null&&N_(rn.fromDom(s),n,e.schema)){return U.some(()=>TP(e))}}return U.none()};const OP=(e,t,o)=>ve([EP,PL,bL,(e,o)=>HI(e,t,o),eL,sS,$L,pP,cL,cP,UL],t=>t(e,o)).filter(t=>e.selection.isEditable());const AP=(e,t)=>{const o=OP(e,t,false);o.fold(()=>{if(e.selection.isEditable()){Jx(e);nC(e)}},V)};const DP=(e,t)=>{const o=OP(e,t,true);o.fold(()=>{if(e.selection.isEditable()){Qx(e)}},V)};const MP=(e,t)=>{e.addCommand("delete",()=>{AP(e,t)});e.addCommand("forwardDelete",()=>{DP(e,t)})};const NP=5;const RP=400;const BP=e=>{if(e.touches===undefined||e.touches.length!==1){return U.none()}return U.some(e.touches[0])};const LP=(e,t)=>{const o=Math.abs(e.clientX-t.x);const n=Math.abs(e.clientY-t.y);return o>NP||n>NP};const HP=e=>{const t=dt();const o=Ie(false);const n=zt(t=>{e.dispatch("longpress",{...t,type:"longpress"});o.set(true)},RP);e.on("touchstart",e=>{BP(e).each(s=>{n.cancel();const r={x:s.clientX,y:s.clientY,target:e.target};n.throttle(e);o.set(false);t.set(r)})},true);e.on("touchmove",s=>{n.cancel();BP(s).each(n=>{t.on(s=>{if(LP(n,s)){t.clear();o.set(false);e.dispatch("longpresscancel")}})})},true);e.on("touchend touchcancel",s=>{n.cancel();if(s.type==="touchcancel"){return}t.get().filter(e=>e.target.isEqualNode(s.target)).each(()=>{if(o.get()){s.preventDefault()}else{e.dispatch("tap",{...s,type:"tap"})}})},true)};const IP=(e,t)=>Ne(e,t.nodeName);const PP=(e,t)=>{if(hc(t)){return true}else if(sc(t)){return!IP(e.getBlockElements(),t)&&!Xy(t)&&!mi(e,t)&&!Gc(t)}else{return false}};const FP=(e,t,o)=>X(z_(rn.fromDom(o),rn.fromDom(t)),t=>IP(e,t.dom));const VP=(e,t)=>{if(hc(t)){if(t.data.length===0){return true}else if(/^\s+$/.test(t.data)){return!t.nextSibling||IP(e,t.nextSibling)||Gc(t.nextSibling)}}return false};const jP=e=>e.dom.create(dg(e),ug(e));const ZP=e=>{const t=e.dom,o=e.selection;const n=e.schema;const s=n.getBlockElements();const r=o.getStart();const a=e.getBody();let c;let i;let l=null;const d=dg(e);if(!r||!sc(r)){return}const u=a.nodeName.toLowerCase();if(!n.isValidChild(u,d.toLowerCase())||FP(s,a,r)){return}if(a.firstChild===a.lastChild&&_c(a.firstChild)){c=jP(e);c.appendChild(iu().dom);a.replaceChild(c,a.firstChild);e.selection.setCursorLocation(c,0);e.nodeChanged();return}let f=a.firstChild;while(f){if(sc(f)){ii(n,f)}if(PP(n,f)){if(VP(s,f)){i=f;f=f.nextSibling;t.remove(i);continue}if(!c){if(!l&&e.hasFocus()){l=jL(e.selection.getRng(),()=>document.createElement("span"))}if(!f.parentNode){f=null;break}c=jP(e);a.insertBefore(c,f)}i=f;f=f.nextSibling;c.appendChild(i)}else{c=null;f=f.nextSibling}}if(l){e.selection.setRng(ZL(l));e.nodeChanged()}};const UP=(e,t,o)=>{const n=rn.fromDom(jP(e));const s=iu();zs(n,s);o(t,n);const r=document.createRange();r.setStartBefore(s.dom);r.setEndBefore(s.dom);return r};const qP=e=>{e.on("NodeChange",()=>ZP(e))};const $P=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1;const WP=(e,t,o)=>function(n){const s=arguments,r=s[s.length-2];const a=r>0?t.charAt(r-1):"";if(a==='"'){return n}if(a===">"){const e=t.lastIndexOf("<",r);if(e!==-1){const o=t.substring(e,r);if(o.indexOf('contenteditable="false"')!==-1){return n}}}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(s[0])+'">'+e.dom.encode(typeof s[1]==="string"?s[1]:s[0])+"</span>"};const GP=(e,t,o)=>{let n=t.length,s=o.content;if(o.format==="raw"){return}while(n--){s=s.replace(t[n],WP(e,s,Bp(e)))}o.content=s};const KP=(e,t)=>de(e,e=>{const o=t.match(e);return o!==null&&o[0].length===t.length});const YP=e=>{const t="contenteditable";const o=" "+Qo.trim(Lp(e))+" ";const n=" "+Qo.trim(Bp(e))+" ";const s=$P(o);const r=$P(n);const a=Hp(e);if(a.length>0){e.on("BeforeSetContent",t=>{GP(e,a,t)})}e.parser.addAttributeFilter("class",e=>{let o=e.length;while(o--){const n=e[o];if(s(n)){n.attr(t,"true")}else if(r(n)){n.attr(t,"false")}}});e.serializer.addAttributeFilter(t,e=>{let o=e.length;while(o--){const n=e[o];if(!s(n)&&!r(n)){continue}const c=n.attr("data-mce-content");if(a.length>0&&c){if(KP(a,c)){n.name="#text";n.type=3;n.raw=true;n.value=c}else{n.remove()}}else{n.attr(t,null)}}})};const XP=e=>Ir(rn.fromDom(e.getBody()),"*[data-mce-caret]").map(e=>e.dom).getOrNull();const JP=(e,t)=>{if(t.hasAttribute("data-mce-caret")){Eu(t);e.selection.setRng(e.selection.getRng());e.selection.scrollIntoView(t)}};const QP=(e,t)=>{const o=XP(e);if(!o){return}if(t.type==="compositionstart"){t.preventDefault();t.stopPropagation();JP(e,o);return}if(ku(o)){JP(e,o);e.undoManager.add()}};const eF=e=>{e.on("keyup compositionstart",H(QP,e))};const tF=zc;const oF=(e,t,o)=>mI(t,e,o,__,x_,tF);const nF=(e,t,o)=>{const n=e=>__(e)||k_(e);const s=e=>x_(e)||w_(e);return gI(t,e,o,n,s,tF)};const sF=e=>{const t=e.dom.create(dg(e));t.innerHTML='<br data-mce-bogus="1">';return t};const rF=(e,t,o)=>{const n=uy(e.getBody());const s=H(Xh,t===1?n.next:n.prev);if(o.collapsed){const n=e.dom.getParent(o.startContainer,"PRE");if(!n){return}const r=s(Af.fromRangeStart(o));if(!r){const o=rn.fromDom(sF(e));if(t===1){Cs(rn.fromDom(n),o)}else{xs(rn.fromDom(n),o)}e.selection.select(o.dom,true);e.selection.collapse()}}};const aF=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return oF(o,e,n).orThunk(()=>{rF(e,o,n);return U.none()})};const cF=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return nF(o,e,n).orThunk(()=>{rF(e,o,n);return U.none()})};const iF=(e,t)=>{const o=t?e.getEnd(true):e.getStart(true);return jx(o)?!t:t};const lF=(e,t)=>aF(e,iF(e.selection,t)).exists(t=>{uI(e,t);return true});const dF=(e,t)=>cF(e,t).exists(t=>{uI(e,t);return true});const uF=(e,t)=>{const o=t?x_:__;return hI(e,t,o)};const fF=(e,t)=>vL(e,!t).map(o=>{const n=o.toRange();const s=e.selection.getRng();if(t){n.setStart(s.startContainer,s.startOffset)}else{n.setEnd(s.endContainer,s.endOffset)}return n}).exists(t=>{uI(e,t);return true});const mF=e=>Y(["figcaption"],En(e));const gF=(e,t,o)=>{const n=H(Sn,t);return Nr(rn.fromDom(e.container()),e=>o.isBlock(En(e)),n).filter(mF)};const pF=(e,t,o)=>t?jH(e.dom,o):VH(e.dom,o);const hF=(e,t)=>{const o=rn.fromDom(e.getBody());const n=Af.fromRangeStart(e.selection.getRng());return gF(n,o,e.schema).exists(()=>{if(pF(o,t,n)){const n=t?zs:Ss;const s=UP(e,o,n);e.selection.setRng(s);return true}else{return false}})};const yF=(e,t)=>{if(e.selection.isCollapsed()){return hF(e,t)}else{return false}};const bF=(e,t,o)=>{const n=e.selection.getRng();const s=Af.fromRangeStart(n);const r=e.getBody();if(r.firstChild===t&&VH(o,s)){e.execCommand("InsertNewBlockBefore");return true}else{return false}};const vF=(e,t)=>{const o=e.selection.getRng();const n=Af.fromRangeStart(o);const s=e.getBody();if(s.lastChild===t&&jH(t,n)){e.execCommand("InsertNewBlockAfter");return true}else{return false}};const kF=(e,t)=>{if(t){return U.from(e.dom.getParent(e.selection.getNode(),"details")).map(t=>vF(e,t)).getOr(false)}else{return U.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(t=>U.from(e.dom.getParent(t,"details")).map(o=>bF(e,o,t))).getOr(false)}};const wF=(e,t)=>kF(e,t);const _F={shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0};const xF=e=>J(e,e=>({..._F,...e}));const CF=e=>J(e,e=>({..._F,...e}));const SF=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey;const zF=(e,t)=>le(xF(e),e=>SF(e,t)?[e]:[]);const TF=(e,t)=>le(CF(e),e=>SF(e,t)?[e]:[]);const EF=(e,...t)=>()=>e.apply(null,t);const OF=(e,t)=>ae(zF(e,t),e=>e.action());const AF=(e,t)=>ve(TF(e,t),e=>e.action());const DF=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return mI(e,o,n,b_,v_,Ac).exists(t=>{uI(e,t);return true})};const MF=(e,t)=>{const o=t?1:-1;const n=e.selection.getRng();return gI(e,o,n,b_,v_,Ac).exists(t=>{uI(e,t);return true})};const NF=(e,t)=>{const o=t?v_:b_;return hI(e,t,o)};const RF=(e,t)=>BF(e,t,Z);const BF=(e,t,o)=>le(Yn(e),e=>{if(wn(e,t)){return o(e)?[e]:[]}else{return BF(e,t,o)}});const LF=(e,t,o=j)=>{if(o(t)){return U.none()}if(Y(e,En(t))){return U.some(t)}const n=e=>wn(e,"table")||o(e);return Hr(t,e.join(","),n)};const HF=(e,t)=>LF(["td","th"],e,t);const IF=e=>RF(e,"th,td");const PF=(e,t)=>Pr(e,"table",t);const FF=He.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]);const VF=e=>FF.none(e);const jF={...FF,none:VF};const ZF=(e,t,o,n,s=Z)=>{const r=n===1;if(!r&&o<=0){return jF.first(e[0])}else if(r&&o>=e.length-1){return jF.last(e[e.length-1])}else{const r=o+n;const a=e[r];return s(a)?jF.middle(t,a):ZF(e,t,r,n,s)}};const UF=(e,t)=>PF(e,t).bind(t=>{const o=IF(t);const n=ce(o,t=>Sn(e,t));return n.map(e=>({index:e,all:o}))});const qF=(e,t,o)=>{const n=UF(e,o);return n.fold(()=>jF.none(e),o=>ZF(o.all,e,o.index,1,t))};const $F=(e,t,o)=>{const n=UF(e,o);return n.fold(()=>jF.none(),o=>ZF(o.all,e,o.index,-1,t))};const WF=We("image");const GF=e=>{const t=e;return U.from(t[WF])};const KF=(e,t)=>{const o=e;o[WF]=t};const YF=We("event");const XF=e=>{const t=e;return U.from(t[YF])};const JF=e=>t=>{const o=t;o[YF]=e};const QF=(e,t)=>JF(t)(e);const eV=JF(0);const tV=JF(2);const oV=JF(1);const nV=e=>t=>{const o=t;return U.from(o[YF]).exists(t=>t===e)};const sV=nV(0);const rV=()=>Object.freeze({length:0,item:e=>null});const aV=We("mode");const cV=e=>{const t=e;return U.from(t[aV])};const iV=e=>t=>{const o=t;o[aV]=e};const lV=(e,t)=>iV(t)(e);const dV=iV(0);const uV=iV(2);const fV=iV(1);const mV=e=>t=>{const o=t;return U.from(o[aV]).exists(t=>t===e)};const gV=mV(0);const pV=mV(1);const hV=(e,t)=>({...t,get length(){return t.length},add:(o,n)=>{if(gV(e)){if(v(o)){if(!S(n)){return t.add(o,n)}}else{return t.add(o)}}return null},remove:o=>{if(gV(e)){t.remove(o)}},clear:()=>{if(gV(e)){t.clear()}}});const yV=["none","copy","link","move"];const bV=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"];const vV=()=>{const e=new window.DataTransfer;let t="move";let o="all";const n={get dropEffect(){return t},set dropEffect(e){if(Y(yV,e)){t=e}},get effectAllowed(){return o},set effectAllowed(e){if(sV(n)&&Y(bV,e)){o=e}},get items(){return hV(n,e.items)},get files(){if(pV(n)){return rV()}else{return e.files}},get types(){return e.types},setDragImage:(t,o,s)=>{if(gV(n)){KF(n,{image:t,x:o,y:s});e.setDragImage(t,o,s)}},getData:t=>{if(pV(n)){return""}else{return e.getData(t)}},setData:(t,o)=>{if(gV(n)){e.setData(t,o)}},clearData:t=>{if(gV(n)){e.clearData(t)}}};dV(n);return n};const kV=e=>{const t=vV();const o=cV(e);uV(e);eV(t);t.dropEffect=e.dropEffect;t.effectAllowed=e.effectAllowed;GF(e).each(e=>t.setDragImage(e.image,e.x,e.y));Q(e.types,o=>{if(o!=="Files"){t.setData(o,e.getData(o))}});Q(e.files,e=>t.items.add(e));XF(e).each(e=>{QF(t,e)});o.each(o=>{lV(e,o);lV(t,o)});return t};const wV=e=>{const t=e.getData("text/html");return t===""?U.none():U.some(t)};const _V=(e,t)=>e.setData("text/html",t);const xV=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t});const CV=(e,t)=>le(t,t=>{const o=xV(Du(t.getBoundingClientRect()),-1);return[{x:o.left,y:e(o),cell:t},{x:o.right,y:e(o),cell:t}]});const SV=(e,t,o)=>se(e,(e,n)=>e.fold(()=>U.some(n),e=>{const s=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-o));const r=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-o));return U.some(r<s?n:e)}),U.none());const zV=(e,t,o,n,s)=>{const r=sa(rn.fromDom(o),"td,th,caption").map(e=>e.dom);const a=oe(CV(e,r),e=>t(e,s));return SV(a,n,s).map(e=>e.cell)};const TV=e=>e.bottom;const EV=e=>e.top;const OV=(e,t)=>e.y<t;const AV=(e,t)=>e.y>t;const DV=H(zV,TV,OV);const MV=H(zV,EV,AV);const NV=(e,t)=>he(t.getClientRects()).bind(t=>DV(e,t.left,t.top)).bind(e=>LH(UH(e),t));const RV=(e,t)=>ye(t.getClientRects()).bind(t=>MV(e,t.left,t.top)).bind(e=>LH(ZH(e),t));const BV=(e,t,o)=>o.breakAt.exists(o=>e(t,o).breakAt.isSome());const LV=e=>e.breakType===OH.Wrap&&e.positions.length===0;const HV=e=>e.breakType===OH.Br&&e.positions.length===1;const IV=(e,t,o)=>{const n=e(t,o);if(LV(n)||!_c(o.getNode())&&HV(n)){return!BV(e,t,n)}else{return n.breakAt.isNone()}};const PV=H(IV,HH);const FV=H(IV,IH);const VV=(e,t,o)=>{const n=Af.fromRangeStart(t);return _y(!e,o).exists(e=>e.isEqual(n))};const jV=(e,t,o,n)=>{const s=e.selection.getRng();const r=t?1:-1;if(wh()&&VV(t,s,o)){iL(r,e,o,!t,false).each(t=>{uI(e,t)});return true}return false};const ZV=(e,t,o)=>NV(t,o).orThunk(()=>he(o.getClientRects()).bind(o=>BH(PH(e,Af.before(t)),o.left))).getOr(Af.before(t));const UV=(e,t,o)=>RV(t,o).orThunk(()=>he(o.getClientRects()).bind(o=>BH(FH(e,Af.after(t)),o.left))).getOr(Af.after(t));const qV=(e,t)=>{const o=t.getNode(e);return mc(o)?U.some(o):U.none()};const $V=(e,t,o)=>{t.undoManager.transact(()=>{const n=e?Cs:xs;const s=UP(t,rn.fromDom(o),n);uI(t,s)})};const WV=(e,t,o)=>{const n=t?qV(true,o):qV(false,o);const s=t===false;n.fold(()=>uI(e,o.toRange()),n=>_y(s,e.getBody()).filter(e=>e.isEqual(o)).fold(()=>uI(e,o.toRange()),o=>$V(t,e,n)))};const GV=(e,t,o,n)=>{const s=e.selection.getRng();const r=Af.fromRangeStart(s);const a=e.getBody();if(!t&&PV(n,r)){const n=ZV(a,o,r);WV(e,t,n);return true}else if(t&&FV(n,r)){const n=UV(a,o,r);WV(e,t,n);return true}else{return false}};const KV=(e,t,o)=>U.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(n=>U.from(e.dom.getParent(n,"table")).map(s=>o(e,t,s,n))).getOr(false);const YV=(e,t)=>KV(e,t,jV);const XV=(e,t)=>KV(e,t,GV);const JV=e=>{const t=Ra.exact(e,0,e,0);return Za(t)};const QV=(e,t,o)=>o.fold(U.none,U.none,(e,t)=>ha(t).map(e=>JV(e)),o=>{if(e.mode.isReadOnly()||!ej(o)){return U.none()}e.execCommand("mceTableInsertRowAfter");return tj(e,t,o)});const ej=e=>Nr(e,Hn("table")).exists(Qr);const tj=(e,t,o)=>QV(e,t,qF(o,nj));const oj=(e,t,o)=>QV(e,t,$F(o,nj));const nj=e=>Qr(e)||ca(e,sj);const sj=e=>Mn(e)&&Qr(e);const rj=(e,t)=>{const o=["table","li","dl"];const n=rn.fromDom(e.getBody());const s=e=>{const t=En(e);return Sn(e,n)||Y(o,t)};const r=e.selection.getRng();const a=rn.fromDom(!t?r.startContainer:r.endContainer);return HF(a,s).map(o=>{PF(o,s).each(t=>{e.model.table.clearSelectedCells(t.dom)});e.selection.collapse(!t);const n=!t?oj:tj;const r=n(e,s,o);r.each(t=>{e.selection.setRng(t)});return true}).getOr(false)};const aj=(e,t,o)=>{const n=jo.os.isMacOS()||jo.os.isiOS();OF([{keyCode:Ck.RIGHT,action:EF(lF,e,true)},{keyCode:Ck.LEFT,action:EF(lF,e,false)},{keyCode:Ck.UP,action:EF(dF,e,false)},{keyCode:Ck.DOWN,action:EF(dF,e,true)},...n?[{keyCode:Ck.UP,action:EF(fF,e,false),metaKey:true,shiftKey:true},{keyCode:Ck.DOWN,action:EF(fF,e,true),metaKey:true,shiftKey:true}]:[],{keyCode:Ck.RIGHT,action:EF(YV,e,true)},{keyCode:Ck.LEFT,action:EF(YV,e,false)},{keyCode:Ck.UP,action:EF(XV,e,false)},{keyCode:Ck.DOWN,action:EF(XV,e,true)},{keyCode:Ck.UP,action:EF(XV,e,false)},{keyCode:Ck.UP,action:EF(wF,e,false)},{keyCode:Ck.DOWN,action:EF(wF,e,true)},{keyCode:Ck.RIGHT,action:EF(DF,e,true)},{keyCode:Ck.LEFT,action:EF(DF,e,false)},{keyCode:Ck.UP,action:EF(MF,e,false)},{keyCode:Ck.DOWN,action:EF(MF,e,true)},{keyCode:Ck.RIGHT,action:EF(SI,e,t,true)},{keyCode:Ck.LEFT,action:EF(SI,e,t,false)},{keyCode:Ck.RIGHT,ctrlKey:!n,altKey:n,action:EF(EI,e,t)},{keyCode:Ck.LEFT,ctrlKey:!n,altKey:n,action:EF(OI,e,t)},{keyCode:Ck.UP,action:EF(yF,e,false)},{keyCode:Ck.DOWN,action:EF(yF,e,true)}],o).each(e=>{o.preventDefault()})};const cj=(e,t)=>{e.on("keydown",o=>{if(!o.isDefaultPrevented()){aj(e,t,o)}})};const ij=(e,t)=>({container:e,offset:t});const lj=ad.DOM;const dj=e=>t=>e===t?-1:0;const uj=e=>t=>e.isBlock(t)||Y(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false";const fj=(e,t,o)=>{if(hc(e)&&t>=0){return U.some(ij(e,t))}else{const n=Ud(lj);return U.from(n.backwards(e,t,dj(e),o)).map(e=>ij(e.container,e.container.data.length))}};const mj=(e,t,o)=>{if(hc(e)&&t>=e.length){return U.some(ij(e,t))}else{const n=Ud(lj);return U.from(n.forwards(e,t,dj(e),o)).map(e=>ij(e.container,0))}};const gj=(e,t,o)=>{if(!hc(e)){return U.none()}const n=e.data;if(t>=0&&t<=n.length){return U.some(ij(e,t))}else{const n=Ud(lj);return U.from(n.backwards(e,t,dj(e),o)).bind(e=>{const n=e.container.data;return gj(e.container,t+n.length,o)})}};const pj=(e,t,o)=>{if(!hc(e)){return U.none()}const n=e.data;if(t<=n.length){return U.some(ij(e,t))}else{const s=Ud(lj);return U.from(s.forwards(e,t,dj(e),o)).bind(e=>pj(e.container,t-n.length,o))}};const hj=(e,t,o,n,s)=>{const r=Ud(e,uj(e));return U.from(r.backwards(t,o,n,s))};const yj=e=>e.collapsed&&hc(e.startContainer);const bj=e=>mu(e.toString().replace(/\u00A0/g," "));const vj=e=>e!==""&&"  \ufeff\f\n\r\t\v".indexOf(e)!==-1;const kj=(e,t)=>e.substring(t.length);const wj=(e,t,o,n=false)=>{let s;const r=o.charAt(0);for(s=t-1;s>=0;s--){const a=e.charAt(s);if(!n&&vj(a)){return U.none()}if(r===a&&gt(e,o,s,t)){break}}return U.some(s)};const _j=(e,t,o,n=false)=>{if(!yj(t)){return U.none()}const s={text:"",offset:0};const r=(e,t,r)=>{s.text=r+s.text;s.offset+=t;return wj(s.text,s.offset,o,n).getOr(t)};const a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return hj(e,t.startContainer,t.startOffset,r,a).bind(e=>{const n=t.cloneRange();n.setStart(e.container,e.offset);n.setEnd(t.endContainer,t.endOffset);if(n.collapsed){return U.none()}const s=bj(n);const r=s.lastIndexOf(o);if(r!==0){return U.none()}else{return U.some({text:kj(s,o),range:n,trigger:o})}})};const xj=e=>e.nodeType===kn;const Cj=e=>e.nodeType===vn;const Sj=e=>{if(xj(e)){return ij(e,e.data.length)}else{const t=e.childNodes;return t.length>0?Sj(t[t.length-1]):ij(e,t.length)}};const zj=(e,t)=>{const o=e.childNodes;if(o.length>0&&t<o.length){return zj(o[t],0)}else if(o.length>0&&Cj(e)&&o.length===t){return Sj(o[o.length-1])}else{return ij(e,t)}};const Tj=(e,t)=>{var o;const n=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return hj(e,t.container,t.offset,(e,t)=>t===0?-1:t,n).filter(e=>{const t=e.container.data.charAt(e.offset-1);return!vj(t)}).isSome()};const Ej=e=>t=>{const o=zj(t.startContainer,t.startOffset);return!Tj(e,o)};const Oj=(e,t,o)=>ve(o.triggers,o=>_j(e,t,o));const Aj=(e,t)=>{const o=t();const n=e.selection.getRng();return Oj(e.dom,n,o).bind(o=>Dj(e,t,o))};const Dj=(e,t,o,n={})=>{var s;const r=t();const a=e.selection.getRng();const c=(s=a.startContainer.nodeValue)!==null&&s!==void 0?s:"";const i=oe(r.lookupByTrigger(o.trigger),t=>o.text.length>=t.minChars&&t.matches.getOrThunk(()=>Ej(e.dom))(o.range,c,o.text));if(i.length===0){return U.none()}const l=Promise.all(J(i,e=>{const t=e.fetch(o.text,e.maxResults,n);return t.then(t=>({matchText:o.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))}));return U.some({lookupData:l,context:o})};var Mj;(function(e){e[e["Error"]=0]="Error";e[e["Value"]=1]="Value"})(Mj||(Mj={}));const Nj=(e,t,o)=>e.stype===Mj.Error?t(e.serror):o(e.svalue);const Rj=e=>{const t=[];const o=[];Q(e,e=>{Nj(e,e=>o.push(e),e=>t.push(e))});return{values:t,errors:o}};const Bj=(e,t)=>{if(e.stype===Mj.Error){return{stype:Mj.Error,serror:t(e.serror)}}else{return e}};const Lj=(e,t)=>{if(e.stype===Mj.Value){return{stype:Mj.Value,svalue:t(e.svalue)}}else{return e}};const Hj=(e,t)=>{if(e.stype===Mj.Value){return t(e.svalue)}else{return e}};const Ij=(e,t)=>{if(e.stype===Mj.Error){return t(e.serror)}else{return e}};const Pj=e=>({stype:Mj.Value,svalue:e});const Fj=e=>({stype:Mj.Error,serror:e});const Vj=e=>Nj(e,je.error,je.value);const jj=e=>e.fold(Fj,Pj);const Zj={fromResult:jj,toResult:Vj,svalue:Pj,partition:Rj,serror:Fj,bind:Hj,bindError:Ij,map:Lj,mapError:Bj,fold:Nj};const Uj=e=>k(e)&&we(e).length>100?" removed due to size":JSON.stringify(e,null,2);const qj=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:R("... (only showing first ten failures)")}]):e;return J(t,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())};const $j=(e,t)=>Zj.serror([{path:e,getErrorInfo:t}]);const Wj=(e,t,o)=>$j(e,()=>'Could not find valid *required* value for "'+t+'" in '+Uj(o));const Gj=(e,t)=>$j(e,R(t));const Kj=e=>{const t=(t,o)=>Zj.bindError(e(o),e=>Gj(t,e));const o=R("val");return{extract:t,toString:o}};const Yj=Kj(Zj.svalue);const Xj=R(Yj);const Jj=(e,t)=>Kj(o=>{const n=typeof o;return e(o)?Zj.svalue(o):Zj.serror(`Expected type: ${t} but got: ${n}`)});const Qj=Jj(O,"number");const eZ=Jj(v,"string");const tZ=Jj(C,"boolean");const oZ=Jj(E,"function");const nZ=e=>{if(Object(e)!==e){return true}switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true;case"Array":case"Object":return Object.keys(e).every(t=>nZ(e[t]));default:return false}};Kj(e=>{if(nZ(e)){return Zj.svalue(e)}else{return Zj.serror("Expected value to be acceptable for sending via postMessage")}});const sZ=()=>({tag:"required",process:{}});const rZ=e=>({tag:"defaultedThunk",process:e});const aZ=e=>rZ(R(e));const cZ=()=>({tag:"option",process:{}});const iZ=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n});const lZ=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}};const dZ=(e,t)=>e.length>0?Zj.svalue(Xe(t,Je.apply(undefined,e))):Zj.svalue(t);const uZ=e=>M(Zj.serror,ie)(e);const fZ=(e,t)=>{const o=Zj.partition(e);return o.errors.length>0?uZ(o.errors):dZ(o.values,t)};const mZ=e=>{const t=Zj.partition(e);return t.errors.length>0?uZ(t.errors):Zj.svalue(t.values)};const gZ={consolidateObj:fZ,consolidateArr:mZ};const pZ=(e,t,o,n)=>Me(t,o).fold(()=>Wj(e,o,t),n);const hZ=(e,t,o,n)=>{const s=Me(e,t).getOrThunk(()=>o(e));return n(s)};const yZ=(e,t,o)=>o(Me(e,t));const bZ=(e,t,o,n)=>{const s=Me(e,t).map(t=>t===true?o(e):t);return n(s)};const vZ=(e,t,o,n,s)=>{const r=e=>s.extract(t.concat([n]),e);const a=e=>e.fold(()=>Zj.svalue(U.none()),e=>{const o=s.extract(t.concat([n]),e);return Zj.map(o,U.some)});switch(e.tag){case"required":return pZ(t,o,n,r);case"defaultedThunk":return hZ(o,n,e.process,r);case"option":return yZ(o,n,a);case"defaultedOptionThunk":return bZ(o,n,e.process,a);case"mergeWithThunk":{return hZ(o,n,R({}),t=>{const n=Xe(e.process(o),t);return r(n)})}}};const kZ=(e,t,o)=>{const n={};const s=[];for(const r of o){lZ(r,(o,r,a,c)=>{const i=vZ(a,e,t,o,c);Zj.fold(i,e=>{s.push(...e)},e=>{n[r]=e})},(e,o)=>{n[e]=o(t)})}return s.length>0?Zj.serror(s):Zj.svalue(n)};const wZ=e=>{const t=(t,o)=>kZ(t,o,e);const o=()=>{const t=J(e,e=>lZ(e,(e,t,o,n)=>e+" -> "+n.toString(),(e,t)=>"state("+e+")"));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:o}};const _Z=e=>{const t=(t,o)=>{const n=J(o,(o,n)=>e.extract(t.concat(["["+n+"]"]),o));return gZ.consolidateArr(n)};const o=()=>"array("+e.toString()+")";return{extract:t,toString:o}};const xZ=(e,t,o)=>{const n=t.extract([e],o);return Zj.mapError(n,e=>({input:o,errors:e}))};const CZ=(e,t,o)=>Zj.toResult(xZ(e,t,o));const SZ=e=>"Errors: \n"+qj(e.errors).join("\n")+"\n\nInput object: "+Uj(e.input);const zZ=iZ;const TZ=(e,t)=>zZ(e,e,sZ(),t);const EZ=e=>TZ(e,eZ);const OZ=e=>TZ(e,oZ);const AZ=(e,t)=>zZ(e,e,cZ(),t);const DZ=e=>AZ(e,eZ);const MZ=e=>AZ(e,oZ);const NZ=(e,t)=>zZ(e,e,aZ(t),Xj());const RZ=(e,t,o)=>zZ(e,e,aZ(t),o);const BZ=(e,t)=>RZ(e,t,Qj);const LZ=(e,t)=>RZ(e,t,eZ);const HZ=(e,t)=>RZ(e,t,tZ);const IZ=(e,t)=>RZ(e,t,oZ);const PZ=(e,t,o)=>RZ(e,t,_Z(o));const FZ=EZ("type");EZ("name");EZ("label");EZ("text");EZ("title");EZ("icon");EZ("url");const VZ=EZ("value");const jZ=OZ("fetch");OZ("getSubmenuItems");const ZZ=OZ("onAction");OZ("onItemAction");IZ("onSetup",()=>D);DZ("name");const UZ=DZ("text");DZ("role");const qZ=DZ("icon");DZ("url");DZ("tooltip");DZ("label");DZ("shortcut");MZ("select");const $Z=HZ("active",false);HZ("borderless",false);const WZ=HZ("enabled",true);HZ("primary",false);const GZ=e=>NZ("columns",e);const KZ=NZ("meta",{});IZ("onAction",D);const YZ=e=>LZ("type",e);wZ([YZ("autocompleteitem"),$Z,WZ,KZ,VZ,UZ,qZ]);const XZ=wZ([FZ,EZ("trigger"),BZ("minChars",1),GZ(1),BZ("maxResults",10),MZ("matches"),jZ,ZZ,PZ("highlightOn",[],eZ)]);const JZ=e=>CZ("Autocompleter",XZ,e);const QZ=()=>{const e={};const t={};const o={};const n={};const s={};const r={};const a={};const c={};const i={};const l=(e,t)=>(o,n)=>{e[o.toLowerCase()]={...n,type:t}};const d=(e,t)=>(o,n)=>{e[o.toLowerCase()]={type:t,...n}};const u=(e,t)=>n[e.toLowerCase()]=t;const f=(e,t)=>a[e.toLowerCase()]=t;return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(o,"autocompleter"),addContextMenu:l(s,"contextmenu"),addContextToolbar:l(r,"contexttoolbar"),addContextForm:d(r,"contextform"),addSidebar:l(c,"sidebar"),addView:l(i,"views"),addIcon:u,addContext:f,getAll:()=>({buttons:e,menuItems:t,icons:n,popups:o,contextMenus:s,contextToolbars:r,sidebars:c,views:i,contexts:a})}};const eU=e=>{const t=e.ui.registry.getAll().popups;const o=Ce(t,e=>JZ(e).fold(e=>{throw new Error(SZ(e))},B));const n=Mt(Ae(o,e=>e.trigger));const s=De(o);const r=e=>oe(s,t=>t.trigger===e);return{dataset:o,triggers:n,lookupByTrigger:r}};const tU=(e,t)=>{const o=zt(t.load,50);e.on("input",t=>{if(t.inputType==="insertCompositionText"&&!e.composing){return}o.throttle()});e.on("keydown",e=>{const n=e.which;if(n===8){o.throttle()}else if(n===27){o.cancel();t.cancelIfNecessary()}else if(n===38||n===40){o.cancel()}},true);e.on("remove",o.cancel)};const oU=e=>{const t=dt();const o=Ie(false);const n=t.isSet;const s=()=>{if(n()){jm(e);o.set(false);t.clear()}};const r=e=>{if(!n()){t.set({trigger:e.trigger,matchLength:e.text.length})}};const a=Tt(()=>eU(e));const c=o=>t.get().map(t=>_j(e.dom,e.selection.getRng(),t.trigger,true).bind(t=>Dj(e,a,t,o))).getOrThunk(()=>Aj(e,a));const i=n=>{c(n).fold(s,n=>{r(n.context);n.lookupData.then(s=>{t.get().map(r=>{const a=n.context;if(r.trigger!==a.trigger){return}t.set({...r,matchLength:a.text.length});if(o.get()){Vm(e,{range:a.range});Fm(e,{lookupData:s})}else{o.set(true);Vm(e,{range:a.range});Pm(e,{lookupData:s})}})})})};const l=(e,t)=>{const o=e.compareBoundaryPoints(window.Range.START_TO_START,t);const n=e.compareBoundaryPoints(window.Range.END_TO_END,t);return o>=0&&n<=0};const d=()=>t.get().bind(({trigger:t})=>{const n=e.selection.getRng();return _j(e.dom,n,t,o.get()).filter(({range:e})=>l(n,e)).map(({range:e})=>e)});e.addCommand("mceAutocompleterReload",(e,t)=>{const o=k(t)?t.fetchOptions:{};i(o)});e.addCommand("mceAutocompleterClose",s);e.addCommand("mceAutocompleterRefreshActiveRange",()=>{d().each(t=>{Vm(e,{range:t})})});e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>d().isSome());tU(e,{cancelIfNecessary:s,load:i})};const nU=Ao().browser;const sU=nU.isSafari();const rU=e=>lu(rn.fromDom(e));const aU=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)};const cU=(e,t)=>U.from(e.getParent(t.container(),"details"));const iU=(e,t)=>cU(e,t).isSome();const lU=(e,t)=>{const o=U.from(e.getParent(t.startContainer,"details"));const n=U.from(e.getParent(t.endContainer,"details"));if(o.isSome()||n.isSome()){const t=o.bind(t=>U.from(e.select("summary",t)[0]));return U.some({startSummary:t,startDetails:o,endDetails:n})}else{return U.none()}};const dU=(e,t)=>Sy(t).exists(t=>t.isEqual(e));const uU=(e,t)=>zy(t).exists(o=>{if(_c(o.getNode())){return Cy(t,o).exists(t=>t.isEqual(e))||o.isEqual(e)}else{return o.isEqual(e)}});const fU=(e,t)=>t.startSummary.exists(t=>dU(e,t));const mU=(e,t)=>t.startSummary.exists(t=>uU(e,t));const gU=(e,t)=>t.startDetails.exists(o=>Cy(o,e).forall(o=>t.startSummary.exists(t=>!t.contains(e.container())&&t.contains(o.container()))));const pU=(e,t,o)=>o.startDetails.exists(o=>xy(e,t).forall(e=>!o.contains(e.container())));const hU=(e,t)=>{const o=t.getNode();if(!S(o)){e.selection.setCursorLocation(o,t.offset())}};const yU=(e,t,o)=>{const n=e.dom.getParent(t.container(),"details");if(n&&!n.open){const t=e.dom.select("summary",n)[0];if(t){const n=o?Sy(t):zy(t);n.each(t=>hU(e,t))}}else{hU(e,t)}};const bU=(e,t)=>{const o=t=>t.contains(e.startContainer);const n=t=>t.contains(e.endContainer);const s=t.startSummary.exists(o);const r=t.startSummary.exists(n);const a=t.startDetails.forall(e=>t.endDetails.forall(t=>e!==t));const c=(s||r)&&!(s&&r);return c||a};const vU=(e,t,o)=>{const{dom:n,selection:s}=e;const r=e.getBody();if(o==="character"){const o=Af.fromRangeStart(s.getRng());const a=n.getParent(o.container(),n.isBlock);const c=cU(n,o);const i=a&&n.isEmpty(a);const l=x(a===null||a===void 0?void 0:a.previousSibling);const d=x(a===null||a===void 0?void 0:a.nextSibling);if(i){const e=t?d:l;if(e){const e=ky(!t,r,o).exists(e=>iU(n,e)&&!et(c,cU(n,e)));if(e){return true}}}return ky(t,r,o).fold(j,o=>{const s=cU(n,o);if(iU(n,o)&&!et(c,s)){if(!t){yU(e,o,false)}if(a&&i){if(t&&l){return true}else if(!t&&d){return true}yU(e,o,t);e.dom.remove(a)}return true}else{return false}})}else{return false}};const kU=(e,t,o,n)=>{const s=e.selection;const r=s.getRng();const a=Af.fromRangeStart(r);const c=e.getBody();if(n==="selection"){return bU(r,t)}else if(o){return mU(a,t)||pU(c,a,t)}else{return fU(a,t)||gU(a,t)}};const wU=(e,t,o)=>lU(e.dom,e.selection.getRng()).fold(()=>vU(e,t,o),n=>kU(e,n,t,o)||vU(e,t,o));const _U=(e,t,o)=>{const n=e.selection;const s=n.getNode();const r=n.getRng();const a=Af.fromRangeStart(r);if(Nc(s)){if(o==="selection"&&aU(r,s)||sC(t,a,s)){rU(s)}else{e.undoManager.transact(()=>{const r=n.getSel();let{anchorNode:a,anchorOffset:c,focusNode:i,focusOffset:l}=r!==null&&r!==void 0?r:{};const d=()=>{if(T(a)&&T(c)&&T(i)&&T(l)){r===null||r===void 0?void 0:r.setBaseAndExtent(a,c,i,l)}};const u=()=>{a=r===null||r===void 0?void 0:r.anchorNode;c=r===null||r===void 0?void 0:r.anchorOffset;i=r===null||r===void 0?void 0:r.focusNode;l=r===null||r===void 0?void 0:r.focusOffset};const f=(e,t)=>{Q(e.childNodes,e=>{if(vb(e)){t.appendChild(e)}})};const m=e.dom.create("span",{"data-mce-bogus":"1"});f(s,m);s.appendChild(m);d();if(o==="word"||o==="line"){r===null||r===void 0?void 0:r.modify("extend",t?"right":"left",o)}if(!n.isCollapsed()&&aU(n.getRng(),m)){rU(s)}else{e.execCommand(t?"ForwardDelete":"Delete");u();f(m,s);d()}e.dom.remove(m)})}return true}else{return false}};const xU=(e,t,o)=>wU(e,t,o)||sU&&_U(e,t,o)?U.some(D):U.none();const CU=e=>(t,o,n={})=>{const s=t.getBody();const r={bubbles:true,composed:true,data:null,isComposing:false,detail:0,view:null,target:s,currentTarget:s,eventPhase:Event.AT_TARGET,originalTarget:s,explicitOriginalTarget:s,isTrusted:false,srcElement:s,cancelable:false,preventDefault:D,inputType:o};const a=Pl(new InputEvent(e));return t.dispatch(e,{...a,...r,...n})};const SU=CU("input");const zU=CU("beforeinput");const TU=Ao();const EU=TU.os;const OU=EU.isMacOS()||EU.isiOS();const AU=TU.browser;const DU=AU.isFirefox();const MU=(e,t,o)=>{const n=o.keyCode===Ck.BACKSPACE?"deleteContentBackward":"deleteContentForward";const s=e.selection.isCollapsed();const r=s?"character":"selection";const a=e=>{if(s){return e?"word":"line"}else{return"selection"}};AF([{keyCode:Ck.BACKSPACE,action:EF(EP,e)},{keyCode:Ck.BACKSPACE,action:EF(PL,e,false)},{keyCode:Ck.DELETE,action:EF(PL,e,true)},{keyCode:Ck.BACKSPACE,action:EF(bL,e,false)},{keyCode:Ck.DELETE,action:EF(bL,e,true)},{keyCode:Ck.BACKSPACE,action:EF(HI,e,t,false)},{keyCode:Ck.DELETE,action:EF(HI,e,t,true)},{keyCode:Ck.BACKSPACE,action:EF(sS,e,false)},{keyCode:Ck.DELETE,action:EF(sS,e,true)},{keyCode:Ck.BACKSPACE,action:EF(xU,e,false,r)},{keyCode:Ck.DELETE,action:EF(xU,e,true,r)},...OU?[{keyCode:Ck.BACKSPACE,altKey:true,action:EF(xU,e,false,a(true))},{keyCode:Ck.DELETE,altKey:true,action:EF(xU,e,true,a(true))},{keyCode:Ck.BACKSPACE,metaKey:true,action:EF(xU,e,false,a(false))}]:[{keyCode:Ck.BACKSPACE,ctrlKey:true,action:EF(xU,e,false,a(true))},{keyCode:Ck.DELETE,ctrlKey:true,action:EF(xU,e,true,a(true))}],{keyCode:Ck.BACKSPACE,action:EF($L,e,false)},{keyCode:Ck.DELETE,action:EF($L,e,true)},{keyCode:Ck.BACKSPACE,action:EF(pP,e,false)},{keyCode:Ck.DELETE,action:EF(pP,e,true)},{keyCode:Ck.BACKSPACE,action:EF(cL,e,false)},{keyCode:Ck.DELETE,action:EF(cL,e,true)},{keyCode:Ck.BACKSPACE,action:EF(eL,e,false)},{keyCode:Ck.DELETE,action:EF(eL,e,true)},{keyCode:Ck.BACKSPACE,action:EF(cP,e,false)},{keyCode:Ck.DELETE,action:EF(cP,e,true)},{keyCode:Ck.BACKSPACE,action:EF(UL,e,false)},{keyCode:Ck.DELETE,action:EF(UL,e,true)}],o).filter(t=>e.selection.isEditable()).each(t=>{o.preventDefault();const s=zU(e,n);if(!s.isDefaultPrevented()){t();SU(e,n)}})};const NU=(e,t,o)=>OF([{keyCode:Ck.BACKSPACE,action:EF(IL,e)},{keyCode:Ck.DELETE,action:EF(IL,e)},...OU?[{keyCode:Ck.BACKSPACE,altKey:true,action:EF(uP,e)},{keyCode:Ck.DELETE,altKey:true,action:EF(uP,e)},...o?[{keyCode:DU?224:91,action:EF(uP,e)}]:[]]:[{keyCode:Ck.BACKSPACE,ctrlKey:true,action:EF(uP,e)},{keyCode:Ck.DELETE,ctrlKey:true,action:EF(uP,e)}]],t);const RU=(e,t)=>{let o=false;e.on("keydown",n=>{o=n.keyCode===Ck.BACKSPACE;if(!n.isDefaultPrevented()){MU(e,t,n)}});e.on("keyup",t=>{if(!t.isDefaultPrevented()){NU(e,t,o)}o=false})};const BU=e=>{while(e){if(sc(e)||hc(e)&&e.data&&/[\r\n\s]/.test(e.data)){return e}e=e.nextSibling}return null};const LU=(e,t)=>{const o=e.dom;const n=e.schema.getMoveCaretBeforeOnEnterElements();if(!t){return}if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=BU(t.firstChild);if(e&&/^(UL|OL|DL)$/.test(e.nodeName)){t.insertBefore(o.doc.createTextNode(Ot),t.firstChild)}}const s=o.createRng();t.normalize();if(t.hasChildNodes()){const e=new Ga(t,t);let o=t;let r;while(r=e.current()){if(hc(r)){s.setStart(r,0);s.setEnd(r,0);break}if(n[r.nodeName.toLowerCase()]){s.setStartBefore(r);s.setEndBefore(r);break}o=r;r=e.next()}if(!r){s.setStart(o,0);s.setEnd(o,0)}}else{if(_c(t)){if(t.nextSibling&&o.isBlock(t.nextSibling)){s.setStartBefore(t);s.setEndBefore(t)}else{s.setStartAfter(t);s.setEndAfter(t)}}else{s.setStart(t,0);s.setEnd(t,0)}}e.selection.setRng(s);gw(e,s)};const HU=(e,t)=>{const o=e.getRoot();let n;let s=t;while(s!==o&&s&&e.getContentEditable(s)!=="false"){if(e.getContentEditable(s)==="true"){n=s;break}s=s.parentNode}return s!==o?n:o};const IU=e=>U.from(e.dom.getParent(e.selection.getStart(true),e.dom.isBlock));const PU=e=>IU(e).fold(R(""),e=>e.nodeName.toUpperCase());const FU=e=>IU(e).filter(e=>ou(rn.fromDom(e))).isSome();const VU=e=>{e.innerHTML='<br data-mce-bogus="1">'};const jU=(e,t,o)=>{const n=e.dom;U.from(o.style).map(n.parseStyle).each(e=>{const o=cr(rn.fromDom(t));const s={...o,...e};n.setStyles(t,s)});const s=U.from(o.class).map(e=>e.split(/\s+/));const r=U.from(t.className).map(e=>oe(e.split(/\s+/),e=>e!==""));ot(s,r,(e,o)=>{const s=oe(o,t=>!Y(e,t));const r=[...e,...s];n.setAttrib(t,"class",r.join(" "))});const a=["style","class"];const c=Oe(o,(e,t)=>!Y(a,t));n.setAttribs(t,c)};const ZU=(e,t)=>{const o=dg(e);if(o.toLowerCase()===t.tagName.toLowerCase()){const o=ug(e);jU(e,t,o)}};const UU=(e,t,o,n,s=true,r,a)=>{const c=e.dom;const i=e.schema;const l=dg(e);const d=o?o.nodeName.toUpperCase():"";let u=t;const f=i.getTextInlineElements();let m;if(r||d==="TABLE"||d==="HR"){m=c.create(r||l,a||{})}else{m=o.cloneNode(false)}let g=m;if(!s){c.setAttrib(m,"style",null);c.setAttrib(m,"class",null)}else{do{if(f[u.nodeName]){if(Ey(u)||Xy(u)){continue}const e=u.cloneNode(false);c.setAttrib(e,"id","");if(m.hasChildNodes()){e.appendChild(m.firstChild);m.appendChild(e)}else{g=e;m.appendChild(e)}}}while((u=u.parentNode)&&u!==n)}ZU(e,m);VU(g);return m};const qU=(e,t)=>e.dom.getParent(t,Mc);const $U=(e,t,o)=>{let n=t;while(n&&n!==e&&x(n.nextSibling)){const e=n.parentElement;if(!e||!o(e)){return Mc(e)}n=e}return false};const WU=(e,t,o)=>!t&&o.nodeName.toLowerCase()===dg(e)&&e.dom.isEmpty(o)&&$U(e.getBody(),o,t=>Ne(e.schema.getTextBlockElements(),t.nodeName.toLowerCase()));const GU=(e,t,o)=>{var n,s,r;const a=t(dg(e));const c=qU(e,o);if(!c){return}e.dom.insertAfter(a,c);LU(e,a);if(((r=(s=(n=o.parentElement)===null||n===void 0?void 0:n.childNodes)===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0)>1){e.dom.remove(o)}};const KU=(e,t)=>e.firstChild&&e.firstChild.nodeName===t;const YU=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e};const XU=(e,t)=>{const o=e===null||e===void 0?void 0:e.parentNode;return T(o)&&o.nodeName===t};const JU=e=>T(e)&&/^(OL|UL|LI)$/.test(e.nodeName);const QU=e=>T(e)&&/^(LI|DT|DD)$/.test(e.nodeName);const eq=e=>JU(e)&&JU(e.parentNode);const tq=e=>{const t=e.parentNode;return QU(t)?t:e};const oq=(e,t,o)=>{let n=e[o?"firstChild":"lastChild"];while(n){if(sc(n)){break}n=n[o?"nextSibling":"previousSibling"]}return n===t};const nq=e=>se(Ae(cr(rn.fromDom(e)),(e,t)=>`${t}: ${e};`),(e,t)=>e+t,"");const sq=(e,t,o,n,s)=>{const r=e.dom;const a=e.selection.getRng();const c=o.parentNode;if(o===e.getBody()||!c){return}if(eq(o)){s="LI"}const i=QU(n)?nq(n):undefined;let l=QU(n)&&i?t(s,{style:nq(n)}):t(s);if(oq(o,n,true)&&oq(o,n,false)){if(XU(o,"LI")){const e=tq(o);r.insertAfter(l,e);if(YU(o)){r.remove(e)}else{r.remove(o)}}else{r.replace(l,o)}}else if(oq(o,n,true)){if(XU(o,"LI")){r.insertAfter(l,tq(o));l.appendChild(r.doc.createTextNode(" "));l.appendChild(o)}else{c.insertBefore(l,o)}r.remove(n)}else if(oq(o,n,false)){r.insertAfter(l,tq(o));r.remove(n)}else{o=tq(o);const e=a.cloneRange();e.setStartAfter(n);e.setEndAfter(o);const t=e.extractContents();if(s==="LI"&&KU(t,"LI")){const e=oe(J(l.children,rn.fromDom),I(Hn("br")));l=t.firstChild;r.insertAfter(t,o);Q(e,e=>Ss(rn.fromDom(l),e));if(i){l.setAttribute("style",i)}}else{r.insertAfter(t,o);r.insertAfter(l,o)}r.remove(n)}LU(e,l)};const rq=e=>{Q(na(rn.fromDom(e),Rn),e=>{const t=e.dom;t.nodeValue=mu(t.data)})};const aq=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"};const cq=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t);const iq=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t;const lq=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t;const dq=(e,t)=>T(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false";const uq=(e,t,o)=>{var n;const s=[];if(!o){return}let r=o;while(r=r.firstChild){if(e.isBlock(r)){return}if(sc(r)&&!t[r.nodeName.toLowerCase()]){s.push(r)}}let a=s.length;while(a--){r=s[a];if(!r.hasChildNodes()||r.firstChild===r.lastChild&&((n=r.firstChild)===null||n===void 0?void 0:n.nodeValue)===""){e.remove(r)}else{if(cq(e,r)){e.remove(r)}}}};const fq=(e,t,o)=>{if(!hc(t)){return o}else if(e){return o===1&&t.data.charAt(o-1)===uu?0:o}else{return o===t.data.length-1&&t.data.charAt(o)===uu?t.data.length:o}};const mq=e=>{const t=e.cloneRange();t.setStart(e.startContainer,fq(true,e.startContainer,e.startOffset));t.setEnd(e.endContainer,fq(false,e.endContainer,e.endOffset));return t};const gq=e=>{let t=e;do{if(hc(t)){t.data=t.data.replace(/^[\r\n]+/,"")}t=t.firstChild}while(t)};const pq=(e,t,o,n,s)=>{var r,a;const c=e.dom;const i=(r=HU(c,n))!==null&&r!==void 0?r:c.getRoot();let l=c.getParent(n,c.isBlock);if(!l||!dq(c,l)){l=l||i;if(!l.hasChildNodes()){const n=c.create(t);ZU(e,n);l.appendChild(n);o.setStart(n,0);o.setEnd(n,0);return n}let r=n;while(r&&r.parentNode!==l){r=r.parentNode}let d;while(r&&!c.isBlock(r)){d=r;r=r.previousSibling}const u=(a=d===null||d===void 0?void 0:d.parentElement)===null||a===void 0?void 0:a.nodeName;if(d&&u&&e.schema.isValidChild(u,t.toLowerCase())){const a=d.parentNode;const i=c.create(t);ZU(e,i);a.insertBefore(i,d);r=d;while(r&&!c.isBlock(r)){const e=r.nextSibling;i.appendChild(r);r=e}o.setStart(n,s);o.setEnd(n,s)}}return n};const hq=(e,t)=>{t.normalize();const o=t.lastChild;if(!o||sc(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",true))){e.add(t,"br")}};const yq=(e,t)=>{const o=hg(e);if(z(t)){return false}else if(v(o)){return Y(Qo.explode(o),t.nodeName.toLowerCase())}else{return o}};const bq=(e,t)=>{let o;let n;let s;let r;let a=false;const c=e.dom;const i=e.schema,l=i.getNonEmptyElements();const d=e.selection.getRng();const u=dg(e);const f=rn.fromDom(d.startContainer);const m=Xn(f,d.startOffset);const g=m.exists(e=>Mn(e)&&!Qr(e));const p=d.collapsed&&g;const h=(t,n)=>UU(e,o,_,w,pg(e),t,n);const y=e=>{const t=fq(e,o,n);if(hc(o)&&(e?t>0:t<o.data.length)){return false}if((o.parentNode===_||o===_)&&a&&!e){return true}if(e&&sc(o)&&o===_.firstChild){return true}if(iq(o,"TABLE")||iq(o,"HR")){if(lq(o,"BR")){return!e}return a&&!e||!a&&e}const s=new Ga(o,_);if(hc(o)){if(e&&t===0){s.prev()}else if(!e&&t===o.data.length){s.next()}}let r;while(r=s.current()){if(sc(r)){if(!r.getAttribute("data-mce-bogus")){const e=r.nodeName.toLowerCase();if(l[e]&&e!=="br"){return false}}}else if(hc(r)&&!Ya(r.data)){return false}if(e){s.prev()}else{s.next()}}return true};const b=()=>{let t;if(/^(H[1-6]|PRE|FIGURE)$/.test(s)&&x!=="HGROUP"){t=h(u)}else{t=h()}if(yq(e,r)&&dq(c,r)&&c.isEmpty(_,undefined,{includeZwsp:true})){t=c.split(r,_)}else{c.insertAfter(t,_)}LU(e,t);return t};Zk(c,d).each(e=>{d.setStart(e.startContainer,e.startOffset);d.setEnd(e.endContainer,e.endOffset)});o=d.startContainer;n=d.startOffset;const v=!!(t&&t.shiftKey);const k=!!(t&&t.ctrlKey);if(sc(o)&&o.hasChildNodes()&&!p){a=n>o.childNodes.length-1;o=o.childNodes[Math.min(n,o.childNodes.length-1)]||o;if(a&&hc(o)){n=o.data.length}else{n=0}}const w=HU(c,o);if(!w||aq(e,o)){return}if(!v){o=pq(e,u,d,o,n)}let _=c.getParent(o,c.isBlock)||c.getRoot();r=T(_===null||_===void 0?void 0:_.parentNode)?c.getParent(_.parentNode,c.isBlock):null;s=_?_.nodeName.toUpperCase():"";const x=r?r.nodeName.toUpperCase():"";if(x==="LI"&&!k){const e=r;_=e;r=e.parentNode;s=x}if(sc(r)&&WU(e,v,_)){return GU(e,h,_)}if(/^(LI|DT|DD)$/.test(s)&&sc(r)){if(c.isEmpty(_)){sq(e,h,r,_,u);return}}if(!p&&(_===e.getBody()||!dq(c,_))){return}const C=_.parentNode;let S;if(p){S=h(u);m.fold(()=>{zs(f,rn.fromDom(S))},e=>{xs(e,rn.fromDom(S))});e.selection.setCursorLocation(S,0)}else if(yu(_)){S=Eu(_);if(c.isEmpty(_)){VU(_)}ZU(e,S);LU(e,S)}else if(y(false)){S=b()}else if(y(true)&&C){const t=Af.fromRangeStart(d);const o=w_(t);const n=rn.fromDom(_);const s=F_(n,t,e.schema);const r=s?V_(n,t,e.schema).bind(e=>U.from(e.getNode())):U.none();S=C.insertBefore(h(),_);const a=iq(_,"HR")||o?S:r.getOr(_);LU(e,a)}else{const t=mq(d).cloneRange();t.setEndAfter(_);const o=t.extractContents();rq(o);gq(o);S=o.firstChild;c.insertAfter(o,_);uq(c,l,S);hq(c,_);if(c.isEmpty(_)){VU(_)}S.normalize();if(c.isEmpty(S)){c.remove(S);b()}else{ZU(e,S);LU(e,S)}}c.setAttrib(S,"id","");e.dispatch("NewBlock",{newBlock:S})};const vq="insertParagraph";const kq={insert:bq,fakeEventName:vq};const wq=(e,t,o)=>{const n=new Ga(t,o);let s;const r=e.getNonEmptyElements();while(s=n.next()){if(r[s.nodeName.toLowerCase()]||hc(s)&&s.length>0){return true}}return false};const _q=(e,t,o)=>{const n=e.dom.createRng();if(!o){n.setStartAfter(t);n.setEndAfter(t)}else{n.setStartBefore(t);n.setEndBefore(t)}e.selection.setRng(n);gw(e,n)};const xq=(e,t)=>{const o=e.selection;const n=e.dom;const s=o.getRng();let r;let a=false;Zk(n,s).each(e=>{s.setStart(e.startContainer,e.startOffset);s.setEnd(e.endContainer,e.endOffset)});let c=s.startOffset;let i=s.startContainer;if(sc(i)&&i.hasChildNodes()){const e=c>i.childNodes.length-1;i=i.childNodes[Math.min(c,i.childNodes.length-1)]||i;if(e&&hc(i)){c=i.data.length}else{c=0}}let l=n.getParent(i,n.isBlock);const d=l&&l.parentNode?n.getParent(l.parentNode,n.isBlock):null;const u=d?d.nodeName.toUpperCase():"";const f=!!(t&&t.ctrlKey);if(u==="LI"&&!f){l=d}if(hc(i)&&c>=i.data.length){if(!wq(e.schema,i,l||n.getRoot())){r=n.create("br");s.insertNode(r);s.setStartAfter(r);s.setEndAfter(r);a=true}}r=n.create("br");Rf(n,s,r);_q(e,r,a);e.undoManager.add()};const Cq=(e,t)=>{const o=rn.fromTag("br");xs(rn.fromDom(t),o);e.undoManager.add()};const Sq=(e,t)=>{if(!Tq(e.getBody(),t)){Cs(rn.fromDom(t),rn.fromTag("br"))}const o=rn.fromTag("br");Cs(rn.fromDom(t),o);_q(e,o.dom,false);e.undoManager.add()};const zq=e=>_c(e.getNode());const Tq=(e,t)=>{if(zq(Af.after(t))){return true}else{return xy(e,Af.after(t)).map(e=>_c(e.getNode())).getOr(false)}};const Eq=e=>e&&e.nodeName==="A"&&"href"in e;const Oq=e=>e.fold(j,Eq,Eq,j);const Aq=e=>{const t=H(Vx,e);const o=Af.fromRangeStart(e.selection.getRng());return pH(t,e.getBody(),o).filter(Oq)};const Dq=(e,t)=>{t.fold(D,H(Cq,e),H(Sq,e),D)};const Mq=(e,t)=>{const o=Aq(e);if(o.isSome()){o.each(H(Dq,e))}else{xq(e,t)}};const Nq="insertLineBreak";const Rq={insert:Mq,fakeEventName:Nq};const Bq=(e,t)=>IU(e).filter(e=>t.length>0&&wn(rn.fromDom(e),t)).isSome();const Lq=e=>Bq(e,mg(e));const Hq=e=>Bq(e,gg(e));const Iq=He.generate([{br:[]},{block:[]},{none:[]}]);const Pq=(e,t)=>Hq(e);const Fq=e=>(t,o)=>FU(t)===e;const Vq=(e,t)=>(o,n)=>{const s=PU(o)===e.toUpperCase();return s===t};const jq=e=>{const t=HU(e.dom,e.selection.getStart());return z(t)};const Zq=e=>Vq("pre",e);const Uq=()=>Vq("summary",true);const qq=e=>(t,o)=>lg(t)===e;const $q=(e,t)=>Lq(e);const Wq=(e,t)=>t;const Gq=e=>{const t=dg(e);const o=HU(e.dom,e.selection.getStart());return T(o)&&e.schema.isValidChild(o.nodeName,t)};const Kq=e=>{const t=e.selection.getRng();const o=rn.fromDom(t.startContainer);const n=Xn(o,t.startOffset);const s=n.map(e=>Mn(e)&&!Qr(e));return t.collapsed&&s.getOr(true)};const Yq=(e,t)=>(o,n)=>{const s=se(e,(e,t)=>e&&t(o,n),true);return s?U.some(t):U.none()};const Xq=(e,t)=>rH([Yq([Pq],Iq.none()),Yq([Zq(true),jq],Iq.none()),Yq([Uq()],Iq.br()),Yq([Zq(true),qq(false),Wq],Iq.br()),Yq([Zq(true),qq(false)],Iq.block()),Yq([Zq(true),qq(true),Wq],Iq.block()),Yq([Zq(true),qq(true)],Iq.br()),Yq([Fq(true),Wq],Iq.br()),Yq([Fq(true)],Iq.block()),Yq([$q],Iq.br()),Yq([Wq],Iq.br()),Yq([Gq],Iq.block()),Yq([Kq],Iq.block())],[e,!!(t&&t.shiftKey)]).getOr(Iq.none());const Jq=(e,t,o)=>{if(t.mode.isReadOnly()){return}if(!t.selection.isCollapsed()){Xx(t)}if(T(o)){const o=zU(t,e.fakeEventName);if(o.isDefaultPrevented()){return}}e.insert(t,o);if(T(o)){SU(t,e.fakeEventName)}};const Qq=(e,t)=>{if(e.mode.isReadOnly()){return}const o=()=>Jq(Rq,e,t);const n=()=>Jq(kq,e,t);const s=Xq(e,t);switch(fg(e)){case"linebreak":s.fold(o,o,D);break;case"block":s.fold(n,n,D);break;case"invert":s.fold(n,o,D);break;default:s.fold(o,n,D);break}};const e$=Ao();const t$=e$.os.isiOS()&&e$.browser.isSafari();const o$=(e,t)=>{if(t.isDefaultPrevented()){return}t.preventDefault();VD(e.undoManager);e.undoManager.transact(()=>{Qq(e,t)})};const n$=e=>{if(!e.collapsed){return false}const t=e.startContainer;if(hc(t)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/;const n=t.data.charAt(e.startOffset-1);return o.test(n)}else{return false}};const s$=e=>{let t=U.none();const o=e=>{t=U.some(e.selection.getBookmark());e.undoManager.add()};const n=(e,o)=>{e.undoManager.undo();t.fold(D,t=>e.selection.moveToBookmark(t));o$(e,o);t=U.none()};e.on("keydown",t=>{if(t.keyCode===Ck.ENTER){if(t$&&n$(e.selection.getRng())){o(e)}else{o$(e,t)}}});e.on("keyup",o=>{if(o.keyCode===Ck.ENTER){t.each(()=>n(e,o))}})};const r$=(e,t,o)=>{const n=jo.os.isMacOS()||jo.os.isiOS();OF([{keyCode:Ck.END,action:EF(uF,e,true)},{keyCode:Ck.HOME,action:EF(uF,e,false)},...!n?[{keyCode:Ck.HOME,action:EF(fF,e,false),ctrlKey:true,shiftKey:true},{keyCode:Ck.END,action:EF(fF,e,true),ctrlKey:true,shiftKey:true}]:[],{keyCode:Ck.END,action:EF(NF,e,true)},{keyCode:Ck.HOME,action:EF(NF,e,false)},{keyCode:Ck.END,action:EF(AI,e,true,t)},{keyCode:Ck.HOME,action:EF(AI,e,false,t)}],o).each(e=>{o.preventDefault()})};const a$=(e,t)=>{e.on("keydown",o=>{if(!o.isDefaultPrevented()){r$(e,t,o)}})};const c$=e=>{e.on("input",t=>{if(!t.isComposing){px(e)}})};const i$=Ao();const l$=(e,t,o)=>{OF([{keyCode:Ck.PAGE_UP,action:EF(AI,e,false,t)},{keyCode:Ck.PAGE_DOWN,action:EF(AI,e,true,t)}],o)};const d$=e=>e.stopImmediatePropagation();const u$=e=>e.keyCode===Ck.PAGE_UP||e.keyCode===Ck.PAGE_DOWN;const f$=(e,t,o)=>{if(o&&!e.get()){t.on("NodeChange",d$,true)}else if(!o&&e.get()){t.off("NodeChange",d$)}e.set(o)};const m$=(e,t)=>{if(i$.os.isMacOS()){return}const o=Ie(false);e.on("keydown",t=>{if(u$(t)){f$(o,e,true)}});e.on("keyup",n=>{if(!n.isDefaultPrevented()){l$(e,t,n)}if(u$(n)&&o.get()){f$(o,e,false);e.nodeChanged()}})};const g$=(e,t)=>e===t||e.contains(t);const p$=(e,t)=>{if(!g$(e.getBody(),t.startContainer)||!g$(e.getBody(),t.endContainer)){return true}return pw(e.dom,t)};const h$=e=>{e.on("beforeinput",t=>{if(!e.selection.isEditable()||X(t.getTargetRanges(),t=>!p$(e,t))){t.preventDefault()}})};const y$=(e,t)=>{const o=t.container();const n=t.offset();if(hc(o)){o.insertData(n,e);return U.some(Af(o,n+e.length))}else{return Kh(t).map(o=>{const n=rn.fromText(e);if(t.isAtEnd()){Cs(o,n)}else{xs(o,n)}return Af(n.dom,e.length)})}};const b$=H(y$,Ot);const v$=H(y$," ");const k$=(e,t,o)=>ox(e,t,o)?b$(t):v$(t);const w$=e=>t=>t.fold(t=>Cy(e.dom,Af.before(t)),e=>Sy(e),e=>zy(e),t=>xy(e.dom,Af.after(t)));const _$=(e,t,o)=>n=>ox(e,n,o)?b$(t):v$(t);const x$=e=>t=>{e.selection.setRng(t.toRange());e.nodeChanged()};const C$=(e,t)=>e.isEditable(e.getParent(t,"summary"));const S$=e=>{const t=Af.fromRangeStart(e.selection.getRng());const o=rn.fromDom(e.getBody());if(e.selection.isCollapsed()){const n=H(Vx,e);const s=Af.fromRangeStart(e.selection.getRng());return pH(n,e.getBody(),s).bind(w$(o)).map(n=>()=>_$(o,t,e.schema)(n).each(x$(e)))}else{return U.none()}};const z$=e=>{const t=()=>{const t=rn.fromDom(e.getBody());if(!e.selection.isCollapsed()){e.getDoc().execCommand("Delete")}const o=Af.fromRangeStart(e.selection.getRng());k$(t,o,e.schema).each(x$(e))};return st(jo.browser.isFirefox()&&e.selection.isEditable()&&C$(e.dom,e.selection.getRng().startContainer),t)};const T$=(e,t)=>{AF([{keyCode:Ck.SPACEBAR,action:EF(S$,e)},{keyCode:Ck.SPACEBAR,action:EF(z$,e)}],t).each(o=>{t.preventDefault();const n=zU(e,"insertText",{data:" "});if(!n.isDefaultPrevented()){o();SU(e,"insertText",{data:" "})}})};const E$=e=>{e.on("keydown",t=>{if(!t.isDefaultPrevented()){T$(e,t)}})};const O$=e=>{if(Wp(e)){return[{keyCode:Ck.TAB,action:EF(rj,e,true)},{keyCode:Ck.TAB,shiftKey:true,action:EF(rj,e,false)}]}else{return[]}};const A$=(e,t)=>{OF([...O$(e)],t).each(e=>{t.preventDefault()})};const D$=e=>{e.on("keydown",t=>{if(!t.isDefaultPrevented()){A$(e,t)}})};const M$=e=>{e.addShortcut("Meta+P","","mcePrint");oU(e);if(nM(e)){return Ie(null)}else{const t=TI(e);h$(e);eF(e);cj(e,t);RU(e,t);s$(e);E$(e);c$(e);D$(e);a$(e,t);m$(e,t);return t}};class N${constructor(e){this.lastPath=[];this.editor=e;let t;const o=this;if(!("onselectionchange"in e.getDoc())){e.on("NodeChange click mouseup keyup focus",o=>{const n=e.selection.getRng();const s={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};if(o.type==="nodechange"||!Nk(s,t)){e.dispatch("SelectionChange")}t=s})}e.on("contextmenu",()=>{Bv(e);e.dispatch("SelectionChange")});e.on("SelectionChange",()=>{const t=e.selection.getStart(true);if(!t){return}if(hb(e)&&!o.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())){e.nodeChanged({selectionChange:true})}});e.on("mouseup",t=>{if(!t.isDefaultPrevented()&&hb(e)){if(e.selection.getNode().nodeName==="IMG"){jv.setEditorTimeout(e,()=>{e.nodeChanged()})}else{e.nodeChanged()}}})}nodeChanged(e={}){const t=this.editor;const o=t.selection;let n;if(t.initialized&&o&&!sp(t)&&!th(t)){const s=t.getBody();n=o.getStart(true)||s;if(n.ownerDocument!==t.getDoc()||!t.dom.isChildOf(n,s)){n=s}const r=[];t.dom.getParent(n,e=>{if(e===s){return true}else{r.push(e);return false}});t.dispatch("NodeChange",{...e,element:n,parents:r})}}isSameElementPath(e){let t;const o=this.editor;const n=ue(o.dom.getParents(e,Z,o.getBody()));if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--){if(n[t]!==this.lastPath[t]){break}}if(t===-1){this.lastPath=n;return true}}this.lastPath=n;return false}}const R$="x-tinymce/html";const B$=R(R$);const L$="\x3c!-- "+R$+" --\x3e";const H$=e=>L$+e;const I$=e=>e.replace(L$,"");const P$=e=>e.indexOf(L$)!==-1;const F$=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e);const V$=(e,t)=>{let o="<"+e;const n=Ae(t,(e,t)=>t+'="'+Ki.encodeAllRaw(e)+'"');if(n.length){o+=" "+n.join(" ")}return o+">"};const j$=(e,t,o)=>{const n=e.split(/\n\n/);const s=V$(t,o);const r="</"+t+">";const a=J(n,e=>e.split(/\n/).join("<br />"));const c=e=>s+e+r;return a.length===1?a[0]:J(a,c).join("")};const Z$="%MCEPASTEBIN%";const U$=(e,t)=>{const{dom:o,selection:n}=e;const s=e.getBody();t.set(n.getRng());const r=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Z$);if(jo.browser.isFirefox()){o.setStyle(r,"left",o.getStyle(s,"direction",true)==="rtl"?65535:-65535)}o.bind(r,"beforedeactivate focusin focusout",e=>{e.stopPropagation()});r.focus();n.select(r,true)};const q$=(e,t)=>{const o=e.dom;if($$(e)){let n;const s=t.get();while(n=$$(e)){o.remove(n);o.unbind(n)}if(s){e.selection.setRng(s)}}t.set(null)};const $$=e=>e.dom.get("mcepastebin");const W$=e=>T(e)&&e.id==="mcepastebin";const G$=e=>{const t=e.dom;const o=(e,o)=>{e.appendChild(o);t.remove(o,true)};const[n,...s]=oe(e.getBody().childNodes,W$);Q(s,e=>{o(n,e)});const r=t.select("div[id=mcepastebin]",n);for(let e=r.length-1;e>=0;e--){const s=t.create("div");n.insertBefore(s,r[e]);o(s,r[e])}return n?n.innerHTML:""};const K$=e=>e===Z$;const Y$=e=>{const t=Ie(null);return{create:()=>U$(e,t),remove:()=>q$(e,t),getEl:()=>$$(e),getHtml:()=>G$(e),getLastRng:t.get}};const X$=(e,t)=>{Qo.each(t,t=>{if(b(t,RegExp)){e=e.replace(t,"")}else{e=e.replace(t[0],t[1])}});return e};const J$=e=>{const t=wl();const o=TA({},t);let n="";const s=t.getVoidElements();const r=Qo.makeMap("script noscript style textarea video audio iframe object"," ");const a=t.getBlockElements();const c=e=>{const o=e.name,i=e;if(o==="br"){n+="\n";return}if(o==="wbr"){return}if(s[o]){n+=" "}if(r[o]){n+=" ";return}if(e.type===3){n+=e.value}if(!(e.name in t.getVoidElements())){let t=e.firstChild;if(t){do{c(t)}while(t=t.next)}}if(a[o]&&i.next){n+="\n";if(o==="p"){n+="\n"}}};e=X$(e,[/<!\[[^\]]+\]>/g]);c(o.parse(e));return n};const Q$=e=>{const t=(e,t,o)=>{if(!t&&!o){return" "}return Ot};e=X$(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]);return e};const eW=e=>{let t=0;return()=>e+t++};const tW=e=>{const t=e.toLowerCase();const o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Qo.hasOwn(o,t)?"image/"+o[t]:"image/"+t};const oW=(e,t)=>{const o=TA({sanitize:Fp(e),sandbox_iframes:Yp(e),sandbox_iframes_exclusions:Xp(e),convert_unsafe_embeds:Jp(e)},e.schema);o.addNodeFilter("meta",e=>{Qo.each(e,e=>{e.remove()})});const n=o.parse(t,{forced_root_block:false,isRootContent:true});return Xw({validate:true},e.schema).serialize(n)};const nW=(e,t)=>({content:e,cancelled:t});const sW=(e,t,o)=>{const n=e.dom.create("div",{style:"display:none"},t);const s=Um(e,n,o);return nW(s.node.innerHTML,s.isDefaultPrevented())};const rW=(e,t,o)=>{const n=Zm(e,t,o);const s=oW(e,n.content);if(e.hasEventListeners("PastePostProcess")&&!n.isDefaultPrevented()){return sW(e,s,o)}else{return nW(s,n.isDefaultPrevented())}};const aW=(e,t,o)=>rW(e,t,o);const cW=(e,t)=>{e.insertContent(t,{merge:Ep(e),paste:true});return true};const iW=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e);const lW=(e,t)=>iW(t)&&X($p(e),e=>ht(t.toLowerCase(),`.${e.toLowerCase()}`));const dW=(e,t,o)=>{e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')});return true};const uW=(e,t,o)=>{e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",false,t)});return true};const fW=(e,t,o)=>!e.selection.isCollapsed()&&iW(t)?uW(e,t,o):false;const mW=(e,t,o)=>lW(e,t)?dW(e,t,o):false;const gW=(e,t)=>{Qo.each([fW,mW,cW],o=>!o(e,t,cW))};const pW=(e,t,o)=>{if(o||!Op(e)){cW(e,t)}else{gW(e,t)}};const hW=eW("mceclip");const yW=e=>{const t=vV();_V(t,e);uV(t);return t};const bW=(e,t,o,n,s)=>{const r=aW(e,t,o);if(!r.cancelled){const t=r.content;const o=()=>pW(e,t,n);if(s){const n=zU(e,"insertFromPaste",{dataTransfer:yW(t)});if(!n.isDefaultPrevented()){o();SU(e,"insertFromPaste")}}else{o()}}};const vW=(e,t,o,n)=>{const s=o?o:P$(t);bW(e,I$(t),s,false,n)};const kW=(e,t,o)=>{const n=e.dom.encode(t).replace(/\r\n/g,"\n");const s=tc(n,Dp(e));const r=j$(s,dg(e),ug(e));bW(e,r,false,true,o)};const wW=e=>{const t={};if(e&&e.types){for(let o=0;o<e.types.length;o++){const n=e.types[o];try{t[n]=e.getData(n)}catch(e){t[n]=""}}}return t};const _W=(e,t)=>t in e&&e[t].length>0;const xW=e=>_W(e,"text/html")||_W(e,"text/plain");const CW=(e,t)=>{const o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return T(o)?e.dom.encode(o[1]):undefined};const SW=(e,t,o,n)=>{const s=hW();const r=bg(e)&&T(o.name);const a=r?CW(e,o.name):s;const c=r?o.name:undefined;const i=t.create(s,o,n,a,c);t.add(i);return i};const zW=(e,t)=>{zE(t.uri).each(({data:o,type:n,base64Encoded:s})=>{const r=s?o:btoa(o);const a=t.file;const c=e.editorUpload.blobCache;const i=c.getByData(r,n);const l=i!==null&&i!==void 0?i:SW(e,c,a,r);vW(e,`<img src="${l.blobUri()}">`,false,true)})};const TW=e=>e.type==="paste";const EW=e=>Promise.all(J(e,e=>AE(e).then(t=>({file:e,uri:t}))));const OW=e=>{const t=$p(e);return e=>pt(e.type,"image/")&&X(t,t=>tW(t)===e.type)};const AW=(e,t)=>{const o=t.items?le(be(t.items),e=>e.kind==="file"?[e.getAsFile()]:[]):[];const n=t.files?be(t.files):[];return oe(o.length>0?o:n,OW(e))};const DW=(e,t,o)=>{const n=TW(t)?t.clipboardData:t.dataTransfer;if(_p(e)&&n){const s=AW(e,n);if(s.length>0){t.preventDefault();EW(s).then(t=>{if(o){e.selection.setRng(o)}Q(t,t=>{zW(e,t)})});return true}}return false};const MW=e=>{var t,o;return jo.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0};const NW=e=>Ck.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45;const RW=(e,t,o,n,s)=>{let r=Q$(o);const a=_W(t,B$())||P$(o);const c=!a&&F$(r);const i=iW(r);if(K$(r)||!r.length||c&&!i){n=true}if(n||i){if(_W(t,"text/plain")&&c){r=t["text/plain"]}else{r=J$(r)}}if(K$(r)){return}if(n){kW(e,r,s)}else{vW(e,r,a,s)}};const BW=(e,t,o)=>{let n;const s=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",e=>{if(NW(e)&&!e.isDefaultPrevented()){n=e.shiftKey&&e.keyCode===86}});e.on("paste",r=>{if(r.isDefaultPrevented()||MW(r)){return}const a=o.get()==="text"||n;n=false;const c=wW(r.clipboardData);if(!xW(c)&&DW(e,r,s())){return}if(_W(c,"text/html")){r.preventDefault();RW(e,c,c["text/html"],a,true)}else if(_W(c,"text/plain")&&_W(c,"text/uri-list")){r.preventDefault();RW(e,c,c["text/plain"],a,true)}else{t.create();jv.setEditorTimeout(e,()=>{const o=t.getHtml();t.remove();RW(e,c,o,a,false)},0)}})};const LW=e=>{const t=e=>pt(e,"webkit-fake-url");const o=e=>pt(e,"data:");const n=e=>{var t;return((t=e.data)===null||t===void 0?void 0:t.paste)===true};e.parser.addNodeFilter("img",(s,r,a)=>{if(!_p(e)&&n(a)){for(const n of s){const s=n.attr("src");if(v(s)&&!n.attr("data-mce-object")&&s!==jo.transparentSrc){if(t(s)){n.remove()}else if(!Mp(e)&&o(s)){n.remove()}}}}})};const HW=(e,t,o)=>{BW(e,t,o);LW(e)};const IW=(e,t)=>{if(t.get()==="text"){t.set("html");qm(e,false)}else{t.set("text");qm(e,true)}e.focus()};const PW=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{IW(e,t)});e.addCommand("mceInsertClipboardContent",(t,o)=>{if(o.html){vW(e,o.html,o.internal,false)}if(o.text){kW(e,o.text,false)}})};const FW=(e,t,o)=>{if(e){try{e.clearData();e.setData("text/html",t);e.setData("text/plain",o);e.setData(B$(),t);return true}catch(e){return false}}else{return false}};const VW=(e,t,o,n)=>{if(FW(e.clipboardData,t.html,t.text)){e.preventDefault();n()}else{o(t.html,n)}};const jW=e=>(t,o)=>{const{dom:n,selection:s}=e;const r=n.create("div",{contenteditable:"false","data-mce-bogus":"all"});const a=n.create("div",{contenteditable:"true"},t);n.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"});r.appendChild(a);n.add(e.getBody(),r);const c=s.getRng();a.focus();const i=n.createRng();i.selectNodeContents(a);s.setRng(i);jv.setEditorTimeout(e,()=>{s.setRng(c);n.remove(r);o()},0)};const ZW=e=>({html:H$(e.selection.getContent({contextual:true})),text:e.selection.getContent({format:"text"})});const UW=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody());const qW=e=>!e.selection.isCollapsed()||UW(e);const $W=e=>t=>{if(!t.isDefaultPrevented()&&qW(e)&&e.selection.isEditable()){VW(t,ZW(e),jW(e),()=>{if(jo.browser.isChromium()||jo.browser.isFirefox()){const t=e.selection.getRng();jv.setEditorTimeout(e,()=>{e.selection.setRng(t);e.execCommand("Delete")},0)}else{e.execCommand("Delete")}})}};const WW=e=>t=>{if(!t.isDefaultPrevented()&&qW(e)){VW(t,ZW(e),jW(e),D)}};const GW=e=>{e.on("cut",$W(e));e.on("copy",WW(e))};const KW=(e,t)=>{var o,n;return $k.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(n=t.clientY)!==null&&n!==void 0?n:0,e.getDoc())};const YW=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:false};const XW=(e,t)=>{e.focus();if(t){e.selection.setRng(t)}};const JW=e=>X(e.files,e=>/^image\//.test(e.type));const QW=(e,t,o,n)=>{const s=e.getParent(o,e=>mi(t,e));const r=!x(e.getParent(o,"summary"));if(r){return true}else if(s&&Ne(n,"text/html")){const e=(new DOMParser).parseFromString(n["text/html"],"text/html").body;return!x(e.querySelector(s.nodeName.toLowerCase()))}else{return false}};const eG=e=>{e.on("input",t=>{const o=e=>x(e.querySelector("summary"));if(t.inputType==="deleteByDrag"){const t=oe(e.dom.select("details"),o);Q(t,t=>{if(_c(t.firstChild)){t.firstChild.remove()}const o=e.dom.create("summary");o.appendChild(iu().dom);t.prepend(o)})}})};const tG=(e,t)=>{if(wp(e)){e.on("dragend dragover draggesture dragdrop drop drag",e=>{e.preventDefault();e.stopPropagation()})}if(!_p(e)){e.on("drop",e=>{const t=e.dataTransfer;if(t&&JW(t)){e.preventDefault()}})}e.on("drop",o=>{if(o.isDefaultPrevented()){return}const n=KW(e,o);if(z(n)){return}const s=wW(o.dataTransfer);const r=_W(s,B$());if((!xW(s)||YW(s))&&DW(e,o,n)){return}const a=s[B$()];const c=a||s["text/html"]||s["text/plain"];const i=QW(e.dom,e.schema,n.startContainer,s);const l=t.get();if(l&&!i){return}if(c){o.preventDefault();jv.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{if(a||l&&i){e.execCommand("Delete")}XW(e,n);const t=Q$(c);if(s["text/html"]){vW(e,t,r,true)}else{kW(e,t,true)}})})}});e.on("dragstart",e=>{t.set(true)});e.on("dragover dragend",o=>{if(_p(e)&&!t.get()){o.preventDefault();XW(e,KW(e,o))}if(o.type==="dragend"){t.set(false)}});eG(e)};const oG=e=>{const t=t=>o=>{t(e,o)};const o=xp(e);if(E(o)){e.on("PastePreProcess",t(o))}const n=Cp(e);if(E(n)){e.on("PastePostProcess",t(n))}};const nG=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})};const sG=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi;const rG=e=>Qo.trim(e).replace(sG,Nl).toLowerCase();const aG=(e,t,o)=>{const n=zp(e);if(o||n==="all"||!Tp(e)){return t}const s=n?n.split(/[, ]/):[];if(s&&n!=="none"){const o=e.dom,n=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,r,a)=>{const c=o.parseStyle(o.decode(r));const i={};for(let e=0;e<s.length;e++){const t=c[s[e]];let r=t;let a=o.getStyle(n,s[e],true);if(/color/.test(s[e])){r=rG(r);a=rG(a)}if(a!==r){i[s[e]]=t}}const l=o.serializeStyle(i,"span");if(l){return t+' style="'+l+'"'+a}return t+a})}else{t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")}t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,o,n)=>t+' style="'+o+'"'+n);return t};const cG=e=>{if(jo.browser.isChromium()||jo.browser.isSafari()){nG(e,aG)}};const iG=e=>{const t=Ie(false);const o=Ie(Ap(e)?"text":"html");const n=Y$(e);cG(e);PW(e,o);oG(e);e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text");e.on("PreInit",()=>{GW(e);tG(e,t);HW(e,n,o)})};const lG=e=>{e.on("click",t=>{if(e.dom.getParent(t.target,"details")){t.preventDefault()}})};const dG=e=>{e.parser.addNodeFilter("details",t=>{const o=Gp(e);Q(t,e=>{if(o==="expanded"){e.attr("open","open")}else if(o==="collapsed"){e.attr("open",null)}})});e.serializer.addNodeFilter("details",t=>{const o=Kp(e);Q(t,e=>{if(o==="expanded"){e.attr("open","open")}else if(o==="collapsed"){e.attr("open",null)}})})};const uG=e=>{lG(e);dG(e)};const fG=_c;const mG=hc;const gG=e=>zc(e.dom);const pG=e=>Sc(e.dom);const hG=e=>t=>Sn(rn.fromDom(e),t);const yG=(e,t,o)=>Nr(rn.fromDom(e),e=>pG(e)||o.isBlock(En(e)),hG(t)).getOr(rn.fromDom(t)).dom;const bG=(e,t)=>Nr(rn.fromDom(e),gG,hG(t));const vG=(e,t,o)=>{const n=new Ga(e,t);const s=o?n.next.bind(n):n.prev.bind(n);let r=e;for(let t=o?e:s();t&&!fG(t);t=s()){if(of(t)){r=t}}return r};const kG=(e,t,o)=>{const n=Af.fromRangeStart(e);const s=n.getNode();const r=yG(s,t,o);const a=vG(s,r,false);const c=vG(s,r,true);const i=document.createRange();bG(a,r).fold(()=>{if(mG(a)){i.setStart(a,0)}else{i.setStartBefore(a)}},e=>i.setStartBefore(e.dom));bG(c,r).fold(()=>{if(mG(c)){i.setEnd(c,c.data.length)}else{i.setEndAfter(c)}},e=>i.setEndAfter(e.dom));return i};const wG=e=>{const t=kG(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(OS(t))};const _G=e=>{e.on("mousedown",t=>{if(t.detail>=3){t.preventDefault();wG(e)}})};var xG;(function(e){e["Before"]="before";e["After"]="after"})(xG||(xG={}));const CG=(e,t)=>Math.abs(e.left-t);const SG=(e,t)=>Math.abs(e.right-t);const zG=(e,t)=>e>=t.top&&e<=t.bottom;const TG=(e,t)=>e.top<t.bottom&&e.bottom>t.top;const EG=(e,t)=>{const o=Fu(e,t)/Math.min(e.height,t.height);return TG(e,t)&&o>.5};const OG=(e,t)=>{const o=oe(e,e=>zG(t,e));return Iu(o).fold(()=>[[],e],t=>{const{pass:o,fail:n}=te(e,e=>EG(e,t));return[o,n]})};const AG=(e,t)=>({node:e.node,position:CG(e,t)<SG(e,t)?xG.Before:xG.After});const DG=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t));const MG=(e,t,o,n)=>{const s=e=>{if(of(e.node)){return U.some(e)}else if(sc(e.node)){return MG(be(e.node.childNodes),t,o,false)}else{return U.none()}};const r=(e,n,r)=>s(n).filter(n=>{const s=Math.abs(r(e,t,o)-r(n,t,o));return s<2&&hc(n.node)});const a=(e,a)=>{const c=ge(e,(e,n)=>a(e,t,o)-a(n,t,o));return ve(c,s).map(e=>{if(n&&!hc(e.node)&&c.length>1){return r(e,c[1],a).getOr(e)}else{return e}})};const[c,i]=OG(QH(e),o);const{pass:l,fail:d}=te(i,e=>e.top<o);return a(c,DG).orThunk(()=>a(d,Pu)).orThunk(()=>a(l,Pu))};const NG=(e,t,o,n)=>{const s=(t,r)=>{const a=e=>sc(e)&&e.classList.contains("mce-drag-container");const c=oe(t.dom.childNodes,I(a));return r.fold(()=>MG(c,o,n,true),e=>{const t=oe(c,t=>t!==e.dom);return MG(t,o,n,true)}).orThunk(()=>{const o=Sn(t,e)?U.none():Zn(t);return o.bind(e=>s(e,U.some(t)))})};return s(t,U.none())};const RG=(e,t,o)=>{const n=rn.fromDom(e);const s=Pn(n);const r=rn.fromPoint(s,t,o).filter(e=>zn(n,e));const a=r.getOr(n);return NG(n,a,t,o)};const BG=(e,t,o)=>RG(e,t,o).filter(e=>xh(e.node)).map(e=>AG(e,t));const LG=e=>{var t,o;const n=e.getBoundingClientRect();const s=e.ownerDocument;const r=s.documentElement;const a=s.defaultView;return{top:n.top+((t=a===null||a===void 0?void 0:a.scrollY)!==null&&t!==void 0?t:0)-r.clientTop,left:n.left+((o=a===null||a===void 0?void 0:a.scrollX)!==null&&o!==void 0?o:0)-r.clientLeft}};const HG=e=>e.inline?LG(e.getBody()):{left:0,top:0};const IG=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}};const PG=e=>{const t=e.getBody(),o=e.getDoc().documentElement;const n={left:t.scrollLeft,top:t.scrollTop};const s={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?n:s};const FG=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const o=LG(e.getContentAreaContainer());const n=PG(e);return{left:t.pageX-o.left+n.left,top:t.pageY-o.top+n.top}}return{left:t.pageX,top:t.pageY}};const VG=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top});const jG=(e,t)=>VG(HG(e),IG(e),FG(e,t));const ZG=e=>({target:e,srcElement:e});const UG=(e,t,o,n)=>({...t,dataTransfer:n,type:e,...ZG(o)});const qG=(e,t,o)=>{const n=P("Function not supported on simulated event.");const s={bubbles:true,cancelBubble:false,cancelable:true,composed:false,currentTarget:null,defaultPrevented:false,eventPhase:0,isTrusted:true,returnValue:false,timeStamp:0,type:e,composedPath:n,initEvent:n,preventDefault:D,stopImmediatePropagation:D,stopPropagation:D,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:false,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:false,layerX:0,layerY:0,metaKey:false,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:false,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:o,...ZG(t)};return s};const $G=(e,t)=>{const o=kV(e);if(t==="dragstart"){eV(o);dV(o)}else if(t==="drop"){tV(o);uV(o)}else{oV(o);fV(o)}return o};const WG=(e,t,o,n)=>{const s=$G(o,e);return S(n)?qG(e,t,s):UG(e,n,t,s)};const GG=32;const KG=100;const YG=8;const XG=16;const JG=zc;const QG=$u(JG,Sc);const eK=(e,t,o)=>JG(o)&&o!==t&&e.isEditable(o.parentElement);const tK=(e,t,o)=>{if(z(t)){return false}else if(t===o||e.dom.isChildOf(t,o)){return false}else{return e.dom.isEditable(t)}};const oK=(e,t,o,n)=>{const s=e.dom;const r=t.cloneNode(true);s.setStyles(r,{width:o,height:n});s.setAttrib(r,"data-mce-selected",null);const a=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});s.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:n});s.setStyles(r,{margin:0,boxSizing:"border-box"});a.appendChild(r);return a};const nK=(e,t)=>{if(e.parentNode!==t){t.appendChild(e)}};const sK=(e,t)=>o=>()=>{const n=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:n+t,behavior:"smooth"})};const rK=sK("left",-GG);const aK=sK("left",GG);const cK=sK("top",-GG);const iK=sK("top",GG);const lK=(e,t,o,n,s,r,a,c,i,l,d,u)=>{let f=0,m=0;e.style.left=t.pageX+"px";e.style.top=t.pageY+"px";if(t.pageX+o>s){f=t.pageX+o-s}if(t.pageY+n>r){m=t.pageY+n-r}e.style.width=o-f+"px";e.style.height=n-m+"px";const g=i.clientHeight;const p=i.clientWidth;const h=a+i.getBoundingClientRect().top;const y=c+i.getBoundingClientRect().left;d.on(e=>{e.intervalId.clear();if(e.dragging&&u){if(a+YG>=g){e.intervalId.set(iK(l))}else if(a-YG<=0){e.intervalId.set(cK(l))}else if(c+YG>=p){e.intervalId.set(aK(l))}else if(c-YG<=0){e.intervalId.set(rK(l))}else if(h+XG>=window.innerHeight){e.intervalId.set(iK(window))}else if(h-XG<=0){e.intervalId.set(cK(window))}else if(y+XG>=window.innerWidth){e.intervalId.set(aK(window))}else if(y-XG<=0){e.intervalId.set(rK(window))}}})};const dK=e=>{if(e&&e.parentNode){e.parentNode.removeChild(e)}};const uK=(e,t)=>{const o=e.getParent(t.parentNode,e.isBlock);dK(t);if(o&&o!==e.getRoot()&&e.isEmpty(o)){lu(rn.fromDom(o))}};const fK=e=>e.button===0;const mK=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5});const gK=(e,t)=>o=>{if(fK(o)){const n=ae(t.dom.getParents(o.target),QG).getOr(null);if(T(n)&&eK(t.dom,t.getBody(),n)){const s=t.dom.getPos(n);const r=t.getBody();const a=t.getDoc().documentElement;e.set({element:n,dataTransfer:vV(),dragging:false,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?r.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:a.offsetHeight)-2,relX:o.pageX-s.x,relY:o.pageY-s.y,width:n.offsetWidth,height:n.offsetHeight,ghost:oK(t,n,n.offsetWidth,n.offsetHeight),intervalId:lt(KG)})}}};const pK=(e,t,o)=>{e._selectionOverrides.hideFakeCaret();BG(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),n=>{const s=e._selectionOverrides.showCaret(1,n.node,n.position===xG.Before,false);if(s){e.selection.setRng(s)}else{e.selection.placeCaretAt(t,o)}})};const hK=(e,t,o,n,s)=>{if(t==="dragstart"){_V(n,e.dom.getOuterHTML(o))}const r=WG(t,o,n,s);const a=e.dispatch(t,r);return a};const yK=(e,t)=>{const o=St((e,o)=>pK(t,e,o),0);t.on("remove",o.cancel);const n=e;return s=>e.on(e=>{const r=Math.max(Math.abs(s.screenX-e.screenX),Math.abs(s.screenY-e.screenY));if(!e.dragging&&r>10){const o=hK(t,"dragstart",e.element,e.dataTransfer,s);if(T(o.dataTransfer)){e.dataTransfer=o.dataTransfer}if(o.isDefaultPrevented()){return}e.dragging=true;t.focus()}if(e.dragging){const r=s.currentTarget===t.getDoc().documentElement;const a=mK(e,jG(t,s));nK(e.ghost,t.getBody());lK(e.ghost,a,e.width,e.height,e.maxX,e.maxY,s.clientY,s.clientX,t.getContentAreaContainer(),t.getWin(),n,r);o.throttle(s.clientX,s.clientY)}})};const bK=e=>{const t=e.getSel();if(T(t)){const e=t.getRangeAt(0);const o=e.startContainer;return hc(o)?o.parentNode:o}else{return null}};const vK=(e,t)=>o=>{e.on(e=>{var n;e.intervalId.clear();if(e.dragging){if(tK(t,bK(t.selection),e.element)){const s=(n=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&n!==void 0?n:t.getBody();const r=hK(t,"drop",s,e.dataTransfer,o);if(!r.isDefaultPrevented()){t.undoManager.transact(()=>{uK(t.dom,e.element);wV(e.dataTransfer).each(e=>t.insertContent(e));t._selectionOverrides.hideFakeCaret()})}}hK(t,"dragend",t.getBody(),e.dataTransfer,o)}});_K(e)};const kK=(e,t,o)=>{e.on(e=>{e.intervalId.clear();if(e.dragging){o.fold(()=>hK(t,"dragend",e.element,e.dataTransfer),o=>hK(t,"dragend",e.element,e.dataTransfer,o))}});_K(e)};const wK=(e,t)=>o=>kK(e,t,U.some(o));const _K=e=>{e.on(e=>{e.intervalId.clear();dK(e.ghost)});e.clear()};const xK=e=>{const t=dt();const o=ad.DOM;const n=document;const s=gK(t,e);const r=yK(t,e);const a=vK(t,e);const c=wK(t,e);e.on("mousedown",s);e.on("mousemove",r);e.on("mouseup",a);o.bind(n,"mousemove",r);o.bind(n,"mouseup",c);e.on("remove",()=>{o.unbind(n,"mousemove",r);o.unbind(n,"mouseup",c)});e.on("keydown",o=>{if(o.keyCode===Ck.ESC){kK(t,e,U.none())}})};const CK=e=>{const t=t=>{if(!t.isDefaultPrevented()){const o=t.dataTransfer;if(o&&(Y(o.types,"Files")||o.files.length>0)){t.preventDefault();if(t.type==="drop"){sR(e,"Dropped file type is not supported")}}}};const o=o=>{if(sk(e,o.target)){t(o)}};const n=()=>{const n=ad.DOM;const s=e.dom;const r=document;const a=e.inline?e.getBody():e.getDoc();const c=["drop","dragover"];Q(c,e=>{n.bind(r,e,o);s.bind(a,e,t)});e.on("remove",()=>{Q(c,e=>{n.unbind(r,e,o);s.unbind(a,e,t)})})};e.on("init",()=>{jv.setEditorTimeout(e,n,0)})};const SK=e=>{xK(e);if(dp(e)){CK(e)}};const zK=e=>{const t=St(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const o=fL(e,t,false);e.selection.setRng(o)}}},0);e.on("focus",()=>{t.throttle()});e.on("blur",()=>{t.cancel()})};const TK=e=>{e.on("init",()=>{e.on("focusin",t=>{const o=t.target;if(Ac(o)){const t=rS(e.getBody(),o);const n=zc(t)?t:o;if(e.selection.getNode()!==n){dL(e,n).each(t=>e.selection.setRng(t))}}})})};const EK=zc;const OK=(e,t)=>rS(e.getBody(),t);const AK=e=>{const t=e.selection,o=e.dom;const n=e.getBody();const s=kh(e,n,o.isBlock,()=>vk(e));const r="sel-"+o.uniqueId();const a="data-mce-selected";let c;const i=e=>T(e)&&o.hasClass(e,"mce-offscreen-selection");const l=e=>e!==n&&(EK(e)||Ac(e))&&o.isChildOf(e,n)&&o.isEditable(e.parentNode);const d=e=>{if(e){t.setRng(e)}};const u=(o,n,r,a=true)=>{const c=e.dispatch("ShowCaret",{target:n,direction:o,before:r});if(c.isDefaultPrevented()){return null}if(a){t.scrollIntoView(n,o===-1)}return s.show(r,n)};const f=e=>{if(e.hasAttribute("data-mce-caret")){Eu(e);t.scrollIntoView(e)}};const m=()=>{e.on("click",t=>{if(!o.isEditable(t.target)){t.preventDefault();e.focus()}});e.on("blur NewBlock",k);e.on("ResizeWindow FullscreenStateChanged",s.reposition);e.on("tap",t=>{const o=t.target;const n=OK(e,o);if(EK(n)){t.preventDefault();dL(e,n).each(v)}else if(l(o)){dL(e,o).each(v)}},true);e.on("mousedown",t=>{const s=t.target;if(s!==n&&s.nodeName!=="HTML"&&!o.isChildOf(s,n)){return}if(!GN(e,t.clientX,t.clientY)){return}k();_();const r=OK(e,s);if(EK(r)){t.preventDefault();dL(e,r).each(v)}else{BG(n,t.clientX,t.clientY).each(o=>{t.preventDefault();const n=u(1,o.node,o.position===xG.Before,false);d(n);if(rc(r)){r.focus()}else{e.getBody().focus()}})}});e.on("keypress",e=>{if(Ck.modifierPressed(e)){return}if(EK(t.getNode())){e.preventDefault()}});e.on("GetSelectionRange",e=>{let t=e.range;if(c){if(!c.parentNode){c=null;return}t=t.cloneRange();t.selectNode(c);e.range=t}});e.on("focusin",t=>{if(s.isShowing()&&e.getBody().contains(t.target)&&t.target!==e.getBody()&&!e.dom.isEditable(t.target.parentNode)){s.hide();if(!t.target.contains(e.selection.getNode())){e.selection.select(t.target,true);e.selection.collapse(true)}const o=v(e.selection.getRng(),true);if(o){e.selection.setRng(o)}}});e.on("SetSelectionRange",e=>{e.range=h(e.range);const t=v(e.range,e.forward);if(t){e.range=t}});const r=e=>sc(e)&&e.id==="mcepastebin";e.on("AfterSetSelectionRange",e=>{const t=e.range;const o=t.startContainer.parentElement;if(!p(t)&&!r(o)){_()}if(!i(o)){k()}});SK(e);zK(e);TK(e)};const g=e=>vu(e)||Su(e)||zu(e);const p=e=>g(e.startContainer)||g(e.endContainer);const h=t=>{const n=e.schema.getVoidElements();const s=o.createRng();const r=t.startContainer;const a=t.startOffset;const c=t.endContainer;const i=t.endOffset;if(Ne(n,r.nodeName.toLowerCase())){if(a===0){s.setStartBefore(r)}else{s.setStartAfter(r)}}else{s.setStart(r,a)}if(Ne(n,c.nodeName.toLowerCase())){if(i===0){s.setEndBefore(c)}else{s.setEndAfter(c)}}else{s.setEnd(c,i)}return s};const y=(n,s)=>{const a=rn.fromDom(e.getBody());const c=e.getDoc();const i=Ir(a,"#"+r).getOrThunk(()=>{const e=rn.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',c);Ds(e,"id",r);zs(a,e);return e});const l=o.createRng();Ps(i);Os(i,[rn.fromText(Ot,c),rn.fromDom(s),rn.fromText(Ot,c)]);l.setStart(i.dom.firstChild,1);l.setEnd(i.dom.lastChild,0);nr(i,{top:o.getPos(n,e.getBody()).y+"px"});vs(i);const d=t.getSel();if(d){d.removeAllRanges();d.addRange(l)}return l};const b=t=>{const n=t.cloneNode(true);const s=e.dispatch("ObjectSelected",{target:t,targetClone:n});if(s.isDefaultPrevented()){return null}const r=y(t,s.targetClone);const i=rn.fromDom(t);Q(sa(rn.fromDom(e.getBody()),`*[${a}]`),e=>{if(!Sn(i,e)){Ls(e,a)}});if(!o.getAttrib(t,a)){t.setAttribute(a,"1")}c=t;_();return r};const v=(e,t)=>{if(!e){return null}if(e.collapsed){if(!p(e)){const s=t?1:-1;const r=Gh(s,n,e);const a=r.getNode(!t);if(T(a)){if(xh(a)){return u(s,a,t?!r.isAtEnd():false,false)}if(bu(a)&&zc(a.nextSibling)){const e=o.createRng();e.setStart(a,0);e.setEnd(a,0);return e}}const c=r.getNode(t);if(T(c)){if(xh(c)){return u(s,c,t?false:!r.isAtEnd(),false)}if(bu(c)&&zc(c.previousSibling)){const e=o.createRng();e.setStart(c,1);e.setEnd(c,1);return e}}}return null}let s=e.startContainer;let r=e.startOffset;const a=e.endOffset;if(hc(s)&&r===0&&EK(s.parentNode)){s=s.parentNode;r=o.nodeIndex(s);s=s.parentNode}if(!sc(s)){return null}if(a===r+1&&s===e.endContainer){const e=s.childNodes[r];if(l(e)){return b(e)}}return null};const k=()=>{if(c){c.removeAttribute(a)}Ir(rn.fromDom(e.getBody()),"#"+r).each(Fs);c=null};const w=()=>{s.destroy();c=null};const _=()=>{s.hide()};if(!nM(e)){m()}return{showCaret:u,showBlockCaretContainer:f,hideFakeCaret:_,destroy:w}};const DK=(e,t)=>{let o=t;for(let t=e.previousSibling;hc(t);t=t.previousSibling){o+=t.data.length}return o};const MK=(e,t,o,n,s)=>{if(hc(o)&&(n<0||n>o.data.length)){return[]}const r=s&&hc(o)?[DK(o,n)]:[n];let a=o;while(a!==t&&a.parentNode){r.push(e.nodeIndex(a,s));a=a.parentNode}return a===t?r.reverse():[]};const NK=(e,t,o,n,s,r,a=false)=>{const c=MK(e,t,o,n,a);const i=MK(e,t,s,r,a);return{start:c,end:i}};const RK=(e,t)=>{const o=t.slice();const n=o.pop();if(!O(n)){return U.none()}else{const t=se(o,(e,t)=>e.bind(e=>U.from(e.childNodes[t])),U.some(e));return t.bind(e=>{if(hc(e)&&(n<0||n>e.data.length)){return U.none()}else{return U.some({node:e,offset:n})}})}};const BK=(e,t)=>RK(e,t.start).bind(({node:o,offset:n})=>RK(e,t.end).map(({node:e,offset:t})=>{const s=document.createRange();s.setStart(o,n);s.setEnd(e,t);return s}));const LK=(e,t,o,n=false)=>NK(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,n);const HK=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){const n=t.parentNode;e.remove(t,hc(t.firstChild)&&Ya(t.firstChild.data));HK(e,n,o)}};const IK=(e,t,o,n=true)=>{const s=t.startContainer.parentNode;const r=t.endContainer.parentNode;t.deleteContents();if(n&&!o(t.startContainer)){if(hc(t.startContainer)&&t.startContainer.data.length===0){e.remove(t.startContainer)}if(hc(t.endContainer)&&t.endContainer.data.length===0){e.remove(t.endContainer)}HK(e,s,o);if(s!==r){HK(e,r,o)}}};const PK=(e,t)=>U.from(e.dom.getParent(t.startContainer,e.dom.isBlock));const FK=(e,t,o)=>{const n=e.dynamicPatternsLookup({text:o,block:t});return{...e,blockPatterns:pm(n).concat(e.blockPatterns),inlinePatterns:hm(n).concat(e.inlinePatterns)}};const VK=(e,t,o,n)=>{const s=e.createRng();s.setStart(t,0);s.setEnd(o,n);return s.toString()};const jK=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t});const ZK=(e,t)=>{const o=e.createRng();o.setStartAfter(t.start);o.setEndBefore(t.end);return o};const UK=(e,t,o)=>{const n=BK(e.getRoot(),o).getOrDie("Unable to resolve path range");const s=n.startContainer;const r=n.endContainer;const a=n.endOffset===0?r:r.splitText(n.endOffset);const c=n.startOffset===0?s:s.splitText(n.startOffset);const i=c.parentNode;const l=a.parentNode;return{prefix:t,end:l.insertBefore(jK(e,t+"-end"),a),start:i.insertBefore(jK(e,t+"-start"),c)}};const qK=(e,t,o)=>{HK(e,e.get(t.prefix+"-end"),o);HK(e,e.get(t.prefix+"-start"),o)};const $K=e=>e.start.length===0;const WK=e=>(t,o)=>{const n=t.data;const s=n.substring(0,o);const r=s.lastIndexOf(e.charAt(e.length-1));const a=s.lastIndexOf(e);if(a!==-1){return a+e.length}else if(r!==-1){return r+1}else{return-1}};const GK=(e,t,o,n)=>{const s=t.start;const r=hj(e,n.container,n.offset,WK(s),o);return r.bind(n=>{var r,a;const c=(a=(r=o.textContent)===null||r===void 0?void 0:r.indexOf(s))!==null&&a!==void 0?a:-1;const i=c!==-1&&n.offset>=c+s.length;if(i){const t=e.createRng();t.setStart(n.container,n.offset-s.length);t.setEnd(n.container,n.offset);return U.some(t)}else{const r=n.offset-s.length;return gj(n.container,r,o).map(t=>{const o=e.createRng();o.setStart(t.container,t.offset);o.setEnd(n.container,n.offset);return o}).filter(e=>e.toString()===s).orThunk(()=>GK(e,t,o,ij(n.container,0)))}})};const KK=(e,t,o,n,s,r=false)=>{if(t.start.length===0&&!r){const t=e.createRng();t.setStart(o,n);t.setEnd(o,n);return U.some(t)}return fj(o,n,s).bind(o=>{const n=GK(e,t,s,o);return n.bind(e=>{var t;if(r){if(e.endContainer===o.container&&e.endOffset===o.offset){return U.none()}else if(o.offset===0&&((t=e.endContainer.textContent)===null||t===void 0?void 0:t.length)===e.endOffset){return U.none()}}return U.some(e)})})};const YK=(e,t,o,n)=>{const s=e.dom;const r=s.getRoot();const a=o.pattern;const c=o.position.container;const i=o.position.offset;return gj(c,i-o.pattern.end.length,t).bind(l=>{const d=NK(s,r,l.container,l.offset,c,i,n);if($K(a)){return U.some({matches:[{pattern:a,startRng:d,endRng:d}],position:l})}else{const c=XK(e,o.remainingPatterns,l.container,l.offset,t,n);const i=c.getOr({matches:[],position:l});const u=i.position;const f=KK(s,a,u.container,u.offset,t,c.isNone());return f.map(e=>{const t=LK(s,r,e,n);return{matches:i.matches.concat([{pattern:a,startRng:t,endRng:d}]),position:ij(e.startContainer,e.startOffset)}})}})};const XK=(e,t,o,n,s,r)=>{const a=e.dom;return fj(o,n,a.getRoot()).bind(c=>{const i=VK(a,s,o,n);for(let a=0;a<t.length;a++){const l=t[a];if(!ht(i,l.end)){continue}const d=t.slice();d.splice(a,1);const u=YK(e,s,{pattern:l,remainingPatterns:d,position:c},r);if(u.isNone()&&n>0){return XK(e,t,o,n-1,s,r)}if(u.isSome()){return u}}return U.none()})};const JK=(e,t,o)=>{e.selection.setRng(o);if(t.type==="inline-format"){Q(t.format,t=>{e.formatter.apply(t)})}else{e.execCommand(t.cmd,false,t.value)}};const QK=(e,t,o,n)=>{const s=ZK(e.dom,o);IK(e.dom,s,n);JK(e,t,s)};const eY=(e,t,o,n,s)=>{const r=e.dom;const a=ZK(r,n);const c=ZK(r,o);IK(r,c,s);IK(r,a,s);const i={prefix:o.prefix,start:o.end,end:n.start};const l=ZK(r,i);JK(e,t,l)};const tY=(e,t)=>{const o=We("mce_textpattern");const n=ne(t,(t,n)=>{const s=UK(e,o+`_end${t.length}`,n.endRng);return t.concat([{...n,endMarker:s}])},[]);return ne(n,(t,s)=>{const r=n.length-t.length-1;const a=$K(s.pattern)?s.endMarker:UK(e,o+`_start${r}`,s.startRng);return t.concat([{...s,startMarker:a}])},[])};const oY=e=>ge(e,(e,t)=>t.end.length-e.end.length);const nY=(e,t)=>{const o=de(e,e=>X(t,t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end));if(e.length===t.length){if(o){return e}else{return t}}return e.length>t.length?e:t};const sY=(e,t,o,n,s,r)=>{const a=XK(e,s.inlinePatterns,o,n,t,r).fold(()=>[],e=>e.matches);const c=XK(e,oY(s.inlinePatterns),o,n,t,r).fold(()=>[],e=>e.matches);return nY(a,c)};const rY=(e,t)=>{if(t.length===0){return}const o=e.dom;const n=e.selection.getBookmark();const s=tY(o,t);Q(s,t=>{const n=o.getParent(t.startMarker.start,o.isBlock);const s=e=>e===n;if($K(t.pattern)){QK(e,t.pattern,t.endMarker,s)}else{eY(e,t.pattern,t.startMarker,t.endMarker,s)}qK(o,t.endMarker,s);qK(o,t.startMarker,s)});e.selection.moveToBookmark(n)};const aY=(e,t,o)=>mj(t,0,t).map(n=>{const s=n.container;pj(s,o.start.length,t).each(o=>{const n=e.createRng();n.setStart(s,0);n.setEnd(o.container,o.offset);IK(e,n,e=>e===t)});return s});const cY=e=>(t,o)=>{const n=t.dom;const s=o.pattern;const r=BK(n.getRoot(),o.range).getOrDie("Unable to resolve path range");const a=(e,t)=>{const o=t.get(e);return _(o)&&he(o).exists(e=>Ne(e,"block"))};PK(t,r).each(o=>{if(s.type==="block-format"){if(a(s.format,t.formatter)){t.undoManager.transact(()=>{e(t.dom,o,s);t.formatter.apply(s.format)})}}else if(s.type==="block-command"){t.undoManager.transact(()=>{e(t.dom,o,s);t.execCommand(s.cmd,false,s.value)})}});return true};const iY=e=>ge(e,(e,t)=>t.start.length-e.start.length);const lY=e=>(t,o)=>{const n=iY(t);const s=o.replace(Ot," ");return ae(n,t=>e(t,o,s))};const dY=(e,t)=>(o,n,s,r,a)=>{var c;if(a===void 0){a=(c=n.textContent)!==null&&c!==void 0?c:""}const i=o.dom;const l=dg(o);if(!i.is(n,l)){return[]}return e(s.blockPatterns,a).map(e=>{if(t&&Qo.trim(a).length===e.start.length){return[]}return[{pattern:e,range:NK(i,i.getRoot(),n,0,n,0,r)}]}).getOr([])};const uY=e=>/^\s[^\s]/.test(e);const fY=(e,t,o)=>{aY(e,t,o).each(e=>{const t=rn.fromDom(e);const o=Sr(t);if(uY(o)){Tr(t,o.slice(1))}})};const mY=cY(fY);const gY=lY((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0);const pY=dY(gY,true);const hY=(e,t)=>{const o=e.selection.getRng();return PK(e,o).map(n=>{var s;const r=Math.max(0,o.startOffset);const a=FK(t,n,(s=n.textContent)!==null&&s!==void 0?s:"");const c=sY(e,n,o.startContainer,r,a,true);const i=pY(e,n,a,true);return{inlineMatches:c,blockMatches:i}}).filter(({inlineMatches:e,blockMatches:t})=>t.length>0||e.length>0)};const yY=(e,t)=>{if(t.length===0){return}const o=e.selection.getBookmark();Q(t,t=>mY(e,t));e.selection.moveToBookmark(o)};const bY=cY(aY);const vY=lY((e,t,o)=>t===e.start||o===e.start);const kY=dY(vY,false);const wY=(e,t)=>{const o=e.selection.getRng();return PK(e,o).map(n=>{const s=Math.max(0,o.startOffset);const r=VK(e.dom,n,o.startContainer,s);const a=FK(t,n,r);return kY(e,n,a,false,r)}).filter(e=>e.length>0)};const _Y=(e,t)=>{Q(t,t=>bY(e,t))};const xY=(e,t)=>hY(e,t).fold(j,({inlineMatches:t,blockMatches:o})=>{e.undoManager.add();e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{gu(e);rY(e,t);yY(e,o);const n=e.selection.getRng();const s=fj(n.startContainer,n.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine");s.each(t=>{const o=t.container;if(o.data.charAt(t.offset-1)===Et){o.deleteData(t.offset-1,1);HK(e.dom,o.parentNode,t=>t===e.dom.getRoot())}})});return true});const CY=(e,t)=>{const o=e.selection.getRng();PK(e,o).map(n=>{const s=Math.max(0,o.startOffset-1);const r=VK(e.dom,n,o.startContainer,s);const a=FK(t,n,r);const c=sY(e,n,o.startContainer,s,a,false);if(c.length>0){e.undoManager.transact(()=>{rY(e,c)})}})};const SY=(e,t)=>wY(e,t).fold(j,t=>{e.undoManager.transact(()=>{_Y(e,t)});return true});const zY=(e,t,o)=>{for(let n=0;n<e.length;n++){if(o(e[n],t)){return true}}return false};const TY=(e,t)=>zY(e,t,(e,t)=>e===t.keyCode&&!Ck.modifierPressed(t));const EY=(e,t)=>zY(e,t,(e,t)=>e.charCodeAt(0)===t.charCode);const OY=e=>{const t=[",",".",";",":","!","?"];const o=[32];const n=()=>ym(Np(e).filter(t=>{if(t.type==="inline-command"||t.type==="block-command"){return e.queryCommandSupported(t.cmd)}return true}),Rp(e));const s=()=>jp(e);e.on("keydown",t=>{if(t.keyCode===13&&!Ck.modifierPressed(t)&&e.selection.isCollapsed()&&e.selection.isEditable()){const o=bm(n(),"enter");const r=o.inlinePatterns.length>0||o.blockPatterns.length>0||s();if(r&&xY(e,o)){t.preventDefault()}}},true);e.on("keydown",t=>{if(t.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const o=bm(n(),"space");const r=o.blockPatterns.length>0||s();if(r&&SY(e,o)){t.preventDefault()}}},true);const r=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const t=bm(n(),"space");const o=t.inlinePatterns.length>0||s();if(o){CY(e,t)}}};e.on("keyup",e=>{if(TY(o,e)){r()}});e.on("keypress",o=>{if(EY(t,o)){jv.setEditorTimeout(e,r)}})};const AY=e=>{OY(e)};const DY=e=>{const t=Qo.each;const o=Ck.BACKSPACE,n=Ck.DELETE,s=e.dom,r=e.selection,a=e.parser;const c=jo.browser;const i=c.isFirefox();const l=c.isChromium()||c.isSafari();const d=jo.deviceType.isiPhone()||jo.deviceType.isiPad();const u=jo.os.isMacOS()||jo.os.isiOS();const f=(t,o)=>{try{e.getDoc().execCommand(t,false,String(o))}catch(e){}};const m=e=>e.isDefaultPrevented();const g=()=>{const t=e=>{const t=s.create("body");const o=e.cloneContents();t.appendChild(o);return r.serializer.serialize(t,{format:"html"})};const a=o=>{const n=t(o);const r=s.createRng();r.selectNode(e.getBody());const a=t(r);return n===a};e.on("keydown",t=>{const r=t.keyCode;if(!m(t)&&(r===n||r===o)&&e.selection.isEditable()){const o=e.selection.isCollapsed();const n=e.getBody();if(o&&!Zc(e.schema,n)){return}if(!o&&!a(e.selection.getRng())){return}t.preventDefault();e.setContent("");if(n.firstChild&&s.isBlock(n.firstChild)){e.selection.setCursorLocation(n.firstChild,0)}else{e.selection.setCursorLocation(n,0)}e.nodeChanged()}})};const p=()=>{e.shortcuts.add("meta+a",null,"SelectAll")};const h=()=>{if(!e.inline){s.bind(e.getDoc(),"mousedown mouseup",t=>{let o;if(t.target===e.getDoc().documentElement){o=r.getRng();e.getBody().focus();if(t.type==="mousedown"){if(vu(o.startContainer)){return}r.placeCaretAt(t.clientX,t.clientY)}else{r.setRng(o)}}})}};const y=()=>{e.on("keydown",t=>{if(!m(t)&&t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length){return}if(r.isCollapsed()&&r.getRng().startOffset===0){const e=r.getNode();const o=e.previousSibling;if(e.nodeName==="HR"){s.remove(e);t.preventDefault();return}if(o&&o.nodeName&&o.nodeName.toLowerCase()==="hr"){s.remove(o);t.preventDefault()}}}})};const b=()=>{if(!Range.prototype.getClientRects){e.on("mousedown",t=>{if(!m(t)&&t.target.nodeName==="HTML"){const t=e.getBody();t.blur();jv.setEditorTimeout(e,()=>{t.focus()})}})}};const v=()=>{const t=mp(e);e.on("click",o=>{const n=o.target;if(/^(IMG|HR)$/.test(n.nodeName)&&s.isEditable(n)){o.preventDefault();e.selection.select(n);e.nodeChanged()}if(n.nodeName==="A"&&s.hasClass(n,t)&&n.childNodes.length===0&&s.isEditable(n.parentNode)){o.preventDefault();r.select(n)}})};const k=()=>{const t=t=>t.nodeName==="IMG"&&e.dom.isEditable(t);e.on("mousedown",o=>{ot(U.from(o.clientX),U.from(o.clientY),(n,s)=>{const r=e.getDoc().caretPositionFromPoint(n,s);if(r&&t(r.offsetNode)){const t=r.offsetNode.getBoundingClientRect();o.preventDefault();if(!e.hasFocus()){e.focus()}e.selection.select(r.offsetNode);if(o.clientX<t.left||o.clientY<t.top){e.selection.collapse(true)}else if(o.clientX>t.right||o.clientY>t.bottom){e.selection.collapse(false)}}})})};const w=()=>{const o=()=>{const o=s.getAttribs(r.getStart().cloneNode(false));return()=>{const n=r.getStart();if(n!==e.getBody()){s.setAttrib(n,"style",null);t(o,e=>{n.setAttributeNode(e.cloneNode(true))})}}};const n=()=>!r.isCollapsed()&&s.getParent(r.getStart(),s.isBlock)!==s.getParent(r.getEnd(),s.isBlock);e.on("keypress",t=>{let s;if(!m(t)&&(t.keyCode===8||t.keyCode===46)&&n()){s=o();e.getDoc().execCommand("delete",false);s();t.preventDefault();return false}else{return true}});s.bind(e.getDoc(),"cut",t=>{if(!m(t)&&n()){const t=o();jv.setEditorTimeout(e,()=>{t()})}})};const _=()=>{e.on("keydown",e=>{if(!m(e)&&e.keyCode===o){if(r.isCollapsed()&&r.getRng().startOffset===0){const t=r.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==="table"){e.preventDefault();return false}}}return true})};const x=()=>{e.on("keydown",t=>{if(m(t)||t.keyCode!==Ck.BACKSPACE){return}let o=r.getRng();const n=o.startContainer;const a=o.startOffset;const c=s.getRoot();let i=n;if(!o.collapsed||a!==0){return}while(i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==c){i=i.parentNode}if(i.nodeName==="BLOCKQUOTE"){e.formatter.toggle("blockquote",undefined,i);o=s.createRng();o.setStart(n,0);o.setEnd(n,0);r.setRng(o)}})};const C=()=>{const t=()=>{f("StyleWithCSS",false);f("enableInlineTableEditing",false);if(!Hg(e)){f("enableObjectResizing",false)}};if(!rp(e)){e.on("BeforeExecCommand mousedown",t)}};const S=()=>{const o=()=>{t(s.select("a:not([data-mce-block])"),e=>{var t;let o=e.parentNode;const n=s.getRoot();if((o===null||o===void 0?void 0:o.lastChild)===e){while(o&&!s.isBlock(o)){if(((t=o.parentNode)===null||t===void 0?void 0:t.lastChild)!==o||o===n){return}o=o.parentNode}s.add(o,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",e=>{if(e.type==="setcontent"||e.command==="mceInsertLink"){o()}})};const z=()=>{e.on("init",()=>{f("DefaultParagraphSeparator",dg(e))})};const T=e=>{const t=e.getBody();const o=e.selection.getRng();return o.startContainer===o.endContainer&&o.startContainer===t&&o.startOffset===0&&o.endOffset===t.childNodes.length};const E=()=>{e.on("keyup focusin mouseup",t=>{if(!Ck.modifierPressed(t)&&!T(e)){r.normalize()}},true)};const O=()=>{e.contentStyles.push("img:-moz-broken {"+"-moz-force-broken-image-icon:1;"+"min-width:24px;"+"min-height:24px"+"}")};const A=()=>{if(!e.inline){e.on("keydown",()=>{if(document.activeElement===document.body){e.getWin().focus()}})}};const M=()=>{if(!e.inline){e.contentStyles.push("body {min-height: 150px}");e.on("click",t=>{let o;if(t.target.nodeName==="HTML"){o=e.selection.getRng();e.getBody().focus();e.selection.setRng(o);e.selection.normalize();e.nodeChanged()}})}};const N=()=>{if(u){e.on("keydown",t=>{if(Ck.metaKeyPressed(t)&&!t.shiftKey&&(t.keyCode===37||t.keyCode===39)){t.preventDefault();const o=e.selection.getSel();o.modify("move",t.keyCode===37?"backward":"forward","lineboundary")}})}};const R=()=>{e.on("click",e=>{let t=e.target;do{if(t.tagName==="A"){e.preventDefault();return}}while(t=t.parentNode)});e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")};const B=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",e=>{e.preventDefault()})})};const L=()=>{a.addNodeFilter("br",e=>{let t=e.length;while(t--){if(e[t].attr("class")==="Apple-interchange-newline"){e[t].remove()}}})};const H=D;const I=()=>{if(!i||e.removed){return false}const t=e.selection.getSel();return!t||!t.rangeCount||t.rangeCount===0};const P=()=>{if(l){h();v();B();p();if(d){A();M();R()}}if(i){b();C();O();N()}};const F=()=>{x();g();if(!jo.windowsPhone){E()}if(l){h();v();z();B();_();L();if(d){A();M();R()}else{p()}}if(i){k();y();b();w();C();S();O();N();_()}};if(nM(e)){P()}else{F()}return{refreshContentEditable:H,isHidden:I}};const MY=e=>e.toLowerCase()==="gpl";const NY=e=>e.length>=64&&e.length<=255;const RY=e=>MY(e)||NY(e)?"VALID":"INVALID";const BY=e=>{const t=Qp(e);const o=v(eh(e));if(!o&&(S(t)||RY(t)==="INVALID")){console.warn(`TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/`)}};const LY=ad.DOM;const HY=(e,t)=>{const o=rn.fromDom(e.getBody());const n=ss(ns(o));const s=rn.fromTag("style");Ds(s,"type","text/css");zs(s,rn.fromText(t));zs(n,s);e.on("remove",()=>{Fs(s)})};const IY=e=>e.inline?e.getElement().nodeName.toLowerCase():undefined;const PY=e=>Oe(e,e=>S(e)===false);const FY=e=>{const t=e.options.get;const o=e.editorUpload.blobCache;return PY({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:IY(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Xp(e),sanitize:t("xss_sanitization"),validate:true,blob_cache:o,document:e.getDoc()})};const VY=e=>{const t=e.options.get;return PY({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})};const jY=e=>{const t=e.options.get;return{...FY(e),...VY(e),...PY({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}};const ZY=e=>{const t=TA(FY(e),e.schema);t.addAttributeFilter("src,href,style,tabindex",(t,o)=>{const n=e.dom;const s="data-mce-"+o;let r=t.length;while(r--){const a=t[r];let c=a.attr(o);if(c&&!a.attr(s)){if(c.indexOf("data:")===0||c.indexOf("blob:")===0){continue}if(o==="style"){c=n.serializeStyle(n.parseStyle(c),a.name);if(!c.length){c=null}a.attr(s,c);a.attr(o,c)}else if(o==="tabindex"){a.attr(s,c);a.attr(o,null)}else{a.attr(s,e.convertURL(c,o,a.name))}}}});t.addNodeFilter("script",e=>{let t=e.length;while(t--){const o=e[t];const n=o.attr("type")||"no/type";if(n.indexOf("mce-")!==0){o.attr("type","mce-"+n)}}});if(Ip(e)){t.addNodeFilter("#cdata",t=>{var o;let n=t.length;while(n--){const s=t[n];s.type=8;s.name="#comment";s.value="[CDATA["+e.dom.encode((o=s.value)!==null&&o!==void 0?o:"")+"]]"}})}t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",t=>{let o=t.length;const n=e.schema.getNonEmptyElements();while(o--){const e=t[o];if(e.isEmpty(n)&&e.getAll("br").length===0){e.append(new Ew("br",1))}}});return t};const UY=e=>{const t=bp(e);if(t){jv.setEditorTimeout(e,()=>{let o;if(t===true){o=e}else{o=e.editorManager.get(t)}if(o&&!o.destroyed){o.focus();o.selection.scrollIntoView()}},100)}};const qY=e=>{const t=e.dom.getRoot();if(!e.inline&&(!hb(e)||e.selection.getStart(true)===t)){Sy(t).each(t=>{const o=t.getNode();const n=mc(o)?Sy(o).getOr(t):t;e.selection.setRng(n.toRange())})}};const $Y=e=>{e.bindPendingEventDelegates();e.initialized=true;Am(e);e.focus(true);qY(e);e.nodeChanged({initial:true});const t=hp(e);if(E(t)){t.call(e,e)}UY(e);if(_R(e)){zR(e,true)}};const WY=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader;const GY=(e,t,o)=>{const{pass:n,fail:s}=te(t,e=>tinymce.Resource.has(HR(e)));const r=n.map(t=>{const o=tinymce.Resource.get(HR(t));if(v(o)){return Promise.resolve(WY(e).loadRawCss(t,o))}return Promise.resolve()});const a=[...r,WY(e).loadAll(s)];if(e.inline){return a}else{return a.concat([e.ui.styleSheetLoader.loadAll(o)])}};const KY=e=>{const t=WY(e);const o=Rg(e);const n=e.contentCSS;const s=()=>{t.unloadAll(n);if(!e.inline){e.ui.styleSheetLoader.unloadAll(o)}};const r=()=>{if(e.removed){s()}else{e.on("remove",s)}};if(e.contentStyles.length>0){let t="";Qo.each(e.contentStyles,e=>{t+=e+"\r\n"});e.dom.addStyle(t)}const a=Promise.all(GY(e,n,o)).then(r).catch(r);const c=Ng(e);if(c){HY(e,c)}return a};const YY=e=>{const t=e.getDoc(),o=e.getBody();Em(e);if(!vp(e)){t.body.spellcheck=false;LY.setAttrib(o,"spellcheck","false")}e.quirks=DY(e);Om(e);const n=Bg(e);if(n!==undefined){o.dir=n}const s=kp(e);if(s){e.on("BeforeSetContent",e=>{Qo.each(s,t=>{e.content=e.content.replace(t,e=>"\x3c!--mce:protected "+escape(e)+"--\x3e")})})}e.on("SetContent",()=>{e.addVisual(e.getBody())});e.on("compositionstart compositionend",t=>{e.composing=t.type==="compositionstart"})};const XY=e=>{if(!nM(e)){e.load({initial:true,format:"html"})}e.startContent=e.getContent({format:"raw"})};const JY=e=>{if(e.removed!==true){XY(e);$Y(e)}};const QY=e=>{let t=false;const o=setTimeout(()=>{if(!t){e.setProgressState(true)}},500);return()=>{clearTimeout(o);t=true;e.setProgressState(false)}};const eX=e=>{const t=e.getElement();let o=e.getDoc();if(e.inline){LY.addClass(t,"mce-content-body");e.contentDocument=o=document;e.contentWindow=window;e.bodyElement=t;e.contentAreaContainer=t}const n=e.getBody();n.disabled=true;e.readonly=rp(e);e._editableRoot=ap(e);if(!th(e)&&e.hasEditableRoot()){if(e.inline&&LY.getStyle(n,"position",true)==="static"){n.style.position="relative"}n.contentEditable="true"}n.disabled=false;e.editorUpload=oB(e);e.schema=wl(VY(e));e.dom=ad(o,{keep_values:true,url_converter:e.convertURL,url_converter_scope:e,update_styles:true,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:zg(e),referrerPolicy:Tg(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}});e.parser=ZY(e);e.serializer=iN(jY(e),e);e.selection=GM(e.dom,e.getWin(),e.serializer,e);e.annotator=_v(e);e.formatter=yB(e);e.undoManager=wB(e);e._nodeChangeDispatcher=new N$(e);e._selectionOverrides=AK(e);HP(e);uG(e);YP(e);if(!nM(e)){_G(e);AY(e)}const s=M$(e);MP(e,s);qP(e);OB(e);iG(e);const r=rM(e);YY(e);BY(e);r.fold(()=>{const t=QY(e);KY(e).then(()=>{JY(e);t()})},t=>{e.setProgressState(true);KY(e).then(()=>{t().then(t=>{e.setProgressState(false);JY(e);NM(e)},t=>{e.notificationManager.open({type:"error",text:String(t)});JY(e);NM(e)})})})};const tX=ad.DOM;const oX=(e,t,o,n)=>{const s=rn.fromTag("iframe");n.each(e=>Ds(s,"tabindex",e));Ms(s,o);Ms(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t});qr(s,"tox-edit-area__iframe");return s};const nX=e=>{let t=sg(e)+"<html><head>";if(rg(e)!==e.documentBaseUrl){t+='<base href="'+e.documentBaseURI.getURI()+'" />'}t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=ag(e);const n=cg(e);const s=e.translate(gp(e));if(ig(e)){t+='<meta http-equiv="Content-Security-Policy" content="'+ig(e)+'" />'}t+="</head>"+`<body id="${o}" class="mce-content-body ${n}" data-id="${e.id}" aria-label="${s}">`+"<br>"+"</body></html>";return t};const sX=(e,t)=>{const o=jo.browser.isFirefox()?gp(e):"Rich Text Area";const n=e.translate(o);const s=Rs(rn.fromDom(e.getElement()),"tabindex").bind(Ct);const r=oX(e.id,n,ng(e),s).dom;r.onload=()=>{r.onload=null;e.dispatch("load")};e.contentAreaContainer=t.iframeContainer;e.iframeElement=r;e.iframeHTML=nX(e);tX.add(t.iframeContainer,r)};const rX=e=>{const t=e.iframeElement;const o=()=>{e.contentDocument=t.contentDocument;eX(e)};if(Vp(e)||jo.browser.isFirefox()){const t=e.getDoc();t.open();t.write(e.iframeHTML);t.close();o()}else{const n=ys(rn.fromDom(t),"load",()=>{n.unbind();o()});t.srcdoc=e.iframeHTML}};const aX=(e,t)=>{sX(e,t);if(t.editorContainer){t.editorContainer.style.display=e.orgDisplay;e.hidden=tX.isHidden(t.editorContainer)}e.getElement().style.display="none";tX.setAttrib(e.id,"aria-hidden","true");e.getElement().style.visibility=e.orgVisibility;rX(e)};const cX=ad.DOM;const iX=(e,t,o)=>{const n=QN.get(o);const s=QN.urls[o]||e.documentBaseUrl.replace(/\/$/,"");o=Qo.trim(o);if(n&&Qo.inArray(t,o)===-1){if(e.plugins[o]){return}try{const r=n(e,s)||{};e.plugins[o]=r;if(E(r.init)){r.init(e,s);t.push(o)}}catch(t){mR(e,o,t)}}};const lX=e=>e.replace(/^\-/,"");const dX=e=>{const t=[];Q(ip(e),o=>{iX(e,t,lX(o))})};const uX=e=>{const t=Qo.trim(kg(e));const o=e.ui.registry.getAll().icons;const n={...HN.get("default").icons,...HN.get(t).icons};xe(n,(t,n)=>{if(!Ne(o,n)){e.ui.registry.addIcon(n,t)}})};const fX=e=>{const t=jg(e);if(v(t)){const o=eR.get(t);e.theme=o(e,eR.urls[t])||{};if(E(e.theme.init)){e.theme.init(e,eR.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}}else{e.theme={}}};const mX=e=>{const t=Ug(e);const o=IN.get(t);e.model=o(e,IN.urls[t])};const gX=e=>{const t=e.theme.renderUI;return t?t():bX(e)};const pX=e=>{const t=e.getElement();const o=jg(e);const n=o(e,t);if(n.editorContainer.nodeType){n.editorContainer.id=n.editorContainer.id||e.id+"_parent"}if(n.iframeContainer&&n.iframeContainer.nodeType){n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"}n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight;return n};const hX=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}});const yX=e=>{const t=cX.create("div");cX.insertAfter(t,e);return hX(t,t)};const bX=e=>{const t=e.getElement();return e.inline?hX(null):yX(t)};const vX=e=>{const t=e.getElement();e.orgDisplay=t.style.display;if(v(jg(e))){return gX(e)}else if(E(jg(e))){return pX(e)}else{return bX(e)}};const kX=(e,t)=>{const o={show:U.from(t.show).getOr(D),hide:U.from(t.hide).getOr(D),isEnabled:U.from(t.isEnabled).getOr(Z),setEnabled:o=>{const n=o&&(e.mode.get()==="readonly"||_R(e));if(!n){U.from(t.setEnabled).each(e=>e(o))}}};e.ui={...e.ui,...o}};const wX=async e=>{e.dispatch("ScriptsLoaded");uX(e);fX(e);mX(e);dX(e);const t=await vX(e);kX(e,U.from(t.api).getOr({}));e.editorContainer=t.editorContainer;jR(e);if(e.inline){eX(e)}else{aX(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})}};const _X=ad.DOM;const xX=e=>e.charAt(0)==="-";const CX=(e,t)=>{const o=Eg(t);const n=Og(t);if(!zd.hasCode(o)&&o!=="en"){const s=wt(n)?n:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(s).catch(()=>{dR(t,s,o)})}};const SX=(e,t)=>{const o=jg(e);if(v(o)&&!xX(o)&&!Ne(eR.urls,o)){const n=Zg(e);const s=n?e.documentBaseURI.toAbsolute(n):`themes/${o}/theme${t}.js`;eR.load(o,s).catch(()=>{uR(e,s,o)})}};const zX=(e,t)=>{const o=Ug(e);if(o!=="plugin"&&!Ne(IN.urls,o)){const n=qg(e);const s=v(n)?e.documentBaseURI.toAbsolute(n):`models/${o}/model${t}.js`;IN.load(o,s).catch(()=>{fR(e,s,o)})}};const TX=e=>U.from(wg(e)).filter(wt).map(e=>({url:e,name:U.none()}));const EX=(e,t,o)=>U.from(t).filter(e=>wt(e)&&!HN.has(e)).map(t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${o}.js`,name:U.some(t)}));const OX=(e,t,o)=>{const n=EX(t,"default",o);const s=TX(t).orThunk(()=>EX(t,kg(t),""));Q(tt([n,s]),o=>{e.add(o.url).catch(()=>{lR(t,o.url,o.name.getOrUndefined())})})};const AX=(e,t)=>{const o=(t,o)=>{QN.load(t,o).catch(()=>{iR(e,o,t)})};xe(lp(e),(t,n)=>{o(n,t);e.options.set("plugins",ip(e).concat(n))});Q(ip(e),e=>{e=Qo.trim(e);if(e&&!QN.urls[e]&&!xX(e)){o(e,`plugins/${e}/plugin${t}.js`)}})};const DX=e=>{const t=jg(e);return!v(t)||T(eR.get(t))};const MX=e=>{const t=Ug(e);return T(IN.get(t))};const NX=(e,t)=>{const o=fd.ScriptLoader;const n=()=>{if(!e.removed&&DX(e)&&MX(e)){wX(e)}};SX(e,t);zX(e,t);CX(o,e);OX(o,e,t);AX(e,t);o.loadQueue().then(n,n)};const RX=(e,t)=>xi.forElement(e,{contentCssCors:cp(t),referrerPolicy:Tg(t)});const BX=e=>{const t=e.id;zd.setCode(Eg(e));const o=()=>{_X.unbind(window,"ready",o);e.render()};if(!Gl.Event.domLoaded){_X.bind(window,"ready",o);return}if(!e.getElement()){return}const n=rn.fromDom(e.getElement());const s=Is(n);e.on("remove",()=>{ee(n.dom.attributes,e=>Ls(n,e.name));Ms(n,s)});e.ui.styleSheetLoader=RX(n,e);if(!Jg(e)){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility="hidden"}else{e.inline=true}const r=e.getElement().form||_X.getParent(t,"form");if(r){e.formElement=r;if(Qg(e)&&!pc(e.getElement())){_X.insertAfter(_X.create("input",{type:"hidden",name:t}),t);e.hasHiddenInput=true}e.formEventDelegate=t=>{e.dispatch(t.type,t)};_X.bind(r,"submit reset",e.formEventDelegate);e.on("reset",()=>{e.resetContent()});if(ep(e)&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit){r._mceOldSubmit=r.submit;r.submit=()=>{e.editorManager.triggerSave();e.setDirty(false);return r._mceOldSubmit(r)}}}e.windowManager=oR(e);e.notificationManager=JN(e);if(qp(e)){e.on("GetContent",e=>{if(e.save){e.content=_X.encode(e.content)}})}if(tp(e)){e.on("submit",()=>{if(e.initialized){e.save()}})}if(op(e)){e._beforeUnload=()=>{if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:"raw",no_events:true,set_dirty:false})}};e.editorManager.on("BeforeUnload",e._beforeUnload)}e.editorManager.add(e);NX(e,e.suffix)};const LX=(e,t)=>{if(e._editableRoot!==t){e._editableRoot=t;if(!_R(e)){e.getBody().contentEditable=String(e.hasEditableRoot());e.nodeChanged()}$m(e,t)}};const HX=e=>e._editableRoot;const IX=(e,t)=>({sections:R(e),options:R(t)});const PX=Ao().deviceType;const FX=PX.isPhone();const VX=PX.isTablet();const jX=e=>{if(z(e)){return[]}else{const t=_(e)?e:e.split(/[ ,]/);const o=J(t,bt);return oe(o,wt)}};const ZX=(e,t)=>{const o=Ee(t,(t,o)=>Y(e,o));return IX(o.t,o.f)};const UX=(e,t,o={})=>{const n=e.sections();const s=Me(n,t).getOr({});return Qo.extend({},o,s)};const qX=(e,t)=>Ne(e.sections(),t);const $X=(e,t)=>qX(e,t)?e.sections()[t]:{};const WX=(e,t)=>{const o={table_grid:false,object_resizing:false,resize:false,toolbar_mode:Me(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:false};const n={menubar:false};return{...o,...t?n:{}}};const GX=(e,t)=>{var o;const n=(o=t.external_plugins)!==null&&o!==void 0?o:{};if(e&&e.external_plugins){return Qo.extend({},e.external_plugins,n)}else{return n}};const KX=(e,t)=>[...jX(e),...jX(t)];const YX=(e,t,o,n)=>{if(e&&qX(t,"mobile")){return n}else{return o}};const XX=(e,t,o,n)=>{const s=jX(o.forced_plugins);const r=jX(n.plugins);const a=$X(t,"mobile");const c=a.plugins?jX(a.plugins):r;const i=YX(e,t,r,c);const l=KX(s,i);return Qo.extend(n,{forced_plugins:s,plugins:l})};const JX=(e,t)=>e&&qX(t,"mobile");const QX=(e,t,o,n,s)=>{var r;const a=e?{mobile:WX((r=s.mobile)!==null&&r!==void 0?r:{},t)}:{};const c=ZX(["mobile"],Xe(a,s));const i=Qo.extend(o,n,c.options(),JX(e,c)?UX(c,"mobile"):{},{external_plugins:GX(n,c.options())});return XX(e,c,n,i)};const eJ=(e,t)=>{const o=Je(t);return QX(FX||VX,FX,o,e,o)};const tJ=(e,t)=>MM(e,t);const oJ=e=>{const t=(t,o)=>{e.formatter.toggle(t,o);e.nodeChanged()};const o=o=>()=>{Q("left,center,right,justify".split(","),t=>{if(o!==t){e.formatter.remove("align"+t)}});if(o!=="none"){t("align"+o)}};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})};const nJ=e=>{const t=t=>()=>{const o=e.selection;const n=o.isCollapsed()?[e.dom.getParent(o.getNode(),e.dom.isBlock)]:o.getSelectedBlocks();return X(n,o=>T(e.formatter.matchNode(o,t)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")};const sJ=e=>{oJ(e);nJ(e)};const rJ=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const o=e.getDoc();let n;try{o.execCommand(t)}catch(e){n=true}if(t==="paste"&&!o.queryCommandEnabled(t)){n=true}if(n||!o.queryCommandSupported(t)){let t=e.translate(`Your browser doesn't support direct access to the clipboard. `+"Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(jo.os.isMacOS()||jo.os.isiOS()){t=t.replace(/Ctrl\+/g,"⌘+")}e.notificationManager.open({text:t,type:"error"})}}})};const aJ=(e,t,o,n)=>{const s=rn.fromDom(e.getRoot());if(nx(s,Af.fromRangeStart(t),n)){o=o.replace(/^ /,"&nbsp;")}else{o=o.replace(/^&nbsp;/," ")}if(rx(s,Af.fromRangeEnd(t),n)){o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;")}else{o=o.replace(/&nbsp;(<br( \/)?>)?$/," ")}return o};const cJ=e=>{if(typeof e!=="string"){const t=Qo.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}};const iJ=(e,t)=>{const o=e.selection;const n=e.dom;if(/^ | $/.test(t)){return aJ(n,o.getRng(),t,e.schema)}else{return t}};const lJ=(e,t)=>{if(e.selection.isEditable()){const{content:o,details:n}=cJ(t);NA(e,{...n,content:iJ(e,o),format:"html",set:false,selection:true}).each(t=>{const o=AM(e,t.content,n);RA(e,o,t);e.addVisual()})}};const dJ=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent());e.selection.moveToBookmark(t)},insertImage:(t,o,n)=>{lJ(e,e.dom.createHTML("img",{src:n}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",false,"<hr>")},insertText:(t,o,n)=>{lJ(e,e.dom.encode(n))},insertHTML:(t,o,n)=>{lJ(e,n)},mceInsertContent:(t,o,n)=>{lJ(e,n)},mceSetContent:(t,o,n)=>{e.setContent(n)},mceReplaceContent:(t,o,n)=>{e.execCommand("mceInsertContent",false,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(Sp(e))}})};const uJ={"font-size":"size","font-family":"face"};const fJ=Hn("font");const mJ=(e,t,o)=>{const n=t=>ar(t,e).orThunk(()=>{if(fJ(t)){return Me(uJ,e).bind(e=>Rs(t,e))}else{return U.none()}});const s=e=>Sn(rn.fromDom(t),e);return ua(rn.fromDom(o),e=>n(e),s)};const gJ=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",");const pJ=(e,t)=>U.from(ad.DOM.getStyle(t,e,true));const hJ=e=>(t,o)=>U.from(o).map(rn.fromDom).filter(Nn).bind(o=>mJ(e,t,o.dom).or(pJ(e,o.dom))).getOr("");const yJ=hJ("font-size");const bJ=M(gJ,hJ("font-family"));const vJ=e=>Sy(e.getBody()).bind(e=>{const t=e.container();return U.from(hc(t)?t.parentNode:t)});const kJ=e=>U.from(e.selection.getRng()).bind(t=>{const o=e.getBody();const n=t.startContainer===o&&t.startOffset===0;return n?U.none():U.from(e.selection.getStart(true))});const wJ=(e,t)=>kJ(e).orThunk(H(vJ,e)).map(rn.fromDom).filter(Nn).bind(t);const _J=(e,t)=>wJ(e,N(U.some,t));const xJ=(e,t)=>{if(/^[0-9.]+$/.test(t)){const o=parseInt(t,10);if(o>=1&&o<=7){const n=Zp(e);const s=Up(e);if(s.length>0){return s[o-1]||t}else{return n[o-1]||t}}else{return t}}else{return t}};const CJ=e=>{const t=e.split(/\s*,\s*/);return J(t,e=>{if(e.indexOf(" ")!==-1&&!(pt(e,'"')||pt(e,`'`))){return`'${e}'`}else{return e}}).join(",")};const SJ=(e,t)=>{const o=xJ(e,t);e.formatter.toggle("fontname",{value:CJ(o)});e.nodeChanged()};const zJ=e=>_J(e,t=>bJ(e.getBody(),t.dom)).getOr("");const TJ=(e,t)=>{e.formatter.toggle("fontsize",{value:xJ(e,t)});e.nodeChanged()};const EJ=e=>_J(e,t=>yJ(e.getBody(),t.dom)).getOr("");const OJ=e=>_J(e,t=>{const o=rn.fromDom(e.getBody());const n=ua(t,e=>ar(e,"line-height"),H(Sn,o));const s=()=>{const e=parseFloat(sr(t,"line-height"));const o=parseFloat(sr(t,"font-size"));return String(e/o)};return n.getOrThunk(s)}).getOr("");const AJ=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)});e.nodeChanged()};const DJ=e=>{const t=(t,o)=>{e.formatter.toggle(t,o);e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,o,n)=>{t(e,{value:n})},BackColor:(e,o,n)=>{t("hilitecolor",{value:n})},FontName:(t,o,n)=>{SJ(e,n)},FontSize:(t,o,n)=>{TJ(e,n)},LineHeight:(t,o,n)=>{AJ(e,n)},Lang:(e,o,n)=>{var s;t(e,{value:n.code,customValue:(s=n.customCode)!==null&&s!==void 0?s:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,o,n)=>{t(v(n)?n:"p")},mceToggleFormat:(e,o,n)=>{t(n)}})};const MJ=e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state");e.editorCommands.addQueryValueHandler("FontName",()=>zJ(e));e.editorCommands.addQueryValueHandler("FontSize",()=>EJ(e));e.editorCommands.addQueryValueHandler("LineHeight",()=>OJ(e))};const NJ=e=>{DJ(e);MJ(e)};const RJ=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})};const BJ=e=>{e.editorCommands.addCommands({Indent:()=>{zP(e)},Outdent:()=>{TP(e)}});e.editorCommands.addCommands({Outdent:()=>wP(e)},"state")};const LJ=e=>{const t=(t,o,n)=>{if(e.mode.isReadOnly()){return}const s=v(n)?{href:n}:n;const r=e.dom.getParent(e.selection.getNode(),"a");if(k(s)&&v(s.href)){s.href=s.href.replace(/ /g,"%20");if(!r||!s.href){e.formatter.remove("link")}if(s.href){e.formatter.apply("link",s,r)}}};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");if(t){e.dom.remove(t,true)}return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})};const HJ=(e,t,o,n)=>{const s=e.dom;const r=e=>s.isBlock(e)&&e.parentElement===o;const a=r(t)?t:s.getParent(n,r,o);return U.from(a).map(rn.fromDom)};const IJ=(e,t)=>{if(e.mode.isReadOnly()){return}const o=e.dom;const n=e.selection.getRng();const s=t?e.selection.getStart():e.selection.getEnd();const r=t?n.startContainer:n.endContainer;const a=HU(o,r);if(!a||!a.isContentEditable){return}const c=t?xs:Cs;const i=dg(e);HJ(e,s,a,r).each(t=>{const o=UU(e,r,t.dom,a,false,i);c(t,rn.fromDom(o));e.selection.setCursorLocation(o,0);e.dispatch("NewBlock",{newBlock:o});SU(e,"insertParagraph")})};const PJ=e=>IJ(e,true);const FJ=e=>IJ(e,false);const VJ=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{PJ(e)},InsertNewBlockAfter:()=>{FJ(e)}})};const jJ=e=>{e.editorCommands.addCommands({insertParagraph:()=>{Jq(kq,e)},mceInsertNewLine:(t,o,n)=>{Qq(e,n)},InsertLineBreak:(t,o,n)=>{Jq(Rq,e)}})};const ZJ=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,n)=>{let s=0;e.dom.getParent(e.selection.getNode(),t=>{if(sc(t)&&s++===n){e.selection.select(t);return false}else{return true}},e.getBody())},mceSelectNode:(t,o,n)=>{e.selection.select(n)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),Sc);if(t){const o=e.dom.createRng();o.selectNodeContents(t);e.selection.setRng(o)}}})};const UJ=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,n)=>{const s=n!==null&&n!==void 0?n:e.selection.getNode();if(s!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(s,true);e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,n)=>{xk(e,n===true)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual;e.addVisual()}})};const qJ=e=>{sJ(e);rJ(e);RJ(e);ZJ(e);dJ(e);LJ(e);BJ(e);VJ(e);jJ(e);NJ(e);UJ(e)};const $J=["toggleview"];const WJ=e=>Y($J,e.toLowerCase());class GJ{constructor(e){this.commands={state:{},exec:{},value:{}};this.editor=e}execCommand(e,t=false,o,n){const s=this.editor;const r=e.toLowerCase();const a=n===null||n===void 0?void 0:n.skip_focus;if(s.removed){return false}if(r!=="mcefocus"){if(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(r)&&!a){s.focus()}else{Hv(s)}}const c=s.dispatch("BeforeExecCommand",{command:e,ui:t,value:o});if(c.isDefaultPrevented()){return false}const i=this.commands.exec[r];if(E(i)){i(r,t,o);s.dispatch("ExecCommand",{command:e,ui:t,value:o});return true}return false}queryCommandState(e){if(!WJ(e)&&this.editor.quirks.isHidden()||this.editor.removed){return false}const t=e.toLowerCase();const o=this.commands.state[t];if(E(o)){return o(t)}return false}queryCommandValue(e){if(!WJ(e)&&this.editor.quirks.isHidden()||this.editor.removed){return""}const t=e.toLowerCase();const o=this.commands.value[t];if(E(o)){return o(t)}return""}addCommands(e,t="exec"){const o=this.commands;xe(e,(e,n)=>{Q(n.toLowerCase().split(","),n=>{o[t][n]=e})})}addCommand(e,t,o){const n=e.toLowerCase();this.commands.exec[n]=(e,n,s)=>t.call(o!==null&&o!==void 0?o:this.editor,n,s)}queryCommandSupported(e){const t=e.toLowerCase();if(this.commands.exec[t]){return true}else{return false}}addQueryStateHandler(e,t,o){this.commands.state[e.toLowerCase()]=()=>t.call(o!==null&&o!==void 0?o:this.editor)}addQueryValueHandler(e,t,o){this.commands.value[e.toLowerCase()]=()=>t.call(o!==null&&o!==void 0?o:this.editor)}}const KJ=Qo.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange "+"mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover "+"draggesture dragdrop drop drag submit "+"compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class YJ{static isNative(e){return!!KJ[e.toLowerCase()]}constructor(e){this.bindings={};this.settings=e||{};this.scope=this.settings.scope||this;this.toggleEvent=this.settings.toggleEvent||j}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const o=e.toLowerCase();const n=Fl(o,t!==null&&t!==void 0?t:{},this.scope);if(this.settings.beforeFire){this.settings.beforeFire(n)}const s=this.bindings[o];if(s){for(let e=0,t=s.length;e<t;e++){const t=s[e];if(t.removed){continue}if(t.once){this.off(o,t.func)}if(n.isImmediatePropagationStopped()){return n}if(t.func.call(this.scope,n)===false){n.preventDefault();return n}}}return n}on(e,t,o,n){if(t===false){t=j}if(t){const s={func:t,removed:false};if(n){Qo.extend(s,n)}const r=e.toLowerCase().split(" ");let a=r.length;while(a--){const e=r[a];let t=this.bindings[e];if(!t){t=[];this.toggleEvent(e,true)}if(o){t=[s,...t]}else{t=[...t,s]}this.bindings[e]=t}}return this}off(e,t){if(e){const o=e.toLowerCase().split(" ");let n=o.length;while(n--){const s=o[n];let r=this.bindings[s];if(!s){xe(this.bindings,(e,t)=>{this.toggleEvent(t,false);delete this.bindings[t]});return this}if(r){if(!t){r.length=0}else{const e=te(r,e=>e.func===t);r=e.fail;this.bindings[s]=r;Q(e.pass,e=>{e.removed=true})}if(!r.length){this.toggleEvent(e,false);delete this.bindings[s]}}}}else{xe(this.bindings,(e,t)=>{this.toggleEvent(t,false)});this.bindings={}}return this}once(e,t,o){return this.on(e,t,o,{once:true})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||t.length===0)}}const XJ=e=>{if(!e._eventDispatcher){e._eventDispatcher=new YJ({scope:e,toggleEvent:(t,o)=>{if(YJ.isNative(t)&&e.toggleNativeEvent){e.toggleNativeEvent(t,o)}}})}return e._eventDispatcher};const JJ={fire(e,t,o){console.warn('The "fire" event api has been deprecated and will be removed in TinyMCE 9. Use "dispatch" instead.',(new Error).stack);return this.dispatch(e,t,o)},dispatch(e,t,o){const n=this;if(n.removed&&e!=="remove"&&e!=="detach"){return Fl(e.toLowerCase(),t!==null&&t!==void 0?t:{},n)}const s=XJ(n).dispatch(e,t);if(o!==false&&n.parent){let t=n.parent();while(t&&!s.isPropagationStopped()){t.dispatch(e,s,false);t=t.parent?t.parent():undefined}}return s},on(e,t,o){return XJ(this).on(e,t,o)},off(e,t){return XJ(this).off(e,t)},once(e,t){return XJ(this).once(e,t)},hasEventListeners(e){return XJ(this).has(e)}};const QJ=ad.DOM;let eQ;const tQ=(e,t)=>{if(t==="selectionchange"){return e.getDoc()}if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t)){return e.getDoc().documentElement}const o=Fg(e);if(o){if(!e.eventRoot){e.eventRoot=QJ.select(o)[0]}return e.eventRoot}return e.getBody()};const oQ=e=>!e.hidden&&!_R(e);const nQ=(e,t,o)=>{if(oQ(e)){e.dispatch(t,o)}else if(_R(e)){NR(e,o)}};const sQ=(e,t)=>{if(!e.delegates){e.delegates={}}if(e.delegates[t]||e.removed){return}const o=tQ(e,t);if(Fg(e)){if(!eQ){eQ={};e.editorManager.on("removeEditor",()=>{if(!e.editorManager.activeEditor){if(eQ){xe(eQ,(t,o)=>{e.dom.unbind(tQ(e,o))});eQ=null}}})}if(eQ[t]){return}const n=o=>{const n=o.target;const s=e.editorManager.get();let r=s.length;while(r--){const e=s[r].getBody();if(e===n||QJ.isChildOf(n,e)){nQ(s[r],t,o)}}};eQ[t]=n;QJ.bind(o,t,n)}else{const n=o=>{nQ(e,t,o)};QJ.bind(o,t,n);e.delegates[t]=n}};const rQ={...JJ,bindPendingEventDelegates(){const e=this;Qo.each(e._pendingNativeEvents,t=>{sQ(e,t)})},toggleNativeEvent(e,t){const o=this;if(e==="focus"||e==="blur"){return}if(o.removed){return}if(t){if(o.initialized){sQ(o,e)}else{if(!o._pendingNativeEvents){o._pendingNativeEvents=[e]}else{o._pendingNativeEvents.push(e)}}}else if(o.initialized&&o.delegates){o.dom.unbind(tQ(o,e),e,o.delegates[e]);delete o.delegates[e]}},unbindAllNativeEvents(){const e=this;const t=e.getBody();const o=e.dom;if(e.delegates){xe(e.delegates,(t,o)=>{e.dom.unbind(tQ(e,o),o,t)});delete e.delegates}if(!e.inline&&t&&o){t.onload=null;o.unbind(e.getWin());o.unbind(e.getDoc())}if(o){o.unbind(t);o.unbind(e.getContainer())}}};const aQ=e=>{if(v(e)){return{value:e.split(/[ ,]/),valid:true}}else if(A(e,v)){return{value:e,valid:true}}else{return{valid:false,message:`The value must be a string[] or a comma/space separated string.`}}};const cQ=e=>{const t=(()=>{switch(e){case"array":return _;case"boolean":return C;case"function":return E;case"number":return O;case"object":return k;case"string":return v;case"string[]":return aQ;case"object[]":return e=>A(e,k);case"regexp":return e=>b(e,RegExp);default:return Z}})();return o=>uQ(o,t,`The value must be a ${e}.`)};const iQ=e=>v(e.processor);const lQ=(e,t)=>{const o=_t(t.message)?"":`. ${t.message}`;return e+o};const dQ=e=>e.valid;const uQ=(e,t,o="")=>{const n=t(e);if(C(n)){return n?{value:e,valid:true}:{valid:false,message:o}}else{return n}};const fQ=(e,t,o)=>{if(!S(t)){const n=uQ(t,o);if(dQ(n)){return n.value}else{console.error(lQ(`Invalid default value passed for the "${e}" option`,n))}}return undefined};const mQ=(e,t,o=t)=>{const n={};const s={};const r=(e,t,o)=>{const n=uQ(t,o);if(dQ(n)){s[e]=n.value;return true}else{console.warn(lQ(`Invalid value passed for the ${e} option`,n));return false}};const a=(e,o)=>{const a=iQ(o)?cQ(o.processor):o.processor;const c=fQ(e,o.default,a);n[e]={...o,default:c,processor:a};const i=Me(s,e).orThunk(()=>Me(t,e));i.each(t=>r(e,t,a))};const c=e=>Ne(n,e);const i=e=>Me(s,e).orThunk(()=>Me(n,e).map(e=>e.default)).getOrUndefined();const l=(e,t)=>{if(!c(e)){console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`);return false}else{const o=n[e];if(o.immutable){console.error(`"${e}" is an immutable option and cannot be updated`);return false}else{return r(e,t,o.processor)}}};const d=e=>{const t=c(e);if(t){delete s[e]}return t};const u=e=>Ne(s,e);const f=()=>{try{console.log(JSON.parse(JSON.stringify(o,(e,t)=>{if(C(t)||O(t)||v(t)||x(t)||_(t)||w(t)){return t}return Object.prototype.toString.call(t)})))}catch(e){console.error(e)}};return{register:a,isRegistered:c,get:i,set:l,unset:d,isSet:u,debug:f}};const gQ=(e,t)=>{e.dom.contentEditable=t?"true":"false"};const pQ=(e,t)=>{const o=rn.fromDom(e.getBody());if(t){e.readonly=true;if(e.hasEditableRoot()){gQ(o,true)}kR(e)}else{e.readonly=false;wR(e)}};const hQ=e=>e.readonly;const yQ=e=>{const t=e.undoManager.add();if(T(t)){e.undoManager.undo();e.undoManager.reset()}};const bQ=e=>X(e,e=>e.type==="characterData"||e.type==="childList");const vQ=e=>{const t=t=>{if(hQ(e)&&bQ(t)){yQ(e)}};const o=new MutationObserver(t);e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",t=>{if(hQ(e)){t.preventDefault()}});e.on("BeforeExecCommand",t=>{if((t.command==="Undo"||t.command==="Redo")&&hQ(e)){t.preventDefault()}});e.on("compositionstart",()=>{if(hQ(e)){o.observe(e.getBody(),{characterData:true,childList:true,subtree:true})}});e.on("compositionend",()=>{if(hQ(e)){const e=o.takeRecords();t(e)}o.disconnect()})};const kQ=["design","readonly"];const wQ=(e,t,o,n)=>{const s=o[t.get()];const r=o[n];try{r.activate()}catch(e){console.error(`problem while activating editor mode ${n}:`,e);return}s.deactivate();if(s.editorReadOnly!==r.editorReadOnly){pQ(e,r.editorReadOnly)}t.set(n);Sm(e,n)};const _Q=(e,t,o,n)=>{if(n===o.get()||e.initialized&&_R(e)){return}else if(!Ne(t,n)){throw new Error(`Editor mode '${n}' is invalid`)}if(e.initialized){wQ(e,o,t,n)}else{e.on("init",()=>wQ(e,o,t,n))}};const xQ=(e,t,o)=>{if(Y(kQ,t)){throw new Error(`Cannot override default mode ${t}`)}return{...e,[t]:{...o,deactivate:()=>{try{o.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}};const CQ=e=>{const t=Ie("design");const o=Ie({design:{activate:D,deactivate:D,editorReadOnly:false},readonly:{activate:D,deactivate:D,editorReadOnly:true}});vQ(e);BR(e);return{isReadOnly:()=>hQ(e),set:n=>_Q(e,o.get(),t,n),get:()=>t.get(),register:(e,t)=>{o.set(xQ(o.get(),e,t))}}};const SQ=Qo.each,zQ=Qo.explode;const TQ={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};const EQ=Qo.makeMap("alt,ctrl,shift,meta,access");const OQ=e=>e in EQ;const AQ=e=>{const t={};const o=jo.os.isMacOS()||jo.os.isiOS();SQ(zQ(e.toLowerCase(),"+"),e=>{if(OQ(e)){t[e]=true}else{if(/^[0-9]{2,}$/.test(e)){t.keyCode=parseInt(e,10)}else{t.charCode=e.charCodeAt(0);t.keyCode=TQ[e]||e.toUpperCase().charCodeAt(0)}}});const n=[t.keyCode];let s;for(s in EQ){if(t[s]){n.push(s)}else{t[s]=false}}t.id=n.join(",");if(t.access){t.alt=true;if(o){t.ctrl=true}else{t.shift=true}}if(t.meta){if(o){t.meta=true}else{t.ctrl=true;t.meta=false}}return t};class DQ{constructor(e){this.shortcuts={};this.pendingPatterns=[];this.editor=e;const t=this;e.on("keyup keypress keydown",e=>{if((t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()){SQ(t.shortcuts,o=>{if(t.matchShortcut(e,o)){t.pendingPatterns=o.subpatterns.slice(0);if(e.type==="keydown"){t.executeShortcutAction(o)}}});if(t.matchShortcut(e,t.pendingPatterns[0])){if(t.pendingPatterns.length===1){if(e.type==="keydown"){t.executeShortcutAction(t.pendingPatterns[0])}}t.pendingPatterns.shift()}}})}add(e,t,o,n){const s=this;const r=s.normalizeCommandFunc(o);SQ(zQ(Qo.trim(e)),e=>{const o=s.createShortcut(e,t,r,n);s.shortcuts[o.id]=o});return true}remove(e){const t=this.createShortcut(e);if(this.shortcuts[t.id]){delete this.shortcuts[t.id];return true}return false}normalizeCommandFunc(e){const t=this;const o=e;if(typeof o==="string"){return()=>{t.editor.execCommand(o,false,null)}}else if(Qo.isArray(o)){return()=>{t.editor.execCommand(o[0],o[1],o[2])}}else{return o}}createShortcut(e,t,o,n){const s=Qo.map(zQ(e,">"),AQ);s[s.length-1]=Qo.extend(s[s.length-1],{func:o,scope:n||this.editor});return Qo.extend(s[0],{desc:this.editor.translate(t),subpatterns:s.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){if(!t){return false}if(t.ctrl!==e.ctrlKey||t.meta!==e.metaKey){return false}if(t.alt!==e.altKey||t.shift!==e.shiftKey){return false}if(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode){e.preventDefault();return true}return false}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const MQ=()=>{const e=QZ();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}};const NQ=ad.DOM;const RQ=Qo.extend,BQ=Qo.each;class LQ{constructor(e,t,o){this.plugins={};this.contentCSS=[];this.contentStyles=[];this.loadedCSS={};this.isNotDirty=false;this.composing=false;this.destroyed=false;this.hasHiddenInput=false;this.iframeElement=null;this.initialized=false;this.readonly=false;this.removed=false;this.startContent="";this._pendingNativeEvents=[];this._skinLoaded=false;this._editableRoot=true;this.editorManager=o;this.documentBaseUrl=o.documentBaseURL;RQ(this,rQ);const n=this;this.id=e;this.hidden=false;const s=eJ(o.defaultOptions,t);this.options=mQ(n,s,t);og(n);const r=this.options.get;if(r("deprecation_warnings")){EN(t,s)}const a=r("suffix");if(a){o.suffix=a}this.suffix=o.suffix;const c=r("base_url");if(c){o._setBaseUrl(c)}this.baseUri=o.baseURI;const i=Tg(n);if(i){fd.ScriptLoader._setReferrerPolicy(i);ad.DOM.styleSheetLoader._setReferrerPolicy(i)}const l=cp(n);if(T(l)){ad.DOM.styleSheetLoader._setContentCssCors(l)}Td.languageLoad=r("language_load");Td.baseURL=o.baseURL;this.setDirty(false);this.documentBaseURI=new rA(rg(n),{base_uri:this.baseUri});this.baseURI=this.baseUri;this.inline=Jg(n);this.hasVisual=up(n);this.shortcuts=new DQ(this);this.editorCommands=new GJ(this);qJ(this);const d=r("cache_suffix");if(d){jo.cacheSuffix=d.replace(/^[\?\&]+/,"")}this.ui={registry:MQ(),styleSheetLoader:undefined,show:D,hide:D,setEnabled:D,isEnabled:Z};this.mode=CQ(n);o.dispatch("SetupEditor",{editor:this});const u=pp(n);if(E(u)){u.call(n,n)}}render(){BX(this)}focus(e){this.execCommand("mceFocus",false,e)}hasFocus(){return vk(this)}translate(e){return zd.translate(e)}getParam(e,t,o){const n=this.options;if(!n.isRegistered(e)){if(T(o)){n.register(e,{processor:o,default:t})}else{n.register(e,{processor:Z,default:t})}}return!n.isSet(e)&&!S(t)?t:n.get(e)}hasPlugin(e,t){const o=Y(ip(this),e);if(o){return t?QN.get(e)!==undefined:true}else{return false}}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,o){this.editorCommands.addCommand(e,t,o)}addQueryStateHandler(e,t,o){this.editorCommands.addQueryStateHandler(e,t,o)}addQueryValueHandler(e,t,o){this.editorCommands.addQueryValueHandler(e,t,o)}addShortcut(e,t,o,n){this.shortcuts.add(e,t,o,n)}execCommand(e,t,o,n){return this.editorCommands.execCommand(e,t,o,n)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;if(e.hidden){e.hidden=false;if(e.inline){e.getBody().contentEditable="true"}else{NQ.show(e.getContainer());NQ.hide(e.id)}e.load();e.dispatch("show")}}hide(){const e=this;if(!e.hidden){e.save();if(e.inline){e.getBody().contentEditable="false";if(e===e.editorManager.focusedEditor){e.editorManager.focusedEditor=null}}else{NQ.hide(e.getContainer());NQ.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true;e.dispatch("hide")}}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this;const o=t.getElement();if(t.removed){return""}if(o){const n={...e,load:true};const s=pc(o)?o.value:o.innerHTML;const r=t.setContent(s,n);if(!n.no_events){t.dispatch("LoadContent",{...n,element:o})}return r}else{return""}}save(e={}){const t=this;let o=t.getElement();if(!o||!t.initialized||t.removed){return""}const n={...e,save:true,element:o};let s=t.getContent(n);const r={...n,content:s};if(!r.no_events){t.dispatch("SaveContent",r)}if(r.format==="raw"){t.dispatch("RawSaveContent",r)}s=r.content;if(!pc(o)){if(e.is_removing||!t.inline){o.innerHTML=s}const n=NQ.getParent(t.id,"form");if(n){BQ(n.elements,e=>{if(e.name===t.id){e.value=s;return false}else{return true}})}}else{o.value=s}r.element=n.element=o=null;if(r.set_dirty!==false){t.setDirty(false)}return s}setContent(e,t){return gN(this,e,t)}getContent(e){return uN(this,e)}insertContent(e,t){if(t){e=RQ({content:e},t)}this.execCommand("mceInsertContent",false,e)}resetContent(e){if(e===undefined){gN(this,this.startContent,{format:"raw"})}else{gN(this,e)}this.undoManager.reset();this.setDirty(false);this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e;if(e&&e!==t){this.dispatch("dirty")}}getContainer(){const e=this;if(!e.container){e.container=e.editorContainer||NQ.get(e.id+"_parent")}return e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){if(!this.targetElm){this.targetElm=NQ.get(this.id)}return this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;if(t){e.contentWindow=t.contentWindow}}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();if(t){e.contentDocument=t.document}}return e.contentDocument}getBody(){var e,t;const o=this.getDoc();return(t=(e=this.bodyElement)!==null&&e!==void 0?e:o===null||o===void 0?void 0:o.body)!==null&&t!==void 0?t:null}convertURL(e,t,o){const n=this,s=n.options.get;const r=yp(n);if(E(r)){return r.call(n,e,o,true,t)}if(!s("convert_urls")||o==="link"||k(o)&&o.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0){return e}const a=new rA(e);if(a.protocol!=="http"&&a.protocol!=="https"&&a.protocol!==""){return e}if(s("relative_urls")){return n.documentBaseURI.toRelative(e)}e=n.documentBaseURI.toAbsolute(e,s("remove_script_host"));return e}addVisual(e){tJ(this,e)}setEditableRoot(e){LX(this,e)}hasEditableRoot(){return HX(this)}remove(){RN(this)}destroy(e){BN(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const HQ=ad.DOM;const IQ=Qo.each;let PQ=false;let FQ;let VQ=[];const jQ=e=>{const t=e.type;IQ(WQ.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})};const ZQ=e=>{if(e!==PQ){const t=ad.DOM;if(e){t.bind(window,"resize",jQ);t.bind(window,"scroll",jQ)}else{t.unbind(window,"resize",jQ);t.unbind(window,"scroll",jQ)}PQ=e}};const UQ=e=>{const t=VQ;VQ=oe(VQ,t=>e!==t);if(WQ.activeEditor===e){WQ.activeEditor=VQ.length>0?VQ[0]:null}if(WQ.focusedEditor===e){WQ.focusedEditor=null}return t.length!==VQ.length};const qQ=e=>{if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){UQ(e);e.unbindAllNativeEvents();e.destroy(true);e.removed=true}};const $Q=document.compatMode!=="CSS1Compat";const WQ={...JJ,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"9.1",releaseDate:"2025-05-29",i18n:zd,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="";let o="";let n=rA.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(n)){n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(n)){n+="/"}}const s=window.tinymce||window.tinyMCEPreInit;if(s){t=s.base||s.baseURL;o=s.suffix}else{const e=document.getElementsByTagName("script");for(let n=0;n<e.length;n++){const s=e[n].src||"";if(s===""){continue}const r=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){if(r.indexOf(".min")!==-1){o=".min"}t=s.substring(0,s.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;if(e.indexOf(".min")!==-1){o=".min"}t=e.substring(0,e.lastIndexOf("/"))}}e.baseURL=new rA(n).toAbsolute(t);e.documentBaseURL=n;e.baseURI=new rA(e.baseURL);e.suffix=o;ik(e)},overrideDefaults(e){const t=e.base_url;if(t){this._setBaseUrl(t)}const o=e.suffix;if(o){this.suffix=o}this.defaultOptions=e;const n=e.plugin_base_urls;if(n!==undefined){xe(n,(e,t)=>{Td.PluginManager.urls[t]=e})}},init(e){const t=this;let o;const n=Qo.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track "+"colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");const s=(e,t)=>e.inline&&t.tagName.toLowerCase()in n;const r=e=>{let t=e.id;if(!t){t=Me(e,"name").filter(e=>!HQ.get(e)).getOrThunk(HQ.uniqueId);e.setAttribute("id",t)}return t};const a=o=>{const n=e[o];if(!n){return}return n.apply(t,[])};const c=e=>{if(jo.browser.isIE()||jo.browser.isEdge()){gR("TinyMCE does not support the browser you are using. For a list of supported"+" browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers");return[]}else if($Q){gR("Failed to initialize the editor as the document is not in standards mode. "+"TinyMCE requires standards mode.");return[]}else if(v(e.selector)){return HQ.select(e.selector)}else if(T(e.target)){return[e.target]}else{return[]}};let i=e=>{o=e};const l=()=>{let o=0;const n=[];let d;const u=(e,s,r)=>{const a=new LQ(e,s,t);n.push(a);a.on("init",()=>{if(++o===d.length){i(n)}});a.targetElm=a.targetElm||r;a.render()};HQ.unbind(window,"ready",l);a("onpageload");d=ke(c(e));Qo.each(d,e=>{qQ(t.get(e.id))});d=Qo.grep(d,e=>!t.get(e.id));if(d.length===0){i([])}else{IQ(d,t=>{if(s(e,t)){gR("Could not initialize inline editor on invalid inline target element",t)}else{u(r(t),e,t)}})}};HQ.bind(window,"ready",l);return new Promise(e=>{if(o){e(o)}else{i=t=>{e(t)}}})},get(e){if(arguments.length===0){return VQ.slice(0)}else if(v(e)){return ae(VQ,t=>t.id===e).getOr(null)}else if(O(e)){return VQ[e]?VQ[e]:null}else{return null}},add(e){const t=this;const o=t.get(e.id);if(o===e){return e}if(o===null){VQ.push(e)}ZQ(true);t.activeEditor=e;t.dispatch("AddEditor",{editor:e});if(!FQ){FQ=e=>{const o=t.dispatch("BeforeUnload");if(o.returnValue){e.preventDefault();e.returnValue=o.returnValue;return o.returnValue}};window.addEventListener("beforeunload",FQ)}return e},createEditor(e,t){return this.add(new LQ(e,t,this))},remove(e){const t=this;let o;if(!e){for(let e=VQ.length-1;e>=0;e--){t.remove(VQ[e])}return}if(v(e)){IQ(HQ.select(e),e=>{o=t.get(e.id);if(o){t.remove(o)}});return}o=e;if(x(t.get(o.id))){return null}if(UQ(o)){t.dispatch("RemoveEditor",{editor:o})}if(VQ.length===0){window.removeEventListener("beforeunload",FQ)}o.remove();ZQ(VQ.length>0);return o},execCommand(e,t,o){var n;const s=this;const r=k(o)?(n=o.id)!==null&&n!==void 0?n:o.index:o;switch(e){case"mceAddEditor":{if(!s.get(r)){const e=o.options;new LQ(r,e,s).render()}return true}case"mceRemoveEditor":{const e=s.get(r);if(e){e.remove()}return true}case"mceToggleEditor":{const e=s.get(r);if(!e){s.execCommand("mceAddEditor",false,o);return true}if(e.isHidden()){e.show()}else{e.hide()}return true}}if(s.activeEditor){return s.activeEditor.execCommand(e,t,o)}return false},triggerSave:()=>{IQ(VQ,e=>{e.save()})},addI18n:(e,t)=>{zd.add(e,t)},translate:e=>zd.translate(e),setActive(e){const t=this.activeEditor;if(this.activeEditor!==e){if(t){t.dispatch("deactivate",{relatedTarget:e})}e.dispatch("activate",{relatedTarget:t})}this.activeEditor=e},_setBaseUrl(e){this.baseURL=new rA(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,""));this.baseURI=new rA(this.baseURL)}};WQ.setup();const GQ=()=>{const e=dt();const t=e=>({items:e,types:we(e),getType:t=>Me(e,t).getOrUndefined()});const o=t=>{e.set(t)};const n=()=>e.get().getOrUndefined();const s=e.clear;return{FakeClipboardItem:t,write:o,read:n,clear:s}};const KQ=GQ();const YQ=Math.min,XQ=Math.max,JQ=Math.round;const QQ=(e,t,o)=>{let n=t.x;let s=t.y;const r=e.w;const a=e.h;const c=t.w;const i=t.h;const l=(o||"").split("");if(l[0]==="b"){s+=i}if(l[1]==="r"){n+=c}if(l[0]==="c"){s+=JQ(i/2)}if(l[1]==="c"){n+=JQ(c/2)}if(l[3]==="b"){s-=a}if(l[4]==="r"){n-=r}if(l[3]==="c"){s-=JQ(a/2)}if(l[4]==="c"){n-=JQ(r/2)}return s1(n,s,r,a)};const e1=(e,t,o,n)=>{for(let s=0;s<n.length;s++){const r=QQ(e,t,n[s]);if(r.x>=o.x&&r.x+r.w<=o.w+o.x&&r.y>=o.y&&r.y+r.h<=o.h+o.y){return n[s]}}return null};const t1=(e,t,o)=>s1(e.x-t,e.y-o,e.w+t*2,e.h+o*2);const o1=(e,t)=>{const o=XQ(e.x,t.x);const n=XQ(e.y,t.y);const s=YQ(e.x+e.w,t.x+t.w);const r=YQ(e.y+e.h,t.y+t.h);if(s-o<0||r-n<0){return null}return s1(o,n,s-o,r-n)};const n1=(e,t,o)=>{let n=e.x;let s=e.y;let r=e.x+e.w;let a=e.y+e.h;const c=t.x+t.w;const i=t.y+t.h;const l=XQ(0,t.x-n);const d=XQ(0,t.y-s);const u=XQ(0,r-c);const f=XQ(0,a-i);n+=l;s+=d;if(o){r+=l;a+=d;n-=u;s-=f}r-=u;a-=f;return s1(n,s,r-n,a-s)};const s1=(e,t,o,n)=>({x:e,y:t,w:o,h:n});const r1=e=>s1(e.left,e.top,e.width,e.height);const a1={inflate:t1,relativePosition:QQ,findBestRelativePosition:e1,intersect:o1,clamp:n1,create:s1,fromClientRect:r1};const c1=(e,t,o=1e3)=>{let n=false;let s=null;const r=e=>(...t)=>{if(!n){n=true;if(s!==null){window.clearTimeout(s);s=null}e.apply(null,t)}};const a=r(e);const c=r(t);const i=(...e)=>{if(!n&&s===null){s=window.setTimeout(()=>c.apply(null,e),o)}};return{start:i,resolve:a,reject:c}};const i1=()=>{const e={};const t={};const o={};const n=(o,n)=>{const s=`Script at URL "${n}" failed to load`;const r=`Script at URL "${n}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(e[o]!==undefined){return e[o]}else{const a=new Promise((e,a)=>{const c=c1(e,a);t[o]=c.resolve;fd.ScriptLoader.loadScript(n).then(()=>c.start(r),()=>c.reject(s))});e[o]=a;return a}};const s=(n,s)=>{if(t[n]!==undefined){t[n](s);delete t[n]}e[n]=Promise.resolve(s);o[n]=s};const r=e=>e in o;const a=t=>{delete e[t];delete o[t]};const c=e=>o[e];return{load:n,add:s,has:r,get:c,unload:a}};const l1=i1();const d1=()=>(()=>{let e={};let t=[];const o={getItem:t=>{const o=e[t];return o?o:null},setItem:(o,n)=>{t.push(o);e[o]=String(n)},key:e=>t[e],removeItem:o=>{t=t.filter(e=>e===o);delete e[o]},clear:()=>{t=[];e={}},length:0};Object.defineProperty(o,"length",{get:()=>t.length,configurable:false,enumerable:false});return o})();let u1;try{const e="__storage_test__";u1=window.localStorage;u1.setItem(e,e);u1.removeItem(e)}catch(e){u1=d1()}var f1=u1;const m1={geom:{Rect:a1},util:{Delay:jv,Tools:Qo,VK:Ck,URI:rA,EventDispatcher:YJ,Observable:JJ,I18n:zd,LocalStorage:f1,ImageUploader:QR},dom:{EventUtils:Gl,TreeWalker:Ga,TextSeeker:Ud,DOMUtils:ad,ScriptLoader:fd,RangeUtils:$k,Serializer:iN,StyleSheetLoader:wi,ControlSelection:Dk,BookmarkManager:xv,Selection:GM,Event:Gl.Event},html:{Styles:Rl,Entities:Ki,Node:Ew,Schema:wl,DomParser:TA,Writer:Yw,Serializer:Xw},Env:jo,AddOnManager:Td,Annotator:_v,Formatter:yB,UndoManager:wB,EditorCommands:GJ,WindowManager:oR,NotificationManager:JN,EditorObservable:rQ,Shortcuts:DQ,Editor:LQ,FocusManager:Pv,EditorManager:WQ,DOM:ad.DOM,ScriptLoader:fd.ScriptLoader,PluginManager:QN,ThemeManager:eR,ModelManager:IN,IconManager:HN,Resource:l1,FakeClipboard:KQ,trim:Qo.trim,isArray:Qo.isArray,is:Qo.is,toArray:Qo.toArray,makeMap:Qo.makeMap,each:Qo.each,map:Qo.map,grep:Qo.grep,inArray:Qo.inArray,extend:Qo.extend,walk:Qo.walk,resolve:Qo.resolve,explode:Qo.explode,_addCacheSuffix:Qo._addCacheSuffix};const g1=Qo.extend(WQ,m1);const p1=t=>{if(true){try{e.exports=t}catch(e){}}};const h1=e=>{window.tinymce=e;window.tinyMCE=e};h1(g1);p1(g1)})()},()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}})},(e,t,o)=>{o(4)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.ModelManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("object");const i=n("array");const l=r(null);const d=s("boolean");const u=r(undefined);const f=e=>e===null||e===undefined;const m=e=>!f(e);const g=s("function");const p=s("number");const h=()=>{};const y=(e,t)=>(...o)=>e(t.apply(null,o));const b=(e,t)=>o=>e(t(o));const v=e=>()=>e;const k=e=>e;const w=(e,t)=>e===t;function _(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const x=e=>t=>!e(t);const C=e=>()=>{throw new Error(e)};const S=e=>e();const z=v(false);const T=v(true);class E{constructor(e,t){this.tag=e;this.value=t}static some(e){return new E(true,e)}static none(){return E.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return E.some(e(this.value))}else{return E.none()}}bind(e){if(this.tag){return e(this.value)}else{return E.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return E.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return m(e)?E.some(e):E.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}E.singletonNone=new E(false);const O=Array.prototype.slice;const A=Array.prototype.indexOf;const D=Array.prototype.push;const M=(e,t)=>A.call(e,t);const N=(e,t)=>M(e,t)>-1;const R=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const B=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const L=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const H=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const I=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const P=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const F=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const V=(e,t,o)=>{I(e,(e,n)=>{o=t(o,e,n)});return o};const j=(e,t,o)=>{H(e,(e,n)=>{o=t(o,e,n)});return o};const Z=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return E.some(s)}else if(o(s,n)){break}}return E.none()};const U=(e,t)=>Z(e,t,z);const q=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return E.some(o)}}return E.none()};const $=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!i(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}D.apply(t,e[o])}return t};const W=(e,t)=>$(L(e,t));const G=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const K=e=>{const t=O.call(e,0);t.reverse();return t};const Y=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const X=(e,t)=>{const o=O.call(e,0);o.sort(t);return o};const J=(e,t)=>t>=0&&t<e.length?E.some(e[t]):E.none();const Q=e=>J(e,0);const ee=e=>J(e,e.length-1);const te=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return E.none()};const oe=Object.keys;const ne=Object.hasOwnProperty;const se=(e,t)=>{const o=oe(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const re=(e,t)=>ae(e,(e,o)=>({k:o,v:t(e,o)}));const ae=(e,t)=>{const o={};se(e,(e,n)=>{const s=t(e,n);o[s.k]=s.v});return o};const ce=e=>(t,o)=>{e[o]=t};const ie=(e,t,o,n)=>{se(e,(e,s)=>{(t(e,s)?o:n)(e,s)})};const le=(e,t)=>{const o={};ie(e,t,ce(o),h);return o};const de=(e,t)=>{const o=[];se(e,(e,n)=>{o.push(t(e,n))});return o};const ue=e=>de(e,k);const fe=(e,t)=>me(e,t)?E.from(e[t]):E.none();const me=(e,t)=>ne.call(e,t);const ge=(e,t)=>me(e,t)&&e[t]!==undefined&&e[t]!==null;const pe=e=>{for(const t in e){if(ne.call(e,t)){return false}}return true};const he=e=>{if(!i(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};H(e,(n,s)=>{const r=oe(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!i(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=oe(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=G(t,e=>N(n,e));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}});return o};const ye={generate:he};const be=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const ve=e=>e.slice(0).sort();const ke=(e,t)=>{throw new Error("All required keys ("+ve(e).join(", ")+") were not specified. Specified keys were: "+ve(t).join(", ")+".")};const we=e=>{throw new Error("Unsupported keys for object: "+ve(e).join(", "))};const _e=(e,t)=>{if(!i(t)){throw new Error("The "+e+" fields must be an array. Was: "+t+".")}H(t,t=>{if(!a(t)){throw new Error("The value "+t+" in the "+e+" fields was not a string.")}})};const xe=(e,t)=>{throw new Error("All values need to be of type: "+t+". Keys ("+ve(e).join(", ")+") were not.")};const Ce=e=>{const t=ve(e);const o=U(t,(e,o)=>o<t.length-1&&e===t[o+1]);o.each(e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})};const Se=(e,t)=>ze(e,t,{validate:g,label:"function"});const ze=(e,t,o)=>{if(t.length===0){throw new Error("You must specify at least one required field.")}_e("required",t);Ce(t);return n=>{const s=oe(n);const r=G(t,e=>N(s,e));if(!r){ke(t,s)}e(t,s);const a=F(t,e=>!o.validate(n[e],e));if(a.length>0){xe(a,o.label)}return n}};const Te=(e,t)=>{const o=F(t,t=>!N(e,t));if(o.length>0){we(o)}};const Ee=e=>Se(Te,e);const Oe=e=>{const t=t=>t(e);const o=v(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:T,isError:z,map:t=>Me.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>E.some(e)};return s};const Ae=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:z,isError:T,map:t,mapError:t=>Me.error(t(e)),bind:t,exists:z,forall:T,getOr:k,or:k,getOrThunk:S,orThunk:S,getOrDie:C(String(e)),each:h,toOptional:E.none};return o};const De=(e,t)=>e.fold(()=>Ae(t),Oe);const Me={value:Oe,error:Ae,fromOption:De};const Ne=typeof window!=="undefined"?window:Function("return this;")();const Re=e=>{const t=e.replace(/\./g,"-");const o=e=>t+"-"+e;return{resolve:o}};const Be=(e,t,o=w)=>e.exists(e=>o(e,t));const Le=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const He=(e,t)=>e!==undefined&&e!==null?t(e):E.none();const Ie=(e,t)=>e?E.some(t):E.none();const Pe=(e,t)=>{let o=t!==undefined&&t!==null?t:Ne;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const Fe=(e,t)=>{const o=e.split(".");return Pe(o,t)};const Ve=e=>{const t=be(E.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(E.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(E.some(e))};return{clear:n,isSet:s,get:r,set:a}};const je=()=>{const e=Ve(h);const t=t=>e.get().each(t);return{...e,on:t}};const Ze=(e,t)=>e.substring(t);const Ue=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const qe=(e,t)=>We(e,t)?Ze(e,t.length):e;const $e=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return u(n)?true:s+t.length<=n}else{return false}};const We=(e,t)=>Ue(e,t,0);const Ge=(e,t)=>Ue(e,t,e.length-t.length);const Ke=e=>t=>t.replace(e,"");const Ye=Ke(/^\s+|\s+$/g);const Xe=e=>e.length>0;const Je=e=>{const t=parseFloat(e);return isNaN(t)?E.none():E.some(t)};const Qe=(e,t)=>{let o=null;const n=()=>{if(!l(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout(()=>{o=null;e.apply(null,s)},t)};return{cancel:n,throttle:s}};const et=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const tt=" ";const ot=["tfoot","thead","tbody","colgroup"];const nt=e=>N(ot,e);const st=(e,t)=>({rows:e,columns:t});const rt=(e,t)=>({row:e,column:t});const at=(e,t,o)=>({element:e,rowspan:t,colspan:o});const ct=(e,t,o,n)=>({element:e,rowspan:t,colspan:o,isNew:n});const it=(e,t,o,n,s,r)=>({element:e,rowspan:t,colspan:o,row:n,column:s,isLocked:r});const lt=(e,t,o)=>({element:e,cells:t,section:o});const dt=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n});const ut=(e,t,o)=>({element:e,isNew:t,isLocked:o});const ft=(e,t,o,n)=>({element:e,cells:t,section:o,isNew:n});const mt=(e,t,o,n)=>({startRow:e,startCol:t,finishRow:o,finishCol:n});const gt=(e,t,o)=>({element:e,colspan:t,column:o});const pt=(e,t)=>({element:e,columns:t});const ht=(e,t,o)=>{const n=e.cells;const s=n.slice(0,t);const r=n.slice(t);const a=s.concat(o).concat(r);return vt(e,a)};const yt=(e,t,o)=>ht(e,t,[o]);const bt=(e,t,o)=>{const n=e.cells;n[t]=o};const vt=(e,t)=>ft(e.element,t,e.section,e.isNew);const kt=(e,t)=>{const o=e.cells;const n=L(o,t);return ft(e.element,n,e.section,e.isNew)};const wt=(e,t)=>e.cells[t];const _t=(e,t)=>wt(e,t).element;const xt=e=>e.cells.length;const Ct=e=>{const t=P(e,e=>e.section==="colgroup");return{rows:t.fail,cols:t.pass}};const St=(e,t,o)=>{const n=L(e.cells,o);return ft(t(e.element),n,e.section,true)};const zt=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return Ot(n.childNodes[0])};const Tt=(e,t)=>{const o=t||document;const n=o.createElement(e);return Ot(n)};const Et=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return Ot(n)};const Ot=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const At=(e,t,o)=>E.from(e.dom.elementFromPoint(t,o)).map(Ot);const Dt={fromHtml:zt,fromTag:Tt,fromText:Et,fromDom:Ot,fromPoint:At};const Mt=(e,t)=>{const o=e.document.createRange();o.selectNode(t.dom);return o};const Nt=(e,t)=>{const o=e.document.createRange();Rt(o,t);return o};const Rt=(e,t)=>e.selectNodeContents(t.dom);const Bt=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,o)=>{e.setStart(t.dom,o)},t=>{e.setStartAfter(t.dom)})};const Lt=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,o)=>{e.setEnd(t.dom,o)},t=>{e.setEndAfter(t.dom)})};const Ht=(e,t,o)=>{const n=e.document.createRange();Bt(n,t);Lt(n,o);return n};const It=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const Pt=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height});const Ft=e=>{const t=e.getClientRects();const o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?E.some(o).map(Pt):E.none()};const Vt=ye.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const jt=(e,t,o)=>t(Dt.fromDom(o.startContainer),o.startOffset,Dt.fromDom(o.endContainer),o.endOffset);const Zt=(e,t)=>t.match({domRange:e=>({ltr:v(e),rtl:E.none}),relative:(t,o)=>({ltr:et(()=>Ht(e,t,o)),rtl:et(()=>E.some(Ht(e,o,t)))}),exact:(t,o,n,s)=>({ltr:et(()=>It(e,t,o,n,s)),rtl:et(()=>E.some(It(e,n,s,t,o)))})});const Ut=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter(e=>e.collapsed===false);return n.map(e=>Vt.rtl(Dt.fromDom(e.endContainer),e.endOffset,Dt.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>jt(e,Vt.ltr,o))}else{return jt(e,Vt.ltr,o)}};const qt=(e,t)=>{const o=Zt(e,t);return Ut(e,o)};const $t=(e,t)=>{const o=qt(e,t);return o.match({ltr:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r},rtl:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(n.dom,s);r.setEnd(t.dom,o);return r}})};Vt.ltr;Vt.rtl;const Wt=8;const Gt=9;const Kt=11;const Yt=1;const Xt=3;const Jt=(e,t)=>{const o=e.dom;if(o.nodeType!==Yt){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const Qt=e=>e.nodeType!==Yt&&e.nodeType!==Gt&&e.nodeType!==Kt||e.childElementCount===0;const eo=(e,t)=>{const o=t===undefined?document:t.dom;return Qt(o)?[]:L(o.querySelectorAll(e),Dt.fromDom)};const to=(e,t)=>{const o=t===undefined?document:t.dom;return Qt(o)?E.none():E.from(o.querySelector(e)).map(Dt.fromDom)};const oo=(e,t)=>e.dom===t.dom;const no=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const so=Jt;const ro=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:v(s),isiPhone:v(r),isTablet:v(i),isPhone:v(l),isTouch:v(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:v(d),isDesktop:v(u)}};const ao=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const co=(e,t)=>{const o=ao(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return uo(n(1),n(2))};const io=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return lo()}return co(e,o)};const lo=()=>uo(0,0);const uo=(e,t)=>({major:e,minor:t});const fo={nu:uo,detect:io,unknown:lo};const mo=(e,t)=>te(t.brands,t=>{const o=t.brand.toLowerCase();return U(e,e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:fo.nu(parseInt(t.version,10),0)}))});const go=(e,t)=>{const o=String(t).toLowerCase();return U(e,e=>e.search(o))};const po=(e,t)=>go(e,t).map(e=>{const o=fo.detect(e.versionRegexes,t);return{current:e.name,version:o}});const ho=(e,t)=>go(e,t).map(e=>{const o=fo.detect(e.versionRegexes,t);return{current:e.name,version:o}});const yo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const bo=e=>t=>$e(t,e);const vo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>$e(e,"edge/")&&$e(e,"chrome")&&$e(e,"safari")&&$e(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yo],search:e=>$e(e,"chrome")&&!$e(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>$e(e,"msie")||$e(e,"trident")},{name:"Opera",versionRegexes:[yo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:bo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:bo("firefox")},{name:"Safari",versionRegexes:[yo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>($e(e,"safari")||$e(e,"mobile/"))&&$e(e,"applewebkit")}];const ko=[{name:"Windows",search:bo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>$e(e,"iphone")||$e(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:bo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:bo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:bo("linux"),versionRegexes:[]},{name:"Solaris",search:bo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:bo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:bo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const wo={browsers:v(vo),oses:v(ko)};const _o="Edge";const xo="Chromium";const Co="IE";const So="Opera";const zo="Firefox";const To="Safari";const Eo=()=>Oo({current:undefined,version:fo.unknown()});const Oo=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(_o),isChromium:n(xo),isIE:n(Co),isOpera:n(So),isFirefox:n(zo),isSafari:n(To)}};const Ao={unknown:Eo,nu:Oo,edge:v(_o),chromium:v(xo),ie:v(Co),opera:v(So),firefox:v(zo),safari:v(To)};const Do="Windows";const Mo="iOS";const No="Android";const Ro="Linux";const Bo="macOS";const Lo="Solaris";const Ho="FreeBSD";const Io="ChromeOS";const Po=()=>Fo({current:undefined,version:fo.unknown()});const Fo=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(Do),isiOS:n(Mo),isAndroid:n(No),isMacOS:n(Bo),isLinux:n(Ro),isSolaris:n(Lo),isFreeBSD:n(Ho),isChromeOS:n(Io)}};const Vo={unknown:Po,nu:Fo,windows:v(Do),ios:v(Mo),android:v(No),linux:v(Ro),macos:v(Bo),solaris:v(Lo),freebsd:v(Ho),chromeos:v(Io)};const jo=(e,t,o)=>{const n=wo.browsers();const s=wo.oses();const r=t.bind(e=>mo(n,e)).orThunk(()=>po(n,e)).fold(Ao.unknown,Ao.nu);const a=ho(s,e).fold(Vo.unknown,Vo.nu);const c=ro(a,r,e,o);return{browser:r,os:a,deviceType:c}};const Zo={detect:jo};const Uo=e=>window.matchMedia(e).matches;let qo=et(()=>Zo.detect(window.navigator.userAgent,E.from(window.navigator.userAgentData),Uo));const $o=()=>qo();const Wo=(e,t)=>Fe(e,t);const Go=(e,t)=>{const o=Wo(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const Ko=Object.getPrototypeOf;const Yo=e=>Go("HTMLElement",e);const Xo=e=>{const t=Fe("ownerDocument.defaultView",e);return c(e)&&(Yo(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ko(e).constructor.name))};const Jo=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const Qo=e=>e.dom.nodeType;const en=e=>t=>Qo(t)===e;const tn=e=>Qo(e)===Wt||Jo(e)==="#comment";const on=e=>nn(e)&&Xo(e.dom);const nn=en(Yt);const sn=en(Xt);const rn=en(Gt);const an=en(Kt);const cn=e=>t=>nn(t)&&Jo(t)===e;const ln=e=>Dt.fromDom(e.dom.ownerDocument);const dn=e=>rn(e)?e:ln(e);const un=e=>Dt.fromDom(dn(e).dom.documentElement);const fn=e=>Dt.fromDom(dn(e).dom.defaultView);const mn=e=>E.from(e.dom.parentNode).map(Dt.fromDom);const gn=e=>E.from(e.dom.parentElement).map(Dt.fromDom);const pn=(e,t)=>{const o=g(t)?t:z;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=Dt.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const hn=e=>E.from(e.dom.previousSibling).map(Dt.fromDom);const yn=e=>E.from(e.dom.nextSibling).map(Dt.fromDom);const bn=e=>L(e.dom.childNodes,Dt.fromDom);const vn=(e,t)=>{const o=e.dom.childNodes;return E.from(o[t]).map(Dt.fromDom)};const kn=e=>vn(e,0);const wn=(e,t,o,n)=>{const s=ln(e);const r=s.dom.createRange();r.setStart(e.dom,t);r.setEnd(o.dom,n);return r};const _n=(e,t,o,n)=>{const s=wn(e,t,o,n);const r=oo(e,o)&&t===n;return s.collapsed&&!r};const xn=e=>an(e)&&m(e.dom.host);const Cn=e=>Dt.fromDom(e.dom.getRootNode());const Sn=e=>xn(e)?e:Dt.fromDom(dn(e).dom.body);const zn=e=>{const t=Cn(e);return xn(t)?E.some(t):E.none()};const Tn=e=>Dt.fromDom(e.dom.host);const En=e=>{if(m(e.target)){const t=Dt.fromDom(e.target);if(nn(t)&&On(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return Q(t)}}}}return E.from(e.target)};const On=e=>m(e.dom.shadowRoot);const An=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const Dn=e=>{const t=Dt.fromDom(En(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=y(n,o);return An(t,e.clientX,e.clientY,o,n,s,e)};const Mn=(e,t)=>o=>{if(e(o)){t(Dn(o))}};const Nn=(e,t,o,n,s)=>{const r=Mn(o,n);e.dom.addEventListener(t,r,s);return{unbind:_(Bn,e,t,r,s)}};const Rn=(e,t,o,n)=>Nn(e,t,o,n,false);const Bn=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const Ln=T;const Hn=(e,t,o)=>Rn(e,t,Ln,o);const In=Dn;const Pn=(e,t)=>{const o=mn(e);o.each(o=>{o.dom.insertBefore(t.dom,e.dom)})};const Fn=(e,t)=>{const o=yn(e);o.fold(()=>{const o=mn(e);o.each(e=>{jn(e,t)})},e=>{Pn(e,t)})};const Vn=(e,t)=>{const o=kn(e);o.fold(()=>{jn(e,t)},o=>{e.dom.insertBefore(t.dom,o.dom)})};const jn=(e,t)=>{e.dom.appendChild(t.dom)};const Zn=(e,t,o)=>{vn(e,o).fold(()=>{jn(e,t)},e=>{Pn(e,t)})};const Un=(e,t)=>{Pn(e,t);jn(t,e)};const qn=(e,t)=>{H(t,(o,n)=>{const s=n===0?e:t[n-1];Fn(s,o)})};const $n=(e,t)=>{H(t,t=>{jn(e,t)})};const Wn=(e,t,o)=>{if(a(o)||d(o)||p(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Gn=(e,t,o)=>{Wn(e.dom,t,o)};const Kn=(e,t)=>{const o=e.dom;se(t,(e,t)=>{Wn(o,t,e)})};const Yn=(e,t)=>{se(t,(t,o)=>{t.fold(()=>{Qn(e,o)},t=>{Wn(e.dom,o,t)})})};const Xn=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const Jn=(e,t)=>E.from(Xn(e,t));const Qn=(e,t)=>{e.dom.removeAttribute(t)};const es=e=>j(e.dom.attributes,(e,t)=>{e[t.name]=t.value;return e},{});const ts=e=>{e.dom.textContent="";H(bn(e),e=>{os(e)})};const os=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const ns=e=>{const t=bn(e);if(t.length>0){qn(e,t)}os(e)};const ss=(e,t)=>Dt.fromDom(e.dom.cloneNode(t));const rs=e=>ss(e,false);const as=e=>ss(e,true);const cs=(e,t)=>{const o=Dt.fromTag(t);const n=es(e);Kn(o,n);return o};const is=(e,t)=>{const o=cs(e,t);const n=bn(as(e));$n(o,n);return o};const ls=(e,t)=>{const o=cs(e,t);Fn(e,o);const n=bn(e);$n(o,n);os(e);return o};const ds=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return bn(Dt.fromDom(n))};const us=e=>L(e,Dt.fromDom);const fs=e=>e.dom.innerHTML;const ms=e=>{const t=Dt.fromTag("div");const o=Dt.fromDom(e.dom.cloneNode(true));jn(t,o);return fs(t)};const gs=e=>e.style!==undefined&&g(e.style.getPropertyValue);const ps=e=>{const t=sn(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return zn(Dt.fromDom(t)).fold(()=>o.body.contains(t),b(ps,Tn))};const hs=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return Dt.fromDom(t)};const ys=(e,t,o)=>{if(!a(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(gs(e)){e.style.setProperty(t,o)}};const bs=(e,t)=>{if(gs(e)){e.style.removeProperty(t)}};const vs=(e,t,o)=>{const n=e.dom;ys(n,t,o)};const ks=(e,t)=>{const o=e.dom;se(t,(e,t)=>{ys(o,t,e)})};const ws=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!ps(e)?_s(o,t):s};const _s=(e,t)=>gs(e)?e.style.getPropertyValue(t):"";const xs=(e,t)=>{const o=e.dom;const n=_s(o,t);return E.from(n).filter(e=>e.length>0)};const Cs=(e,t)=>{const o=e.dom;bs(o,t);if(Be(Jn(e,"style").map(Ye),"")){Qn(e,"style")}};const Ss=(e,t)=>{const o=e.dom;const n=t.dom;if(gs(o)&&gs(n)){n.style.cssText=o.style.cssText}};const zs=(e,t)=>{const o=(t,o)=>{if(!p(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(gs(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=ws(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>j(t,(t,o)=>{const n=ws(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s},0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const Ts=(e,t)=>Je(e).getOr(t);const Es=(e,t,o)=>Ts(ws(e,t),o);const Os=(e,t,o,n)=>{const s=Es(e,`padding-${o}`,0);const r=Es(e,`padding-${n}`,0);const a=Es(e,`border-${o}-width`,0);const c=Es(e,`border-${n}-width`,0);return t-s-r-a-c};const As=(e,t)=>{const o=e.dom;const n=o.getBoundingClientRect().width||o.offsetWidth;return t==="border-box"?n:Os(e,n,"left","right")};const Ds=e=>Es(e,"height",e.dom.offsetHeight);const Ms=e=>Es(e,"width",e.dom.offsetWidth);const Ns=e=>As(e,"content-box");const Rs=zs("height",e=>{const t=e.dom;return ps(e)?t.getBoundingClientRect().height:t.offsetHeight});const Bs=e=>Rs.get(e);const Ls=e=>Rs.getOuter(e);const Hs=Ds;const Is=zs("width",e=>e.dom.offsetWidth);zs("width",e=>{const t=e.dom;return ps(e)?t.getBoundingClientRect().width:t.offsetWidth});const Ps=e=>Is.get(e);const Fs=e=>Is.getOuter(e);const Vs=Ns;const js=Ms;const Zs=(e,t)=>{const o=(o,n)=>Zs(e+o,t+n);return{left:e,top:t,translate:o}};const Us=Zs;const qs=e=>{const t=e.getBoundingClientRect();return Us(t.left,t.top)};const $s=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const Ws=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return Us(o.offsetLeft,o.offsetTop)}const r=$s(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=$s(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=$s(s.clientTop,o.clientTop);const i=$s(s.clientLeft,o.clientLeft);return Gs(e).translate(a-i,r-c)};const Gs=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return Us(n.offsetLeft,n.offsetTop)}if(!ps(e)){return Us(0,0)}return qs(t)};const Ks=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return Us(o,n)};const Ys=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollBy(e,t)}};const Xs=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?E.from(t.dom.nodeValue):E.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const Js=Xs(sn,"text");const Qs=e=>Js.get(e);const er=e=>Js.getOption(e);const tr=(e,t)=>Js.set(e,t);const or=(e,t)=>o=>nr(o)==="rtl"?t:e;const nr=e=>ws(e,"direction")==="rtl"?"rtl":"ltr";const sr=(e,t)=>{const o=Xn(e,t);return o===undefined||o===""?[]:o.split(" ")};const rr=(e,t,o)=>{const n=sr(e,t);const s=n.concat([o]);Gn(e,t,s.join(" "));return true};const ar=(e,t,o)=>{const n=F(sr(e,t),e=>e!==o);if(n.length>0){Gn(e,t,n.join(" "))}else{Qn(e,t)}return false};var cr=(e,t,o,n,s)=>{if(e(o,n)){return E.some(o)}else if(g(s)&&s(o)){return E.none()}else{return t(o,n,s)}};const ir=(e,t,o)=>{let n=e.dom;const s=g(o)?o:z;while(n.parentNode){n=n.parentNode;const e=Dt.fromDom(n);if(t(e)){return E.some(e)}else if(s(e)){break}}return E.none()};const lr=(e,t,o)=>{const n=(e,t)=>t(e);return cr(n,ir,e,t,o)};const dr=(e,t)=>{const o=e=>t(Dt.fromDom(e));const n=U(e.dom.childNodes,o);return n.map(Dt.fromDom)};const ur=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=Dt.fromDom(e.childNodes[n]);if(t(s)){return E.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return E.none()};return o(e.dom)};const fr=(e,t,o)=>ir(e,e=>Jt(e,t),o);const mr=(e,t)=>dr(e,e=>Jt(e,t));const gr=(e,t)=>to(t,e);const pr=(e,t,o)=>{const n=(e,t)=>Jt(e,t);return cr(n,fr,e,t,o)};const hr=e=>e.dom.classList!==undefined;const yr=e=>sr(e,"class");const br=(e,t)=>rr(e,"class",t);const vr=(e,t)=>ar(e,"class",t);const kr=(e,t)=>{if(hr(e)){e.dom.classList.add(t)}else{br(e,t)}};const wr=e=>{const t=hr(e)?e.dom.classList:yr(e);if(t.length===0){Qn(e,"class")}};const _r=(e,t)=>{if(hr(e)){const o=e.dom.classList;o.remove(t)}else{vr(e,t)}wr(e)};const xr=(e,t)=>hr(e)&&e.dom.classList.contains(t);const Cr=(e,t)=>{H(t,t=>{_r(e,t)})};const Sr=e=>pr(e,"[contenteditable]");const zr=(e,t=false)=>{if(ps(e)){return e.dom.isContentEditable}else{return Sr(e).fold(v(t),e=>Tr(e)==="true")}};const Tr=e=>e.dom.contentEditable;const Er=e=>t=>{kr(t,e)};const Or=e=>t=>{Cr(t,e)};const Ar=(e,t,o)=>F(pn(e,o),t);const Dr=(e,t)=>F(bn(e),t);const Mr=(e,t)=>{let o=[];H(bn(e),e=>{if(t(e)){o=o.concat([e])}o=o.concat(Mr(e,t))});return o};const Nr=(e,t,o)=>Ar(e,e=>Jt(e,t),o);const Rr=(e,t)=>Dr(e,e=>Jt(e,t));const Br=(e,t)=>eo(t,e);const Lr=(e,t,o,n)=>({parent:e,children:t,element:o,index:n});const Hr=e=>mn(e).bind(t=>{const o=bn(t);return Ir(o,e).map(n=>Lr(t,o,e,n))});const Ir=(e,t)=>q(e,_(oo,t));const Pr=(e,t,o)=>ir(e,t,o).isSome();const Fr=e=>Jo(e)==="img"?1:er(e).fold(()=>bn(e).length,e=>e.length);const Vr=e=>er(e).filter(e=>e.trim().length!==0||e.indexOf(tt)>-1).isSome();const jr=e=>on(e)&&Xn(e,"contenteditable")==="false";const Zr=["img","br"];const Ur=e=>{const t=Vr(e);return t||N(Zr,Jo(e))||jr(e)};const qr=e=>ur(e,Ur);const $r=e=>Wr(e,Ur);const Wr=(e,t)=>{const o=e=>{const n=bn(e);for(let e=n.length-1;e>=0;e--){const s=n[e];if(t(s)){return E.some(s)}const r=o(s);if(r.isSome()){return r}}return E.none()};return o(e)};const Gr=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const Kr={create:Gr};const Yr=ye.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const Xr=(e,t,o,n)=>e.fold(t,o,n);const Jr=e=>e.fold(k,k,k);const Qr=Yr.before;const ea=Yr.on;const ta=Yr.after;const oa={before:Qr,on:ea,after:ta,cata:Xr,getStart:Jr};const na=ye.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const sa=e=>na.exact(e.start,e.soffset,e.finish,e.foffset);const ra=e=>e.match({domRange:e=>Dt.fromDom(e.startContainer),relative:(e,t)=>oa.getStart(e),exact:(e,t,o,n)=>e});const aa=na.domRange;const ca=na.relative;const ia=na.exact;const la=e=>{const t=ra(e);return fn(t)};const da=Kr.create;const ua={domRange:aa,relative:ca,exact:ia,exactFromRange:sa,getWin:la,range:da};const fa=(e,t,o)=>{var n;return E.from((n=e.caretPositionFromPoint)===null||n===void 0?void 0:n.call(e,t,o)).bind(t=>{if(t.offsetNode===null){return E.none()}const o=e.createRange();o.setStart(t.offsetNode,t.offset);o.collapse();return E.some(o)})};const ma=(e,t,o)=>{var n;return E.from((n=e.caretRangeFromPoint)===null||n===void 0?void 0:n.call(e,t,o))};const ga=(e,t,o)=>{if(e.caretPositionFromPoint){return fa(e,t,o)}else if(e.caretRangeFromPoint){return ma(e,t,o)}else{return E.none()}};const pa=(e,t,o)=>{const n=e.document;return ga(n,t,o).map(e=>Kr.create(Dt.fromDom(e.startContainer),e.startOffset,Dt.fromDom(e.endContainer),e.endOffset))};const ha=(e,t)=>{const o=Jo(e);if("input"===o){return oa.after(e)}else if(!N(["br","img"],o)){return oa.on(e,t)}else{return t===0?oa.before(e):oa.after(e)}};const ya=(e,t)=>{const o=e.fold(oa.before,ha,oa.after);const n=t.fold(oa.before,ha,oa.after);return ua.relative(o,n)};const ba=(e,t,o,n)=>{const s=ha(e,t);const r=ha(o,n);return ua.relative(s,r)};const va=e=>E.from(e.getSelection());const ka=(e,t)=>{va(e).each(e=>{e.removeAllRanges();e.addRange(t)})};const wa=(e,t,o,n,s)=>{const r=It(e,t,o,n,s);ka(e,r)};const _a=(e,t,o,n,s,r)=>{t.collapse(o.dom,n);t.extend(s.dom,r)};const xa=(e,t)=>qt(e,t).match({ltr:(t,o,n,s)=>{wa(e,t,o,n,s)},rtl:(t,o,n,s)=>{va(e).each(r=>{if(r.setBaseAndExtent){r.setBaseAndExtent(t.dom,o,n.dom,s)}else if(r.extend){try{_a(e,r,t,o,n,s)}catch(r){wa(e,n,s,t,o)}}else{wa(e,n,s,t,o)}})}});const Ca=(e,t,o,n,s)=>{const r=ba(t,o,n,s);xa(e,r)};const Sa=(e,t,o)=>{const n=ya(t,o);xa(e,n)};const za=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0);const o=e.getRangeAt(e.rangeCount-1);return E.some(Kr.create(Dt.fromDom(t.startContainer),t.startOffset,Dt.fromDom(o.endContainer),o.endOffset))}else{return E.none()}};const Ta=e=>{if(e.anchorNode===null||e.focusNode===null){return za(e)}else{const t=Dt.fromDom(e.anchorNode);const o=Dt.fromDom(e.focusNode);return _n(t,e.anchorOffset,o,e.focusOffset)?E.some(Kr.create(t,e.anchorOffset,o,e.focusOffset)):za(e)}};const Ea=(e,t,o=true)=>{const n=o?Nt:Mt;const s=n(e,t);ka(e,s)};const Oa=e=>va(e).filter(e=>e.rangeCount>0).bind(Ta);const Aa=e=>Oa(e).map(e=>ua.exact(e.start,e.soffset,e.finish,e.foffset));const Da=(e,t)=>{const o=$t(e,t);return Ft(o)};const Ma=(e,t,o)=>pa(e,t,o);const Na=e=>{va(e).each(e=>e.removeAllRanges())};const Ra={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};const Ba=(()=>{const e="[0-9]+";const t="[+-]?"+e;const o="[eE]"+t;const n="\\.";const s=e=>`(?:${e})?`;const r=["Infinity",e+n+s(e)+s(o),n+e+s(o),e+s(o)].join("|");const a=`[+-]?(?:${r})`;return new RegExp(`^(${a})(.*)$`)})();const La=(e,t)=>R(t,t=>R(Ra[t],t=>e===t));const Ha=(e,t)=>{const o=E.from(Ba.exec(e));return o.bind(e=>{const o=Number(e[1]);const n=e[2];if(La(n,t)){return E.some({value:o,unit:n})}else{return E.none()}})};const Ia=e=>L(e,v(0));const Pa=(e,t,o,n,s)=>s(e.slice(0,t)).concat(n).concat(s(e.slice(o)));const Fa=e=>(t,o,n,s)=>{if(!e(n)){return n}else{const e=Math.max(s,t[o]-Math.abs(n));const r=Math.abs(e-t[o]);return n>=0?r:-r}};const Va=Fa(e=>e<0);const ja=Fa(T);const Za=()=>{const e=(e,t,o,n,s)=>{const r=Va(e,t,n,s);return Pa(e,t,o+1,[r,0],Ia)};const t=(e,t,o,n)=>{const s=(100+o)/100;const r=Math.max(n,(e[t]+o)/s);return L(e,(e,o)=>{const n=o===t?r:e/s;return n-e})};const o=(o,n,s,r,a,c)=>{if(c){return t(o,n,r,a)}else{return e(o,n,s,r,a)}};const n=(e,t,n,s,r,a,c)=>o(e,n,s,r,a,c);const s=(e,t)=>e(t);const r=(e,o,n,s,r,a)=>{if(a){return t(e,n,s,r)}else{const t=Va(e,n,s,r);return Ia(e.slice(0,n)).concat([t])}};const a=(e,t,o,n)=>{if(n){const n=t+o;const s=n/t;const r=L(e,e=>e/s);return{delta:s*100-100,newSizes:r}}else{return{delta:o,newSizes:e}}};return{resizeTable:s,clampTableDelta:Va,calcLeftEdgeDeltas:o,calcMiddleDeltas:n,calcRightEdgeDeltas:r,calcRedestributedWidths:a}};const Ua=()=>{const e=(e,t,o,n,s)=>{const r=n>=0?o:t;const a=ja(e,r,n,s);return Pa(e,t,o+1,[a,-a],Ia)};const t=(t,o,n,s,r,a)=>e(t,n,s,r,a);const o=(e,t,o)=>{if(o){e(t)}};const n=(e,t,o,n,s,r)=>{if(r){return Ia(e)}else{const t=n/e.length;return L(e,v(t))}};const s=(e,t,o,n,s)=>{if(s){if(o>=0){return o}else{const t=j(e,(e,t)=>e+t-n,0);return Math.max(-t,o)}}else{return Va(e,t,o,n)}};const r=(e,t,o,n)=>({delta:0,newSizes:e});return{resizeTable:o,clampTableDelta:s,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:n,calcRedestributedWidths:r}};const qa=(e,t,o=0)=>Jn(e,t).map(e=>parseInt(e,10)).getOr(o);const $a=(e,t)=>qa(e,t,1);const Wa=e=>{if(cn("col")(e)){return qa(e,"span",1)>1}else{return $a(e,"colspan")>1}};const Ga=e=>$a(e,"rowspan")>1;const Ka=(e,t)=>parseInt(ws(e,t),10);const Ya=v(10);const Xa=v(10);const Ja=(e,t)=>Qa(e,t,T);const Qa=(e,t,o)=>W(bn(e),e=>{if(Jt(e,t)){return o(e)?[e]:[]}else{return Qa(e,t,o)}});const ec=(e,t,o=z)=>{if(o(t)){return E.none()}if(N(e,Jo(t))){return E.some(t)}const n=e=>Jt(e,"table")||o(e);return fr(t,e.join(","),n)};const tc=(e,t)=>ec(["td","th"],e,t);const oc=e=>Ja(e,"th,td");const nc=e=>{if(Jt(e,"colgroup")){return Rr(e,"col")}else{return W(ac(e),e=>Rr(e,"col"))}};const sc=(e,t)=>pr(e,"table",t);const rc=e=>Ja(e,"tr");const ac=e=>sc(e).fold(v([]),e=>Rr(e,"colgroup"));const cc=cn("th");const ic=e=>G(e,e=>cc(e.element));const lc=(e,t)=>{if(e&&t){return"sectionCells"}else if(e){return"section"}else{return"cells"}};const dc=e=>{const t=e.section==="thead";const o=Be(uc(e.cells),"th");if(e.section==="tfoot"){return{type:"footer"}}else if(t||o){return{type:"header",subType:lc(t,o)}}else{return{type:"body"}}};const uc=e=>{const t=F(e,e=>cc(e.element));if(t.length===0){return E.some("td")}else if(t.length===e.length){return E.some("th")}else{return E.none()}};const fc=e=>{const t=L(e,e=>dc(e).type);const o=N(t,"header");const n=N(t,"footer");if(!o&&!n){return E.some("body")}else{const e=N(t,"body");if(o&&!e&&!n){return E.some("header")}else if(!o&&!e&&n){return E.some("footer")}else{return E.none()}}};const mc=e=>te(e.all,e=>{const t=dc(e);return t.type==="header"?E.from(t.subType):E.none()});const gc=(e,t)=>L(e,e=>{if(Jo(e)==="colgroup"){const t=L(nc(e),e=>{const t=qa(e,"span",1);return at(e,1,t)});return lt(e,t,"colgroup")}else{const o=L(oc(e),e=>{const t=qa(e,"rowspan",1);const o=qa(e,"colspan",1);return at(e,t,o)});return lt(e,o,t(e))}});const pc=e=>mn(e).map(e=>{const t=Jo(e);return nt(t)?t:"tbody"}).getOr("tbody");const hc=e=>{const t=rc(e);const o=ac(e);const n=[...o,...t];return gc(n,pc)};const yc=(e,t)=>gc(e,()=>t);const bc="data-snooker-locked-cols";const vc=e=>Jn(e,bc).bind(e=>E.from(e.match(/\d+/g))).map(e=>Y(e,T));const kc=e=>{const t=j(Ct(e).rows,(e,t)=>{H(t.cells,(t,o)=>{if(t.isLocked){e[o]=true}});return e},{});const o=de(t,(e,t)=>parseInt(t,10));return X(o)};const wc=(e,t)=>e+","+t;const _c=(e,t,o)=>E.from(e.access[wc(t,o)]);const xc=(e,t,o)=>{const n=Cc(e,e=>o(t,e.element));return n.length>0?E.some(n[0]):E.none()};const Cc=(e,t)=>{const o=W(e.all,e=>e.cells);return F(o,t)};const Sc=e=>{const t={};let o=0;H(e.cells,e=>{const n=e.colspan;B(n,s=>{const r=o+s;t[r]=gt(e.element,n,r)});o+=n});return t};const zc=e=>{const t={};const o=[];const n=Q(e).map(e=>e.element).bind(sc);const s=n.bind(vc).getOr({});let r=0;let a=0;let c=0;const{pass:i,fail:l}=P(e,e=>e.section==="colgroup");H(l,e=>{const n=[];H(e.cells,e=>{let o=0;while(t[wc(c,o)]!==undefined){o++}const r=ge(s,o.toString());const i=it(e.element,e.rowspan,e.colspan,c,o,r);for(let n=0;n<e.colspan;n++){for(let s=0;s<e.rowspan;s++){const e=c+s;const r=o+n;const l=wc(e,r);t[l]=i;a=Math.max(a,r+1)}}n.push(i)});r++;o.push(lt(e.element,n,e.section));c++});const{columns:d,colgroups:u}=ee(i).map(e=>{const t=Sc(e);const o=pt(e.element,ue(t));return{colgroups:[o],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}}));const f=st(r,a);return{grid:f,access:t,all:o,columns:d,colgroups:u}};const Tc=e=>{const t=hc(e);return zc(t)};const Ec=e=>W(e.all,e=>e.cells);const Oc=e=>ue(e.columns);const Ac=e=>oe(e.columns).length>0;const Dc=(e,t)=>E.from(e.columns[t]);const Mc={fromTable:Tc,generate:zc,getAt:_c,findItem:xc,filterItems:Cc,justCells:Ec,justColumns:Oc,hasColumns:Ac,getColumnAt:Dc};const Nc=(e,t,o)=>ut(o(e.element,t),true,e.isLocked);const Rc=(e,t)=>e.section!==t?ft(e.element,e.cells,t,e.isNew):e;const Bc=()=>({transformRow:Rc,transformCell:(e,t,o)=>{const n=o(e.element,t);const s=Jo(n)!=="td"?ls(n,"td"):n;return ut(s,e.isNew,e.isLocked)}});const Lc=()=>({transformRow:Rc,transformCell:Nc});const Hc=()=>({transformRow:(e,t)=>{const o=t==="thead"?"tbody":t;return Rc(e,o)},transformCell:Nc});const Ic=()=>({transformRow:k,transformCell:Nc});const Pc=(e,t)=>{const o=Mc.fromTable(e);const n=mc(o).getOr(t);switch(n){case"section":return Bc();case"sectionCells":return Lc();case"cells":return Hc()}};const Fc={getTableSectionType:Pc,section:Bc,sectionCells:Lc,cells:Hc,fallback:Ic};const Vc=(e,t=T)=>{const o=e.grid;const n=B(o.columns,k);const s=B(o.rows,k);return L(n,o=>{const n=()=>W(s,t=>Mc.getAt(e,t,o).filter(e=>e.column===o).toArray());const r=e=>e.colspan===1&&t(e.element);const a=()=>Mc.getAt(e,0,o);return jc(n,r,a)})};const jc=(e,t,o)=>{const n=e();const s=U(n,t);const r=s.orThunk(()=>E.from(n[0]).orThunk(o));return r.map(e=>e.element)};const Zc=e=>{const t=e.grid;const o=B(t.rows,k);const n=B(t.columns,k);return L(o,t=>{const o=()=>W(n,o=>Mc.getAt(e,t,o).filter(e=>e.row===t).fold(v([]),e=>[e]));const s=e=>e.rowspan===1;const r=()=>Mc.getAt(e,t,0);return jc(o,s,r)})};const Uc=(e,t)=>{if(t<0||t>=e.length-1){return E.none()}const o=e[t].fold(()=>{const o=K(e.slice(0,t));return te(o,(e,t)=>e.map(e=>({value:e,delta:t+1})))},e=>E.some({value:e,delta:0}));const n=e[t+1].fold(()=>{const o=e.slice(t+1);return te(o,(e,t)=>e.map(e=>({value:e,delta:t+1})))},e=>E.some({value:e,delta:1}));return o.bind(e=>n.map(t=>{const o=t.delta+e.delta;return Math.abs(t.value-e.value)/o}))};const qc=(e,t)=>({row:e,y:t});const $c=(e,t)=>({col:e,x:t});const Wc=e=>{const t=Ws(e);return t.left+Fs(e)};const Gc=e=>Ws(e).left;const Kc=(e,t)=>$c(e,Gc(t));const Yc=(e,t)=>$c(e,Wc(t));const Xc=e=>Ws(e).top;const Jc=(e,t)=>qc(e,Xc(t));const Qc=(e,t)=>qc(e,Xc(t)+Ls(t));const ei=(e,t,o)=>{if(o.length===0){return[]}const n=L(o.slice(1),(t,o)=>t.map(t=>e(o,t)));const s=o[o.length-1].map(e=>t(o.length-1,e));return n.concat([s])};const ti=e=>-e;const oi={delta:k,positions:e=>ei(Jc,Qc,e),edge:Xc};const ni={delta:k,edge:Gc,positions:e=>ei(Kc,Yc,e)};const si={delta:ti,edge:Wc,positions:e=>ei(Yc,Kc,e)};const ri=or(ni,si);const ai={delta:(e,t)=>ri(t).delta(e,t),positions:(e,t)=>ri(t).positions(e,t),edge:e=>ri(e).edge(e)};const ci=/(\d+(\.\d+)?)%/;const ii=/(\d+(\.\d+)?)px|em/;const li=cn("col");const di=cn("tr");const ui=(e,t,o)=>{const n=gn(e).getOrThunk(()=>hs(ln(e)));return t(e)/o(n)*100};const fi=(e,t)=>{vs(e,"width",t+"px")};const mi=(e,t)=>{vs(e,"width",t+"%")};const gi=(e,t)=>{vs(e,"height",t+"px")};const pi=e=>{Cs(e,"height")};const hi=e=>Hs(e)+"px";const yi=(e,t,o,n)=>{const s=sc(e).map(e=>{const n=o(e);return Math.floor(t/100*n)}).getOr(t);n(e,s);return s};const bi=(e,t,o,n)=>{const s=parseFloat(e);return Ge(e,"%")&&Jo(t)!=="table"?yi(t,s,o,n):s};const vi=e=>{const t=hi(e);if(!t){return Bs(e)}return bi(t,e,Bs,gi)};const ki=(e,t,o)=>{const n=o(e);const s=$a(e,t);return n/s};const wi=(e,t)=>xs(e,t).orThunk(()=>Jn(e,t).map(e=>e+"px"));const _i=e=>wi(e,"width");const xi=e=>wi(e,"height");const Ci=e=>ui(e,Ps,Vs);const Si=e=>li(e)?Ps(e):js(e);const zi=e=>di(e)?Bs(e):ki(e,"rowspan",vi);const Ti=e=>{const t=_i(e);return t.bind(e=>Ha(e,["fixed","relative","empty"]))};const Ei=(e,t,o)=>{vs(e,"width",t+o)};const Oi=e=>Ps(e)+"px";const Ai=e=>Bs(e)+"px";const Di=e=>ui(e,Ps,Vs)+"%";const Mi=e=>_i(e).exists(e=>ci.test(e));const Ni=e=>_i(e).exists(e=>ii.test(e));const Ri=e=>_i(e).isNone();const Bi=v(ci);const Li=cn("col");const Hi=e=>_i(e).getOrThunk(()=>Si(e)+"px");const Ii=e=>xi(e).getOrThunk(()=>zi(e)+"px");const Pi=e=>L(Mc.justColumns(e),e=>E.from(e.element));const Fi=e=>{const t=$o().browser;const o=t.isChromium()||t.isFirefox();return Li(e)?o:true};const Vi=(e,t,o,n,s,r)=>e.filter(n).fold(()=>r(Uc(o,t)),e=>s(e));const ji=(e,t,o,n)=>{const s=Vc(e);const r=Mc.hasColumns(e)?Pi(e):s;const a=[E.some(ai.edge(t))].concat(L(ai.positions(s,t),e=>e.map(e=>e.x)));const c=x(Wa);return L(r,(e,t)=>Vi(e,t,a,c,e=>{if(Fi(e)){return o(e)}else{const e=He(s[t],k);return Vi(e,t,a,c,e=>n(E.some(Ps(e))),n)}},n))};const Zi=e=>e.map(e=>e+"px").getOr("");const Ui=(e,t)=>ji(e,t,Hi,Zi);const qi=(e,t,o)=>ji(e,t,Ci,e=>e.fold(()=>o.minCellWidth(),e=>e/o.pixelWidth()*100));const $i=(e,t,o)=>ji(e,t,Si,e=>e.getOrThunk(o.minCellWidth));const Wi=(e,t,o,n)=>{const s=Zc(e);const r=L(e.all,e=>E.some(e.element));const a=[E.some(oi.edge(t))].concat(L(oi.positions(s,t),e=>e.map(e=>e.y)));return L(r,(e,t)=>Vi(e,t,a,T,o,n))};const Gi=(e,t)=>Wi(e,t,zi,e=>e.getOrThunk(Xa));const Ki=(e,t)=>Wi(e,t,Ii,Zi);const Yi=(e,t)=>()=>{if(ps(e)){return t(e)}else{return parseFloat(xs(e,"width").getOr("0"))}};const Xi=e=>{const t=Yi(e,Ps);const o=v(0);const n=(t,o)=>$i(t,e,o);return{width:t,pixelWidth:t,getWidths:n,getCellDelta:o,singleColumnWidth:v([0]),minCellWidth:o,setElementWidth:h,adjustTableWidth:h,isRelative:true,label:"none"}};const Ji=e=>{const t=Yi(e,e=>parseFloat(Di(e)));const o=Yi(e,Ps);const n=e=>e/o()*100;const s=(e,t)=>[100-e];const r=()=>Ya()/o()*100;const a=o=>{const n=t();const s=o/100*n;const r=n+s;mi(e,r)};const c=(t,o)=>qi(t,e,o);return{width:t,pixelWidth:o,getWidths:c,getCellDelta:n,singleColumnWidth:s,minCellWidth:r,setElementWidth:mi,adjustTableWidth:a,isRelative:true,label:"percent"}};const Qi=e=>{const t=Yi(e,Ps);const o=k;const n=(e,t)=>{const o=Math.max(Ya(),e+t);return[o-e]};const s=o=>{const n=t()+o;fi(e,n)};const r=(t,o)=>$i(t,e,o);return{width:t,pixelWidth:t,getWidths:r,getCellDelta:o,singleColumnWidth:n,minCellWidth:Ya,setElementWidth:fi,adjustTableWidth:s,isRelative:false,label:"pixel"}};const el=(e,t)=>{const o=Bi().exec(t);if(o!==null){return Ji(e)}else{return Qi(e)}};const tl=e=>{const t=_i(e);return t.fold(()=>Xi(e),t=>el(e,t))};const ol={getTableSize:tl,pixelSize:Qi,percentageSize:Ji,noneSize:Xi};const nl=(e,t,o,n)=>{if(o===n){Qn(e,t)}else{Gn(e,t,o)}};const sl=(e,t,o)=>{ee(Rr(e,t)).fold(()=>Vn(e,o),e=>Fn(e,o))};const rl=(e,t)=>{const o=mr(e,t).getOrThunk(()=>{const o=Dt.fromTag(t,ln(e).dom);if(t==="thead"){sl(e,"caption,colgroup",o)}else if(t==="colgroup"){sl(e,"caption",o)}else{jn(e,o)}return o});ts(o);return o};const al=(e,t)=>{const o=[];const n=[];const s=e=>L(e,e=>{if(e.isNew){o.push(e.element)}const t=e.element;ts(t);H(e.cells,e=>{if(e.isNew){n.push(e.element)}nl(e.element,"colspan",e.colspan,1);nl(e.element,"rowspan",e.rowspan,1);jn(t,e.element)});return t});const r=e=>W(e,e=>L(e.cells,e=>{nl(e.element,"span",e.colspan,1);return e.element}));const a=(t,o)=>{const n=rl(e,o);const a=o==="colgroup"?r:s;const c=a(t);$n(n,c)};const c=t=>{mr(e,t).each(os)};const i=(e,t)=>{if(e.length>0){a(e,t)}else{c(t)}};const l=[];const d=[];const u=[];const f=[];H(t,e=>{switch(e.section){case"thead":l.push(e);break;case"tbody":d.push(e);break;case"tfoot":u.push(e);break;case"colgroup":f.push(e);break}});i(f,"colgroup");i(l,"thead");i(d,"tbody");i(u,"tfoot");return{newRows:o,newCells:n}};const cl=e=>L(e,e=>{const t=rs(e.element);H(e.cells,e=>{const o=as(e.element);nl(o,"colspan",e.colspan,1);nl(o,"rowspan",e.rowspan,1);jn(t,o)});return t});const il=(e,t)=>L(e,e=>wt(e,t));const ll=(e,t)=>e[t];const dl=(e,t)=>{if(e.length===0){return 0}const o=e[0];const n=q(e,e=>!t(o.element,e.element));return n.getOr(e.length)};const ul=(e,t,o,n)=>{const s=ll(e,t);const r=s.section==="colgroup";const a=dl(s.cells.slice(o),n);const c=r?1:dl(il(e.slice(t),o),n);return{colspan:a,rowspan:c}};const fl=(e,t)=>{const o=L(e,e=>L(e.cells,z));const n=(e,t,n,s)=>{for(let r=e;r<e+n;r++){for(let e=t;e<t+s;e++){o[r][e]=true}}};return L(e,(s,r)=>{const a=W(s.cells,(s,a)=>{if(o[r][a]===false){const o=ul(e,r,a,t);n(r,a,o.rowspan,o.colspan);return[ct(s.element,o.rowspan,o.colspan,s.isNew)]}else{return[]}});return dt(s.element,a,s.section,s.isNew)})};const ml=(e,t,o)=>{const n=[];H(e.colgroups,s=>{const r=[];for(let n=0;n<e.grid.columns;n++){const s=Mc.getColumnAt(e,n).map(e=>ut(e.element,o,false)).getOrThunk(()=>ut(t.colGap(),true,false));r.push(s)}n.push(ft(s.element,r,"colgroup",o))});for(let s=0;s<e.grid.rows;s++){const r=[];for(let n=0;n<e.grid.columns;n++){const a=Mc.getAt(e,s,n).map(e=>ut(e.element,o,e.isLocked)).getOrThunk(()=>ut(t.gap(),true,false));r.push(a)}const a=e.all[s];const c=ft(a.element,r,a.section,o);n.push(c)}return n};const gl=(e,t)=>ml(e,t,false);const pl=e=>fl(e,oo);const hl=(e,t)=>te(e.all,e=>U(e.cells,e=>oo(t,e.element)));const yl=(e,t,o)=>{const n=L(t.selection,t=>tc(t).bind(t=>hl(e,t)).filter(o));const s=Le(n);return Ie(s.length>0,s)};const bl=(e,t,o,n,s,r,a,c,i)=>{const l=Mc.fromTable(r);const d=E.from(i===null||i===void 0?void 0:i.section).getOrThunk(Fc.fallback);const u=t(l,a).map(t=>{const o=gl(l,c);const n=e(o,t,oo,s(c),d);const r=kc(n.grid);const a=pl(n.grid);return{info:t,grid:a,cursor:n.cursor,lockedColumns:r}});return u.bind(e=>{const t=al(r,e.grid);const s=E.from(i===null||i===void 0?void 0:i.sizing).getOrThunk(()=>ol.getTableSize(r));const a=E.from(i===null||i===void 0?void 0:i.resize).getOrThunk(Ua);o(r,e.grid,e.info,{sizing:s,resize:a,section:d});n(r);Qn(r,bc);if(e.lockedColumns.length>0){Gn(r,bc,e.lockedColumns.join(","))}return E.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})};const vl=(e,t)=>tc(t.element).bind(o=>hl(e,o).map(e=>{const o={...e,generators:t.generators,clipboard:t.clipboard};return o}));const kl=(e,t)=>yl(e,t,T).map(e=>({cells:e,generators:t.generators,clipboard:t.clipboard}));const wl=(e,t)=>t.mergable;const _l=(e,t)=>t.unmergable;const xl=(e,t)=>yl(e,t,T);const Cl=(e,t)=>yl(e,t,e=>!e.isLocked);const Sl=(e,t)=>hl(e,t).exists(e=>!e.isLocked);const zl=(e,t)=>G(t,t=>Sl(e,t));const Tl=(e,t)=>wl(e,t).filter(t=>zl(e,t.cells));const El=(e,t)=>_l(e,t).filter(t=>zl(e,t));const Ol=ye.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]);const Al={...Ol};const Dl=(e,t)=>{if(e.length===0){return Al.none()}if(e.length===1){return Al.only(0)}if(t===0){return Al.left(0,1)}if(t===e.length-1){return Al.right(t-1,t)}if(t>0&&t<e.length-1){return Al.middle(t-1,t,t+1)}return Al.none()};const Ml=(e,t,o,n,s)=>{const r=e.slice(0);const a=Dl(e,t);const c=v(L(r,v(0)));const i=e=>n.singleColumnWidth(r[e],o);const l=(e,t)=>s.calcLeftEdgeDeltas(r,e,t,o,n.minCellWidth(),n.isRelative);const d=(e,t,a)=>s.calcMiddleDeltas(r,e,t,a,o,n.minCellWidth(),n.isRelative);const u=(e,t)=>s.calcRightEdgeDeltas(r,e,t,o,n.minCellWidth(),n.isRelative);return a.fold(c,i,l,d,u)};const Nl=(e,t,o)=>{let n=0;for(let s=e;s<t;s++){n+=o[s]!==undefined?o[s]:0}return n};const Rl=(e,t)=>{const o=Mc.justCells(e);return L(o,e=>{const o=Nl(e.column,e.column+e.colspan,t);return{element:e.element,width:o,colspan:e.colspan}})};const Bl=(e,t)=>{const o=Mc.justColumns(e);return L(o,(e,o)=>({element:e.element,width:t[o],colspan:e.colspan}))};const Ll=(e,t)=>L(e.all,(e,o)=>({element:e.element,height:t[o]}));const Hl=e=>V(e,(e,t)=>e+t,0);const Il=(e,t)=>{if(Mc.hasColumns(e)){return Bl(e,t)}else{return Rl(e,t)}};const Pl=(e,t,o)=>{const n=Il(e,t);H(n,e=>{o.setElementWidth(e.element,e.width)})};const Fl=(e,t,o,n,s)=>{const r=Mc.fromTable(e);const a=s.getCellDelta(t);const c=s.getWidths(r,s);const i=o===r.grid.columns-1;const l=n.clampTableDelta(c,o,a,s.minCellWidth(),i);const d=Ml(c,o,l,s,n);const u=L(d,(e,t)=>e+c[t]);Pl(r,u,s);n.resizeTable(s.adjustTableWidth,l,i)};const Vl=(e,t,o)=>{const n=Mc.fromTable(e);const s=Gi(n,e);const r=L(s,(e,n)=>o===n?Math.max(t+e,Xa()):e);const a=Ll(n,r);H(a,e=>{gi(e.element,e.height)});H(Mc.justCells(n),e=>{pi(e.element)});const c=Hl(r);gi(e,c)};const jl=(e,t,o,n,s)=>{const r=Mc.generate(t);const a=n.getWidths(r,n);const c=n.pixelWidth();const{newSizes:i,delta:l}=s.calcRedestributedWidths(a,c,o.pixelDelta,n.isRelative);Pl(r,i,n);n.adjustTableWidth(l)};const Zl=(e,t,o,n)=>{const s=Mc.generate(t);const r=n.getWidths(s,n);Pl(s,r,n)};const Ul=(e,t)=>{if(!Wa(e)){const o=Ti(e);o.each(o=>{const n=o.value/2;Ei(e,n,o.unit);Ei(t,n,o.unit)})}};const ql=(e,t,o)=>{const n=qa(e,t,1);if(o===1||n<=1){Qn(e,t)}else{Gn(e,t,Math.min(o,n))}};const $l=(e,t)=>o=>{const n=o.column+o.colspan-1;const s=o.column;return n>=e&&s<t};const Wl=(e,t,o)=>{if(Mc.hasColumns(e)){const n=F(Mc.justColumns(e),$l(t,o));const s=L(n,e=>{const n=as(e.element);ql(n,"span",o-t);return n});const r=Dt.fromTag("colgroup");$n(r,s);return[r]}else{return[]}};const Gl=(e,t,o)=>L(e.all,e=>{const n=F(e.cells,$l(t,o));const s=L(n,e=>{const n=as(e.element);ql(n,"colspan",o-t);return n});const r=Dt.fromTag("tr");$n(r,s);return r});const Kl=(e,t)=>{const o=Mc.fromTable(e);const n=Cl(o,t);return n.map(e=>{const t=e[e.length-1];const n=e[0].column;const s=t.column+t.colspan;const r=Wl(o,n,s);const a=Gl(o,n,s);return[...r,...a]})};const Yl=(e,t,o)=>{const n=Mc.fromTable(e);const s=xl(n,t);return s.bind(e=>{const t=ml(n,o,false);const s=Ct(t).rows;const r=s.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan);const a=W(r,e=>{const t=F(e.cells,e=>!e.isLocked);return t.length>0?[{...e,cells:t}]:[]});const c=pl(a);return Ie(c.length>0,c)}).map(e=>cl(e))};const Xl=(e,t,o,n,s,r)=>({minRow:e,minCol:t,maxRow:o,maxCol:n,allCells:s,selectedCells:r});const Jl=(e,t)=>{const o=e.grid.columns;const n=e.grid.rows;let s=n;let r=o;let a=0;let c=0;const i=[];const l=[];se(e.access,e=>{i.push(e);if(t(e)){l.push(e);const t=e.row;const o=t+e.rowspan-1;const n=e.column;const i=n+e.colspan-1;if(t<s){s=t}else if(o>a){a=o}if(n<r){r=n}else if(i>c){c=i}}});return Xl(s,r,a,c,i,l)};const Ql=(e,t,o)=>{const n=e[o].element;const s=Dt.fromTag("td");jn(s,Dt.fromTag("br"));const r=t?jn:Vn;r(n,s)};const ed=(e,t,o,n)=>{const s=F(e,e=>e.section!=="colgroup");const r=t.grid.columns;const a=t.grid.rows;for(let e=0;e<a;e++){let a=false;for(let c=0;c<r;c++){if(!(e<o.minRow||e>o.maxRow||c<o.minCol||c>o.maxCol)){const o=Mc.getAt(t,e,c).filter(n).isNone();if(o){Ql(s,a,e)}else{a=true}}}}};const td=(e,t,o,n)=>{se(o.columns,e=>{if(e.column<t.minCol||e.column>t.maxCol){os(e.element)}});const s=F(Ja(e,"tr"),e=>e.dom.childElementCount===0);H(s,os);if(t.minCol===t.maxCol||t.minRow===t.maxRow){H(Ja(e,"th,td"),e=>{Qn(e,"rowspan");Qn(e,"colspan")})}Qn(e,bc);Qn(e,"data-snooker-col-series");const r=ol.getTableSize(e);r.adjustTableWidth(n)};const od=(e,t,o,n)=>{if(n.minCol===0&&t.grid.columns===n.maxCol+1){return 0}const s=$i(t,e,o);const r=j(s,(e,t)=>e+t,0);const a=j(s.slice(n.minCol,n.maxCol+1),(e,t)=>e+t,0);const c=a/r*o.pixelWidth();const i=c-o.pixelWidth();return o.getCellDelta(i)};const nd=(e,t)=>{const o=e=>Jt(e.element,t);const n=as(e);const s=hc(n);const r=ol.getTableSize(e);const a=Mc.generate(s);const c=Jl(a,o);const i="th:not("+t+")"+",td:not("+t+")";const l=Qa(n,"th,td",e=>Jt(e,i));H(l,os);ed(s,a,c,o);const d=Mc.fromTable(e);const u=od(e,d,r,c);td(n,c,a,u);return n};const sd=cn("col");const rd=cn("colgroup");const ad=e=>Jo(e)==="tr"||rd(e);const cd=e=>{const t=qa(e,"colspan",1);const o=qa(e,"rowspan",1);return{element:e,colspan:t,rowspan:o}};const id=(e,t=cd)=>{const o=t=>sd(t.element)?e.col(t):e.cell(t);const n=t=>rd(t.element)?e.colgroup(t):e.row(t);const s=e=>{if(ad(e)){return n({element:e})}else{const n=e;const s=o(t(n));r=E.some({item:n,replacement:s});return s}};let r=E.none();const a=(e,t)=>r.fold(()=>s(e),o=>t(e,o.item)?o.replacement:s(e));return{getOrInit:a}};const ld=e=>t=>{const o=[];const n=(e,t)=>U(o,o=>t(o.item,e));const s=n=>{const s=e==="td"?{scope:null}:{};const r=t.replace(n,e,s);o.push({item:n,sub:r});return r};const r=(e,t)=>{if(ad(e)||sd(e)){return e}else{const o=e;return n(o,t).fold(()=>s(o),n=>t(e,n.item)?n.sub:s(o))}};return{replaceOrInit:r}};const dd=e=>Jn(e,"scope").map(e=>e.substr(0,3));const ud=e=>{const t=t=>{const o=dd(t);o.each(e=>Gn(t,"scope",e));return()=>{const n=e.cell({element:t,colspan:1,rowspan:1});Cs(n,"width");Cs(t,"width");o.each(e=>Gn(n,"scope",e));return n}};const o=e=>{const t=()=>{const t=Le(L(e,dd));if(t.length===0){return E.none()}else{const e=t[0];const o=["row","col"];const n=R(t,t=>t!==e&&N(o,t));return n?E.none():E.from(e)}};Cs(e[0],"width");t().fold(()=>Qn(e[0],"scope"),t=>Gn(e[0],"scope",t+"group"));return v(e[0])};return{unmerge:t,merge:o}};const fd={modification:id,transform:ld,merging:ud};const md=(e,t)=>{const o=e.slice(0,t[t.length-1].row+1);const n=pl(o);return W(n,e=>{const o=e.cells.slice(0,t[t.length-1].column+1);return L(o,e=>e.element)})};const gd=(e,t)=>{const o=e.slice(t[0].row+t[0].rowspan-1,e.length);const n=pl(o);return W(n,e=>{const o=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return L(o,e=>e.element)})};const pd=(e,t,o)=>{const n=Mc.fromTable(e);const s=xl(n,t);return s.map(e=>{const t=ml(n,o,false);const{rows:s}=Ct(t);const r=md(s,e);const a=gd(s,e);return{upOrLeftCells:r,downOrRightCells:a}})};const hd=(e,t)=>{const o=rn(e)?un(e):e;return{parent:v(o),view:v(e),dragContainer:v(o),origin:v(Us(0,0)),isResizable:t}};const yd=(e,t,o)=>{const n=()=>Ws(t);return{parent:v(t),view:v(e),dragContainer:v(t),origin:n,isResizable:o}};const bd=(e,t)=>({parent:v(e),view:v(e),dragContainer:v(e),origin:()=>Ws(e),isResizable:t});const vd={only:hd,detached:yd,body:bd};const kd=ye.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]);const wd=(e,t,o)=>{const n=o.substring(0,o.length-e.length);const s=parseFloat(n);return n===s.toString()?t(s):kd.invalid(o)};const _d=e=>{if(Ge(e,"%")){return wd("%",kd.percent,e)}if(Ge(e,"px")){return wd("px",kd.pixels,e)}return kd.invalid(e)};const xd={...kd,from:_d};const Cd=(e,t)=>L(e,e=>{const o=xd.from(e);return o.fold(()=>e,e=>{const o=e/t*100;return o+"%"},e=>e+"%")});const Sd=(e,t,o)=>{const n=o/t;return L(e,e=>{const t=xd.from(e);return t.fold(()=>e,e=>e*n+"px",e=>e/100*o+"px")})};const zd=(e,t)=>{const o=e.fold(()=>v(""),e=>{const o=e/t;return v(o+"px")},()=>{const e=100/t;return v(e+"%")});return B(t,o)};const Td=(e,t,o)=>e.fold(()=>t,e=>Sd(t,o,e),e=>Cd(t,o));const Ed=(e,t,o)=>{const n=xd.from(o);const s=G(e,e=>e==="0px")?zd(n,e.length):Td(n,e,t);return Md(s)};const Od=(e,t)=>{if(e.length===0){return t}return V(e,(e,t)=>xd.from(t).fold(v(0),k,k)+e,0)};const Ad=(e,t)=>{const o=Math.floor(e);return{value:o+t,remainder:e-o}};const Dd=(e,t)=>xd.from(e).fold(v(e),e=>e+t+"px",e=>e+t+"%");const Md=e=>{if(e.length===0){return e}const t=V(e,(e,t)=>{const o=xd.from(t).fold(()=>({value:t,remainder:0}),e=>Ad(e,"px"),e=>({value:e+"%",remainder:0}));return{output:[o.value].concat(e.output),remainder:e.remainder+o.remainder}},{output:[],remainder:0});const o=t.output;return o.slice(0,o.length-1).concat([Dd(o[o.length-1],Math.round(t.remainder))])};const Nd=xd.from;const Rd=(e,t,o)=>{H(t,t=>{const n=e.slice(t.column,t.colspan+t.column);const s=Od(n,Ya());vs(t.element,"width",s+o)})};const Bd=(e,t,o)=>{H(t,(t,n)=>{const s=Od([e[n]],Ya());vs(t.element,"width",s+o)})};const Ld=(e,t,o)=>{H(o,e=>{Cs(e.element,"height")});H(t,(t,o)=>{vs(t.element,"height",e[o])})};const Hd=e=>Nd(e).fold(v("px"),v("px"),v("%"));const Id=(e,t,o)=>{const n=Mc.fromTable(e);const s=n.all;const r=Mc.justCells(n);const a=Mc.justColumns(n);t.each(t=>{const o=Hd(t);const s=Ps(e);const c=Ui(n,e);const i=Ed(c,s,t);if(Mc.hasColumns(n)){Bd(i,a,o)}else{Rd(i,r,o)}vs(e,"width",t)});o.each(t=>{const o=Bs(e);const a=Ki(n,e);const c=Ed(a,o,t);Ld(c,s,r);vs(e,"height",t)})};const Pd=Mi;const Fd=Ni;const Vd=Ri;var jd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];var Zd=()=>{const e=e=>Dt.fromDom(e.dom.cloneNode(false));const t=e=>dn(e).dom;const o=e=>{if(!nn(e)){return false}if(Jo(e)==="body"){return true}return N(jd,Jo(e))};const n=e=>{if(!nn(e)){return false}return N(["br","img","hr","input"],Jo(e))};const s=e=>nn(e)&&Xn(e,"contenteditable")==="false";const r=(e,t)=>e.dom.compareDocumentPosition(t.dom);const a=(e,t)=>{const o=es(e);Kn(t,o)};const c=e=>{const t=Jo(e);return N(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};const i=e=>nn(e)?Jn(e,"lang"):E.none();return{up:v({selector:fr,closest:pr,predicate:ir,all:pn}),down:v({selector:Br,predicate:Mr}),styles:v({get:ws,getRaw:xs,set:vs,remove:Cs}),attrs:v({get:Xn,set:Gn,remove:Qn,copyTo:a}),insert:v({before:Pn,after:Fn,afterAll:qn,append:jn,appendAll:$n,prepend:Vn,wrap:Un}),remove:v({unwrap:ns,remove:os}),create:v({nu:Dt.fromTag,clone:e,text:Dt.fromText}),query:v({comparePosition:r,prevSibling:hn,nextSibling:yn}),property:v({children:bn,name:Jo,parent:mn,document:t,isText:sn,isComment:tn,isElement:nn,isSpecial:c,getLanguage:i,getText:Qs,setText:tr,isBoundary:o,isEmptyTag:n,isNonEditable:s}),eq:oo,is:so}};const Ud=(e,t)=>({item:e,mode:t});const qd=(e,t,o,n=$d)=>e.property().parent(t).map(e=>Ud(e,n));const $d=(e,t,o,n=Wd)=>o.sibling(e,t).map(e=>Ud(e,n));const Wd=(e,t,o,n=Wd)=>{const s=e.property().children(t);const r=o.first(s);return r.map(e=>Ud(e,n))};const Gd=[{current:qd,next:$d,fallback:E.none()},{current:$d,next:Wd,fallback:E.some(qd)},{current:Wd,next:Wd,fallback:E.some($d)}];const Kd=(e,t,o,n,s=Gd)=>{const r=U(s,e=>e.current===o);return r.bind(o=>o.current(e,t,n,o.next).orThunk(()=>o.fallback.bind(o=>Kd(e,t,o,n))))};const Yd=()=>{const e=(e,t)=>e.query().prevSibling(t);const t=e=>e.length>0?E.some(e[e.length-1]):E.none();return{sibling:e,first:t}};const Xd=()=>{const e=(e,t)=>e.query().nextSibling(t);const t=e=>e.length>0?E.some(e[0]):E.none();return{sibling:e,first:t}};const Jd={left:Yd,right:Xd};const Qd=(e,t,o,n,s,r)=>{const a=Kd(e,t,n,s);return a.bind(t=>{if(r(t.item)){return E.none()}else{return o(t.item)?E.some(t.item):Qd(e,t.item,o,t.mode,s,r)}})};const eu=(e,t,o,n)=>Qd(e,t,o,$d,Jd.left(),n);const tu=(e,t,o,n)=>Qd(e,t,o,$d,Jd.right(),n);const ou=(e,t)=>({element:e,offset:t});const nu=(e,t,o)=>{if(e.property().isText(t)&&e.property().getText(t).trim().length===0||e.property().isComment(t)){return o(t).bind(t=>nu(e,t,o).orThunk(()=>E.some(t)))}else{return E.none()}};const su=(e,t)=>{if(e.property().isText(t)){return e.property().getText(t).length}const o=e.property().children(t);return o.length};const ru=(e,t)=>{const o=nu(e,t,e.query().prevSibling).getOr(t);if(e.property().isText(o)){return ou(o,su(e,o))}const n=e.property().children(o);return n.length>0?ru(e,n[n.length-1]):ou(o,su(e,o))};const au=ru;const cu=Zd();const iu=e=>au(cu,e);const lu=e=>t=>e.property().children(t).length===0;const du=(e,t,o)=>fu(e,t,lu(e),o);const uu=(e,t,o)=>mu(e,t,lu(e),o);const fu=eu;const mu=tu;Kd;const gu=Zd();const pu=(e,t)=>du(gu,e,t);const hu=(e,t)=>uu(gu,e,t);const yu=(e,t,o)=>fu(gu,e,t,o);const bu=(e,t,o)=>mu(gu,e,t,o);const vu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const ku=(e,t)=>{const o=e.property().name(t);return N(["ol","ul"],o)};const wu=(e,t)=>{const o=e.property().name(t);return N(vu,o)};const _u=(e,t)=>N(["br","img","hr","input"],e.property().name(t));const xu=(e,t)=>({left:e,right:t});const Cu=(e,t,o)=>({first:e,second:t,splits:o});const Su=(e,t,o)=>{const n=e.property().children(t);const s=q(n,_(e.eq,o));return s.map(e=>({before:n.slice(0,e),after:n.slice(e+1)}))};const zu=(e,t,o)=>Su(e,t,o).map(o=>{const n=e.create().clone(t);e.insert().appendAll(n,o.after);e.insert().after(t,n);return xu(t,n)});const Tu=(e,t,o)=>Su(e,t,o).map(n=>{const s=e.create().clone(t);e.insert().appendAll(s,n.before.concat([o]));e.insert().appendAll(t,n.after);e.insert().before(t,s);return xu(s,t)});const Eu=(e,t,o,n)=>{const s=(t,r,a)=>{const c=Cu(t,E.none(),a);if(o(t)){return Cu(t,r,a)}else{return e.property().parent(t).bind(r=>n(e,r,t).map(e=>{const t=[{first:e.left,second:e.right}];const n=o(r)?r:e.left;return s(n,E.some(e.right),a.concat(t))})).getOr(c)}};return s(t,E.none(),[])};const Ou=(e,t,o,n)=>{const s=o[0];const r=o.slice(1);return n(e,t,s,r)};const Au=(e,t,o)=>o.length>0?Ou(e,t,o,Du):E.none();const Du=(e,t,o,n)=>{const s=t(e,o);return V(n,(o,n)=>{const s=t(e,n);return Mu(e,o,s)},s)};const Mu=(e,t,o)=>t.bind(t=>o.filter(_(e.eq,t)));const Nu=(e,t)=>_(e.eq,t);const Ru=(e,t,o,n=z)=>{const s=[t].concat(e.up().all(t));const r=[o].concat(e.up().all(o));const a=e=>{const t=q(e,n);return t.fold(()=>e,t=>e.slice(0,t+1))};const c=a(s);const i=a(r);const l=U(c,t=>R(i,Nu(e,t)));return{firstpath:c,secondpath:i,shared:l}};const Bu=Au;const Lu=Ru;Tu;zu;Eu;const Hu=Zd();const Iu=(e,t)=>Bu(Hu,(t,o)=>e(o),t);const Pu=(e,t,o)=>Lu(Hu,e,t,o);const Fu=Zd();const Vu=e=>wu(Fu,e);const ju=e=>ku(Fu,e);const Zu=e=>_u(Fu,e);const Uu=e=>{const t=cn("br");const o=e=>G(e,e=>t(e)||sn(e)&&Qs(e).trim().length===0);const n=e=>Jo(e)==="li"||ir(e,ju).isSome();const s=e=>yn(e).map(e=>{if(Vu(e)){return true}if(Zu(e)){return Jo(e)==="img"?false:true}return false}).getOr(false);const r=e=>$r(e).bind(o=>{const r=s(o);return mn(o).map(s=>r===true||n(s)||t(o)||Vu(s)&&!oo(e,s)?[]:[Dt.fromTag("br")])}).getOr([]);const a=()=>{const t=W(e,e=>{const t=bn(e);return o(t)?[]:t.concat(r(e))});return t.length===0?[Dt.fromTag("br")]:t};const c=a();ts(e[0]);$n(e[0],c)};const qu=e=>{Qn(e,"width");Qn(e,"height")};const $u=e=>{const t=Di(e);Id(e,E.some(t),E.none());qu(e)};const Wu=e=>{const t=Oi(e);Id(e,E.some(t),E.none());qu(e)};const Gu=e=>{const t=Ai(e);Id(e,E.none(),E.some(t));qu(e)};const Ku=e=>{Cs(e,"width");const t=nc(e);const o=t.length>0?t:oc(e);H(o,e=>{Cs(e,"width");qu(e)});qu(e)};const Yu={scope:["row","col"]};const Xu=e=>()=>{const t=Dt.fromTag("td",e.dom);jn(t,Dt.fromTag("br",e.dom));return t};const Ju=e=>()=>Dt.fromTag("col",e.dom);const Qu=e=>()=>Dt.fromTag("colgroup",e.dom);const ef=e=>()=>Dt.fromTag("tr",e.dom);const tf=(e,t,o)=>{const n=is(e,t);se(o,(e,t)=>{if(e===null){Qn(n,t)}else{Gn(n,t,e)}});return n};const of=e=>e;const nf=(e,t,o)=>{const n=qr(e);return n.map(n=>{const s=o.join(",");const r=Nr(n,s,t=>oo(t,e));return V(r,(e,t)=>{const o=rs(t);jn(e,o);return o},t)}).getOr(t)};const sf=(e,t)=>{se(Yu,(o,n)=>Jn(e,n).filter(e=>N(o,e)).each(e=>Gn(t,n,e)))};const rf=(e,t,o)=>{const n=(e,t)=>{Ss(e.element,t);Cs(t,"height");if(e.colspan!==1){Cs(t,"width")}};const s=s=>{const r=Dt.fromTag(Jo(s.element),t.dom);const a=o.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]);const c=a.length>0?nf(s.element,r,a):r;jn(c,Dt.fromTag("br"));n(s,r);sf(s.element,r);e(s.element,r);return r};const r=o=>{const s=Dt.fromTag(Jo(o.element),t.dom);n(o,s);e(o.element,s);return s};return{col:r,colgroup:Qu(t),row:ef(t),cell:s,replace:tf,colGap:Ju(t),gap:Xu(t)}};const af=e=>({col:Ju(e),colgroup:Qu(e),row:ef(e),cell:Xu(e),replace:of,colGap:Ju(e),gap:Xu(e)});const cf=e=>{const t=Mc.fromTable(e);return t.grid};const lf=(e,t,o,n)=>{const s=Ct(e).rows;if(s.length===0){return e}for(let e=t.startRow;e<=t.finishRow;e++){for(let o=t.startCol;o<=t.finishCol;o++){const t=s[e];const r=wt(t,o).isLocked;bt(t,o,ut(n(),false,r))}}return e};const df=(e,t,o,n)=>{const s=Ct(e).rows;let r=true;for(let e=0;e<s.length;e++){for(let a=0;a<xt(s[0]);a++){const c=s[e];const i=wt(c,a);const l=i.element;const d=o(l,t);if(d&&!r){bt(c,a,ut(n(),true,i.isLocked))}else if(d){r=false}}}return e};const uf=(e,t)=>j(e,(e,o)=>R(e,e=>t(e.element,o.element))?e:e.concat([o]),[]);const ff=(e,t,o,n)=>{if(t>0&&t<e[0].cells.length){H(e,e=>{const s=e.cells[t-1];let r=0;const a=n();while(e.cells.length>t+r&&o(s.element,e.cells[t+r].element)){bt(e,t+r,ut(a,true,e.cells[t+r].isLocked));r++}})}return e};const mf=(e,t,o,n)=>{const s=Ct(e).rows;if(t>0&&t<s.length){const e=s[t-1].cells;const r=uf(e,o);H(r,e=>{let r=E.none();for(let a=t;a<s.length;a++){for(let t=0;t<xt(s[0]);t++){const c=s[a];const i=wt(c,t);const l=o(i.element,e.element);if(l){if(r.isNone()){r=E.some(n())}r.each(e=>{bt(c,t,ut(e,true,i.isLocked))})}}}})}return e};const gf=(e,t,o)=>{if(e.row>=t.length||e.column>xt(t[0])){return Me.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column)}const n=t.slice(e.row);const s=n[0].cells.slice(e.column);const r=xt(o[0]);const a=o.length;return Me.value({rowDelta:n.length-a,colDelta:s.length-r})};const pf=(e,t)=>{const o=xt(e[0]);const n=xt(t[0]);return{rowDelta:0,colDelta:o-n}};const hf=(e,t)=>{const o=e.length;const n=t.length;return{rowDelta:o-n,colDelta:0}};const yf=(e,t,o,n)=>{const s=t.section==="colgroup"?o.col:o.cell;return B(e,e=>ut(s(),true,n(e)))};const bf=(e,t,o,n)=>{const s=e[e.length-1];return e.concat(B(t,()=>{const e=s.section==="colgroup"?o.colgroup:o.row;const t=St(s,e,k);const r=yf(t.cells.length,t,o,e=>me(n,e.toString()));return vt(t,r)}))};const vf=(e,t,o,n)=>L(e,e=>{const s=yf(t,e,o,z);return ht(e,n,s)});const kf=(e,t,o)=>L(e,e=>j(o,(o,n)=>{const s=yf(1,e,t,T)[0];return yt(o,n,s)},e));const wf=(e,t,o)=>{const n=t.colDelta<0?vf:k;const s=t.rowDelta<0?bf:k;const r=kc(e);const a=xt(e[0]);const c=R(r,e=>e===a-1);const i=n(e,Math.abs(t.colDelta),o,c?a-1:a);const l=kc(i);return s(i,Math.abs(t.rowDelta),o,Y(l,T))};const _f=(e,t,o,n)=>{const s=wt(e[t],o);const r=_(n,s.element);const a=e[t];return e.length>1&&xt(a)>1&&(o>0&&r(_t(a,o-1))||o<a.cells.length-1&&r(_t(a,o+1))||t>0&&r(_t(e[t-1],o))||t<e.length-1&&r(_t(e[t+1],o)))};const xf=(e,t,o,n,s,r)=>{const a=e.row;const c=e.column;const i=o.length;const l=xt(o[0]);const d=a+i;const u=c+l+r.length;const f=Y(r,T);for(let e=a;e<d;e++){let r=0;for(let i=c;i<u;i++){if(f[i]){r++;continue}if(_f(t,e,i,s)){df(t,_t(t[e],i),s,n.cell)}const l=i-c-r;const d=wt(o[e-a],l);const u=d.element;const m=n.replace(u);bt(t[e],i,ut(m,true,d.isLocked))}}return t};const Cf=(e,t,o)=>{const n=xt(t[0]);const s=Ct(t).cols.length+e.row;const r=B(n-e.column,t=>t+e.column);const a=U(r,e=>G(o,t=>t!==e)).getOr(n-1);return{row:s,column:a}};const Sf=(e,t,o)=>F(o,o=>o>=e.column&&o<=xt(t[0])+e.column);const zf=(e,t,o,n,s)=>{const r=kc(t);const a=Cf(e,t,r);const c=Ct(o).rows;const i=Sf(a,c,r);const l=gf(a,t,c);return l.map(e=>{const o={...e,colDelta:e.colDelta-i.length};const r=wf(t,o,n);const l=kc(r);const d=Sf(a,c,l);return xf(a,r,c,n,s,d)})};const Tf=(e,t,o,n,s)=>{ff(t,e,s,n.cell);const r=hf(o,t);const a=wf(o,r,n);const c=hf(t,a);const i=wf(t,c,n);return L(i,(t,o)=>ht(t,e,a[o].cells))};const Ef=(e,t,o,n,s)=>{mf(t,e,s,n.cell);const r=kc(t);const a=pf(t,o);const c={...a,colDelta:a.colDelta-r.length};const i=wf(t,c,n);const{cols:l,rows:d}=Ct(i);const u=kc(i);const f=pf(o,t);const m={...f,colDelta:f.colDelta+u.length};const g=kf(o,n,u);const p=wf(g,m,n);return[...l,...d.slice(0,e),...p,...d.slice(e,d.length)]};const Of=(e,t,o,n)=>St(e,e=>n(e,o),t);const Af=(e,t,o,n,s)=>{const{rows:r,cols:a}=Ct(e);const c=r.slice(0,t);const i=r.slice(t);const l=Of(r[o],(e,o)=>{const a=t>0&&t<r.length&&n(_t(r[t-1],o),_t(r[t],o));const c=a?wt(r[t],o):ut(s(e.element,n),true,e.isLocked);return c},n,s);return[...a,...c,l,...i]};const Df=(e,t,o,n,s,r,a)=>{if(o==="colgroup"||!n){const t=wt(e,s);return ut(a(t.element,r),true,false)}else{return wt(e,t)}};const Mf=(e,t,o,n,s)=>L(e,e=>{const r=t>0&&t<xt(e)&&n(_t(e,t-1),_t(e,t));const a=Df(e,t,e.section,r,o,n,s);return yt(e,t,a)});const Nf=(e,t)=>W(e,e=>{const o=e.cells;const n=V(t,(e,t)=>t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e,o);return n.length>0?[ft(e.element,n,e.section,e.isNew)]:[]});const Rf=(e,t,o)=>{const{rows:n,cols:s}=Ct(e);return[...s,...n.slice(0,t),...n.slice(o+1)]};const Bf=(e,t,o,n)=>_t(e[t],o)!==undefined&&(t>0&&n(_t(e[t-1],o),_t(e[t],o)));const Lf=(e,t,o)=>t>0&&o(_t(e,t-1),_t(e,t));const Hf=(e,t,o,n)=>Bf(e,t,o,n)||Lf(e[t],o,n);const If=(e,t)=>{const o=G(t,k)&&ic(e.cells);return o?T:(e,o,n)=>{const s=Jo(e.element);return!(s==="th"&&t[n])}};const Pf=(e,t)=>{const o=G(t,k)&&ic(e);return o?T:(e,o,n)=>{const s=Jo(e.element);return!(s==="th"&&t[o])}};const Ff=(e,t,o,n)=>{const s=e=>e==="row"?Ga(t):Wa(t);const r=e=>s(e)?`${e}group`:e;if(e){return cc(t)?r(o):null}else if(n&&cc(t)){const e=o==="row"?"col":"row";return r(e)}else{return null}};const Vf=(e,t)=>(o,n,s)=>E.some(Ff(e,o.element,"col",t[s]));const jf=(e,t)=>(o,n)=>E.some(Ff(e,o.element,"row",t[n]));const Zf=(e,t,o)=>ut(o(e.element,t),true,e.isLocked);const Uf=(e,t,o,n,s,r,a)=>{const c=e=>R(t,t=>o(e.element,t.element));return L(e,(e,t)=>kt(e,(e,i)=>{if(c(e)){const c=a(e,t,i)?s(e,o,n):e;r(c,t,i).each(e=>{Yn(c.element,{scope:E.from(e)})});return c}else{return e}}))};const qf=(e,t,o)=>W(e,(n,s)=>Hf(e,s,t,o)?[]:[wt(n,t)]);const $f=(e,t,o)=>{const n=e[t];return W(n.cells,(n,s)=>Hf(e,t,s,o)?[]:[n])};const Wf=(e,t,o,n,s)=>{const r=Ct(e).rows;const a=W(t,e=>qf(r,e,n));const c=L(r,e=>ic(e.cells));const i=Pf(a,c);const l=jf(o,c);return Uf(e,a,n,s,Zf,l,i)};const Gf=(e,t,o,n,s,r,a)=>{const{cols:c,rows:i}=Ct(e);const l=i[t[0]];const d=W(t,e=>$f(i,e,s));const u=L(l.cells,(e,t)=>ic(qf(i,t,s)));const f=[...i];H(t,e=>{f[e]=a.transformRow(i[e],o)});const m=[...c,...f];const g=If(l,u);const p=Vf(n,u);return Uf(m,d,s,r,a.transformCell,p,g)};const Kf=(e,t,o,n)=>{const s=Ct(e).rows;const r=L(t,e=>wt(s[e.row],e.column));return Uf(e,r,o,n,Zf,E.none,T)};const Yf=e=>{const t=(e,t)=>{const o=R(e,e=>e.column===t.column);return o?e:e.concat([t])};return j(e,t,[]).sort((e,t)=>e.column-t.column)};const Xf=e=>zr(e,true);const Jf=e=>{const t=oc(e);if(t.length===0){os(e)}};const Qf=(e,t)=>({grid:e,cursor:t});const em=e=>te(e,e=>te(e.cells,e=>{const t=e.element;return Ie(Xf(t),t)}));const tm=(e,t,o)=>{var n,s;const r=Ct(e).rows;return E.from((s=(n=r[t])===null||n===void 0?void 0:n.cells[o])===null||s===void 0?void 0:s.element).filter(Xf).orThunk(()=>em(r))};const om=(e,t,o)=>{const n=tm(e,t,o);return Qf(e,n)};const nm=e=>{const t=(e,t)=>{const o=R(e,e=>e.row===t.row);return o?e:e.concat([t])};return j(e,t,[]).sort((e,t)=>e.row-t.row)};const sm=(e,t,o,n)=>{const s=t[0].row;const r=nm(t);const a=V(r,(e,t)=>{const r=Af(e.grid,s,t.row+e.delta,o,n.getOrInit);return{grid:r,delta:e.delta+1}},{grid:e,delta:0}).grid;return om(a,s,t[0].column)};const rm=(e,t,o,n)=>{const s=nm(t);const r=s[s.length-1];const a=r.row+r.rowspan;const c=V(s,(e,t)=>Af(e,a,t.row,o,n.getOrInit),e);return om(c,a,t[0].column)};const am=(e,t,o,n)=>{const s=t.details;const r=Yf(s);const a=r[0].column;const c=V(r,(e,t)=>{const s=Mf(e.grid,a,t.column+e.delta,o,n.getOrInit);return{grid:s,delta:e.delta+1}},{grid:e,delta:0}).grid;return om(c,s[0].row,a)};const cm=(e,t,o,n)=>{const s=t.details;const r=s[s.length-1];const a=r.column+r.colspan;const c=Yf(s);const i=V(c,(e,t)=>Mf(e,a,t.column,o,n.getOrInit),e);return om(i,s[0].row,a)};const im=(e,t,o,n)=>{const s=Yf(t);const r=L(s,e=>e.column);const a=Wf(e,r,true,o,n.replaceOrInit);return om(a,t[0].row,t[0].column)};const lm=(e,t,o,n)=>{const s=Kf(e,t,o,n.replaceOrInit);return om(s,t[0].row,t[0].column)};const dm=(e,t,o,n)=>{const s=Yf(t);const r=L(s,e=>e.column);const a=Wf(e,r,false,o,n.replaceOrInit);return om(a,t[0].row,t[0].column)};const um=(e,t,o,n)=>{const s=Kf(e,t,o,n.replaceOrInit);return om(s,t[0].row,t[0].column)};const fm=(e,t)=>(o,n,s,r,a)=>{const c=nm(n);const i=L(c,e=>e.row);const l=Gf(o,i,e,t,s,r.replaceOrInit,a);return om(l,n[0].row,n[0].column)};const mm=fm("thead",true);const gm=fm("tbody",false);const pm=fm("tfoot",false);const hm=(e,t,o,n)=>{const s=Yf(t.details);const r=Nf(e,L(s,e=>e.column));const a=r.length>0?r[0].cells.length-1:0;return om(r,s[0].row,Math.min(s[0].column,a))};const ym=(e,t,o,n)=>{const s=nm(t);const r=Rf(e,s[0].row,s[s.length-1].row);const a=Math.max(Ct(r).rows.length-1,0);return om(r,Math.min(t[0].row,a),t[0].column)};const bm=(e,t,o,n)=>{const s=t.cells;Uu(s);const r=lf(e,t.bounds,o,n.merge(s));return Qf(r,E.from(s[0]))};const vm=(e,t,o,n)=>{const s=(e,t)=>df(e,t,o,n.unmerge(t));const r=V(t,s,e);return Qf(r,E.from(t[0]))};const km=(e,t,o,n)=>{const s=(e,t)=>{const o=Mc.fromTable(e);return ml(o,t,true)};const r=s(t.clipboard,t.generators);const a=rt(t.row,t.column);const c=zf(a,e,r,t.generators,o);return c.fold(()=>Qf(e,E.some(t.element)),e=>om(e,t.row,t.column))};const wm=(e,t,o)=>{const n=yc(e,o.section);const s=Mc.generate(n);return ml(s,t,true)};const _m=(e,t,o,n)=>{const s=Ct(e).rows;const r=t.cells[0].column;const a=s[t.cells[0].row];const c=wm(t.clipboard,t.generators,a);const i=Tf(r,e,c,t.generators,o);return om(i,t.cells[0].row,t.cells[0].column)};const xm=(e,t,o,n)=>{const s=Ct(e).rows;const r=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan;const a=s[t.cells[0].row];const c=wm(t.clipboard,t.generators,a);const i=Tf(r,e,c,t.generators,o);return om(i,t.cells[0].row,r)};const Cm=(e,t,o,n)=>{const s=Ct(e).rows;const r=t.cells[0].row;const a=s[r];const c=wm(t.clipboard,t.generators,a);const i=Ef(r,e,c,t.generators,o);return om(i,t.cells[0].row,t.cells[0].column)};const Sm=(e,t,o,n)=>{const s=Ct(e).rows;const r=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan;const a=s[t.cells[0].row];const c=wm(t.clipboard,t.generators,a);const i=Ef(r,e,c,t.generators,o);return om(i,r,t.cells[0].column)};const zm=(e,t)=>{const o=Mc.fromTable(e);const n=xl(o,t);return n.bind(e=>{const t=e[e.length-1];const n=e[0].column;const s=t.column+t.colspan;const r=$(L(o.all,e=>F(e.cells,e=>e.column>=n&&e.column<s)));return uc(r)}).getOr("")};const Tm=(e,t)=>{const o=Mc.fromTable(e);const n=xl(o,t);return n.bind(uc).getOr("")};const Em=(e,t)=>{const o=Mc.fromTable(e);const n=xl(o,t);return n.bind(e=>{const t=e[e.length-1];const n=e[0].row;const s=t.row+t.rowspan;const r=o.all.slice(n,s);return fc(r)}).getOr("")};const Om=(e,t,o,n)=>Zl(e,t,o,n.sizing);const Am=(e,t,o,n)=>jl(e,t,o,n.sizing,n.resize);const Dm=(e,t)=>R(t,e=>e.column===0&&e.isLocked);const Mm=(e,t)=>R(t,t=>t.column+t.colspan>=e.grid.columns&&t.isLocked);const Nm=(e,t)=>{const o=Vc(e);const n=Yf(t);return j(n,(e,t)=>{const n=o[t.column];const s=n.map(Fs).getOr(0);return e+s},0)};const Rm=e=>(t,o)=>xl(t,o).filter(o=>{const n=e?Dm:Mm;return!n(t,o)}).map(e=>({details:e,pixelDelta:Nm(t,e)}));const Bm=(e,t)=>Cl(e,t).map(t=>({details:t,pixelDelta:-Nm(e,t)}));const Lm=e=>(t,o)=>kl(t,o).filter(o=>{const n=e?Dm:Mm;return!n(t,o.cells)});const Hm=fd.transform("th");const Im=fd.transform("td");const Pm=(e,t,o,n)=>bl(sm,xl,h,h,fd.modification,e,t,o,n);const Fm=(e,t,o,n)=>bl(rm,xl,h,h,fd.modification,e,t,o,n);const Vm=(e,t,o,n)=>bl(am,Rm(true),Am,h,fd.modification,e,t,o,n);const jm=(e,t,o,n)=>bl(cm,Rm(false),Am,h,fd.modification,e,t,o,n);const Zm=(e,t,o,n)=>bl(hm,Bm,Am,Jf,fd.modification,e,t,o,n);const Um=(e,t,o,n)=>bl(ym,xl,h,Jf,fd.modification,e,t,o,n);const qm=(e,t,o,n)=>bl(im,Cl,h,h,Hm,e,t,o,n);const $m=(e,t,o,n)=>bl(dm,Cl,h,h,Im,e,t,o,n);const Wm=(e,t,o,n)=>bl(mm,xl,h,h,Hm,e,t,o,n);const Gm=(e,t,o,n)=>bl(gm,xl,h,h,Im,e,t,o,n);const Km=(e,t,o,n)=>bl(pm,xl,h,h,Im,e,t,o,n);const Ym=(e,t,o,n)=>bl(lm,Cl,h,h,Hm,e,t,o,n);const Xm=(e,t,o,n)=>bl(um,Cl,h,h,Im,e,t,o,n);const Jm=(e,t,o,n)=>bl(bm,Tl,Om,h,fd.merging,e,t,o,n);const Qm=(e,t,o,n)=>bl(vm,El,Om,h,fd.merging,e,t,o,n);const eg=(e,t,o,n)=>bl(km,vl,Om,h,fd.modification,e,t,o,n);const tg=(e,t,o,n)=>bl(_m,Lm(true),h,h,fd.modification,e,t,o,n);const og=(e,t,o,n)=>bl(xm,Lm(false),h,h,fd.modification,e,t,o,n);const ng=(e,t,o,n)=>bl(Cm,kl,h,h,fd.modification,e,t,o,n);const sg=(e,t,o,n)=>bl(Sm,kl,h,h,fd.modification,e,t,o,n);const rg=zm;const ag=Tm;const cg=Em;const ig=(e,t)=>{const o=t.column;const n=t.column+t.colspan-1;const s=t.row;const r=t.row+t.rowspan-1;return o<=e.finishCol&&n>=e.startCol&&(s<=e.finishRow&&r>=e.startRow)};const lg=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow;const dg=(e,t)=>{let o=true;const n=_(lg,t);for(let s=t.startRow;s<=t.finishRow;s++){for(let r=t.startCol;r<=t.finishCol;r++){o=o&&Mc.getAt(e,s,r).exists(n)}}return o?E.some(t):E.none()};const ug=(e,t)=>mt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1));const fg=(e,t,o)=>{const n=Mc.findItem(e,t,oo);const s=Mc.findItem(e,o,oo);return n.bind(e=>s.map(t=>ug(e,t)))};const mg=(e,t,o)=>fg(e,t,o).bind(t=>dg(e,t));const gg=(e,t,o,n)=>Mc.findItem(e,t,oo).bind(t=>{const s=o>0?t.row+t.rowspan-1:t.row;const r=n>0?t.column+t.colspan-1:t.column;const a=Mc.getAt(e,s+o,r+n);return a.map(e=>e.element)});const pg=(e,t,o)=>fg(e,t,o).map(t=>{const o=Mc.filterItems(e,_(ig,t));return L(o,e=>e.element)});const hg=(e,t)=>{const o=(e,t)=>no(t,e);return Mc.findItem(e,t,o).map(e=>e.element)};const yg=(e,t,o)=>sc(e).bind(n=>{const s=wg(n);return gg(s,e,t,o)});const bg=(e,t,o)=>{const n=wg(e);return pg(n,t,o)};const vg=(e,t,o,n,s)=>{const r=wg(e);const a=oo(e,o)?E.some(t):hg(r,t);const c=oo(e,s)?E.some(n):hg(r,n);return a.bind(e=>c.bind(t=>pg(r,e,t)))};const kg=(e,t,o)=>{const n=wg(e);return mg(n,t,o)};const wg=Mc.fromTable;const _g={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false};const xg=()=>Dt.fromTag("th");const Cg=()=>Dt.fromTag("td");const Sg=()=>Dt.fromTag("col");const zg=(e,t,o,n)=>{const s=Dt.fromTag("tr");for(let r=0;r<e;r++){const e=n<t||r<o?xg():Cg();if(r<o){Gn(e,"scope","row")}if(n<t){Gn(e,"scope","col")}jn(e,Dt.fromTag("br"));jn(s,e)}return s};const Tg=e=>{const t=Dt.fromTag("colgroup");B(e,()=>jn(t,Sg()));return t};const Eg=(e,t,o,n)=>B(e,e=>zg(t,o,n,e));const Og=(e,t,o,n,s,r=_g)=>{const a=Dt.fromTag("table");const c=s!=="cells";ks(a,r.styles);Kn(a,r.attributes);if(r.colGroups){jn(a,Tg(t))}const i=Math.min(e,o);if(c&&o>0){const e=Dt.fromTag("thead");jn(a,e);const r=s==="sectionCells"?i:0;const c=Eg(o,t,r,n);$n(e,c)}const l=Dt.fromTag("tbody");jn(a,l);const d=c?e-i:e;const u=c?0:o;const f=Eg(d,t,u,n);$n(l,f);return a};const Ag=e=>{let t=[];const o=e=>{if(e===undefined){throw new Error("Event bind error: undefined handler")}t.push(e)};const n=e=>{t=F(t,t=>t!==e)};const s=(...o)=>{const n={};H(e,(e,t)=>{n[e]=o[t]});H(t,e=>{e(n)})};return{bind:o,unbind:n,trigger:s}};const Dg=e=>{const t=re(e,e=>({bind:e.bind,unbind:e.unbind}));const o=re(e,e=>e.trigger);return{registry:t,trigger:o}};const Mg=Ee(["compare","extract","mutate","sink"]);const Ng=Ee(["element","start","stop","destroy"]);const Rg=Ee(["forceDrop","drop","move","delayDrop"]);const Bg=()=>{let e=E.none();const t=()=>{e=E.none()};const o=(t,o)=>{const n=e.map(e=>t.compare(e,o));e=E.some(o);return n};const n=(e,t)=>{const n=t.extract(e);n.each(e=>{const n=o(t,e);n.each(e=>{s.trigger.move(e)})})};const s=Dg({move:Ag(["info"])});return{onEvent:n,reset:t,events:s.registry}};const Lg=()=>{const e=Dg({move:Ag(["info"])});return{onEvent:h,reset:h,events:e.registry}};const Hg=()=>{const e=Lg();const t=Bg();let o=e;const n=()=>{o.reset();o=t};const s=()=>{o.reset();o=e};const r=(e,t)=>{o.onEvent(e,t)};const a=()=>o===t;return{on:n,off:s,isOn:a,onEvent:r,events:t.events}};const Ig=(e,t,o)=>{let n=false;const s=Dg({start:Ag([]),stop:Ag([])});const r=Hg();const a=()=>{g.stop();if(r.isOn()){r.off();s.trigger.stop()}};const c=Qe(a,200);const i=e=>{g.start(e);r.on();s.trigger.start()};const l=e=>{c.cancel();r.onEvent(e,t)};r.events.move.bind(o=>{t.mutate(e,o.info)});const d=()=>{n=true};const u=()=>{n=false};const f=()=>n;const m=e=>(...t)=>{if(n){e.apply(null,t)}};const g=t.sink(Rg({forceDrop:a,drop:m(a),move:m(l),delayDrop:m(c.throttle)}),o);const p=()=>{g.destroy()};return{element:g.element,go:i,on:d,off:u,isActive:f,destroy:p,events:s.registry}};const Pg=Re("ephox-dragster");const Fg=Pg.resolve;const Vg=e=>{const t={layerClass:Fg("blocker"),...e};const o=Dt.fromTag("div");Gn(o,"role","presentation");ks(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"});kr(o,Fg("blocker"));kr(o,t.layerClass);const n=v(o);const s=()=>{os(o)};return{element:n,destroy:s}};const jg=(e,t)=>Us(t.left-e.left,t.top-e.top);const Zg=e=>E.some(Us(e.x,e.y));const Ug=(e,t)=>{e.mutate(t.left,t.top)};const qg=(e,t)=>{const o=Vg(t);const n=Hn(o.element(),"mousedown",e.forceDrop);const s=Hn(o.element(),"mouseup",e.drop);const r=Hn(o.element(),"mousemove",e.move);const a=Hn(o.element(),"mouseout",e.delayDrop);const c=()=>{o.destroy();s.unbind();r.unbind();a.unbind();n.unbind()};const i=e=>{jn(e,o.element())};const l=()=>{os(o.element())};return Ng({element:o.element,start:i,stop:l,destroy:c})};var $g=Mg({compare:jg,extract:Zg,sink:qg,mutate:Ug});const Wg=(e,t={})=>{var o;const n=(o=t.mode)!==null&&o!==void 0?o:$g;return Ig(e,n,t)};const Gg=Re("ephox-snooker");const Kg=Gg.resolve;const Yg=()=>{const e=Dg({drag:Ag(["xDelta","yDelta"])});const t=(t,o)=>{e.trigger.drag(t,o)};return{mutate:t,events:e.registry}};const Xg=()=>{const e=Dg({drag:Ag(["xDelta","yDelta","target"])});let t=E.none();const o=Yg();o.events.drag.bind(o=>{t.each(t=>{e.trigger.drag(o.xDelta,o.yDelta,t)})});const n=e=>{t=E.some(e)};const s=()=>t;return{assign:n,get:s,mutate:o.mutate,events:e.registry}};const Jg=(e,t,o,n,s)=>{const r=Dt.fromTag("div");ks(r,{position:"absolute",left:t-n/2+"px",top:o+"px",height:s+"px",width:n+"px"});Kn(r,{"data-mce-bogus":"all","data-column":e,role:"presentation"});return r};const Qg=(e,t,o,n,s)=>{const r=Dt.fromTag("div");ks(r,{position:"absolute",left:t+"px",top:o-s/2+"px",height:s+"px",width:n+"px"});Kn(r,{"data-mce-bogus":"all","data-row":e,role:"presentation"});return r};const ep=Kg("resizer-bar");const tp=Kg("resizer-rows");const op=Kg("resizer-cols");const np=7;const sp=(e,t)=>W(e.all,(e,o)=>t(e.element)?[o]:[]);const rp=(e,t)=>{const o=[];B(e.grid.columns,n=>{const s=Mc.getColumnAt(e,n).map(e=>e.element);if(s.forall(t)){o.push(n)}});return F(o,o=>{const n=Mc.filterItems(e,e=>e.column===o);return G(n,e=>t(e.element))})};const ap=e=>{const t=Br(e.parent(),"."+ep);H(t,os)};const cp=(e,t,o)=>{const n=e.origin();H(t,t=>{t.each(t=>{const s=o(n,t);kr(s,ep);jn(e.parent(),s)})})};const ip=(e,t,o,n)=>{cp(e,t,(e,t)=>{const s=Jg(t.col,t.x-e.left,o.top-e.top,np,n);kr(s,op);return s})};const lp=(e,t,o,n)=>{cp(e,t,(e,t)=>{const s=Qg(t.row,o.left-e.left,t.y-e.top,n,np);kr(s,tp);return s})};const dp=(e,t,o,n,s)=>{const r=Ws(o);const a=t.isResizable;const c=n.length>0?oi.positions(n,o):[];const i=c.length>0?sp(e,a):[];const l=F(c,(e,t)=>R(i,e=>t===e));lp(t,l,r,Fs(o));const d=s.length>0?ai.positions(s,o):[];const u=d.length>0?rp(e,a):[];const f=F(d,(e,t)=>R(u,e=>t===e));ip(t,f,r,Ls(o))};const up=(e,t)=>{ap(e);if(e.isResizable(t)){const o=Mc.fromTable(t);const n=Zc(o);const s=Vc(o);dp(o,e,t,n,s)}};const fp=(e,t)=>{const o=Br(e.parent(),"."+ep);H(o,t)};const mp=e=>{fp(e,e=>{vs(e,"display","none")})};const gp=e=>{fp(e,e=>{vs(e,"display","block")})};const pp=e=>xr(e,tp);const hp=e=>xr(e,op);const yp=Kg("resizer-bar-dragging");const bp=e=>{const t=Xg();const o=Wg(t,{});let n=E.none();const s=(e,t)=>E.from(Xn(e,t));t.events.drag.bind(e=>{s(e.target,"data-row").each(t=>{const o=Ka(e.target,"top");vs(e.target,"top",o+e.yDelta+"px")});s(e.target,"data-column").each(t=>{const o=Ka(e.target,"left");vs(e.target,"left",o+e.xDelta+"px")})});const r=(e,t)=>{const o=Ka(e,t);const n=qa(e,"data-initial-"+t,0);return o-n};o.events.stop.bind(()=>{t.get().each(t=>{n.each(o=>{s(t,"data-row").each(e=>{const n=r(t,"top");Qn(t,"data-initial-top");g.trigger.adjustHeight(o,n,parseInt(e,10))});s(t,"data-column").each(e=>{const n=r(t,"left");Qn(t,"data-initial-left");g.trigger.adjustWidth(o,n,parseInt(e,10))});up(e,o)})})});const a=(n,s)=>{g.trigger.startAdjust();t.assign(n);Gn(n,"data-initial-"+s,Ka(n,s));kr(n,yp);vs(n,"opacity","0.2");o.go(e.dragContainer())};const c=Hn(e.parent(),"mousedown",e=>{if(pp(e.target)){a(e.target,"top")}if(hp(e.target)){a(e.target,"left")}});const i=t=>oo(t,e.view());const l=e=>pr(e,"table",i).filter(zr);const d=e=>xr(e,"ephox-snooker-resizer-bar")||xr(e,"ephox-dragster-blocker");const u=Hn(e.view(),"mouseover",t=>{l(t.target).fold(()=>{if(ps(t.target)&&!d(t.target)){ap(e)}},t=>{if(o.isActive()){n=E.some(t);up(e,t)}})});const f=()=>{c.unbind();u.unbind();o.destroy();ap(e)};const m=t=>{up(e,t)};const g=Dg({adjustHeight:Ag(["table","delta","row"]),adjustWidth:Ag(["table","delta","column"]),startAdjust:Ag([])});return{destroy:f,refresh:m,on:o.on,off:o.off,hideBars:_(mp,e),showBars:_(gp,e),events:g.registry}};const vp=(e,t,o)=>{const n=oi;const s=ai;const r=bp(e);const a=Dg({beforeResize:Ag(["table","type"]),afterResize:Ag(["table","type"]),startDrag:Ag([])});r.events.adjustHeight.bind(e=>{const t=e.table;a.trigger.beforeResize(t,"row");const o=n.delta(e.delta,t);Vl(t,o,e.row);a.trigger.afterResize(t,"row")});r.events.startAdjust.bind(e=>{a.trigger.startDrag()});r.events.adjustWidth.bind(e=>{const n=e.table;a.trigger.beforeResize(n,"col");const r=s.delta(e.delta,n);const c=o(n);Fl(n,r,e.column,t,c);a.trigger.afterResize(n,"col")});return{on:r.on,off:r.off,refreshBars:r.refresh,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:a.registry}};const kp={create:vp};const wp=e=>t=>t.options.get(e);const _p="100%";const xp=e=>{var t;const o=e.dom;const n=(t=o.getParent(e.selection.getStart(),o.isBlock))!==null&&t!==void 0?t:e.getBody();return Vs(Dt.fromDom(n))+"px"};const Cp=(e,t)=>{if(Lp(e)||!Ip(e)){return t}else if(Bp(e)){return{...t,width:xp(e)}}else{return{...t,width:_p}}};const Sp=(e,t)=>{if(Lp(e)||Ip(e)){return t}else if(Bp(e)){return{...t,width:xp(e)}}else{return{...t,width:_p}}};const zp=e=>{const t=e.options.register;t("table_clone_elements",{processor:"string[]"});t("table_use_colgroups",{processor:"boolean",default:true});t("table_header_type",{processor:e=>{const t=N(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"});t("table_sizing_mode",{processor:"string",default:"auto"});t("table_default_attributes",{processor:"object",default:{border:"1"}});t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}});t("table_column_resizing",{processor:e=>{const t=N(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:false,message:"Must be preservetable, or resizetable."}},default:"preservetable"});t("table_resize_bars",{processor:"boolean",default:true});t("table_style_by_css",{processor:"boolean",default:true});t("table_merge_content_on_paste",{processor:"boolean",default:true})};const Tp=e=>E.from(e.options.get("table_clone_elements"));const Ep=e=>{const t=e.options.get("object_resizing");return N(t.split(","),"table")};const Op=wp("table_header_type");const Ap=wp("table_column_resizing");const Dp=e=>Ap(e)==="preservetable";const Mp=e=>Ap(e)==="resizetable";const Np=wp("table_sizing_mode");const Rp=e=>Np(e)==="relative";const Bp=e=>Np(e)==="fixed";const Lp=e=>Np(e)==="responsive";const Hp=wp("table_resize_bars");const Ip=wp("table_style_by_css");const Pp=wp("table_merge_content_on_paste");const Fp=e=>{const t=e.options;const o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:Sp(e,o)};const Vp=e=>{const t=e.options;const o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:Cp(e,o)};const jp=wp("table_use_colgroups");const Zp=e=>Dt.fromDom(e.getBody());const Up=e=>t=>oo(t,Zp(e));const qp=e=>{Qn(e,"data-mce-style");const t=e=>Qn(e,"data-mce-style");H(oc(e),t);H(nc(e),t);H(rc(e),t)};const $p=e=>Dt.fromDom(e.selection.getStart());const Wp=e=>e.getBoundingClientRect().width;const Gp=e=>e.getBoundingClientRect().height;const Kp=e=>(t,o)=>{const n=t.dom.getStyle(o,e)||t.dom.getAttrib(o,e);return E.from(n).filter(Xe)};const Yp=Kp("width");const Xp=Kp("height");const Jp=e=>/^(\d+(\.\d+)?)%$/.test(e);const Qp=e=>/^(\d+(\.\d+)?)px$/.test(e);const eh=e=>lr(e,cn("table")).exists(zr);const th=e=>fr(e,"table");const oh=(e,t,o)=>{const n=e=>t=>o!==undefined&&o(t)||oo(t,e);if(oo(e,t)){return E.some({boxes:E.some([e]),start:e,finish:t})}else{return th(e).bind(s=>th(t).bind(r=>{if(oo(s,r)){return E.some({boxes:bg(s,e,t),start:e,finish:t})}else if(no(s,r)){const o=Nr(t,"td,th",n(s));const a=o.length>0?o[o.length-1]:t;return E.some({boxes:vg(s,e,s,t,r),start:e,finish:a})}else if(no(r,s)){const o=Nr(e,"td,th",n(r));const a=o.length>0?o[o.length-1]:e;return E.some({boxes:vg(r,e,s,t,r),start:e,finish:a})}else{return Pu(e,t).shared.bind(a=>pr(a,"table",o).bind(o=>{const a=Nr(t,"td,th",n(o));const c=a.length>0?a[a.length-1]:t;const i=Nr(e,"td,th",n(o));const l=i.length>0?i[i.length-1]:e;return E.some({boxes:vg(o,e,s,t,r),start:l,finish:c})}))}}))}};const nh=(e,t)=>{const o=Br(e,t);return o.length>0?E.some(o):E.none()};const sh=(e,t)=>U(e,e=>Jt(e,t));const rh=(e,t,o)=>gr(e,t).bind(t=>gr(e,o).bind(e=>Iu(th,[t,e]).map(o=>({first:t,last:e,table:o}))));const ah=(e,t)=>fr(e,"table").bind(o=>gr(o,t).bind(t=>oh(t,e).bind(e=>e.boxes.map(t=>({boxes:t,start:e.start,finish:e.finish})))));const ch=(e,t,o,n,s)=>sh(e,s).bind(e=>yg(e,t,o).bind(e=>ah(e,n)));const ih=(e,t)=>nh(e,t);const lh=(e,t,o)=>rh(e,t,o).bind(t=>{const o=t=>oo(e,t);const n="thead,tfoot,tbody,table";const s=fr(t.first,n,o);const r=fr(t.last,n,o);return s.bind(e=>r.bind(o=>oo(e,o)?kg(t.table,t.first,t.last):E.none()))});const dh=k;const uh=e=>{const t=(e,t)=>Jn(e,t).exists(e=>parseInt(e,10)>1);const o=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&G(e,o)?E.some(e):E.none()};const fh=(e,t,o)=>{if(t.length<=1){return E.none()}else{return lh(e,o.firstSelectedSelector,o.lastSelectedSelector).map(e=>({bounds:e,cells:t}))}};const mh=(e,t)=>({selection:e,kill:t});const gh={create:mh};const ph=(e,t,o,n)=>{switch(e.tag){case"none":return t();case"single":return n(e.element);case"multiple":return o(e.elements)}};const hh=()=>({tag:"none"});const yh=e=>({tag:"multiple",elements:e});const bh=e=>({tag:"single",element:e});const vh=(e,t,o)=>{const n=()=>ih(e(),o).fold(()=>t().fold(hh,bh),yh);return{get:n}};const kh=(e,t,o,n)=>({start:oa.on(e,t),finish:oa.on(o,n)});const wh={create:kh};const _h=(e,t)=>{const o=$t(e,t);return Kr.create(Dt.fromDom(o.startContainer),o.startOffset,Dt.fromDom(o.endContainer),o.endOffset)};const xh=wh.create;const Ch=(e,t,o,n,s,r,a)=>{if(!(oo(o,s)&&n===r)){return pr(o,"td,th",t).bind(o=>pr(s,"td,th",t).bind(n=>Sh(e,t,o,n,a)))}else{return E.none()}};const Sh=(e,t,o,n,s)=>{if(!oo(o,n)){return oh(o,n,t).bind(t=>{const n=t.boxes.getOr([]);if(n.length>1){s(e,n,t.start,t.finish);return E.some(gh.create(E.some(xh(o,0,o,Fr(o))),true))}else{return E.none()}})}else{return E.none()}};const zh=(e,t,o,n,s)=>{const r=e=>{s.clearBeforeUpdate(o);s.selectRange(o,e.boxes,e.start,e.finish);return e.boxes};return ch(n,e,t,s.firstSelectedSelector,s.lastSelectedSelector).map(r)};const Th=ye.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]);const Eh=(e,t,o)=>{const n=e.getRect(t);const s=e.getRect(o);return s.right>n.left&&s.left<n.right};const Oh=e=>pr(e,"tr");const Ah=(e,t,o,n,s,r,a)=>pr(n,"td,th",a).bind(o=>pr(t,"td,th",a).map(t=>{if(!oo(o,t)){return Iu(Oh,[o,t]).fold(()=>Eh(e,t,o)?Th.success():r(t),e=>r(t))}else{return oo(n,o)&&Fr(o)===s?r(t):Th.none("in same cell")}})).getOr(Th.none("default"));const Dh=(e,t,o,n,s)=>e.fold(t,o,n,s);const Mh={...Th,verify:Ah,cata:Dh};const Nh=cn("br");const Rh=(e,t,o)=>t(e,o).bind(e=>sn(e)&&Qs(e).trim().length===0?Rh(e,t,o):E.some(e));const Bh=(e,t,o)=>o.traverse(t).orThunk(()=>Rh(t,o.gather,e)).map(o.relative);const Lh=(e,t)=>vn(e,t).filter(Nh).orThunk(()=>vn(e,t-1).filter(Nh));const Hh=(e,t,o,n)=>Lh(t,o).bind(t=>n.traverse(t).fold(()=>Rh(t,n.gather,e).map(n.relative),e=>Hr(e).map(e=>oa.on(e.parent,e.index))));const Ih=(e,t,o,n)=>{const s=Nh(t)?Bh(e,t,n):Hh(e,t,o,n);return s.map(e=>({start:e,finish:e}))};const Ph=e=>Mh.cata(e,e=>E.none(),()=>E.none(),e=>E.some(ou(e,0)),e=>E.some(ou(e,Fr(e))));const Fh=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t});const Vh=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t});const jh=(e,t,o)=>({left:e.left+t,top:e.top+o,right:e.right+t,bottom:e.bottom+o});const Zh=e=>e.top;const Uh=e=>e.bottom;const qh=(e,t,o)=>{if(o>=0&&o<Fr(t)){return e.getRangedRect(t,o,t,o+1)}else if(o>0){return e.getRangedRect(t,o-1,t,o)}return E.none()};const $h=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom});const Wh=(e,t)=>E.some(e.getRect(t));const Gh=(e,t,o)=>{if(nn(t)){return Wh(e,t).map($h)}else if(sn(t)){return qh(e,t,o).map($h)}else{return E.none()}};const Kh=(e,t)=>{if(nn(t)){return Wh(e,t).map($h)}else if(sn(t)){return e.getRangedRect(t,0,t,Fr(t)).map($h)}else{return E.none()}};const Yh=5;const Xh=100;const Jh=ye.generate([{none:[]},{retry:["caret"]}]);const Qh=(e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right;const ey=(e,t,o)=>lr(t,Vu).fold(z,t=>Kh(e,t).exists(e=>Qh(o,e)));const ty=(e,t,o,n,s)=>{const r=Fh(s,Yh);if(Math.abs(o.bottom-n.bottom)<1){return Jh.retry(r)}else if(o.top>s.bottom){return Jh.retry(r)}else if(o.top===s.bottom){return Jh.retry(Fh(s,1))}else{return ey(e,t,s)?Jh.retry(jh(r,Yh,0)):Jh.none()}};const oy=(e,t,o,n,s)=>{const r=Vh(s,Yh);if(Math.abs(o.top-n.top)<1){return Jh.retry(r)}else if(o.bottom<s.top){return Jh.retry(r)}else if(o.bottom===s.top){return Jh.retry(Vh(s,1))}else{return ey(e,t,s)?Jh.retry(jh(r,Yh,0)):Jh.none()}};const ny={point:Zh,adjuster:oy,move:Vh,gather:pu};const sy={point:Uh,adjuster:ty,move:Fh,gather:hu};const ry=(e,t,o)=>e.elementFromPoint(t,o).filter(e=>Jo(e)==="table").isSome();const ay=(e,t,o,n,s)=>cy(e,t,o,t.move(n,Yh),s);const cy=(e,t,o,n,s)=>{if(s===0){return E.some(n)}if(ry(e,n.left,t.point(n))){return ay(e,t,o,n,s-1)}return e.situsFromPoint(n.left,t.point(n)).bind(r=>r.start.fold(E.none,r=>Kh(e,r).bind(a=>t.adjuster(e,r,a,o,n).fold(E.none,n=>cy(e,t,o,n,s-1))).orThunk(()=>E.some(n)),E.none))};const iy=(e,t,o)=>{if(e.point(t)>o.getInnerHeight()){return E.some(e.point(t)-o.getInnerHeight())}else if(e.point(t)<0){return E.some(-e.point(t))}else{return E.none()}};const ly=(e,t,o)=>{const n=e.move(o,Yh);const s=cy(t,e,o,n,Xh).getOr(n);return iy(e,s,t).fold(()=>t.situsFromPoint(s.left,e.point(s)),o=>{t.scrollBy(0,o);return t.situsFromPoint(s.left,e.point(s)-o)})};const dy={tryUp:_(ly,ny),tryDown:_(ly,sy),getJumpSize:v(Yh)};const uy=20;const fy=(e,t,o)=>e.getSelection().bind(n=>Ih(t,n.finish,n.foffset,o).fold(()=>E.some(ou(n.finish,n.foffset)),s=>{const r=e.fromSitus(s);const a=Mh.verify(e,n.finish,n.foffset,r.finish,r.foffset,o.failure,t);return Ph(a)}));const my=(e,t,o,n,s,r)=>{if(r===0){return E.none()}return hy(e,t,o,n,s).bind(a=>{const c=e.fromSitus(a);const i=Mh.verify(e,o,n,c.finish,c.foffset,s.failure,t);return Mh.cata(i,()=>E.none(),()=>E.some(a),a=>{if(oo(o,a)&&n===0){return gy(e,o,n,Vh,s)}else{return my(e,t,a,0,s,r-1)}},a=>{if(oo(o,a)&&n===Fr(a)){return gy(e,o,n,Fh,s)}else{return my(e,t,a,Fr(a),s,r-1)}})})};const gy=(e,t,o,n,s)=>Gh(e,t,o).bind(t=>py(e,s,n(t,dy.getJumpSize())));const py=(e,t,o)=>{const n=$o().browser;if(n.isChromium()||n.isSafari()||n.isFirefox()){return t.retry(e,o)}else{return E.none()}};const hy=(e,t,o,n,s)=>Gh(e,o,n).bind(t=>py(e,s,t));const yy=(e,t,o)=>fy(e,t,o).bind(n=>my(e,t,n.element,n.offset,o,uy).map(e.fromSitus));const by=(e,t)=>Pr(e,e=>mn(e).exists(e=>oo(e,t)));const vy=(e,t,o,n,s)=>pr(n,"td,th",t).bind(n=>pr(n,"table",t).bind(r=>{if(!by(s,r)){return E.none()}return yy(e,t,o).bind(e=>pr(e.finish,"td,th",t).map(t=>({start:n,finish:t,range:e})))}));const ky=(e,t,o,n,s,r)=>r(n,t).orThunk(()=>vy(e,t,o,n,s).map(e=>{const t=e.range;return gh.create(E.some(xh(t.start,t.soffset,t.finish,t.foffset)),true)}));const wy=(e,t)=>pr(e,"tr",t).bind(e=>pr(e,"table",t).bind(o=>{const n=Br(o,"tr");if(oo(e,n[0])){return yu(o,e=>$r(e).isSome(),t).map(e=>{const t=Fr(e);return gh.create(E.some(xh(e,t,e,t)),true)})}else{return E.none()}}));const _y=(e,t)=>pr(e,"tr",t).bind(e=>pr(e,"table",t).bind(o=>{const n=Br(o,"tr");if(oo(e,n[n.length-1])){return bu(o,e=>qr(e).isSome(),t).map(e=>gh.create(E.some(xh(e,0,e,0)),true))}else{return E.none()}}));const xy=(e,t,o,n,s,r,a)=>vy(e,o,n,s,r).bind(e=>Sh(t,o,e.start,e.finish,a));const Cy=(e,t)=>pr(e,"td,th",t);const Sy=e=>gn(e).exists(zr);const zy=(e,t,o,n)=>{const s=je();const r=s.clear;const a=r=>{s.on(s=>{n.clearBeforeUpdate(t);Cy(r.target,o).each(a=>{oh(s,a,o).each(o=>{const s=o.boxes.getOr([]);if(s.length===1){const e=s[0];const o=Tr(e)==="false";const a=Be(Sr(r.target),e,oo);if(o&&a){n.selectRange(t,s,e,e)}}else if(s.length>1){n.selectRange(t,s,o.start,o.finish);e.selectContents(a)}})})})};const c=e=>{n.clear(t);Cy(e.target,o).filter(Sy).each(s.set)};const i=e=>{a(e)};const l=e=>{a(e);r()};return{clearstate:r,mousedown:c,mouseover:i,mouseup:l}};const Ty={traverse:yn,gather:hu,relative:oa.before,retry:dy.tryDown,failure:Mh.failedDown};const Ey={traverse:hn,gather:pu,relative:oa.before,retry:dy.tryUp,failure:Mh.failedUp};const Oy=e=>t=>t===e;const Ay=Oy(38);const Dy=Oy(40);const My=e=>e>=37&&e<=40;const Ny={isBackward:Oy(37),isForward:Oy(39)};const Ry={isBackward:Oy(39),isForward:Oy(37)};const By=e=>{const t=(t,o)=>Dt.fromPoint(Dt.fromDom(e.document),t,o);const o=e=>e.dom.getBoundingClientRect();const n=(t,o,n,s)=>{const r=ua.exact(t,o,n,s);return Da(e,r)};const s=()=>Aa(e).map(t=>_h(e,t));const r=t=>{const o=ua.relative(t.start,t.finish);return _h(e,o)};const a=(t,o)=>Ma(e,t,o).map(e=>wh.create(e.start,e.soffset,e.finish,e.foffset));const c=()=>{Na(e)};const i=(t=false)=>{Aa(e).each(o=>o.fold(e=>e.collapse(t),(o,n)=>{const s=t?o:n;Sa(e,s,s)},(o,n,s,r)=>{const a=t?o:s;const c=t?n:r;Ca(e,a,c,a,c)}))};const l=t=>{Ea(e,t,false)};const d=t=>{Ea(e,t)};const u=t=>{Ca(e,t.start,t.soffset,t.finish,t.foffset)};const f=(t,o)=>{Sa(e,t,o)};const m=()=>e.innerHeight;const g=()=>{const t=Ks(Dt.fromDom(e.document));return t.top};const p=(t,o)=>{Ys(t,o,Dt.fromDom(e.document))};return{elementFromPoint:t,getRect:o,getRangedRect:n,getSelection:s,fromSitus:r,situsFromPoint:a,clearSelection:c,collapseSelection:i,setSelection:u,setRelativeSelection:f,selectNode:l,selectContents:d,getInnerHeight:m,getScrollY:g,scrollBy:p}};const Ly=(e,t)=>({rows:e,cols:t});const Hy=(e,t,o,n)=>{const s=By(e);const r=zy(s,t,o,n);return{clearstate:r.clearstate,mousedown:r.mousedown,mouseover:r.mouseover,mouseup:r.mouseup}};const Iy=e=>lr(e,on).exists(zr);const Py=(e,t)=>Iy(e)||Iy(t);const Fy=(e,t,o,n)=>{const s=By(e);const r=()=>{n.clear(t);return E.none()};const a=(e,a,c,i,l,d)=>{const u=e.raw;const f=u.which;const m=u.shiftKey===true;const g=nh(t,n.selectedSelector).fold(()=>{if(My(f)&&!m){n.clearBeforeUpdate(t)}if(My(f)&&m&&!Py(a,i)){return E.none}else if(Dy(f)&&m){return _(xy,s,t,o,Ty,i,a,n.selectRange)}else if(Ay(f)&&m){return _(xy,s,t,o,Ey,i,a,n.selectRange)}else if(Dy(f)){return _(ky,s,o,Ty,i,a,_y)}else if(Ay(f)){return _(ky,s,o,Ey,i,a,wy)}else{return E.none}},e=>{const o=o=>()=>{const r=te(o,o=>zh(o.rows,o.cols,t,e,n));return r.fold(()=>rh(t,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>{const o=Dy(f)||d.isForward(f)?oa.after:oa.before;s.setRelativeSelection(oa.on(e.first,0),o(e.table));n.clear(t);return gh.create(E.none(),true)}),e=>E.some(gh.create(E.none(),true)))};if(My(f)&&m&&!Py(a,i)){return E.none}else if(Dy(f)&&m){return o([Ly(+1,0)])}else if(Ay(f)&&m){return o([Ly(-1,0)])}else if(d.isBackward(f)&&m){return o([Ly(0,-1),Ly(-1,0)])}else if(d.isForward(f)&&m){return o([Ly(0,+1),Ly(+1,0)])}else if(My(f)&&!m){return r}else{return E.none}});return g()};const c=(e,s,r,a,c)=>nh(t,n.selectedSelector).fold(()=>{const i=e.raw;const l=i.which;const d=i.shiftKey===true;if(!d){return E.none()}if(My(l)&&Py(s,a)){return Ch(t,o,s,r,a,c,n.selectRange)}else{return E.none()}},E.none);return{keydown:a,keyup:c}};const Vy=(e,t,o,n)=>{const s=By(e);return(e,r)=>{n.clearBeforeUpdate(t);oh(e,r,o).each(e=>{const o=e.boxes.getOr([]);n.selectRange(t,o,e.start,e.finish);s.selectContents(r);s.collapseSelection()})}};const jy=e=>{const t=Er(e.selected);const o=Or([e.selected,e.lastSelected,e.firstSelected]);const n=t=>{const n=Br(t,e.selectedSelector);H(n,o)};const s=(o,s,r,a)=>{n(o);H(s,t);kr(r,e.firstSelected);kr(a,e.lastSelected)};return{clearBeforeUpdate:n,clear:n,selectRange:s,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};const Zy=(e,t,o)=>{const n=t=>{Qn(t,e.selected);Qn(t,e.firstSelected);Qn(t,e.lastSelected)};const s=t=>{Gn(t,e.selected,"1")};const r=e=>{a(e);o()};const a=t=>{const o=Br(t,`${e.selectedSelector},${e.firstSelectedSelector},${e.lastSelectedSelector}`);H(o,n)};const c=(o,n,a,c)=>{r(o);H(n,s);Gn(a,e.firstSelected,"1");Gn(c,e.lastSelected,"1");t(n,a,c)};return{clearBeforeUpdate:a,clear:r,selectRange:c,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}};const Uy={byClass:jy,byAttr:Zy};const qy="data-mce-selected";const $y="td["+qy+"],th["+qy+"]";const Wy="["+qy+"]";const Gy="data-mce-first-selected";const Ky="td["+Gy+"],th["+Gy+"]";const Yy="data-mce-last-selected";const Xy="td["+Yy+"],th["+Yy+"]";const Jy=Wy;const Qy={selected:qy,selectedSelector:$y,firstSelected:Gy,firstSelectedSelector:Ky,lastSelected:Yy,lastSelectedSelector:Xy};const eb=(e,t,o)=>({element:o,mergable:fh(t,e,Qy),unmergable:uh(e),selection:dh(e)});const tb=(e,t,o)=>({element:e,clipboard:t,generators:o});const ob=(e,t,o,n)=>({selection:dh(e),clipboard:o,generators:n});const nb=e=>sc(e).bind(e=>ih(e,Qy.firstSelectedSelector)).fold(v(e),e=>e[0]);const sb=e=>(t,o)=>{const n=Jo(t);const s=n==="col"||n==="colgroup"?nb(t):t;return pr(s,e,o)};const rb=sb("th,td,caption");const ab=sb("th,td");const cb=e=>us(e.model.table.getSelectedCells());const ib=e=>F(cb(e),e=>Jt(e,Qy.selectedSelector));const lb=e=>sc(e[0]).map(e=>{const t=nd(e,Jy);qp(t);return[t]});const db=(e,t)=>L(t,t=>e.selection.serializer.serialize(t.dom,{})).join("");const ub=(e,t)=>{const o=e.getDoc();const n=Cn(Dt.fromDom(e.getBody()));const s=Dt.fromTag("div",o);Gn(s,"data-mce-bogus","all");ks(s,{position:"fixed",left:"-9999999px",top:"0",overflow:"hidden",opacity:"0"});const r=Sn(n);$n(s,t);jn(r,s);const a=s.dom.innerText;os(s);return a};const fb=(e,t)=>{e.on("BeforeGetContent",t=>{const o=o=>{t.preventDefault();lb(o).each(o=>{const n=t.format==="text"?ub(e,o):db(e,o);t.content=n})};if(t.selection===true){const t=ib(e);if(t.length>=1){o(t)}}});e.on("BeforeSetContent",o=>{if(o.selection===true&&o.paste===true){const n=cb(e);Q(n).each(n=>{sc(n).each(s=>{const r=F(ds(o.content),e=>Jo(e)!=="meta");const a=cn("table");if(Pp(e)&&r.length===1&&a(r[0])){o.preventDefault();const a=Dt.fromDom(e.getDoc());const c=af(a);const i=tb(n,r[0],c);t.pasteCells(s,i).each(()=>{e.focus()})}})})}})};const mb=(e,t)=>e.dispatch("NewRow",{node:t});const gb=(e,t)=>e.dispatch("NewCell",{node:t});const pb=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})};const hb=(e,t,o,n,s)=>{e.dispatch("TableSelectionChange",{cells:t,start:o,finish:n,otherCells:s})};const yb=e=>{e.dispatch("TableSelectionClear")};const bb=(e,t,o,n,s)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:n,origin:s})};const vb=(e,t,o,n,s)=>{e.dispatch("ObjectResized",{target:t,width:o,height:n,origin:s})};const kb={structure:false,style:true};const wb={structure:true,style:false};const _b={structure:true,style:true};const xb=(e,t)=>{if(Rp(e)){return ol.percentageSize(t)}else if(Bp(e)){return ol.pixelSize(t)}else{return ol.getTableSize(t)}};const Cb=(e,t,o)=>{const n=e=>Jo(Zp(e))==="table";const s=t=>!n(e)||cf(t).rows>1;const r=t=>!n(e)||cf(t).columns>1;const a=Tp(e);const c=Mp(e)?h:Ul;const i=t=>{switch(Op(e)){case"section":return Fc.section();case"sectionCells":return Fc.sectionCells();case"cells":return Fc.cells();default:return Fc.getTableSectionType(t,"section")}};const l=(t,n)=>n.cursor.fold(()=>{const n=oc(t);return Q(n).filter(ps).map(n=>{o.clearSelectedCells(t.dom);const s=e.dom.createRng();s.selectNode(n.dom);e.selection.setRng(s);Gn(n,"data-mce-selected","1");return s})},n=>{const s=iu(n);const r=e.dom.createRng();r.setStart(s.element.dom,s.offset);r.setEnd(s.element.dom,s.offset);e.selection.setRng(r);o.clearSelectedCells(t.dom);return E.some(r)});const d=(o,n,s,r)=>(c,d,u=false)=>{qp(c);const f=Dt.fromDom(e.getDoc());const m=rf(s,f,a);const g={sizing:xb(e,c),resize:Mp(e)?Za():Ua(),section:i(c)};return n(c)?o(c,d,m,g).bind(o=>{t.refresh(c.dom);H(o.newRows,t=>{mb(e,t.dom)});H(o.newCells,t=>{gb(e,t.dom)});const n=l(c,o);if(ps(c)){qp(c);if(!u){pb(e,c.dom,r)}}return n.map(e=>({rng:e,effect:r}))}):E.none()};const u=d(Um,s,h,wb);const f=d(Zm,r,h,wb);const m=d(Pm,T,h,wb);const g=d(Fm,T,h,wb);const p=d(Vm,T,c,wb);const y=d(jm,T,c,wb);const b=d(Jm,T,h,wb);const v=d(Qm,T,h,wb);const k=d(tg,T,h,wb);const w=d(og,T,h,wb);const _=d(ng,T,h,wb);const x=d(sg,T,h,wb);const C=d(eg,T,h,_b);const S=d(Ym,T,h,wb);const z=d(Xm,T,h,wb);const O=d(qm,T,h,wb);const A=d($m,T,h,wb);const D=d(Wm,T,h,wb);const M=d(Gm,T,h,wb);const N=d(Km,T,h,wb);const R=ag;const B=rg;const L=cg;return{deleteRow:u,deleteColumn:f,insertRowsBefore:m,insertRowsAfter:g,insertColumnsBefore:p,insertColumnsAfter:y,mergeCells:b,unmergeCells:v,pasteColsBefore:k,pasteColsAfter:w,pasteRowsBefore:_,pasteRowsAfter:x,pasteCells:C,makeCellsHeader:S,unmakeCellsHeader:z,makeColumnsHeader:O,unmakeColumnsHeader:A,makeRowsHeader:D,makeRowsBody:M,makeRowsFooter:N,getTableRowType:L,getTableCellType:R,getTableColType:B}};const Sb=(e,t)=>{e.selection.select(t.dom,true);e.selection.collapse(true)};const zb=(e,t)=>{gr(t,"td,th").each(_(Sb,e))};const Tb=(e,t)=>{H(Br(t,"tr"),t=>{mb(e,t.dom);H(Br(t,"th,td"),t=>{gb(e,t.dom)})})};const Eb=e=>a(e)&&e.indexOf("%")!==-1;const Ob=(e,t,o,n,s)=>{const r=Vp(e);const a={styles:r,attributes:Fp(e),colGroups:jp(e)};e.undoManager.ignore(()=>{const r=Og(o,t,s,n,Op(e),a);Gn(r,"data-mce-id","__mce");const c=ms(r);e.insertContent(c);e.addVisual()});return gr(Zp(e),'table[data-mce-id="__mce"]').map(t=>{if(Bp(e)){Wu(t)}else if(Lp(e)){Ku(t)}else if(Rp(e)||Eb(r.width)){$u(t)}qp(t);Qn(t,"data-mce-id");Tb(e,t);zb(e,t);return t.dom}).getOrNull()};const Ab=(e,t,o,n={})=>{const s=e=>p(e)&&e>0;if(s(t)&&s(o)){const s=n.headerRows||0;const r=n.headerColumns||0;return Ob(e,o,t,r,s)}else{console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.");return null}};var Db=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Mb="x-tinymce/dom-table-";const Nb=Mb+"rows";const Rb=Mb+"columns";const Bb=e=>{const t=Db.FakeClipboardItem(e);Db.write([t])};const Lb=e=>{var t;const o=(t=Db.read())!==null&&t!==void 0?t:[];return te(o,t=>E.from(t.getType(e)))};const Hb=e=>{if(Lb(e).isSome()){Db.clear()}};const Ib=e=>{e.fold(Fb,e=>Bb({[Nb]:e}))};const Pb=()=>Lb(Nb);const Fb=()=>Hb(Nb);const Vb=e=>{e.fold(Zb,e=>Bb({[Rb]:e}))};const jb=()=>Lb(Rb);const Zb=()=>Hb(Rb);const Ub=e=>rb($p(e),Up(e)).filter(eh);const qb=e=>ab($p(e),Up(e)).filter(eh);const $b=(e,t)=>{const o=Up(e);const n=()=>Ub(e).each(t=>{sc(t,o).filter(x(o)).each(t=>{const o=Dt.fromText("");Fn(t,o);os(t);if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}else{const t=e.dom.createRng();t.setStart(o.dom,0);t.setEnd(o.dom,0);e.selection.setRng(t);e.nodeChanged()}})});const s=t=>Ub(e).each(n=>{const s=Lp(e)||Bp(e)||Rp(e);if(!s){sc(n,o).each(o=>{if(t==="relative"&&!Pd(o)){$u(o)}else if(t==="fixed"&&!Fd(o)){Wu(o)}else if(t==="responsive"&&!Vd(o)){Ku(o)}qp(o);pb(e,o.dom,wb)})}});const r=e=>sc(e,o);const i=t=>qb(e).bind(e=>r(e).map(o=>t(o,e)));const l=(t,o)=>{i(t=>{e.formatter.toggle("tableclass",{value:o},t.dom);pb(e,t.dom,kb)})};const d=(t,o)=>{i(t=>{const n=cb(e);const s=G(n,t=>e.formatter.match("tablecellclass",{value:o},t.dom));const r=s?e.formatter.remove:e.formatter.apply;H(n,e=>r("tablecellclass",{value:o},e.dom));pb(e,t.dom,kb)})};const u=()=>{Ub(e).each(t=>{sc(t,o).each(o=>{mr(o,"caption").fold(()=>{const t=Dt.fromTag("caption");jn(t,Dt.fromText("Caption"));Zn(o,t,0);e.selection.setCursorLocation(t.dom,0)},n=>{if(cn("caption")(t)){to("td",o).each(t=>e.selection.setCursorLocation(t.dom,0))}os(n)});pb(e,o.dom,wb)})})};const f=t=>{e.focus()};const m=(t,o=false)=>i((n,s)=>{const r=eb(cb(e),n,s);t(n,r,o).each(f)});const g=()=>i((t,o)=>{const n=eb(cb(e),t,o);const s=rf(h,Dt.fromDom(e.getDoc()),E.none());return Yl(t,n,s)});const p=()=>i((t,o)=>{const n=eb(cb(e),t,o);return Kl(t,n)});const y=(t,o)=>o().each(o=>{const n=L(o,e=>as(e));i((o,s)=>{const r=af(Dt.fromDom(e.getDoc()));const a=ob(cb(e),s,n,r);t(o,a).each(f)})});const b=e=>(t,o)=>fe(o,"type").each(t=>{m(e(t),o.no_events)});se({mceTableSplitCells:()=>m(t.unmergeCells),mceTableMergeCells:()=>m(t.mergeCells),mceTableInsertRowBefore:()=>m(t.insertRowsBefore),mceTableInsertRowAfter:()=>m(t.insertRowsAfter),mceTableInsertColBefore:()=>m(t.insertColumnsBefore),mceTableInsertColAfter:()=>m(t.insertColumnsAfter),mceTableDeleteCol:()=>m(t.deleteColumn),mceTableDeleteRow:()=>m(t.deleteRow),mceTableCutCol:()=>p().each(e=>{Vb(e);m(t.deleteColumn)}),mceTableCutRow:()=>g().each(e=>{Ib(e);m(t.deleteRow)}),mceTableCopyCol:()=>p().each(e=>Vb(e)),mceTableCopyRow:()=>g().each(e=>Ib(e)),mceTablePasteColBefore:()=>y(t.pasteColsBefore,jb),mceTablePasteColAfter:()=>y(t.pasteColsAfter,jb),mceTablePasteRowBefore:()=>y(t.pasteRowsBefore,Pb),mceTablePasteRowAfter:()=>y(t.pasteRowsAfter,Pb),mceTableDelete:n,mceTableCellToggleClass:d,mceTableToggleClass:l,mceTableToggleCaption:u,mceTableSizingMode:(e,t)=>s(t),mceTableCellType:b(e=>e==="th"?t.makeCellsHeader:t.unmakeCellsHeader),mceTableColType:b(e=>e==="th"?t.makeColumnsHeader:t.unmakeColumnsHeader),mceTableRowType:b(e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}})},(t,o)=>e.addCommand(o,t));e.addCommand("mceInsertTable",(t,o)=>{Ab(e,o.rows,o.columns,o.options)});e.addCommand("mceTableApplyCellStyle",(t,o)=>{const n=e=>"tablecell"+e.toLowerCase().replace("-","");if(!c(o)){return}const s=F(cb(e),eh);if(s.length===0){return}const i=le(o,(t,o)=>e.formatter.has(n(o))&&a(t));if(pe(i)){return}se(i,(t,o)=>{const r=n(o);H(s,o=>{if(t===""){e.formatter.remove(r,{value:null},o.dom,true)}else{e.formatter.apply(r,{value:t},o.dom)}})});r(s[0]).each(t=>pb(e,t.dom,kb))})};const Wb=(e,t)=>{const o=Up(e);const n=t=>ab($p(e)).bind(n=>sc(n,o).map(o=>{const s=eb(cb(e),o,n);return t(o,s)})).getOr("");se({mceTableRowType:()=>n(t.getTableRowType),mceTableCellType:()=>n(t.getTableCellType),mceTableColType:()=>n(t.getTableColType)},(t,o)=>e.addQueryValueHandler(o,t))};const Gb=e=>!xr(Dt.fromDom(e.target),"ephox-snooker-resizer-bar");const Kb=(e,t)=>{const o=vh(()=>Dt.fromDom(e.getBody()),()=>ab($p(e),Up(e)),Qy.selectedSelector);const n=(t,o,n)=>{const s=sc(o);s.each(s=>{const r=L(t,e=>e.dom);const a=Tp(e);const c=rf(h,Dt.fromDom(e.getDoc()),a);const i=cb(e);const l=pd(s,{selection:i},c).map(e=>re(e,e=>L(e,e=>e.dom))).getOrUndefined();hb(e,r,o.dom,n.dom,l)})};const s=()=>yb(e);const r=Uy.byAttr(Qy,n,s);e.on("init",o=>{const n=e.getWin();const s=Zp(e);const a=Up(e);const c=()=>{const t=e.selection;const o=Dt.fromDom(t.getStart());const n=Dt.fromDom(t.getEnd());const a=Iu(sc,[o,n]);a.fold(()=>r.clear(s),h)};const i=Hy(n,s,a,r);const l=Fy(n,s,a,r);const d=Vy(n,s,a,r);const u=e=>e.raw.shiftKey===true;e.on("TableSelectorChange",e=>d(e.start,e.finish));const f=(t,o)=>{if(!u(t)){return}if(o.kill){t.kill()}o.selection.each(t=>{const o=ua.relative(t.start,t.finish);const s=$t(n,o);e.selection.setRng(s)})};const m=t=>{const o=In(t);if(o.raw.shiftKey&&My(o.raw.which)){const t=e.selection.getRng();const n=Dt.fromDom(t.startContainer);const s=Dt.fromDom(t.endContainer);l.keyup(o,n,t.startOffset,s,t.endOffset).each(e=>{f(o,e)})}};const g=o=>{const n=In(o);t.hide();const s=e.selection.getRng();const r=Dt.fromDom(s.startContainer);const a=Dt.fromDom(s.endContainer);const c=or(Ny,Ry)(Dt.fromDom(e.selection.getStart()));l.keydown(n,r,s.startOffset,a,s.endOffset,c).each(e=>{f(n,e)});t.show()};const p=e=>e.button===0;const y=e=>{if(e.buttons===undefined){return true}return(e.buttons&1)!==0};const b=e=>{i.clearstate()};const v=e=>{if(p(e)&&Gb(e)){i.mousedown(In(e))}};const k=e=>{if(y(e)&&Gb(e)){i.mouseover(In(e))}};const w=e=>{if(p(e)&&Gb(e)){i.mouseup(In(e))}};const _=()=>{const e=be(Dt.fromDom(s));const t=be(0);const o=o=>{const n=Dt.fromDom(o.target);if(cn("td")(n)||cn("th")(n)){const s=e.get();const r=t.get();if(oo(s,n)&&o.timeStamp-r<300){o.preventDefault();d(n,n)}}e.set(n);t.set(o.timeStamp)};return{touchEnd:o}};const x=_();e.on("dragstart",b);e.on("mousedown",v);e.on("mouseover",k);e.on("mouseup",w);e.on("touchend",x.touchEnd);e.on("keyup",m);e.on("keydown",g);e.on("NodeChange",c)});e.on("PreInit",()=>{e.serializer.addTempAttr(Qy.firstSelected);e.serializer.addTempAttr(Qy.lastSelected)});const a=e=>r.clear(Dt.fromDom(e));const c=()=>ph(o.get(),v([]),e=>L(e,e=>e.dom),e=>[e.dom]);return{getSelectedCells:c,clearSelectedCells:a}};const Yb=(e,t)=>{const o=Dt.fromDom(e.getBody());return vd.body(o,t)};const Xb=e=>m(e)&&e.nodeName==="TABLE";const Jb="bar-";const Qb=e=>Xn(e,"data-mce-resize")!=="false";const ev=e=>{const t=Mc.fromTable(e);if(!Mc.hasColumns(t)){H(oc(e),e=>{const t=ws(e,"width");vs(e,"width",t);Qn(e,"width")})}};const tv=e=>We(e,"corner-");const ov=e=>qe(e,"corner-");const nv=e=>{const t=je();const o=je();const n=je();let s;let r;let a;let c;const i=t=>xb(e,t);const l=()=>Dp(e)?Ua():Za();const d=e=>cf(e).columns;const u=e=>cf(e).rows;const f=(t,o,n,f)=>{const m=ov(o);const g=Ge(m,"e");const p=We(m,"n");if(r===""){$u(t)}if(c===""){Gu(t)}if(n!==s&&r!==""){vs(t,"width",r);const o=l();const a=i(t);const c=Dp(e)||g?d(t)-1:0;Fl(t,n-s,c,o,a)}else if(Jp(r)){const e=parseFloat(r.replace("%",""));const o=n*e/s;vs(t,"width",o+"%")}if(Qp(r)){ev(t)}if(f!==a&&c!==""){vs(t,"height",c);const e=p?0:u(t)-1;Vl(t,f-a,e)}};const m=()=>{o.on(e=>{e.destroy()})};e.on("init",()=>{const s=Yb(e,Qb);n.set(s);if(Ep(e)&&Hp(e)){const n=l();const r=kp.create(s,n,i);if(!e.mode.isReadOnly()){r.on()}r.events.startDrag.bind(o=>{t.set(e.selection.getRng())});r.events.beforeResize.bind(t=>{const o=t.table.dom;bb(e,o,Wp(o),Gp(o),Jb+t.type)});r.events.afterResize.bind(o=>{const n=o.table;const s=n.dom;qp(n);t.on(t=>{e.selection.setRng(t);e.focus()});vb(e,s,Wp(s),Gp(s),Jb+o.type);e.undoManager.add()});o.set(r)}});e.on("ObjectResizeStart",t=>{const o=t.target;if(Xb(o)&&!e.mode.isReadOnly()){const n=Dt.fromDom(o);H(e.dom.select(".mce-clonedresizable"),t=>{e.dom.addClass(t,"mce-"+Ap(e)+"-columns")});if(!Fd(n)&&Bp(e)){Wu(n)}else if(!Pd(n)&&Rp(e)){$u(n)}if(Vd(n)&&We(t.origin,Jb)){$u(n)}s=t.width;r=Lp(e)?"":Yp(e,o).getOr("");a=t.height;c=Xp(e,o).getOr("")}});e.on("ObjectResized",t=>{const o=t.target;if(Xb(o)){const n=Dt.fromDom(o);const s=t.origin;if(tv(s)){f(n,s,t.width,t.height)}qp(n);pb(e,n.dom,kb)}});const g=()=>{o.on(e=>{e.on();e.showBars()})};const p=()=>{o.on(e=>{e.off();e.hideBars()})};e.on("DisabledStateChange",e=>{e.state?p():g()});e.on("SwitchMode",()=>{e.mode.isReadOnly()?p():g()});e.on("dragstart dragend",e=>{e.type==="dragstart"?p():g()});e.on("remove",()=>{m()});const h=e=>{o.on(t=>t.refreshBars(Dt.fromDom(e)))};const y=()=>{o.on(e=>e.hideBars())};const b=()=>{o.on(e=>e.showBars())};return{refresh:h,hide:y,show:b}};const sv=e=>{zp(e);const t=nv(e);const o=Kb(e,t);const n=Cb(e,t,o);$b(e,n);Wb(e,n);fb(e,n);return{getSelectedCells:o.getSelectedCells,clearSelectedCells:o.clearSelectedCells}};const rv=e=>{const t=sv(e);return{table:t}};var av=()=>{e.add("dom",rv)};av()})()},()=>{(function(){"use strict";const e=Object.getPrototypeOf;const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=(o,n)=>i(o)&&t(o,n,(t,o)=>e(t)===o);const c=n("string");const i=n("object");const l=e=>a(e,Object);const d=n("array");const u=r(null);const f=s("boolean");const m=r(undefined);const g=e=>e===null||e===undefined;const p=e=>!g(e);const h=s("function");const y=s("number");const b=(e,t)=>{if(d(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const v=()=>{};const k=e=>()=>e();const w=(e,t)=>(...o)=>e(t.apply(null,o));const _=(e,t)=>o=>e(t(o));const x=e=>()=>e;const C=e=>e;const S=(e,t)=>e===t;function z(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const T=e=>t=>!e(t);const E=e=>()=>{throw new Error(e)};const O=e=>e();const A=x(false);const D=x(true);class M{constructor(e,t){this.tag=e;this.value=t}static some(e){return new M(true,e)}static none(){return M.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return M.some(e(this.value))}else{return M.none()}}bind(e){if(this.tag){return e(this.value)}else{return M.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return M.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return p(e)?M.some(e):M.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}M.singletonNone=new M(false);const N=Array.prototype.slice;const R=Array.prototype.indexOf;const B=Array.prototype.push;const L=(e,t)=>R.call(e,t);const H=(e,t)=>{const o=L(e,t);return o===-1?M.none():M.some(o)};const I=(e,t)=>L(e,t)>-1;const P=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const F=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const V=(e,t)=>{const o=[];for(let n=0;n<e.length;n+=t){const s=N.call(e,n,n+t);o.push(s)}return o};const j=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const Z=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const U=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const q=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const $=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const W=(e,t,o)=>{U(e,(e,n)=>{o=t(o,e,n)});return o};const G=(e,t,o)=>{Z(e,(e,n)=>{o=t(o,e,n)});return o};const K=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return M.some(s)}else if(o(s,n)){break}}return M.none()};const Y=(e,t)=>K(e,t,A);const X=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return M.some(o)}}return M.none()};const J=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!d(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}B.apply(t,e[o])}return t};const Q=(e,t)=>J(j(e,t));const ee=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const te=e=>{const t=N.call(e,0);t.reverse();return t};const oe=(e,t)=>$(e,e=>!I(t,e));const ne=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const se=e=>[e];const re=(e,t)=>{const o=N.call(e,0);o.sort(t);return o};const ae=(e,t)=>t>=0&&t<e.length?M.some(e[t]):M.none();const ce=e=>ae(e,0);const ie=e=>ae(e,e.length-1);const le=h(Array.from)?Array.from:e=>N.call(e);const de=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return M.none()};const ue=Object.keys;const fe=Object.hasOwnProperty;const me=(e,t)=>{const o=ue(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const ge=(e,t)=>pe(e,(e,o)=>({k:o,v:t(e,o)}));const pe=(e,t)=>{const o={};me(e,(e,n)=>{const s=t(e,n);o[s.k]=s.v});return o};const he=e=>(t,o)=>{e[o]=t};const ye=(e,t,o,n)=>{me(e,(e,s)=>{(t(e,s)?o:n)(e,s)})};const be=(e,t)=>{const o={};const n={};ye(e,t,he(o),he(n));return{t:o,f:n}};const ve=(e,t)=>{const o={};ye(e,t,he(o),v);return o};const ke=(e,t)=>{const o=[];me(e,(e,n)=>{o.push(t(e,n))});return o};const we=(e,t)=>{const o=ue(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];if(t(r,s,e)){return M.some(r)}}return M.none()};const _e=e=>ke(e,C);const xe=(e,t)=>Ce(e,t)?M.from(e[t]):M.none();const Ce=(e,t)=>fe.call(e,t);const Se=(e,t)=>Ce(e,t)&&e[t]!==undefined&&e[t]!==null;const ze=e=>{if(!d(e)){throw new Error("cases must be an array")}if(e.length===0){throw new Error("there must be at least one case")}const t=[];const o={};Z(e,(n,s)=>{const r=ue(n);if(r.length!==1){throw new Error("one and only one name per case")}const a=r[0];const c=n[a];if(o[a]!==undefined){throw new Error("duplicate key detected:"+a)}else if(a==="cata"){throw new Error("cannot have a case named cata (sorry)")}else if(!d(c)){throw new Error("case arguments must be an array")}t.push(a);o[a]=(...o)=>{const n=o.length;if(n!==c.length){throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+n)}const r=e=>{const n=ue(e);if(t.length!==n.length){throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))}const s=ee(t,e=>I(n,e));if(!s){throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))}return e[a].apply(null,o)};return{fold:(...t)=>{if(t.length!==e.length){throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)}const n=t[s];return n.apply(null,o)},match:r,log:e=>{console.log(e,{constructors:t,constructor:a,params:o})}}}});return o};const Te={generate:ze};const Ee=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const Oe=e=>{let t=M.none();let o=[];const n=e=>Oe(t=>{s(o=>{t(e(o))})});const s=e=>{if(a()){i(e)}else{o.push(e)}};const r=e=>{if(!a()){t=M.some(e);c(o);o=[]}};const a=()=>t.isSome();const c=e=>{Z(e,i)};const i=e=>{t.each(t=>{setTimeout(()=>{e(t)},0)})};e(r);return{get:s,map:n,isReady:a}};const Ae=e=>Oe(t=>{t(e)});const De={nu:Oe,pure:Ae};const Me=e=>{setTimeout(()=>{throw e},0)};const Ne=e=>{const t=t=>{e().then(t,Me)};const o=t=>Ne(()=>e().then(t));const n=t=>Ne(()=>e().then(e=>t(e).toPromise()));const s=t=>Ne(()=>e().then(()=>t.toPromise()));const r=()=>De.nu(t);const a=()=>{let t=null;return Ne(()=>{if(t===null){t=e()}return t})};const c=e;return{map:o,bind:n,anonBind:s,toLazy:r,toCached:a,toPromise:c,get:t}};const Re=e=>Ne(()=>new Promise(e));const Be=e=>Ne(()=>Promise.resolve(e));const Le={nu:Re,pure:Be};const He=e=>{const t=t=>t(e);const o=x(e);const n=()=>s;const s={tag:true,inner:e,fold:(t,o)=>o(e),isValue:D,isError:A,map:t=>Fe.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:t=>{t(e)},toOptional:()=>M.some(e)};return s};const Ie=e=>{const t=()=>o;const o={tag:false,inner:e,fold:(t,o)=>t(e),isValue:A,isError:D,map:t,mapError:t=>Fe.error(t(e)),bind:t,exists:A,forall:D,getOr:C,or:C,getOrThunk:O,orThunk:O,getOrDie:E(String(e)),each:v,toOptional:M.none};return o};const Pe=(e,t)=>e.fold(()=>Ie(t),He);const Fe={value:He,error:Ie,fromOption:Pe};const Ve=e=>{const t=()=>Ve(e.toCached());const o=t=>Ve(e.bind(e=>e.fold(e=>Le.pure(Fe.error(e)),e=>t(e))));const n=t=>Ve(e.map(e=>e.bind(t)));const s=t=>Ve(e.map(e=>e.map(t)));const r=t=>Ve(e.map(e=>e.mapError(t)));const a=(t,o)=>e.map(e=>e.fold(t,o));const c=(t,o)=>Ve(Le.nu(n=>{let s=false;const r=setTimeout(()=>{s=true;n(Fe.error(o()))},t);e.get(e=>{if(!s){clearTimeout(r);n(e)}})}));return{...e,toCached:t,bindFuture:o,bindResult:n,mapResult:s,mapError:r,foldResult:a,withTimeout:c}};const je=e=>Ve(Le.nu(e));const Ze=e=>Ve(Le.pure(Fe.value(e)));const Ue=e=>Ve(Le.pure(Fe.error(e)));const qe=e=>Ve(Le.pure(e));const $e=e=>Ve(e.map(Fe.value));const We=e=>je(t=>{e.then(e=>{t(Fe.value(e))},e=>{t(Fe.error(e))})});const Ge={nu:je,wrap:Ve,pure:Ze,value:Ze,error:Ue,fromResult:qe,fromFuture:$e,fromPromise:We};const Ke=typeof window!=="undefined"?window:Function("return this;")();const Ye=(e,t,o,n)=>{const s=e+t;if(s>n){return o}else if(s<o){return n}else{return s}};const Xe=(e,t,o)=>Math.min(Math.max(e,t),o);const Je=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qe=0;const et=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(Je()*1e9);Qe++;return e+"_"+n+Qe+String(o)};const tt=(e,t)=>t;const ot=(e,t)=>{const o=l(e)&&l(t);return o?st(e,t):t};const nt=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(Ce(s,t)){o[t]=e(o[t],s[t])}}}return o};const st=nt(ot);const rt=nt(tt);const at=(e,t,o=S)=>e.exists(e=>o(e,t));const ct=(e,t,o=S)=>dt(e,t,o).getOr(e.isNone()&&t.isNone());const it=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const lt=e=>{const t=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.isSome()){t.push(n.getOrDie())}else{return M.none()}}return M.some(t)};const dt=(e,t,o)=>e.isSome()&&t.isSome()?M.some(o(e.getOrDie(),t.getOrDie())):M.none();const ut=(e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?M.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):M.none();const ft=(e,t)=>e!==undefined&&e!==null?M.some(t(e)):M.none();const mt=(e,t)=>e?M.some(t):M.none();const gt=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const pt=(e,t)=>{let o=t!==undefined&&t!==null?t:Ke;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const ht=(e,t)=>{const o=e.split(".");return pt(o,t)};Te.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const yt=e=>{const t=[];const o=[];Z(e,e=>{e.fold(e=>{t.push(e)},e=>{o.push(e)})});return{errors:t,values:o}};const bt=e=>{const t=Ee(M.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(M.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(M.some(e))};return{clear:n,isSet:s,get:r,set:a}};const vt=()=>bt(e=>e.destroy());const kt=()=>bt(e=>e.unbind());const wt=()=>{const e=bt(v);const t=t=>e.get().each(t);return{...e,on:t}};const _t=(e,t)=>e+t;const xt=(e,t)=>e.substring(t);const Ct=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const St=(e,t)=>Et(e,t)?xt(e,t.length):e;const zt=(e,t)=>Ot(e,t)?e:_t(e,t);const Tt=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return m(n)?true:s+t.length<=n}else{return false}};const Et=(e,t)=>Ct(e,t,0);const Ot=(e,t)=>Ct(e,t,e.length-t.length);const At=e=>t=>t.replace(e,"");const Dt=At(/^\s+|\s+$/g);const Mt=e=>e.length>0;const Nt=e=>!Mt(e);const Rt=e=>{const t=parseFloat(e);return isNaN(t)?M.none():M.some(t)};const Bt=(e,t)=>{let o=null;let n=null;const s=()=>{if(!u(o)){clearTimeout(o);o=null;n=null}};const r=(...s)=>{n=s;if(u(o)){o=setTimeout(()=>{const t=n;o=null;n=null;e.apply(null,t)},t)}};return{cancel:s,throttle:r}};const Lt=(e,t)=>{let o=null;const n=()=>{if(!u(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(u(o)){o=setTimeout(()=>{o=null;e.apply(null,n)},t)}};return{cancel:n,throttle:s}};const Ht=(e,t)=>{let o=null;const n=()=>{if(!u(o)){clearTimeout(o);o=null}};const s=(...s)=>{n();o=setTimeout(()=>{o=null;e.apply(null,s)},t)};return{cancel:n,throttle:s}};const It=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Pt="\ufeff";const Ft=" ";const Vt=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return Ut(n.childNodes[0])};const jt=(e,t)=>{const o=t||document;const n=o.createElement(e);return Ut(n)};const Zt=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return Ut(n)};const Ut=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const qt=(e,t,o)=>M.from(e.dom.elementFromPoint(t,o)).map(Ut);const $t={fromHtml:Vt,fromTag:jt,fromText:Zt,fromDom:Ut,fromPoint:qt};const Wt=(e,t)=>{t.fold(t=>{e.setStartBefore(t.dom)},(t,o)=>{e.setStart(t.dom,o)},t=>{e.setStartAfter(t.dom)})};const Gt=(e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,o)=>{e.setEnd(t.dom,o)},t=>{e.setEndAfter(t.dom)})};const Kt=(e,t,o)=>{const n=e.document.createRange();Wt(n,t);Gt(n,o);return n};const Yt=(e,t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r};const Xt=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height});const Jt=e=>{const t=e.getClientRects();const o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?M.some(o).map(Xt):M.none()};const Qt=e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?M.some(t).map(Xt):M.none()};const eo=Te.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);const to=(e,t,o)=>t($t.fromDom(o.startContainer),o.startOffset,$t.fromDom(o.endContainer),o.endOffset);const oo=(e,t)=>t.match({domRange:e=>({ltr:x(e),rtl:M.none}),relative:(t,o)=>({ltr:It(()=>Kt(e,t,o)),rtl:It(()=>M.some(Kt(e,o,t)))}),exact:(t,o,n,s)=>({ltr:It(()=>Yt(e,t,o,n,s)),rtl:It(()=>M.some(Yt(e,n,s,t,o)))})});const no=(e,t)=>{const o=t.ltr();if(o.collapsed){const n=t.rtl().filter(e=>e.collapsed===false);return n.map(e=>eo.rtl($t.fromDom(e.endContainer),e.endOffset,$t.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>to(e,eo.ltr,o))}else{return to(e,eo.ltr,o)}};const so=(e,t)=>{const o=oo(e,t);return no(e,o)};const ro=(e,t)=>{const o=so(e,t);return o.match({ltr:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(t.dom,o);r.setEnd(n.dom,s);return r},rtl:(t,o,n,s)=>{const r=e.document.createRange();r.setStart(n.dom,s);r.setEnd(t.dom,o);return r}})};eo.ltr;eo.rtl;const ao=9;const co=11;const io=1;const lo=3;const uo=(e,t)=>{const o=e.dom;if(o.nodeType!==io){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const fo=e=>e.nodeType!==io&&e.nodeType!==ao&&e.nodeType!==co||e.childElementCount===0;const mo=(e,t)=>{const o=t===undefined?document:t.dom;return fo(o)?[]:j(o.querySelectorAll(e),$t.fromDom)};const go=(e,t)=>{const o=t===undefined?document:t.dom;return fo(o)?M.none():M.from(o.querySelector(e)).map($t.fromDom)};const po=(e,t)=>e.dom===t.dom;const ho=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const yo=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:x(s),isiPhone:x(r),isTablet:x(i),isPhone:x(l),isTouch:x(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:x(d),isDesktop:x(u)}};const bo=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const vo=(e,t)=>{const o=bo(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return _o(n(1),n(2))};const ko=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return wo()}return vo(e,o)};const wo=()=>_o(0,0);const _o=(e,t)=>({major:e,minor:t});const xo={nu:_o,detect:ko,unknown:wo};const Co=(e,t)=>de(t.brands,t=>{const o=t.brand.toLowerCase();return Y(e,e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:xo.nu(parseInt(t.version,10),0)}))});const So=(e,t)=>{const o=String(t).toLowerCase();return Y(e,e=>e.search(o))};const zo=(e,t)=>So(e,t).map(e=>{const o=xo.detect(e.versionRegexes,t);return{current:e.name,version:o}});const To=(e,t)=>So(e,t).map(e=>{const o=xo.detect(e.versionRegexes,t);return{current:e.name,version:o}});const Eo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const Oo=e=>t=>Tt(t,e);const Ao=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Tt(e,"edge/")&&Tt(e,"chrome")&&Tt(e,"safari")&&Tt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Eo],search:e=>Tt(e,"chrome")&&!Tt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Tt(e,"msie")||Tt(e,"trident")},{name:"Opera",versionRegexes:[Eo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Oo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Oo("firefox")},{name:"Safari",versionRegexes:[Eo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Tt(e,"safari")||Tt(e,"mobile/"))&&Tt(e,"applewebkit")}];const Do=[{name:"Windows",search:Oo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Tt(e,"iphone")||Tt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Oo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Oo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Oo("linux"),versionRegexes:[]},{name:"Solaris",search:Oo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Oo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Oo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const Mo={browsers:x(Ao),oses:x(Do)};const No="Edge";const Ro="Chromium";const Bo="IE";const Lo="Opera";const Ho="Firefox";const Io="Safari";const Po=()=>Fo({current:undefined,version:xo.unknown()});const Fo=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(No),isChromium:n(Ro),isIE:n(Bo),isOpera:n(Lo),isFirefox:n(Ho),isSafari:n(Io)}};const Vo={unknown:Po,nu:Fo,edge:x(No),chromium:x(Ro),ie:x(Bo),opera:x(Lo),firefox:x(Ho),safari:x(Io)};const jo="Windows";const Zo="iOS";const Uo="Android";const qo="Linux";const $o="macOS";const Wo="Solaris";const Go="FreeBSD";const Ko="ChromeOS";const Yo=()=>Xo({current:undefined,version:xo.unknown()});const Xo=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(jo),isiOS:n(Zo),isAndroid:n(Uo),isMacOS:n($o),isLinux:n(qo),isSolaris:n(Wo),isFreeBSD:n(Go),isChromeOS:n(Ko)}};const Jo={unknown:Yo,nu:Xo,windows:x(jo),ios:x(Zo),android:x(Uo),linux:x(qo),macos:x($o),solaris:x(Wo),freebsd:x(Go),chromeos:x(Ko)};const Qo=(e,t,o)=>{const n=Mo.browsers();const s=Mo.oses();const r=t.bind(e=>Co(n,e)).orThunk(()=>zo(n,e)).fold(Vo.unknown,Vo.nu);const a=To(s,e).fold(Jo.unknown,Jo.nu);const c=yo(a,r,e,o);return{browser:r,os:a,deviceType:c}};const en={detect:Qo};const tn=e=>window.matchMedia(e).matches;let on=It(()=>en.detect(window.navigator.userAgent,M.from(window.navigator.userAgentData),tn));const nn=()=>on();const sn=(e,t)=>ht(e,t);const rn=(e,t)=>{const o=sn(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const an=Object.getPrototypeOf;const cn=e=>rn("HTMLElement",e);const ln=e=>{const t=ht("ownerDocument.defaultView",e);return i(e)&&(cn(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(an(e).constructor.name))};const dn=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const un=e=>e.dom.nodeType;const fn=e=>t=>un(t)===e;const mn=e=>gn(e)&&ln(e.dom);const gn=fn(io);const pn=fn(lo);const hn=fn(ao);const yn=fn(co);const bn=e=>t=>gn(t)&&dn(t)===e;const vn=e=>$t.fromDom(e.dom.ownerDocument);const kn=e=>hn(e)?e:vn(e);const wn=e=>$t.fromDom(kn(e).dom.documentElement);const _n=e=>$t.fromDom(kn(e).dom.defaultView);const xn=e=>M.from(e.dom.parentNode).map($t.fromDom);const Cn=e=>xn(e);const Sn=e=>M.from(e.dom.parentElement).map($t.fromDom);const zn=(e,t)=>{const o=h(t)?t:A;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=$t.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const Tn=e=>M.from(e.dom.offsetParent).map($t.fromDom);const En=e=>M.from(e.dom.nextSibling).map($t.fromDom);const On=e=>j(e.dom.childNodes,$t.fromDom);const An=(e,t)=>{const o=e.dom.childNodes;return M.from(o[t]).map($t.fromDom)};const Dn=e=>An(e,0);const Mn=(e,t)=>({element:e,offset:t});const Nn=(e,t)=>{const o=On(e);return o.length>0&&t<o.length?Mn(o[t],0):Mn(e,t)};const Rn=(e,t,o,n)=>{const s=vn(e);const r=s.dom.createRange();r.setStart(e.dom,t);r.setEnd(o.dom,n);return r};const Bn=(e,t,o,n)=>{const s=Rn(e,t,o,n);const r=po(e,o)&&t===n;return s.collapsed&&!r};const Ln=e=>yn(e)&&p(e.dom.host);const Hn=e=>$t.fromDom(e.dom.getRootNode());const In=e=>Ln(e)?e:$t.fromDom(kn(e).dom.body);const Pn=e=>Fn(e).isSome();const Fn=e=>{const t=Hn(e);return Ln(t)?M.some(t):M.none()};const Vn=e=>$t.fromDom(e.dom.host);const jn=e=>{if(p(e.target)){const t=$t.fromDom(e.target);if(gn(t)&&Zn(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return ce(t)}}}}return M.from(e.target)};const Zn=e=>p(e.dom.shadowRoot);const Un=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const qn=e=>{const t=$t.fromDom(jn(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=w(n,o);return Un(t,e.clientX,e.clientY,o,n,s,e)};const $n=(e,t)=>o=>{if(e(o)){t(qn(o))}};const Wn=(e,t,o,n,s)=>{const r=$n(o,n);e.dom.addEventListener(t,r,s);return{unbind:z(Yn,e,t,r,s)}};const Gn=(e,t,o,n)=>Wn(e,t,o,n,false);const Kn=(e,t,o,n)=>Wn(e,t,o,n,true);const Yn=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const Xn=D;const Jn=(e,t,o)=>Gn(e,t,Xn,o);const Qn=(e,t,o)=>Kn(e,t,Xn,o);const es=qn;const ts=()=>$t.fromDom(document);const os=(e,t=false)=>e.dom.focus({preventScroll:t});const ns=e=>e.dom.blur();const ss=e=>{const t=Hn(e).dom;return e.dom===t.activeElement};const rs=(e=ts())=>M.from(e.dom.activeElement).map($t.fromDom);const as=e=>rs(Hn(e)).filter(t=>e.dom.contains(t.dom));const cs=(e,t)=>{const o=xn(e);o.each(o=>{o.dom.insertBefore(t.dom,e.dom)})};const is=(e,t)=>{const o=En(e);o.fold(()=>{const o=xn(e);o.each(e=>{ds(e,t)})},e=>{cs(e,t)})};const ls=(e,t)=>{const o=Dn(e);o.fold(()=>{ds(e,t)},o=>{e.dom.insertBefore(t.dom,o.dom)})};const ds=(e,t)=>{e.dom.appendChild(t.dom)};const us=(e,t,o)=>{An(e,o).fold(()=>{ds(e,t)},e=>{cs(e,t)})};const fs=(e,t)=>{Z(t,t=>{ds(e,t)})};const ms=(e,t,o)=>{if(c(o)||f(o)||y(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const gs=(e,t,o)=>{ms(e.dom,t,o)};const ps=(e,t)=>{const o=e.dom;me(t,(e,t)=>{ms(o,t,e)})};const hs=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const ys=(e,t)=>M.from(hs(e,t));const bs=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};const vs=(e,t)=>{e.dom.removeAttribute(t)};const ks=e=>G(e.dom.attributes,(e,t)=>{e[t.name]=t.value;return e},{});const ws=e=>{e.dom.textContent="";Z(On(e),e=>{_s(e)})};const _s=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const xs=(e,t)=>$t.fromDom(e.dom.cloneNode(t));const Cs=e=>xs(e,false);const Ss=e=>xs(e,true);const zs=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;return On($t.fromDom(n))};const Ts=e=>e.dom.innerHTML;const Es=(e,t)=>{const o=vn(e);const n=o.dom;const s=$t.fromDom(n.createDocumentFragment());const r=zs(t,n);fs(s,r);ws(e);ds(e,s)};const Os=e=>{const t=$t.fromTag("div");const o=$t.fromDom(e.dom.cloneNode(true));ds(t,o);return Ts(t)};const As=e=>{if(Ln(e)){return"#shadow-root"}else{const t=Cs(e);return Os(t)}};const Ds=e=>new Promise((t,o)=>{const n=()=>{r();t(e)};const s=[Jn(e,"load",n),Jn(e,"error",()=>{r();o("Unable to load data from image: "+e.dom.src)})];const r=()=>Z(s,e=>e.unbind());if(e.dom.complete){n()}});const Ms=e=>e.style!==undefined&&h(e.style.getPropertyValue);const Ns=e=>{const t=pn(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return Fn($t.fromDom(t)).fold(()=>o.body.contains(t),_(Ns,Vn))};const Rs=()=>Bs($t.fromDom(document));const Bs=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return $t.fromDom(t)};const Ls=(e,t,o)=>{if(!c(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Ms(e)){e.style.setProperty(t,o)}};const Hs=(e,t)=>{if(Ms(e)){e.style.removeProperty(t)}};const Is=(e,t,o)=>{const n=e.dom;Ls(n,t,o)};const Ps=(e,t)=>{const o=e.dom;me(t,(e,t)=>{Ls(o,t,e)})};const Fs=(e,t)=>{const o=e.dom;me(t,(e,t)=>{e.fold(()=>{Hs(o,t)},e=>{Ls(o,t,e)})})};const Vs=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Ns(e)?js(o,t):s};const js=(e,t)=>Ms(e)?e.style.getPropertyValue(t):"";const Zs=(e,t)=>{const o=e.dom;const n=js(o,t);return M.from(n).filter(e=>e.length>0)};const Us=e=>{const t={};const o=e.dom;if(Ms(o)){for(let e=0;e<o.style.length;e++){const n=o.style.item(e);t[n]=o.style[n]}}return t};const qs=(e,t,o)=>{const n=$t.fromTag(e);Is(n,t,o);const s=Zs(n,t);return s.isSome()};const $s=(e,t)=>{const o=e.dom;Hs(o,t);if(at(ys(e,"style").map(Dt),"")){vs(e,"style")}};const Ws=e=>e.dom.offsetWidth;const Gs=(e,t)=>{const o=(t,o)=>{if(!y(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(Ms(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=Vs(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>G(t,(t,o)=>{const n=Vs(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s},0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const Ks=Gs("height",e=>{const t=e.dom;return Ns(e)?t.getBoundingClientRect().height:t.offsetHeight});const Ys=e=>Ks.get(e);const Xs=e=>Ks.getOuter(e);const Js=(e,t)=>{const o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"];const n=Ks.max(e,t,o);Is(e,"max-height",n+"px")};const Qs=e=>e.offsetWidth<=0&&e.offsetHeight<=0;const er=e=>!Qs(e.dom);const tr=Gs("width",e=>e.dom.offsetWidth);const or=Gs("width",e=>{const t=e.dom;return Ns(e)?t.getBoundingClientRect().width:t.offsetWidth});const nr=(e,t)=>tr.set(e,t);const sr=e=>tr.get(e);const rr=e=>tr.getOuter(e);const ar=e=>or.getOuter(e);const cr=(e,t)=>{const o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"];const n=tr.max(e,t,o);Is(e,"max-width",n+"px")};const ir=(e,t)=>{const o=(o,n)=>ir(e+o,t+n);return{left:e,top:t,translate:o}};const lr=ir;const dr=e=>{const t=e.getBoundingClientRect();return lr(t.left,t.top)};const ur=(e,t)=>{if(e!==undefined){return e}else{return t!==undefined?t:0}};const fr=e=>{const t=e.dom.ownerDocument;const o=t.body;const n=t.defaultView;const s=t.documentElement;if(o===e.dom){return lr(o.offsetLeft,o.offsetTop)}const r=ur(n===null||n===void 0?void 0:n.pageYOffset,s.scrollTop);const a=ur(n===null||n===void 0?void 0:n.pageXOffset,s.scrollLeft);const c=ur(s.clientTop,o.clientTop);const i=ur(s.clientLeft,o.clientLeft);return mr(e).translate(a-i,r-c)};const mr=e=>{const t=e.dom;const o=t.ownerDocument;const n=o.body;if(n===t){return lr(n.offsetLeft,n.offsetTop)}if(!Ns(e)){return lr(0,0)}return dr(t)};const gr=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return lr(o,n)};const pr=(e,t,o)=>{const n=o!==undefined?o.dom:document;const s=n.defaultView;if(s){s.scrollTo(e,t)}};const hr=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?M.from(t.dom.nodeValue):M.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const yr=hr(pn,"text");const br=e=>yr.get(e);const vr=(e,t)=>o=>kr(o)==="rtl"?t:e;const kr=e=>Vs(e,"direction")==="rtl"?"rtl":"ltr";const wr=(e,t)=>{const o=hs(e,t);return o===undefined||o===""?[]:o.split(" ")};const _r=(e,t,o)=>{const n=wr(e,t);const s=n.concat([o]);gs(e,t,s.join(" "));return true};const xr=(e,t,o)=>{const n=$(wr(e,t),e=>e!==o);if(n.length>0){gs(e,t,n.join(" "))}else{vs(e,t)}return false};var Cr=(e,t,o,n,s)=>{if(e(o,n)){return M.some(o)}else if(h(s)&&s(o)){return M.none()}else{return t(o,n,s)}};const Sr=(e,t,o)=>{let n=e.dom;const s=h(o)?o:A;while(n.parentNode){n=n.parentNode;const e=$t.fromDom(n);if(t(e)){return M.some(e)}else if(s(e)){break}}return M.none()};const zr=(e,t,o)=>{const n=(e,t)=>t(e);return Cr(n,Sr,e,t,o)};const Tr=(e,t)=>{const o=e.dom;if(!o.parentNode){return M.none()}return Er($t.fromDom(o.parentNode),o=>!po(e,o)&&t(o))};const Er=(e,t)=>{const o=e=>t($t.fromDom(e));const n=Y(e.dom.childNodes,o);return n.map($t.fromDom)};const Or=(e,t)=>{const o=e=>{for(let n=0;n<e.childNodes.length;n++){const s=$t.fromDom(e.childNodes[n]);if(t(s)){return M.some(s)}const r=o(e.childNodes[n]);if(r.isSome()){return r}}return M.none()};return o(e.dom)};const Ar=e=>go(e);const Dr=(e,t,o)=>Sr(e,e=>uo(e,t),o);const Mr=(e,t)=>Tr(e,e=>uo(e,t));const Nr=(e,t)=>Er(e,e=>uo(e,t));const Rr=(e,t)=>go(t,e);const Br=(e,t,o)=>{const n=(e,t)=>uo(e,t);return Cr(n,Dr,e,t,o)};const Lr=(e,t)=>{e.dom.checked=t};const Hr=e=>e.dom.checked;const Ir=e=>e.dom.classList!==undefined;const Pr=e=>wr(e,"class");const Fr=(e,t)=>_r(e,"class",t);const Vr=(e,t)=>xr(e,"class",t);const jr=(e,t)=>{if(I(Pr(e),t)){return Vr(e,t)}else{return Fr(e,t)}};const Zr=(e,t)=>{if(Ir(e)){e.dom.classList.add(t)}else{Fr(e,t)}};const Ur=e=>{const t=Ir(e)?e.dom.classList:Pr(e);if(t.length===0){vs(e,"class")}};const qr=(e,t)=>{if(Ir(e)){const o=e.dom.classList;o.remove(t)}else{Vr(e,t)}Ur(e)};const $r=(e,t)=>{const o=Ir(e)?e.dom.classList.toggle(t):jr(e,t);Ur(e);return o};const Wr=(e,t)=>Ir(e)&&e.dom.classList.contains(t);const Gr=(e,t)=>{Z(t,t=>{Zr(e,t)})};const Kr=(e,t)=>{Z(t,t=>{qr(e,t)})};const Yr=(e,t)=>{Z(t,t=>{$r(e,t)})};const Xr=(e,t)=>ee(t,t=>Wr(e,t));const Jr=e=>{const t=e.dom.classList;const o=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);if(n!==null){o[e]=n}}return o};const Qr=e=>Ir(e)?Jr(e):Pr(e);const ea=e=>e.dom.textContent;const ta=e=>e.dom.value;const oa=(e,t)=>{if(t===undefined){throw new Error("Value.set was undefined")}e.dom.value=t};const na=(e,t,o)=>$(zn(e,o),t);const sa=(e,t)=>mo(t,e);const ra=(e,t,o)=>zr(e,t,o).isSome();const aa=(e,t,o)=>Br(e,t,o).isSome();const ca=e=>h(e)?e:A;const ia=(e,t,o)=>{let n=e.dom;const s=ca(o);while(n.parentNode){n=n.parentNode;const e=$t.fromDom(n);const o=t(e);if(o.isSome()){return o}else if(s(e)){break}}return M.none()};const la=(e,t,o)=>{const n=t(e);const s=ca(o);return n.orThunk(()=>s(e)?M.none():ia(e,t,s))};const da=(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n});const ua={create:da};const fa=Te.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const ma=(e,t,o,n)=>e.fold(t,o,n);const ga=e=>e.fold(C,C,C);const pa=fa.before;const ha=fa.on;const ya=fa.after;const ba={before:pa,on:ha,after:ya,cata:ma,getStart:ga};const va=Te.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const ka=e=>va.exact(e.start,e.soffset,e.finish,e.foffset);const wa=e=>e.match({domRange:e=>$t.fromDom(e.startContainer),relative:(e,t)=>ba.getStart(e),exact:(e,t,o,n)=>e});const _a=va.domRange;const xa=va.relative;const Ca=va.exact;const Sa=e=>{const t=wa(e);return _n(t)};const za=ua.create;const Ta={domRange:_a,relative:xa,exact:Ca,exactFromRange:ka,getWin:Sa,range:za};const Ea=e=>M.from(e.getSelection());const Oa=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0);const o=e.getRangeAt(e.rangeCount-1);return M.some(ua.create($t.fromDom(t.startContainer),t.startOffset,$t.fromDom(o.endContainer),o.endOffset))}else{return M.none()}};const Aa=e=>{if(e.anchorNode===null||e.focusNode===null){return Oa(e)}else{const t=$t.fromDom(e.anchorNode);const o=$t.fromDom(e.focusNode);return Bn(t,e.anchorOffset,o,e.focusOffset)?M.some(ua.create(t,e.anchorOffset,o,e.focusOffset)):Oa(e)}};const Da=e=>Ea(e).filter(e=>e.rangeCount>0).bind(Aa);const Ma=(e,t)=>{const o=ro(e,t);return Jt(o)};const Na=(e,t)=>{const o=ro(e,t);return Qt(o)};const Ra={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]};const Ba=(()=>{const e="[0-9]+";const t="[+-]?"+e;const o="[eE]"+t;const n="\\.";const s=e=>`(?:${e})?`;const r=["Infinity",e+n+s(e)+s(o),n+e+s(o),e+s(o)].join("|");const a=`[+-]?(?:${r})`;return new RegExp(`^(${a})(.*)$`)})();const La=(e,t)=>P(t,t=>P(Ra[t],t=>e===t));const Ha=(e,t)=>{const o=M.from(Ba.exec(e));return o.bind(e=>{const o=Number(e[1]);const n=e[2];if(La(n,t)){return M.some({value:o,unit:n})}else{return M.none()}})};const Ia=(e,t)=>Ha(e,t).map(({value:e,unit:t})=>e+t);const Pa=e=>{const t=e===undefined?window:e;if(nn().browser.isFirefox()){return M.none()}else{return M.from(t.visualViewport)}};const Fa=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Va=e=>{const t=e===undefined?window:e;const o=t.document;const n=gr($t.fromDom(o));return Pa(t).fold(()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return Fa(n.left,n.top,o,s)},e=>Fa(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height))};const ja=(e,t)=>{const o=e.view(t);return o.fold(x([]),t=>{const o=e.owner(t);const n=ja(e,o);return[t].concat(n)})};const Za=(e,t)=>{const o=t.owner(e);const n=ja(t,o);return M.some(n)};const Ua=e=>{var t;const o=e.dom===document?M.none():M.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement);return o.map($t.fromDom)};const qa=e=>vn(e);var $a=Object.freeze({__proto__:null,view:Ua,owner:qa});const Wa=e=>{const t=ts();const o=gr(t);const n=Za(e,$a);return n.fold(z(fr,e),t=>{const n=mr(e);const s=W(t,(e,t)=>{const o=mr(t);return{left:e.left+o.left,top:e.top+o.top}},{left:0,top:0});return lr(s.left+n.left+o.left,s.top+n.top+o.top)})};const Ga=(e,t,o)=>({point:e,width:t,height:o});const Ka=(e,t,o,n)=>({x:e,y:t,width:o,height:n});const Ya=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Xa=e=>{const t=fr(e);const o=rr(e);const n=Xs(e);return Ya(t.left,t.top,o,n)};const Ja=e=>{const t=Wa(e);const o=rr(e);const n=Xs(e);return Ya(t.left,t.top,o,n)};const Qa=(e,t)=>{const o=Math.max(e.x,t.x);const n=Math.max(e.y,t.y);const s=Math.min(e.right,t.right);const r=Math.min(e.bottom,t.bottom);const a=s-o;const c=r-n;return Ya(o,n,a,c)};const ec=(e,t)=>G(t,(e,t)=>Qa(e,t),e);const tc=()=>Va(window);const oc=(e,t)=>po(e.element,t.event.target);const nc=e=>{const t=at(Zs(e,"position"),"fixed");const o=t?M.none():Tn(e);return o.orThunk(()=>{const t=$t.fromTag("span");return xn(e).bind(e=>{ds(e,t);const o=Tn(t);_s(t);return o})})};const sc=e=>nc(e).map(fr).getOrThunk(()=>lr(0,0));const rc=(e,t)=>{const o=M.from(hs(e,"id")).getOrThunk(()=>{const e=et("aria");gs(t,"id",e);return e});gs(e,"aria-describedby",o)};const ac=e=>{vs(e,"aria-describedby")};var cc;(function(e){e[e["Error"]=0]="Error";e[e["Value"]=1]="Value"})(cc||(cc={}));const ic=(e,t,o)=>e.stype===cc.Error?t(e.serror):o(e.svalue);const lc=e=>{const t=[];const o=[];Z(e,e=>{ic(e,e=>o.push(e),e=>t.push(e))});return{values:t,errors:o}};const dc=(e,t)=>{if(e.stype===cc.Error){return{stype:cc.Error,serror:t(e.serror)}}else{return e}};const uc=(e,t)=>{if(e.stype===cc.Value){return{stype:cc.Value,svalue:t(e.svalue)}}else{return e}};const fc=(e,t)=>{if(e.stype===cc.Value){return t(e.svalue)}else{return e}};const mc=(e,t)=>{if(e.stype===cc.Error){return t(e.serror)}else{return e}};const gc=e=>({stype:cc.Value,svalue:e});const pc=e=>({stype:cc.Error,serror:e});const hc=e=>ic(e,Fe.error,Fe.value);const yc=e=>e.fold(pc,gc);const bc={fromResult:yc,toResult:hc,svalue:gc,partition:lc,serror:pc,bind:fc,bindError:mc,map:uc,mapError:dc,fold:ic};const vc=e=>i(e)&&ue(e).length>100?" removed due to size":JSON.stringify(e,null,2);const kc=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:x("... (only showing first ten failures)")}]):e;return j(t,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())};const wc=(e,t)=>bc.serror([{path:e,getErrorInfo:t}]);const _c=(e,t,o)=>wc(e,()=>'Could not find valid *required* value for "'+t+'" in '+vc(o));const xc=(e,t)=>wc(e,()=>'Choice schema did not contain choice key: "'+t+'"');const Cc=(e,t,o)=>wc(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+vc(t));const Sc=(e,t)=>wc(e,()=>"There are unsupported fields: ["+t.join(", ")+"] specified");const zc=(e,t)=>wc(e,x(t));const Tc=e=>{const t=(t,o)=>bc.bindError(e(o),e=>zc(t,e));const o=x("val");return{extract:t,toString:o}};const Ec=Tc(bc.svalue);const Oc=x(Ec);const Ac=(e,t)=>Tc(o=>{const n=typeof o;return e(o)?bc.svalue(o):bc.serror(`Expected type: ${t} but got: ${n}`)});const Dc=Ac(y,"number");const Mc=Ac(c,"string");const Nc=Ac(f,"boolean");const Rc=Ac(h,"function");const Bc=e=>{if(Object(e)!==e){return true}switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true;case"Array":case"Object":return Object.keys(e).every(t=>Bc(e[t]));default:return false}};const Lc=Tc(e=>{if(Bc(e)){return bc.svalue(e)}else{return bc.serror("Expected value to be acceptable for sending via postMessage")}});const Hc=()=>({tag:"required",process:{}});const Ic=e=>({tag:"defaultedThunk",process:e});const Pc=e=>Ic(x(e));const Fc=()=>({tag:"option",process:{}});const Vc=e=>({tag:"mergeWithThunk",process:e});const jc=e=>Vc(x(e));const Zc=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n});const Uc=(e,t)=>({tag:"custom",newKey:e,instantiator:t});const qc=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}};const $c=(e,t)=>e.length>0?bc.svalue(st(t,rt.apply(undefined,e))):bc.svalue(t);const Wc=e=>w(bc.serror,J)(e);const Gc=(e,t)=>{const o=bc.partition(e);return o.errors.length>0?Wc(o.errors):$c(o.values,t)};const Kc=e=>{const t=bc.partition(e);return t.errors.length>0?Wc(t.errors):bc.svalue(t.values)};const Yc={consolidateObj:Gc,consolidateArr:Kc};const Xc=(e,t,o,n)=>xe(t,o).fold(()=>_c(e,o,t),n);const Jc=(e,t,o,n)=>{const s=xe(e,t).getOrThunk(()=>o(e));return n(s)};const Qc=(e,t,o)=>o(xe(e,t));const ei=(e,t,o,n)=>{const s=xe(e,t).map(t=>t===true?o(e):t);return n(s)};const ti=(e,t,o,n,s)=>{const r=e=>s.extract(t.concat([n]),e);const a=e=>e.fold(()=>bc.svalue(M.none()),e=>{const o=s.extract(t.concat([n]),e);return bc.map(o,M.some)});switch(e.tag){case"required":return Xc(t,o,n,r);case"defaultedThunk":return Jc(o,n,e.process,r);case"option":return Qc(o,n,a);case"defaultedOptionThunk":return ei(o,n,e.process,a);case"mergeWithThunk":{return Jc(o,n,x({}),t=>{const n=st(e.process(o),t);return r(n)})}}};const oi=(e,t,o)=>{const n={};const s=[];for(const r of o){qc(r,(o,r,a,c)=>{const i=ti(a,e,t,o,c);bc.fold(i,e=>{s.push(...e)},e=>{n[r]=e})},(e,o)=>{n[e]=o(t)})}return s.length>0?bc.serror(s):bc.svalue(n)};const ni=e=>{const t=(t,o)=>e().extract(t,o);const o=()=>e().toString();return{extract:t,toString:o}};const si=e=>ue(ve(e,p));const ri=e=>{const t=ai(e);const o=W(e,(e,t)=>qc(t,t=>st(e,{[t]:true}),x(e)),{});const n=(e,n)=>{const s=f(n)?[]:si(n);const r=$(s,e=>!Se(o,e));return r.length===0?t.extract(e,n):Sc(e,r)};return{extract:n,toString:t.toString}};const ai=e=>{const t=(t,o)=>oi(t,o,e);const o=()=>{const t=j(e,e=>qc(e,(e,t,o,n)=>e+" -> "+n.toString(),(e,t)=>"state("+e+")"));return"obj{\n"+t.join("\n")+"}"};return{extract:t,toString:o}};const ci=e=>{const t=(t,o)=>{const n=j(o,(o,n)=>e.extract(t.concat(["["+n+"]"]),o));return Yc.consolidateArr(n)};const o=()=>"array("+e.toString()+")";return{extract:t,toString:o}};const ii=(e,t)=>{const o=t!==undefined?t:C;const n=(t,n)=>{const s=[];for(const r of e){const e=r.extract(t,n);if(e.stype===cc.Value){return{stype:cc.Value,svalue:o(e.svalue)}}s.push(e)}return Yc.consolidateArr(s)};const s=()=>"oneOf("+j(e,e=>e.toString()).join(", ")+")";return{extract:n,toString:s}};const li=(e,t)=>{const o=(t,o)=>ci(Tc(e)).extract(t,o);const n=(e,n)=>{const s=ue(n);const r=o(e,s);return bc.bind(r,o=>{const s=j(o,e=>Zc(e,e,Hc(),t));return ai(s).extract(e,n)})};const s=()=>"setOf("+t.toString()+")";return{extract:n,toString:s}};const di=(e,t)=>{const o=It(t);const n=(e,t)=>o().extract(e,t);const s=()=>o().toString();return{extract:n,toString:s}};const ui=w(ci,ai);const fi=(e,t,o,n)=>{const s=xe(o,n);return s.fold(()=>Cc(e,o,n),o=>o.extract(e.concat(["branch: "+n]),t))};const mi=(e,t)=>{const o=(o,n)=>{const s=xe(n,e);return s.fold(()=>xc(o,e),e=>fi(o,n,t,e))};const n=()=>"chooseOn("+e+"). Possible values: "+ue(t);return{extract:o,toString:n}};const gi=()=>ci(Ec);const pi=e=>Tc(t=>e(t).fold(bc.serror,bc.svalue));const hi=(e,t)=>li(t=>bc.fromResult(e(t)),t);const yi=(e,t,o)=>{const n=t.extract([e],o);return bc.mapError(n,e=>({input:o,errors:e}))};const bi=(e,t,o)=>bc.toResult(yi(e,t,o));const vi=e=>e.fold(e=>{throw new Error(wi(e))},C);const ki=(e,t,o)=>vi(bi(e,t,o));const wi=e=>"Errors: \n"+kc(e.errors).join("\n")+"\n\nInput object: "+vc(e.input);const _i=(e,t)=>mi(e,ge(t,ai));const xi=(e,t)=>di(e,t);const Ci=Zc;const Si=Uc;const zi=e=>pi(t=>I(e,t)?Fe.value(t):Fe.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`));const Ti=e=>Ci(e,e,Hc(),Oc());const Ei=(e,t)=>Ci(e,e,Hc(),t);const Oi=e=>Ei(e,Dc);const Ai=e=>Ei(e,Mc);const Di=(e,t)=>Ci(e,e,Hc(),zi(t));const Mi=e=>Ei(e,Rc);const Ni=(e,t)=>Ci(e,e,Fc(),Tc(o=>bc.serror("The field: "+e+" is forbidden. "+t)));const Ri=(e,t)=>Ci(e,e,Hc(),ai(t));const Bi=(e,t)=>Ci(e,e,Hc(),ui(t));const Li=(e,t)=>Ci(e,e,Hc(),ci(t));const Hi=e=>Ci(e,e,Fc(),Oc());const Ii=(e,t)=>Ci(e,e,Fc(),t);const Pi=e=>Ii(e,Dc);const Fi=e=>Ii(e,Mc);const Vi=(e,t)=>Ii(e,zi(t));const ji=e=>Ii(e,Rc);const Zi=(e,t)=>Ii(e,ci(t));const Ui=(e,t)=>Ii(e,ai(t));const qi=(e,t)=>Ii(e,ri(t));const $i=(e,t)=>Ci(e,e,Pc(t),Oc());const Wi=(e,t,o)=>Ci(e,e,Pc(t),o);const Gi=(e,t)=>Wi(e,t,Dc);const Ki=(e,t)=>Wi(e,t,Mc);const Yi=(e,t,o)=>Wi(e,t,zi(o));const Xi=(e,t)=>Wi(e,t,Nc);const Ji=(e,t)=>Wi(e,t,Rc);const Qi=(e,t)=>Wi(e,t,Lc);const el=(e,t,o)=>Wi(e,t,ci(o));const tl=(e,t,o)=>Wi(e,t,ai(o));const ol=(e,t)=>{const o={};me(e,(e,n)=>{if(!I(t,n)){o[n]=e}});return o};const nl=(e,t)=>({[e]:t});const sl=e=>{const t={};Z(e,e=>{t[e.key]=e.value});return t};const rl=(e,t)=>ol(e,t);const al=(e,t)=>nl(e,t);const cl=e=>sl(e);const il=(e,t)=>e.length===0?Fe.value(t):Fe.value(st(t,rt.apply(undefined,e)));const ll=e=>Fe.error(J(e));const dl=(e,t)=>{const o=yt(e);return o.errors.length>0?ll(o.errors):il(o.values,t)};const ul=x;const fl=ul("touchstart");const ml=ul("touchmove");const gl=ul("touchend");const pl=ul("touchcancel");const hl=ul("mousedown");const yl=ul("mousemove");const bl=ul("mouseout");const vl=ul("mouseup");const kl=ul("mouseover");const wl=ul("focusin");const _l=ul("focusout");const xl=ul("keydown");const Cl=ul("keyup");const Sl=ul("input");const zl=ul("change");const Tl=ul("click");const El=ul("transitioncancel");const Ol=ul("transitionend");const Al=ul("transitionstart");const Dl=ul("selectstart");const Ml=e=>x("alloy."+e);const Nl={tap:Ml("tap")};const Rl=Ml("focus");const Bl=Ml("blur.post");const Ll=Ml("paste.post");const Hl=Ml("receive");const Il=Ml("execute");const Pl=Ml("focus.item");const Fl=Nl.tap;const Vl=Ml("longpress");const jl=Ml("sandbox.close");const Zl=Ml("typeahead.cancel");const Ul=Ml("system.init");const ql=Ml("system.touchmove");const $l=Ml("system.touchend");const Wl=Ml("system.scroll");const Gl=Ml("system.resize");const Kl=Ml("system.attached");const Yl=Ml("system.detached");const Xl=Ml("system.dismissRequested");const Jl=Ml("system.repositionRequested");const Ql=Ml("focusmanager.shifted");const ed=Ml("slotcontainer.visibility");const td=Ml("system.external.element.scroll");const od=Ml("change.tab");const nd=Ml("dismiss.tab");const sd=Ml("highlight");const rd=Ml("dehighlight");const ad=e=>As(e);const cd="unknown";const id=true;var ld;(function(e){e[e["STOP"]=0]="STOP";e[e["NORMAL"]=1]="NORMAL";e[e["LOGGING"]=2]="LOGGING"})(ld||(ld={}));const dd=Ee({});const ud=(e,t)=>{const o=[];const n=(new Date).getTime();return{logEventCut:(e,t,n)=>{o.push({outcome:"cut",target:t,purpose:n})},logEventStopped:(e,t,n)=>{o.push({outcome:"stopped",target:t,purpose:n})},logNoParent:(e,t,n)=>{o.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:(e,t)=>{o.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,n)=>{o.push({outcome:"response",purpose:n,target:t})},write:()=>{const s=(new Date).getTime();if(I(["mousemove","mouseover","mouseout",Ul()],e)){return}console.log(e,{event:e,time:s-n,target:t.dom,sequence:j(o,e=>{if(!I(["cut","stopped","response"],e.outcome)){return e.outcome}else{return"{"+e.purpose+"} "+e.outcome+" at ("+ad(e.target)+")"}})})}}};const fd=(e,t,o)=>{const n=xe(dd.get(),e).orThunk(()=>{const t=ue(dd.get());return de(t,t=>e.indexOf(t)>-1?M.some(dd.get()[t]):M.none())}).getOr(ld.NORMAL);switch(n){case ld.NORMAL:return o(yd());case ld.LOGGING:{const n=ud(e,t);const s=o(n);n.write();return s}case ld.STOP:return true}};const md=["alloy/data/Fields","alloy/debugging/Debugging"];const gd=()=>{if(id===false){return cd}const e=new Error;if(e.stack!==undefined){const t=e.stack.split("\n");return Y(t,e=>e.indexOf("alloy")>0&&!P(md,t=>e.indexOf(t)>-1)).getOr(cd)}else{return cd}};const pd={logEventCut:v,logEventStopped:v,logNoParent:v,logEventNoHandlers:v,logEventResponse:v,write:v};const hd=(e,t,o)=>fd(e,t,o);const yd=x(pd);const bd=x([Ti("menu"),Ti("selectedMenu")]);const vd=x([Ti("item"),Ti("selectedItem")]);x(ai(vd().concat(bd())));const kd=x(ai(vd()));const wd=Ri("initSize",[Ti("numColumns"),Ti("numRows")]);const _d=()=>Ei("markers",kd());const xd=()=>Ri("markers",[Ti("backgroundMenu")].concat(bd()).concat(vd()));const Cd=e=>Ri("markers",j(e,Ti));const Sd=(e,t,o)=>{gd();return Ci(t,t,o,pi(e=>Fe.value((...t)=>e.apply(undefined,t))))};const zd=e=>Sd("onHandler",e,Pc(v));const Td=e=>Sd("onKeyboardHandler",e,Pc(M.none));const Ed=e=>Sd("onHandler",e,Hc());const Od=e=>Sd("onKeyboardHandler",e,Hc());const Ad=(e,t)=>Si(e,x(t));const Dd=e=>Si(e,C);const Md=x(wd);const Nd=(e,t,o)=>{const n=o.toString();const s=n.indexOf(")")+1;const r=n.indexOf("(");const a=n.substring(r+1,s-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:t,parameters:Rd(a.slice(0,1).concat(a.slice(3)))});return e};const Rd=e=>j(e,e=>Ot(e,"/*")?e.substring(0,e.length-"/*".length):e);const Bd=(e,t)=>{const o=e.toString();const n=o.indexOf(")")+1;const s=o.indexOf("(");const r=o.substring(s+1,n-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:t,parameters:Rd(r)});return e};const Ld=(e,t)=>{const o=t.toString();const n=o.indexOf(")")+1;const s=o.indexOf("(");const r=o.substring(s+1,n-1).split(/,\s*/);e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Rd(r.slice(1))});return e};const Hd=(e,t)=>{let o=null;const n=(...n)=>{o=setTimeout(()=>{e.apply(null,n);o=null},t)};const s=()=>{if(o!==null){clearTimeout(o);o=null}};return{cancel:s,schedule:n}};const Id=5;const Pd=400;const Fd=e=>{const t=e.raw;if(t.touches===undefined||t.touches.length!==1){return M.none()}return M.some(t.touches[0])};const Vd=(e,t)=>{const o=Math.abs(e.clientX-t.x);const n=Math.abs(e.clientY-t.y);return o>Id||n>Id};const jd=e=>{const t=wt();const o=Ee(false);const n=Hd(t=>{e.triggerEvent(Vl(),t);o.set(true)},Pd);const s=e=>{Fd(e).each(s=>{n.cancel();const r={x:s.clientX,y:s.clientY,target:e.target};n.schedule(e);o.set(false);t.set(r)});return M.none()};const r=e=>{n.cancel();Fd(e).each(e=>{t.on(o=>{if(Vd(e,o)){t.clear()}})});return M.none()};const a=s=>{n.cancel();const r=e=>po(e.target,s.target);return t.get().filter(r).map(t=>{if(o.get()){s.prevent();return false}else{return e.triggerEvent(Fl(),s)}})};const c=cl([{key:fl(),value:s},{key:ml(),value:r},{key:gl(),value:a}]);const i=(e,t)=>xe(c,t).bind(t=>t(e));return{fireIfReady:i}};var Zd;(function(e){e["OnFocusMode"]="onFocus";e["OnEnterOrSpaceMode"]="onEnterOrSpace";e["OnApiMode"]="onApi"})(Zd||(Zd={}));const Ud="placeholder";const qd=Te.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]);const $d=e=>Ce(e,"uiType");const Wd=(e,t,o,n)=>{if(e.exists(e=>e!==o.owner)){return qd.single(true,x(o))}return xe(n,o.name).fold(()=>{throw new Error("Unknown placeholder component: "+o.name+"\nKnown: ["+ue(n)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(o,null,2))},e=>e.replace())};const Gd=(e,t,o,n)=>{if($d(o)&&o.uiType===Ud){return Wd(e,t,o,n)}else{return qd.single(false,x(o))}};const Kd=(e,t,o,n)=>{const s=Gd(e,t,o,n);return s.fold((s,r)=>{const a=$d(o)?r(t,o.config,o.validated):r(t);const c=xe(a,"components").getOr([]);const i=Q(c,o=>Kd(e,t,o,n));return[{...a,components:i}]},(e,n)=>{if($d(o)){const e=n(t,o.config,o.validated);const s=o.validated.preprocess.getOr(C);return s(e)}else{return n(t)}})};const Yd=(e,t,o,n)=>Q(o,o=>Kd(e,t,o,n));const Xd=(e,t)=>{let o=false;const n=()=>o;const s=()=>{if(o){throw new Error("Trying to use the same placeholder more than once: "+e)}o=true;return t};const r=()=>t.fold((e,t)=>e,(e,t)=>e);return{name:x(e),required:r,used:n,replace:s}};const Jd=(e,t,o,n)=>{const s=ge(n,(e,t)=>Xd(t,e));const r=Yd(e,t,o,s);me(s,o=>{if(o.used()===false&&o.required()){throw new Error("Placeholder: "+o.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}});return r};const Qd=qd.single;const eu=qd.multiple;const tu=x(Ud);const ou=Te.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]);const nu=$i("factory",{sketch:C});const su=$i("schema",[]);const ru=Ti("name");const au=Ci("pname","pname",Ic(e=>"<alloy."+et(e.name)+">"),Oc());const cu=Si("schema",()=>[Hi("preprocess")]);const iu=$i("defaults",x({}));const lu=$i("overrides",x({}));const du=ai([nu,su,ru,au,iu,lu]);const uu=ai([nu,su,ru,iu,lu]);const fu=ai([nu,su,ru,au,iu,lu]);const mu=ai([nu,cu,ru,Ti("unit"),au,iu,lu]);const gu=e=>e.fold(M.some,M.none,M.some,M.some);const pu=e=>{const t=e=>e.name;return e.fold(t,t,t,t)};const hu=e=>e.fold(C,C,C,C);const yu=(e,t)=>o=>{const n=ki("Converting part type",t,o);return e(n)};const bu=yu(ou.required,du);const vu=yu(ou.external,uu);const ku=yu(ou.optional,fu);const wu=yu(ou.group,mu);const _u=x("entirety");var xu=Object.freeze({__proto__:null,required:bu,external:vu,optional:ku,group:wu,asNamedPart:gu,name:pu,asCommon:hu,original:_u});const Cu=(e,t,o,n)=>st(t.defaults(e,o,n),o,{uid:e.partUids[t.name]},t.overrides(e,o,n));const Su=(e,t,o)=>{const n={};const s={};Z(o,e=>{e.fold(e=>{n[e.pname]=Qd(true,(t,o,n)=>e.factory.sketch(Cu(t,e,o,n)))},e=>{const o=t.parts[e.name];s[e.name]=x(e.factory.sketch(Cu(t,e,o[_u()]),o))},e=>{n[e.pname]=Qd(false,(t,o,n)=>e.factory.sketch(Cu(t,e,o,n)))},e=>{n[e.pname]=eu(true,(t,o,n)=>{const s=t[e.name];return j(s,o=>e.factory.sketch(st(e.defaults(t,o,n),o,e.overrides(t,o))))})})});return{internals:x(n),externals:x(s)}};const zu=(e,t)=>{const o={};Z(t,t=>{gu(t).each(t=>{const n=Tu(e,t.pname);o[t.name]=o=>{const s=ki("Part: "+t.name+" in "+e,ai(t.schema),o);return{...n,config:o,validated:s}}})});return o};const Tu=(e,t)=>({uiType:tu(),owner:e,name:t});const Eu=(e,t,o)=>({uiType:tu(),owner:e,name:t,config:o,validated:{}});const Ou=e=>Q(e,e=>e.fold(M.none,M.some,M.none,M.none).map(e=>Ri(e.name,e.schema.concat([Dd(_u())]))).toArray());const Au=e=>j(e,pu);const Du=(e,t,o)=>Su(e,t,o);const Mu=(e,t,o)=>Jd(M.some(e),t,t.components,o);const Nu=(e,t,o)=>{const n=t.partUids[o];return e.getSystem().getByUid(n).toOptional()};const Ru=(e,t,o)=>Nu(e,t,o).getOrDie("Could not find part: "+o);const Bu=(e,t,o)=>{const n={};const s=t.partUids;const r=e.getSystem();Z(o,e=>{n[e]=x(r.getByUid(s[e]))});return n};const Lu=(e,t)=>{const o=e.getSystem();return ge(t.partUids,(e,t)=>x(o.getByUid(e)))};const Hu=e=>ue(e.partUids);const Iu=(e,t,o)=>{const n={};const s=t.partUids;const r=e.getSystem();Z(o,e=>{n[e]=x(r.getByUid(s[e]).getOrDie())});return n};const Pu=(e,t)=>{const o=Au(t);return cl(j(o,t=>({key:t,value:e+"-"+t})))};const Fu=e=>Ci("partUids","partUids",Vc(t=>Pu(t.uid,e)),Oc());var Vu=Object.freeze({__proto__:null,generate:zu,generateOne:Eu,schemas:Ou,names:Au,substitutes:Du,components:Mu,defaultUids:Pu,defaultUidsSchema:Fu,getAllParts:Lu,getAllPartNames:Hu,getPart:Nu,getPartOrDie:Ru,getParts:Bu,getPartsOrDie:Iu});const ju=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"];const Zu=(e,t,o,n=1)=>{const s=e*n;const r=t*n;const a=e=>xe(o,e).getOr([]);const c=(e,t,o)=>{const n=oe(ju,o);return{offset:lr(e,t),classesOn:Q(o,a),classesOff:Q(n,a)}};return{southeast:()=>c(-e,t,["top","alignLeft"]),southwest:()=>c(e,t,["top","alignRight"]),south:()=>c(-e/2,t,["top","alignCentre"]),northeast:()=>c(-e,-t,["bottom","alignLeft"]),northwest:()=>c(e,-t,["bottom","alignRight"]),north:()=>c(-e/2,-t,["bottom","alignCentre"]),east:()=>c(e,-t/2,["valignCentre","left"]),west:()=>c(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>c(s,r,["top","alignLeft","inset"]),insetNorthwest:()=>c(-s,r,["top","alignRight","inset"]),insetNorth:()=>c(-s/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>c(s,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>c(-s,-r,["bottom","alignRight","inset"]),insetSouth:()=>c(-s/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>c(-s,-r/2,["valignCentre","right","inset"]),insetWest:()=>c(s,-r/2,["valignCentre","left","inset"])}};const Uu=()=>Zu(0,0,{});const qu=(e,t,o,n,s,r,a,c=false)=>({x:e,y:t,bubble:o,direction:n,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:c});const $u=Te.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]);const Wu=(e,t,o,n,s,r,a,c,i)=>e.fold(t,o,n,s,r,a,c,i);const Gu=(e,t,o,n)=>e.fold(t,t,n,n,t,n,o,o);const Ku=(e,t,o,n)=>e.fold(t,n,t,n,o,o,t,n);const Yu=$u.southeast;const Xu=$u.southwest;const Ju=$u.northeast;const Qu=$u.northwest;const ef=$u.south;const tf=$u.north;const of=$u.east;const nf=$u.west;const sf=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}};const rf=(e,t)=>ne(["left","right","top","bottom"],o=>xe(t,o).map(t=>sf(e,t)));const af=(e,t,o)=>{const n=(n,s)=>t[n].map(t=>{const r=n==="top"||n==="bottom";const a=r?o.top:o.left;const c=n==="left"||n==="top"?Math.max:Math.min;const i=c(t,s)+a;return r?Xe(i,e.y,e.bottom):Xe(i,e.x,e.right)}).getOr(s);const s=n("left",e.x);const r=n("top",e.y);const a=n("right",e.right);const c=n("bottom",e.bottom);return Ya(s,r,a-s,c-r)};const cf="layout";const lf=e=>e.x;const df=(e,t)=>e.x+e.width/2-t.width/2;const uf=(e,t)=>e.x+e.width-t.width;const ff=(e,t)=>e.y-t.height;const mf=e=>e.y+e.height;const gf=(e,t)=>e.y+e.height/2-t.height/2;const pf=e=>e.x+e.width;const hf=(e,t)=>e.x-t.width;const yf=(e,t,o)=>qu(lf(e),mf(e),o.southeast(),Yu(),"southeast",rf(e,{left:1,top:3}),cf);const bf=(e,t,o)=>qu(uf(e,t),mf(e),o.southwest(),Xu(),"southwest",rf(e,{right:0,top:3}),cf);const vf=(e,t,o)=>qu(lf(e),ff(e,t),o.northeast(),Ju(),"northeast",rf(e,{left:1,bottom:2}),cf);const kf=(e,t,o)=>qu(uf(e,t),ff(e,t),o.northwest(),Qu(),"northwest",rf(e,{right:0,bottom:2}),cf);const wf=(e,t,o)=>qu(df(e,t),ff(e,t),o.north(),tf(),"north",rf(e,{bottom:2}),cf);const _f=(e,t,o)=>qu(df(e,t),mf(e),o.south(),ef(),"south",rf(e,{top:3}),cf);const xf=(e,t,o)=>qu(pf(e),gf(e,t),o.east(),of(),"east",rf(e,{left:0}),cf);const Cf=(e,t,o)=>qu(hf(e,t),gf(e,t),o.west(),nf(),"west",rf(e,{right:1}),cf);const Sf=()=>[yf,bf,vf,kf,_f,wf,xf,Cf];const zf=()=>[bf,yf,kf,vf,_f,wf,xf,Cf];const Tf=()=>[vf,kf,yf,bf,wf,_f];const Ef=()=>[kf,vf,bf,yf,wf,_f];const Of=()=>[yf,bf,vf,kf,_f,wf];const Af=()=>[bf,yf,kf,vf,_f,wf];const Df="data-alloy-placement";const Mf=(e,t)=>{gs(e,Df,t)};const Nf=e=>ys(e,Df);const Rf=e=>vs(e,Df);const Bf="layout-inset";const Lf=e=>e.x;const Hf=(e,t)=>e.x+e.width/2-t.width/2;const If=(e,t)=>e.x+e.width-t.width;const Pf=e=>e.y;const Ff=(e,t)=>e.y+e.height-t.height;const Vf=(e,t)=>e.y+e.height/2-t.height/2;const jf=(e,t,o)=>qu(If(e,t),Ff(e,t),o.insetSouthwest(),Qu(),"southwest",rf(e,{right:0,bottom:3}),Bf);const Zf=(e,t,o)=>qu(Lf(e),Ff(e,t),o.insetSoutheast(),Ju(),"southeast",rf(e,{left:1,bottom:3}),Bf);const Uf=(e,t,o)=>qu(If(e,t),Pf(e),o.insetNorthwest(),Xu(),"northwest",rf(e,{right:0,top:2}),Bf);const qf=(e,t,o)=>qu(Lf(e),Pf(e),o.insetNortheast(),Yu(),"northeast",rf(e,{left:1,top:2}),Bf);const $f=(e,t,o)=>qu(Hf(e,t),Pf(e),o.insetNorth(),ef(),"north",rf(e,{top:2}),Bf);const Wf=(e,t,o)=>qu(Hf(e,t),Ff(e,t),o.insetSouth(),tf(),"south",rf(e,{bottom:3}),Bf);const Gf=(e,t,o)=>qu(If(e,t),Vf(e,t),o.insetEast(),nf(),"east",rf(e,{right:0}),Bf);const Kf=(e,t,o)=>qu(Lf(e),Vf(e,t),o.insetWest(),of(),"west",rf(e,{left:1}),Bf);const Yf=e=>{switch(e){case"north":return $f;case"northeast":return qf;case"northwest":return Uf;case"south":return Wf;case"southeast":return Zf;case"southwest":return jf;case"east":return Gf;case"west":return Kf}};const Xf=(e,t,o,n,s)=>{const r=Nf(n).map(Yf).getOr($f);return r(e,t,o,n,s)};const Jf=e=>{switch(e){case"north":return Wf;case"northeast":return Zf;case"northwest":return jf;case"south":return $f;case"southeast":return qf;case"southwest":return Uf;case"east":return Kf;case"west":return Gf}};const Qf=(e,t,o,n,s)=>{const r=Nf(n).map(Jf).getOr($f);return r(e,t,o,n,s)};const em=(e,t)=>{Js(e,Math.floor(t))};const tm=x((e,t)=>{em(e,t);Ps(e,{"overflow-x":"hidden","overflow-y":"auto"})});const om=x((e,t)=>{em(e,t)});const nm=x((e,t)=>{cr(e,Math.floor(t))});var sm;(function(e){e["TopToBottom"]="toptobottom";e["BottomToTop"]="bottomtotop"})(sm||(sm={}));const rm="data-alloy-vertical-dir";const am=e=>ra(e,e=>gn(e)&&hs(e,"data-alloy-vertical-dir")===sm.BottomToTop);var cm;(function(e){e[e["HighlightMenuAndItem"]=0]="HighlightMenuAndItem";e[e["HighlightJustMenu"]=1]="HighlightJustMenu";e[e["HighlightNone"]=2]="HighlightNone"})(cm||(cm={}));const im={init:()=>lm({readState:x("No State required")})};const lm=e=>e;const dm={can:D,abort:A,run:v};const um=e=>{if(!Se(e,"can")&&!Se(e,"abort")&&!Se(e,"run")){throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!")}return{...dm,...e}};const fm=(e,t)=>(...o)=>G(e,(e,n)=>e&&t(n).apply(undefined,o),true);const mm=(e,t)=>(...o)=>G(e,(e,n)=>e||t(n).apply(undefined,o),false);const gm=e=>h(e)?{can:D,abort:A,run:e}:e;const pm=e=>{const t=fm(e,e=>e.can);const o=mm(e,e=>e.abort);const n=(...t)=>{Z(e,e=>{e.run.apply(undefined,t)})};return{can:t,abort:o,run:n}};const hm=(e,t)=>{km(e,e.element,t,{})};const ym=(e,t,o)=>{km(e,e.element,t,o)};const bm=e=>{hm(e,Il())};const vm=(e,t,o)=>{km(e,t,o,{})};const km=(e,t,o,n)=>{const s={target:t,...n};e.getSystem().triggerEvent(o,t,s)};const wm=(e,t,o,n)=>{const s={...n,target:t};e.getSystem().triggerEvent(o,t,s)};const _m=(e,t,o,n)=>{e.getSystem().triggerEvent(o,t,n.event)};const xm=e=>cl(e);const Cm=(e,t)=>({key:e,value:um({abort:t})});const Sm=(e,t)=>({key:e,value:um({can:t})});const zm=e=>({key:e,value:um({run:(e,t)=>{t.event.prevent()}})});const Tm=(e,t)=>({key:e,value:um({run:t})});const Em=(e,t,o)=>({key:e,value:um({run:(e,n)=>{t.apply(undefined,[e,n].concat(o))}})});const Om=e=>t=>Tm(e,t);const Am=e=>t=>({key:e,value:um({run:(e,o)=>{if(oc(e,o)){t(e,o)}}})});const Dm=(e,t)=>Tm(e,(o,n)=>{o.getSystem().getByUid(t).each(t=>{_m(t,t.element,e,n)})});const Mm=(e,t,o)=>{const n=t.partUids[o];return Dm(e,n)};const Nm=(e,t)=>Tm(e,(e,o)=>{const n=o.event;const s=e.getSystem().getByDom(n.target).getOrThunk(()=>{const t=la(n.target,t=>e.getSystem().getByDom(t).toOptional(),A);return t.getOr(e)});t(e,s,o)});const Rm=e=>Tm(e,(e,t)=>{t.cut()});const Bm=e=>Tm(e,(e,t)=>{t.stop()});const Lm=(e,t)=>Am(e)(t);const Hm=Am(Kl());const Im=Am(Yl());const Pm=Am(Ul());const Fm=Om(Il());const Vm=e=>({classes:m(e.classes)?[]:e.classes,attributes:m(e.attributes)?{}:e.attributes,styles:m(e.styles)?{}:e.styles});const jm=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)});const Zm=(e,t,o)=>Fm(n=>{o(n,e,t)});const Um=(e,t,o)=>Pm((n,s)=>{o(n,e,t)});const qm=(e,t,o,n,s,r)=>{const a=ri(e);const c=Ui(t,[qi("config",e)]);return Km(a,c,t,o,n,s,r)};const $m=(e,t,o,n,s,r)=>{const a=e;const c=Ui(t,[Ii("config",e)]);return Km(a,c,t,o,n,s,r)};const Wm=(e,t,o)=>{const n=(n,...s)=>{const r=[n].concat(s);return n.config({name:x(e)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+o)},e=>{const o=Array.prototype.slice.call(r,1);return t.apply(undefined,[n,e.config,e.state].concat(o))})};return Nd(n,o,t)};const Gm=e=>({key:e,value:undefined});const Km=(e,t,o,n,s,r,a)=>{const c=e=>Se(e,o)?e[o]():M.none();const i=ge(s,(e,t)=>Wm(o,e,t));const l=ge(r,(e,t)=>Bd(e,t));const d={...l,...i,revoke:z(Gm,o),config:t=>{const n=ki(o+"-config",e,t);return{key:o,value:{config:n,me:d,configAsRaw:It(()=>ki(o+"-config",e,t)),initialConfig:t,state:a}}},schema:x(t),exhibit:(e,t)=>dt(c(e),xe(n,"exhibit"),(e,o)=>o(t,e.config,e.state)).getOrThunk(()=>Vm({})),name:x(o),handlers:e=>c(e).map(e=>{const t=xe(n,"events").getOr(()=>({}));return t(e.config,e.state)}).getOr({})};return d};const Ym=e=>cl(e);const Xm=ri([Ti("fields"),Ti("name"),$i("active",{}),$i("apis",{}),$i("state",im),$i("extra",{})]);const Jm=e=>{const t=ki("Creating behaviour: "+e.name,Xm,e);return qm(t.fields,t.name,t.active,t.apis,t.extra,t.state)};const Qm=ri([Ti("branchKey"),Ti("branches"),Ti("name"),$i("active",{}),$i("apis",{}),$i("state",im),$i("extra",{})]);const eg=e=>{const t=ki("Creating behaviour: "+e.name,Qm,e);return $m(_i(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)};const tg=x(undefined);const og=(e,t)=>{const o=xm(t);return Jm({fields:[Ti("enabled")],name:e,active:{events:x(o)}})};const ng=(e,t)=>{const o=og(e,t);return{key:e,value:{config:{},me:o,configAsRaw:x({}),initialConfig:{},state:im}}};const sg=e=>{const t=()=>{const t=Ee(e);const o=()=>t.get();const n=e=>t.set(e);const s=()=>t.set(e);const r=()=>t.get();return{get:o,set:n,clear:s,readState:r}};return{init:t}};const rg=(e,t)=>{if(!t.ignore){os(e.element);t.onFocus(e)}};const ag=(e,t)=>{if(!t.ignore){ns(e.element)}};const cg=e=>ss(e.element);var ig=Object.freeze({__proto__:null,focus:rg,blur:ag,isFocused:cg});const lg=(e,t)=>{const o=t.ignore?{}:{attributes:{tabindex:"-1"}};return Vm(o)};const dg=e=>xm([Tm(Rl(),(t,o)=>{rg(t,e);o.stop()})].concat(e.stopMousedown?[Tm(hl(),(e,t)=>{t.event.prevent()})]:[]));var ug=Object.freeze({__proto__:null,exhibit:lg,events:dg});var fg=[zd("onFocus"),$i("stopMousedown",false),$i("ignore",false)];const mg=Jm({fields:fg,name:"focusing",active:ug,apis:ig});const gg=[8];const pg=[9];const hg=[13];const yg=[27];const bg=[32];const vg=[37];const kg=[38];const wg=[39];const _g=[40];const xg=(e,t,o)=>{const n=te(e.slice(0,t));const s=te(e.slice(t+1));return Y(n.concat(s),o)};const Cg=(e,t,o)=>{const n=te(e.slice(0,t));return Y(n,o)};const Sg=(e,t,o)=>{const n=e.slice(0,t);const s=e.slice(t+1);return Y(s.concat(n),o)};const zg=(e,t,o)=>{const n=e.slice(t+1);return Y(n,o)};const Tg=e=>t=>{const o=t.raw;return I(e,o.which)};const Eg=e=>t=>ee(e,e=>e(t));const Og=e=>{const t=e.raw;return t.shiftKey===true};const Ag=e=>{const t=e.raw;return t.ctrlKey===true};const Dg=T(Og);const Mg=(e,t)=>({matches:e,classification:t});const Ng=(e,t)=>{const o=Y(e,e=>e.matches(t));return o.map(e=>e.classification)};const Rg=(e,t,o,n)=>{const s=sa(e.element,"."+t.highlightClass);Z(s,o=>{const s=P(n,e=>po(e.element,o));if(!s){qr(o,t.highlightClass);e.getSystem().getByDom(o).each(o=>{t.onDehighlight(e,o);hm(o,rd())})}})};const Bg=(e,t,o)=>Rg(e,t,o,[]);const Lg=(e,t,o,n)=>{if(jg(e,t,o,n)){qr(n.element,t.highlightClass);t.onDehighlight(e,n);hm(n,rd())}};const Hg=(e,t,o,n)=>{Rg(e,t,o,[n]);if(!jg(e,t,o,n)){Zr(n.element,t.highlightClass);t.onHighlight(e,n);hm(n,sd())}};const Ig=(e,t,o)=>{qg(e,t).each(n=>{Hg(e,t,o,n)})};const Pg=(e,t,o)=>{$g(e,t).each(n=>{Hg(e,t,o,n)})};const Fg=(e,t,o,n)=>{Ug(e,t,o,n).fold(e=>{throw e},n=>{Hg(e,t,o,n)})};const Vg=(e,t,o,n)=>{const s=Yg(e,t);const r=Y(s,n);r.each(n=>{Hg(e,t,o,n)})};const jg=(e,t,o,n)=>Wr(n.element,t.highlightClass);const Zg=(e,t,o)=>Rr(e.element,"."+t.highlightClass).bind(t=>e.getSystem().getByDom(t).toOptional());const Ug=(e,t,o,n)=>{const s=sa(e.element,"."+t.itemClass);return M.from(s[n]).fold(()=>Fe.error(new Error("No element found with index "+n)),e.getSystem().getByDom)};const qg=(e,t,o)=>Rr(e.element,"."+t.itemClass).bind(t=>e.getSystem().getByDom(t).toOptional());const $g=(e,t,o)=>{const n=sa(e.element,"."+t.itemClass);const s=n.length>0?M.some(n[n.length-1]):M.none();return s.bind(t=>e.getSystem().getByDom(t).toOptional())};const Wg=(e,t,o,n)=>{const s=sa(e.element,"."+t.itemClass);const r=X(s,e=>Wr(e,t.highlightClass));return r.bind(t=>{const o=Ye(t,n,0,s.length-1);return e.getSystem().getByDom(s[o]).toOptional()})};const Gg=(e,t,o)=>Wg(e,t,o,-1);const Kg=(e,t,o)=>Wg(e,t,o,+1);const Yg=(e,t,o)=>{const n=sa(e.element,"."+t.itemClass);return it(j(n,t=>e.getSystem().getByDom(t).toOptional()))};var Xg=Object.freeze({__proto__:null,dehighlightAll:Bg,dehighlight:Lg,highlight:Hg,highlightFirst:Ig,highlightLast:Pg,highlightAt:Fg,highlightBy:Vg,isHighlighted:jg,getHighlighted:Zg,getFirst:qg,getLast:$g,getPrevious:Gg,getNext:Kg,getCandidates:Yg});var Jg=[Ti("highlightClass"),Ti("itemClass"),zd("onHighlight"),zd("onDehighlight")];const Qg=Jm({fields:Jg,name:"highlighting",apis:Xg});const ep=(e,t,o)=>{const n=t.exists(e=>o.exists(t=>po(t,e)));if(!n){ym(e,Ql(),{prevFocus:t,newFocus:o})}};const tp=()=>{const e=e=>as(e.element);const t=(t,o)=>{const n=e(t);t.getSystem().triggerFocus(o,t.element);const s=e(t);ep(t,n,s)};return{get:e,set:t}};const op=()=>{const e=e=>Qg.getHighlighted(e).map(e=>e.element);const t=(t,o)=>{const n=e(t);t.getSystem().getByDom(o).fold(v,e=>{Qg.highlight(t,e)});const s=e(t);ep(t,n,s)};return{get:e,set:t}};const np=(e,t,o,n,s)=>{const r=()=>e.concat([$i("focusManager",tp()),Wi("focusInside","onFocus",pi(e=>I(["onFocus","onEnterOrSpace","onApi"],e)?Fe.value(e):Fe.error("Invalid value for focusInside"))),Ad("handler",i),Ad("state",t),Ad("sendFocusIn",s)]);const a=(e,t,o,n,s)=>{const r=o(e,t,n,s);return Ng(r,t.event).bind(o=>o(e,t,n,s))};const c=(e,t)=>{const r=e.focusInside!==Zd.OnFocusMode?M.none():s(e).map(o=>Tm(Rl(),(n,s)=>{o(n,e,t);s.stop()}));const c=(o,n)=>{const r=Tg(bg.concat(hg))(n.event);if(e.focusInside===Zd.OnEnterOrSpaceMode&&r&&oc(o,n)){s(e).each(s=>{s(o,e,t);n.stop()})}};const i=[Tm(xl(),(n,s)=>{a(n,s,o,e,t).fold(()=>{c(n,s)},e=>{s.stop()})}),Tm(Cl(),(o,s)=>{a(o,s,n,e,t).each(e=>{s.stop()})})];return xm(r.toArray().concat(i))};const i={schema:r,processKey:a,toEvents:c};return i};const sp=e=>{const t=[Hi("onEscape"),Hi("onEnter"),$i("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),$i("firstTabstop",0),$i("useTabstopAt",D),Hi("visibilitySelector")].concat([e]);const o=(e,t)=>{const o=e.visibilitySelector.bind(e=>Br(t,e)).getOr(t);return Ys(o)>0};const n=(e,t)=>{const n=sa(e.element,t.selector);const s=$(n,e=>o(t,e));return M.from(s[t.firstTabstop])};const s=(e,t)=>t.focusManager.get(e).bind(e=>Br(e,t.selector));const r=(e,t)=>o(e,t)&&e.useTabstopAt(t);const a=(e,t,o)=>{n(e,t).each(o=>{t.focusManager.set(e,o)})};const c=(e,t,o,n,s)=>s(t,o,e=>r(n,e)).fold(()=>n.cyclic?M.some(true):M.none(),t=>{n.focusManager.set(e,t);return M.some(true)});const i=(e,t,n,r)=>{const a=$(sa(e.element,n.selector),e=>o(n,e));return s(e,n).bind(t=>{const o=X(a,z(po,t));return o.bind(t=>c(e,a,t,n,r))})};const l=(e,t,o)=>{const n=o.cyclic?xg:Cg;return i(e,t,o,n)};const d=(e,t,o)=>{const n=o.cyclic?Sg:zg;return i(e,t,o,n)};const u=e=>Cn(e).bind(Dn).exists(t=>po(t,e));const f=(e,t,o)=>s(e,o).filter(e=>!o.useTabstopAt(e)).bind(n=>(u(n)?l:d)(e,t,o));const m=(e,t,o)=>o.onEnter.bind(o=>o(e,t));const g=(e,t,o)=>o.onEscape.bind(o=>o(e,t));const p=x([Mg(Eg([Og,Tg(pg)]),l),Mg(Tg(pg),d),Mg(Eg([Dg,Tg(hg)]),m)]);const h=x([Mg(Tg(yg),g),Mg(Tg(pg),f)]);return np(t,im.init,p,h,()=>M.some(a))};var rp=sp(Si("cyclic",A));var ap=sp(Si("cyclic",D));const cp=e=>bn("input")(e)&&hs(e,"type")!=="radio"||bn("textarea")(e);const ip=(e,t,o)=>{vm(e,o,Il());return M.some(true)};const lp=(e,t,o)=>{const n=cp(o)&&Tg(bg)(t.event);return n?M.none():ip(e,t,o)};const dp=(e,t)=>M.some(true);const up=[$i("execute",lp),$i("useSpace",false),$i("useEnter",true),$i("useControlEnter",false),$i("useDown",false)];const fp=(e,t,o)=>o.execute(e,t,e.element);const mp=(e,t,o,n)=>{const s=o.useSpace&&!cp(e.element)?bg:[];const r=o.useEnter?hg:[];const a=o.useDown?_g:[];const c=s.concat(r).concat(a);return[Mg(Tg(c),fp)].concat(o.useControlEnter?[Mg(Eg([Ag,Tg(hg)]),fp)]:[])};const gp=(e,t,o,n)=>o.useSpace&&!cp(e.element)?[Mg(Tg(bg),dp)]:[];var pp=np(up,im.init,mp,gp,()=>M.none());const hp=()=>{const e=wt();const t=(t,o)=>{e.set({numRows:t,numColumns:o})};const o=()=>e.get().map(e=>e.numRows);const n=()=>e.get().map(e=>e.numColumns);return lm({readState:()=>e.get().map(e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:t,getNumRows:o,getNumColumns:n})};const yp=e=>e.state(e);var bp=Object.freeze({__proto__:null,flatgrid:hp,init:yp});const vp=e=>(t,o,n,s)=>{const r=e(t.element);return xp(r,t,o,n,s)};const kp=(e,t)=>{const o=vr(e,t);return vp(o)};const wp=(e,t)=>{const o=vr(t,e);return vp(o)};const _p=e=>(t,o,n,s)=>xp(e,t,o,n,s);const xp=(e,t,o,n,s)=>{const r=n.focusManager.get(t).bind(o=>e(t.element,o,n,s));return r.map(e=>{n.focusManager.set(t,e);return true})};const Cp=_p;const Sp=_p;const zp=_p;const Tp=(e,t)=>X(e,t).map(t=>({index:t,candidates:e}));const Ep=(e,t,o)=>{const n=e=>po(e,t);const s=sa(e,o);const r=$(s,er);return Tp(r,n)};const Op=(e,t)=>X(e,e=>po(t,e));const Ap=(e,t,o,n)=>{const s=Math.floor(t/o);const r=t%o;return n(s,r).bind(t=>{const n=t.row*o+t.column;return n>=0&&n<e.length?M.some(e[n]):M.none()})};const Dp=(e,t,o,n,s)=>Ap(e,t,n,(t,r)=>{const a=t===o-1;const c=a?e.length-t*n:n;const i=Ye(r,s,0,c-1);return M.some({row:t,column:i})});const Mp=(e,t,o,n,s)=>Ap(e,t,n,(t,r)=>{const a=Ye(t,s,0,o-1);const c=a===o-1;const i=c?e.length-a*n:n;const l=Xe(r,0,i-1);return M.some({row:a,column:l})});const Np=(e,t,o,n)=>Dp(e,t,o,n,+1);const Rp=(e,t,o,n)=>Dp(e,t,o,n,-1);const Bp=(e,t,o,n)=>Mp(e,t,o,n,-1);const Lp=(e,t,o,n)=>Mp(e,t,o,n,+1);const Hp=[Ti("selector"),$i("execute",lp),Td("onEscape"),$i("captureTab",false),Md()];const Ip=(e,t,o)=>{Rr(e.element,t.selector).each(o=>{t.focusManager.set(e,o)})};const Pp=(e,t)=>t.focusManager.get(e).bind(e=>Br(e,t.selector));const Fp=(e,t,o,n)=>Pp(e,o).bind(n=>o.execute(e,t,n));const Vp=e=>(t,o,n,s)=>Ep(t,o,n.selector).bind(t=>e(t.candidates,t.index,s.getNumRows().getOr(n.initSize.numRows),s.getNumColumns().getOr(n.initSize.numColumns)));const jp=(e,t,o)=>o.captureTab?M.some(true):M.none();const Zp=(e,t,o)=>o.onEscape(e,t);const Up=Vp(Rp);const qp=Vp(Np);const $p=Vp(Bp);const Wp=Vp(Lp);const Gp=x([Mg(Tg(vg),kp(Up,qp)),Mg(Tg(wg),wp(Up,qp)),Mg(Tg(kg),Cp($p)),Mg(Tg(_g),Sp(Wp)),Mg(Eg([Og,Tg(pg)]),jp),Mg(Eg([Dg,Tg(pg)]),jp),Mg(Tg(bg.concat(hg)),Fp)]);const Kp=x([Mg(Tg(yg),Zp),Mg(Tg(bg),dp)]);var Yp=np(Hp,hp,Gp,Kp,()=>M.some(Ip));const Xp=(e,t,o,n,s)=>{const r=e=>dn(e)==="button"&&hs(e,"disabled")==="disabled";const a=(e,t,o)=>s(e,t,n,0,o.length-1,o[t],t=>r(o[t])?a(e,t,o):M.from(o[t]));return Ep(e,o,t).bind(e=>{const t=e.index;const o=e.candidates;return a(t,t,o)})};const Jp=(e,t,o,n)=>Xp(e,t,o,n,(e,t,o,n,s,r,a)=>{const c=Xe(t+o,n,s);return c===e?M.from(r):a(c)});const Qp=(e,t,o,n)=>Xp(e,t,o,n,(e,t,o,n,s,r,a)=>{const c=Ye(t,o,n,s);return c===e?M.none():a(c)});const eh=[Ti("selector"),$i("getInitial",M.none),$i("execute",lp),Td("onEscape"),$i("executeOnMove",false),$i("allowVertical",true),$i("allowHorizontal",true),$i("cycles",true)];const th=(e,t)=>t.focusManager.get(e).bind(e=>Br(e,t.selector));const oh=(e,t,o)=>th(e,o).bind(n=>o.execute(e,t,n));const nh=(e,t,o)=>{t.getInitial(e).orThunk(()=>Rr(e.element,t.selector)).each(o=>{t.focusManager.set(e,o)})};const sh=(e,t,o)=>(o.cycles?Qp:Jp)(e,o.selector,t,-1);const rh=(e,t,o)=>(o.cycles?Qp:Jp)(e,o.selector,t,+1);const ah=e=>(t,o,n,s)=>e(t,o,n,s).bind(()=>n.executeOnMove?oh(t,o,n):M.some(true));const ch=(e,t,o)=>o.onEscape(e,t);const ih=(e,t,o,n)=>{const s=[...o.allowHorizontal?vg:[]].concat(o.allowVertical?kg:[]);const r=[...o.allowHorizontal?wg:[]].concat(o.allowVertical?_g:[]);return[Mg(Tg(s),ah(kp(sh,rh))),Mg(Tg(r),ah(wp(sh,rh))),Mg(Tg(hg),oh),Mg(Tg(bg),oh)]};const lh=x([Mg(Tg(bg),dp),Mg(Tg(yg),ch)]);var dh=np(eh,im.init,ih,lh,()=>M.some(nh));const uh=(e,t,o)=>M.from(e[t]).bind(e=>M.from(e[o]).map(e=>({rowIndex:t,columnIndex:o,cell:e})));const fh=(e,t,o,n)=>{const s=e[t];const r=s.length;const a=Ye(o,n,0,r-1);return uh(e,t,a)};const mh=(e,t,o,n)=>{const s=Ye(o,n,0,e.length-1);const r=e[s].length;const a=Xe(t,0,r-1);return uh(e,s,a)};const gh=(e,t,o,n)=>{const s=e[t];const r=s.length;const a=Xe(o+n,0,r-1);return uh(e,t,a)};const ph=(e,t,o,n)=>{const s=Xe(o+n,0,e.length-1);const r=e[s].length;const a=Xe(t,0,r-1);return uh(e,s,a)};const hh=(e,t,o)=>fh(e,t,o,+1);const yh=(e,t,o)=>fh(e,t,o,-1);const bh=(e,t,o)=>mh(e,o,t,-1);const vh=(e,t,o)=>mh(e,o,t,+1);const kh=(e,t,o)=>gh(e,t,o,-1);const wh=(e,t,o)=>gh(e,t,o,+1);const _h=(e,t,o)=>ph(e,o,t,-1);const xh=(e,t,o)=>ph(e,o,t,+1);const Ch=[Ri("selectors",[Ti("row"),Ti("cell")]),$i("cycles",true),$i("previousSelector",M.none),$i("execute",lp)];const Sh=(e,t,o)=>{const n=t.previousSelector(e).orThunk(()=>{const o=t.selectors;return Rr(e.element,o.cell)});n.each(o=>{t.focusManager.set(e,o)})};const zh=(e,t,o)=>as(e.element).bind(n=>o.execute(e,t,n));const Th=(e,t)=>j(e,e=>sa(e,t.selectors.cell));const Eh=(e,t)=>(o,n,s)=>{const r=s.cycles?e:t;return Br(n,s.selectors.row).bind(e=>{const t=sa(e,s.selectors.cell);return Op(t,n).bind(t=>{const n=sa(o,s.selectors.row);return Op(n,e).bind(e=>{const o=Th(n,s);return r(o,e,t).map(e=>e.cell)})})})};const Oh=Eh(yh,kh);const Ah=Eh(hh,wh);const Dh=Eh(bh,_h);const Mh=Eh(vh,xh);const Nh=x([Mg(Tg(vg),kp(Oh,Ah)),Mg(Tg(wg),wp(Oh,Ah)),Mg(Tg(kg),Cp(Dh)),Mg(Tg(_g),Sp(Mh)),Mg(Tg(bg.concat(hg)),zh)]);const Rh=x([Mg(Tg(bg),dp)]);var Bh=np(Ch,im.init,Nh,Rh,()=>M.some(Sh));const Lh=[Ti("selector"),$i("execute",lp),$i("moveOnTab",false)];const Hh=(e,t,o)=>o.focusManager.get(e).bind(n=>o.execute(e,t,n));const Ih=(e,t,o)=>{Rr(e.element,t.selector).each(o=>{t.focusManager.set(e,o)})};const Ph=(e,t,o)=>Qp(e,o.selector,t,-1);const Fh=(e,t,o)=>Qp(e,o.selector,t,+1);const Vh=(e,t,o,n)=>o.moveOnTab?zp(Ph)(e,t,o,n):M.none();const jh=(e,t,o,n)=>o.moveOnTab?zp(Fh)(e,t,o,n):M.none();const Zh=x([Mg(Tg(kg),zp(Ph)),Mg(Tg(_g),zp(Fh)),Mg(Eg([Og,Tg(pg)]),Vh),Mg(Eg([Dg,Tg(pg)]),jh),Mg(Tg(hg),Hh),Mg(Tg(bg),Hh)]);const Uh=x([Mg(Tg(bg),dp)]);var qh=np(Lh,im.init,Zh,Uh,()=>M.some(Ih));const $h=[Td("onSpace"),Td("onEnter"),Td("onShiftEnter"),Td("onLeft"),Td("onRight"),Td("onTab"),Td("onShiftTab"),Td("onUp"),Td("onDown"),Td("onEscape"),$i("stopSpaceKeyup",false),Hi("focusIn")];const Wh=(e,t,o)=>[Mg(Tg(bg),o.onSpace),Mg(Eg([Dg,Tg(hg)]),o.onEnter),Mg(Eg([Og,Tg(hg)]),o.onShiftEnter),Mg(Eg([Og,Tg(pg)]),o.onShiftTab),Mg(Eg([Dg,Tg(pg)]),o.onTab),Mg(Tg(kg),o.onUp),Mg(Tg(_g),o.onDown),Mg(Tg(vg),o.onLeft),Mg(Tg(wg),o.onRight),Mg(Tg(bg),o.onSpace)];const Gh=(e,t,o)=>[...o.stopSpaceKeyup?[Mg(Tg(bg),dp)]:[],Mg(Tg(yg),o.onEscape)];var Kh=np($h,im.init,Wh,Gh,e=>e.focusIn);const Yh=rp.schema();const Xh=ap.schema();const Jh=dh.schema();const Qh=Yp.schema();const ey=Bh.schema();const ty=pp.schema();const oy=qh.schema();const ny=Kh.schema();var sy=Object.freeze({__proto__:null,acyclic:Yh,cyclic:Xh,flow:Jh,flatgrid:Qh,matrix:ey,execution:ty,menu:oy,special:ny});const ry=e=>Se(e,"setGridSize");const ay=eg({branchKey:"mode",branches:sy,name:"keying",active:{events:(e,t)=>{const o=e.handler;return o.toEvents(e,t)}},apis:{focusIn:(e,t,o)=>{t.sendFocusIn(t).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},n=>{n(e,t,o)})},setGridSize:(e,t,o,n,s)=>{if(!ry(o)){console.error("Layout does not support setGridSize")}else{o.setGridSize(n,s)}}},state:bp});const cy=et("alloy-premade");const iy=e=>{Object.defineProperty(e.element.dom,cy,{value:e.uid,writable:true});return al(cy,e)};const ly=e=>Ce(e.dom,cy);const dy=e=>xe(e,cy);const uy=e=>Ld((t,...o)=>e(t.getApis(),t,...o),e);const fy=e=>e.getSystem().isConnected();const my=e=>{hm(e,Yl());const t=e.components();Z(t,my)};const gy=e=>{const t=e.components();Z(t,gy);hm(e,Kl())};const py=(e,t)=>{e.getSystem().addToWorld(t);if(Ns(e.element)){gy(t)}};const hy=e=>{my(e);e.getSystem().removeFromWorld(e)};const yy=(e,t)=>{ds(e.element,t.element)};const by=e=>{Z(e.components(),e=>_s(e.element));ws(e.element);e.syncComponents()};const vy=(e,t,o)=>{const n=e.components();by(e);const s=o(t);const r=oe(n,s);Z(r,t=>{my(t);e.getSystem().removeFromWorld(t)});Z(s,t=>{if(!fy(t)){e.getSystem().addToWorld(t);yy(e,t);if(Ns(e.element)){gy(t)}}else{yy(e,t)}});e.syncComponents()};const ky=(e,t,o)=>{const n=e.components();const s=Q(t,e=>dy(e).toArray());Z(n,e=>{if(!I(s,e)){hy(e)}});const r=o(t);const a=oe(n,r);Z(a,e=>{if(fy(e)){hy(e)}});Z(r,t=>{if(!fy(t)){py(e,t)}});e.syncComponents()};const wy=(e,t)=>{_y(e,t,ds)};const _y=(e,t,o)=>{e.getSystem().addToWorld(t);o(e.element,t.element);if(Ns(e.element)){gy(t)}e.syncComponents()};const xy=e=>{my(e);_s(e.element);e.getSystem().removeFromWorld(e)};const Cy=e=>{const t=xn(e.element).bind(t=>e.getSystem().getByDom(t).toOptional());xy(e);t.each(e=>{e.syncComponents()})};const Sy=e=>{const t=e.components();Z(t,xy);ws(e.element);e.syncComponents()};const zy=(e,t)=>{Ey(e,t,ds)};const Ty=(e,t)=>{Ey(e,t,is)};const Ey=(e,t,o)=>{o(e,t.element);const n=On(t.element);Z(n,e=>{t.getByDom(e).each(gy)})};const Oy=e=>{const t=On(e.element);Z(t,t=>{e.getByDom(t).each(my)});_s(e.element)};const Ay=(e,t,o)=>{const n=An(e,t);return n.map(e=>{const t=o.exists(t=>!po(t,e));if(t){const t=o.map(dn).getOr("span");const n=$t.fromTag(t);cs(e,n);return n}else{return e}})};const Dy=(e,t,o)=>{o.fold(()=>ds(e,t),e=>{if(!po(e,t)){cs(e,t);_s(e)}})};const My=(e,t,o)=>{const n=j(t,o);const s=On(e);Z(s.slice(n.length),_s);return n};const Ny=(e,t,o,n)=>{const s=An(e,t);const r=n(o,s);const a=Ay(e,t,s);Dy(e,r.element,a);return r};const Ry=(e,t,o)=>My(e,t,(t,n)=>Ny(e,n,t,o));const By=(e,t)=>My(e,t,(t,o)=>{const n=An(e,o);Dy(e,t,n);return t});const Ly=(e,t)=>{const o=Hn(t);const n=rs(o).bind(e=>{const o=t=>po(e,t);return o(t)?M.some(t):Or(t,o)});const s=e(t);n.each(e=>{rs(o).filter(t=>po(t,e)).fold(()=>{os(e)},v)});return s};const Hy=(e,t)=>{Ly(()=>{vy(e,t,()=>j(t,e.getSystem().build))},e.element)};const Iy=(e,t)=>{Ly(()=>{ky(e,t,()=>Ry(e.element,t,e.getSystem().buildOrPatch))},e.element)};const Py=(e,t,o,n)=>{hy(t);const s=Ny(e.element,o,n,e.getSystem().buildOrPatch);py(e,s);e.syncComponents()};const Fy=(e,t,o)=>{const n=e.getSystem().build(o);_y(e,n,t)};const Vy=(e,t,o,n)=>{Cy(t);Fy(e,(e,t)=>us(e,t,o),n)};const jy=(e,t,o,n)=>{const s=t.reuseDom?Iy:Hy;return s(e,n)};const Zy=(e,t,o,n)=>{Fy(e,ds,n)};const Uy=(e,t,o,n)=>{Fy(e,ls,n)};const qy=(e,t,o,n)=>{const s=$y(e);const r=Y(s,e=>po(n.element,e.element));r.each(Cy)};const $y=(e,t)=>e.components();const Wy=(e,t,o,n,s)=>{const r=$y(e);return M.from(r[n]).map(o=>{s.fold(()=>Cy(o),s=>{const r=t.reuseDom?Py:Vy;r(e,o,n,s)});return o})};const Gy=(e,t,o,n,s)=>{const r=$y(e);return X(r,n).bind(n=>Wy(e,t,o,n,s))};var Ky=Object.freeze({__proto__:null,append:Zy,prepend:Uy,remove:qy,replaceAt:Wy,replaceBy:Gy,set:jy,contents:$y});const Yy=Jm({fields:[Xi("reuseDom",true)],name:"replacing",apis:Ky});const Xy=(e,t,o)=>po(t,e.element)&&!po(t,o);const Jy=xm([Sm(Rl(),(e,t)=>{const o=t.event;const n=o.originator;const s=o.target;if(Xy(e,n,s)){console.warn(Rl()+" did not get interpreted by the desired target. "+"\nOriginator: "+ad(n)+"\nTarget: "+ad(s)+"\nCheck the "+Rl()+" event handlers");return false}else{return true}})]);var Qy=Object.freeze({__proto__:null,events:Jy});const eb=x("alloy-id-");const tb=x("data-alloy-id");const ob=eb();const nb=tb();const sb=(e,t)=>{const o=et(ob+e);rb(t,o);return o};const rb=(e,t)=>{Object.defineProperty(e.dom,nb,{value:t,writable:true})};const ab=e=>{const t=gn(e)?e.dom[nb]:null;return M.from(t)};const cb=e=>et(e);const ib=C;const lb=e=>{const t=t=>`The component must be in a context to execute: ${t}`+(e?"\n"+ad(e().element)+" is not in context.":"");const o=e=>()=>{throw new Error(t(e))};const n=e=>()=>{console.warn(t(e))};return{debugInfo:x("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:o("build"),buildOrPatch:o("buildOrPatch"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:A}};const db=lb();const ub=(e,t)=>{const o=j(t,e=>Ui(e.name(),[Ti("config"),$i("state",im)]));const n=bi("component.behaviours",ai(o),e.behaviours).fold(t=>{throw new Error(wi(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))},C);return{list:t,data:ge(n,e=>{const t=e.map(e=>({config:e.config,state:e.state.init(e.config)}));return x(t)})}};const fb=e=>e.list;const mb=e=>e.data;const gb=(e,t)=>{const o={};me(e,(e,n)=>{me(e,(e,s)=>{const r=xe(o,s).getOr([]);o[s]=r.concat([t(n,e)])})});return o};const pb=(e,t,o,n)=>{const s={...t};Z(o,t=>{s[t.name()]=t.exhibit(e,n)});const r=gb(s,(e,t)=>({name:e,modification:t}));const a=e=>W(e,(e,t)=>({...t.modification,...e}),{});const c=W(r.classes,(e,t)=>t.modification.concat(e),[]);const i=a(r.attributes);const l=a(r.styles);return Vm({classes:c,attributes:i,styles:l})};const hb=(e,t,o,n)=>{try{const s=re(o,(o,s)=>{const r=o[t];const a=s[t];const c=n.indexOf(r);const i=n.indexOf(a);if(c===-1){throw new Error("The ordering for "+e+" does not have an entry for "+r+".\nOrder specified: "+JSON.stringify(n,null,2))}if(i===-1){throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(n,null,2))}if(c<i){return-1}else if(i<c){return 1}else{return 0}});return Fe.value(s)}catch(e){return Fe.error([e])}};const yb=(e,t)=>({handler:e,purpose:t});const bb=(e,t)=>({cHandler:e,purpose:t});const vb=(e,t)=>bb(z.apply(undefined,[e.handler].concat(t)),e.purpose);const kb=e=>e.cHandler;const wb=(e,t)=>({name:e,handler:t});const _b=(e,t)=>{const o={};Z(e,e=>{o[e.name()]=e.handlers(t)});return o};const xb=(e,t,o)=>{const n={...o,..._b(t,e)};return gb(n,wb)};const Cb=(e,t,o,n)=>{const s=xb(e,o,n);return Eb(s,t)};const Sb=e=>{const t=gm(e);return(e,o,...n)=>{const s=[e,o].concat(n);if(t.abort.apply(undefined,s)){o.stop()}else if(t.can.apply(undefined,s)){t.run.apply(undefined,s)}}};const zb=(e,t)=>Fe.error(["The event ("+e+") has more than one behaviour that listens to it.\nWhen this occurs, you must "+'specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that '+"can trigger it are: "+JSON.stringify(j(t,e=>e.name),null,2)]);const Tb=(e,t,o)=>{const n=t[o];if(!n){return zb(o,e)}else{return hb("Event: "+o,"name",e,n).map(e=>{const t=j(e,e=>e.handler);return pm(t)})}};const Eb=(e,t)=>{const o=ke(e,(e,o)=>{const n=e.length===1?Fe.value(e[0].handler):Tb(e,t,o);return n.map(n=>{const s=Sb(n);const r=e.length>1?$(t[o],t=>P(e,e=>e.name===t)).join(" > "):e[0].name;return al(o,yb(s,r))})});return dl(o,{})};const Ob="alloy.base.behaviour";const Ab=ai([Ci("dom","dom",Hc(),ai([Ti("tag"),$i("styles",{}),$i("classes",[]),$i("attributes",{}),Hi("value"),Hi("innerHtml")])),Ti("components"),Ti("uid"),$i("events",{}),$i("apis",{}),Ci("eventOrder","eventOrder",jc({[Il()]:["disabling",Ob,"toggling","typeaheadevents"],[Rl()]:[Ob,"focusing","keying"],[Ul()]:[Ob,"disabling","toggling","representing","tooltipping"],[Sl()]:[Ob,"representing","streaming","invalidating"],[Yl()]:[Ob,"representing","item-events","toolbar-button-events","tooltipping"],[hl()]:["focusing",Ob,"item-type-events"],[fl()]:["focusing",Ob,"item-type-events"],[kl()]:["item-type-events","tooltipping"],[Hl()]:["receiving","reflecting","tooltipping"]}),Oc()),Hi("domModification")]);const Db=e=>bi("custom.definition",Ab,e);const Mb=e=>({...e.dom,uid:e.uid,domChildren:j(e.components,e=>e.element)});const Nb=e=>e.domModification.fold(()=>Vm({}),Vm);const Rb=e=>e.events;const Bb=(e,t)=>{const o=ue(e);const n=ue(t);const s=oe(n,o);const r=be(e,(e,o)=>!Ce(t,o)||e!==t[o]).t;return{toRemove:s,toSet:r}};const Lb=(e,t)=>{const{class:o,style:n,...s}=ks(t);const{toSet:r,toRemove:a}=Bb(e.attributes,s);const c=()=>{Z(a,e=>vs(t,e));ps(t,r)};const i=Us(t);const{toSet:l,toRemove:d}=Bb(e.styles,i);const u=()=>{Z(d,e=>$s(t,e));Ps(t,l)};const f=Qr(t);const m=oe(f,e.classes);const g=oe(e.classes,f);const p=()=>{Gr(t,g);Kr(t,m)};const h=e=>{Es(t,e)};const y=()=>{const o=e.domChildren;By(t,o)};const b=()=>{const o=t;const n=e.value.getOrUndefined();if(n!==ta(o)){oa(o,n!==null&&n!==void 0?n:"")}};c();p();u();e.innerHtml.fold(y,h);b();return t};const Hb=e=>{const t=$t.fromTag(e.tag);ps(t,e.attributes);Gr(t,e.classes);Ps(t,e.styles);e.innerHtml.each(e=>Es(t,e));const o=e.domChildren;fs(t,o);e.value.each(e=>{oa(t,e)});return t};const Ib=(e,t)=>{try{const o=Lb(e,t);return M.some(o)}catch(e){return M.none()}};const Pb=e=>e.innerHtml.isSome()&&e.domChildren.length>0;const Fb=(e,t)=>{const o=t=>dn(t)===e.tag&&!Pb(e)&&!ly(t);const n=t.filter(o).bind(t=>Ib(e,t)).getOrThunk(()=>Hb(e));rb(n,e.uid);return n};const Vb=e=>{const t=xe(e,"behaviours").getOr({});return Q(ue(t),e=>{const o=t[e];return p(o)?[o.me]:[]})};const jb=(e,t)=>ub(e,t);const Zb=e=>{const t=Vb(e);return jb(e,t)};const Ub=(e,t,o)=>{const n=Mb(e);const s=Nb(e);const r={"alloy.base.modification":s};const a=t.length>0?pb(o,r,t,n):s;return jm(n,a)};const qb=(e,t,o)=>{const n={"alloy.base.behaviour":Rb(e)};return Cb(o,e.eventOrder,t,n).getOrDie()};const $b=(e,t)=>{const o=()=>k;const n=Ee(db);const s=vi(Db(e));const r=Zb(e);const a=fb(r);const c=mb(r);const i=Ub(s,a,c);const l=Fb(i,t);const d=qb(s,a,c);const u=Ee(s.components);const f=e=>{n.set(e)};const m=()=>{n.set(lb(o))};const g=()=>{const e=On(l);const t=Q(e,e=>n.get().getByDom(e).fold(()=>[],se));u.set(t)};const p=t=>{const o=c;const n=h(o[t.name()])?o[t.name()]:()=>{throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))};return n()};const y=e=>h(c[e.name()]);const b=()=>s.apis;const v=e=>c[e]().map(e=>e.state.readState()).getOr("not enabled");const k={uid:e.uid,getSystem:n.get,config:p,hasConfigured:y,spec:e,readState:v,getApis:b,connect:f,disconnect:m,element:l,syncComponents:g,components:u.get,events:d};return k};const Wb=(e,t)=>{const o=xe(e,"components").getOr([]);return t.fold(()=>j(o,ev),e=>j(o,(t,o)=>Qb(t,An(e,o))))};const Gb=(e,t)=>{const{events:o,...n}=ib(e);const s=Wb(n,t);const r={...n,events:{...Qy,...o},components:s};return Fe.value($b(r,t))};const Kb=e=>{const t=$t.fromText(e);return Yb({element:t})};const Yb=e=>{const t=ki("external.component",ri([Ti("element"),Hi("uid")]),e);const o=Ee(lb());const n=e=>{o.set(e)};const s=()=>{o.set(lb(()=>a))};const r=t.uid.getOrThunk(()=>cb("external"));rb(t.element,r);const a={uid:r,getSystem:o.get,config:M.none,hasConfigured:A,connect:n,disconnect:s,getApis:()=>({}),element:t.element,spec:e,readState:x("No state"),syncComponents:v,components:x([]),events:{}};return iy(a)};const Xb=cb;const Jb=e=>Ce(e,"uid");const Qb=(e,t)=>dy(e).getOrThunk(()=>{const o=Jb(e)?e:{uid:Xb(""),...e};return Gb(o,t).getOrDie()});const ev=e=>Qb(e,M.none());const tv=iy;const ov=(e,t,o,n)=>{gs(e.element,"aria-busy",true);const s=t.getRoot(e).getOr(e);const r=Ym([ay.config({mode:"special",onTab:()=>M.some(true),onShiftTab:()=>M.some(true)}),mg.config({})]);const a=n(s,r);const c=s.getSystem().build(a);Yy.append(s,tv(c));if(c.hasConfigured(ay)&&t.focus){ay.focusIn(c)}if(!o.isBlocked()){t.onBlock(e)}o.blockWith(()=>Yy.remove(s,c))};const nv=(e,t,o)=>{vs(e.element,"aria-busy");if(o.isBlocked()){t.onUnblock(e)}o.clear()};const sv=(e,t,o)=>o.isBlocked();var rv=Object.freeze({__proto__:null,block:ov,unblock:nv,isBlocked:sv});var av=[Ji("getRoot",M.none),Xi("focus",true),zd("onBlock"),zd("onUnblock")];const cv=()=>{const e=vt();const t=t=>{e.set({destroy:t})};return lm({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})};var iv=Object.freeze({__proto__:null,init:cv});const lv=Jm({fields:av,name:"blocking",apis:rv,state:iv});const dv=(e,t,o)=>t.find(e);var uv=Object.freeze({__proto__:null,getCurrent:dv});const fv=[Ti("find")];const mv=Jm({fields:fv,name:"composing",apis:uv});const gv=(e,t,o,n)=>o.getOrCreate(e,t,n);const pv=(e,t,o,n)=>o.getExisting(e,t,n);var hv=Object.freeze({__proto__:null,getCoupled:gv,getExistingCoupled:pv});var yv=[Ei("others",hi(Fe.value,Oc()))];const bv=()=>{const e={};const t=(t,o)=>{const n=ue(t.others);if(n.length===0){throw new Error("Cannot find any known coupled components")}else{return xe(e,o)}};const o=(o,n,s)=>t(n,s).getOrThunk(()=>{const t=xe(n.others,s).getOrDie("No information found for coupled component: "+s);const r=t(o);const a=o.getSystem().build(r);e[s]=a;return a});const n=(e,o,n)=>t(o,n).orThunk(()=>{xe(o.others,n).getOrDie("No information found for coupled component: "+n);return M.none()});const s=x({});return lm({readState:s,getExisting:n,getOrCreate:o})};var vv=Object.freeze({__proto__:null,init:bv});const kv=Jm({fields:yv,name:"coupling",apis:hv,state:vv});const wv=["input","button","textarea","select"];const _v=(e,t,o)=>{const n=t.disabled()?Av:Dv;n(e,t)};const xv=(e,t)=>t.useNative===true&&I(wv,dn(e.element));const Cv=e=>bs(e.element,"disabled");const Sv=e=>{gs(e.element,"disabled","disabled")};const zv=e=>{vs(e.element,"disabled")};const Tv=e=>hs(e.element,"aria-disabled")==="true";const Ev=e=>{gs(e.element,"aria-disabled","true")};const Ov=e=>{gs(e.element,"aria-disabled","false")};const Av=(e,t,o)=>{t.disableClass.each(t=>{Zr(e.element,t)});const n=xv(e,t)?Sv:Ev;n(e);t.onDisabled(e)};const Dv=(e,t,o)=>{t.disableClass.each(t=>{qr(e.element,t)});const n=xv(e,t)?zv:Ov;n(e);t.onEnabled(e)};const Mv=(e,t)=>xv(e,t)?Cv(e):Tv(e);const Nv=(e,t,o,n)=>{const s=n?Av:Dv;s(e,t)};var Rv=Object.freeze({__proto__:null,enable:Dv,disable:Av,isDisabled:Mv,onLoad:_v,set:Nv});const Bv=(e,t)=>Vm({classes:t.disabled()?t.disableClass.toArray():[]});const Lv=(e,t)=>xm([Cm(Il(),(t,o)=>Mv(t,e)),Um(e,t,_v)]);var Hv=Object.freeze({__proto__:null,exhibit:Bv,events:Lv});var Iv=[Ji("disabled",A),$i("useNative",true),Hi("disableClass"),zd("onDisabled"),zd("onEnabled")];const Pv=Jm({fields:Iv,name:"disabling",active:Hv,apis:Rv});const Fv=(e,t,o,n,s)=>{const r=e=>e+"px";return{position:e,left:t.map(r),top:o.map(r),right:n.map(r),bottom:s.map(r)}};const Vv=e=>({...e,position:M.some(e.position)});const jv=(e,t)=>{Fs(e,Vv(t))};const Zv=(e,t)=>{const o=e.element;Zr(o,t.transitionClass);qr(o,t.fadeOutClass);Zr(o,t.fadeInClass);t.onShow(e)};const Uv=(e,t)=>{const o=e.element;Zr(o,t.transitionClass);qr(o,t.fadeInClass);Zr(o,t.fadeOutClass);t.onHide(e)};const qv=(e,t)=>e.y<t.bottom&&e.bottom>t.y;const $v=(e,t)=>e.y>=t.y;const Wv=(e,t)=>e.bottom<=t.bottom;const Gv=(e,t,o)=>({location:"top",leftX:t,topY:o.bounds.y-e.y});const Kv=(e,t,o)=>({location:"bottom",leftX:t,bottomY:e.bottom-o.bounds.bottom});const Yv=e=>e.box.x-e.win.x;const Xv=(e,t,o)=>{const n=t.win;const s=t.box;const r=Yv(t);return de(e,e=>{switch(e){case"bottom":return!Wv(s,o.bounds)?M.some(Kv(n,r,o)):M.none();case"top":return!$v(s,o.bounds)?M.some(Gv(n,r,o)):M.none();default:return M.none()}}).getOr({location:"no-dock"})};const Jv=(e,t,o)=>ee(e,e=>{switch(e){case"bottom":return Wv(t,o.bounds);case"top":return $v(t,o.bounds)}});const Qv=(e,t)=>{const o=t.optScrollEnv.fold(x(e.bounds.y),t=>t.scrollElmTop+(e.bounds.y-t.currentScrollTop));return lr(e.bounds.x,o)};const ek=(e,t)=>{const o=t.optScrollEnv.fold(x(e.y),t=>e.y+t.currentScrollTop-t.scrollElmTop);return lr(e.x,o)};const tk=(e,t,o)=>o.getInitialPos().map(o=>{const n=Qv(o,t);return{box:Ya(n.left,n.top,sr(e),Ys(e)),location:o.location}});const ok=(e,t,o,n,s)=>{const r=ek(t,o);const a=Ya(r.left,r.top,t.width,t.height);n.setInitialPos({style:Us(e),position:Vs(e,"position")||"static",bounds:a,location:s.location})};const nk=(e,t,o,n,s)=>{n.getInitialPos().fold(()=>ok(e,t,o,n,s),()=>v)};const sk=(e,t,o)=>o.getInitialPos().bind(n=>{var s;o.clearInitialPos();switch(n.position){case"static":return M.some({morph:"static"});case"absolute":const o=nc(e).getOr(Rs());const r=Xa(o);const a=(s=o.dom.scrollTop)!==null&&s!==void 0?s:0;return M.some({morph:"absolute",positionCss:Fv("absolute",xe(n.style,"left").map(e=>t.x-r.x),xe(n.style,"top").map(e=>t.y-r.y+a),xe(n.style,"right").map(e=>r.right-t.right),xe(n.style,"bottom").map(e=>r.bottom-t.bottom))});default:return M.none()}});const rk=(e,t,o)=>tk(e,t,o).filter(({box:e})=>Jv(o.getModes(),e,t)).bind(({box:t})=>sk(e,t,o));const ak=e=>{switch(e.location){case"top":{return M.some({morph:"fixed",positionCss:Fv("fixed",M.some(e.leftX),M.some(e.topY),M.none(),M.none())})}case"bottom":{return M.some({morph:"fixed",positionCss:Fv("fixed",M.some(e.leftX),M.none(),M.none(),M.some(e.bottomY))})}default:return M.none()}};const ck=(e,t,o)=>{const n=Xa(e);const s=tc();const r=Xv(o.getModes(),{win:s,box:n},t);if(r.location==="top"||r.location==="bottom"){ok(e,n,t,o,r);return ak(r)}else{return M.none()}};const ik=(e,t,o)=>rk(e,t,o).orThunk(()=>t.optScrollEnv.bind(n=>tk(e,t,o)).bind(({box:e,location:o})=>{const n=tc();const s=Yv({win:n,box:e});const r=o==="top"?Gv(n,s,t):Kv(n,s,t);return ak(r)}));const lk=(e,t,o)=>{const n=e.element;const s=at(Zs(n,"position"),"fixed");return s?ik(n,t,o):ck(n,t,o)};const dk=(e,t,o)=>{const n=e.element;return tk(n,t,o).bind(({box:e})=>sk(n,e,o))};const uk=(e,t,o,n)=>{const s=Xa(e);const r=tc();const a=Yv({win:r,box:s});const c=n(r,a,t);if(c.location==="bottom"||c.location==="top"){nk(e,s,t,o,c);return ak(c)}else{return M.none()}};const fk=(e,t,o)=>{o.setDocked(false);Z(["left","right","top","bottom","position"],t=>$s(e.element,t));t.onUndocked(e)};const mk=(e,t,o,n)=>{const s=n.position==="fixed";o.setDocked(s);jv(e.element,n);const r=s?t.onDocked:t.onUndocked;r(e)};const gk=(e,t,o,n,s=false)=>{t.contextual.each(t=>{t.lazyContext(e).each(r=>{const a=qv(r,n.bounds);if(a!==o.isVisible()){o.setVisible(a);if(s&&!a){Gr(e.element,[t.fadeOutClass]);t.onHide(e)}else{const o=a?Zv:Uv;o(e,t)}}})})};const pk=(e,t,o,n,s)=>{gk(e,t,o,n,true);mk(e,t,o,s.positionCss)};const hk=(e,t,o,n,s)=>{switch(s.morph){case"static":{return fk(e,t,o)}case"absolute":{return mk(e,t,o,s.positionCss)}case"fixed":{return pk(e,t,o,n,s)}}};const yk=(e,t,o)=>{const n=t.lazyViewport(e);gk(e,t,o,n);lk(e,n,o).each(s=>{hk(e,t,o,n,s)})};const bk=(e,t,o)=>{const n=e.element;o.setDocked(false);const s=t.lazyViewport(e);dk(e,s,o).each(n=>{switch(n.morph){case"static":{fk(e,t,o);break}case"absolute":{mk(e,t,o,n.positionCss);break}}});o.setVisible(true);t.contextual.each(t=>{Kr(n,[t.fadeInClass,t.fadeOutClass,t.transitionClass]);t.onShow(e)});vk(e,t,o)};const vk=(e,t,o)=>{if(e.getSystem().isConnected()){yk(e,t,o)}};const kk=(e,t,o)=>{if(o.isDocked()){bk(e,t,o)}};const wk=e=>(t,o,n)=>{const s=o.lazyViewport(t);const r=uk(t.element,s,n,e);r.each(e=>{pk(t,o,n,s,e)})};const _k=wk(Gv);const xk=wk(Kv);const Ck=(e,t,o)=>o.isDocked();const Sk=(e,t,o,n)=>o.setModes(n);const zk=(e,t,o)=>o.getModes();var Tk=Object.freeze({__proto__:null,refresh:vk,reset:kk,isDocked:Ck,getModes:zk,setModes:Sk,forceDockToTop:_k,forceDockToBottom:xk});const Ek=(e,t)=>xm([Lm(Ol(),(o,n)=>{e.contextual.each(e=>{if(Wr(o.element,e.transitionClass)){Kr(o.element,[e.transitionClass,e.fadeInClass]);const n=t.isVisible()?e.onShown:e.onHidden;n(o)}n.stop()})}),Tm(Wl(),(o,n)=>{vk(o,e,t)}),Tm(td(),(o,n)=>{vk(o,e,t)}),Tm(Gl(),(o,n)=>{kk(o,e,t)})]);var Ok=Object.freeze({__proto__:null,events:Ek});var Ak=[Ui("contextual",[Ai("fadeInClass"),Ai("fadeOutClass"),Ai("transitionClass"),Mi("lazyContext"),zd("onShow"),zd("onShown"),zd("onHide"),zd("onHidden")]),Ji("lazyViewport",()=>({bounds:tc(),optScrollEnv:M.none()})),el("modes",["top","bottom"],Mc),zd("onDocked"),zd("onUndocked")];const Dk=e=>{const t=Ee(false);const o=Ee(true);const n=wt();const s=Ee(e.modes);const r=()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: ${s.get().join(",")}`;return lm({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:s.get,setModes:s.set,readState:r})};var Mk=Object.freeze({__proto__:null,init:Dk});const Nk=Jm({fields:Ak,name:"docking",active:Ok,apis:Tk,state:Mk});const Rk=Te.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]);const Bk=e=>t=>t.translate(-e.left,-e.top);const Lk=e=>t=>t.translate(e.left,e.top);const Hk=e=>(t,o)=>G(e,(e,t)=>t(e),lr(t,o));const Ik=(e,t,o)=>e.fold(Hk([Lk(o),Bk(t)]),Hk([Bk(t)]),Hk([]));const Pk=(e,t,o)=>e.fold(Hk([Lk(o)]),Hk([]),Hk([Lk(t)]));const Fk=(e,t,o)=>e.fold(Hk([]),Hk([Bk(o)]),Hk([Lk(t),Bk(o)]));const Vk=(e,t,o,n,s,r)=>{const a=Pk(e,s,r);const c=Pk(t,s,r);return Math.abs(a.left-c.left)<=o&&Math.abs(a.top-c.top)<=n};const jk=(e,t,o,n,s,r)=>{const a=Pk(e,s,r);const c=Pk(t,s,r);const i=Math.abs(a.left-c.left);const l=Math.abs(a.top-c.top);return lr(i,l)};const Zk=(e,t,o)=>{const n=e.fold((e,t)=>({position:M.some("absolute"),left:M.some(e+"px"),top:M.some(t+"px")}),(e,t)=>({position:M.some("absolute"),left:M.some(e-o.left+"px"),top:M.some(t-o.top+"px")}),(e,t)=>({position:M.some("fixed"),left:M.some(e+"px"),top:M.some(t+"px")}));return{right:M.none(),bottom:M.none(),...n}};const Uk=(e,t,o)=>e.fold((e,n)=>$k(e+t,n+o),(e,n)=>Wk(e+t,n+o),(e,n)=>Gk(e+t,n+o));const qk=(e,t,o,n)=>{const s=(e,s)=>(r,a)=>{const c=e(t,o,n);return s(r.getOr(c.left),a.getOr(c.top))};return e.fold(s(Fk,$k),s(Pk,Wk),s(Ik,Gk))};const $k=Rk.offset;const Wk=Rk.absolute;const Gk=Rk.fixed;const Kk=(e,t)=>{const o=hs(e,t);return m(o)?NaN:parseInt(o,10)};const Yk=(e,t)=>{const o=e.element;const n=Kk(o,t.leftAttr);const s=Kk(o,t.topAttr);return isNaN(n)||isNaN(s)?M.none():M.some(lr(n,s))};const Xk=(e,t,o)=>{const n=e.element;gs(n,t.leftAttr,o.left+"px");gs(n,t.topAttr,o.top+"px")};const Jk=(e,t)=>{const o=e.element;vs(o,t.leftAttr);vs(o,t.topAttr)};const Qk=(e,t,o,n)=>Yk(e,t).fold(()=>o,e=>Gk(e.left+n.left,e.top+n.top));const ew=(e,t,o,n,s,r)=>{const a=Qk(e,t,o,n);const c=t.mustSnap?nw(e,t,a,s,r):sw(e,t,a,s,r);const i=Ik(a,s,r);Xk(e,t,i);return c.fold(()=>({coord:Gk(i.left,i.top),extra:M.none()}),e=>({coord:e.output,extra:e.extra}))};const tw=(e,t)=>{Jk(e,t)};const ow=(e,t,o,n)=>de(e,e=>{const s=e.sensor;const r=Vk(t,s,e.range.left,e.range.top,o,n);return r?M.some({output:qk(e.output,t,o,n),extra:e.extra}):M.none()});const nw=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);const a=ow(r,o,n,s);return a.orThunk(()=>{const e=G(r,(e,t)=>{const r=t.sensor;const a=jk(o,r,t.range.left,t.range.top,n,s);return e.deltas.fold(()=>({deltas:M.some(a),snap:M.some(t)}),o=>{const n=(a.left+a.top)/2;const s=(o.left+o.top)/2;if(n<=s){return{deltas:M.some(a),snap:M.some(t)}}else{return e}})},{deltas:M.none(),snap:M.none()});return e.snap.map(e=>({output:qk(e.output,o,n,s),extra:e.extra}))})};const sw=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);return ow(r,o,n,s)};const rw=(e,t,o)=>({coord:qk(e.output,e.output,t,o),extra:e.extra});const aw=(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const t=vn(e.element);const o=gr(t);const r=sc(s);const a=rw(n,o,r);const c=Zk(a.coord,o,r);Fs(s,c)}};var cw=Object.freeze({__proto__:null,snapTo:aw});const iw=(e,t)=>tl(e,{},j(t,t=>Ni(t.name(),"Cannot configure "+t.name()+" for "+e)).concat([Si("dump",C)]));const lw=e=>e.dump;const dw=(e,t)=>({...Ym(t),...e.dump});const uw={field:iw,augment:dw,get:lw};const fw=(e,t)=>{const o=e.length>0?[Ri("parts",e)]:[];return o.concat([Ti("uid"),$i("dom",{}),$i("components",[]),Dd("originalSpec"),$i("debug.sketcher",{})]).concat(t)};const mw=(e,t,o,n,s)=>{const r=fw(n,s);return ki(e+" [SpecSchema]",ri(r.concat(t)),o)};const gw=(e,t,o,n)=>{const s=yw(n);const r=mw(e,t,s,[],[]);return o(r,s)};const pw=(e,t,o,n,s)=>{const r=yw(s);const a=Ou(o);const c=Fu(o);const i=mw(e,t,r,a,[c]);const l=Du(e,i,o);const d=Mu(e,i,l.internals());return n(i,d,r,l.externals())};const hw=e=>Ce(e,"uid");const yw=e=>hw(e)?e:{...e,uid:cb("uid")};const bw=e=>e.uid!==undefined;const vw=ri([Ti("name"),Ti("factory"),Ti("configFields"),$i("apis",{}),$i("extraApis",{})]);const kw=ri([Ti("name"),Ti("factory"),Ti("configFields"),Ti("partFields"),$i("apis",{}),$i("extraApis",{})]);const ww=e=>{const t=ki("Sketcher for "+e.name,vw,e);const o=e=>gw(t.name,t.configFields,t.factory,e);const n=ge(t.apis,uy);const s=ge(t.extraApis,(e,t)=>Bd(e,t));return{name:t.name,configFields:t.configFields,sketch:o,...n,...s}};const _w=e=>{const t=ki("Sketcher for "+e.name,kw,e);const o=e=>pw(t.name,t.configFields,t.partFields,t.factory,e);const n=zu(t.name,t.partFields);const s=ge(t.apis,uy);const r=ge(t.extraApis,(e,t)=>Bd(e,t));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:o,parts:n,...s,...r}};const xw=e=>{const{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...o},components:e.components,behaviours:lw(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}};const Cw=ww({name:"Container",factory:xw,configFields:[$i("components",[]),iw("containerBehaviours",[]),$i("events",{}),$i("domModification",{}),$i("eventOrder",{})]});const Sw="data-initial-z-index";const zw=e=>{xn(e.element).filter(gn).each(e=>{ys(e,Sw).fold(()=>$s(e,"z-index"),t=>Is(e,"z-index",t));vs(e,Sw)})};const Tw=e=>{xn(e.element).filter(gn).each(t=>{Zs(t,"z-index").each(e=>{gs(t,Sw,e)});Is(t,"z-index",Vs(e.element,"z-index"))})};const Ew=(e,t)=>{e.getSystem().addToGui(t);Tw(t)};const Ow=e=>{zw(e);e.getSystem().removeFromGui(e)};const Aw=(e,t,o)=>e.getSystem().build(Cw.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:o}));var Dw=Ui("snaps",[Ti("getSnapPoints"),zd("onSensor"),Ti("leftAttr"),Ti("topAttr"),$i("lazyViewport",tc),$i("mustSnap",false)]);const Mw=[$i("useFixed",A),Ti("blockerClass"),$i("getTarget",C),$i("onDrag",v),$i("repositionTarget",true),$i("onDrop",v),Ji("getBounds",tc),Dw];const Nw=e=>ut(Zs(e,"left"),Zs(e,"top"),Zs(e,"position"),(e,t,o)=>{const n=o==="fixed"?Gk:$k;return n(parseInt(e,10),parseInt(t,10))}).getOrThunk(()=>{const t=fr(e);return Wk(t.left,t.top)});const Rw=(e,t,o,n,s)=>{const r=s.bounds;const a=Pk(t,o,n);const c=Xe(a.left,r.x,r.x+r.width-s.width);const i=Xe(a.top,r.y,r.y+r.height-s.height);const l=Wk(c,i);return t.fold(()=>{const e=Fk(l,o,n);return $k(e.left,e.top)},x(l),()=>{const e=Ik(l,o,n);return Gk(e.left,e.top)})};const Bw=(e,t,o,n,s,r,a)=>{const c=t.fold(()=>{const e=Uk(o,r.left,r.top);const t=Ik(e,n,s);return Gk(t.left,t.top)},t=>{const a=ew(e,t,o,r,n,s);a.extra.each(o=>{t.onSensor(e,o)});return a.coord});return Rw(e,c,n,s,a)};const Lw=(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=vn(e.element);const a=gr(r);const c=sc(s);const i=Nw(s);const l=Bw(e,t.snaps,i,a,c,n,o);const d=Zk(l,a,c);Fs(s,d)}t.onDrag(e,s,n)};const Hw=(e,t)=>({bounds:e.getBounds(),height:Xs(t.element),width:rr(t.element)});const Iw=(e,t,o,n,s)=>{const r=o.update(n,s);const a=o.getStartData().getOrThunk(()=>Hw(t,e));r.each(o=>{Lw(e,t,a,o)})};const Pw=(e,t,o,n)=>{t.each(Ow);o.snaps.each(t=>{tw(e,t)});const s=o.getTarget(e.element);n.reset();o.onDrop(e,s)};const Fw=e=>(t,o)=>{const n=e=>{o.setStartData(Hw(t,e))};return xm([Tm(Wl(),e=>{o.getStartData().each(()=>n(e))}),...e(t,o,n)])};const Vw=e=>xm([Tm(hl(),e.forceDrop),Tm(vl(),e.drop),Tm(yl(),(t,o)=>{e.move(o.event)}),Tm(bl(),e.delayDrop)]);const jw=e=>M.from(lr(e.x,e.y));const Zw=(e,t)=>lr(t.left-e.left,t.top-e.top);var Uw=Object.freeze({__proto__:null,getData:jw,getDelta:Zw});const qw=(e,t,o)=>[Tm(hl(),(n,s)=>{const r=s.event.raw;if(r.button!==0){return}s.stop();const a=()=>Pw(n,M.some(l),e,t);const c=Hd(a,200);const i={drop:a,delayDrop:c.schedule,forceDrop:a,move:o=>{c.cancel();Iw(n,e,t,Uw,o)}};const l=Aw(n,e.blockerClass,Vw(i));const d=()=>{o(n);Ew(n,l)};d()})];const $w=[...Mw,Ad("dragger",{handlers:Fw(qw)})];const Ww=e=>xm([Tm(fl(),e.forceDrop),Tm(gl(),e.drop),Tm(pl(),e.drop),Tm(ml(),(t,o)=>{e.move(o.event)})]);const Gw=e=>{const t=e[0];return M.some(lr(t.clientX,t.clientY))};const Kw=e=>{const t=e.raw;const o=t.touches;return o.length===1?Gw(o):M.none()};const Yw=(e,t)=>lr(t.left-e.left,t.top-e.top);var Xw=Object.freeze({__proto__:null,getData:Kw,getDelta:Yw});const Jw=(e,t,o)=>{const n=wt();const s=o=>{Pw(o,n.get(),e,t);n.clear()};return[Tm(fl(),(r,a)=>{a.stop();const c=()=>s(r);const i={drop:c,delayDrop:v,forceDrop:c,move:o=>{Iw(r,e,t,Xw,o)}};const l=Aw(r,e.blockerClass,Ww(i));n.set(l);const d=()=>{o(r);Ew(r,l)};d()}),Tm(ml(),(o,n)=>{n.stop();Iw(o,e,t,Xw,n.event)}),Tm(gl(),(e,t)=>{t.stop();s(e)}),Tm(pl(),s)]};const Qw=[...Mw,Ad("dragger",{handlers:Fw(Jw)})];const e_=(e,t,o)=>[...qw(e,t,o),...Jw(e,t,o)];const t_=[...Mw,Ad("dragger",{handlers:Fw(e_)})];const o_=$w;const n_=Qw;const s_=t_;var r_=Object.freeze({__proto__:null,mouse:o_,touch:n_,mouseOrTouch:s_});const a_=()=>{let e=M.none();let t=M.none();const o=()=>{e=M.none();t=M.none()};const n=(t,o)=>{const n=e.map(e=>t.getDelta(e,o));e=M.some(o);return n};const s=(e,t)=>e.getData(t).bind(t=>n(e,t));const r=e=>{t=M.some(e)};const a=()=>t;const c=x({});return lm({readState:c,reset:o,update:s,getStartData:a,setStartData:r})};var c_=Object.freeze({__proto__:null,init:a_});const i_=eg({branchKey:"mode",branches:r_,name:"dragging",active:{events:(e,t)=>{const o=e.dragger;return o.handlers(e,t)}},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:M.from(e.extra)})},state:c_,apis:cw});const l_=["input","textarea"];const d_=e=>{const t=dn(e);return I(l_,t)};const u_=(e,t)=>{const o=t.getRoot(e).getOr(e.element);qr(o,t.invalidClass);t.notify.each(t=>{if(d_(e.element)){gs(e.element,"aria-invalid",false)}t.getContainer(e).each(e=>{Es(e,t.validHtml)});t.onValid(e)})};const f_=(e,t,o,n)=>{const s=t.getRoot(e).getOr(e.element);Zr(s,t.invalidClass);t.notify.each(t=>{if(d_(e.element)){gs(e.element,"aria-invalid",true)}t.getContainer(e).each(e=>{Es(e,n)});t.onInvalid(e,n)})};const m_=(e,t,o)=>t.validator.fold(()=>Le.pure(Fe.value(true)),t=>t.validate(e));const g_=(e,t,o)=>{t.notify.each(t=>{t.onValidate(e)});return m_(e,t).map(n=>{if(e.getSystem().isConnected()){return n.fold(n=>{f_(e,t,o,n);return Fe.error(n)},o=>{u_(e,t);return Fe.value(o)})}else{return Fe.error("No longer in system")}})};const p_=(e,t)=>{const o=t.getRoot(e).getOr(e.element);return Wr(o,t.invalidClass)};var h_=Object.freeze({__proto__:null,markValid:u_,markInvalid:f_,query:m_,run:g_,isInvalid:p_});const y_=(e,t)=>e.validator.map(o=>xm([Tm(o.onEvent,o=>{g_(o,e,t).get(C)})].concat(o.validateOnLoad?[Hm(o=>{g_(o,e,t).get(v)})]:[]))).getOr({});var b_=Object.freeze({__proto__:null,events:y_});var v_=[Ti("invalidClass"),$i("getRoot",M.none),Ui("notify",[$i("aria","alert"),$i("getContainer",M.none),$i("validHtml",""),zd("onValid"),zd("onInvalid"),zd("onValidate")]),Ui("validator",[Ti("validate"),$i("onEvent","input"),$i("validateOnLoad",true)])];const k_=(e,t,o)=>{t.store.manager.onLoad(e,t,o)};const w_=(e,t,o)=>{t.store.manager.onUnload(e,t,o)};const __=(e,t,o,n)=>{t.store.manager.setValue(e,t,o,n)};const x_=(e,t,o)=>t.store.manager.getValue(e,t,o);const C_=(e,t,o)=>o;var S_=Object.freeze({__proto__:null,onLoad:k_,onUnload:w_,setValue:__,getValue:x_,getState:C_});const z_=(e,t)=>{const o=e.resetOnDom?[Hm((o,n)=>{k_(o,e,t)}),Im((o,n)=>{w_(o,e,t)})]:[Um(e,t,k_)];return xm(o)};var T_=Object.freeze({__proto__:null,events:z_});const E_=()=>{const e=Ee(null);const t=()=>({mode:"memory",value:e.get()});const o=()=>e.get()===null;const n=()=>{e.set(null)};return lm({set:e.set,get:e.get,isNotSet:o,clear:n,readState:t})};const O_=()=>{const e=v;return lm({readState:e})};const A_=()=>{const e=Ee({});const t=Ee({});const o=()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()});const n=()=>{e.set({});t.set({})};const s=o=>xe(e.get(),o).orThunk(()=>xe(t.get(),o));const r=o=>{const n=e.get();const s=t.get();const r={};const a={};Z(o,e=>{r[e.value]=e;xe(e,"meta").each(t=>{xe(t,"text").each(t=>{a[t]=e})})});e.set({...n,...r});t.set({...s,...a})};return lm({readState:o,lookup:s,update:r,clear:n})};const D_=e=>e.store.manager.state(e);var M_=Object.freeze({__proto__:null,memory:E_,dataset:A_,manual:O_,init:D_});const N_=(e,t,o,n)=>{const s=t.store;o.update([n]);s.setValue(e,n);t.onSetValue(e,n)};const R_=(e,t,o)=>{const n=t.store;const s=n.getDataKey(e);return o.lookup(s).getOrThunk(()=>n.getFallbackEntry(s))};const B_=(e,t,o)=>{const n=t.store;n.initialValue.each(n=>{N_(e,t,o,n)})};const L_=(e,t,o)=>{o.clear()};var H_=[Hi("initialValue"),Ti("getFallbackEntry"),Ti("getDataKey"),Ti("setValue"),Ad("manager",{setValue:N_,getValue:R_,onLoad:B_,onUnload:L_,state:A_})];const I_=(e,t,o)=>t.store.getValue(e);const P_=(e,t,o,n)=>{t.store.setValue(e,n);t.onSetValue(e,n)};const F_=(e,t,o)=>{t.store.initialValue.each(o=>{t.store.setValue(e,o)})};var V_=[Ti("getValue"),$i("setValue",v),Hi("initialValue"),Ad("manager",{setValue:P_,getValue:I_,onLoad:F_,onUnload:v,state:im.init})];const j_=(e,t,o,n)=>{o.set(n);t.onSetValue(e,n)};const Z_=(e,t,o)=>o.get();const U_=(e,t,o)=>{t.store.initialValue.each(e=>{if(o.isNotSet()){o.set(e)}})};const q_=(e,t,o)=>{o.clear()};var $_=[Hi("initialValue"),Ad("manager",{setValue:j_,getValue:Z_,onLoad:U_,onUnload:q_,state:E_})];var W_=[Wi("store",{mode:"memory"},_i("mode",{memory:$_,manual:V_,dataset:H_})),zd("onSetValue"),$i("resetOnDom",false)];const G_=Jm({fields:W_,name:"representing",active:T_,apis:S_,extra:{setValueFrom:(e,t)=>{const o=G_.getValue(t);G_.setValue(e,o)}},state:M_});const K_=Jm({fields:v_,name:"invalidating",active:b_,apis:h_,extra:{validation:e=>t=>{const o=G_.getValue(t);return Le.pure(e(o))}}});const Y_=(e,t)=>Vm({classes:[],styles:t.useFixed()?{}:{position:"relative"}});var X_=Object.freeze({__proto__:null,exhibit:Y_});const J_=Te.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]);const Q_=(e,t,o,n,s,r)=>{const a=t.rect;const c=a.x-o;const i=a.y-n;const l=a.width;const d=a.height;const u=s-(c+l);const f=r-(i+d);const m=M.some(c);const g=M.some(i);const p=M.some(u);const h=M.some(f);const y=M.none();return Wu(t.direction,()=>Fv(e,m,g,y,y),()=>Fv(e,y,g,p,y),()=>Fv(e,m,y,y,h),()=>Fv(e,y,y,p,h),()=>Fv(e,m,g,y,y),()=>Fv(e,m,y,y,h),()=>Fv(e,m,g,y,y),()=>Fv(e,y,g,p,y))};const ex=(e,t)=>e.fold(()=>{const e=t.rect;return Fv("absolute",M.some(e.x),M.some(e.y),M.none(),M.none())},(e,o,n,s)=>Q_("absolute",t,e,o,n,s),(e,o,n,s)=>Q_("fixed",t,e,o,n,s));const tx=(e,t)=>{const o=z(Wa,t);const n=e.fold(o,o,()=>{const e=gr();return Wa(t).translate(-e.left,-e.top)});const s=rr(t);const r=Xs(t);return Ya(n.left,n.top,s,r)};const ox=(e,t)=>t.fold(()=>e.fold(tc,tc,Ya),t=>e.fold(x(t),x(t),()=>{const o=nx(e,t.x,t.y);return Ya(o.left,o.top,t.width,t.height)}));const nx=(e,t,o)=>{const n=lr(t,o);const s=()=>{const e=gr();return n.translate(-e.left,-e.top)};return e.fold(x(n),x(n),s)};const sx=(e,t,o,n)=>e.fold(t,o,n);J_.none;const rx=J_.relative;const ax=J_.fixed;const cx=(e,t)=>({anchorBox:e,origin:t});const ix=(e,t)=>cx(e,t);const lx=Te.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]);const dx=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t;const{x:a,y:c,right:i,bottom:l,width:d,height:u}=e;const f=a>=o&&a<=s;const m=c>=n&&c<=r;const g=f&&m;const p=i<=s&&i>=o;const h=l<=r&&l>=n;const y=p&&h;const b=Math.min(d,a>=o?s-a:i-o);const v=Math.min(u,c>=n?r-c:l-n);return{originInBounds:g,sizeInBounds:y,visibleW:b,visibleH:v}};const ux=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t;const{x:a,y:c,width:i,height:l}=e;const d=Math.max(o,s-i);const u=Math.max(n,r-l);const f=Xe(a,o,d);const m=Xe(c,n,u);const g=Math.min(f+i,s)-f;const p=Math.min(m+l,r)-m;return Ya(f,m,g,p)};const fx=(e,t,o)=>{const n=x(t.bottom-o.y);const s=x(o.bottom-t.y);const r=Gu(e,s,s,n);const a=x(t.right-o.x);const c=x(o.right-t.x);const i=Ku(e,c,c,a);return{maxWidth:i,maxHeight:r}};const mx=(e,t,o,n)=>{const s=e.bubble;const r=s.offset;const a=af(n,e.restriction,r);const c=e.x+r.left;const i=e.y+r.top;const l=Ya(c,i,t,o);const{originInBounds:d,sizeInBounds:u,visibleW:f,visibleH:m}=dx(l,a);const g=d&&u;const p=g?l:ux(l,a);const h=p.width>0&&p.height>0;const{maxWidth:y,maxHeight:b}=fx(e.direction,p,n);const v={rect:p,maxHeight:b,maxWidth:y,direction:e.direction,placement:e.placement,classes:{on:s.classesOn,off:s.classesOff},layout:e.label,testY:i};return g||e.alwaysFit?lx.fit(v):lx.nofit(v,f,m,h)};const gx=(e,t,o,n,s,r)=>{const a=n.width;const c=n.height;const i=(t,i,l,d,u)=>{const f=t(o,n,s,e,r);const m=mx(f,a,c,r);return m.fold(x(m),(e,t,o,n)=>{const s=u===n?o>d||t>l:!u&&n;return s?m:lx.nofit(i,l,d,u)})};const l=G(t,(e,t)=>{const o=z(i,t);return e.fold(x(e),o)},lx.nofit({rect:o,maxHeight:n.height,maxWidth:n.width,direction:Yu(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,false));return l.fold(C,C)};const px=["top","bottom","right","left"];const hx="data-alloy-transition-timer";const yx=(e,t)=>Xr(e,t.classes);const bx=(e,t,o)=>o.exists(o=>{const n=e.mode;return n==="all"?true:o[n]!==t[n]});const vx=(e,t)=>{const o=e=>parseFloat(e).toFixed(3);return we(t,(t,n)=>{const s=e[n].map(o);const r=t.map(o);return!ct(s,r)}).isSome()};const kx=e=>{const t=t=>{const o=Vs(e,t);const n=o.split(/\s*,\s*/);return $(n,Mt)};const o=e=>{if(c(e)&&/^[\d.]+/.test(e)){const t=parseFloat(e);return Ot(e,"ms")?t:t*1e3}else{return 0}};const n=t("transition-delay");const s=t("transition-duration");return G(s,(e,t,s)=>{const r=o(n[s])+o(t);return Math.max(e,r)},0)};const wx=(e,t)=>{const o=kt();const n=kt();let s;const r=t=>{var o;const n=(o=t.raw.pseudoElement)!==null&&o!==void 0?o:"";return po(t.target,e)&&Nt(n)&&I(px,t.raw.propertyName)};const a=a=>{if(g(a)||r(a)){o.clear();n.clear();const r=a===null||a===void 0?void 0:a.raw.type;if(g(r)||r===Ol()){clearTimeout(s);vs(e,hx);Kr(e,t.classes)}}};const c=Jn(e,Al(),t=>{if(r(t)){c.unbind();o.set(Jn(e,Ol(),a));n.set(Jn(e,El(),a))}});const i=kx(e);requestAnimationFrame(()=>{s=setTimeout(a,i+17);gs(e,hx,s)})};const _x=(e,t)=>{Gr(e,t.classes);ys(e,hx).each(t=>{clearTimeout(parseInt(t,10));vs(e,hx)});wx(e,t)};const xx=(e,t,o,n,s,r)=>{const a=bx(n,s,r);if(a||yx(e,n)){Is(e,"position",o.position);const r=tx(t,e);const c=ex(t,{...s,rect:r});const i=ne(px,e=>c[e]);if(vx(o,i)){Fs(e,i);if(a){_x(e,n)}Ws(e)}}else{Kr(e,n.classes)}};const Cx=e=>({width:Math.ceil(ar(e)),height:Xs(e)});const Sx=(e,t,o,n)=>{$s(t,"max-height");$s(t,"max-width");const s=Cx(t);return gx(t,n.preference,e,s,o,n.bounds)};const zx=(e,t)=>{const o=t.classes;Kr(e,o.off);Gr(e,o.on)};const Tx=(e,t,o)=>{const n=o.maxHeightFunction;n(e,t.maxHeight)};const Ex=(e,t,o)=>{const n=o.maxWidthFunction;n(e,t.maxWidth)};const Ox=(e,t,o)=>{const n=ex(o.origin,t);o.transition.each(s=>{xx(e,o.origin,n,s,t,o.lastPlacement)});jv(e,n)};const Ax=(e,t)=>{Mf(e,t.placement)};const Dx=(e,t,o)=>e[t]===undefined?o:e[t];const Mx=(e,t,o,n,s,r,a,c)=>{const i=Dx(a,"maxHeightFunction",tm());const l=Dx(a,"maxWidthFunction",v);const d=e.anchorBox;const u=e.origin;const f={bounds:ox(u,r),origin:u,preference:n,maxHeightFunction:i,maxWidthFunction:l,lastPlacement:s,transition:c};return Nx(d,t,o,f)};const Nx=(e,t,o,n)=>{const s=Sx(e,t,o,n);Ox(t,s,n);Ax(t,s);zx(t,s);Tx(t,s,n);Ex(t,s,n);return{layout:s.layout,placement:s.placement}};const Rx=C;const Bx=()=>Ui("layouts",[Ti("onLtr"),Ti("onRtl"),Hi("onBottomLtr"),Hi("onBottomRtl")]);const Lx=(e,t,o,n,s,r,a)=>{const c=a.map(am).getOr(false);const i=t.layouts.map(t=>t.onLtr(e));const l=t.layouts.map(t=>t.onRtl(e));const d=c?t.layouts.bind(t=>t.onBottomLtr.map(t=>t(e))).or(i).getOr(s):i.getOr(o);const u=c?t.layouts.bind(t=>t.onBottomRtl.map(t=>t(e))).or(l).getOr(r):l.getOr(n);const f=vr(d,u);return f(e)};const Hx=(e,t,o)=>{const n=t.hotspot;const s=tx(o,n.element);const r=Lx(e.element,t,Of(),Af(),Tf(),Ef(),M.some(t.hotspot.element));return M.some(Rx({anchorBox:s,bubble:t.bubble.getOr(Uu()),overrides:t.overrides,layouts:r}))};var Ix=[Ti("hotspot"),Hi("bubble"),$i("overrides",{}),Bx(),Ad("placement",Hx)];const Px=(e,t,o)=>{const n=nx(o,t.x,t.y);const s=Ya(n.left,n.top,t.width,t.height);const r=Lx(e.element,t,Sf(),zf(),Sf(),zf(),M.none());return M.some(Rx({anchorBox:s,bubble:t.bubble,overrides:t.overrides,layouts:r}))};var Fx=[Ti("x"),Ti("y"),$i("height",0),$i("width",0),$i("bubble",Uu()),$i("overrides",{}),Bx(),Ad("placement",Px)];const Vx=Te.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]);const jx=e=>e.fold(C,(e,t,o)=>e.translate(-t,-o));const Zx=e=>e.fold(C,C);const Ux=e=>G(e,(e,t)=>e.translate(t.left,t.top),lr(0,0));const qx=e=>{const t=j(e,jx);return Ux(t)};const $x=e=>{const t=j(e,Zx);return Ux(t)};const Wx=Vx.screen;const Gx=Vx.absolute;const Kx=(e,t,o)=>{const n=_n(o.root).dom;const s=t=>{const o=vn(t);const n=vn(e.element);return po(o,n)};return M.from(n.frameElement).map($t.fromDom).filter(s).map(fr)};const Yx=(e,t,o)=>{const n=vn(e.element);const s=gr(n);const r=Kx(e,t,o).getOr(s);return Gx(r,s.left,s.top)};const Xx=(e,t,o,n)=>{const s=Wx(lr(e,t));return M.some(Ga(s,o,n))};const Jx=(e,t,o,n,s)=>e.map(e=>{const r=[t,e.point];const a=sx(n,()=>$x(r),()=>$x(r),()=>qx(r));const c=Ka(a.left,a.top,e.width,e.height);const i=o.showAbove?Tf():Of();const l=o.showAbove?Ef():Af();const d=Lx(s,o,i,l,i,l,M.none());return Rx({anchorBox:c,bubble:o.bubble.getOr(Uu()),overrides:o.overrides,layouts:d})});const Qx=(e,t,o)=>{const n=Yx(e,o,t);return t.node.filter(Ns).bind(s=>{const r=s.dom.getBoundingClientRect();const a=Xx(r.left,r.top,r.width,r.height);const c=t.node.getOr(e.element);return Jx(a,n,t,o,c)})};var eC=[Ti("node"),Ti("root"),Hi("bubble"),Bx(),$i("overrides",{}),$i("showAbove",false),Ad("placement",Qx)];const tC=(e,t)=>({element:e,offset:t});const oC=(e,t)=>{const o=On(e);if(o.length===0){return tC(e,t)}else if(t<o.length){return tC(o[t],0)}else{const e=o[o.length-1];const t=pn(e)?br(e).length:On(e).length;return tC(e,t)}};const nC=(e,t)=>pn(e)?tC(e,t):oC(e,t);const sC=e=>e.foffset!==undefined;const rC=(e,t)=>{const o=t.getSelection.getOrThunk(()=>()=>Da(e));return o().map(e=>{if(sC(e)){const t=nC(e.start,e.soffset);const o=nC(e.finish,e.foffset);return Ta.range(t.element,t.offset,o.element,o.offset)}else{return e}})};const aC=(e,t,o)=>{const n=_n(t.root).dom;const s=Yx(e,o,t);const r=rC(n,t).bind(e=>{if(sC(e)){const t=Na(n,Ta.exactFromRange(e)).orThunk(()=>{const t=$t.fromText(Pt);cs(e.start,t);const o=Ma(n,Ta.exact(t,0,t,1));_s(t);return o});return t.bind(e=>Xx(e.left,e.top,e.width,e.height))}else{const t=ge(e,e=>e.dom.getBoundingClientRect());const o={left:Math.min(t.firstCell.left,t.lastCell.left),right:Math.max(t.firstCell.right,t.lastCell.right),top:Math.min(t.firstCell.top,t.lastCell.top),bottom:Math.max(t.firstCell.bottom,t.lastCell.bottom)};return Xx(o.left,o.top,o.right-o.left,o.bottom-o.top)}});const a=rC(n,t).bind(e=>{if(sC(e)){return gn(e.start)?M.some(e.start):Sn(e.start)}else{return M.some(e.firstCell)}});const c=a.getOr(e.element);return Jx(r,s,t,o,c)};var cC=[Hi("getSelection"),Ti("root"),Hi("bubble"),Bx(),$i("overrides",{}),$i("showAbove",false),Ad("placement",aC)];const iC="link-layout";const lC=e=>e.x+e.width;const dC=(e,t)=>e.x-t.width;const uC=(e,t)=>e.y-t.height+e.height;const fC=e=>e.y;const mC=(e,t,o)=>qu(lC(e),fC(e),o.southeast(),Yu(),"southeast",rf(e,{left:0,top:2}),iC);const gC=(e,t,o)=>qu(dC(e,t),fC(e),o.southwest(),Xu(),"southwest",rf(e,{right:1,top:2}),iC);const pC=(e,t,o)=>qu(lC(e),uC(e,t),o.northeast(),Ju(),"northeast",rf(e,{left:0,bottom:3}),iC);const hC=(e,t,o)=>qu(dC(e,t),uC(e,t),o.northwest(),Qu(),"northwest",rf(e,{right:1,bottom:3}),iC);const yC=()=>[mC,gC,pC,hC];const bC=()=>[gC,mC,hC,pC];const vC=(e,t,o)=>{const n=tx(o,t.item.element);const s=Lx(e.element,t,yC(),bC(),yC(),bC(),M.none());return M.some(Rx({anchorBox:n,bubble:Uu(),overrides:t.overrides,layouts:s}))};var kC=[Ti("item"),Bx(),$i("overrides",{}),Ad("placement",vC)];var wC=_i("type",{selection:cC,node:eC,hotspot:Ix,submenu:kC,makeshift:Fx});const _C=[Li("classes",Mc),Yi("mode","all",["all","layout","placement"])];const xC=[$i("useFixed",A),Hi("getBounds")];const CC=[Ei("anchor",wC),Ui("transition",_C)];const SC=()=>{const e=document.documentElement;return ax(0,0,e.clientWidth,e.clientHeight)};const zC=e=>{const t=fr(e.element);const o=e.element.dom.getBoundingClientRect();return rx(t.left,t.top,o.width,o.height)};const TC=(e,t,o,n,s,r)=>{const a=ix(t.anchorBox,e);return Mx(a,n.element,t.bubble,t.layouts,s,o,t.overrides,r)};const EC=(e,t,o,n,s)=>{const r=M.none();OC(e,t,o,n,s,r)};const OC=(e,t,o,n,s,r)=>{const a=ki("placement.info",ai(CC),s);const c=a.anchor;const i=n.element;const l=o.get(n.uid);Ly(()=>{Is(i,"position","fixed");const s=Zs(i,"visibility");Is(i,"visibility","hidden");const d=t.useFixed()?SC():zC(e);c.placement(e,c,d).each(e=>{const s=r.orThunk(()=>t.getBounds.map(O));const c=TC(d,e,s,n,l,a.transition);o.set(n.uid,c)});s.fold(()=>{$s(i,"visibility")},e=>{Is(i,"visibility",e)});if(Zs(i,"left").isNone()&&Zs(i,"top").isNone()&&Zs(i,"right").isNone()&&Zs(i,"bottom").isNone()&&at(Zs(i,"position"),"fixed")){$s(i,"position")}},i)};const AC=(e,t,o)=>t.useFixed()?"fixed":"absolute";const DC=(e,t,o,n)=>{const s=n.element;Z(["position","left","right","top","bottom"],e=>$s(s,e));Rf(s);o.clear(n.uid)};var MC=Object.freeze({__proto__:null,position:EC,positionWithinBounds:OC,getMode:AC,reset:DC});const NC=()=>{let e={};const t=(t,o)=>{e[t]=o};const o=t=>xe(e,t);const n=t=>{if(p(t)){delete e[t]}else{e={}}};return lm({readState:()=>e,clear:n,set:t,get:o})};var RC=Object.freeze({__proto__:null,init:NC});const BC=Jm({fields:xC,name:"positioning",active:X_,apis:MC,state:RC});const LC=(e,t)=>t.universal?e:$(e,e=>I(t.channels,e));const HC=e=>xm([Tm(Hl(),(t,o)=>{const n=e.channels;const s=ue(n);const r=o;const a=LC(s,r);Z(a,e=>{const o=n[e];const s=o.schema;const a=ki("channel["+e+"] data\nReceiver: "+ad(t.element),s,r.data);o.onReceive(t,a)})})]);var IC=Object.freeze({__proto__:null,events:HC});var PC=[Ei("channels",hi(Fe.value,ri([Ed("onReceive"),$i("schema",Oc())])))];const FC=Jm({fields:PC,name:"receiving",active:IC});const VC=(e,t)=>{const o=(o,n)=>{e.updateState.each(e=>{const s=e(o,n);t.set(s)});e.renderComponents.each(s=>{const r=s(n,t.get());const a=e.reuseDom?Iy:Hy;a(o,r)})};return xm([Tm(Hl(),(t,n)=>{const s=n;if(!s.universal){const n=e.channel;if(I(s.channels,n)){o(t,s.data)}}}),Hm((t,n)=>{e.initialData.each(e=>{o(t,e)})})])};var jC=Object.freeze({__proto__:null,events:VC});const ZC=(e,t,o)=>o;var UC=Object.freeze({__proto__:null,getState:ZC});var qC=[Ti("channel"),Hi("renderComponents"),Hi("updateState"),Hi("initialData"),Xi("reuseDom",true)];const $C=()=>{const e=Ee(M.none());const t=()=>e.set(M.none());const o=()=>e.get().getOr("none");return{readState:o,get:e.get,set:e.set,clear:t}};var WC=Object.freeze({__proto__:null,init:$C});const GC=Jm({fields:qC,name:"reflecting",active:jC,apis:UC,state:WC});const KC=(e,t,o,n)=>{o.get().each(t=>{Sy(e)});const s=t.getAttachPoint(e);wy(s,e);const r=e.getSystem().build(n);wy(e,r);o.set(r);return r};const YC=(e,t,o,n)=>{const s=KC(e,t,o,n);t.onOpen(e,s);return s};const XC=(e,t,o,n)=>o.get().map(()=>KC(e,t,o,n));const JC=(e,t,o,n,s)=>{rS(e,t);YC(e,t,o,n);s();cS(e,t)};const QC=(e,t,o)=>{o.get().each(n=>{Sy(e);Cy(e);t.onClose(e,n);o.clear()})};const eS=(e,t,o)=>o.isOpen();const tS=(e,t,o,n)=>eS(e,t,o)&&o.get().exists(o=>t.isPartOf(e,o,n));const oS=(e,t,o)=>o.get();const nS=(e,t,o,n)=>{Zs(e.element,t).fold(()=>{vs(e.element,o)},t=>{gs(e.element,o,t)});Is(e.element,t,n)};const sS=(e,t,o)=>{ys(e.element,o).fold(()=>$s(e.element,t),o=>Is(e.element,t,o))};const rS=(e,t,o)=>{const n=t.getAttachPoint(e);Is(e.element,"position",BC.getMode(n));nS(e,"visibility",t.cloakVisibilityAttr,"hidden")};const aS=e=>P(["top","left","right","bottom"],t=>Zs(e,t).isSome());const cS=(e,t,o)=>{if(!aS(e.element)){$s(e.element,"position")}sS(e,"visibility",t.cloakVisibilityAttr)};var iS=Object.freeze({__proto__:null,cloak:rS,decloak:cS,open:YC,openWhileCloaked:JC,close:QC,isOpen:eS,isPartOf:tS,getState:oS,setContent:XC});const lS=(e,t)=>xm([Tm(jl(),(o,n)=>{QC(o,e,t)})]);var dS=Object.freeze({__proto__:null,events:lS});var uS=[zd("onOpen"),zd("onClose"),Ti("isPartOf"),Ti("getAttachPoint"),$i("cloakVisibilityAttr","data-precloak-visibility")];const fS=()=>{const e=wt();const t=x("not-implemented");return lm({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})};var mS=Object.freeze({__proto__:null,init:fS});const gS=Jm({fields:uS,name:"sandboxing",active:dS,apis:iS,state:mS});const pS=(e,t)=>t.getAnimationRoot.fold(()=>e.element,t=>t(e));const hS=e=>e.dimension.property;const yS=(e,t)=>e.dimension.getDimension(t);const bS=(e,t)=>{const o=pS(e,t);Kr(o,[t.shrinkingClass,t.growingClass])};const vS=(e,t)=>{qr(e.element,t.openClass);Zr(e.element,t.closedClass);Is(e.element,hS(t),"0px");Ws(e.element)};const kS=(e,t)=>{qr(e.element,t.closedClass);Zr(e.element,t.openClass);$s(e.element,hS(t))};const wS=(e,t,o,n)=>{o.setCollapsed();Is(e.element,hS(t),yS(t,e.element));bS(e,t);vS(e,t);t.onStartShrink(e);t.onShrunk(e)};const _S=(e,t,o,n)=>{const s=n.getOrThunk(()=>yS(t,e.element));o.setCollapsed();Is(e.element,hS(t),s);Ws(e.element);const r=pS(e,t);qr(r,t.growingClass);Zr(r,t.shrinkingClass);vS(e,t);t.onStartShrink(e)};const xS=(e,t,o)=>{const n=yS(t,e.element);const s=n==="0px"?wS:_S;s(e,t,o,M.some(n))};const CS=(e,t,o)=>{const n=pS(e,t);const s=Wr(n,t.shrinkingClass);const r=yS(t,e.element);kS(e,t);const a=yS(t,e.element);const c=()=>{Is(e.element,hS(t),r);Ws(e.element)};const i=()=>{vS(e,t)};const l=s?c:i;l();qr(n,t.shrinkingClass);Zr(n,t.growingClass);kS(e,t);Is(e.element,hS(t),a);o.setExpanded();t.onStartGrow(e)};const SS=(e,t,o)=>{if(o.isExpanded()){$s(e.element,hS(t));const o=yS(t,e.element);Is(e.element,hS(t),o)}};const zS=(e,t,o)=>{if(!o.isExpanded()){CS(e,t,o)}};const TS=(e,t,o)=>{if(o.isExpanded()){xS(e,t,o)}};const ES=(e,t,o)=>{if(o.isExpanded()){wS(e,t,o)}};const OS=(e,t,o)=>o.isExpanded();const AS=(e,t,o)=>o.isCollapsed();const DS=(e,t,o)=>{const n=pS(e,t);return Wr(n,t.growingClass)===true};const MS=(e,t,o)=>{const n=pS(e,t);return Wr(n,t.shrinkingClass)===true};const NS=(e,t,o)=>DS(e,t)||MS(e,t);const RS=(e,t,o)=>{const n=o.isExpanded()?xS:CS;n(e,t,o)};const BS=(e,t,o)=>{if(!o.isExpanded()){kS(e,t);Is(e.element,hS(t),yS(t,e.element));bS(e,t);o.setExpanded();t.onStartGrow(e);t.onGrown(e)}};var LS=Object.freeze({__proto__:null,refresh:SS,grow:zS,shrink:TS,immediateShrink:ES,hasGrown:OS,hasShrunk:AS,isGrowing:DS,isShrinking:MS,isTransitioning:NS,toggleGrow:RS,disableTransitions:bS,immediateGrow:BS});const HS=(e,t,o)=>{const n=t.expanded;return n?Vm({classes:[t.openClass],styles:{}}):Vm({classes:[t.closedClass],styles:al(t.dimension.property,"0px")})};const IS=(e,t)=>xm([Lm(Ol(),(o,n)=>{const s=n.event.raw;if(s.propertyName===e.dimension.property){bS(o,e);if(t.isExpanded()){$s(o.element,e.dimension.property)}const n=t.isExpanded()?e.onGrown:e.onShrunk;n(o)}})]);var PS=Object.freeze({__proto__:null,exhibit:HS,events:IS});var FS=[Ti("closedClass"),Ti("openClass"),Ti("shrinkingClass"),Ti("growingClass"),Hi("getAnimationRoot"),zd("onShrunk"),zd("onStartShrink"),zd("onGrown"),zd("onStartGrow"),$i("expanded",false),Ei("dimension",_i("property",{width:[Ad("property","width"),Ad("getDimension",e=>sr(e)+"px")],height:[Ad("property","height"),Ad("getDimension",e=>Ys(e)+"px")]}))];const VS=e=>{const t=Ee(e.expanded);const o=()=>"expanded: "+t.get();return lm({isExpanded:()=>t.get()===true,isCollapsed:()=>t.get()===false,setCollapsed:z(t.set,false),setExpanded:z(t.set,true),readState:o})};var jS=Object.freeze({__proto__:null,init:VS});const ZS=Jm({fields:FS,name:"sliding",active:PS,apis:LS,state:jS});const US=(e,t)=>{const o=e.stream.streams;const n=o.setup(e,t);return xm([Tm(e.event,n),Im(()=>t.cancel())].concat(e.cancelEvent.map(e=>[Tm(e,()=>t.cancel())]).getOr([])))};var qS=Object.freeze({__proto__:null,events:US});const $S=e=>{const t=Ee(null);const o=()=>({timer:t.get()!==null?"set":"unset"});const n=e=>{t.set(e)};const s=()=>{const e=t.get();if(e!==null){e.cancel()}};return lm({readState:o,setTimer:n,cancel:s})};const WS=e=>e.stream.streams.state(e);var GS=Object.freeze({__proto__:null,throttle:$S,init:WS});const KS=(e,t)=>{const o=e.stream;const n=Ht(e.onStream,o.delay);t.setTimer(n);return(e,t)=>{n.throttle(e,t);if(o.stopEvent){t.stop()}}};var YS=[Ei("stream",_i("mode",{throttle:[Ti("delay"),$i("stopEvent",true),Ad("streams",{setup:KS,state:$S})]})),$i("event","input"),Hi("cancelEvent"),Ed("onStream")];const XS=Jm({fields:YS,name:"streaming",active:qS,state:GS});const JS=(e,t)=>Vm({attributes:cl([{key:t.tabAttr,value:"true"}])});var QS=Object.freeze({__proto__:null,exhibit:JS});var ez=[$i("tabAttr","data-alloy-tabstop")];const tz=Jm({fields:ez,name:"tabstopping",active:QS});const oz=(e,t,o)=>{const n=t.aria;n.update(e,n,o.get())};const nz=(e,t,o)=>{t.toggleClass.each(t=>{if(o.get()){Zr(e.element,t)}else{qr(e.element,t)}})};const sz=(e,t,o,n)=>{const s=o.get();o.set(n);nz(e,t,o);oz(e,t,o);if(s!==n){t.onToggled(e,n)}};const rz=(e,t,o)=>{sz(e,t,o,!o.get())};const az=(e,t,o)=>{sz(e,t,o,true)};const cz=(e,t,o)=>{sz(e,t,o,false)};const iz=(e,t,o)=>o.get();const lz=(e,t,o)=>{sz(e,t,o,t.selected)};var dz=Object.freeze({__proto__:null,onLoad:lz,toggle:rz,isOn:iz,on:az,off:cz,set:sz});const uz=()=>Vm({});const fz=(e,t)=>{const o=Zm(e,t,rz);const n=Um(e,t,lz);return xm(J([e.toggleOnExecute?[o]:[],[n]]))};var mz=Object.freeze({__proto__:null,exhibit:uz,events:fz});const gz=(e,t,o)=>{gs(e.element,"aria-pressed",o);if(t.syncWithExpanded){yz(e,t,o)}};const pz=(e,t,o)=>{gs(e.element,"aria-selected",o)};const hz=(e,t,o)=>{gs(e.element,"aria-checked",o)};const yz=(e,t,o)=>{gs(e.element,"aria-expanded",o)};var bz=[$i("selected",false),Hi("toggleClass"),$i("toggleOnExecute",true),zd("onToggled"),Wi("aria",{mode:"none"},_i("mode",{pressed:[$i("syncWithExpanded",false),Ad("update",gz)],checked:[Ad("update",hz)],expanded:[Ad("update",yz)],selected:[Ad("update",pz)],none:[Ad("update",v)]}))];const vz=Jm({fields:bz,name:"toggling",active:mz,apis:dz,state:sg(false)});const kz=et("tooltip.exclusive");const wz=et("tooltip.show");const _z=et("tooltip.hide");const xz=et("tooltip.immediateHide");const Cz=et("tooltip.immediateShow");const Sz=(e,t,o)=>{e.getSystem().broadcastOn([kz],{})};const zz=(e,t,o,n)=>{o.getTooltip().each(e=>{if(e.getSystem().isConnected()){Yy.set(e,n)}})};const Tz=(e,t,o)=>o.isEnabled();const Ez=(e,t,o,n)=>o.setEnabled(n);const Oz=(e,t,o,n)=>hm(e,n?Cz:xz);var Az=Object.freeze({__proto__:null,hideAllExclusive:Sz,immediateOpenClose:Oz,isEnabled:Tz,setComponents:zz,setEnabled:Ez});const Dz=(e,t)=>{const o=o=>{t.getTooltip().each(n=>{if(n.getSystem().isConnected()){Cy(n);e.onHide(o,n);t.clearTooltip()}});t.clearTimer()};const n=o=>{if(!t.isShowing()&&t.isEnabled()){Sz(o);const n=e.lazySink(o).getOrDie();const s=o.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:xm(e.mode==="normal"?[Tm(kl(),e=>{hm(o,wz)}),Tm(bl(),e=>{hm(o,_z)})]:[]),behaviours:Ym([Yy.config({})])});t.setTooltip(s);wy(n,s);e.onShow(o,s);BC.position(n,s,{anchor:e.anchor(o)})}};const s=o=>{t.getTooltip().each(t=>{const n=e.lazySink(o).getOrDie();BC.position(n,t,{anchor:e.anchor(o)})})};const r=()=>{switch(e.mode){case"normal":return[Tm(wl(),e=>{hm(e,Cz)}),Tm(Bl(),e=>{hm(e,xz)}),Tm(kl(),e=>{hm(e,wz)}),Tm(bl(),e=>{hm(e,_z)})];case"follow-highlight":return[Tm(sd(),(e,t)=>{hm(e,wz)}),Tm(rd(),e=>{hm(e,_z)})];case"children-normal":return[Tm(wl(),(o,n)=>{as(o.element).each(r=>{if(uo(n.event.target,"[data-mce-tooltip]")){t.getTooltip().fold(()=>{hm(o,Cz)},n=>{if(t.isShowing()){e.onShow(o,n);s(o)}})}})}),Tm(Bl(),e=>{as(e.element).fold(()=>{hm(e,xz)},v)}),Tm(kl(),o=>{Rr(o.element,"[data-mce-tooltip]:hover").each(n=>{t.getTooltip().fold(()=>{hm(o,wz)},n=>{if(t.isShowing()){e.onShow(o,n);s(o)}})})}),Tm(bl(),e=>{Rr(e.element,"[data-mce-tooltip]:hover").fold(()=>{hm(e,_z)},v)})];default:return[Tm(wl(),(o,n)=>{as(o.element).each(r=>{if(uo(n.event.target,"[data-mce-tooltip]")){t.getTooltip().fold(()=>{hm(o,Cz)},n=>{if(t.isShowing()){e.onShow(o,n);s(o)}})}})}),Tm(Bl(),e=>{as(e.element).fold(()=>{hm(e,xz)},v)})]}};return xm(J([[Pm(t=>{e.onSetup(t)}),Tm(wz,o=>{t.resetTimer(()=>{n(o)},e.delayForShow())}),Tm(_z,n=>{t.resetTimer(()=>{o(n)},e.delayForHide())}),Tm(Cz,e=>{t.resetTimer(()=>{n(e)},0)}),Tm(xz,e=>{t.resetTimer(()=>{o(e)},0)}),Tm(Hl(),(e,t)=>{const n=t;if(!n.universal){if(I(n.channels,kz)){o(e)}}}),Im(e=>{o(e)})],r()]))};var Mz=Object.freeze({__proto__:null,events:Dz});var Nz=[Ti("lazySink"),Ti("tooltipDom"),$i("exclusive",true),$i("tooltipComponents",[]),Ji("delayForShow",x(300)),Ji("delayForHide",x(100)),Ji("onSetup",v),Yi("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),$i("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:x([_f,wf,yf,vf,bf,kf]),onRtl:x([_f,wf,yf,vf,bf,kf])},bubble:Zu(0,-2,{})})),zd("onHide"),zd("onShow")];const Rz=()=>{const e=Ee(true);const t=wt();const o=wt();const n=()=>{t.on(clearTimeout)};const s=(e,o)=>{n();t.set(setTimeout(e,o))};const r=x("not-implemented");return lm({getTooltip:o.get,isShowing:o.isSet,setTooltip:o.set,clearTooltip:o.clear,clearTimer:n,resetTimer:s,readState:r,isEnabled:()=>e.get(),setEnabled:t=>e.set(t)})};var Bz=Object.freeze({__proto__:null,init:Rz});const Lz=Jm({fields:Nz,name:"tooltipping",active:Mz,state:Bz,apis:Az});const Hz=()=>Vm({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}});const Iz=()=>xm([Cm(Dl(),D)]);var Pz=Object.freeze({__proto__:null,events:Iz,exhibit:Hz});const Fz=Jm({fields:[],name:"unselecting",active:Pz});const Vz=e=>{const t=e.dom.attributes!==undefined?e.dom.attributes:[];return G(t,(e,t)=>{if(t.name==="class"){return e}else{return{...e,[t.name]:t.value}}},{})};const jz=e=>Array.prototype.slice.call(e.dom.classList,0);const Zz=e=>{const t=$t.fromHtml(e);const o=On(t);const n=Vz(t);const s=jz(t);const r=o.length===0?{}:{innerHtml:Ts(t)};return{tag:dn(t),classes:s,attributes:n,...r}};const Uz=e=>{const t=bw(e)&&Se(e,"uid")?e.uid:cb("memento");const o=e=>e.getSystem().getByUid(t).getOrDie();const n=e=>e.getSystem().getByUid(t).toOptional();const s=()=>({...e,uid:t});return{get:o,getOpt:n,asSpec:s}};const qz=Vu;const $z=xu;const Wz=x("dismiss.popups");const Gz=x("reposition.popups");const Kz=x("mouse.released");const Yz=(e,t)=>{const o=Ee(false);const n=Ee(false);const s=()=>{o.set(true)};const r=()=>{n.set(true)};return{stop:s,cut:r,isStopped:o.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}};const Xz=e=>{const t=Ee(false);const o=()=>{t.set(true)};return{stop:o,cut:v,isStopped:t.get,isCut:A,event:e,setSource:E("Cannot set source of a broadcasted event"),getSource:E("Cannot get source of a broadcasted event")}};const Jz=e=>{const t=e.raw;return t.which===gg[0]&&!I(["input","textarea"],dn(e.target))&&!aa(e.target,'[contenteditable="true"]')};const Qz=(e,t)=>{const o={stopBackspace:true,...t};const n=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"];const s=jd(o);const r=j(n.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),t=>Jn(e,t,e=>{s.fireIfReady(e,t).each(t=>{if(t){e.kill()}});const n=o.triggerEvent(t,e);if(n){e.kill()}}));const a=wt();const c=Jn(e,"paste",e=>{s.fireIfReady(e,"paste").each(t=>{if(t){e.kill()}});const t=o.triggerEvent("paste",e);if(t){e.kill()}a.set(setTimeout(()=>{o.triggerEvent(Ll(),e)},0))});const i=Jn(e,"keydown",e=>{const t=o.triggerEvent("keydown",e);if(t){e.kill()}else if(o.stopBackspace&&Jz(e)){e.prevent()}});const l=Jn(e,"focusin",e=>{const t=o.triggerEvent("focusin",e);if(t){e.kill()}});const d=wt();const u=Jn(e,"focusout",e=>{const t=o.triggerEvent("focusout",e);if(t){e.kill()}d.set(setTimeout(()=>{o.triggerEvent(Bl(),e)},0))});const f=()=>{Z(r,e=>{e.unbind()});i.unbind();l.unbind();u.unbind();c.unbind();a.on(clearTimeout);d.on(clearTimeout)};return{unbind:f}};const eT=(e,t)=>{const o=xe(e,"target").getOr(t);return Ee(o)};const tT=Te.generate([{stopped:[]},{resume:["element"]},{complete:[]}]);const oT=(e,t,o,n,s,r)=>{const a=e(t,n);const c=Yz(o,s);return a.fold(()=>{r.logEventNoHandlers(t,n);return tT.complete()},e=>{const o=e.descHandler;const n=kb(o);n(c);if(c.isStopped()){r.logEventStopped(t,e.element,o.purpose);return tT.stopped()}else if(c.isCut()){r.logEventCut(t,e.element,o.purpose);return tT.complete()}else{return xn(e.element).fold(()=>{r.logNoParent(t,e.element,o.purpose);return tT.complete()},n=>{r.logEventResponse(t,e.element,o.purpose);return tT.resume(n)})}})};const nT=(e,t,o,n,s,r)=>oT(e,t,o,n,s,r).fold(D,n=>nT(e,t,o,n,s,r),A);const sT=(e,t,o,n,s)=>{const r=eT(o,n);return oT(e,t,o,n,r,s)};const rT=(e,t,o)=>{const n=Xz(t);Z(e,e=>{const t=e.descHandler;const o=kb(t);o(n)});return n.isStopped()};const aT=(e,t,o,n)=>cT(e,t,o,o.target,n);const cT=(e,t,o,n,s)=>{const r=eT(o,n);return nT(e,t,o,n,r,s)};const iT=(e,t)=>({element:e,descHandler:t});const lT=(e,t)=>({id:e,descHandler:t});const dT=()=>{const e={};const t=(t,o,n)=>{me(n,(n,s)=>{const r=e[s]!==undefined?e[s]:{};r[o]=vb(n,t);e[s]=r})};const o=(e,t)=>ab(t).bind(t=>xe(e,t)).map(e=>iT(t,e));const n=t=>xe(e,t).map(e=>ke(e,(e,t)=>lT(t,e))).getOr([]);const s=(t,n,s)=>xe(e,n).bind(e=>la(s,t=>o(e,t),t));const r=t=>{me(e,(e,o)=>{if(Ce(e,t)){delete e[t]}})};return{registerId:t,unregisterId:r,filterByType:n,find:s}};const uT=()=>{const e=dT();const t={};const o=e=>{const t=e.element;return ab(t).getOrThunk(()=>sb("uid-",e.element))};const n=(e,o)=>{const n=t[o];if(n===e){r(e)}else{throw new Error('The tagId "'+o+'" is already used by: '+ad(n.element)+"\nCannot use it for: "+ad(e.element)+"\n"+"The conflicting element is"+(Ns(n.element)?" ":" not ")+"already in the DOM")}};const s=s=>{const r=o(s);if(Se(t,r)){n(s,r)}const a=[s];e.registerId(a,r,s.events);t[r]=s};const r=o=>{ab(o.element).each(o=>{delete t[o];e.unregisterId(o)})};const a=t=>e.filterByType(t);const c=(t,o,n)=>e.find(t,o,n);const i=e=>xe(t,e);return{find:c,filter:a,register:s,unregister:r,getById:i}};const fT=e=>{const t=t=>xn(e.element).fold(D,e=>po(t,e));const o=uT();const n=(e,n)=>o.find(t,e,n);const s=Qz(e.element,{triggerEvent:(e,t)=>hd(e,t.target,o=>aT(n,e,t,o))});const r={debugInfo:x("real"),triggerEvent:(e,t,o)=>{hd(e,t,s=>cT(n,e,o,t,s))},triggerFocus:(e,t)=>{ab(e).fold(()=>{os(e)},o=>{hd(Rl(),e,o=>{sT(n,Rl(),{originator:t,kill:v,prevent:v,target:e},e,o);return false})})},triggerEscape:(e,t)=>{r.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>h(e),build:ev,buildOrPatch:Qb,addToGui:e=>{i(e)},removeFromGui:e=>{l(e)},addToWorld:e=>{a(e)},removeFromWorld:e=>{c(e)},broadcast:e=>{f(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{g(e,t)},isConnected:D};const a=e=>{e.connect(r);if(!pn(e.element)){o.register(e);Z(e.components(),a);r.triggerEvent(Ul(),e.element,{target:e.element})}};const c=e=>{if(!pn(e.element)){Z(e.components(),c);o.unregister(e)}e.disconnect()};const i=t=>{wy(e,t)};const l=e=>{Cy(e)};const d=()=>{s.unbind();_s(e.element)};const u=e=>{const t=o.filter(Hl());Z(t,t=>{const o=t.descHandler;const n=kb(o);n(e)})};const f=e=>{u({universal:true,data:e})};const m=(e,t)=>{u({universal:false,channels:e,data:t})};const g=(e,t)=>{const n=o.filter(e);return rT(n,t)};const p=e=>o.getById(e).fold(()=>Fe.error(new Error('Could not find component with uid: "'+e+'" in system.')),Fe.value);const h=e=>{const t=ab(e).getOr("not found");return p(t)};a(e);return{root:e,element:e.element,destroy:d,add:i,remove:l,getByUid:p,getByDom:h,addToWorld:a,removeFromWorld:c,broadcast:f,broadcastOn:m,broadcastEvent:g}};const mT=()=>{const e=(e,t)=>{t.stop();bm(e)};return[Tm(Tl(),e),Tm(Fl(),e),Rm(fl()),Rm(hl())]};const gT=e=>{const t=e=>Fm((t,o)=>{e(t);o.stop()});return xm(J([e.map(t).toArray(),mT()]))};const pT=e=>{const t=gT(e.action);const o=e.dom.tag;const n=t=>xe(e.dom,"attributes").bind(e=>xe(e,t));const s=()=>{if(o==="button"){const e=n("type").getOr("button");const t=n("role").map(e=>({role:e})).getOr({});return{type:e,...t}}else{const t=e.role.getOr(n("role").getOr("button"));return{role:t}}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:uw.augment(e.buttonBehaviours,[mg.config({}),ay.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:s()},eventOrder:e.eventOrder}};const hT=ww({name:"Button",factory:pT,configFields:[$i("uid",undefined),Ti("dom"),$i("components",[]),uw.field("buttonBehaviours",[mg,ay]),Hi("action"),Hi("role"),$i("eventOrder",{})]});const yT=x([$i("shell",false),Ti("makeItem"),$i("setupItem",v),uw.field("listBehaviours",[Yy])]);const bT=()=>({behaviours:Ym([Yy.config({})])});const vT=ku({name:"items",overrides:bT});const kT=x([vT]);const wT=x("CustomList");const _T=(e,t,o,n)=>{const s=(t,o)=>{a(t).fold(()=>{console.error("Custom List was defined to not be a shell, but no item container was specified in components");throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")},n=>{const s=Yy.contents(n);const r=o.length;const a=r-s.length;const c=a>0?F(a,()=>e.makeItem()):[];const i=s.slice(r);Z(i,e=>Yy.remove(n,e));Z(c,e=>Yy.append(n,e));const l=Yy.contents(n);Z(l,(n,s)=>{e.setupItem(t,n,o[s],s)})})};const r=e.shell?{behaviours:[Yy.config({})],components:[]}:{behaviours:[],components:t};const a=t=>e.shell?M.some(t):Nu(t,e,"items");return{uid:e.uid,dom:e.dom,components:r.components,behaviours:dw(e.listBehaviours,r.behaviours),apis:{setItems:s}}};const xT=_w({name:wT(),configFields:yT(),partFields:kT(),factory:_T,apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}});const CT="aria-controls";const ST=e=>{const t=zr(e,e=>{if(!gn(e)){return false}const t=hs(e,"id");return t!==undefined&&t.indexOf(CT)>-1});return t.bind(e=>{const t=hs(e,"id");const o=Hn(e);return Rr(o,`[${CT}="${t}"]`)})};const zT=()=>{const e=et(CT);const t=t=>{gs(t,CT,e)};const o=e=>{vs(e,CT)};return{id:e,link:t,unlink:o}};const TT=(e,t)=>ST(t).exists(t=>ET(e,t));const ET=(e,t)=>ra(t,t=>po(t,e.element),A)||TT(e,t);const OT="alloy.item-hover";const AT="alloy.item-focus";const DT="alloy.item-toggled";const MT=e=>{if(as(e.element).isNone()||mg.isFocused(e)){if(!mg.isFocused(e)){mg.focus(e)}ym(e,OT,{item:e})}};const NT=e=>{ym(e,AT,{item:e})};const RT=(e,t)=>{ym(e,DT,{item:e,state:t})};const BT=x(OT);const LT=x(AT);const HT=x(DT);const IT=e=>e.role.fold(()=>e.toggling.map(e=>e.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),C);const PT=(e,t)=>({aria:{mode:t?"selected":"checked"},...ve(e,(e,t)=>t!=="exclusive"),onToggled:(t,o)=>{if(h(e.onToggled)){e.onToggled(t,o)}RT(t,o)}});const FT=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:IT(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":false}:{}}},behaviours:uw.augment(e.itemBehaviours,[e.toggling.fold(vz.revoke,t=>vz.config(PT(t,e.role.exists(e=>e==="option")))),mg.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{NT(e)}}),ay.config({mode:"execution"}),G_.config({store:{mode:"memory",initialValue:e.data}}),ng("item-type-events",[...mT(),Tm(kl(),MT),Tm(Pl(),mg.focus)])]),components:e.components,eventOrder:e.eventOrder});const VT=[Ti("data"),Ti("components"),Ti("dom"),$i("hasSubmenu",false),Hi("toggling"),Hi("role"),uw.field("itemBehaviours",[vz,mg,ay,G_]),$i("ignoreFocus",false),$i("domModification",{}),Ad("builder",FT),$i("eventOrder",{})];var jT=VT;const ZT=e=>({dom:e.dom,components:e.components,events:xm([Bm(Pl())])});const UT=[Ti("dom"),Ti("components"),Ad("builder",ZT)];var qT=UT;const $T=x("item-widget");const WT=x([bu({name:"widget",overrides:e=>({behaviours:Ym([G_.config({store:{mode:"manual",getValue:t=>e.data,setValue:v}})])})})]);const GT=e=>{const t=Du($T(),e,WT());const o=Mu($T(),e,t.internals());const n=t=>Nu(t,e,"widget").map(e=>{ay.focusIn(e);return e});const s=(t,o)=>cp(o.event.target)?M.none():(()=>{if(e.autofocus){o.setSource(t.element);return M.none()}else{return M.none()}})();return{dom:e.dom,components:o,domModification:e.domModification,events:xm([Fm((e,t)=>{n(e).each(e=>{t.stop()})}),Tm(kl(),MT),Tm(Pl(),(t,o)=>{if(e.autofocus){n(t)}else{mg.focus(t)}})]),behaviours:uw.augment(e.widgetBehaviours,[G_.config({store:{mode:"memory",initialValue:e.data}}),mg.config({ignore:e.ignoreFocus,onFocus:e=>{NT(e)}}),ay.config({mode:"special",focusIn:e.autofocus?e=>{n(e)}:tg(),onLeft:s,onRight:s,onEscape:(t,o)=>{if(!mg.isFocused(t)&&!e.autofocus){mg.focus(t);return M.some(true)}else if(e.autofocus){o.setSource(t.element);return M.none()}else{return M.none()}}})])}};const KT=[Ti("uid"),Ti("data"),Ti("components"),Ti("dom"),$i("autofocus",false),$i("ignoreFocus",false),uw.field("widgetBehaviours",[G_,mg,ay]),$i("domModification",{}),Fu(WT()),Ad("builder",GT)];var YT=KT;const XT=_i("type",{widget:YT,item:jT,separator:qT});const JT=(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager});const QT=(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager});const eE=(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager});const tE=x([wu({factory:{sketch:e=>{const t=ki("menu.spec item",XT,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Ce(t,"uid")?t:{...t,uid:cb("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]);const oE=x([Fi("role"),Ti("value"),Ti("items"),Ti("dom"),Ti("components"),$i("eventOrder",{}),iw("menuBehaviours",[Qg,G_,mv,ay]),Wi("movement",{mode:"menu",moveOnTab:true},_i("mode",{grid:[Md(),Ad("config",JT)],matrix:[Ad("config",QT),Ti("rowSelector"),$i("previousSelector",M.none)],menu:[$i("moveOnTab",true),Ad("config",eE)]})),_d(),$i("fakeFocus",false),$i("focusManager",tp()),zd("onHighlight"),zd("onDehighlight"),$i("showMenuRole",true)]);const nE=x("alloy.menu-focus");const sE=(e,t)=>{const o=sa(e.element,'[role="menuitemradio"][aria-checked="true"]');Z(o,o=>{if(!po(o,t.element)){e.getSystem().getByDom(o).each(e=>{vz.off(e)})}})};const rE=(e,t,o,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:dw(e.menuBehaviours,[Qg.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),G_.config({store:{mode:"memory",initialValue:e.value}}),mv.config({find:M.some}),ay.config(e.movement.config(e,e.movement))]),events:xm([Tm(LT(),(e,t)=>{const o=t.event;e.getSystem().getByDom(o.target).each(o=>{Qg.highlight(e,o);t.stop();ym(e,nE(),{menu:e,item:o})})}),Tm(BT(),(e,t)=>{const o=t.event.item;Qg.highlight(e,o)}),Tm(HT(),(e,t)=>{const{item:o,state:n}=t.event;if(n&&hs(o.element,"role")==="menuitemradio"){sE(e,o)}})]),components:t,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr("menu")}}}:{}});const aE=_w({name:"Menu",configFields:oE(),partFields:tE(),factory:rE});const cE=e=>pe(e,(e,t)=>({k:e,v:t}));const iE=(e,t,o,n)=>xe(o,n).bind(n=>xe(e,n).bind(n=>{const s=iE(e,t,o,n);return M.some([n].concat(s))})).getOr([]);const lE=(e,t)=>{const o={};me(e,(e,t)=>{Z(e,e=>{o[e]=t})});const n=t;const s=cE(t);const r=ge(s,(e,t)=>[t].concat(iE(o,n,s,t)));return ge(o,e=>xe(r,e).getOr([e]))};const dE=()=>{const e=Ee({});const t=Ee({});const o=Ee({});const n=wt();const s=Ee({});const r=()=>{e.set({});t.set({});o.set({});n.clear()};const a=()=>n.get().isNone();const c=(e,o)=>{t.set({...t.get(),[e]:{type:"prepared",menu:o}})};const i=(r,a,c,i)=>{n.set(r);e.set(c);t.set(a);s.set(i);const l=lE(i,c);o.set(l)};const l=t=>we(e.get(),(e,o)=>e===t);const d=(e,t,o)=>p(e).bind(n=>l(e).bind(e=>t(e).map(e=>({triggeredMenu:n,triggeringItem:e,triggeringPath:o}))));const u=(e,t)=>{const s=$(y(e).toArray(),e=>p(e).isSome());return xe(o.get(),e).bind(e=>{const o=te(s.concat(e));const r=Q(o,(e,s)=>d(e,t,o.slice(0,s+1)).fold(()=>at(n.get(),e)?[]:[M.none()],e=>[M.some(e)]));return lt(r)})};const f=t=>xe(e.get(),t).map(e=>{const n=xe(o.get(),t).getOr([]);return[e].concat(n)});const m=e=>xe(o.get(),e).bind(e=>e.length>1?M.some(e.slice(1)):M.none());const g=e=>xe(o.get(),e);const p=e=>h(e).bind(uE);const h=e=>xe(t.get(),e);const y=t=>xe(e.get(),t);const b=e=>{const t=s.get();return oe(ue(t),e)};const v=()=>n.get().bind(p);const k=()=>t.get();return{setMenuBuilt:c,setContents:i,expand:f,refresh:g,collapse:m,lookupMenu:h,lookupItem:y,otherMenus:b,getPrimary:v,getMenus:k,clear:r,isClear:a,getTriggeringPath:u}};const uE=e=>e.type==="prepared"?M.some(e.menu):M.none();const fE={init:dE,extractPreparedMenu:uE};const mE=et("tiered-menu-item-highlight");const gE=et("tiered-menu-item-dehighlight");const pE=(e,t)=>{const o=wt();const n=(t,o,n)=>ge(n,(n,s)=>{const r=()=>aE.sketch({...n,value:s,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(e,t)=>{const o={menuComp:e,itemComp:t};ym(e,mE,o)},onDehighlight:(e,t)=>{const o={menuComp:e,itemComp:t};ym(e,gE,o)},focusManager:e.fakeFocus?op():tp()});return s===o?{type:"prepared",menu:t.getSystem().build(r())}:{type:"notbuilt",nbMenu:r}});const s=fE.init();const r=t=>{const o=n(t,e.data.primary,e.data.menus);const r=i();s.setContents(e.data.primary,o,e.data.expansions,r);return s.getPrimary()};const a=e=>G_.getValue(e).value;const c=(e,t,o)=>de(t,e=>{if(!e.getSystem().isConnected()){return M.none()}const t=Qg.getCandidates(e);return Y(t,e=>a(e)===o)});const i=t=>ge(e.data.menus,(e,t)=>Q(e.items,e=>e.type==="separator"?[]:[e.data.value]));const l=Qg.highlight;const d=(t,o)=>{l(t,o);Qg.getHighlighted(o).orThunk(()=>Qg.getFirst(o)).each(n=>{if(e.fakeFocus){Qg.highlight(o,n)}else{vm(t,n.element,Pl())}})};const u=(e,t)=>it(j(t,t=>e.lookupMenu(t).bind(e=>e.type==="prepared"?M.some(e.menu):M.none())));const f=(t,o,n)=>{const s=u(o,o.otherMenus(n));Z(s,o=>{Kr(o.element,[e.markers.backgroundMenu]);if(!e.stayInDom){Yy.remove(t,o)}})};const m=t=>o.get().getOrThunk(()=>{const n={};const s=sa(t.element,`.${e.markers.item}`);const r=$(s,e=>hs(e,"aria-haspopup")==="true");Z(r,e=>{t.getSystem().getByDom(e).each(e=>{const t=a(e);n[t]=e})});o.set(n);return n});const g=(e,t)=>{const o=m(e);me(o,(e,o)=>{const n=I(t,o);gs(e.element,"aria-expanded",n)})};const p=(t,o,n)=>M.from(n[0]).bind(s=>o.lookupMenu(s).bind(s=>{if(s.type==="notbuilt"){return M.none()}else{const r=s.menu;const a=u(o,n.slice(1));Z(a,t=>{Zr(t.element,e.markers.backgroundMenu)});if(!Ns(r.element)){Yy.append(t,tv(r))}Kr(r.element,[e.markers.backgroundMenu]);d(t,r);f(t,o,n);return M.some(r)}}));let h;(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu";e[e["HighlightParent"]=1]="HighlightParent"})(h||(h={}));const y=(e,t,o)=>{if(o.type==="notbuilt"){const n=e.getSystem().build(o.nbMenu());s.setMenuBuilt(t,n);return n}else{return o.menu}};const b=(t,o,n=h.HighlightSubmenu)=>{if(o.hasConfigured(Pv)&&Pv.isDisabled(o)){return M.some(o)}else{const r=a(o);return s.expand(r).bind(r=>{g(t,r);return M.from(r[0]).bind(a=>s.lookupMenu(a).bind(c=>{const i=y(t,a,c);if(!Ns(i.element)){Yy.append(t,tv(i))}e.onOpenSubmenu(t,o,i,te(r));if(n===h.HighlightSubmenu){Qg.highlightFirst(i);return p(t,s,r)}else{Qg.dehighlightAll(i);return M.some(o)}}))})}};const k=(t,o)=>{const n=a(o);return s.collapse(n).bind(n=>{g(t,n);return p(t,s,n).map(n=>{e.onCollapseMenu(t,o,n);return n})})};const w=(e,t)=>{const o=a(t);return s.refresh(o).bind(t=>{g(e,t);return p(e,s,t)})};const _=(e,t)=>cp(t.element)?M.none():b(e,t,h.HighlightSubmenu);const x=(e,t)=>cp(t.element)?M.none():k(e,t);const C=(t,o)=>k(t,o).orThunk(()=>e.onEscape(t,o).map(()=>t));const S=t=>(o,n)=>Br(n.getSource(),`.${e.markers.item}`).bind(e=>o.getSystem().getByDom(e).toOptional().bind(e=>t(o,e).map(D)));const z=xm([Tm(nE(),(e,t)=>{const o=t.event.item;s.lookupItem(a(o)).each(()=>{const o=t.event.menu;Qg.highlight(e,o);const n=a(t.event.item);s.refresh(n).each(t=>f(e,s,t))})}),Fm((t,o)=>{const n=o.event.target;t.getSystem().getByDom(n).each(o=>{const n=a(o);if(n.indexOf("collapse-item")===0){k(t,o)}b(t,o,h.HighlightSubmenu).fold(()=>{e.onExecute(t,o)},v)})}),Hm((t,o)=>{r(t).each(o=>{Yy.append(t,tv(o));e.onOpenMenu(t,o);if(e.highlightOnOpen===cm.HighlightMenuAndItem){d(t,o)}else if(e.highlightOnOpen===cm.HighlightJustMenu){l(t,o)}})}),Tm(mE,(t,o)=>{e.onHighlightItem(t,o.event.menuComp,o.event.itemComp)}),Tm(gE,(t,o)=>{e.onDehighlightItem(t,o.event.menuComp,o.event.itemComp)}),...e.navigateOnHover?[Tm(BT(),(t,o)=>{const n=o.event.item;w(t,n);b(t,n,h.HighlightParent);e.onHover(t,n)})]:[]]);const T=e=>Qg.getHighlighted(e).bind(Qg.getHighlighted);const E=e=>{T(e).each(t=>{k(e,t)})};const O=e=>{s.getPrimary().each(t=>{d(e,t)})};const A=e=>M.from(e.components()[0]).filter(e=>hs(e.element,"role")==="menu");const N=t=>{const o=s.getPrimary().bind(e=>T(t).bind(e=>{const o=a(e);const n=_e(s.getMenus());const r=it(j(n,fE.extractPreparedMenu));return s.getTriggeringPath(o,e=>c(t,r,e))}).map(t=>({primary:e,triggeringPath:t})));o.fold(()=>{A(t).each(o=>{e.onRepositionMenu(t,o,[])})},({primary:o,triggeringPath:n})=>{e.onRepositionMenu(t,o,n)})};const R={collapseMenu:E,highlightPrimary:O,repositionMenus:N};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:dw(e.tmenuBehaviours,[ay.config({mode:"special",onRight:S(_),onLeft:S(x),onEscape:S(C),focusIn:(e,t)=>{s.getPrimary().each(t=>{vm(e,t.element,Pl())})}}),Qg.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),mv.config({find:e=>Qg.getHighlighted(e)}),Yy.config({})]),eventOrder:e.eventOrder,apis:R,events:z}};const hE=x("collapse-item");const yE=(e,t,o)=>({primary:e,menus:t,expansions:o});const bE=(e,t)=>({primary:e,menus:al(e,t),expansions:{}});const vE=e=>({value:et(hE()),meta:{text:e}});const kE=ww({name:"TieredMenu",configFields:[Od("onExecute"),Od("onEscape"),Ed("onOpenMenu"),Ed("onOpenSubmenu"),zd("onRepositionMenu"),zd("onCollapseMenu"),$i("highlightOnOpen",cm.HighlightMenuAndItem),Ri("data",[Ti("primary"),Ti("menus"),Ti("expansions")]),$i("fakeFocus",false),zd("onHighlightItem"),zd("onDehighlightItem"),zd("onHover"),xd(),Ti("dom"),$i("navigateOnHover",true),$i("stayInDom",false),iw("tmenuBehaviours",[ay,Qg,mv,Yy]),$i("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:pE,extraApis:{tieredData:yE,singleData:bE,collapseItem:vE}});const wE=x("sink");const _E=x(ku({name:wE(),overrides:x({dom:{tag:"div"},behaviours:Ym([BC.config({useFixed:D})]),events:xm([Rm(xl()),Rm(hl()),Rm(Tl())])})}));const xE=ri([$i("isExtraPart",A),Ui("fireEventInstead",[$i("event",Xl())])]);const CE=e=>{const t=ki("Dismissal",xE,e);return{[Wz()]:{schema:ri([Ti("target")]),onReceive:(e,o)=>{if(gS.isOpen(e)){const n=gS.isPartOf(e,o.target)||t.isExtraPart(e,o.target);if(!n){t.fireEventInstead.fold(()=>gS.close(e),t=>hm(e,t.event))}}}}}};const SE=ri([Ui("fireEventInstead",[$i("event",Jl())]),Mi("doReposition")]);const zE=e=>{const t=ki("Reposition",SE,e);return{[Gz()]:{onReceive:e=>{if(gS.isOpen(e)){t.fireEventInstead.fold(()=>t.doReposition(e),t=>hm(e,t.event))}}}}};const TE=(e,t)=>{const o=e.getHotspot(t).getOr(t);const n="hotspot";const s=e.getAnchorOverrides();return e.layouts.fold(()=>({type:n,hotspot:o,overrides:s}),e=>({type:n,hotspot:o,overrides:s,layouts:e}))};const EE=(e,t,o)=>{const n=e.fetch;return n(o).map(t)};const OE=(e,t,o,n,s,r,a)=>{const c=EE(e,t,n);const i=RE(n,e);return c.map(t=>t.bind(t=>{const c=t.menus[t.primary];M.from(c).each(t=>{e.listRole.each(e=>{t.role=e})});return M.from(kE.sketch({...r.menu(),uid:cb(""),data:t,highlightOnOpen:a,onOpenMenu:(e,t)=>{const n=i().getOrDie();BC.position(n,t,{anchor:o});gS.decloak(s)},onOpenSubmenu:(e,t,o)=>{const n=i().getOrDie();BC.position(n,o,{anchor:{type:"submenu",item:t}});gS.decloak(s)},onRepositionMenu:(e,t,n)=>{const s=i().getOrDie();BC.position(s,t,{anchor:o});Z(n,e=>{BC.position(s,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})})},onEscape:()=>{mg.focus(n);gS.close(s);return M.some(true)}}))}))};const AE=(e,t,o,n,s,r,a)=>{const c=TE(e,o);const i=OE(e,t,c,o,n,s,a);return i.map(e=>{e.fold(()=>{if(gS.isOpen(n)){gS.close(n)}},e=>{gS.cloak(n);gS.open(n,e);r(n)});return n})};const DE=(e,t,o,n,s,r,a)=>{gS.close(n);return Le.pure(n)};const ME=(e,t,o,n,s,r)=>{const a=kv.getCoupled(o,"sandbox");const c=gS.isOpen(a);const i=c?DE:AE;return i(e,t,o,a,n,s,r)};const NE=(e,t,o)=>{const n=mv.getCurrent(t).getOr(t);const s=sr(e.element);if(o){Is(n.element,"min-width",s+"px")}else{nr(n.element,s)}};const RE=(e,t)=>e.getSystem().getByUid(t.uid+"-"+wE()).map(e=>()=>Fe.value(e)).getOrThunk(()=>t.lazySink.fold(()=>()=>Fe.error(new Error("No internal sink is specified, nor could an external sink be found")),t=>()=>t(e)));const BE=e=>{gS.getState(e).each(e=>{kE.repositionMenus(e)})};const LE=(e,t,o)=>{const n=zT();const s=(s,r)=>{const a=TE(e,t);n.link(t.element);if(e.matchWidth){NE(a.hotspot,r,e.useMinWidth)}e.onOpen(a,s,r);if(o!==undefined&&o.onOpen!==undefined){o.onOpen(s,r)}};const r=(e,s)=>{n.unlink(t.element);a().getOr(s).element.dom.dispatchEvent(new window.FocusEvent("focusout"));if(o!==undefined&&o.onClose!==undefined){o.onClose(e,s)}};const a=RE(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:n.id}},behaviours:uw.augment(e.sandboxBehaviours,[G_.config({store:{mode:"memory",initialValue:t}}),gS.config({onOpen:s,onClose:r,isPartOf:(e,o,n)=>ET(o,n)||ET(t,n),getAttachPoint:()=>a().getOrDie()}),mv.config({find:e=>gS.getState(e).bind(e=>mv.getCurrent(e))}),FC.config({channels:{...CE({isExtraPart:A}),...zE({doReposition:BE})}})])}};const HE=e=>{const t=kv.getCoupled(e,"sandbox");BE(t)};const IE=()=>[$i("sandboxClasses",[]),uw.field("sandboxBehaviours",[mv,FC,gS,G_])];const PE=x([Ti("dom"),Ti("fetch"),zd("onOpen"),Td("onExecute"),$i("getHotspot",M.some),$i("getAnchorOverrides",x({})),Bx(),iw("dropdownBehaviours",[vz,kv,ay,mg]),Ti("toggleClass"),$i("eventOrder",{}),Hi("lazySink"),$i("matchWidth",false),$i("useMinWidth",false),Hi("role"),Hi("listRole")].concat(IE()));const FE=x([vu({schema:[xd(),$i("fakeFocus",false)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),_E()]);const VE=(e,t,o,n)=>{const s=t=>xe(e.dom,"attributes").bind(e=>xe(e,t));const r=e=>{gS.getState(e).each(e=>{kE.highlightPrimary(e)})};const a=(t,o,s)=>ME(e,C,t,n,o,s);const c=e=>{const t=r;a(e,t,cm.HighlightMenuAndItem).get(v)};const i={expand:e=>{if(!vz.isOn(e)){a(e,v,cm.HighlightNone).get(v)}},open:e=>{if(!vz.isOn(e)){a(e,v,cm.HighlightMenuAndItem).get(v)}},refetch:t=>{const o=kv.getExistingCoupled(t,"sandbox");return o.fold(()=>a(t,v,cm.HighlightMenuAndItem).map(v),o=>AE(e,C,t,o,n,v,cm.HighlightMenuAndItem).map(v))},isOpen:vz.isOn,close:e=>{if(vz.isOn(e)){a(e,v,cm.HighlightMenuAndItem).get(v)}},repositionMenus:e=>{if(vz.isOn(e)){HE(e)}}};const l=(e,t)=>{bm(e);return M.some(true)};return{uid:e.uid,dom:e.dom,components:t,behaviours:dw(e.dropdownBehaviours,[vz.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),kv.config({others:{sandbox:t=>LE(e,t,{onOpen:()=>vz.on(t),onClose:()=>vz.off(t)})}}),ay.config({mode:"special",onSpace:l,onEnter:l,onDown:(e,t)=>{if(jE.isOpen(e)){const t=kv.getCoupled(e,"sandbox");r(t)}else{jE.open(e)}return M.some(true)},onEscape:(e,t)=>{if(jE.isOpen(e)){jE.close(e);return M.some(true)}else{return M.none()}}}),mg.config({})]),events:gT(M.some(c)),eventOrder:{...e.eventOrder,[Il()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":e.listRole.getOr("true"),...e.role.fold(()=>({}),e=>({role:e})),...e.dom.tag==="button"?{type:s("type").getOr("button")}:{}}}}};const jE=_w({name:"Dropdown",configFields:PE(),partFields:FE(),factory:VE,apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}});const ZE="form";const UE=[iw("formBehaviours",[G_])];const qE=e=>"<alloy.field."+e+">";const $E=e=>{const t=(()=>{const e=[];const t=(t,o)=>{e.push(t);return Eu(ZE,qE(t),o)};return{field:t,record:x(e)}})();const o=e(t);const n=t.record();const s=j(n,e=>bu({name:e,pname:qE(e)}));return pw(ZE,UE,s,GE,o)};const WE=(e,t)=>e.fold(()=>Fe.error(t),Fe.value);const GE=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:dw(e.formBehaviours,[G_.config({store:{mode:"manual",getValue:t=>{const o=Lu(t,e);return ge(o,(e,t)=>e().bind(e=>{const o=mv.getCurrent(e);return WE(o,new Error(`Cannot find a current component to extract the value from for form part '${t}': `+ad(e.element)))}).map(G_.getValue))},setValue:(t,o)=>{me(o,(o,n)=>{Nu(t,e,n).each(e=>{mv.getCurrent(e).each(e=>{G_.setValue(e,o)})})})}}})]),apis:{getField:(t,o)=>Nu(t,e,o).bind(mv.getCurrent)}});const KE={getField:uy((e,t,o)=>e.getField(t,o)),sketch:$E};const YE=x([Ti("dom"),$i("shell",true),iw("toolbarBehaviours",[Yy])]);const XE=()=>({behaviours:Ym([Yy.config({})])});const JE=x([ku({name:"groups",overrides:XE})]);const QE=(e,t,o,n)=>{const s=(e,t)=>{r(e).fold(()=>{console.error("Toolbar was defined to not be a shell, but no groups container was specified in components");throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},e=>{Yy.set(e,t)})};const r=t=>e.shell?M.some(t):Nu(t,e,"groups");const a=e.shell?{behaviours:[Yy.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:dw(e.toolbarBehaviours,a.behaviours),apis:{setGroups:s,refresh:v},domModification:{attributes:{role:"group"}}}};const eO=_w({name:"Toolbar",configFields:YE(),partFields:JE(),factory:QE,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}});const tO=x([Cd(["toggledClass"]),Ti("lazySink"),Mi("fetch"),ji("getBounds"),Ui("fireDismissalEventInstead",[$i("event",Xl())]),Bx(),zd("onToggled")]);const oO=x([vu({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ym([vz.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false,onToggled:e.onToggled})])})}),vu({factory:eO,schema:YE(),name:"toolbar",overrides:e=>({toolbarBehaviours:Ym([ay.config({mode:"cyclic",onEscape:t=>{Nu(t,e,"button").each(mg.focus);return M.none()}})])})})]);const nO=wt();const sO=(e,t)=>{nO.set(true);rO(e,t);nO.clear()};const rO=(e,t)=>{const o=kv.getCoupled(e,"toolbarSandbox");if(gS.isOpen(o)){gS.close(o)}else{gS.open(o,t.toolbar())}};const aO=(e,t,o,n)=>{const s=o.getBounds.map(e=>e());const r=o.lazySink(e).getOrDie();BC.positionWithinBounds(r,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:nm()}}},s)};const cO=(e,t,o,n,s)=>{eO.setGroups(t,s);aO(e,t,o,n);vz.on(e)};const iO=(e,t,o)=>{const n=zT();const s=(s,r)=>{const a=nO.get().getOr(false);o.fetch().get(s=>{cO(e,r,o,t.layouts,s);n.link(e.element);if(!a){ay.focusIn(r)}})};const r=()=>{vz.off(e);if(!nO.get().getOr(false)){mg.focus(e)}n.unlink(e.element)};return{dom:{tag:"div",attributes:{id:n.id}},behaviours:Ym([ay.config({mode:"special",onEscape:e=>{gS.close(e);return M.some(true)}}),gS.config({onOpen:s,onClose:r,isPartOf:(t,o,n)=>ET(o,n)||ET(e,n),getAttachPoint:()=>o.lazySink(e).getOrDie()}),FC.config({channels:{...CE({isExtraPart:A,...o.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...zE({doReposition:()=>{gS.getState(kv.getCoupled(e,"toolbarSandbox")).each(n=>{aO(e,n,o,t.layouts)})}})}})])}};const lO=(e,t,o,n)=>({...hT.sketch({...n.button(),action:e=>{rO(e,n)},buttonBehaviours:uw.augment({dump:n.button().buttonBehaviours},[kv.config({others:{toolbarSandbox:t=>iO(t,o,e)}})])}),apis:{setGroups:(t,n)=>{gS.getState(kv.getCoupled(t,"toolbarSandbox")).each(s=>{cO(t,s,e,o.layouts,n)})},reposition:t=>{gS.getState(kv.getCoupled(t,"toolbarSandbox")).each(n=>{aO(t,n,e,o.layouts)})},toggle:e=>{rO(e,n)},toggleWithoutFocusing:e=>{sO(e,n)},getToolbar:e=>gS.getState(kv.getCoupled(e,"toolbarSandbox")),isOpen:e=>gS.isOpen(kv.getCoupled(e,"toolbarSandbox"))}});const dO=_w({name:"FloatingToolbarButton",factory:lO,configFields:tO(),partFields:oO(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}});const uO=x([$i("prefix","form-field"),iw("fieldBehaviours",[mv,G_])]);const fO=x([ku({schema:[Ti("dom")],name:"label"}),ku({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Ti("text")],name:"aria-descriptor"}),bu({factory:{sketch:e=>{const t=rl(e,["factory"]);return e.factory.sketch(t)}},schema:[Ti("factory")],name:"field"})]);const mO=(e,t,o,n)=>{const s=dw(e.fieldBehaviours,[mv.config({find:t=>Nu(t,e,"field")}),G_.config({store:{mode:"manual",getValue:e=>mv.getCurrent(e).bind(G_.getValue),setValue:(e,t)=>{mv.getCurrent(e).each(e=>{G_.setValue(e,t)})}}})]);const r=xm([Hm((t,o)=>{const n=Bu(t,e,["label","field","aria-descriptor"]);n.field().each(t=>{const o=et(e.prefix);n.label().each(e=>{gs(e.element,"for",o);gs(t.element,"id",o)});n["aria-descriptor"]().each(o=>{const n=et(e.prefix);gs(o.element,"id",n);gs(t.element,"aria-describedby",n)})})})]);const a={getField:t=>Nu(t,e,"field"),getLabel:t=>Nu(t,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:s,events:r,apis:a}};const gO=_w({name:"FormField",configFields:uO(),partFields:fO(),factory:mO,apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});const pO=x([$i("field1Name","field1"),$i("field2Name","field2"),Ed("onLockedChange"),Cd(["lockClass"]),$i("locked",false),uw.field("coupledFieldBehaviours",[mv,G_]),Ji("onInput",v)]);const hO=(e,t,o)=>Nu(e,t,o).bind(mv.getCurrent);const yO=(e,t)=>bu({factory:gO,name:e,overrides:e=>({fieldBehaviours:Ym([ng("coupled-input-behaviour",[Tm(Sl(),o=>{hO(o,e,t).each(t=>{Nu(o,e,"lock").each(n=>{if(vz.isOn(n)){e.onLockedChange(o,t,n)}e.onInput(o)})})})])])})});const bO=x([yO("field1","field2"),yO("field2","field1"),bu({factory:hT,schema:[Ti("dom")],name:"lock",overrides:e=>({buttonBehaviours:Ym([vz.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]);const vO=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:uw.augment(e.coupledFieldBehaviours,[mv.config({find:M.some}),G_.config({store:{mode:"manual",getValue:t=>{const o=Iu(t,e,["field1","field2"]);return{[e.field1Name]:G_.getValue(o.field1()),[e.field2Name]:G_.getValue(o.field2())}},setValue:(t,o)=>{const n=Iu(t,e,["field1","field2"]);if(Se(o,e.field1Name)){G_.setValue(n.field1(),o[e.field1Name])}if(Se(o,e.field2Name)){G_.setValue(n.field2(),o[e.field2Name])}}}})]),apis:{getField1:t=>Nu(t,e,"field1"),getField2:t=>Nu(t,e,"field2"),getLock:t=>Nu(t,e,"lock")}});const kO=_w({name:"FormCoupledInputs",configFields:pO(),partFields:bO(),factory:vO,apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}});const wO=(e,t)=>{const o=j(e.options,e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}}));const n=e.data.map(e=>al("initialValue",e)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:o,behaviours:dw(e.selectBehaviours,[mg.config({}),G_.config({store:{mode:"manual",getValue:e=>ta(e.element),setValue:(t,o)=>{const n=ce(e.options);const s=Y(e.options,e=>e.value===o);if(s.isSome()){oa(t.element,o)}else if(t.element.dom.selectedIndex===-1&&o===""){n.each(e=>oa(t.element,e.value))}},...n}})])}};const _O=ww({name:"HtmlSelect",configFields:[Ti("options"),iw("selectBehaviours",[mg,G_]),$i("selectClasses",[]),$i("selectAttributes",{}),Hi("data")],factory:wO});const xO=(e,t,o,n,s)=>{const r=()=>e.lazySink(t);const a=n.type==="horizontal"?{layouts:{onLtr:()=>Of(),onRtl:()=>Af()}}:{};const c=e=>e.length===2;const i=e=>c(e)?a:{};return kE.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>{gS.close(t);e.onEscape.map(e=>e(t));return M.some(true)},onExecute:()=>M.some(true),onOpenMenu:(e,t)=>{BC.positionWithinBounds(r().getOrDie(),t,o,s())},onOpenSubmenu:(e,t,o,n)=>{const s=r().getOrDie();BC.position(s,o,{anchor:{type:"submenu",item:t,...i(n)}})},onRepositionMenu:(e,t,n)=>{const a=r().getOrDie();BC.positionWithinBounds(a,t,o,s());Z(n,e=>{const t=i(e.triggeringPath);BC.position(a,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})})}})};const CO=(e,t)=>{const o=(t,o)=>{const n=e.getRelated(t);return n.exists(e=>ET(e,o))};const n=(e,t)=>{gS.setContent(e,t)};const s=(e,t,o)=>{const n=M.none;r(e,t,o,n)};const r=(t,o,n,s)=>{const r=e.lazySink(t).getOrDie();gS.openWhileCloaked(t,o,()=>BC.positionWithinBounds(r,t,n,s()));G_.setValue(t,M.some({mode:"position",config:n,getBounds:s}))};const a=(e,t,o)=>{c(e,t,o,M.none)};const c=(t,o,n,s)=>{const r=xO(e,t,o,n,s);gS.open(t,r);G_.setValue(t,M.some({mode:"menu",menu:r}))};const i=e=>{if(gS.isOpen(e)){G_.setValue(e,M.none());gS.close(e)}};const l=e=>gS.getState(e);const d=t=>{if(gS.isOpen(t)){G_.getValue(t).each(o=>{switch(o.mode){case"menu":gS.getState(t).each(kE.repositionMenus);break;case"position":const n=e.lazySink(t).getOrDie();BC.positionWithinBounds(n,t,o.config,o.getBounds());break}})}};const u={setContent:n,showAt:s,showWithinBounds:r,showMenuAt:a,showMenuWithinBounds:c,hide:i,getContent:l,reposition:d,isOpen:gS.isOpen};return{uid:e.uid,dom:e.dom,behaviours:dw(e.inlineBehaviours,[gS.config({isPartOf:(e,t,n)=>ET(t,n)||o(e,n),getAttachPoint:t=>e.lazySink(t).getOrDie(),onOpen:t=>{e.onShow(t)},onClose:t=>{e.onHide(t)}}),G_.config({store:{mode:"memory",initialValue:M.none()}}),FC.config({channels:{...CE({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...zE({...e.fireRepositionEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({}),doReposition:d})}})]),eventOrder:e.eventOrder,apis:u}};const SO=ww({name:"InlineView",configFields:[Ti("lazySink"),zd("onShow"),zd("onHide"),ji("onEscape"),iw("inlineBehaviours",[gS,G_,FC]),Ui("fireDismissalEventInstead",[$i("event",Xl())]),Ui("fireRepositionEventInstead",[$i("event",Jl())]),$i("getRelated",M.none),$i("isExtraPart",A),$i("eventOrder",M.none)],factory:CO,apis:{showAt:(e,t,o,n)=>{e.showAt(t,o,n)},showWithinBounds:(e,t,o,n,s)=>{e.showWithinBounds(t,o,n,s)},showMenuAt:(e,t,o,n)=>{e.showMenuAt(t,o,n)},showMenuWithinBounds:(e,t,o,n,s)=>{e.showMenuWithinBounds(t,o,n,s)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});const zO=x([Ki("type","text"),Hi("data"),$i("inputAttributes",{}),$i("inputStyles",{}),$i("tag","input"),$i("inputClasses",[]),zd("onSetValue"),Ji("fromInputValue",C),Ji("toInputValue",C),$i("styles",{}),$i("eventOrder",{}),iw("inputBehaviours",[G_,mg]),$i("selectOnFocus",true)]);const TO=e=>Ym([mg.config({onFocus:!e.selectOnFocus?v:t=>{const o=t.element;const n=ta(o);if(e.type!=="range"){o.dom.setSelectionRange(0,n.length)}}})]);const EO=e=>({...TO(e),...dw(e.inputBehaviours,[G_.config({store:{mode:"manual",...e.data.map(e=>({initialValue:e})).getOr({}),getValue:t=>e.fromInputValue(ta(t.element)),setValue:(t,o)=>{const n=ta(t.element);if(n!==o){oa(t.element,e.toInputValue(o))}}},onSetValue:e.onSetValue})])});const OO=e=>({tag:e.tag,attributes:{type:e.type,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses});const AO=(e,t)=>({uid:e.uid,dom:OO(e),components:[],behaviours:EO(e),eventOrder:e.eventOrder});const DO=ww({name:"Input",configFields:zO(),factory:AO});const MO=zu($T(),WT());const NO=(e,t)=>{const o=ys(e,"id").fold(()=>{const e=et("dialog-label");gs(t,"id",e);return e},C);gs(e,"aria-labelledby",o)};const RO=x([Ti("lazySink"),Hi("dragBlockClass"),Ji("getBounds",tc),$i("useTabstopAt",D),$i("firstTabstop",0),$i("eventOrder",{}),iw("modalBehaviours",[ay]),Td("onExecute"),Od("onEscape")]);const BO={sketch:C};const LO=x([ku({name:"draghandle",overrides:(e,t)=>({behaviours:Ym([i_.config({mode:"mouse",getTarget:e=>Dr(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),bu({schema:[Ti("dom")],name:"title"}),bu({factory:BO,schema:[Ti("dom")],name:"close"}),bu({factory:BO,schema:[Ti("dom")],name:"body"}),ku({factory:BO,schema:[Ti("dom")],name:"footer"}),vu({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[$i("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),$i("components",[])],name:"blocker"})]);const HO=(e,t,o,n)=>{const s=wt();const r=t=>{s.set(t);const o=e.lazySink(t).getOrDie();const r=n.blocker();const a=o.getSystem().build({...r,components:r.components.concat([tv(t)]),behaviours:Ym([mg.config({}),ng("dialog-blocker-events",[Lm(wl(),()=>{lv.isBlocked(t)?v():ay.focusIn(t)})])])});wy(o,a);ay.focusIn(t)};const a=e=>{s.clear();xn(e.element).each(t=>{e.getSystem().getByDom(t).each(e=>{Cy(e)})})};const c=t=>Ru(t,e,"body");const i=t=>Nu(t,e,"footer");const l=(e,t)=>{lv.block(e,t)};const d=e=>{lv.unblock(e)};const u=et("modal-events");const f={...e.eventOrder,[Kl()]:[u].concat(e.eventOrder["alloy.system.attached"]||[])};const m=nn();return{uid:e.uid,dom:e.dom,components:t,apis:{show:r,hide:a,getBody:c,getFooter:i,setIdle:d,setBusy:l},eventOrder:f,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:dw(e.modalBehaviours,[Yy.config({}),ay.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),lv.config({getRoot:s.get}),ng(u,[Hm(t=>{const o=Ru(t,e,"title").element;const n=ea(o);if(m.os.isMacOS()&&p(n)){gs(t.element,"aria-label",n)}else{NO(t.element,o)}})])])}};const IO=_w({name:"ModalDialog",configFields:RO(),partFields:LO(),factory:HO,apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}});const PO=ku({schema:[Ti("dom")],name:"label"});const FO=e=>ku({name:""+e+"-edge",overrides:t=>{const o=t.model.manager.edgeActions[e];return o.fold(()=>({}),e=>({events:xm([Em(fl(),(t,o,n)=>e(t,n),[t]),Em(hl(),(t,o,n)=>e(t,n),[t]),Em(yl(),(t,o,n)=>{if(n.mouseIsDown.get()){e(t,n)}},[t])])}))}});const VO=FO("top-left");const jO=FO("top");const ZO=FO("top-right");const UO=FO("right");const qO=FO("bottom-right");const $O=FO("bottom");const WO=FO("bottom-left");const GO=FO("left");const KO=bu({name:"thumb",defaults:x({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:xm([Mm(fl(),e,"spectrum"),Mm(ml(),e,"spectrum"),Mm(gl(),e,"spectrum"),Mm(hl(),e,"spectrum"),Mm(yl(),e,"spectrum"),Mm(vl(),e,"spectrum")])})});const YO=e=>Og(e.event);const XO=bu({schema:[Si("mouseIsDown",()=>Ee(false))],name:"spectrum",overrides:e=>{const t=e.model;const o=t.manager;const n=(t,n)=>o.getValueFromEvent(n).map(n=>o.setValueFrom(t,e,n));return{behaviours:Ym([ay.config({mode:"special",onLeft:(t,n)=>o.onLeft(t,e,YO(n)),onRight:(t,n)=>o.onRight(t,e,YO(n)),onUp:(t,n)=>o.onUp(t,e,YO(n)),onDown:(t,n)=>o.onDown(t,e,YO(n))}),tz.config({}),mg.config({})]),events:xm([Tm(fl(),n),Tm(ml(),n),Tm(hl(),n),Tm(yl(),(t,o)=>{if(e.mouseIsDown.get()){n(t,o)}})])}}});var JO=[PO,GO,UO,jO,$O,VO,ZO,WO,qO,KO,XO];const QO="slider.change.value";const eA=x(QO);const tA=e=>e.type.indexOf("touch")!==-1;const oA=e=>{const t=e.event.raw;if(tA(t)){const e=t;return e.touches!==undefined&&e.touches.length===1?M.some(e.touches[0]).map(e=>lr(e.clientX,e.clientY)):M.none()}else{const e=t;return e.clientX!==undefined?M.some(e).map(e=>lr(e.clientX,e.clientY)):M.none()}};const nA="top",sA="right",rA="bottom",aA="left";const cA=e=>e.model.minX;const iA=e=>e.model.minY;const lA=e=>e.model.minX-1;const dA=e=>e.model.minY-1;const uA=e=>e.model.maxX;const fA=e=>e.model.maxY;const mA=e=>e.model.maxX+1;const gA=e=>e.model.maxY+1;const pA=(e,t,o)=>t(e)-o(e);const hA=e=>pA(e,uA,cA);const yA=e=>pA(e,fA,iA);const bA=e=>hA(e)/2;const vA=e=>yA(e)/2;const kA=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize;const wA=e=>e.snapToGrid;const _A=e=>e.snapStart;const xA=e=>e.rounded;const CA=(e,t)=>e[t+"-edge"]!==undefined;const SA=e=>CA(e,aA);const zA=e=>CA(e,sA);const TA=e=>CA(e,nA);const EA=e=>CA(e,rA);const OA=e=>e.model.value.get();const AA=(e,t)=>({x:e,y:t});const DA=(e,t)=>{ym(e,eA(),{value:t})};const MA=(e,t)=>{DA(e,AA(lA(t),dA(t)))};const NA=(e,t)=>{DA(e,dA(t))};const RA=(e,t)=>{DA(e,AA(bA(t),dA(t)))};const BA=(e,t)=>{DA(e,AA(mA(t),dA(t)))};const LA=(e,t)=>{DA(e,mA(t))};const HA=(e,t)=>{DA(e,AA(mA(t),vA(t)))};const IA=(e,t)=>{DA(e,AA(mA(t),gA(t)))};const PA=(e,t)=>{DA(e,gA(t))};const FA=(e,t)=>{DA(e,AA(bA(t),gA(t)))};const VA=(e,t)=>{DA(e,AA(lA(t),gA(t)))};const jA=(e,t)=>{DA(e,lA(t))};const ZA=(e,t)=>{DA(e,AA(lA(t),vA(t)))};const UA=(e,t,o,n)=>{if(e<t){return e}else if(e>o){return o}else if(e===t){return t-1}else{return Math.max(t,e-n)}};const qA=(e,t,o,n)=>{if(e>o){return e}else if(e<t){return t}else if(e===o){return o+1}else{return Math.min(o,e+n)}};const $A=(e,t,o)=>Math.max(t,Math.min(o,e));const WA=(e,t,o,n,s)=>s.fold(()=>{const s=e-t;const r=Math.round(s/n)*n;return $A(t+r,t-1,o+1)},t=>{const s=(e-t)%n;const r=Math.round(s/n);const a=Math.floor((e-t)/n);const c=Math.floor((o-t)/n);const i=Math.min(c,a+r);const l=t+i*n;return Math.max(t,l)});const GA=(e,t,o)=>Math.min(o,Math.max(e,t))-t;const KA=e=>{const{min:t,max:o,range:n,value:s,step:r,snap:a,snapStart:c,rounded:i,hasMinEdge:l,hasMaxEdge:d,minBound:u,maxBound:f,screenRange:m}=e;const g=l?t-1:t;const p=d?o+1:o;if(s<u){return g}else if(s>f){return p}else{const e=GA(s,u,f);const l=$A(e/m*n+t,g,p);if(a&&l>=t&&l<=o){return WA(l,t,o,r,c)}else if(i){return Math.round(l)}else{return l}}};const YA=e=>{const{min:t,max:o,range:n,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:c,maxOffset:i,centerMinEdge:l,centerMaxEdge:d}=e;if(s<t){return r?0:l}else if(s>o){return a?c:d}else{return(s-t)/n*i}};const XA="top",JA="right",QA="bottom",eD="left",tD="width",oD="height";const nD=e=>e.element.dom.getBoundingClientRect();const sD=(e,t)=>e[t];const rD=e=>{const t=nD(e);return sD(t,eD)};const aD=e=>{const t=nD(e);return sD(t,JA)};const cD=e=>{const t=nD(e);return sD(t,XA)};const iD=e=>{const t=nD(e);return sD(t,QA)};const lD=e=>{const t=nD(e);return sD(t,tD)};const dD=e=>{const t=nD(e);return sD(t,oD)};const uD=(e,t,o)=>(e+t)/2-o;const fD=(e,t)=>{const o=nD(e);const n=nD(t);const s=sD(o,eD);const r=sD(o,JA);const a=sD(n,eD);return uD(s,r,a)};const mD=(e,t)=>{const o=nD(e);const n=nD(t);const s=sD(o,XA);const r=sD(o,QA);const a=sD(n,XA);return uD(s,r,a)};const gD=(e,t)=>{ym(e,eA(),{value:t})};const pD=(e,t,o)=>{const n={min:cA(t),max:uA(t),range:hA(t),value:o,step:kA(t),snap:wA(t),snapStart:_A(t),rounded:xA(t),hasMinEdge:SA(t),hasMaxEdge:zA(t),minBound:rD(e),maxBound:aD(e),screenRange:lD(e)};return KA(n)};const hD=(e,t,o)=>{const n=pD(e,t,o);const s=n;gD(e,s);return n};const yD=(e,t)=>{const o=cA(t);gD(e,o)};const bD=(e,t)=>{const o=uA(t);gD(e,o)};const vD=(e,t,o,n)=>{const s=e>0?qA:UA;const r=s(OA(o),cA(o),uA(o),kA(o,n));gD(t,r);return M.some(r)};const kD=e=>(t,o,n)=>vD(e,t,o,n).map(D);const wD=e=>{const t=oA(e);return t.map(e=>e.left)};const _D=(e,t,o,n,s)=>{const r=0;const a=lD(e);const c=n.bind(t=>M.some(fD(t,e))).getOr(r);const i=s.bind(t=>M.some(fD(t,e))).getOr(a);const l={min:cA(t),max:uA(t),range:hA(t),value:o,hasMinEdge:SA(t),hasMaxEdge:zA(t),minBound:rD(e),minOffset:r,maxBound:aD(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return YA(l)};const xD=(e,t,o,n,s,r)=>{const a=_D(t,r,o,n,s);return rD(t)-rD(e)+a};const CD=(e,t,o,n)=>{const s=OA(o);const r=xD(e,n.getSpectrum(e),s,n.getLeftEdge(e),n.getRightEdge(e),o);const a=sr(t.element)/2;Is(t.element,"left",r-a+"px")};const SD=kD(-1);const zD=kD(1);const TD=M.none;const ED=M.none;const OD={"top-left":M.none(),top:M.none(),"top-right":M.none(),right:M.some(LA),"bottom-right":M.none(),bottom:M.none(),"bottom-left":M.none(),left:M.some(jA)};var AD=Object.freeze({__proto__:null,setValueFrom:hD,setToMin:yD,setToMax:bD,findValueOfOffset:pD,getValueFromEvent:wD,findPositionOfValue:xD,setPositionFromValue:CD,onLeft:SD,onRight:zD,onUp:TD,onDown:ED,edgeActions:OD});const DD=(e,t)=>{ym(e,eA(),{value:t})};const MD=(e,t,o)=>{const n={min:iA(t),max:fA(t),range:yA(t),value:o,step:kA(t),snap:wA(t),snapStart:_A(t),rounded:xA(t),hasMinEdge:TA(t),hasMaxEdge:EA(t),minBound:cD(e),maxBound:iD(e),screenRange:dD(e)};return KA(n)};const ND=(e,t,o)=>{const n=MD(e,t,o);const s=n;DD(e,s);return n};const RD=(e,t)=>{const o=iA(t);DD(e,o)};const BD=(e,t)=>{const o=fA(t);DD(e,o)};const LD=(e,t,o,n)=>{const s=e>0?qA:UA;const r=s(OA(o),iA(o),fA(o),kA(o,n));DD(t,r);return M.some(r)};const HD=e=>(t,o,n)=>LD(e,t,o,n).map(D);const ID=e=>{const t=oA(e);return t.map(e=>e.top)};const PD=(e,t,o,n,s)=>{const r=0;const a=dD(e);const c=n.bind(t=>M.some(mD(t,e))).getOr(r);const i=s.bind(t=>M.some(mD(t,e))).getOr(a);const l={min:iA(t),max:fA(t),range:yA(t),value:o,hasMinEdge:TA(t),hasMaxEdge:EA(t),minBound:cD(e),minOffset:r,maxBound:iD(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return YA(l)};const FD=(e,t,o,n,s,r)=>{const a=PD(t,r,o,n,s);return cD(t)-cD(e)+a};const VD=(e,t,o,n)=>{const s=OA(o);const r=FD(e,n.getSpectrum(e),s,n.getTopEdge(e),n.getBottomEdge(e),o);const a=Ys(t.element)/2;Is(t.element,"top",r-a+"px")};const jD=M.none;const ZD=M.none;const UD=HD(-1);const qD=HD(1);const $D={"top-left":M.none(),top:M.some(NA),"top-right":M.none(),right:M.none(),"bottom-right":M.none(),bottom:M.some(PA),"bottom-left":M.none(),left:M.none()};var WD=Object.freeze({__proto__:null,setValueFrom:ND,setToMin:RD,setToMax:BD,findValueOfOffset:MD,getValueFromEvent:ID,findPositionOfValue:FD,setPositionFromValue:VD,onLeft:jD,onRight:ZD,onUp:UD,onDown:qD,edgeActions:$D});const GD=(e,t)=>{ym(e,eA(),{value:t})};const KD=(e,t)=>({x:e,y:t});const YD=(e,t,o)=>{const n=pD(e,t,o.left);const s=MD(e,t,o.top);const r=KD(n,s);GD(e,r);return r};const XD=(e,t,o,n,s)=>{const r=e>0?qA:UA;const a=t?OA(n).x:r(OA(n).x,cA(n),uA(n),kA(n,s));const c=!t?OA(n).y:r(OA(n).y,iA(n),fA(n),kA(n,s));GD(o,KD(a,c));return M.some(a)};const JD=(e,t)=>(o,n,s)=>XD(e,t,o,n,s).map(D);const QD=(e,t)=>{const o=cA(t);const n=iA(t);GD(e,KD(o,n))};const eM=(e,t)=>{const o=uA(t);const n=fA(t);GD(e,KD(o,n))};const tM=e=>oA(e);const oM=(e,t,o,n)=>{const s=OA(o);const r=xD(e,n.getSpectrum(e),s.x,n.getLeftEdge(e),n.getRightEdge(e),o);const a=FD(e,n.getSpectrum(e),s.y,n.getTopEdge(e),n.getBottomEdge(e),o);const c=sr(t.element)/2;const i=Ys(t.element)/2;Is(t.element,"left",r-c+"px");Is(t.element,"top",a-i+"px")};const nM=JD(-1,false);const sM=JD(1,false);const rM=JD(-1,true);const aM=JD(1,true);const cM={"top-left":M.some(MA),top:M.some(RA),"top-right":M.some(BA),right:M.some(HA),"bottom-right":M.some(IA),bottom:M.some(FA),"bottom-left":M.some(VA),left:M.some(ZA)};var iM=Object.freeze({__proto__:null,setValueFrom:YD,setToMin:QD,setToMax:eM,getValueFromEvent:tM,setPositionFromValue:oM,onLeft:nM,onRight:sM,onUp:rM,onDown:aM,edgeActions:cM});const lM=[$i("stepSize",1),$i("speedMultiplier",10),$i("onChange",v),$i("onChoose",v),$i("onInit",v),$i("onDragStart",v),$i("onDragEnd",v),$i("snapToGrid",false),$i("rounded",true),Hi("snapStart"),Ei("model",_i("mode",{x:[$i("minX",0),$i("maxX",100),Si("value",e=>Ee(e.mode.minX)),Ti("getInitialValue"),Ad("manager",AD)],y:[$i("minY",0),$i("maxY",100),Si("value",e=>Ee(e.mode.minY)),Ti("getInitialValue"),Ad("manager",WD)],xy:[$i("minX",0),$i("maxX",100),$i("minY",0),$i("maxY",100),Si("value",e=>Ee({x:e.mode.minX,y:e.mode.minY})),Ti("getInitialValue"),Ad("manager",iM)]})),iw("sliderBehaviours",[ay,G_]),Si("mouseIsDown",()=>Ee(false))];const dM=(e,t,o,n)=>{const s=t=>Ru(t,e,"thumb");const r=t=>Ru(t,e,"spectrum");const a=t=>Nu(t,e,"left-edge");const c=t=>Nu(t,e,"right-edge");const i=t=>Nu(t,e,"top-edge");const l=t=>Nu(t,e,"bottom-edge");const d=e.model;const u=d.manager;const f=(t,o)=>{u.setPositionFromValue(t,o,e,{getLeftEdge:a,getRightEdge:c,getTopEdge:i,getBottomEdge:l,getSpectrum:r})};const m=(e,t)=>{d.value.set(t);const o=s(e);f(e,o)};const g=(t,o)=>{m(t,o);const n=s(t);e.onChange(t,n,o);return M.some(true)};const p=t=>{u.setToMin(t,e)};const h=t=>{u.setToMax(t,e)};const y=t=>{const o=()=>{Nu(t,e,"thumb").each(o=>{const n=d.value.get();e.onChoose(t,o,n)})};const n=e.mouseIsDown.get();e.mouseIsDown.set(false);if(n){o()}};const b=(t,o)=>{o.stop();e.mouseIsDown.set(true);e.onDragStart(t,s(t))};const v=(t,o)=>{o.stop();e.onDragEnd(t,s(t));y(t)};const k=t=>{Nu(t,e,"spectrum").map(ay.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:dw(e.sliderBehaviours,[ay.config({mode:"special",focusIn:k}),G_.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:m}}),FC.config({channels:{[Kz()]:{onReceive:y}}})]),events:xm([Tm(eA(),(e,t)=>{g(e,t.event.value)}),Hm((t,o)=>{const n=d.getInitialValue();d.value.set(n);const a=s(t);f(t,a);const c=r(t);e.onInit(t,a,c,d.value.get())}),Tm(fl(),b),Tm(gl(),v),Tm(hl(),(e,t)=>{k(e);b(e,t)}),Tm(vl(),v)]),apis:{resetToMin:p,resetToMax:h,setValue:m,refresh:f},domModification:{styles:{position:"relative"}}}};const uM=_w({name:"Slider",configFields:lM,partFields:JO,factory:dM,apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}});const fM="container";const mM=[iw("slotBehaviours",[])];const gM=e=>"<alloy.field."+e+">";const pM=e=>{const t=(()=>{const e=[];const t=(t,o)=>{e.push(t);return Eu(fM,gM(t),o)};return{slot:t,record:x(e)}})();const o=e(t);const n=t.record();const s=j(n,e=>bu({name:e,pname:gM(e)}));return pw(fM,mM,s,hM,o)};const hM=(e,t)=>{const o=t=>Hu(e);const n=(t,o)=>Nu(t,e,o);const s=(t,o)=>(n,s)=>Nu(n,e,s).map(e=>t(e,s)).getOr(o);const r=e=>(t,o)=>{Z(o,o=>e(t,o))};const a=(e,t)=>hs(e.element,"aria-hidden")!=="true";const c=(e,t)=>{if(!a(e)){const o=e.element;$s(o,"display");vs(o,"aria-hidden");ym(e,ed(),{name:t,visible:true})}};const i=(e,t)=>{if(a(e)){const o=e.element;Is(o,"display","none");gs(o,"aria-hidden","true");ym(e,ed(),{name:t,visible:false})}};const l=s(a,false);const d=s(i);const u=r(d);const f=e=>u(e,o());const m=s(c);const g={getSlotNames:o,getSlot:n,isShowing:l,hideSlot:d,hideAllSlots:f,showSlot:m};return{uid:e.uid,dom:e.dom,components:t,behaviours:lw(e.slotBehaviours),apis:g}};const yM=ge({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},e=>uy(e));const bM={...yM,...{sketch:pM}};const vM=x([Ti("toggleClass"),Ti("fetch"),Ed("onExecute"),$i("getHotspot",M.some),$i("getAnchorOverrides",x({})),Bx(),Ed("onItemExecute"),Hi("lazySink"),Ti("dom"),zd("onOpen"),iw("splitDropdownBehaviours",[kv,ay,mg]),$i("matchWidth",false),$i("useMinWidth",false),$i("eventOrder",{}),Hi("role"),Hi("listRole")].concat(IE()));const kM=bu({factory:hT,schema:[Ti("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Ym([mg.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(bm)},buttonBehaviours:Ym([vz.config({toggleOnExecute:false,toggleClass:e.toggleClass})])})});const wM=bu({factory:hT,schema:[Ti("dom")],name:"button",defaults:()=>({buttonBehaviours:Ym([mg.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(o=>{e.onExecute(o,t)})}})});const _M=x([kM,wM,ku({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Ti("text")],name:"aria-descriptor"}),vu({schema:[xd()],name:"menu",defaults:e=>({onExecute:(t,o)=>{t.getSystem().getByUid(e.uid).each(n=>{e.onItemExecute(n,t,o)})}})}),_E()]);const xM=(e,t,o,n)=>{const s=e=>{mv.getCurrent(e).each(e=>{Qg.highlightFirst(e);ay.focusIn(e)})};const r=t=>{const o=s;ME(e,C,t,n,o,cm.HighlightMenuAndItem).get(v)};const a=e=>{r(e);return M.some(true)};const c=t=>{const o=Ru(t,e,"button");bm(o);return M.some(true)};const i={...xm([Hm((t,o)=>{const n=Nu(t,e,"aria-descriptor");n.each(e=>{const o=et("aria");gs(e.element,"id",o);gs(t.element,"aria-describedby",o)})})]),...gT(M.some(r))};const l={repositionMenus:e=>{if(vz.isOn(e)){HE(e)}}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:{...e.eventOrder,[Il()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:dw(e.splitDropdownBehaviours,[kv.config({others:{sandbox:t=>{const o=Ru(t,e,"arrow");const n={onOpen:()=>{vz.on(o);vz.on(t)},onClose:()=>{vz.off(o);vz.off(t)}};return LE(e,t,n)}}}),ay.config({mode:"special",onSpace:c,onEnter:c,onDown:a}),mg.config({}),vz.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":true}}}};const CM=_w({name:"SplitDropdown",configFields:vM(),partFields:_M(),factory:xM,apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}});const SM=(e,t)=>{const o={len:0,list:[]};const n=G(e,(e,o)=>{const n=t(o,e.len);return n.fold(x(e),t=>({len:t.finish,list:e.list.concat([t])}))},o);return n.list};const zM=(e,t,o)=>({within:e,extra:t,withinWidth:o});const TM=(e,t,o)=>{const n=SM(e,(e,t)=>{const n=o(e);return M.some({element:e,start:t,finish:t+n,width:n})});const s=$(n,e=>e.finish<=t);const r=W(s,(e,t)=>e+t.width,0);const a=n.slice(s.length);return{within:s,extra:a,withinWidth:r}};const EM=e=>j(e,e=>e.element);const OM=(e,t,o)=>{const n=EM(e.concat(t));return zM(n,[],o)};const AM=(e,t,o,n)=>{const s=EM(e).concat([o]);return zM(s,EM(t),n)};const DM=(e,t,o)=>zM(EM(e),[],o);const MM=(e,t,o)=>{const n=TM(t,e,o);return n.extra.length===0?M.some(n):M.none()};const NM=(e,t,o,n)=>{const s=MM(e,t,o).getOrThunk(()=>TM(t,e-o(n),o));const r=s.within;const a=s.extra;const c=s.withinWidth;if(a.length===1&&a[0].width<=o(n)){return OM(r,a,c)}else if(a.length>=1){return AM(r,a,n,c)}else{return DM(r,a,c)}};const RM=(e,t)=>{const o=j(t,e=>tv(e));eO.setGroups(e,o)};const BM=e=>de(e,e=>as(e.element).bind(t=>e.getSystem().getByDom(t).toOptional()));const LM=(e,t,o)=>{const n=t.builtGroups.get();if(n.length===0){return}const s=Ru(e,t,"primary");const r=kv.getCoupled(e,"overflowGroup");Is(s.element,"visibility","hidden");const a=n.concat([r]);const c=BM(a);o([]);RM(s,a);const i=sr(s.element);const l=NM(i,t.builtGroups.get(),e=>Math.ceil(e.element.dom.getBoundingClientRect().width),r);if(l.extra.length===0){Yy.remove(s,r);o([])}else{RM(s,l.within);o(l.extra)}$s(s.element,"visibility");Ws(s.element);c.each(mg.focus)};const HM=x([iw("splitToolbarBehaviours",[kv]),Si("builtGroups",()=>Ee([]))]);const IM=x([Cd(["overflowToggledClass"]),ji("getOverflowBounds"),Ti("lazySink"),Si("overflowGroups",()=>Ee([])),zd("onOpened"),zd("onClosed")].concat(HM()));const PM=x([bu({factory:eO,schema:YE(),name:"primary"}),vu({schema:YE(),name:"overflow"}),vu({name:"overflow-button"}),vu({name:"overflow-group"})]);const FM=x([Ti("items"),Cd(["itemSelector"]),iw("tgroupBehaviours",[ay])]);const VM=x([wu({name:"items",unit:"item"})]);const jM=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:dw(e.tgroupBehaviours,[ay.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}});const ZM=_w({name:"ToolbarGroup",configFields:FM(),partFields:VM(),factory:jM});const UM=e=>j(e,e=>tv(e));const qM=(e,t,o)=>{LM(e,o,n=>{o.overflowGroups.set(n);t.getOpt(e).each(e=>{dO.setGroups(e,UM(n))})})};const $M=(e,t,o,n)=>{const s=Uz(dO.sketch({fetch:()=>Le.nu(t=>{t(UM(e.overflowGroups.get()))}),layouts:{onLtr:()=>[bf,yf],onRtl:()=>[yf,bf],onBottomLtr:()=>[kf,vf],onBottomRtl:()=>[vf,kf]},getBounds:o.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(t,o)=>e[o?"onOpened":"onClosed"](t)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:dw(e.splitToolbarBehaviours,[kv.config({others:{overflowGroup:()=>ZM.sketch({...n["overflow-group"](),items:[s.asSpec()]})}})]),apis:{setGroups:(t,o)=>{e.builtGroups.set(j(o,t.getSystem().build));qM(t,s,e)},refresh:t=>qM(t,s,e),toggle:e=>{s.getOpt(e).each(e=>{dO.toggle(e)})},toggleWithoutFocusing:e=>{s.getOpt(e).each(dO.toggleWithoutFocusing)},isOpen:e=>s.getOpt(e).map(dO.isOpen).getOr(false),reposition:e=>{s.getOpt(e).each(e=>{dO.reposition(e)})},getOverflow:e=>s.getOpt(e).bind(dO.getToolbar)},domModification:{attributes:{role:"group"}}}};const WM=_w({name:"SplitFloatingToolbar",configFields:IM(),partFields:PM(),factory:$M,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}});const GM=x([Cd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),zd("onOpened"),zd("onClosed")].concat(HM()));const KM=x([bu({factory:eO,schema:YE(),name:"primary"}),bu({factory:eO,schema:YE(),name:"overflow",overrides:e=>({toolbarBehaviours:Ym([ZS.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{Nu(t,e,"overflow-button").each(e=>{vz.off(e)});e.onClosed(t)},onGrown:t=>{e.onOpened(t)},onStartGrow:t=>{Nu(t,e,"overflow-button").each(vz.on)}}),ay.config({mode:"acyclic",onEscape:t=>{Nu(t,e,"overflow-button").each(mg.focus);return M.some(true)}})])})}),vu({name:"overflow-button",overrides:e=>({buttonBehaviours:Ym([vz.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:false})])})}),vu({name:"overflow-group"})]);const YM=(e,t)=>Nu(e,t,"overflow").map(ZS.hasGrown).getOr(false);const XM=(e,t,o)=>{Nu(e,t,"overflow-button").each(n=>{Nu(e,t,"overflow").each(s=>{JM(e,t);if(ZS.hasShrunk(s)){const e=t.onOpened;t.onOpened=n=>{if(!o){ay.focusIn(s)}e(n);t.onOpened=e}}else{const e=t.onClosed;t.onClosed=s=>{if(!o){mg.focus(n)}e(s);t.onClosed=e}}ZS.toggleGrow(s)})})};const JM=(e,t)=>{Nu(e,t,"overflow").each(o=>{LM(e,t,e=>{const t=j(e,e=>tv(e));eO.setGroups(o,t)});Nu(e,t,"overflow-button").each(e=>{if(ZS.hasGrown(o)){vz.on(e)}});ZS.refresh(o)})};const QM=(e,t,o,n)=>{const s="alloy.toolbar.toggle";const r=(t,o)=>{const n=j(o,t.getSystem().build);e.builtGroups.set(n)};return{uid:e.uid,dom:e.dom,components:t,behaviours:dw(e.splitToolbarBehaviours,[kv.config({others:{overflowGroup:e=>ZM.sketch({...n["overflow-group"](),items:[hT.sketch({...n["overflow-button"](),action:t=>{hm(e,s)}})]})}}),ng("toolbar-toggle-events",[Tm(s,t=>{XM(t,e,false)})])]),apis:{setGroups:(t,o)=>{r(t,o);JM(t,e)},refresh:t=>JM(t,e),toggle:t=>{XM(t,e,false)},toggleWithoutFocusing:t=>{XM(t,e,true)},isOpen:t=>YM(t,e)},domModification:{attributes:{role:"group"}}}};const eN=_w({name:"SplitSlidingToolbar",configFields:GM(),partFields:KM(),factory:QM,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}});const tN=(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:gT(e.action),behaviours:dw(e.tabButtonBehaviours,[mg.config({}),ay.config({mode:"execution",useSpace:true,useEnter:true}),G_.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification});const oN=ww({name:"TabButton",configFields:[$i("uid",undefined),Ti("value"),Ci("dom","dom",Vc(()=>({attributes:{role:"tab",id:et("aria"),"aria-selected":"false"}})),Oc()),Hi("action"),$i("domModification",{}),iw("tabButtonBehaviours",[mg,ay,G_]),Ti("view")],factory:tN});const nN=x([Ti("tabs"),Ti("dom"),$i("clickToDismiss",false),iw("tabbarBehaviours",[Qg,ay]),Cd(["tabClass","selectedClass"])]);const sN=wu({factory:oN,name:"tabs",unit:"tab",overrides:e=>{const t=(e,t)=>{Qg.dehighlight(e,t);ym(e,nd(),{tabbar:e,button:t})};const o=(e,t)=>{Qg.highlight(e,t);ym(e,od(),{tabbar:e,button:t})};return{action:n=>{const s=n.getSystem().getByUid(e.uid).getOrDie();const r=Qg.isHighlighted(s,n);const a=(()=>{if(r&&e.clickToDismiss){return t}else if(!r){return o}else{return v}})();a(s,n)},domModification:{classes:[e.markers.tabClass]}}}});const rN=x([sN]);const aN=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:dw(e.tabbarBehaviours,[Qg.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{gs(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{gs(t.element,"aria-selected","false")}}),ay.config({mode:"flow",getInitial:e=>Qg.getHighlighted(e).map(e=>e.element),selector:"."+e.markers.tabClass,executeOnMove:true})])});const cN=_w({name:"Tabbar",configFields:nN(),partFields:rN(),factory:aN});const iN=(e,t)=>({uid:e.uid,dom:e.dom,behaviours:dw(e.tabviewBehaviours,[Yy.config({})]),domModification:{attributes:{role:"tabpanel"}}});const lN=ww({name:"Tabview",configFields:[iw("tabviewBehaviours",[Yy])],factory:iN});const dN=x([$i("selectFirst",true),zd("onChangeTab"),zd("onDismissTab"),$i("tabs",[]),iw("tabSectionBehaviours",[])]);const uN=bu({factory:cN,schema:[Ti("dom"),Ri("markers",[Ti("tabClass"),Ti("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})});const fN=bu({factory:lN,name:"tabview"});const mN=x([uN,fN]);const gN=(e,t,o,n)=>{const s=t=>{const o=G_.getValue(t);Nu(t,e,"tabview").each(n=>{const s=Y(e.tabs,e=>e.value===o);s.each(o=>{const s=o.view();ys(t.element,"id").each(e=>{gs(n.element,"aria-labelledby",e)});Yy.set(n,s);e.onChangeTab(n,t,s)})})};const r=(t,o)=>{Nu(t,e,"tabbar").each(e=>{o(e).each(bm)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:lw(e.tabSectionBehaviours),events:xm(J([e.selectFirst?[Hm((e,t)=>{r(e,Qg.getFirst)})]:[],[Tm(od(),(e,t)=>{const o=t.event.button;s(o)}),Tm(nd(),(t,o)=>{const n=o.event.button;e.onDismissTab(t,n)})]])),apis:{getViewItems:t=>Nu(t,e,"tabview").map(e=>Yy.contents(e)).getOr([]),showTab:(e,t)=>{const o=e=>{const o=Qg.getCandidates(e);const n=Y(o,e=>G_.getValue(e)===t);return n.filter(t=>!Qg.isHighlighted(e,t))};r(e,o)}}}};const pN=_w({name:"TabSection",configFields:dN(),partFields:mN(),factory:gN,apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}});const hN=(e,t,o)=>{const n=G_.getValue(o);G_.setValue(t,n);bN(t)};const yN=(e,t)=>{const o=e.element;const n=ta(o);const s=o.dom;if(hs(o,"type")!=="number"){t(s,n)}};const bN=e=>{yN(e,(e,t)=>e.setSelectionRange(t.length,t.length))};const vN=(e,t)=>{yN(e,(e,o)=>e.setSelectionRange(t,o.length))};const kN=(e,t,o)=>{if(!e.selectsOver){return M.none()}else{const n=G_.getValue(t);const s=e.getDisplayText(n);const r=G_.getValue(o);const a=e.getDisplayText(r);return a.indexOf(s)===0?M.some(()=>{hN(e,t,o);vN(t,s.length)}):M.none()}};const wN=x("alloy.typeahead.itemexecute");const _N=(e,t,o,n)=>{const s=(t,o,s)=>{e.previewing.set(false);const r=kv.getCoupled(t,"sandbox");if(gS.isOpen(r)){mv.getCurrent(r).each(e=>{Qg.getHighlighted(e).fold(()=>{s(e)},()=>{_m(r,e.element,"keydown",o)})})}else{const o=e=>{mv.getCurrent(e).each(s)};AE(e,a(t),t,r,n,o,cm.HighlightMenuAndItem).get(v)}};const r=TO(e);const a=e=>t=>t.map(t=>{const o=_e(t.menus);const n=Q(o,e=>$(e.items,e=>e.type==="item"));const s=G_.getState(e);s.update(j(n,e=>e.data));return t});const c=e=>mv.getCurrent(e);const i="typeaheadevents";const l=[mg.config({}),G_.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:e=>ta(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(t,o)=>{oa(t.element,e.model.getDisplayText(o))},...e.initialData.map(e=>al("initialValue",e)).getOr({})}}),XS.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:false},onStream:(t,o)=>{const s=kv.getCoupled(t,"sandbox");const r=mg.isFocused(t);if(r){if(ta(t.element).length>=e.minChars){const o=c(s).bind(e=>Qg.getHighlighted(e).map(G_.getValue));e.previewing.set(true);const r=t=>{c(s).each(t=>{o.fold(()=>{if(e.model.selectsOver){Qg.highlightFirst(t)}},e=>{Qg.highlightBy(t,t=>{const o=G_.getValue(t);return o.value===e.value});Qg.getHighlighted(t).orThunk(()=>{Qg.highlightFirst(t);return M.none()})})})};AE(e,a(t),t,s,n,r,cm.HighlightJustMenu).get(v)}}},cancelEvent:Zl()}),ay.config({mode:"special",onDown:(e,t)=>{s(e,t,Qg.highlightFirst);return M.some(true)},onEscape:e=>{const t=kv.getCoupled(e,"sandbox");if(gS.isOpen(t)){gS.close(t);return M.some(true)}return M.none()},onUp:(e,t)=>{s(e,t,Qg.highlightLast);return M.some(true)},onEnter:t=>{const o=kv.getCoupled(t,"sandbox");const n=gS.isOpen(o);if(n&&!e.previewing.get()){return c(o).bind(e=>Qg.getHighlighted(e)).map(e=>{ym(t,wN(),{item:e});return true})}else{const s=G_.getValue(t);hm(t,Zl());e.onExecute(o,t,s);if(n){gS.close(o)}return M.some(true)}}}),vz.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),kv.config({others:{sandbox:t=>LE(e,t,{onOpen:()=>vz.on(t),onClose:()=>{e.lazyTypeaheadComp.get().each(e=>vs(e.element,"aria-activedescendant"));vz.off(t)}})}}),ng(i,[Hm(t=>{e.lazyTypeaheadComp.set(M.some(t))}),Im(t=>{e.lazyTypeaheadComp.set(M.none())}),Fm(t=>{const o=v;ME(e,a(t),t,n,o,cm.HighlightMenuAndItem).get(v)}),Tm(wN(),(t,o)=>{const n=kv.getCoupled(t,"sandbox");hN(e.model,t,o.event.item);hm(t,Zl());e.onItemExecute(t,n,o.event.item,G_.getValue(t));gS.close(n);bN(t)})].concat(e.dismissOnBlur?[Tm(Bl(),e=>{const t=kv.getCoupled(e,"sandbox");if(as(t.element).isNone()){gS.close(t)}})]:[]))];const d={[Yl()]:[G_.name(),XS.name(),i],...e.eventOrder};return{uid:e.uid,dom:OO(st(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...dw(e.typeaheadBehaviours,l)},eventOrder:d}};const xN=x([Hi("lazySink"),Ti("fetch"),$i("minChars",5),$i("responseTime",1e3),zd("onOpen"),$i("getHotspot",M.some),$i("getAnchorOverrides",x({})),$i("layouts",M.none()),$i("eventOrder",{}),tl("model",{},[$i("getDisplayText",e=>e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.value),$i("selectsOver",true),$i("populateFromBrowse",true)]),zd("onSetValue"),Td("onExecute"),zd("onItemExecute"),$i("inputClasses",[]),$i("inputAttributes",{}),$i("inputStyles",{}),$i("matchWidth",true),$i("useMinWidth",false),$i("dismissOnBlur",true),Cd(["openClass"]),Hi("initialData"),Hi("listRole"),iw("typeaheadBehaviours",[mg,G_,XS,ay,vz,kv]),Si("lazyTypeaheadComp",()=>Ee(M.none)),Si("previewing",()=>Ee(true))].concat(zO()).concat(IE()));const CN=x([vu({schema:[xd()],name:"menu",overrides:e=>({fakeFocus:true,onHighlightItem:(t,o,n)=>{if(!e.previewing.get()){e.lazyTypeaheadComp.get().each(t=>{if(e.model.populateFromBrowse){hN(e.model,t,n)}ys(n.element,"id").each(e=>gs(t.element,"aria-activedescendant",e))})}else{e.lazyTypeaheadComp.get().each(t=>{kN(e.model,t,n).fold(()=>{if(e.model.selectsOver){Qg.dehighlight(o,n);e.previewing.set(true)}else{e.previewing.set(false)}},t=>{t();e.previewing.set(false)})})}},onExecute:(t,o)=>e.lazyTypeaheadComp.get().map(e=>{ym(e,wN(),{item:o});return true}),onHover:(t,o)=>{e.previewing.set(false);e.lazyTypeaheadComp.get().each(t=>{if(e.model.populateFromBrowse){hN(e.model,t,o)}})}})})]);const SN=_w({name:"Typeahead",configFields:xN(),partFields:CN(),factory:_N});var zN=tinymce.util.Tools.resolve("tinymce.ThemeManager");var TN=tinymce.util.Tools.resolve("tinymce.util.Delay");var EN=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var ON=tinymce.util.Tools.resolve("tinymce.EditorManager");var AN=tinymce.util.Tools.resolve("tinymce.Env");var DN;(function(e){e["default"]="wrap";e["floating"]="floating";e["sliding"]="sliding";e["scrolling"]="scrolling"})(DN||(DN={}));var MN;(function(e){e["auto"]="auto";e["top"]="top";e["bottom"]="bottom"})(MN||(MN={}));const NN=e=>t=>t.options.get(e);const RN=e=>t=>M.from(e(t));const BN=e=>{const t=AN.deviceType.isPhone();const o=AN.deviceType.isTablet()||t;const n=e.options.register;const s=e=>c(e)||e===false;const r=e=>c(e)||y(e);n("skin",{processor:e=>c(e)||e===false,default:"oxide"});n("skin_url",{processor:"string"});n("height",{processor:r,default:Math.max(e.getElement().offsetHeight,400)});n("width",{processor:r,default:EN.DOM.getStyle(e.getElement(),"width")});n("min_height",{processor:"number",default:100});n("min_width",{processor:"number"});n("max_height",{processor:"number"});n("max_width",{processor:"number"});n("style_formats",{processor:"object[]"});n("style_formats_merge",{processor:"boolean",default:false});n("style_formats_autohide",{processor:"boolean",default:false});n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"});n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;"+"Arial=arial,helvetica,sans-serif;"+"Arial Black=arial black,sans-serif;"+"Book Antiqua=book antiqua,palatino,serif;"+"Comic Sans MS=comic sans ms,sans-serif;"+"Courier New=courier new,courier,monospace;"+"Georgia=georgia,palatino,serif;"+"Helvetica=helvetica,arial,sans-serif;"+"Impact=impact,sans-serif;"+"Symbol=symbol;"+"Tahoma=tahoma,arial,helvetica,sans-serif;"+"Terminal=terminal,monaco,monospace;"+"Times New Roman=times new roman,times,serif;"+"Trebuchet MS=trebuchet ms,geneva,sans-serif;"+"Verdana=verdana,geneva,sans-serif;"+"Webdings=webdings;"+"Wingdings=wingdings,zapf dingbats"});n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"});n("font_size_input_default_unit",{processor:"string",default:"pt"});n("block_formats",{processor:"string",default:"Paragraph=p;"+"Heading 1=h1;"+"Heading 2=h2;"+"Heading 3=h3;"+"Heading 4=h4;"+"Heading 5=h5;"+"Heading 6=h6;"+"Preformatted=pre"});n("content_langs",{processor:"object[]"});n("removed_menuitems",{processor:"string",default:""});n("menubar",{processor:e=>c(e)||f(e),default:!t});n("menu",{processor:"object",default:{}});n("toolbar",{processor:e=>{if(f(e)||c(e)||d(e)){return{value:e,valid:true}}else{return{valid:false,message:"Must be a boolean, string or array."}}},default:true});F(9,e=>{n("toolbar"+(e+1),{processor:"string"})});n("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"});n("toolbar_groups",{processor:"object",default:{}});n("toolbar_location",{processor:"string",default:MN.auto});n("toolbar_persist",{processor:"boolean",default:false});n("toolbar_sticky",{processor:"boolean",default:e.inline});n("toolbar_sticky_offset",{processor:"number",default:0});n("fixed_toolbar_container",{processor:"string",default:""});n("fixed_toolbar_container_target",{processor:"object"});n("ui_mode",{processor:"string",default:"combined"});n("file_picker_callback",{processor:"function"});n("file_picker_validator_handler",{processor:"function"});n("file_picker_types",{processor:"string"});n("typeahead_urls",{processor:"boolean",default:true});n("anchor_top",{processor:s,default:"#top"});n("anchor_bottom",{processor:s,default:"#bottom"});n("draggable_modal",{processor:"boolean",default:false});n("statusbar",{processor:"boolean",default:true});n("elementpath",{processor:"boolean",default:true});n("branding",{processor:"boolean",default:true});n("promotion",{processor:"boolean",default:true});n("resize",{processor:e=>e==="both"||f(e),default:!AN.deviceType.isTouch()});n("sidebar_show",{processor:"string"});n("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")});n("default_font_stack",{processor:"string[]",default:[]})};const LN=NN("readonly");const HN=NN("disabled");const IN=NN("height");const PN=NN("width");const FN=RN(NN("min_width"));const VN=RN(NN("min_height"));const jN=RN(NN("max_width"));const ZN=RN(NN("max_height"));const UN=RN(NN("style_formats"));const qN=NN("style_formats_merge");const $N=NN("style_formats_autohide");const WN=NN("content_langs");const GN=NN("removed_menuitems");const KN=NN("toolbar_mode");const YN=NN("toolbar_groups");const XN=NN("toolbar_location");const JN=NN("fixed_toolbar_container");const QN=NN("fixed_toolbar_container_target");const eR=NN("toolbar_persist");const tR=NN("toolbar_sticky_offset");const oR=NN("menubar");const nR=NN("toolbar");const sR=NN("file_picker_callback");const rR=NN("file_picker_validator_handler");const aR=NN("font_size_input_default_unit");const cR=NN("file_picker_types");const iR=NN("typeahead_urls");const lR=NN("anchor_top");const dR=NN("anchor_bottom");const uR=NN("draggable_modal");const fR=NN("statusbar");const mR=NN("elementpath");const gR=NN("branding");const pR=NN("resize");const hR=NN("paste_as_text");const yR=NN("sidebar_show");const bR=NN("promotion");const vR=NN("help_accessibility");const kR=NN("default_font_stack");const wR=NN("skin");const _R=e=>e.options.get("skin")===false;const xR=e=>e.options.get("menubar")!==false;const CR=e=>{const t=e.options.get("skin_url");if(_R(e)){return t}else{if(t){return e.documentBaseURI.toAbsolute(t)}else{const t=e.options.get("skin");return ON.baseURL+"/skins/ui/"+t}}};const SR=e=>M.from(e.options.get("skin_url"));const zR=e=>e.options.get("line_height_formats").split(" ");const TR=e=>{const t=nR(e);const o=c(t);const n=d(t)&&t.length>0;return!OR(e)&&(n||o||t===true)};const ER=e=>{const t=F(9,t=>e.options.get("toolbar"+(t+1)));const o=$(t,c);return mt(o.length>0,o)};const OR=e=>ER(e).fold(()=>{const t=nR(e);return b(t,c)&&t.length>0},D);const AR=e=>XN(e)===MN.bottom;const DR=e=>{var t;if(!e.inline){return M.none()}const o=(t=JN(e))!==null&&t!==void 0?t:"";if(o.length>0){return Rr(Rs(),o)}const n=QN(e);if(p(n)){return M.some($t.fromDom(n))}return M.none()};const MR=e=>e.inline&&DR(e).isSome();const NR=e=>{const t=DR(e);return t.getOrThunk(()=>In(Hn($t.fromDom(e.getElement()))))};const RR=e=>e.inline&&!xR(e)&&!TR(e)&&!OR(e);const BR=e=>{const t=e.options.get("toolbar_sticky");return(t||e.inline)&&!MR(e)&&!RR(e)};const LR=e=>!MR(e)&&e.options.get("ui_mode")==="split";const HR=e=>{const t=e.options.get("menu");return ge(t,e=>({...e,items:e.items}))};var IR=Object.freeze({__proto__:null,get ToolbarMode(){return DN},get ToolbarLocation(){return MN},register:BN,getSkinUrl:CR,getSkinUrlOption:SR,isReadOnly:LN,isDisabled:HN,getSkin:wR,isSkinDisabled:_R,getHeightOption:IN,getWidthOption:PN,getMinWidthOption:FN,getMinHeightOption:VN,getMaxWidthOption:jN,getMaxHeightOption:ZN,getUserStyleFormats:UN,shouldMergeStyleFormats:qN,shouldAutoHideStyleFormats:$N,getLineHeightFormats:zR,getContentLanguages:WN,getRemovedMenuItems:GN,isMenubarEnabled:xR,isMultipleToolbars:OR,isToolbarEnabled:TR,isToolbarPersist:eR,getMultipleToolbarsOption:ER,getUiContainer:NR,useFixedContainer:MR,isSplitUiMode:LR,getToolbarMode:KN,isDraggableModal:uR,isDistractionFree:RR,isStickyToolbar:BR,getStickyToolbarOffset:tR,getToolbarLocation:XN,isToolbarLocationBottom:AR,getToolbarGroups:YN,getMenus:HR,getMenubar:oR,getToolbar:nR,getFilePickerCallback:sR,getFilePickerTypes:cR,useTypeaheadUrls:iR,getAnchorTop:lR,getAnchorBottom:dR,getFilePickerValidatorHandler:rR,getFontSizeInputDefaultUnit:aR,useStatusBar:fR,useElementPath:mR,promotionEnabled:bR,useBranding:gR,getResize:pR,getPasteAsText:hR,getSidebarShow:yR,useHelpAccessibility:vR,getDefaultFontStack:kR});const PR=["visible","hidden","clip"];const FR=e=>Dt(e).length>0&&!I(PR,e);const VR=e=>{if(mn(e)){const t=Vs(e,"overflow-x");const o=Vs(e,"overflow-y");return FR(t)||FR(o)}else{return false}};const jR=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen();const ZR=(e,t)=>{const o=na(t,VR);const n=o.length===0?Fn(t).map(Vn).map(e=>na(e,VR)).getOr([]):o;return ce(n).map(t=>({element:t,others:n.slice(1),isFullscreen:()=>jR(e)}))};const UR=(e,t)=>LR(e)?ZR(e,t):M.none();const qR=e=>{const t=[...j(e.others,Xa),tc()];return e.isFullscreen()?tc():ec(Xa(e.element),t)};
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:$R,setPrototypeOf:WR,isFrozen:GR,getPrototypeOf:KR,getOwnPropertyDescriptor:YR}=Object;let{freeze:XR,seal:JR,create:QR}=Object;let{apply:eB,construct:tB}=typeof Reflect!=="undefined"&&Reflect;if(!XR){XR=function e(t){return t}}if(!JR){JR=function e(t){return t}}if(!eB){eB=function e(t,o,n){return t.apply(o,n)}}if(!tB){tB=function e(t,o){return new t(...o)}}const oB=hB(Array.prototype.forEach);const nB=hB(Array.prototype.lastIndexOf);const sB=hB(Array.prototype.pop);const rB=hB(Array.prototype.push);const aB=hB(Array.prototype.splice);const cB=hB(String.prototype.toLowerCase);const iB=hB(String.prototype.toString);const lB=hB(String.prototype.match);const dB=hB(String.prototype.replace);const uB=hB(String.prototype.indexOf);const fB=hB(String.prototype.trim);const mB=hB(Object.prototype.hasOwnProperty);const gB=hB(RegExp.prototype.test);const pB=yB(TypeError);function hB(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++){n[s-1]=arguments[s]}return eB(e,t,n)}}function yB(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++){o[n]=arguments[n]}return tB(e,o)}}function bB(e,t){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:cB;if(WR){WR(e,null)}let n=t.length;while(n--){let s=t[n];if(typeof s==="string"){const e=o(s);if(e!==s){if(!GR(t)){t[n]=e}s=e}}e[s]=true}return e}function vB(e){for(let t=0;t<e.length;t++){const o=mB(e,t);if(!o){e[t]=null}}return e}function kB(e){const t=QR(null);for(const[o,n]of $R(e)){const s=mB(e,o);if(s){if(Array.isArray(n)){t[o]=vB(n)}else if(n&&typeof n==="object"&&n.constructor===Object){t[o]=kB(n)}else{t[o]=n}}}return t}function wB(e,t){while(e!==null){const o=YR(e,t);if(o){if(o.get){return hB(o.get)}if(typeof o.value==="function"){return hB(o.value)}}e=KR(e)}function o(){return null}return o}const _B=XR(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]);const xB=XR(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]);const CB=XR(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]);const SB=XR(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]);const zB=XR(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]);const TB=XR(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]);const EB=XR(["#text"]);const OB=XR(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]);const AB=XR(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]);const DB=XR(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]);const MB=XR(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]);const NB=JR(/\{\{[\w\W]*|[\w\W]*\}\}/gm);const RB=JR(/<%[\w\W]*|[\w\W]*%>/gm);const BB=JR(/\$\{[\w\W]*/gm);const LB=JR(/^data-[\-\w.\u00B7-\uFFFF]+$/);const HB=JR(/^aria-[\-\w]+$/);const IB=JR(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i);const PB=JR(/^(?:\w+script|data):/i);const FB=JR(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g);const VB=JR(/^html$/i);const jB=JR(/^[a-z][.\w]*(-[.\w]+)+$/i);var ZB=Object.freeze({__proto__:null,ARIA_ATTR:HB,ATTR_WHITESPACE:FB,CUSTOM_ELEMENT:jB,DATA_ATTR:LB,DOCTYPE_NAME:VB,ERB_EXPR:RB,IS_ALLOWED_URI:IB,IS_SCRIPT_OR_DATA:PB,MUSTACHE_EXPR:NB,TMPLIT_EXPR:BB});const UB={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12};const qB=function e(){return typeof window==="undefined"?null:window};const $B=function e(t,o){if(typeof t!=="object"||typeof t.createPolicy!=="function"){return null}let n=null;const s="data-tt-policy-suffix";if(o&&o.hasAttribute(s)){n=o.getAttribute(s)}const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML(e){return e},createScriptURL(e){return e}})}catch(e){console.warn("TrustedTypes policy "+r+" could not be created.");return null}};const WB=function e(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function GB(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:qB();const t=e=>GB(e);t.version="3.2.4";t.removed=[];if(!e||!e.document||e.document.nodeType!==UB.document||!e.Element){t.isSupported=false;return t}let{document:o}=e;const n=o;const s=n.currentScript;const{DocumentFragment:r,HTMLTemplateElement:a,Node:c,Element:i,NodeFilter:l,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:m}=e;const g=i.prototype;const p=wB(g,"cloneNode");const h=wB(g,"remove");const y=wB(g,"nextSibling");const b=wB(g,"childNodes");const v=wB(g,"parentNode");if(typeof a==="function"){const e=o.createElement("template");if(e.content&&e.content.ownerDocument){o=e.content.ownerDocument}}let k;let w="";const{implementation:_,createNodeIterator:x,createDocumentFragment:C,getElementsByTagName:S}=o;const{importNode:z}=n;let T=WB();t.isSupported=typeof $R==="function"&&typeof v==="function"&&_&&_.createHTMLDocument!==undefined;const{MUSTACHE_EXPR:E,ERB_EXPR:O,TMPLIT_EXPR:A,DATA_ATTR:D,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:B}=ZB;let{IS_ALLOWED_URI:L}=ZB;let H=null;const I=bB({},[..._B,...xB,...CB,...zB,...EB]);let P=null;const F=bB({},[...OB,...AB,...DB,...MB]);let V=Object.seal(QR(null,{tagNameCheck:{writable:true,configurable:false,enumerable:true,value:null},attributeNameCheck:{writable:true,configurable:false,enumerable:true,value:null},allowCustomizedBuiltInElements:{writable:true,configurable:false,enumerable:true,value:false}}));let j=null;let Z=null;let U=true;let q=true;let $=false;let W=true;let G=false;let K=true;let Y=false;let X=false;let J=false;let Q=false;let ee=false;let te=false;let oe=true;let ne=false;const se="user-content-";let re=true;let ae=false;let ce={};let ie=null;const le=bB({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=bB({},["audio","video","img","source","image","track"]);let fe=null;const me=bB({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]);const ge="http://www.w3.org/1998/Math/MathML";const pe="http://www.w3.org/2000/svg";const he="http://www.w3.org/1999/xhtml";let ye=he;let be=false;let ve=null;const ke=bB({},[ge,pe,he],iB);let we=bB({},["mi","mo","mn","ms","mtext"]);let _e=bB({},["annotation-xml"]);const xe=bB({},["title","style","font","a","script"]);let Ce=null;const Se=["application/xhtml+xml","text/html"];const ze="text/html";let Te=null;let Ee=null;const Oe=o.createElement("form");const Ae=function e(t){return t instanceof RegExp||t instanceof Function};const De=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(Ee&&Ee===t){return}if(!t||typeof t!=="object"){t={}}t=kB(t);Ce=Se.indexOf(t.PARSER_MEDIA_TYPE)===-1?ze:t.PARSER_MEDIA_TYPE;Te=Ce==="application/xhtml+xml"?iB:cB;H=mB(t,"ALLOWED_TAGS")?bB({},t.ALLOWED_TAGS,Te):I;P=mB(t,"ALLOWED_ATTR")?bB({},t.ALLOWED_ATTR,Te):F;ve=mB(t,"ALLOWED_NAMESPACES")?bB({},t.ALLOWED_NAMESPACES,iB):ke;fe=mB(t,"ADD_URI_SAFE_ATTR")?bB(kB(me),t.ADD_URI_SAFE_ATTR,Te):me;de=mB(t,"ADD_DATA_URI_TAGS")?bB(kB(ue),t.ADD_DATA_URI_TAGS,Te):ue;ie=mB(t,"FORBID_CONTENTS")?bB({},t.FORBID_CONTENTS,Te):le;j=mB(t,"FORBID_TAGS")?bB({},t.FORBID_TAGS,Te):{};Z=mB(t,"FORBID_ATTR")?bB({},t.FORBID_ATTR,Te):{};ce=mB(t,"USE_PROFILES")?t.USE_PROFILES:false;U=t.ALLOW_ARIA_ATTR!==false;q=t.ALLOW_DATA_ATTR!==false;$=t.ALLOW_UNKNOWN_PROTOCOLS||false;W=t.ALLOW_SELF_CLOSE_IN_ATTR!==false;G=t.SAFE_FOR_TEMPLATES||false;K=t.SAFE_FOR_XML!==false;Y=t.WHOLE_DOCUMENT||false;Q=t.RETURN_DOM||false;ee=t.RETURN_DOM_FRAGMENT||false;te=t.RETURN_TRUSTED_TYPE||false;J=t.FORCE_BODY||false;oe=t.SANITIZE_DOM!==false;ne=t.SANITIZE_NAMED_PROPS||false;re=t.KEEP_CONTENT!==false;ae=t.IN_PLACE||false;L=t.ALLOWED_URI_REGEXP||IB;ye=t.NAMESPACE||he;we=t.MATHML_TEXT_INTEGRATION_POINTS||we;_e=t.HTML_INTEGRATION_POINTS||_e;V=t.CUSTOM_ELEMENT_HANDLING||{};if(t.CUSTOM_ELEMENT_HANDLING&&Ae(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)){V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&Ae(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)){V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck}if(t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean"){V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements}if(G){q=false}if(ee){Q=true}if(ce){H=bB({},EB);P=[];if(ce.html===true){bB(H,_B);bB(P,OB)}if(ce.svg===true){bB(H,xB);bB(P,AB);bB(P,MB)}if(ce.svgFilters===true){bB(H,CB);bB(P,AB);bB(P,MB)}if(ce.mathMl===true){bB(H,zB);bB(P,DB);bB(P,MB)}}if(t.ADD_TAGS){if(H===I){H=kB(H)}bB(H,t.ADD_TAGS,Te)}if(t.ADD_ATTR){if(P===F){P=kB(P)}bB(P,t.ADD_ATTR,Te)}if(t.ADD_URI_SAFE_ATTR){bB(fe,t.ADD_URI_SAFE_ATTR,Te)}if(t.FORBID_CONTENTS){if(ie===le){ie=kB(ie)}bB(ie,t.FORBID_CONTENTS,Te)}if(re){H["#text"]=true}if(Y){bB(H,["html","head","body"])}if(H.table){bB(H,["tbody"]);delete j.tbody}if(t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!=="function"){throw pB('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.')}if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!=="function"){throw pB('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.')}k=t.TRUSTED_TYPES_POLICY;w=k.createHTML("")}else{if(k===undefined){k=$B(m,s)}if(k!==null&&typeof w==="string"){w=k.createHTML("")}}if(XR){XR(t)}Ee=t};const Me=bB({},[...xB,...CB,...SB]);const Ne=bB({},[...zB,...TB]);const Re=function e(t){let o=v(t);if(!o||!o.tagName){o={namespaceURI:ye,tagName:"template"}}const n=cB(t.tagName);const s=cB(o.tagName);if(!ve[t.namespaceURI]){return false}if(t.namespaceURI===pe){if(o.namespaceURI===he){return n==="svg"}if(o.namespaceURI===ge){return n==="svg"&&(s==="annotation-xml"||we[s])}return Boolean(Me[n])}if(t.namespaceURI===ge){if(o.namespaceURI===he){return n==="math"}if(o.namespaceURI===pe){return n==="math"&&_e[s]}return Boolean(Ne[n])}if(t.namespaceURI===he){if(o.namespaceURI===pe&&!_e[s]){return false}if(o.namespaceURI===ge&&!we[s]){return false}return!Ne[n]&&(xe[n]||!Me[n])}if(Ce==="application/xhtml+xml"&&ve[t.namespaceURI]){return true}return false};const Be=function e(o){rB(t.removed,{element:o});try{v(o).removeChild(o)}catch(e){h(o)}};const Le=function e(o,n){try{rB(t.removed,{attribute:n.getAttributeNode(o),from:n})}catch(e){rB(t.removed,{attribute:null,from:n})}n.removeAttribute(o);if(o==="is"){if(Q||ee){try{Be(n)}catch(e){}}else{try{n.setAttribute(o,"")}catch(e){}}}};const He=function e(t){let n=null;let s=null;if(J){t="<remove></remove>"+t}else{const e=lB(t,/^[\r\n\t ]+/);s=e&&e[0]}if(Ce==="application/xhtml+xml"&&ye===he){t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>"}const r=k?k.createHTML(t):t;if(ye===he){try{n=(new f).parseFromString(r,Ce)}catch(e){}}if(!n||!n.documentElement){n=_.createDocument(ye,"template",null);try{n.documentElement.innerHTML=be?w:r}catch(e){}}const a=n.body||n.documentElement;if(t&&s){a.insertBefore(o.createTextNode(s),a.childNodes[0]||null)}if(ye===he){return S.call(n,Y?"html":"body")[0]}return Y?n.documentElement:a};const Ie=function e(t){return x.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)};const Pe=function e(t){return t instanceof u&&(typeof t.nodeName!=="string"||typeof t.textContent!=="string"||typeof t.removeChild!=="function"||!(t.attributes instanceof d)||typeof t.removeAttribute!=="function"||typeof t.setAttribute!=="function"||typeof t.namespaceURI!=="string"||typeof t.insertBefore!=="function"||typeof t.hasChildNodes!=="function")};const Fe=function e(t){return typeof c==="function"&&t instanceof c};function Ve(e,o,n){oB(e,e=>{e.call(t,o,n,Ee)})}const je=function e(o){let n=null;Ve(T.beforeSanitizeElements,o,null);if(Pe(o)){Be(o);return true}const s=Te(o.nodeName);Ve(T.uponSanitizeElement,o,{tagName:s,allowedTags:H});if(o.hasChildNodes()&&!Fe(o.firstElementChild)&&gB(/<[/\w]/g,o.innerHTML)&&gB(/<[/\w]/g,o.textContent)){Be(o);return true}if(o.nodeType===UB.progressingInstruction){Be(o);return true}if(K&&o.nodeType===UB.comment&&gB(/<[/\w]/g,o.data)){Be(o);return true}if(!H[s]||j[s]){if(!j[s]&&Ue(s)){if(V.tagNameCheck instanceof RegExp&&gB(V.tagNameCheck,s)){return false}if(V.tagNameCheck instanceof Function&&V.tagNameCheck(s)){return false}}if(re&&!ie[s]){const e=v(o)||o.parentNode;const t=b(o)||o.childNodes;if(t&&e){const n=t.length;for(let s=n-1;s>=0;--s){const n=p(t[s],true);n.__removalCount=(o.__removalCount||0)+1;e.insertBefore(n,y(o))}}}Be(o);return true}if(o instanceof i&&!Re(o)){Be(o);return true}if((s==="noscript"||s==="noembed"||s==="noframes")&&gB(/<\/no(script|embed|frames)/i,o.innerHTML)){Be(o);return true}if(G&&o.nodeType===UB.text){n=o.textContent;oB([E,O,A],e=>{n=dB(n,e," ")});if(o.textContent!==n){rB(t.removed,{element:o.cloneNode()});o.textContent=n}}Ve(T.afterSanitizeElements,o,null);return false};const Ze=function e(t,n,s){if(oe&&(n==="id"||n==="name")&&(s in o||s in Oe)){return false}if(q&&!Z[n]&&gB(D,n));else if(U&&gB(M,n));else if(!P[n]||Z[n]){if(Ue(t)&&(V.tagNameCheck instanceof RegExp&&gB(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&gB(V.attributeNameCheck,n)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(n))||n==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&gB(V.tagNameCheck,s)||V.tagNameCheck instanceof Function&&V.tagNameCheck(s)));else{return false}}else if(fe[n]);else if(gB(L,dB(s,R,"")));else if((n==="src"||n==="xlink:href"||n==="href")&&t!=="script"&&uB(s,"data:")===0&&de[t]);else if($&&!gB(N,dB(s,R,"")));else if(s){return false}else;return true};const Ue=function e(t){return t!=="annotation-xml"&&lB(t,B)};const qe=function e(o){Ve(T.beforeSanitizeAttributes,o,null);const{attributes:n}=o;if(!n||Pe(o)){return}const s={attrName:"",attrValue:"",keepAttr:true,allowedAttributes:P,forceKeepAttr:undefined};let r=n.length;while(r--){const e=n[r];const{name:a,namespaceURI:c,value:i}=e;const l=Te(a);let d=a==="value"?i:fB(i);const u=d;s.attrName=l;s.attrValue=d;s.keepAttr=true;s.forceKeepAttr=undefined;Ve(T.uponSanitizeAttribute,o,s);d=s.attrValue;if(ne&&(l==="id"||l==="name")){Le(a,o);d=se+d}if(K&&gB(/((--!?|])>)|<\/(style|title)/i,d)){Le(a,o);continue}if(s.forceKeepAttr){continue}if(!s.keepAttr){Le(a,o);continue}if(!W&&gB(/\/>/i,d)){Le(a,o);continue}if(G){oB([E,O,A],e=>{d=dB(d,e," ")})}const f=Te(o.nodeName);if(!Ze(f,l,d)){Le(a,o);continue}if(k&&typeof m==="object"&&typeof m.getAttributeType==="function"){if(c);else{switch(m.getAttributeType(f,l)){case"TrustedHTML":{d=k.createHTML(d);break}case"TrustedScriptURL":{d=k.createScriptURL(d);break}}}}if(d!==u){try{if(c){o.setAttributeNS(c,a,d)}else{o.setAttribute(a,d)}if(Pe(o)){Be(o)}else{sB(t.removed)}}catch(e){}}}Ve(T.afterSanitizeAttributes,o,null)};const $e=function e(t){let o=null;const n=Ie(t);Ve(T.beforeSanitizeShadowDOM,t,null);while(o=n.nextNode()){Ve(T.uponSanitizeShadowNode,o,null);je(o);qe(o);if(o.content instanceof r){e(o.content)}}Ve(T.afterSanitizeShadowDOM,t,null)};t.sanitize=function(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let s=null;let a=null;let i=null;let l=null;be=!e;if(be){e="\x3c!--\x3e"}if(typeof e!=="string"&&!Fe(e)){if(typeof e.toString==="function"){e=e.toString();if(typeof e!=="string"){throw pB("dirty is not a string, aborting")}}else{throw pB("toString is not a function")}}if(!t.isSupported){return e}if(!X){De(o)}t.removed=[];if(typeof e==="string"){ae=false}if(ae){if(e.nodeName){const t=Te(e.nodeName);if(!H[t]||j[t]){throw pB("root node is forbidden and cannot be sanitized in-place")}}}else if(e instanceof c){s=He("\x3c!----\x3e");a=s.ownerDocument.importNode(e,true);if(a.nodeType===UB.element&&a.nodeName==="BODY"){s=a}else if(a.nodeName==="HTML"){s=a}else{s.appendChild(a)}}else{if(!Q&&!G&&!Y&&e.indexOf("<")===-1){return k&&te?k.createHTML(e):e}s=He(e);if(!s){return Q?null:te?w:""}}if(s&&J){Be(s.firstChild)}const d=Ie(ae?e:s);while(i=d.nextNode()){je(i);qe(i);if(i.content instanceof r){$e(i.content)}}if(ae){return e}if(Q){if(ee){l=C.call(s.ownerDocument);while(s.firstChild){l.appendChild(s.firstChild)}}else{l=s}if(P.shadowroot||P.shadowrootmode){l=z.call(n,l,true)}return l}let u=Y?s.outerHTML:s.innerHTML;if(Y&&H["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&gB(VB,s.ownerDocument.doctype.name)){u="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+u}if(G){oB([E,O,A],e=>{u=dB(u,e," ")})}return k&&te?k.createHTML(u):u};t.setConfig=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};De(e);X=true};t.clearConfig=function(){Ee=null;X=false};t.isValidAttribute=function(e,t,o){if(!Ee){De({})}const n=Te(e);const s=Te(t);return Ze(n,s,o)};t.addHook=function(e,t){if(typeof t!=="function"){return}rB(T[e],t)};t.removeHook=function(e,t){if(t!==undefined){const o=nB(T[e],t);return o===-1?undefined:aB(T[e],o,1)[0]}return sB(T[e])};t.removeHooks=function(e){T[e]=[]};t.removeAllHooks=function(){T=WB()};return t}var KB=GB();const YB=e=>KB().sanitize(e);var XB=tinymce.util.Tools.resolve("tinymce.util.I18n");const JB={indent:true,outdent:true,"table-insert-column-after":true,"table-insert-column-before":true,"paste-column-after":true,"paste-column-before":true,"unordered-list":true,"list-bull-circle":true,"list-bull-disc":true,"list-bull-default":true,"list-bull-square":true};const QB="temporary-placeholder";const eL=e=>()=>xe(e,QB).getOr("!not found!");const tL=(e,t)=>{const o=e.toLowerCase();if(XB.isRtl()){const e=zt(o,"-rtl");return Ce(t,e)?e:o}else{return o}};const oL=(e,t)=>xe(t,tL(e,t));const nL=(e,t)=>{const o=t();return oL(e,o).getOrThunk(eL(o))};const sL=(e,t,o)=>{const n=t();return oL(e,n).or(o).getOrThunk(eL(n))};const rL=e=>XB.isRtl()?Ce(JB,e):false;const aL=()=>ng("add-focusable",[Hm(e=>{Nr(e.element,"svg").each(e=>gs(e,"focusable","false"))})]);const cL=(e,t,o,n)=>{var s,r;const a=rL(t)?["tox-icon--flip"]:[];const c=xe(o,tL(t,o)).or(n).getOrThunk(eL(o));return{dom:{tag:e.tag,attributes:(s=e.attributes)!==null&&s!==void 0?s:{},classes:e.classes.concat(a),innerHtml:c},behaviours:Ym([...(r=e.behaviours)!==null&&r!==void 0?r:[],aL()])}};const iL=(e,t,o,n=M.none())=>cL(t,e,o(),n);const lL=(e,t,o)=>{const n=o();const s=Y(e,e=>Ce(n,tL(e,n)));return cL(t,s.getOr(QB),n,M.none())};const dL={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"};const uL=e=>{const t=et("notification-text");const o=Uz({dom:Zz(`<p id=${t}>${YB(e.backstageProvider.translate(e.text))}</p>`),behaviours:Ym([Yy.config({})])});const n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${e}%`}}});const s=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${e}%`}});const r=Uz({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},s(0)],behaviours:Ym([Yy.config({})])});const a=(e,t)=>{if(e.getSystem().isConnected()){r.getOpt(e).each(e=>{Yy.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},s(t)])})}};const c=(e,t)=>{if(e.getSystem().isConnected()){const n=o.get(e);Yy.set(n,[Kb(t)])}};const i={updateProgress:a,updateText:c};const l=J([e.icon.toArray(),[e.level],M.from(dL[e.level]).toArray()]);const d=Uz(hT.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":e.backstageProvider.translate("Close")}},components:[iL("close",{tag:"span",classes:["tox-icon"]},e.iconProvider)],buttonBehaviours:Ym([tz.config({}),Lz.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate("Close")})})]),action:t=>{e.onAction(t)}}));const u=lL(l,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider);const f={dom:{tag:"div",classes:["tox-notification__body"]},components:[o.asSpec()],behaviours:Ym([Yy.config({})])};const m=[u,f];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":t},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},behaviours:Ym([tz.config({}),mg.config({}),ay.config({mode:"special",onEscape:t=>{e.onAction(t);return M.some(true)}})]),components:m.concat(e.progress?[r.asSpec()]:[]).concat([d.asSpec()]),apis:i}};const fL=ww({name:"Notification",factory:uL,configFields:[Yi("level","info",["success","error","warning","warn","info"]),Ti("progress"),Hi("icon"),Ti("onAction"),Ti("text"),Ti("iconProvider"),Ti("backstageProvider")],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var mL=(e,t,o,n)=>{const s=t.backstage.shared;const r=()=>$t.fromDom(e.queryCommandValue("ToggleView")===""?e.getContentAreaContainer():e.getContainer());const a=()=>{const e=Xa(r());return M.some(e)};const c=e=>{a().each(t=>{Z(e,e=>{$s(e.element,"width");if(sr(e.element)>t.width){Is(e.element,"width",t.width+"px")}})})};const i=(t,i,l)=>{const d=()=>{const t=e=>{Yy.remove(e,f);m()};const o=(e,t)=>{if(On(e.element).length===0){s(e,t)}else{r(e,t)}};const s=(t,o)=>{SO.hide(t);n.clear();if(o){e.focus()}};const r=(e,t)=>{if(t){ay.focusIn(e)}};n.on(e=>{i();const n=l();t(e);o(e,n)})};const u=()=>!BR(e)||!s.header.isPositionedAtTop();const f=ev(fL.sketch({text:t.text,level:I(["success","error","warning","warn","info"],t.type)?t.type:undefined,progress:t.progressBar===true,icon:t.icon,onAction:d,iconProvider:s.providers.icons,backstageProvider:s.providers}));if(!n.isSet()){const t=ev(SO.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:s.getSink,fireDismissalEventInstead:{},...s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ym([ay.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Yy.config({}),...u()?[Nk.config({contextual:{lazyContext:()=>M.some(Xa(r())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:t=>{const o=UR(e,t.element);return o.map(e=>{const t=qR(e);return{bounds:t,optScrollEnv:M.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:fr(e.element).top})}}).getOrThunk(()=>({bounds:tc(),optScrollEnv:M.none()}))}})]:[]])}));const c=tv(f);const i={maxHeightFunction:om()};const l={...s.anchors.banner(),overrides:i};n.set(t);o.add(t);SO.showWithinBounds(t,c,{anchor:l},a)}else{const e=tv(f);n.on(t=>{Yy.append(t,e);SO.reposition(t);if(f.hasConfigured(Nk)){Nk.refresh(t)}c(t.components())})}if(y(t.timeout)&&t.timeout>0){TN.setEditorTimeout(e,()=>{d()},t.timeout)}const m=()=>{n.on(e=>{SO.reposition(e);if(e.hasConfigured(Nk)){Nk.refresh(e)}c(e.components())})};const g={close:d,reposition:m,text:e=>{fL.updateText(f,e)},settings:t,getEl:()=>f.element.dom,progressBar:{value:e=>{fL.updateProgress(f,e)}}};return g};const l=e=>{e.close()};const d=e=>e.settings;return{open:i,close:l,getArgs:d}};const gL=(e,t)=>{const o=(e,t)=>{ym(e,xl(),{raw:t})};const n=()=>e.getMenu().bind(Qg.getHighlighted);t.on("keydown",t=>{const s=t.which;if(!e.isActive()){return}if(e.isMenuOpen()){if(s===13){n().each(bm);t.preventDefault()}else if(s===40){n().fold(()=>{e.getMenu().each(Qg.highlightFirst)},e=>{o(e,t)});t.preventDefault();t.stopImmediatePropagation()}else if(s===37||s===38||s===39){n().each(e=>{o(e,t);t.preventDefault();t.stopImmediatePropagation()})}}else{if(s===13||s===38||s===40){e.cancelIfNecessary()}}});t.on("NodeChange",()=>{if(e.isActive()&&!e.isProcessingAction()&&!t.queryCommandState("mceAutoCompleterInRange")){e.cancelIfNecessary()}})};const pL={setup:gL};var hL;(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE";e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(hL||(hL={}));var yL=hL;const bL="tox-menu-nav__js";const vL="tox-collection__item";const kL="tox-swatch";const wL={normal:bL,color:kL};const _L="tox-collection__item--enabled";const xL="tox-collection__group-heading";const CL="tox-collection__item-icon";const SL="tox-collection__item-image";const zL="tox-collection__item-image-selector";const TL="tox-collection__item-label";const EL="tox-collection__item-accessory";const OL="tox-collection__item-caret";const AL="tox-collection__item-checkmark";const DL="tox-collection__item--active";const ML="tox-collection__item-container";const NL="tox-collection__item-container--column";const RL="tox-collection__item-container--row";const BL="tox-collection__item-container--align-right";const LL="tox-collection__item-container--align-left";const HL="tox-collection__item-container--valign-top";const IL="tox-collection__item-container--valign-middle";const PL="tox-collection__item-container--valign-bottom";const FL=e=>xe(wL,e).getOr(bL);const VL=e=>{if(e==="color"){return"tox-swatches"}else{return"tox-menu"}};const jL=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:VL(e),tieredMenu:"tox-tiered-menu"});const ZL=e=>{const t=jL(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:FL(e)}};const UL=(e,t,o)=>{const n=jL(o);return{tag:"div",classes:J([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}};const qL=[aE.parts.items({})];const $L=(e,t,o)=>{const n=jL(o);const s={tag:"div",classes:J([[n.tieredMenu]])};return{dom:s,markers:ZL(o)}};const WL=et("refetch-trigger-event");const GL=et("redirect-menu-item-interaction");const KL="tox-menu__searcher";const YL=e=>Rr(e.element,`.${KL}`).bind(t=>e.getSystem().getByDom(t).toOptional());const XL=YL;const JL=(e,t)=>{G_.setValue(e,t.fetchPattern);e.element.dom.selectionStart=t.selectionStart;e.element.dom.selectionEnd=t.selectionEnd};const QL=e=>{const t=G_.getValue(e);const o=e.element.dom.selectionStart;const n=e.element.dom.selectionEnd;return{fetchPattern:t,selectionStart:o,selectionEnd:n}};const eH=(e,t)=>{ys(t.element,"id").each(t=>gs(e.element,"aria-activedescendant",t))};const tH=e=>{const t=(e,t)=>{t.cut();return M.none()};const o=(e,t)=>{const o={interactionEvent:t.event,eventType:t.event.raw.type};ym(e,GL,o);return M.some(true)};const n="searcher-events";return{dom:{tag:"div",classes:[vL]},components:[DO.sketch({inputClasses:[KL,"tox-textfield"],inputAttributes:{...e.placeholder.map(t=>({placeholder:e.i18n(t)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Ym([ng(n,[Tm(Sl(),e=>{hm(e,WL)}),Tm(xl(),(e,t)=>{if(t.event.raw.key==="Escape"){t.stop()}})]),ay.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[n,ay.name()]}})]}};const oH="tox-collection--results__js";const nH=e=>{var t;if(e.dom){return{...e,dom:{...e.dom,attributes:{...(t=e.dom.attributes)!==null&&t!==void 0?t:{},id:et("aria-item-search-result-id"),"aria-selected":"false"}}}}else{return e}};const sH=(e,t)=>o=>{const n=V(o,t);return j(n,t=>({dom:e,components:t}))};const rH=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[aE.parts.items({preprocess:e!=="auto"?sH({tag:"div",classes:["tox-swatches__row"]},e):C})]}]});const aH=e=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[aE.parts.items({preprocess:e!=="auto"?sH({tag:"div",classes:["tox-image-selector__row"]},e):C})]}]});const cH=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[aE.parts.items({preprocess:sH({tag:"div",classes:["tox-collection__group"]},e)})]});const iH=(e,t)=>{const o=[];let n=[];Z(e,(e,s)=>{if(t(e,s)){if(n.length>0){o.push(n)}n=[];if(Ce(e.dom,"innerHtml")||e.components&&e.components.length>0){n.push(e)}}else{n.push(e)}});if(n.length>0){o.push(n)}return j(o,e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e}))};const lH=(e,t,o)=>aE.parts.items({preprocess:n=>{const s=j(n,o);if(e!=="auto"&&e>1){return sH({tag:"div",classes:["tox-collection__group"]},e)(s)}else{return iH(s,(e,o)=>t[o].type==="separator")}}});const dH=(e,t,o=true)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[lH(e,t,C)]});const uH=(e,t,o=true)=>{const n=et("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",oH].concat(e===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[lH(e,t,nH)]}};const fH=(e,t,o)=>{const n=et("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[tH({i18n:XB.translate,placeholder:o.placeholder}),{dom:{tag:"div",classes:[...e===1?["tox-collection--list"]:["tox-collection--grid"],oH],attributes:{id:n}},components:[lH(e,t,nH)]}]}};const mH=(e,t=true)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[aE.parts.items({preprocess:t=>iH(t,(t,o)=>e[o].type==="separator")})]});const gH=e=>P(e,e=>"icon"in e&&e.icon!==undefined);const pH=e=>{console.error(wi(e));console.log(e);return M.none()};const hH=(e,t,o,n,s)=>{const r=mH(o);return{value:e,dom:r.dom,components:r.components,items:o}};const yH=(e,t,o,n,s)=>{const r=()=>{if(s.menuType!=="searchable"){return dH(n,o)}else{return s.searchMode.searchMode==="search-with-field"?fH(n,o,s.searchMode):uH(n,o)}};if(s.menuType==="color"){const t=rH(n);return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="imageselector"&&n!=="auto"){const t=aH(n);return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="normal"&&n==="auto"){const t=dH(n,o);return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="normal"||s.menuType==="searchable"){const t=r();return{value:e,dom:t.dom,components:t.components,items:o}}else if(s.menuType==="listpreview"&&n!=="auto"){const t=cH(n);return{value:e,dom:t.dom,components:t.components,items:o}}else{return{value:e,dom:UL(t,n,s.menuType),components:qL,items:o}}};const bH=Ai("type");const vH=Ai("name");const kH=Ai("label");const wH=Ai("text");const _H=Ai("title");const xH=Ai("icon");const CH=Ai("url");const SH=Ai("value");const zH=Mi("fetch");const TH=Mi("getSubmenuItems");const EH=Mi("onAction");const OH=Mi("onItemAction");const AH=Ji("onSetup",()=>v);const DH=Fi("name");const MH=Fi("text");const NH=Fi("role");const RH=Fi("icon");const BH=Fi("tooltip");const LH=Fi("label");const HH=Fi("shortcut");const IH=ji("select");const PH=Xi("active",false);const FH=Xi("borderless",false);const VH=Xi("enabled",true);const jH=Xi("primary",false);const ZH=e=>$i("columns",e);const UH=$i("meta",{});const qH=Ji("onAction",v);const $H=e=>Ki("type",e);const WH=e=>Ci("name","name",Ic(()=>et(`${e}-name`)),Mc);const GH=e=>Ci("value","value",Ic(()=>et(`${e}-value`)),Oc());const KH=[bH,wH,Di("level",["info","warn","error","success"]),xH,$i("url","")];const YH=ai(KH);const XH=e=>[bH,e];const JH=[bH,wH,VH,WH("button"),RH,FH,Vi("buttonType",["primary","secondary","toolbar"]),jH,Ki("context","mode:design")];const QH=ai(JH);const eI=[bH,vH];const tI=eI.concat([LH]);const oI=eI.concat([kH,VH,Ki("context","mode:design")]);const nI=ai(oI);const sI=Nc;const rI=tI.concat([ZH("auto"),Ki("context","mode:design")]);const aI=ai(rI);const cI=ui([SH,wH,xH]);const iI=tI.concat([Ki("storageKey","default"),Ki("context","mode:design")]);const lI=ai(iI);const dI=Mc;const uI=tI;const fI=ai(uI);const mI=Mc;const gI=eI.concat([Ki("tag","textarea"),Ai("scriptId"),Ai("scriptUrl"),ji("onFocus"),Qi("settings",undefined)]);const pI=eI.concat([Ki("tag","textarea"),Mi("init")]);const hI=pi(e=>bi("customeditor.old",ri(pI),e).orThunk(()=>bi("customeditor.new",ri(gI),e)));const yI=Mc;const bI=[VH,MH,NH,HH,GH("menuitem"),UH,Ki("context","mode:design")];const vI=ai([bH,vH].concat(bI));const kI=Nc;const wI=[WH("button"),RH,Yi("align","end",["start","end"]),jH,VH,Vi("buttonType",["primary","secondary"]),Ki("context","mode:design")];const _I=[...wI,wH];const xI=[Di("type",["submit","cancel","custom"]),..._I];const CI=[Di("type",["menu"]),MH,BH,RH,Li("items",vI),...wI];const SI=[...wI,Di("type",["togglebutton"]),BH,RH,MH,Xi("active",false)];const zI=_i("type",{submit:xI,cancel:xI,custom:xI,menu:CI,togglebutton:SI});const TI=tI.concat([Ki("context","mode:design")]);const EI=ai(TI);const OI=gi();const AI=e=>[bH,Oi("columns"),e];const DI=[bH,Ai("html"),Yi("presets","presentation",["presentation","document"]),Ji("onInit",v),Xi("stretched",false)];const MI=ai(DI);const NI=tI.concat([Xi("border",false),Xi("sandboxed",true),Xi("streamContent",false),Xi("transparent",true)]);const RI=ai(NI);const BI=Mc;const LI=ai(eI.concat([Fi("height")]));const HI=ai([Ai("url"),Pi("zoom"),Pi("cachedWidth"),Pi("cachedHeight")]);const II=tI.concat([Fi("inputMode"),Fi("placeholder"),Xi("maximized",false),VH,Ki("context","mode:design")]);const PI=ai(II);const FI=Mc;const VI=e=>[bH,kH,e,Yi("align","start",["start","center","end"]),Fi("for")];const jI=[wH,SH];const ZI=[wH,Li("items",xi("items",()=>UI))];const UI=ii([ai(jI),ai(ZI)]);const qI=tI.concat([Li("items",UI),VH,Ki("context","mode:design")]);const $I=ai(qI);const WI=Mc;const GI=tI.concat([Bi("items",[wH,SH]),Gi("size",1),VH,Ki("context","mode:design")]);const KI=ai(GI);const YI=Mc;const XI=tI.concat([Xi("constrain",true),VH,Ki("context","mode:design")]);const JI=ai(XI);const QI=ai([Ai("width"),Ai("height")]);const eP=eI.concat([kH,Gi("min",0),Gi("max",0)]);const tP=ai(eP);const oP=Dc;const nP=[bH,Li("header",Mc),Li("cells",ci(Mc))];const sP=ai(nP);const rP=tI.concat([Fi("placeholder"),Xi("maximized",false),VH,Ki("context","mode:design")]);const aP=ai(rP);const cP=Mc;const iP=[Ki("buttonType","default"),Fi("text"),Fi("tooltip"),Fi("icon"),Wi("search",false,ii([Nc,ai([Fi("placeholder")])],e=>{if(f(e)){return e?M.some({placeholder:M.none()}):M.none()}else{return M.some(e)}})),Mi("fetch"),Ji("onSetup",()=>v),Ki("context","mode:design")];const lP=ai([bH,...iP]);const dP=e=>bi("menubutton",lP,e);const uP=[Di("type",["directory","leaf"]),_H,Ai("id"),Ii("menu",lP),Fi("customStateIcon"),Fi("customStateIconTooltip")];const fP=uP;const mP=ai(fP);const gP=uP.concat([Li("children",xi("children",()=>mi("type",{directory:pP,leaf:mP})))]);const pP=ai(gP);const hP=mi("type",{directory:pP,leaf:mP});const yP=[bH,Li("items",hP),ji("onLeafAction"),ji("onToggleExpand"),el("defaultExpandedIds",[],Mc),Fi("defaultSelectedId")];const bP=ai(yP);const vP=tI.concat([Yi("filetype","file",["image","media","file"]),VH,Fi("picker_text"),Ki("context","mode:design")]);const kP=ai(vP);const wP=ai([SH,UH]);const _P=e=>Ci("items","items",Hc(),ci(pi(t=>bi(`Checking item of ${e}`,xP,t).fold(e=>Fe.error(wi(e)),e=>Fe.value(e)))));const xP=ni(()=>mi("type",{alertbanner:YH,bar:ai(XH(_P("bar"))),button:QH,checkbox:nI,colorinput:lI,colorpicker:fI,dropzone:EI,grid:ai(AI(_P("grid"))),iframe:RI,input:PI,listbox:$I,selectbox:KI,sizeinput:JI,slider:tP,textarea:aP,urlinput:kP,customeditor:hI,htmlpanel:MI,imagepreview:LI,collection:aI,label:ai(VI(_P("label"))),table:sP,tree:bP,panel:SP}));const CP=[bH,$i("classes",[]),Li("items",xP)];const SP=ai(CP);const zP=[WH("tab"),_H,Li("items",xP)];const TP=[bH,Bi("tabs",zP)];const EP=ai(TP);const OP=_I;const AP=zI;const DP=ai([Ai("title"),Ei("body",mi("type",{panel:SP,tabpanel:EP})),Ki("size","normal"),el("buttons",[],AP),$i("initialData",{}),Ji("onAction",v),Ji("onChange",v),Ji("onSubmit",v),Ji("onClose",v),Ji("onCancel",v),Ji("onTabChange",v)]);const MP=e=>bi("dialog",DP,e);const NP=ai([Di("type",["cancel","custom"]),...OP]);const RP=ai([Ai("title"),Ai("url"),Pi("height"),Pi("width"),Zi("buttons",NP),Ji("onAction",v),Ji("onCancel",v),Ji("onClose",v),Ji("onMessage",v)]);const BP=e=>bi("dialog",RP,e);const LP=e=>{if(i(e)){return[e].concat(Q(_e(e),LP))}else if(d(e)){return Q(e,LP)}else{return[]}};const HP=e=>c(e.type)&&c(e.name);const IP={checkbox:sI,colorinput:dI,colorpicker:mI,dropzone:OI,input:FI,iframe:BI,imagepreview:HI,selectbox:YI,sizeinput:QI,slider:oP,listbox:WI,size:QI,textarea:cP,urlinput:wP,customeditor:yI,collection:cI,togglemenuitem:kI};const PP=e=>M.from(IP[e.type]);const FP=e=>$(LP(e),HP);const VP=e=>{const t=FP(e);const o=Q(t,e=>PP(e).fold(()=>[],t=>[Ei(e.name,t)]));return ai(o)};const jP=e=>{var t;const o=vi(MP(e));const n=VP(e);const s=(t=e.initialData)!==null&&t!==void 0?t:{};return{internalDialog:o,dataValidator:n,initialData:s}};const ZP={open:(e,t)=>{const o=jP(t);return e(o.internalDialog,o.initialData,o.dataValidator)},openUrl:(e,t)=>{const o=vi(BP(t));return e(o)},redial:e=>jP(e)};const UP=ai([bH,MH]);const qP=e=>bi("separatormenuitem",UP,e);const $P=ai([$H("autocompleteitem"),PH,VH,UH,SH,MH,RH]);ai([bH,Ai("trigger"),Gi("minChars",1),ZH(1),Gi("maxResults",10),ji("matches"),zH,EH,el("highlightOn",[],Mc)]);const WP=e=>bi("Autocompleter.Separator",UP,e);const GP=e=>bi("Autocompleter.Item",$P,e);const KP=[VH,BH,RH,MH,AH,Ki("context","mode:design")];const YP=ai([bH,EH,HH].concat(KP));const XP=e=>bi("toolbarbutton",YP,e);const JP=[PH].concat(KP);const QP=ai(JP.concat([bH,EH,HH]));const eF=e=>bi("ToggleButton",QP,e);const tF=[Ji("predicate",A),Yi("scope","node",["node","editor"]),Yi("position","selection",["node","selection","line"])];const oF=KP.concat([$H("contextformbutton"),Ki("align","end"),jH,EH,Si("original",C)]);const nF=JP.concat([$H("contextformbutton"),Ki("align","end"),jH,EH,Si("original",C)]);const sF=KP.concat([$H("contextformbutton")]);const rF=JP.concat([$H("contextformtogglebutton")]);const aF=_i("type",{contextformbutton:oF,contextformtogglebutton:nF});const cF=[LH,Li("commands",aF),Ii("launch",_i("type",{contextformbutton:sF,contextformtogglebutton:rF})),Ji("onInput",v),Ji("onSetup",v)];const iF=[...tF,...cF,Di("type",["contextform"]),Ji("initValue",x("")),Fi("placeholder")];const lF=[...tF,...cF,Di("type",["contextsliderform"]),Ji("initValue",x(0)),Ji("min",x(0)),Ji("max",x(100))];const dF=[...tF,...cF,Di("type",["contextsizeinputform"]),Ji("initValue",x({width:"",height:""}))];const uF=_i("type",{contextform:iF,contextsliderform:lF,contextsizeinputform:dF});const fF=e=>bi("ContextForm",uF,e);const mF=KP.concat([$H("contexttoolbarbutton")]);const gF=ai([$H("contexttoolbar"),Ui("launch",mF),Ei("items",ii([Mc,ui([Fi("name"),Fi("label"),Li("items",Mc)])]))].concat(tF));const pF=e=>({name:e.name.getOrUndefined(),label:e.label.getOrUndefined(),items:e.items});const hF=e=>({...e,launch:e.launch.getOrUndefined(),items:c(e.items)?e.items:j(e.items,pF)});const yF=e=>bi("ContextToolbar",gF,e);const bF=[bH,Ai("src"),Fi("alt"),el("classes",[],Mc)];const vF=ai(bF);const kF=[bH,wH,DH,el("classes",["tox-collection__item-label"],Mc)];const wF=ai(kF);const _F=ni(()=>mi("type",{cardimage:vF,cardtext:wF,cardcontainer:xF}));const xF=ai([bH,Ki("direction","horizontal"),Ki("align","left"),Ki("valign","middle"),Li("items",_F)]);const CF=ai([bH,LH,Li("items",_F),AH,qH].concat(bI));const SF=e=>bi("cardmenuitem",CF,e);const zF=ai([bH,PH,RH,LH].concat(bI));const TF=e=>bi("choicemenuitem",zF,e);const EF=[bH,Ai("fancytype"),qH];const OF=[$i("initData",{})].concat(EF);const AF=[ji("select"),tl("initData",{},[Xi("allowCustomColors",true),Ki("storageKey","default"),Zi("colors",Oc())])].concat(EF);const DF=[ji("select"),Ri("initData",[Oi("columns"),el("items",[],Oc())])].concat(EF);const MF=_i("fancytype",{inserttable:OF,colorswatch:AF,imageselect:DF});const NF=e=>bi("fancymenuitem",MF,e);const RF=ai([bH,PH,CH,LH,BH].concat(bI));const BF=ai([bH,PH,xH,kH,BH,SH].concat(bI));const LF=e=>bi("imagemenuitem",RF,e);const HF=e=>bi("resetimageitem",BF,e);const IF=ai([bH,AH,qH,RH].concat(bI));const PF=e=>bi("menuitem",IF,e);const FF=ai([bH,TH,AH,RH].concat(bI));const VF=e=>bi("nestedmenuitem",FF,e);const jF=ai([bH,RH,PH,AH,EH].concat(bI));const ZF=e=>bi("togglemenuitem",jF,e);const UF=ai([RH,BH,Ji("onShow",v),Ji("onHide",v),AH]);const qF=e=>bi("sidebar",UF,e);const $F=ai([bH,Ei("items",ii([ui([vH,Li("items",Mc)]),Mc]))].concat(KP));const WF=e=>bi("GroupToolbarButton",$F,e);const GF=ai([bH,BH,RH,MH,IH,zH,AH,Yi("presets","normal",["normal","color","listpreview"]),ZH(1),EH,OH,Ki("context","mode:design")]);const KF=e=>bi("SplitButton",GF,e);const YF=[MH,RH,Fi("tooltip"),Yi("buttonType","secondary",["primary","secondary"]),Xi("borderless",false),Mi("onAction"),Ki("context","mode:design")];const XF=[...YF,wH,Di("type",["button"])];const JF=[...YF,Xi("active",false),Di("type",["togglebutton"])];const QF={button:XF,togglebutton:JF};const eV=[Di("type",["group"]),el("buttons",[],_i("type",QF))];const tV=_i("type",{...QF,group:eV});const oV=ai([el("buttons",[],tV),Mi("onShow"),Mi("onHide")]);const nV=e=>bi("view",oV,e);const sV=(e,t,o)=>{const n=sa(e.element,"."+o);if(n.length>0){const e=X(n,e=>{const o=e.dom.getBoundingClientRect().top;const s=n[0].dom.getBoundingClientRect().top;return Math.abs(o-s)>t}).getOr(n.length);return M.some({numColumns:e,numRows:Math.ceil(n.length/e)})}else{return M.none()}};const rV=(e,t)=>Ym([ng(e,t)]);const aV=e=>rV(et("unnamed-events"),e);const cV={namedEvents:rV,unnamedEvents:aV};const iV=e=>Pv.config({disabled:e,disableClass:"tox-collection__item--state-disabled"});const lV=e=>Pv.config({disabled:e});const dV=e=>Pv.config({disabled:e,disableClass:"tox-tbtn--disabled"});const uV=e=>Pv.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:false});const fV={item:iV,button:lV,splitButton:dV,toolbarButton:uV};const mV=(e,t)=>{const o=e.getApi(t);return e=>{e(o)}};const gV=(e,t)=>Hm(o=>{if(h(e.onBeforeSetup)){e.onBeforeSetup(o)}const n=mV(e,o);n(o=>{const n=e.onSetup(o);if(h(n)){t.set(n)}})});const pV=(e,t)=>Im(o=>mV(e,o)(t.get()));const hV=(e,t,o)=>Im(n=>{o.set(G_.getValue(n));return mV(e,n)(t.get())});const yV="silver.uistate";const bV="setDisabled";const vV="setEnabled";const kV="init";const wV="switchmode";const _V=[wV,kV];const xV=(e,t)=>{const o=e.mainUi.outerContainer;const n=[e.mainUi.mothership,...e.uiMotherships];if(t===bV){Z(n,e=>{e.broadcastOn([Wz()],{target:o.element})})}Z(n,e=>{e.broadcastOn([yV],t)})};const CV=(e,t)=>{e.on("init SwitchMode",e=>{xV(t,e.type)});e.on("DisabledStateChange",o=>{if(!o.isDefaultPrevented()){const n=o.state?bV:kV;xV(t,n);if(!o.state){e.nodeChanged()}}});e.on("NodeChange",o=>{const n=e.ui.isEnabled()?o.type:bV;xV(t,n)});if(LN(e)){e.mode.set("readonly")}};const SV=e=>FC.config({channels:{[yV]:{onReceive:(t,o)=>{if(o===bV||o===vV){Pv.set(t,o===bV);return}const{contextType:n,shouldDisable:s}=e();if(n==="mode"&&!I(_V,o)){return}Pv.set(t,s)}}}});const zV=(e,t)=>Fm((o,n)=>{mV(e,o)(e.onAction);if(!e.triggersSubmenu&&t===yL.CLOSE_ON_EXECUTE){if(o.getSystem().isConnected()){hm(o,jl())}n.stop()}});const TV={[Il()]:["disabling","alloy.base.behaviour","toggling","item-events"]};const EV=it;const OV=(e,t,o,n)=>{const s=Ee(v);return{type:"item",dom:t.dom,components:EV(t.optComponents),data:e.data,eventOrder:TV,hasSubmenu:e.triggersSubmenu,itemBehaviours:Ym([ng("item-events",[zV(e,o),gV(e,s),pV(e,s)]),fV.item(()=>!e.enabled||n.checkUiComponentContext(e.context).shouldDisable),SV(()=>n.checkUiComponentContext(e.context)),Yy.config({})].concat(e.itemBehaviours))}};const AV=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}});const DV=(e,t)=>{var o,n;const s=$t.fromTag("div");Zr(s,"tox-image-selector-loading-spinner");const r=e=>{Zr(e,"tox-image-selector-loading-spinner-wrapper");ds(e,s)};const a=e=>{qr(e,"tox-image-selector-loading-spinner-wrapper");_s(s)};return{dom:{tag:e.tag,attributes:(o=e.attributes)!==null&&o!==void 0?o:{},classes:e.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:t},classes:["tox-image-selector-image-img"]}}]},...e.checkMark.toArray()],behaviours:Ym([...(n=e.behaviours)!==null&&n!==void 0?n:[],ng("render-image-events",[Hm(e=>{r(e.element);Rr(e.element,"img").each(t=>{Ds(t).catch(e=>{console.error(e)}).finally(()=>{a(e.element)})})})])])}};const MV=(e,t)=>DV(t,e);const NV=e=>{const t=AN.os.isMacOS()||AN.os.isiOS();const o={alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"};const n={meta:"Ctrl",access:"Shift+Alt"};const s=t?o:n;const r=e.split("+");const a=j(r,e=>{const t=e.toLowerCase().trim();return Ce(s,t)?s[t]:e});return t?a.join(""):a.join("+")};const RV=(e,t,o=[CL])=>iL(e,{tag:"div",classes:o},t);const BV=e=>({dom:{tag:"div",classes:[TL]},components:[Kb(XB.translate(e))]});const LV=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}});const HV=(e,t)=>({dom:{tag:"div",classes:[TL]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Kb(XB.translate(t))]}]});const IV=e=>({dom:{tag:"div",classes:[EL]},components:[Kb(NV(e))]});const PV=e=>RV("checkmark",e,[AL]);const FV=e=>RV("chevron-right",e,[OL]);const VV=e=>RV("chevron-down",e,[OL]);const jV=(e,t)=>{const o=e.direction==="vertical"?NL:RL;const n=e.align==="left"?LL:BL;const s=()=>{switch(e.valign){case"top":return HL;case"middle":return IL;case"bottom":return PL}};return{dom:{tag:"div",classes:[ML,o,n,s()]},components:t}};const ZV=(e,t,o)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:o.getOr("")}}});const UV=(e,t,o)=>{const n="custom";const s="remove";const r=e.value;const a=e.iconContent.map(e=>sL(e,t.icons,o));const c=e.ariaLabel.map(e=>({"aria-label":t.translate(e),"data-mce-name":e})).getOr({});const i=()=>{const e=kL;const t=a.getOr("");const o={tag:"div",attributes:c,classes:[e]};if(r===n){return{...o,tag:"button",classes:[...o.classes,"tox-swatches__picker-btn"],innerHtml:t}}else if(r===s){return{...o,classes:[...o.classes,"tox-swatch--remove"],innerHtml:t}}else if(p(r)){return{...o,attributes:{...o.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:t}}else{return o}};return{dom:i(),optComponents:[]}};const qV=(e,t)=>{const o=e.map(e=>({attributes:{id:et("menu-item"),"aria-label":XB.translate(e)}})).getOr({});return{tag:"div",classes:[bL,vL].concat(t),...o}};const $V=e=>({dom:{tag:"label"},components:[Kb(e)]});const WV=(e,t,o,n)=>{const s={tag:"div",classes:[CL]};const r=e=>iL(e,s,t.icons,n);const a=()=>M.some({dom:s});const c=o?e.iconContent.map(r).orThunk(a):M.none();const i=e.checkMark;const l=M.from(e.meta).fold(()=>BV,e=>Ce(e,"style")?z(HV,e.style):BV);const d=e.htmlContent.fold(()=>e.textContent.map(l),e=>M.some(LV(e,[TL])));const u={dom:qV(e.ariaLabel,[]),optComponents:[c,d,e.shortcutContent.map(IV),i,e.caret,e.labelContent.map($V)]};return u};const GV=e=>{const t={dom:qV(e.ariaLabel,[zL]),optComponents:[M.some(MV(e.iconContent.getOrDie(),{tag:"div",classes:[SL],checkMark:e.checkMark})),e.labelContent.map($V)]};return t};const KV=(e,t,o,n=M.none())=>{if(e.presets==="color"){return UV(e,t,n)}else if(e.presets==="img"){return GV(e)}else{return WV(e,t,o,n)}};const YV=(e,t,o)=>xe(e,"tooltipWorker").map(e=>[Lz.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:om}}),mode:"follow-highlight",onShow:(t,o)=>{e(e=>{Lz.setComponents(t,[Yb({element:$t.fromDom(e)})])})}})]).getOrThunk(()=>o.map(e=>[Lz.config({...t.providers.tooltips.getConfig({tooltipText:e}),mode:"follow-highlight"})]).getOr([]));const XV=e=>EN.DOM.encode(e);const JV=(e,t)=>{const o=XB.translate(e);const n=XV(o);if(t.length>0){const e=new RegExp(gt(t),"gi");return n.replace(e,e=>`<span class="tox-autocompleter-highlight">${e}</span>`)}else{return n}};const QV=(e,t,o,n,s,r,a,c=true)=>{const i=KV({presets:n,textContent:M.none(),htmlContent:o?e.text.map(e=>JV(e,t)):M.none(),ariaLabel:e.text,labelContent:M.none(),iconContent:e.icon,shortcutContent:M.none(),checkMark:M.none(),caret:M.none(),value:e.value},a.providers,c,e.icon);const l=e.text.filter(e=>!o&&e!=="");return OV({context:"mode:design",data:AV(e),enabled:e.enabled,getApi:x({}),onAction:t=>s(e.value,e.meta),onSetup:x(v),triggersSubmenu:false,itemBehaviours:YV(e,a,l)},i,r,a.providers)};const ej=(e,t)=>j(e,e=>{switch(e.type){case"cardcontainer":return jV(e,ej(e.items,t));case"cardimage":return ZV(e.src,e.classes,e.alt);case"cardtext":const o=e.name.exists(e=>I(t.cardText.highlightOn,e));const n=o?M.from(t.cardText.matchText).getOr(""):"";return LV(JV(e.text,n),e.classes)}});const tj=(e,t,o,n)=>{const s=e=>({isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>{Pv.set(e,!t);Z(sa(e.element,"*"),o=>{e.getSystem().getByDom(o).each(e=>{if(e.hasConfigured(Pv)){Pv.set(e,!t)}})})}});const r={dom:qV(e.label,[]),optComponents:[M.some({dom:{tag:"div",classes:[ML,RL]},components:ej(e.items,n)})]};return OV({context:"mode:design",data:AV({text:M.none(),...e}),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:M.from(n.itemBehaviours).getOr([])},r,t,o.providers)};const oj=(e,t,o,n,s,r,a,c=true)=>{const i=e=>({setActive:t=>{vz.set(e,t)},isActive:()=>vz.isOn(e),isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t)});const l=KV({presets:o,textContent:t?e.text:M.none(),htmlContent:M.none(),labelContent:e.label,ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:M.none(),checkMark:t?M.some(PV(a.icons)):M.none(),caret:M.none(),value:e.value},a,c);const d=e.text.filter(x(!t)).map(e=>Lz.config(a.tooltips.getConfig({tooltipText:a.translate(e)})));return st(OV({context:e.context,data:AV(e),enabled:e.enabled,getApi:i,onAction:t=>n(e.value),onSetup:e=>{e.setActive(s);return v},triggersSubmenu:false,itemBehaviours:[...d.toArray()]},l,r,a),{toggling:{toggleClass:_L,toggleOnExecute:false,selected:e.active,exclusive:true}})};const nj=e=>({value:cj(e)});const sj=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;const rj=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;const aj=e=>sj.test(e)||rj.test(e);const cj=e=>St(e,"#").toUpperCase();const ij=e=>aj(e)?M.some({value:cj(e)}):M.none();const lj=e=>{const t=e.value.replace(sj,(e,t,o,n)=>t+t+o+o+n+n);return{value:t}};const dj=e=>{const t=lj(e);const o=rj.exec(t.value);return o===null?["FFFFFF","FF","FF","FF"]:o};const uj=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const fj=e=>{const t=uj(e.red)+uj(e.green)+uj(e.blue);return nj(t)};const mj=(e,t,o)=>({hue:e,saturation:t,value:o});const gj=e=>{let t=0;let o=0;let n=0;const s=e.red/255;const r=e.green/255;const a=e.blue/255;const c=Math.min(s,Math.min(r,a));const i=Math.max(s,Math.max(r,a));if(c===i){n=c;return mj(0,0,n*100)}const l=s===c?r-a:a===c?s-r:a-s;t=s===c?3:a===c?1:5;t=60*(t-l/(i-c));o=(i-c)/i;n=i;return mj(Math.round(t),Math.round(o*100),Math.round(n*100))};const pj=Math.min;const hj=Math.max;const yj=Math.round;const bj=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i;const vj=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i;const kj=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const wj=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255};const _j=e=>{let t;let o;let n;const s=(e.hue||0)%360;let r=e.saturation/100;let a=e.value/100;r=hj(0,pj(r,1));a=hj(0,pj(a,1));if(r===0){t=o=n=yj(255*a);return kj(t,o,n,1)}const c=s/60;const i=a*r;const l=i*(1-Math.abs(c%2-1));const d=a-i;switch(Math.floor(c)){case 0:t=i;o=l;n=0;break;case 1:t=l;o=i;n=0;break;case 2:t=0;o=i;n=l;break;case 3:t=0;o=l;n=i;break;case 4:t=l;o=0;n=i;break;case 5:t=i;o=0;n=l;break;default:t=o=n=0}t=yj(255*(t+d));o=yj(255*(o+d));n=yj(255*(n+d));return kj(t,o,n,1)};const xj=e=>{const t=dj(e);const o=parseInt(t[1],16);const n=parseInt(t[2],16);const s=parseInt(t[3],16);return kj(o,n,s,1)};const Cj=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return kj(s,r,a,c)};const Sj=e=>{const t=bj.exec(e);if(t!==null){return M.some(Cj(t[1],t[2],t[3],"1"))}const o=vj.exec(e);if(o!==null){return M.some(Cj(o[1],o[2],o[3],o[4]))}return M.none()};const zj=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`;const Tj=kj(255,0,0,1);const Ej=e=>gj(xj(e));const Oj=e=>fj(_j(e));const Aj=e=>ij(e).orThunk(()=>Sj(e).map(fj)).getOrThunk(()=>{const t=document.createElement("canvas");t.height=1;t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);o.fillStyle="#FFFFFF";o.fillStyle=e;o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data;const s=n[0];const r=n[1];const a=n[2];const c=n[3];return fj(kj(s,r,a,c))});const Dj=e=>{e.dispatch("SkinLoaded")};const Mj=(e,t)=>{e.dispatch("SkinLoadError",t)};const Nj=e=>{e.dispatch("ResizeEditor")};const Rj=(e,t)=>{e.dispatch("ResizeContent",t)};const Bj=(e,t)=>{e.dispatch("ScrollContent",t)};const Lj=(e,t)=>{e.dispatch("TextColorChange",t)};const Hj=(e,t)=>{e.dispatch("AfterProgressState",{state:t})};const Ij=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t});const Pj=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})};const Fj=(e,t)=>{e.dispatch("StylesTextUpdate",t)};const Vj=(e,t)=>{e.dispatch("AlignTextUpdate",t)};const jj=(e,t)=>{e.dispatch("FontSizeTextUpdate",t)};const Zj=(e,t)=>{e.dispatch("FontSizeInputTextUpdate",t)};const Uj=(e,t)=>{e.dispatch("BlocksTextUpdate",t)};const qj=(e,t)=>{e.dispatch("FontFamilyTextUpdate",t)};const $j=e=>{e.dispatch("ToggleSidebar")};const Wj=e=>{e.dispatch("ToggleView")};const Gj=e=>{e.dispatch("ContextToolbarClose")};const Kj=e=>{e.dispatch("ContextFormSlideBack")};const Yj=(e,t)=>()=>{e();t()};const Xj=(e,t=D)=>eZ(e,"NodeChange",o=>{o.setEnabled(e.selection.isEditable()&&t())});const Jj=(e,t)=>o=>{const n=kt();const s=()=>{o.setActive(e.formatter.match(t));const s=e.formatter.formatChanged(t,o.setActive);n.set(s)};e.initialized?s():e.once("init",s);return()=>{e.off("init",s);n.clear()}};const Qj=(e,t)=>o=>{const n=Xj(e)(o);const s=Jj(e,t)(o);return()=>{n();s()}};const eZ=(e,t,o)=>n=>{const s=()=>o(n);const r=()=>{o(n);e.on(t,s)};e.initialized?r():e.once("init",r);return()=>{e.off("init",r);e.off(t,s)}};const tZ=e=>t=>()=>{e.undoManager.transact(()=>{e.focus();e.execCommand("mceToggleFormat",false,t.format)})};const oZ=(e,t)=>()=>e.execCommand(t);var nZ=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const sZ={};const rZ=(e,t=10)=>{const o=nZ.getItem(e);const n=c(o)?JSON.parse(o):[];const s=e=>{const o=t-e.length;return o<0?e.slice(0,t):e};const r=s(n);const a=o=>{H(r,o).each(i);r.unshift(o);if(r.length>t){r.pop()}nZ.setItem(e,JSON.stringify(r))};const i=e=>{r.splice(e,1)};const l=()=>r.slice(0);return{add:a,state:l}};const aZ=e=>xe(sZ,e).getOrThunk(()=>{const t=`tinymce-custom-colors-${e}`;const o=nZ.getItem(t);if(g(o)){const e=nZ.getItem("tinymce-custom-colors");nZ.setItem(t,p(e)?e:"[]")}const n=rZ(t,10);sZ[e]=n;return n});const cZ=e=>j(aZ(e).state(),e=>({type:"choiceitem",text:e,icon:"checkmark",value:e}));const iZ=(e,t)=>{aZ(e).add(t)};const lZ="forecolor";const dZ="hilitecolor";const uZ=5;const fZ=e=>mZ(e.map((e,t)=>{if(t%2===0){return"#"+Aj(e).value}return e}));const mZ=e=>{const t=[];for(let o=0;o<e.length;o+=2){t.push({text:e[o+1],value:e[o],icon:"checkmark",type:"choiceitem"})}return t};const gZ=e=>t=>t.options.get(e);const pZ="#000000";const hZ=e=>{const t=e.options.register;const o=e=>{if(b(e,c)){return{value:fZ(e),valid:true}}else{return{valid:false,message:"Must be an array of strings."}}};const n=e=>{if(b(e,c)){return{value:mZ(e),valid:true}}else{return{valid:false,message:"Must be an array of strings."}}};const s=e=>{if(y(e)&&e>0){return{value:e,valid:true}}else{return{valid:false,message:"Must be a positive number."}}};t("color_map",{processor:o,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]});t("color_map_raw",{processor:n});t("color_map_background",{processor:o});t("color_map_foreground",{processor:o});t("color_cols",{processor:s,default:bZ(e)});t("color_cols_foreground",{processor:s,default:vZ(e,lZ)});t("color_cols_background",{processor:s,default:vZ(e,dZ)});t("custom_colors",{processor:"boolean",default:true});t("color_default_foreground",{processor:"string",default:pZ});t("color_default_background",{processor:"string",default:pZ})};const yZ=(e,t)=>{if(t===lZ&&e.options.isSet("color_map_foreground")){return gZ("color_map_foreground")(e)}else if(t===dZ&&e.options.isSet("color_map_background")){return gZ("color_map_background")(e)}else if(e.options.isSet("color_map_raw")){return gZ("color_map_raw")(e)}else{return gZ("color_map")(e)}};const bZ=(e,t="default")=>Math.max(uZ,Math.ceil(Math.sqrt(yZ(e,t).length)));const vZ=(e,t)=>{const o=gZ("color_cols")(e);const n=bZ(e,t);if(o===bZ(e)){return n}else{return o}};const kZ=(e,t="default")=>{const o=()=>{if(t===lZ){return gZ("color_cols_foreground")(e)}else if(t===dZ){return gZ("color_cols_background")(e)}else{return gZ("color_cols")(e)}};return Math.round(o())};const wZ=gZ("custom_colors");const _Z=gZ("color_default_foreground");const xZ=gZ("color_default_background");const CZ="rgba(0, 0, 0, 0)";const SZ=e=>Sj(e).exists(e=>e.alpha!==0);const zZ=e=>la(e,e=>{if(gn(e)){const t=Vs(e,"background-color");return mt(SZ(t),t)}else{return M.none()}}).getOr(CZ);const TZ=(e,t)=>{const o=$t.fromDom(e.selection.getStart());const n=t==="hilitecolor"?zZ(o):Vs(o,"color");return Sj(n).map(e=>"#"+fj(e).value)};const EZ=(e,t,o)=>{e.undoManager.transact(()=>{e.focus();e.formatter.apply(t,{value:o});e.nodeChanged()})};const OZ=(e,t)=>{e.undoManager.transact(()=>{e.focus();e.formatter.remove(t,{value:null},undefined,true);e.nodeChanged()})};const AZ=e=>{e.addCommand("mceApplyTextcolor",(t,o)=>{EZ(e,t,o)});e.addCommand("mceRemoveTextcolor",t=>{OZ(e,t)})};const DZ=e=>{const t="choiceitem";const o={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};const n={type:t,text:"Custom color",icon:"color-picker",value:"custom"};return e?[o,n]:[o]};const MZ=(e,t,o,n)=>{if(o==="custom"){const o=VZ(e);o(o=>{o.each(o=>{iZ(t,o);e.execCommand("mceApplyTextcolor",t,o);n(o)})},TZ(e,t).getOr(pZ))}else if(o==="remove"){n("");e.execCommand("mceRemoveTextcolor",t)}else{n(o);e.execCommand("mceApplyTextcolor",t,o)}};const NZ=(e,t,o)=>e.concat(cZ(t).concat(DZ(o)));const RZ=(e,t,o)=>n=>{n(NZ(e,t,o))};const BZ=(e,t,o)=>{const n=t==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(n,o)};const LZ=(e,t)=>{e.setTooltip(t)};const HZ=(e,t)=>o=>{const n=TZ(e,t);return at(n,o.toUpperCase())};const IZ=(e,t,o)=>{if(Nt(o)){return t==="forecolor"?"Text color":"Background color"}const n=t==="forecolor"?"Text color {0}":"Background color {0}";const s=NZ(yZ(e,t),t,false);const r=Y(s,e=>e.value===o).getOr({text:""}).text;return e.translate([n,e.translate(r)])};const PZ=(e,t,o,n)=>{e.ui.registry.addSplitButton(t,{tooltip:IZ(e,o,n.get()),presets:"color",icon:t==="forecolor"?"text-color":"highlight-bg-color",select:HZ(e,o),columns:kZ(e,o),fetch:RZ(yZ(e,o),o,wZ(e)),onAction:t=>{MZ(e,o,n.get(),v)},onItemAction:(s,r)=>{MZ(e,o,r,o=>{n.set(o);Lj(e,{name:t,color:o})})},onSetup:s=>{BZ(s,t,n.get());const r=n=>{if(n.name===t){BZ(s,n.name,n.color);LZ(s,IZ(e,o,n.color))}};e.on("TextColorChange",r);return Yj(Xj(e)(s),()=>{e.off("TextColorChange",r)})}})};const FZ=(e,t,o,n,s)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:t==="forecolor"?"text-color":"highlight-bg-color",onSetup:n=>{LZ(n,IZ(e,o,s.get()));BZ(n,t,s.get());return Xj(e)(n)},getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:HZ(e,o),initData:{storageKey:o},onAction:n=>{MZ(e,o,n.value,o=>{s.set(o);Lj(e,{name:t,color:o})})}}]})};const VZ=e=>(t,o)=>{let n=false;const s=o=>{const s=o.getData();const r=s.colorpicker;if(n){t(M.from(r));o.close()}else{e.windowManager.alert(e.translate(["Invalid hex color code: {0}",r]))}};const r=(e,t)=>{if(t.name==="hex-valid"){n=t.value}};const a={colorpicker:o};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:a,onAction:r,onSubmit:s,onClose:v,onCancel:()=>{t(M.none())}})};const jZ=e=>{AZ(e);const t=_Z(e);const o=xZ(e);const n=Ee(t);const s=Ee(o);PZ(e,"forecolor","forecolor",n);PZ(e,"backcolor","hilitecolor",s);FZ(e,"forecolor","forecolor","Text color",n);FZ(e,"backcolor","hilitecolor","Background color",s)};const ZZ=(e,t,o,n,s)=>{const r=e=>({setActive:t=>{vz.set(e,t)},isActive:()=>vz.isOn(e),isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t)});const a=KV({presets:"img",textContent:M.none(),htmlContent:M.none(),ariaLabel:e.tooltip,iconContent:M.some(e.url),labelContent:e.label,shortcutContent:M.none(),checkMark:M.some(PV(s.icons)),caret:M.none(),value:e.value},s,true);const c=e.tooltip.map(e=>Lz.config(s.tooltips.getConfig({tooltipText:s.translate(e)})));return st(OV({context:e.context,data:AV(e),enabled:e.enabled,getApi:r,onAction:o=>{t(e.value);o.setActive(true)},onSetup:e=>{e.setActive(o);return v},triggersSubmenu:false,itemBehaviours:[...c.toArray()]},a,n,s),{toggling:{toggleClass:_L,toggleOnExecute:false,selected:e.active,exclusive:true}})};const UZ=(e,t,o,n,s,r,a,c)=>{const i=gH(t);const l=s!=="color"?"normal":"color";const d=qZ(t,o,n,l,r,a,c);const u={menuType:s};return yH(e,i,d,n,u)};const qZ=(e,t,o,n,s,r,a)=>it(j(e,c=>{if(c.type==="choiceitem"){return TF(c).fold(pH,c=>M.some(oj(c,o===1,n,t,r(c.value),s,a,gH(e))))}else if(c.type==="imageitem"){return LF(c).fold(pH,e=>M.some(ZZ(e,t,r(e.value),s,a)))}else if(c.type==="resetimage"){return HF(c).fold(pH,c=>M.some(oj({...c,type:"choiceitem",text:c.tooltip,icon:M.some(c.icon),label:M.some(c.label)},o===1,n,t,r(c.value),s,a,gH(e))))}else{return M.none()}}));const $Z=(e,t)=>{const o=ZL(t);if(e===1){return{mode:"menu",moveOnTab:true}}else if(e==="auto"){return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}}}else{const e={color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[t];return{mode:"matrix",rowSelector:"."+e,previousSelector:e=>t==="color"?Rr(e.element,"[aria-checked=true]"):M.none()}}};const WZ=(e,t)=>{if(e===1){return{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}}else if(e==="auto"){return{mode:"flatgrid",selector:"."+"tox-collection__item",initSize:{numColumns:1,numRows:1}}}else{return{mode:"matrix",selectors:{row:t==="color"?".tox-swatches__row":".tox-collection__group",cell:t==="color"?`.${kL}`:`.${vL}`}}}};const GZ=(e,t)=>{const o=KZ(e,t);const n=t.colorinput.getColorCols(e.initData.storageKey);const s="color";const r=UZ(et("menu-value"),o,t=>{e.onAction({value:t})},n,s,yL.CLOSE_ON_EXECUTE,e.select.getOr(A),t.shared.providers);const a={...r,markers:ZL(s),movement:$Z(n,s),showMenuRole:false};return{type:"widget",data:{value:et("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[MO.widget(aE.sketch(a))]}};const KZ=(e,t)=>{const o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold(()=>NZ(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o),e=>e.concat(DZ(o)))};const YZ=(e,t)=>{const o="imageselector";const n=e.initData.columns;const s=UZ(et("menu-value"),e.initData.items,t=>{e.onAction({value:t})},n,o,yL.CLOSE_ON_EXECUTE,e.select.getOr(A),t.shared.providers);const r={...s,markers:ZL(o),movement:$Z(n,o),showMenuRole:false};return{type:"widget",data:{value:et("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:true,components:[MO.widget(aE.sketch(r))]}};const XZ=et("cell-over");const JZ=et("cell-execute");const QZ=e=>(t,o)=>e.shared.providers.translate(["{0} columns, {1} rows",o,t]);const eU=(e,t,o)=>{const n=o=>ym(o,XZ,{row:e,col:t});const s=o=>ym(o,JZ,{row:e,col:t});const r=(e,t)=>{t.stop();s(e)};return ev({dom:{tag:"div",attributes:{role:"button",["aria-label"]:o}},behaviours:Ym([ng("insert-table-picker-cell",[Tm(kl(),mg.focus),Tm(Il(),s),Tm(Tl(),r),Tm(Fl(),r)]),vz.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),mg.config({onFocus:n})])})};const tU=(e,t,o)=>{const n=[];for(let s=0;s<t;s++){const t=[];for(let n=0;n<o;n++){const o=e(s+1,n+1);t.push(eU(s,n,o))}n.push(t)}return n};const oU=(e,t,o,n,s)=>{for(let r=0;r<n;r++){for(let n=0;n<s;n++){vz.set(e[r][n],r<=t&&n<=o)}}};const nU=e=>Q(e,e=>j(e,tv));const sU=(e,t)=>Kb(`${t}x${e}`);const rU=(e,t)=>{const o=10;const n=10;const s=QZ(t);const r=tU(s,o,n);const a=sU(0,0);const c=Uz({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[a],behaviours:Ym([Yy.config({})])});return{type:"widget",data:{value:et("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[MO.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:nU(r).concat(c.asSpec()),behaviours:Ym([ng("insert-table-picker",[Hm(e=>{Yy.set(c.get(e),[a])}),Nm(XZ,(e,t,s)=>{const{row:a,col:i}=s.event;oU(r,a,i,o,n);Yy.set(c.get(e),[sU(a+1,i+1)])}),Nm(JZ,(t,o,n)=>{const{row:s,col:r}=n.event;hm(t,jl());e.onAction({numRows:s+1,numColumns:r+1})})]),ay.config({initSize:{numRows:o,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}};const aU={inserttable:rU,colorswatch:GZ,imageselect:YZ};const cU=(e,t)=>xe(aU,e.fancytype).map(o=>o(e,t));const iU=(e,t,o,n=true,s=false)=>{const r=s?VV(o.icons):FV(o.icons);const a=e=>({isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t),setIconFill:(t,o)=>{Rr(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each(e=>{gs(e,"fill",o)})},setTooltip:t=>{const n=o.translate(t);gs(e.element,"aria-label",n)}});const c=KV({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:M.none(),ariaLabel:e.text,labelContent:M.none(),caret:M.some(r),checkMark:M.none(),shortcutContent:e.shortcut},o,n);return OV({context:e.context,data:AV(e),getApi:a,enabled:e.enabled,onAction:v,onSetup:e.onSetup,triggersSubmenu:true,itemBehaviours:[]},c,t,o)};const lU=(e,t,o,n=true)=>{const s=e=>({isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t)});const r=KV({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:M.none(),labelContent:M.none(),ariaLabel:e.text,caret:M.none(),checkMark:M.none(),shortcutContent:e.shortcut},o,n);return OV({context:e.context,data:AV(e),getApi:s,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},r,t,o)};const dU=e=>({type:"separator",dom:{tag:"div",classes:[vL,xL]},components:e.text.map(Kb).toArray()});const uU=(e,t,o,n=true)=>{const s=e=>({setActive:t=>{vz.set(e,t)},isActive:()=>vz.isOn(e),isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t)});const r=KV({iconContent:e.icon,textContent:e.text,htmlContent:M.none(),labelContent:M.none(),ariaLabel:e.text,checkMark:M.some(PV(o.icons)),caret:M.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},o,n);return st(OV({context:e.context,data:AV(e),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},r,t,o),{toggling:{toggleClass:_L,toggleOnExecute:false,selected:e.active},role:e.role.getOrUndefined()})};const fU=QV;const mU=dU;const gU=lU;const pU=iU;const hU=uU;const yU=cU;const bU=tj;const vU=e=>{switch(e.searchMode){case"no-search":{return{menuType:"normal"}}default:{return{menuType:"searchable",searchMode:e}}}};const kU=e=>{const t=G_.getValue(e);const o=YL(e).map(QL);jE.refetch(t).get(()=>{const e=kv.getCoupled(t,"sandbox");o.each(t=>YL(e).each(e=>JL(e,t)))})};const wU=(e,t)=>{_U(e).each(o=>{wm(e,o.element,t.event.eventType,t.event.interactionEvent)})};const _U=e=>gS.getState(e).bind(Qg.getHighlighted).bind(Qg.getHighlighted);const xU=e=>Wr(e.element,oH)?M.some(e.element):Rr(e.element,"."+oH);const CU=(e,t,o)=>{XL(e).each(e=>{eH(e,o);const n=xU(t);n.each(t=>{ys(t,"id").each(t=>gs(e.element,"aria-controls",t))})});gs(o.element,"aria-selected","true")};const SU=(e,t,o)=>{gs(o.element,"aria-selected","false")};const zU=e=>{XL(e).each(e=>mg.focus(e))};const TU=e=>{const t=kv.getExistingCoupled(e,"sandbox");return t.bind(YL).map(QL).map(e=>e.fetchPattern).getOr("")};var EU;(function(e){e[e["ContentFocus"]=0]="ContentFocus";e[e["UiFocus"]=1]="UiFocus"})(EU||(EU={}));const OU=(e,t,o,n,s)=>{const r=o.shared.providers;const a=e=>!s?e:{...e,shortcut:M.none(),icon:e.text.isSome()?M.none():e.icon};switch(e.type){case"menuitem":return PF(e).fold(pH,e=>M.some(gU(a(e),t,r,n)));case"nestedmenuitem":return VF(e).fold(pH,e=>M.some(pU(a(e),t,r,n,s)));case"togglemenuitem":return ZF(e).fold(pH,e=>M.some(hU(a(e),t,r,n)));case"separator":return qP(e).fold(pH,e=>M.some(mU(e)));case"fancymenuitem":return NF(e).fold(pH,e=>yU(e,o));default:{console.error("Unknown item in general menu",e);return M.none()}}};const AU=(e,t,o,n,s,r,a)=>{const c=n===1;const i=!c||gH(e);return it(j(e,e=>{switch(e.type){case"separator":return WP(e).fold(pH,e=>M.some(mU(e)));case"cardmenuitem":return SF(e).fold(pH,e=>M.some(bU({...e,onAction:t=>{e.onAction(t);o(e.value,e.meta)}},s,r,{itemBehaviours:YV(e.meta,r,M.none()),cardText:{matchText:t,highlightOn:a}})));case"autocompleteitem":default:return GP(e).fold(pH,e=>M.some(fU(e,t,c,"normal",o,s,r,i)))}}))};const DU=(e,t,o,n,s,r)=>{const a=gH(t);const c=it(j(t,e=>{const t=e=>s?!Ce(e,"text"):a;const r=e=>OU(e,o,n,t(e),s);if(e.type==="nestedmenuitem"&&e.getSubmenuItems().length<=0){return r({...e,enabled:false})}else{return r(e)}}));const i=vU(r);const l=s?hH:yH;return l(e,a,c,1,i)};const MU=e=>kE.singleData(e.value,e);const NU=(e,t,o,n)=>{const s=$Z(t,n);const r=ZL(n);return{data:MU({...e,movement:s,menuBehaviours:cV.unnamedEvents(t!=="auto"?[]:[Hm((e,t)=>{sV(e,4,r.item).each(({numColumns:t,numRows:o})=>{ay.setGridSize(e,o,t)})})])}),menu:{markers:ZL(n),fakeFocus:o===EU.ContentFocus}}};const RU=e=>ua.create($t.fromDom(e.startContainer),e.startOffset,$t.fromDom(e.endContainer),e.endOffset);const BU=(e,t)=>{const o=et("autocompleter");const n=Ee(false);const s=Ee(false);const r=wt();const a=ev(SO.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:o}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ym([ng("dismissAutocompleter",[Tm(Xl(),()=>u()),Tm(sd(),(t,o)=>{ys(o.event.target,"id").each(t=>gs($t.fromDom(e.getBody()),"aria-activedescendant",t))})])]),lazySink:t.getSink}));const c=()=>SO.isOpen(a);const i=s.get;const l=()=>{if(c()){SO.hide(a);e.dom.remove(o,false);const t=$t.fromDom(e.getBody());ys(t,"aria-owns").filter(e=>e===o).each(()=>{vs(t,"aria-owns");vs(t,"aria-activedescendant")})}};const d=()=>SO.getContent(a).bind(e=>ae(e.components(),0));const u=()=>e.execCommand("mceAutocompleterClose");const f=o=>{const s=de(o,e=>M.from(e.columns)).getOr(1);return Q(o,o=>{const a=o.items;return AU(a,o.matchText,(t,s)=>{const a={hide:()=>u(),reload:t=>{l();e.execCommand("mceAutocompleterReload",false,{fetchOptions:t})}};e.execCommand("mceAutocompleterRefreshActiveRange");r.get().each(e=>{n.set(true);o.onAction(a,e,t,s);n.set(false)})},s,yL.BUBBLE_TO_SANDBOX,t,o.highlightOn)})};const m=(t,o)=>{const n=de(t,e=>M.from(e.columns)).getOr(1);SO.showMenuAt(a,{anchor:{type:"selection",getSelection:()=>r.get().map(RU),root:$t.fromDom(e.getBody())}},NU(yH("autocompleter-value",true,o,n,{menuType:"normal"}),n,EU.ContentFocus,"normal"));d().each(Qg.highlightFirst)};const g=t=>{const n=f(t);if(n.length>0){m(t,n);gs($t.fromDom(e.getBody()),"aria-owns",o);if(!e.inline){p()}}else{l()}};const p=()=>{if(e.dom.get(o)){e.dom.remove(o,false)}const t=e.getDoc().documentElement;const n=e.selection.getNode();const s=Ss(a.element);Ps(s,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${n.offsetTop}px`,left:`${n.offsetLeft}px`});e.dom.add(t,s.dom);Rr(s,'[role="menu"]').each(e=>{$s(e,"position");$s(e,"max-height")})};e.on("AutocompleterStart",({lookupData:e})=>{s.set(true);n.set(false);g(e)});e.on("AutocompleterUpdate",({lookupData:e})=>g(e));e.on("AutocompleterUpdateActiveRange",({range:e})=>r.set(e));e.on("AutocompleterEnd",()=>{l();s.set(false);n.set(false);r.clear()});const h={cancelIfNecessary:u,isMenuOpen:c,isActive:i,isProcessingAction:n.get,getMenu:d};pL.setup(h,e)};const LU={register:BU};const HU=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:j(e.items,t.interpreter)});var IU=tinymce.util.Tools.resolve("tinymce.html.Entities");const PU=(e,t,o,n)=>{const s=VU(e,t,o,n);return gO.sketch(s)};const FU=(e,t)=>PU(e,t,[],[]);const VU=(e,t,o,n)=>({dom:ZU(o),components:e.toArray().concat([t]),fieldBehaviours:Ym(n)});const jU=()=>ZU([]);const ZU=e=>({tag:"div",classes:["tox-form__group"].concat(e)});const UU=(e,t)=>gO.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Kb(t.translate(e))]});const qU=et("form-component-change");const $U=et("form-component-input");const WU=et("form-close");const GU=et("form-cancel");const KU=et("form-action");const YU=et("form-submit");const XU=et("form-block");const JU=et("form-unblock");const QU=et("form-tabchange");const eq=et("form-resize");const tq=(e,t,o)=>{const n=e.label.map(e=>UU(e,t));const s=t.icons();const r=e=>{var t;return(t=s[e])!==null&&t!==void 0?t:e};const a=e=>(t,o)=>{Br(o.event.target,"[data-collection-item-value]").each(n=>{e(t,o,n,hs(n,"data-collection-item-value"))})};const c=(o,n)=>{const s=t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled();const a=s?" tox-collection__item--state-disabled":"";const c=j(n,t=>{const o=XB.translate(t.text);const n=e.columns===1?`<div class="tox-collection__item-label">${o}</div>`:"";const s=`<div class="tox-collection__item-icon">${r(t.icon)}</div>`;const c={_:" "," - ":" ","-":" "};const i=o.replace(/\_| \- |\-/g,e=>c[e]);return`<div data-mce-tooltip="${i}" class="tox-collection__item${a}" tabindex="-1" data-collection-item-value="${IU.encodeAllRaw(t.value)}" aria-label="${i}">${s}${n}</div>`});const i=e.columns!=="auto"&&e.columns>1?V(c,e.columns):[c];const l=j(i,e=>`<div class="tox-collection__group">${e.join("")}</div>`);Es(o.element,l.join(""))};const i=a((o,n,s,r)=>{n.stop();if(!(t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled())){ym(o,KU,{name:e.name,value:r})}});const l=[Tm(kl(),a((e,t,o)=>{os(o,true)})),Tm(Tl(),i),Tm(Fl(),i),Tm(wl(),a((e,t,o)=>{Rr(e.element,"."+DL).each(e=>{qr(e,DL)});Zr(o,DL)})),Tm(_l(),a(e=>{Rr(e.element,"."+DL).each(e=>{qr(e,DL);ns(e)})})),Fm(a((t,o,n,s)=>{ym(t,KU,{name:e.name,value:s})}))];const d=(e,t)=>j(sa(e.element,".tox-collection__item"),t);const u=gO.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:C},behaviours:Ym([Pv.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{d(e,e=>{Zr(e,"tox-collection__item--state-disabled");gs(e,"aria-disabled",true)})},onEnabled:e=>{d(e,e=>{qr(e,"tox-collection__item--state-disabled");vs(e,"aria-disabled")})}}),SV(()=>t.checkUiComponentContext(e.context)),Yy.config({}),Lz.config({...t.tooltips.getConfig({tooltipText:"",onShow:e=>{Rr(e.element,"."+DL+"[data-mce-tooltip]").each(o=>{ys(o,"data-mce-tooltip").each(o=>{Lz.setComponents(e,t.tooltips.getComponents({tooltipText:o}))})})}}),mode:"children-keyboard-focus",anchor:e=>({type:"node",node:Rr(e.element,"."+DL).orThunk(()=>Ar(".tox-collection__item")),root:e.element,layouts:{onLtr:x([_f,wf,yf,vf,bf,kf]),onRtl:x([_f,wf,yf,vf,bf,kf])},bubble:Zu(0,-2,{})})}),G_.config({store:{mode:"memory",initialValue:o.getOr([])},onSetValue:(t,o)=>{c(t,o);if(e.columns==="auto"){sV(t,5,"tox-collection__item").each(({numRows:e,numColumns:o})=>{ay.setGridSize(t,e,o)})}hm(t,eq)}}),tz.config({}),ay.config(WZ(e.columns,"normal")),ng("collection-events",l)]),eventOrder:{[Il()]:["disabling","alloy.base.behaviour","collection-events"],[wl()]:["collection-events","tooltipping"]}});const f=["tox-form__group--collection"];return PU(n,u,f,[])};const oq=(e,t)=>jE.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Ym([fV.button(()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable),SV(()=>t.providers.checkUiComponentContext(e.context)),Fz.config({}),tz.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:o=>Le.nu(t=>e.fetch(t)).map(n=>M.from(MU(st(UZ(et("menu-value"),n,t=>{e.onItemAction(o,t)},e.columns,e.presets,yL.CLOSE_ON_EXECUTE,A,t.providers),{movement:$Z(e.columns,e.presets)})))),parts:{menu:$L(false,1,e.presets)}});const nq=et("color-input-change");const sq=et("color-swatch-change");const rq=et("color-picker-cancel");const aq=(e,t,o,n)=>{const s=gO.parts.field({factory:DO,inputClasses:["tox-textfield"],data:n,onSetValue:e=>K_.run(e).get(v),inputBehaviours:Ym([Pv.config({disabled:()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable}),SV(()=>t.providers.checkUiComponentContext(e.context)),tz.config({}),K_.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>Sn(e.element),notify:{onValid:e=>{const t=G_.getValue(e);ym(e,nq,{color:t})}},validator:{validateOnLoad:false,validate:e=>{const t=G_.getValue(e);if(t.length===0){return Le.pure(Fe.value(true))}else{const e=$t.fromTag("span");Is(e,"background-color",t);const o=Zs(e,"background-color").fold(()=>Fe.error("blah"),e=>Fe.value(t));return Le.pure(o)}}}})]),selectOnFocus:false});const r=e.label.map(e=>UU(e,t.providers));const a=(e,t)=>{ym(e,sq,{value:t})};const c=(t,n)=>{i.getOpt(t).each(t=>{if(n==="custom"){o.colorPicker(o=>{o.fold(()=>hm(t,rq),o=>{a(t,o);iZ(e.storageKey,o)})},"#ffffff")}else if(n==="remove"){a(t,"")}else{a(t,n)}})};const i=Uz(oq({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[bf,yf,_f],onLtr:()=>[yf,bf,_f]},components:[],fetch:RZ(o.getColors(e.storageKey),e.storageKey,o.hasCustomColors()),columns:o.getColorCols(e.storageKey),presets:"color",onItemAction:c,context:e.context},t));return gO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,i.asSpec()]}]),fieldBehaviours:Ym([ng("form-field-events",[Tm(nq,(t,o)=>{i.getOpt(t).each(e=>{Is(e.element,"background-color",o.event.color)});ym(t,qU,{name:e.name})}),Tm(sq,(e,t)=>{gO.getField(e).each(o=>{G_.setValue(o,t.event.value);mv.getCurrent(e).each(mg.focus)})}),Tm(rq,(e,t)=>{gO.getField(e).each(t=>{mv.getCurrent(e).each(mg.focus)})})])])})};const cq=()=>mv.config({find:M.some});const iq=e=>mv.config({find:e.getOpt});const lq=e=>mv.config({find:t=>An(t.element,e).bind(e=>t.getSystem().getByDom(e).toOptional())});const dq={self:cq,memento:iq,childAt:lq};const uq=ai([$i("preprocess",C),$i("postprocess",C)]);const fq=(e,t)=>{const o=ki("RepresentingConfigs.memento processors",uq,t);return G_.config({store:{mode:"manual",getValue:t=>{const n=e.get(t);const s=G_.getValue(n);return o.postprocess(s)},setValue:(t,n)=>{const s=o.preprocess(n);const r=e.get(t);G_.setValue(r,s)}}})};const mq=(e,t,o)=>G_.config({store:{mode:"manual",...e.map(e=>({initialValue:e})).getOr({}),getValue:t,setValue:o}});const gq=(e,t,o)=>mq(e,e=>t(e.element),(e,t)=>o(e.element,t));const pq=e=>gq(e,Ts,Es);const hq=e=>G_.config({store:{mode:"memory",initialValue:e}});const yq=et("rgb-hex-update");const bq=et("slider-update");const vq=et("palette-update");const kq=(e,t)=>{const o=uM.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}});const n=uM.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return uM.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:false,model:{mode:"y",getInitialValue:x(0)},components:[o,n],sliderBehaviours:Ym([mg.config({})]),onChange:(e,t,o)=>{gs(e.element,"aria-valuenow",Math.floor(360-o*3.6));ym(e,bq,{value:o})}})};const wq=et("valid-input");const _q=et("invalid-input");const xq=et("validating-input");const Cq="colorcustom.rgb.";const Sq={isEnabled:D,setEnabled:v,immediatelyShow:v,immediatelyHide:v};const zq=(e,t,o,n,s,r)=>{const a=(e,t)=>{const o=t.get();if(e===o.isEnabled()){return}o.setEnabled(e);if(e){o.immediatelyShow()}else{o.immediatelyHide()}};const c=(o,n,s)=>K_.config({invalidClass:t("invalid"),notify:{onValidate:e=>{ym(e,xq,{type:o})},onValid:e=>{a(false,s);ym(e,wq,{type:o,value:G_.getValue(e)})},onInvalid:e=>{a(true,s);ym(e,_q,{type:o,value:G_.getValue(e)})}},validator:{validate:t=>{const o=G_.getValue(t);const s=n(o)?Fe.value(true):Fe.error(e("aria.input.invalid"));return Le.pure(s)},validateOnLoad:false}});const i=(o,n,a,i,l)=>{const d=Ee(Sq);const u=e(Cq+"range");const f=gO.parts.label({dom:{tag:"label"},components:[Kb(a)]});const m=gO.parts.field({data:l,factory:DO,inputAttributes:{type:"text","aria-label":i,...n==="hex"?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Ym([c(n,o,d),tz.config({}),Lz.config({...s({tooltipText:"",onSetup:e=>{d.set({isEnabled:()=>Lz.isEnabled(e),setEnabled:t=>Lz.setEnabled(e,t),immediatelyShow:()=>Lz.immediateOpenClose(e,true),immediatelyHide:()=>Lz.immediateOpenClose(e,false)});Lz.setEnabled(e,false)},onShow:(o,s)=>{Lz.setComponents(o,[{dom:{tag:"p",classes:[t("rgb-warning-note")]},components:[Kb(e(n==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:e=>{if(K_.isInvalid(e)){const t=K_.run(e);t.get(v)}}});const g=et("aria-invalid");const p=Uz(r("invalid",M.some(g),"warning"));const h=Uz({dom:{tag:"div",classes:[t("invalid-icon")]},components:[p.asSpec()]});const y=[f,m,h.asSpec()];const b=n!=="hex"?[gO.parts["aria-descriptor"]({text:u})]:[];const k=y.concat(b);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[t("rgb-container")]},components:k}};const l=(e,t)=>{const o=fj(t);KE.getField(e,"hex").each(t=>{if(!mg.isFocused(t)){G_.setValue(e,{hex:o.value})}});return o};const d=(e,t)=>{const o=t.red;const n=t.green;const s=t.blue;G_.setValue(e,{red:o,green:n,blue:s})};const u=Uz({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});const f=(e,t)=>{u.getOpt(e).each(e=>{Is(e.element,"background-color","#"+t.value)})};const m=()=>{const s={red:Ee(M.some(255)),green:Ee(M.some(255)),blue:Ee(M.some(255)),hex:Ee(M.some("ffffff"))};const r=(e,t)=>{const o=xj(t);d(e,o);g(o)};const a=e=>s[e].get();const c=(e,t)=>{s[e].set(t)};const m=()=>a("red").bind(e=>a("green").bind(t=>a("blue").map(o=>kj(e,t,o,1))));const g=e=>{const t=e.red;const o=e.green;const n=e.blue;c("red",M.some(t));c("green",M.some(o));c("blue",M.some(n))};const p=(e,t)=>{const o=t.event;if(o.type!=="hex"){c(o.type,M.none())}else{n(e)}};const h=(e,t)=>{o(e);const n=nj(t);c("hex",M.some(n.value));const s=xj(n);d(e,s);g(s);ym(e,yq,{hex:n});f(e,n)};const y=(e,t,o)=>{const n=parseInt(o,10);c(t,M.some(n));m().each(t=>{const o=l(e,t);ym(e,yq,{hex:o});f(e,o)})};const b=e=>e.type==="hex";const v=(e,t)=>{const o=t.event;if(b(o)){h(e,o.value)}else{y(e,o.type,o.value)}};const k=t=>({label:e(Cq+t+".label"),description:e(Cq+t+".description")});const w=k("red");const _=k("green");const x=k("blue");const C=k("hex");return st(KE.sketch(o=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[o.field("red",gO.sketch(i(wj,"red",w.label,w.description,255))),o.field("green",gO.sketch(i(wj,"green",_.label,_.description,255))),o.field("blue",gO.sketch(i(wj,"blue",x.label,x.description,255))),o.field("hex",gO.sketch(i(aj,"hex",C.label,C.description,"ffffff"))),u.asSpec()],formBehaviours:Ym([K_.config({invalidClass:t("form-invalid")}),ng("rgb-form-events",[Tm(wq,v),Tm(_q,p),Tm(xq,p)])])})),{apis:{updateHex:(e,t)=>{G_.setValue(e,{hex:t.value});r(e,t);f(e,t)}}})};const g=ww({factory:m,name:"RgbForm",configFields:[],apis:{updateHex:(e,t,o)=>{e.updateHex(t,o)}},extraApis:{}});return g};const Tq=(e,t)=>{const o=uM.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}});const n=uM.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}});const s=(e,t)=>{const{width:o,height:n}=e;const s=e.getContext("2d");if(s===null){return}s.fillStyle=t;s.fillRect(0,0,o,n);const r=s.createLinearGradient(0,0,o,0);r.addColorStop(0,"rgba(255,255,255,1)");r.addColorStop(1,"rgba(255,255,255,0)");s.fillStyle=r;s.fillRect(0,0,o,n);const a=s.createLinearGradient(0,0,0,n);a.addColorStop(0,"rgba(0,0,0,0)");a.addColorStop(1,"rgba(0,0,0,1)");s.fillStyle=a;s.fillRect(0,0,o,n)};const r=(e,t)=>{const o=e.components()[0].element.dom;const n=mj(t,100,100);const r=_j(n);s(o,zj(r))};const a=(t,o)=>{const n=gj(xj(o));uM.setValue(t,{x:n.saturation,y:100-n.value});gs(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",n.saturation,n.value]))};const c=r=>{const a=x({x:0,y:0});const c=(t,o,n)=>{if(!y(n)){gs(t.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Math.floor(n.x),Math.floor(100-n.y)]))}ym(t,vq,{value:n})};const i=(e,t,o,n)=>{s(o.element.dom,zj(Tj))};const l=Ym([mv.config({find:M.some}),mg.config({})]);return uM.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:false,components:[o,n],onChange:c,onInit:i,sliderBehaviours:l})};const i=ww({factory:c,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,o)=>{r(t,o)},setThumb:(e,t,o)=>{a(t,o)}},extraApis:{}});return i};const Eq=(e,t,o,n)=>{const s=s=>{const r=zq(e,t,s.onValidHex,s.onInvalidHex,o,n);const a=Tq(e,t);const c=e=>(100-e)/100*360;const i=e=>100-e/360*100;const l={paletteRgba:Ee(Tj),paletteHue:Ee(0)};const d=Uz(kq(e,t));const u=Uz(a.sketch({}));const f=Uz(r.sketch({}));const m=(e,t,o)=>{u.getOpt(e).each(e=>{a.setHue(e,o)})};const g=(e,t)=>{f.getOpt(e).each(e=>{r.updateHex(e,t)})};const p=(e,t,o)=>{d.getOpt(e).each(e=>{uM.setValue(e,i(o))})};const h=(e,t)=>{u.getOpt(e).each(e=>{a.setThumb(e,t)})};const y=(e,t)=>{const o=xj(e);l.paletteRgba.set(o);l.paletteHue.set(t)};const b=(e,t,o,n)=>{y(t,o);Z(n,n=>{n(e,t,o)})};const v=()=>{const e=[g];return(t,o)=>{const n=o.event.value;const s=l.paletteHue.get();const r=mj(s,n.x,100-n.y);const a=Oj(r);b(t,a,s,e)}};const k=()=>{const e=[m,g];return(t,o)=>{const n=c(o.event.value);const s=l.paletteRgba.get();const r=gj(s);const a=mj(n,r.saturation,r.value);const i=Oj(a);b(t,i,n,e)}};const w=()=>{const e=[m,p,h];return(t,o)=>{const n=o.event.hex;const s=Ej(n);b(t,n,s.hue,e)}};return{uid:s.uid,dom:s.dom,components:[u.asSpec(),d.asSpec(),f.asSpec()],behaviours:Ym([ng("colour-picker-events",[Tm(yq,w()),Tm(vq,v()),Tm(bq,k())]),mv.config({find:e=>f.getOpt(e)}),ay.config({mode:"acyclic"})])}};const r=ww({name:"ColourPicker",configFields:[Ti("dom"),$i("onValidHex",v),$i("onInvalidHex",v)],factory:s});return r};const Oq={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};const Aq=e=>t=>{if(c(t)){return e.translate(Oq[t])}else{return e.translate(t)}};const Dq=(e,t,o)=>{const n=e=>"tox-"+e;const s=(e,o,n=e,s=e)=>iL(n,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:t.translate(s),"aria-live":"polite",...o.fold(()=>({}),e=>({id:e}))}},t.icons);const r=Eq(Aq(t),n,t.tooltips.getConfig,s);const a=e=>{ym(e,KU,{name:"hex-valid",value:true})};const c=e=>{ym(e,KU,{name:"hex-valid",value:false})};const i=Uz(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:a,onInvalidHex:c}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Ym([mq(o,e=>{const t=i.get(e);const o=mv.getCurrent(t);const n=o.bind(e=>{const t=G_.getValue(e);return t.hex});return n.map(e=>"#"+St(e,"#")).getOr("")},(e,t)=>{const o=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;const n=M.from(o.exec(t)).bind(e=>ae(e,1));const s=i.get(e);const r=mv.getCurrent(s);r.fold(()=>{console.log("Can not find form")},e=>{G_.setValue(e,{hex:n.getOr("")});KE.getField(e,"hex").each(e=>{hm(e,Sl())})})}),dq.self()])}};var Mq=tinymce.util.Tools.resolve("tinymce.Resource");const Nq=e=>Ce(e,"init");const Rq=e=>{const t=wt();const o=Uz({dom:{tag:e.tag}});const n=wt();const s=!Nq(e)&&e.onFocus.isSome()?[mg.config({onFocus:t=>{e.onFocus.each(e=>{e(t.element.dom)})}}),tz.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ym([ng("custom-editor-events",[Hm(s=>{o.getOpt(s).each(o=>{(Nq(e)?e.init(o.element.dom):Mq.load(e.scriptId,e.scriptUrl).then(t=>t(o.element.dom,e.settings))).then(e=>{n.on(t=>{e.setValue(t)});n.clear();t.set(e)})})})]),mq(M.none(),()=>t.get().fold(()=>n.get().getOr(""),e=>e.getValue()),(e,o)=>{t.get().fold(()=>n.set(o),e=>e.setValue(o))}),dq.self()].concat(s)),components:[o.asSpec()]}};var Bq=tinymce.util.Tools.resolve("tinymce.util.Tools");const Lq=et("browse.files.event");const Hq=(e,t)=>{const o=Bq.explode(t.getOption("images_file_types"));const n=e=>P(o,t=>Ot(e.name.toLowerCase(),`.${t.toLowerCase()}`));return $(le(e),n)};const Iq=(e,t,o)=>{const n=(e,t)=>{t.stop()};const s=e=>(t,o)=>{Z(e,e=>{e(t,o)})};const r=(e,t)=>{var o;if(!Pv.isDisabled(e)){const n=t.event.raw;ym(e,Lq,{files:(o=n.dataTransfer)===null||o===void 0?void 0:o.files})}};const a=(e,t)=>{const o=t.event.raw.target;ym(e,Lq,{files:o.files})};const c=(o,n)=>{if(n){G_.setValue(o,Hq(n,t));ym(o,qU,{name:e.name})}};const i=Uz({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ym([ng("input-file-events",[Rm(Tl()),Rm(Fl())])])});const l=e.label.map(e=>UU(e,t));const d=gO.parts.field({factory:hT,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Kb(t.translate("Browse for an image")),i.asSpec()],action:e=>{const t=i.get(e);t.element.dom.click()},buttonBehaviours:Ym([dq.self(),hq(o.getOr([])),tz.config({}),fV.button(()=>t.checkUiComponentContext(e.context).shouldDisable),SV(()=>t.checkUiComponentContext(e.context))])});const u={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ym([Pv.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable}),SV(()=>t.checkUiComponentContext(e.context)),vz.config({toggleClass:"dragenter",toggleOnExecute:false}),ng("dropzone-events",[Tm("dragenter",s([n,vz.toggle])),Tm("dragleave",s([n,vz.toggle])),Tm("dragover",n),Tm("drop",s([n,r])),Tm(zl(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Kb(t.translate("Drop an image here"))]},d]}]};return PU(l,u,["tox-form__group--stretched"],[ng("handle-files",[Tm(Lq,(e,t)=>{gO.getField(e).each(e=>{c(e,t.event.files)})})])])};const Pq=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:j(e.items,t.interpreter)});const Fq=et("alloy-fake-before-tabstop");const Vq=et("alloy-fake-after-tabstop");const jq=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Ym([mg.config({ignore:true}),tz.config({})])});const Zq=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[jq([Fq]),t,jq([Vq])],behaviours:Ym([dq.childAt(1)])});const Uq=(e,t)=>{ym(e,xl(),{raw:{which:9,shiftKey:t}})};const qq=(e,t)=>{const o=t.element;if(Wr(o,Fq)){Uq(e,true)}else if(Wr(o,Vq)){Uq(e,false)}};const $q=e=>aa(e,["."+Fq,"."+Vq].join(","),A);const Wq=et("update-dialog");const Gq=et("update-title");const Kq=et("update-body");const Yq=et("update-footer");const Xq=et("body-send-message");const Jq=et("dialog-focus-shifted");const Qq=nn().browser;const e$=Qq.isSafari();const t$=Qq.isFirefox();const o$=e$||t$;const n$=Qq.isChromium();const s$=({scrollTop:e,scrollHeight:t,clientHeight:o})=>Math.ceil(e)+o>=t;const r$=(e,t)=>e.scrollTo(0,t==="bottom"?99999999:t);const a$=(e,t)=>{const o=e.body;return M.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!n$&&!e$||p(o)&&(o.scrollTop!==0||Math.abs(o.scrollHeight-o.clientHeight)>1))?o:e.documentElement)};const c$=(e,t,o)=>{const n=e.dom;M.from(n.contentDocument).fold(o,e=>{let o=0;const s=a$(e,t).map(e=>{o=e.scrollTop;return e}).forall(s$);const r=()=>{const e=n.contentWindow;if(p(e)){if(s){r$(e,"bottom")}else if(!s&&o$&&o!==0){r$(e,o)}}};if(e$){n.addEventListener("load",r,{once:true})}e.open();e.write(t);e.close();if(!e$){r()}})};const i$=mt(o$,e$?500:200);const l$=i$.map(e=>Bt(c$,e));const d$=(e,t)=>{const o=Ee(e.getOr(""));return{getValue:e=>o.get(),setValue:(e,n)=>{if(o.get()!==n){const o=e.element;const s=()=>gs(o,"srcdoc",n);if(t){l$.fold(x(c$),e=>e.throttle)(o,n,s)}else{s()}}o.set(n)}}};const u$=(e,t,o)=>{const n="tox-dialog__iframe";const s=e.transparent?[]:[`${n}--opaque`];const r=e.border?[`tox-navobj-bordered`]:[];const a={...e.label.map(e=>({title:e})).getOr({}),...o.map(e=>({srcdoc:e})).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}};const c=d$(o,e.streamContent);const i=e.label.map(e=>UU(e,t));const l=e=>Zq(M.from(r),{uid:e.uid,dom:{tag:"iframe",attributes:a,classes:[n,...s]},behaviours:Ym([tz.config({}),mg.config({}),mq(o,c.getValue,c.setValue),FC.config({channels:{[Jq]:{onReceive:(e,t)=>{t.newFocus.each(t=>{Sn(e.element).each(o=>{const n=po(e.element,t)?Zr:qr;n(o,"tox-navobj-bordered-focus")})})}}}})])});const d=gO.parts.field({factory:{sketch:l}});return PU(i,d,["tox-form__group--stretched"],[])};const f$=(e,t,o,n,s)=>{const r=o*s;const a=n*s;const c=Math.max(0,e/2-r/2);const i=Math.max(0,t/2-a/2);return{left:c.toString()+"px",top:i.toString()+"px",width:r.toString()+"px",height:a.toString()+"px"}};const m$=(e,t,o)=>{const n=sr(e);const s=Ys(e);return Math.min(n/t,s/o,1)};const g$=(e,t)=>{const o=Ee(t.getOr({url:""}));const n=Uz({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map(e=>({src:e.url})).getOr({})}});const s=Uz({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]});const r=(e,t)=>{const r={url:t.url};t.zoom.each(e=>r.zoom=e);t.cachedWidth.each(e=>r.cachedWidth=e);t.cachedHeight.each(e=>r.cachedHeight=e);o.set(r);const a=()=>{const{cachedWidth:t,cachedHeight:o,zoom:n}=r;if(!m(t)&&!m(o)){if(m(n)){const n=m$(e.element,t,o);r.zoom=n}const a=f$(sr(e.element),Ys(e.element),t,o,r.zoom);s.getOpt(e).each(e=>{Ps(e.element,a)})}};n.getOpt(e).each(o=>{const n=o.element;if(t.url!==hs(n,"src")){gs(n,"src",t.url);qr(e.element,"tox-imagepreview__loaded")}a();Ds(n).then(t=>{if(e.getSystem().isConnected()){Zr(e.element,"tox-imagepreview__loaded");r.cachedWidth=t.dom.naturalWidth;r.cachedHeight=t.dom.naturalHeight;a()}})})};const a={};e.height.each(e=>a.height=e);const c=t.map(e=>({url:e.url,zoom:M.from(e.zoom),cachedWidth:M.from(e.cachedWidth),cachedHeight:M.from(e.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[s.asSpec()],behaviours:Ym([dq.self(),mq(c,()=>o.get(),r)])}};const p$=(e,t,o)=>{const n="tox-label";const s=e.align==="center"?[`${n}--center`]:[];const r=e.align==="end"?[`${n}--end`]:[];const a=Uz({dom:{tag:"label",classes:[n,...s,...r]},components:[Kb(t.providers.translate(e.label))]});const c=j(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[a.asSpec(),...c],behaviours:Ym([dq.self(),Yy.config({}),pq(M.none()),ay.config({mode:"acyclic"}),ng("label",[Hm(t=>{e.for.each(e=>{o(e).each(e=>{a.getOpt(t).each(t=>{var o;const n=(o=hs(e.element,"id"))!==null&&o!==void 0?o:et("form-field");gs(e.element,"id",n);gs(t.element,"for",n)})})})})])])}};const h$=et("toolbar.button.execute");const y$=e=>Fm((t,o)=>{mV(e,t)(o=>{ym(t,h$,{buttonApi:o});e.onAction(o)})});const b$=et("common-button-display-events");const v$={[Il()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Kl()]:["toolbar-button-events",b$],[Yl()]:["toolbar-button-events","dropdown-events","tooltipping"],[hl()]:["focusing","alloy.base.behaviour",b$]};const k$=e=>Is(e.element,"width",Vs(e.element,"width"));const w$=(e,t,o)=>iL(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},t);const _$=(e,t)=>w$(e,t,[]);const x$=(e,t)=>w$(e,t,[Yy.config({})]);const C$=(e,t,o)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[Kb(o.translate(e))],behaviours:Ym([Yy.config({})])});const S$=et("update-menu-text");const z$=et("update-menu-icon");const T$=et("update-tooltip-text");const E$=(e,t,o,n)=>{const s=Ee(v);const r=Ee(e.tooltip);const a=e.text.map(e=>Uz(C$(e,t,o.providers)));const c=e.icon.map(e=>Uz(x$(e,o.providers.icons)));const i=(e,t)=>{const o=G_.getValue(e);mg.focus(o);ym(o,"keydown",{raw:t.event.raw});jE.close(o);return M.some(true)};const l=e.role.fold(()=>({}),e=>({role:e}));const d=M.from(e.listRole).map(e=>({listRole:e})).getOr({});const u=e.ariaLabel.fold(()=>({}),e=>{const t=o.providers.translate(e);return{"aria-label":t}});const f=iL("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},o.providers.icons);const m=et("common-button-display-events");const g="dropdown-events";const h=Uz(jE.sketch({...e.uid?{uid:e.uid}:{},...l,...d,dom:{tag:"button",classes:[t,`${t}--select`].concat(j(e.classes,e=>`${t}--${e}`)),attributes:{...u,...p(n)?{"data-mce-name":n}:{}}},components:EV([c.map(e=>e.asSpec()),a.map(e=>e.asSpec()),M.some(f)]),matchWidth:true,useMinWidth:true,onOpen:(t,o,n)=>{if(e.searchable){zU(n)}},dropdownBehaviours:Ym([...e.dropdownBehaviours,fV.button(()=>e.disabled||o.providers.checkUiComponentContext(e.context).shouldDisable),SV(()=>o.providers.checkUiComponentContext(e.context)),Fz.config({}),Yy.config({}),...e.tooltip.map(t=>Lz.config(o.providers.tooltips.getConfig({tooltipText:o.providers.translate(t),onShow:t=>{if(dt(r.get(),e.tooltip,(e,t)=>t!==e).getOr(false)){const e=o.providers.translate(r.get().getOr(""));Lz.setComponents(t,o.providers.tooltips.getComponents({tooltipText:e}))}}}))).toArray(),ng(g,[gV(e,s),pV(e,s)]),ng(m,[Hm((t,o)=>{if(e.listRole!=="listbox"){k$(t)}})]),ng("update-dropdown-width-variable",[Tm(Gl(),(e,t)=>jE.close(e))]),ng("menubutton-update-display-text",[Tm(S$,(e,t)=>{a.bind(t=>t.getOpt(e)).each(e=>{Yy.set(e,[Kb(o.providers.translate(t.event.text))])})}),Tm(z$,(e,t)=>{c.bind(t=>t.getOpt(e)).each(e=>{Yy.set(e,[x$(t.event.icon,o.providers.icons)])})}),Tm(T$,(e,t)=>{const n=o.providers.translate(t.event.text);gs(e.element,"aria-label",n);r.set(M.some(t.event.text))})])]),eventOrder:st(v$,{[hl()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Kl()]:["toolbar-button-events",Lz.name(),g,m]}),sandboxBehaviours:Ym([ay.config({mode:"special",onLeft:i,onRight:i}),ng("dropdown-sandbox-events",[Tm(WL,(e,t)=>{kU(e);t.stop()}),Tm(GL,(e,t)=>{wU(e,t);t.stop()})])]),lazySink:o.getSink,toggleClass:`${t}--active`,parts:{menu:{...$L(false,e.columns,e.presets),fakeFocus:e.searchable,...e.listRole==="listbox"?{}:{onHighlightItem:CU,onCollapseMenu:(e,t,o)=>{Qg.getHighlighted(o).each(t=>{CU(e,o,t)})},onDehighlightItem:SU}}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{tm()(e,t-10)}}),fetch:t=>Le.nu(z(e.fetch,t))}));return h.asSpec()};const O$=e=>c(e);const A$=e=>e.type==="separator";const D$=e=>Ce(e,"getSubmenuItems");const M$={type:"separator"};const N$=(e,t)=>{const o=G(e,(e,o)=>{if(O$(o)){if(o===""){return e}else if(o==="|"){return e.length>0&&!A$(e[e.length-1])?e.concat([M$]):e}else if(Ce(t,o.toLowerCase())){return e.concat([t[o.toLowerCase()]])}else{return e}}else{return e.concat([o])}},[]);if(o.length>0&&A$(o[o.length-1])){o.pop()}return o};const R$=(e,t)=>{const o=e.getSubmenuItems();const n=L$(o,t);const s=st(n.menus,{[e.value]:n.items});const r=st(n.expansions,{[e.value]:e.value});return{item:e,menus:s,expansions:r}};const B$=e=>{const t=xe(e,"value").getOrThunk(()=>et("generated-menu-item"));return st({value:t},e)};const L$=(e,t)=>{const o=N$(c(e)?e.split(" "):e,t);return W(o,(e,o)=>{if(D$(o)){const n=B$(o);const s=R$(n,t);return{menus:st(e.menus,s.menus),items:[s.item,...e.items],expansions:st(e.expansions,s.expansions)}}else{return{...e,items:[o,...e.items]}}},{menus:{},expansions:{},items:[]})};const H$=e=>e.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-field",placeholder:e.placeholder}));const I$=e=>e.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-results"}));const P$=(e,t,o,n)=>{const s=et("primary-menu");const r=L$(e,o.shared.providers.menuItems());if(r.items.length===0){return M.none()}const a=H$(n);const c=DU(s,r.items,t,o,n.isHorizontalMenu,a);const i=I$(n);const l=ge(r.menus,(e,n)=>DU(n,e,t,o,false,i));const d=st(l,al(s,c));return M.from(kE.tieredData(s,d,r.expansions))};const F$=e=>!Ce(e,"items");const V$="data-value";const j$=(e,t,o,n,s)=>j(o,o=>{if(!F$(o)){return{type:"nestedmenuitem",text:o.text,getSubmenuItems:()=>j$(e,t,o.items,n,s)}}else{return{type:"togglemenuitem",...s?{}:{role:"option"},text:o.text,value:o.value,active:o.value===n,onAction:()=>{G_.setValue(e,o.value);ym(e,qU,{name:t});mg.focus(e)}}}});const Z$=(e,t)=>de(e,e=>{if(!F$(e)){return Z$(e.items,t)}else{return mt(e.value===t,e)}});const U$=(e,t,o)=>{const n=P(e.items,e=>!F$(e));const s=t.shared.providers;const r=o.bind(t=>Z$(e.items,t)).orThunk(()=>ce(e.items).filter(F$));const a=e.label.map(e=>UU(e,s));const c=gO.parts.field({dom:{},factory:{sketch:o=>E$({context:e.context,uid:o.uid,text:r.map(e=>e.text),icon:M.none(),tooltip:M.none(),role:mt(!n,"combobox"),...n?{}:{listRole:"listbox"},ariaLabel:e.label,fetch:(o,s)=>{const r=j$(o,e.name,e.items,G_.getValue(o),n);s(P$(r,yL.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:false,search:M.none()}))},onSetup:x(v),getApi:x({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[tz.config({}),mq(r.map(e=>e.value),e=>hs(e.element,V$),(t,o)=>{Z$(e.items,o).each(e=>{gs(t.element,V$,e.value);ym(t,S$,{text:e.text})})})]},"tox-listbox",t.shared)}});const i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[c]};return gO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:J([a.toArray(),[i]]),fieldBehaviours:Ym([Pv.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{gO.getField(e).each(Pv.disable)},onEnabled:e=>{gO.getField(e).each(Pv.enable)}})])})};const q$=(e,t)=>({dom:{tag:"div",classes:e.classes},components:j(e.items,t.shared.interpreter)});const $$=(e,t,o)=>{const n=j(e.items,e=>({text:t.translate(e.text),value:e.value}));const s=e.label.map(e=>UU(e,t));const r=gO.parts.field({dom:{},...o.map(e=>({data:e})).getOr({}),selectAttributes:{size:e.size},options:n,factory:_O,selectBehaviours:Ym([Pv.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),tz.config({}),ng("selectbox-change",[Tm(zl(),(t,o)=>{ym(t,qU,{name:e.name})})])])});const a=e.size>1?M.none():M.some(iL("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons));const c={dom:{tag:"div",classes:["tox-selectfield"]},components:J([[r],a.toArray()])};return gO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:J([s.toArray(),[c]]),fieldBehaviours:Ym([Pv.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{gO.getField(e).each(Pv.disable)},onEnabled:e=>{gO.getField(e).each(Pv.enable)}}),SV(()=>t.checkUiComponentContext(e.context))])})};const W$=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};const o=e=>e in t?t[e]:1;let n=e.value.toFixed(o(e.unit));if(n.indexOf(".")!==-1){n=n.replace(/\.?0*$/,"")}return n+e.unit};const G$=e=>{const t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/;const o=t.exec(e);if(o!==null){const e=parseFloat(o[1]);const t=o[2];return Fe.value({value:e,unit:t})}else{return Fe.error(e)}};const K$=(e,t)=>{const o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};const n=e=>Ce(o,e);if(e.unit===t){return M.some(e.value)}else if(n(e.unit)&&n(t)){if(o[e.unit]===o[t]){return M.some(e.value)}else{return M.some(e.value/o[e.unit]*o[t])}}else{return M.none()}};const Y$=e=>M.none();const X$=(e,t)=>o=>K$(o,t).map(o=>({value:o*e,unit:t}));const J$=(e,t)=>{const o=G$(e).toOptional();const n=G$(t).toOptional();return dt(o,n,(e,t)=>K$(e,t.unit).map(e=>t.value/e).map(e=>X$(e,t.unit)).getOr(Y$)).getOr(Y$)};const Q$=(e,t)=>{let o=Y$;const n=et("ratio-event");const s=e=>iL(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons);const r=()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable;const a=SV(()=>t.checkUiComponentContext(e.context));const c=e.label.getOr("Constrain proportions");const i=t.translate(c);const l=kO.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":i,"data-mce-name":c}},components:[s("lock"),s("unlock")],buttonBehaviours:Ym([Pv.config({disabled:r}),a,tz.config({}),Lz.config(t.tooltips.getConfig({tooltipText:i}))])});const d=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e});const u=t=>gO.parts.field({factory:DO,inputClasses:["tox-textfield"],inputBehaviours:Ym([Pv.config({disabled:r}),a,tz.config({}),ng("size-input-events",[Tm(wl(),(e,o)=>{ym(e,n,{isField1:t})}),Tm(zl(),(t,o)=>{ym(t,qU,{name:e.name})})])]),selectOnFocus:false});const f=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Kb(t.translate(e))]});const m=kO.parts.field1(d([gO.parts.label(f("Width")),u(true)]));const g=kO.parts.field2(d([gO.parts.label(f("Height")),u(false)]));return kO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[m,g,d([f(Ft),l])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,n)=>{G$(G_.getValue(e)).each(e=>{o(e).each(e=>{G_.setValue(t,W$(e))})})},coupledFieldBehaviours:Ym([Pv.config({disabled:r,onDisabled:e=>{kO.getField1(e).bind(gO.getField).each(Pv.disable);kO.getField2(e).bind(gO.getField).each(Pv.disable);kO.getLock(e).each(Pv.disable)},onEnabled:e=>{kO.getField1(e).bind(gO.getField).each(Pv.enable);kO.getField2(e).bind(gO.getField).each(Pv.enable);kO.getLock(e).each(Pv.enable)}}),SV(()=>t.checkUiComponentContext("mode:design")),ng("size-input-events2",[Tm(n,(e,t)=>{const n=t.event.isField1;const s=n?kO.getField1(e):kO.getField2(e);const r=n?kO.getField2(e):kO.getField1(e);const a=s.map(G_.getValue).getOr("");const c=r.map(G_.getValue).getOr("");o=J$(a,c)})])])})};const eW=(e,t,o)=>{const n=uM.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Kb(t.translate(e.label))]});const s=uM.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}});const r=uM.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return uM.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:x(o.getOrThunk(()=>(Math.abs(e.max)-Math.abs(e.min))/2))},components:[n,s,r],sliderBehaviours:Ym([dq.self(),mg.config({})]),onChoose:(t,o,n)=>{ym(t,qU,{name:e.name,value:n})},onChange:(t,o,n)=>{ym(t,qU,{name:e.name,value:n})}})};const tW=(e,t)=>{const o=e=>({dom:{tag:"th",innerHtml:t.translate(e)}});const n=e=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:j(e,o)}]});const s=e=>({dom:{tag:"td",innerHtml:t.translate(e)}});const r=e=>({dom:{tag:"tr"},components:j(e,s)});const a=e=>({dom:{tag:"tbody"},components:j(e,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[n(e.header),a(e.cells)],behaviours:Ym([tz.config({}),mg.config({})])}};const oW=(e,t)=>{const o=e.label.map(e=>UU(e,t));const n=[Pv.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable}),SV(()=>t.checkUiComponentContext(e.context)),ay.config({mode:"execution",useEnter:e.multiline!==true,useControlEnter:e.multiline===true,execute:e=>{hm(e,YU);return M.some(true)}}),ng("textfield-change",[Tm(Sl(),(t,o)=>{ym(t,qU,{name:e.name})}),Tm(Ll(),(t,o)=>{ym(t,qU,{name:e.name})})]),tz.config({})];const s=e.validation.map(e=>K_.config({getRoot:e=>Sn(e.element),invalidClass:"tox-invalid",validator:{validate:t=>{const o=G_.getValue(t);const n=e.validator(o);return Le.pure(n===true?Fe.value(o):Fe.error(n))},validateOnLoad:e.validateOnLoad}})).toArray();const r=e.placeholder.fold(x({}),e=>({placeholder:t.translate(e)}));const a=e.inputMode.fold(x({}),e=>({inputmode:e}));const c={...r,...a,"data-mce-name":e.name};const i=gO.parts.field({tag:e.multiline===true?"textarea":"input",...e.data.map(e=>({data:e})).getOr({}),inputAttributes:c,inputClasses:[e.classname],inputBehaviours:Ym(J([n,s])),selectOnFocus:false,factory:DO});const l=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[i]}:i;const d=e.flex?["tox-form__group--stretched"]:[];const u=d.concat(e.maximized?["tox-form-group--maximize"]:[]);const f=[Pv.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{gO.getField(e).each(Pv.disable)},onEnabled:e=>{gO.getField(e).each(Pv.enable)}}),SV(()=>t.checkUiComponentContext(e.context))];return PU(o,l,u,f)};const nW=(e,t,o)=>oW({name:e.name,multiline:false,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:false,disabled:!e.enabled,classname:"tox-textfield",validation:M.none(),maximized:e.maximized,data:o,context:e.context},t);const sW=(e,t,o)=>oW({name:e.name,multiline:true,label:e.label,inputMode:M.none(),placeholder:e.placeholder,flex:true,disabled:!e.enabled,classname:"tox-textarea",validation:M.none(),maximized:e.maximized,data:o,context:e.context},t);const rW=e=>({isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t),setActive:t=>{const o=e.element;if(t){Zr(o,"tox-tbtn--enabled");gs(o,"aria-pressed",true)}else{qr(o,"tox-tbtn--enabled");vs(o,"aria-pressed")}},isActive:()=>Wr(e.element,"tox-tbtn--enabled"),setTooltip:t=>{ym(e,T$,{text:t})},setText:t=>{ym(e,S$,{text:t})},setIcon:t=>ym(e,z$,{icon:t})});const aW=(e,t,o,n,s=true,r)=>{const a=e.buttonType==="bordered"?["bordered"]:[];return E$({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(t,n)=>{const s={pattern:e.search.isSome()?TU(t):""};e.fetch(t=>{n(P$(t,yL.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:false,search:e.search}))},s,rW(t))},onSetup:e.onSetup,getApi:e=>rW(e),columns:1,presets:"normal",classes:a,dropdownBehaviours:[...s?[tz.config({})]:[]],context:e.context},t,o.shared,r)};const cW=(e,t,o)=>{const n=e=>n=>{const s=!n.isActive();n.setActive(s);e.storage.set(s);o.shared.getSink().each(o=>{t().getOpt(o).each(t=>{os(t.element);ym(t,KU,{name:e.name,value:e.storage.get()})})})};const s=e=>t=>{t.setActive(e.storage.get())};return t=>{t(j(e,e=>{const t=e.text.fold(()=>({}),e=>({text:e}));return{type:e.type,active:false,...t,context:e.context,onAction:n(e),onSetup:s(e)}}))}};const iW=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[Kb(e)]});const lW=(e,t,o)=>{e.customStateIcon.each(n=>t.push(fW(n,o.shared.providers.icons,e.customStateIconTooltip.fold(()=>[],e=>[Lz.config(o.shared.providers.tooltips.getConfig({tooltipText:e}))]),["tox-icon-custom-state"])))};const dW=et("leaf-label-event-id");const uW=({leaf:e,onLeafAction:t,visible:o,treeId:n,selectedId:s,backstage:r})=>{const a=e.menu.map(e=>aW(e,"tox-mbtn",r,M.none(),o));const c=[iW(e.title)];lW(e,c,r);a.each(e=>c.push(e));return hT.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(o?["tox-tree--leaf__label--visible"]:[])},components:c,role:"treeitem",action:o=>{t(e.id);o.getSystem().broadcastOn([`update-active-item-${n}`],{value:e.id})},eventOrder:{[xl()]:[dW,"keying"]},buttonBehaviours:Ym([...o?[tz.config({})]:[],vz.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:false,aria:{mode:"selected"}}),FC.config({channels:{[`update-active-item-${n}`]:{onReceive:(t,o)=>{(o.value===e.id?vz.on:vz.off)(t)}}}}),ng(dW,[Hm((t,o)=>{s.each(o=>{const n=o===e.id?vz.on:vz.off;n(t)})}),Tm(xl(),(e,t)=>{const o=t.event.raw.code==="ArrowLeft";const n=t.event.raw.code==="ArrowRight";if(o){Dr(e.element,".tox-tree--directory").each(t=>{e.getSystem().getByDom(t).each(e=>{Nr(t,".tox-tree--directory__label").each(t=>{e.getSystem().getByDom(t).each(mg.focus)})})});t.stop()}else if(n){t.stop()}})])])})};const fW=(e,t,o,n,s)=>iL(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(n||[]),behaviours:o,attributes:s},t);const mW=(e,t)=>fW(e,t,[]);const gW=et("directory-label-event-id");const pW=({directory:e,visible:t,noChildren:o,backstage:n})=>{const s=e.menu.map(e=>aW(e,"tox-mbtn",n,M.none()));const r=[{dom:{tag:"div",classes:["tox-chevron"]},components:[mW("chevron-right",n.shared.providers.icons)]},iW(e.title)];lW(e,r,n);s.each(e=>{r.push(e)});const a=t=>{Dr(t.element,".tox-tree--directory").each(o=>{t.getSystem().getByDom(o).each(o=>{const n=!vz.isOn(o);vz.toggle(o);ym(t,"expand-tree-node",{expanded:n,node:e.id})})})};return hT.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:r,action:a,eventOrder:{[xl()]:[gW,"keying"]},buttonBehaviours:Ym([...t?[tz.config({})]:[],ng(gW,[Tm(xl(),(e,t)=>{const n=t.event.raw.code==="ArrowRight";const s=t.event.raw.code==="ArrowLeft";if(n&&o){t.stop()}if(n||s){Dr(e.element,".tox-tree--directory").each(o=>{e.getSystem().getByDom(o).each(o=>{if(!vz.isOn(o)&&n||vz.isOn(o)&&s){a(e);t.stop()}else if(s&&!vz.isOn(o)){Dr(o.element,".tox-tree--directory").each(e=>{Nr(e,".tox-tree--directory__label").each(e=>{o.getSystem().getByDom(e).each(mg.focus)})});t.stop()}})})}})])])})};const hW=({children:e,onLeafAction:t,visible:o,treeId:n,expandedIds:s,selectedId:r,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(e=>e.type==="leaf"?uW({leaf:e,selectedId:r,onLeafAction:t,visible:o,treeId:n,backstage:a}):bW({directory:e,expandedIds:s,selectedId:r,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:a})),behaviours:Ym([ZS.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:o}),Yy.config({})])});const yW=et("directory-event-id");const bW=({directory:e,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:s,expandedIds:r,selectedId:a})=>{const{children:c}=e;const i=Ee(r);const l=e=>c.map(o=>o.type==="leaf"?uW({leaf:o,selectedId:a,onLeafAction:t,visible:e,treeId:n,backstage:s}):bW({directory:o,expandedIds:i.get(),selectedId:a,onLeafAction:t,labelTabstopping:e,treeId:n,backstage:s}));const d=r.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[pW({directory:e,visible:o,noChildren:e.children.length===0,backstage:s}),hW({children:c,expandedIds:r,selectedId:a,onLeafAction:t,visible:d,treeId:n,backstage:s})],behaviours:Ym([ng(yW,[Hm((e,t)=>{vz.set(e,d)}),Tm("expand-tree-node",(e,t)=>{const{expanded:o,node:n}=t.event;i.set(o?[...i.get(),n]:i.get().filter(e=>e!==n))})]),vz.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,t)=>{const o=e.components()[1];const n=l(t);if(t){ZS.grow(o)}else{ZS.shrink(o)}Yy.set(o,n)}})])}};const vW=et("tree-event-id");const kW=(e,t)=>{const o=e.onLeafAction.getOr(v);const n=e.onToggleExpand.getOr(v);const s=e.defaultExpandedIds;const r=Ee(s);const a=Ee(e.defaultSelectedId);const c=et("tree-id");const i=(n,s)=>e.items.map(e=>e.type==="leaf"?uW({leaf:e,selectedId:n,onLeafAction:o,visible:true,treeId:c,backstage:t}):bW({directory:e,selectedId:n,onLeafAction:o,expandedIds:s,labelTabstopping:true,treeId:c,backstage:t}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:i(a.get(),r.get()),behaviours:Ym([ay.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:false}),ng(vW,[Tm("expand-tree-node",(e,t)=>{const{expanded:o,node:s}=t.event;r.set(o?[...r.get(),s]:r.get().filter(e=>e!==s));n(r.get(),{expanded:o,node:s})})]),FC.config({channels:{[`update-active-item-${c}`]:{onReceive:(e,t)=>{a.set(M.some(t.value));Yy.set(e,i(M.some(t.value),r.get()))}}}}),Yy.config({})])}};const wW=(e,t,o=[],n,s,r,a)=>{const c=t.fold(()=>({}),e=>({action:e}));const i={buttonBehaviours:Ym([fV.item(()=>!e.enabled||a.checkUiComponentContext(e.context).shouldDisable),SV(()=>a.checkUiComponentContext(e.context)),tz.config({}),...r.map(e=>Lz.config(a.tooltips.getConfig({tooltipText:a.translate(e)}))).toArray(),ng("button press",[zm("click")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...c};const l=st(i,{dom:n});return st(l,{components:s})};const _W=(e,t,o,n=[],s)=>{const r=e.tooltip.map(e=>({"aria-label":o.translate(e)})).getOr({});const a={tag:"button",classes:["tox-tbtn"],attributes:{...r,"data-mce-name":s}};const c=e.icon.map(e=>_$(e,o.icons));const i=EV([c]);return wW(e,t,n,a,i,e.tooltip,o)};const xW=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}};const CW=(e,t,o,n=[],s=[])=>{const r=o.translate(e.text);const a=e.icon.map(e=>_$(e,o.icons));const c=[a.getOrThunk(()=>Kb(r))];const i=e.buttonType.getOr(!e.primary&&!e.borderless?"secondary":"primary");const l=xW(i);const d=[...l,...a.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...s];const u={tag:"button",classes:d,attributes:{"aria-label":r,"data-mce-name":e.text}};const f=e.icon.map(x(r));return wW(e,t,n,u,c,f,o)};const SW=(e,t,o,n=[],s=[])=>{const r=CW(e,M.some(t),o,n,s);return hT.sketch(r)};const zW=(e,t)=>o=>{if(t==="custom"){ym(o,KU,{name:e,value:{}})}else if(t==="submit"){hm(o,YU)}else if(t==="cancel"){hm(o,GU)}else{console.error("Unknown button type: ",t)}};const TW=(e,t)=>t==="menu";const EW=(e,t)=>t==="custom"||t==="cancel"||t==="submit";const OW=(e,t)=>t==="togglebutton";const AW=(e,t,o)=>{var n,s;const r=e.icon.map(e=>x$(e,t.icons)).map(Uz);const a=o=>{ym(o,KU,{name:e.name,value:{setIcon:e=>{r.map(n=>n.getOpt(o).each(o=>{Yy.set(o,[x$(e,t.icons)])}))}}})};const c=e.buttonType.getOr(!e.primary?"secondary":"primary");const i={...e,name:(n=e.name)!==null&&n!==void 0?n:"",primary:c==="primary",tooltip:e.tooltip,enabled:(s=e.enabled)!==null&&s!==void 0?s:false,borderless:false};const l=i.tooltip.or(e.text).map(e=>({"aria-label":t.translate(e)})).getOr({});const d=xW(c!==null&&c!==void 0?c:"secondary");const u=e.icon.isSome()&&e.text.isSome();const f={tag:"button",classes:[...d.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...u?["tox-button--icon-and-text"]:[]],attributes:{...l,...p(o)?{"data-mce-name":o}:{}}};const m=[];const g=t.translate(e.text.getOr(""));const h=Kb(g);const y=EV([r.map(e=>e.asSpec())]);const b=[...y,...e.text.isSome()?[h]:[]];const v=wW(i,M.some(a),m,f,b,e.tooltip,t);return hT.sketch(v)};const DW=(e,t,o)=>{if(TW(e,t)){const t=()=>r;const n=e;const s={...e,buttonType:"default",type:"menubutton",search:M.none(),onSetup:t=>{t.setEnabled(e.enabled);return v},fetch:cW(n.items,t,o)};const r=Uz(aW(s,"tox-tbtn",o,M.none(),true,e.text.or(e.tooltip).getOrUndefined()));return r.asSpec()}else if(EW(e,t)){const n=zW(e.name,t);const s={...e,context:t==="cancel"?"any":e.context,borderless:false};return SW(s,n,o.shared.providers,[])}else if(OW(e,t)){return AW(e,o.shared.providers,e.text.or(e.tooltip).getOrUndefined())}else{console.error("Unknown footer button type: ",t);throw new Error("Unknown footer button type")}};const MW=(e,t)=>{const o=zW(e.name,"custom");return FU(M.none(),gO.parts.field({factory:hT,...CW(e,M.some(o),t,[hq(""),dq.self()])}))};const NW={type:"separator"};const RW=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:v});const BW=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:undefined},onAction:v});const LW=e=>j(e,RW);const HW=(e,t)=>$(t,t=>t.type===e);const IW=(e,t)=>LW(HW(e,t));const PW=e=>IW("header",e.targets);const FW=e=>IW("anchor",e.targets);const VW=e=>M.from(e.anchorTop).map(e=>BW("<top>",e)).toArray();const jW=e=>M.from(e.anchorBottom).map(e=>BW("<bottom>",e)).toArray();const ZW=e=>j(e,e=>BW(e,e));const UW=e=>G(e,(e,t)=>{const o=e.length===0||t.length===0;return o?e.concat(t):e.concat(NW,t)},[]);const qW=(e,t)=>{const o=e.toLowerCase();return $(t,e=>{var t;const n=e.meta!==undefined&&e.meta.text!==undefined?e.meta.text:e.text;const s=(t=e.value)!==null&&t!==void 0?t:"";return Tt(n.toLowerCase(),o)||Tt(s.toLowerCase(),o)})};const $W=(e,t,o)=>{var n,s;const r=G_.getValue(t);const a=(s=(n=r===null||r===void 0?void 0:r.meta)===null||n===void 0?void 0:n.text)!==null&&s!==void 0?s:r.value;const c=o.getLinkInformation();return c.fold(()=>[],t=>{const n=qW(a,ZW(o.getHistory(e)));return e==="file"?UW([n,qW(a,PW(t)),qW(a,J([VW(t),FW(t),jW(t)]))]):n})};const WW=et("aria-invalid");const GW=(e,t,o,n)=>{const s=t.shared.providers;const r=t=>{const n=G_.getValue(t);o.addToHistory(n.value,e.filetype)};const a={...n.map(e=>({initialData:e})).getOr({}),dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":WW,type:"url"},minChars:0,responseTime:0,fetch:n=>{const s=$W(e.filetype,n,o);const r=P$(s,yL.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:false,search:M.none()});return Le.pure(r)},getHotspot:e=>g.getOpt(e),onSetValue:(e,t)=>{if(e.hasConfigured(K_)){K_.run(e).get(v)}},typeaheadBehaviours:Ym([...o.getValidationHandler().map(t=>K_.config({getRoot:e=>Sn(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{d.getOpt(e).each(e=>{gs(e.element,"title",s.translate(t))})}},validator:{validate:o=>{const n=G_.getValue(o);return Ge.nu(o=>{t({type:e.filetype,url:n.value},e=>{if(e.status==="invalid"){const t=Fe.error(e.message);o(t)}else{const t=Fe.value(e.message);o(t)}})})},validateOnLoad:false}})).toArray(),Pv.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable}),tz.config({}),ng("urlinput-events",[Tm(Sl(),t=>{const o=ta(t.element);const n=o.trim();if(n!==o){oa(t.element,n)}if(e.filetype==="file"){ym(t,qU,{name:e.name})}}),Tm(zl(),t=>{ym(t,qU,{name:e.name});r(t)}),Tm(Ll(),t=>{ym(t,qU,{name:e.name});r(t)})])]),eventOrder:{[Sl()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:$L(false,1,"normal")},onExecute:(e,t,o)=>{ym(t,YU,{})},onItemExecute:(t,o,n,s)=>{r(t);ym(t,qU,{name:e.name})}};const c=gO.parts.field({...a,factory:SN});const i=e.label.map(e=>UU(e,s));const l=(e,t,o=e,n=e)=>iL(o,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:s.translate(n),"aria-live":"polite",...t.fold(()=>({}),e=>({id:e}))}},s.icons);const d=Uz(l("invalid",M.some(WW),"warning"));const u=Uz({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[d.asSpec()]});const f=o.getUrlPicker(e.filetype);const m=et("browser.url.event");const g=Uz({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,u.asSpec()],behaviours:Ym([Pv.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable})])});const p=Uz(SW({context:e.context,name:e.name,icon:M.some("browse"),text:e.picker_text.or(e.label).getOr(""),enabled:e.enabled,primary:false,buttonType:M.none(),borderless:true},e=>hm(e,m),s,[],["tox-browse-url"]));const h=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:J([[g.asSpec()],f.map(()=>p.asSpec()).toArray()])});const y=t=>{mv.getCurrent(t).each(o=>{const n=G_.getValue(o);const s={fieldname:e.name,...n};f.each(n=>{n(s).get(n=>{G_.setValue(o,n);ym(t,qU,{name:e.name})})})})};return gO.sketch({dom:jU(),components:i.toArray().concat([h()]),fieldBehaviours:Ym([Pv.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{gO.getField(e).each(Pv.disable);p.getOpt(e).each(Pv.disable)},onEnabled:e=>{gO.getField(e).each(Pv.enable);p.getOpt(e).each(Pv.enable)}}),SV(()=>s.checkUiComponentContext(e.context)),ng("url-input-events",[Tm(m,y)])])})};const KW=(e,t)=>{const o=nL(e.icon,t.icons);return Cw.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:!e.url?o:undefined},components:e.url?[hT.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:o,attributes:{title:t.translate(e.iconTooltip)}},action:t=>ym(t,KU,{name:"alert-banner",value:e.url}),buttonBehaviours:Ym([aL()])})]:undefined},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})};const YW=(e,t,o)=>{const n=e=>{e.element.dom.click();return M.some(true)};const s=gO.parts.field({factory:{sketch:C},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ym([dq.self(),Pv.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:e=>{Sn(e.element).each(e=>Zr(e,"tox-checkbox--disabled"))},onEnabled:e=>{Sn(e.element).each(e=>qr(e,"tox-checkbox--disabled"))}}),tz.config({}),mg.config({}),gq(o,Hr,Lr),ay.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:true}),ng("checkbox-events",[Tm(zl(),(t,o)=>{ym(t,qU,{name:e.name})})])])});const r=gO.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Kb(t.translate(e.label))],behaviours:Ym([Fz.config({})])});const a=e=>{const o=e==="checked"?"selected":"unselected";return iL(o,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},t.icons)};const c=Uz({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return gO.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[s,c.asSpec(),r],fieldBehaviours:Ym([Pv.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),SV(()=>t.checkUiComponentContext(e.context))])})};const XW=(e,t)=>{const o=["tox-form__group",...e.stretched?["tox-form__group--stretched"]:[]];const n=ng("htmlpanel",[Hm(t=>{e.onInit(t.element.dom)})]);if(e.presets==="presentation"){return Cw.sketch({dom:{tag:"div",classes:o,innerHtml:e.html},containerBehaviours:Ym([Lz.config({...t.tooltips.getConfig({tooltipText:"",onShow:e=>{Rr(e.element,"[data-mce-tooltip]:hover").orThunk(()=>as(e.element)).each(o=>{ys(o,"data-mce-tooltip").each(o=>{Lz.setComponents(e,t.tooltips.getComponents({tooltipText:o}))})})}}),mode:"children-normal",anchor:e=>({type:"node",node:Rr(e.element,"[data-mce-tooltip]:hover").orThunk(()=>as(e.element).filter(e=>ys(e,"data-mce-tooltip").isSome())),root:e.element,layouts:{onLtr:x([_f,wf,yf,vf,bf,kf]),onRtl:x([_f,wf,yf,vf,bf,kf])},bubble:Zu(0,-2,{})})}),n])})}else{return Cw.sketch({dom:{tag:"div",classes:o,innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Ym([tz.config({}),mg.config({}),n])})}};const JW=e=>(t,o,n,s,r)=>xe(o,"name").fold(()=>e(o,s,M.none(),r),a=>t.field(a,e(o,s,xe(n,a),r)));const QW=e=>(t,o,n,s,r)=>{const a=st(o,{source:"dynamic"});return JW(e)(t,a,n,s,r)};const eG={bar:JW((e,t)=>HU(e,t.shared)),collection:JW((e,t,o)=>tq(e,t.shared.providers,o)),alertbanner:JW((e,t)=>KW(e,t.shared.providers)),input:JW((e,t,o)=>nW(e,t.shared.providers,o)),textarea:JW((e,t,o)=>sW(e,t.shared.providers,o)),label:JW((e,t,o,n)=>p$(e,t.shared,n)),iframe:QW((e,t,o)=>u$(e,t.shared.providers,o)),button:JW((e,t)=>MW(e,t.shared.providers)),checkbox:JW((e,t,o)=>YW(e,t.shared.providers,o)),colorinput:JW((e,t,o)=>aq(e,t.shared,t.colorinput,o)),colorpicker:JW((e,t,o)=>Dq(e,t.shared.providers,o)),dropzone:JW((e,t,o)=>Iq(e,t.shared.providers,o)),grid:JW((e,t)=>Pq(e,t.shared)),listbox:JW((e,t,o)=>U$(e,t,o)),selectbox:JW((e,t,o)=>$$(e,t.shared.providers,o)),sizeinput:JW((e,t)=>Q$(e,t.shared.providers)),slider:JW((e,t,o)=>eW(e,t.shared.providers,o)),urlinput:JW((e,t,o)=>GW(e,t,t.urlinput,o)),customeditor:JW(Rq),htmlpanel:JW((e,t)=>XW(e,t.shared.providers)),imagepreview:JW((e,t,o)=>g$(e,o)),table:JW((e,t)=>tW(e,t.shared.providers)),tree:JW((e,t)=>kW(e,t)),panel:JW((e,t)=>q$(e,t))};const tG={field:(e,t)=>t,record:x([])};const oG=(e,t,o,n,s)=>{const r=st(n,{shared:{interpreter:t=>nG(e,t,o,r,s)}});return nG(e,t,o,r,s)};const nG=(e,t,o,n,s)=>xe(eG,t.type).fold(()=>{console.error(`Unknown factory type "${t.type}", defaulting to container: `,t);return t},r=>r(e,t,o,n,s));const sG=(e,t,o,n)=>nG(tG,e,t,o,n);const rG={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]};const aG=(e,t,o)=>{const n=12;const s={maxHeightFunction:om()};const r=()=>({type:"node",root:In(Hn(e())),node:M.from(e()),bubble:Zu(n,n,rG),layouts:{onRtl:()=>[qf],onLtr:()=>[Uf]},overrides:s});const a=()=>({type:"hotspot",hotspot:t(),bubble:Zu(-n,n,rG),layouts:{onRtl:()=>[yf,bf,_f],onLtr:()=>[bf,yf,_f]},overrides:s});return()=>o()?r():a()};const cG=(e,t,o,n)=>{const s=12;const r={maxHeightFunction:om()};const a=()=>({type:"node",root:In(Hn(t())),node:M.from(t()),bubble:Zu(s,s,rG),layouts:{onRtl:()=>[$f],onLtr:()=>[$f]},overrides:r});const c=()=>e?{type:"node",root:In(Hn(t())),node:M.from(t()),bubble:Zu(0,-Xs(t()),rG),layouts:{onRtl:()=>[wf],onLtr:()=>[wf]},overrides:r}:{type:"hotspot",hotspot:o(),bubble:Zu(0,0,rG),layouts:{onRtl:()=>[wf],onLtr:()=>[wf]},overrides:r};return()=>n()?a():c()};const iG=(e,t,o)=>{const n=()=>({type:"node",root:In(Hn(e())),node:M.from(e()),layouts:{onRtl:()=>[$f],onLtr:()=>[$f]}});const s=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[_f],onLtr:()=>[_f]}});return()=>o()?n():s()};const lG=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const t=e.selection.getRng();const o=e.model.table.getSelectedCells();if(o.length>1){const e=o[0];const t=o[o.length-1];const n={firstCell:$t.fromDom(e),lastCell:$t.fromDom(t)};return M.some(n)}return M.some(Ta.range($t.fromDom(t.startContainer),t.startOffset,$t.fromDom(t.endContainer),t.endOffset))}});const dG=e=>t=>({type:"node",root:e(),node:t});const uG=(e,t,o,n)=>{const s=MR(e);const r=()=>$t.fromDom(e.getBody());const a=()=>$t.fromDom(e.getContentAreaContainer());const c=()=>s||!n();return{inlineDialog:aG(a,t,c),inlineBottomDialog:cG(e.inline,a,o,c),banner:iG(a,t,c),cursor:lG(e,r),node:dG(r)}};const fG=e=>(t,o)=>{const n=VZ(e);n(t,o)};const mG=e=>()=>wZ(e);const gG=e=>t=>yZ(e,t);const pG=e=>t=>kZ(e,t);const hG=e=>({colorPicker:fG(e),hasCustomColors:mG(e),getColors:gG(e),getColorCols:pG(e)});const yG=e=>()=>uR(e);const bG=e=>({isDraggableModal:yG(e)});const vG=e=>{const t=Ee(AR(e)?"bottom":"top");return{isPositionedAtTop:()=>t.get()==="top",getDockingMode:t.get,setDockingMode:t.set}};const kG=e=>Se(e,"items");const wG=e=>Se(e,"format");const _G=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}];const xG=e=>Ce(e,"items");const CG=e=>Ce(e,"block");const SG=e=>Ce(e,"inline");const zG=e=>Ce(e,"selector");const TG=e=>G(e,(e,t)=>{if(xG(t)){const o=TG(t.items);return{customFormats:e.customFormats.concat(o.customFormats),formats:e.formats.concat([{title:t.title,items:o.formats}])}}else if(SG(t)||CG(t)||zG(t)){const o=c(t.name)?t.name:t.title.toLowerCase();const n=`custom-${o}`;return{customFormats:e.customFormats.concat([{name:n,format:t}]),formats:e.formats.concat([{title:t.title,format:n,icon:t.icon}])}}else{return{...e,formats:e.formats.concat(t)}}},{customFormats:[],formats:[]});const EG=(e,t)=>{const o=TG(t);const n=t=>{Z(t,t=>{if(!e.formatter.has(t.name)){e.formatter.register(t.name,t.format)}})};if(e.formatter){n(o.customFormats)}else{e.on("init",()=>{n(o.customFormats)})}return o.formats};const OG=e=>UN(e).map(t=>{const o=EG(e,t);return qN(e)?_G.concat(o):o}).getOr(_G);const AG=e=>{const t=ue(e);return t.length===1&&I(t,"title")};const DG=(e,t,o)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:o(e.format)});const MG=(e,t,o,n)=>{const s=e=>DG(e,o,n);const r=e=>{const t=i(e.items);return{...e,type:"submenu",getStyleItems:x(t)}};const a=t=>{const s=c(t.name)?t.name:et(t.title);const r=`custom-${s}`;const a={...t,type:"formatter",format:r,isSelected:o(r),getStylePreview:n(r)};e.formatter.register(s,a);return a};const i=e=>j(e,e=>{if(kG(e)){return r(e)}else if(wG(e)){return s(e)}else if(AG(e)){return{...e,type:"separator"}}else{return a(e)}});return i(t)};const NG=e=>{const t=t=>()=>e.formatter.match(t);const o=t=>()=>{const o=e.formatter.get(t);return o!==undefined?M.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):M.none()};const n=Ee([]);const s=Ee([]);const r=Ee(false);e.on("PreInit",s=>{const r=OG(e);const a=MG(e,r,t,o);n.set(a)});e.on("addStyleModifications",n=>{const a=MG(e,n.items,t,o);s.set(a);r.set(n.replace)});const a=()=>{const e=r.get()?[]:n.get();const t=s.get();return e.concat(t)};return{getData:a}};const RG=e=>{const t=300;const o=t*.2;let n=0;const s=()=>n>0;const r=e=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Kb(e.tooltipText)]}];const a=a=>({delayForShow:()=>s()?o:t,delayForHide:x(t),exclusive:true,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:r(a),onShow:(e,t)=>{n++;if(a.onShow){a.onShow(e,t)}},onHide:(e,t)=>{n--;if(a.onHide){a.onHide(e,t)}},onSetup:a.onSetup});return{getConfig:a,getComponents:r}};const BG=e=>p(e)&&e.nodeType===1;const LG=Bq.trim;const HG=e=>t=>{if(BG(t)){if(t.contentEditable===e){return true}if(t.getAttribute("data-mce-contenteditable")===e){return true}}return false};const IG=HG("true");const PG=HG("false");const FG=(e,t,o,n,s)=>({type:e,title:t,url:o,level:n,attach:s});const VG=e=>{let t=e;while(t=t.parentNode){const e=t.contentEditable;if(e&&e!=="inherit"){return IG(t)}}return false};const jG=(e,t)=>j(sa($t.fromDom(t),e),e=>e.dom);const ZG=e=>e.innerText||e.textContent;const UG=e=>e.id?e.id:et("h");const qG=e=>e&&e.nodeName==="A"&&(e.id||e.name)!==undefined;const $G=e=>qG(e)&&GG(e);const WG=e=>e&&/^(H[1-6])$/.test(e.nodeName);const GG=e=>VG(e)&&!PG(e);const KG=e=>WG(e)&&GG(e);const YG=e=>WG(e)?parseInt(e.nodeName.substr(1),10):0;const XG=e=>{var t;const o=UG(e);const n=()=>{e.id=o};return FG("header",(t=ZG(e))!==null&&t!==void 0?t:"","#"+o,YG(e),n)};const JG=e=>{const t=e.id||e.name;const o=ZG(e);return FG("anchor",o?o:"#"+t,"#"+t,0,v)};const QG=e=>j($(e,KG),XG);const eK=e=>j($(e,$G),JG);const tK=e=>{const t=jG("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t};const oK=e=>LG(e.title).length>0;const nK=e=>{const t=tK(e);return $(QG(t).concat(eK(t)),oK)};const sK={find:nK};const rK="tinymce-url-history";const aK=5;const cK=e=>c(e)&&/^https?/.test(e);const iK=e=>d(e)&&e.length<=aK&&ee(e,cK);const lK=e=>i(e)&&we(e,e=>!iK(e)).isNone();const dK=()=>{const e=nZ.getItem(rK);if(e===null){return{}}let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError){console.log("Local storage "+rK+" was not valid JSON",e);return{}}throw e}if(!lK(t)){console.log("Local storage "+rK+" was not valid format",t);return{}}return t};const uK=e=>{if(!lK(e)){throw new Error("Bad format for history:\n"+JSON.stringify(e))}nZ.setItem(rK,JSON.stringify(e))};const fK=e=>{const t=dK();return xe(t,e).getOr([])};const mK=(e,t)=>{if(!cK(e)){return}const o=dK();const n=xe(o,t).getOr([]);const s=$(n,t=>t!==e);o[t]=[e].concat(s).slice(0,aK);uK(o)};const gK=e=>!!e;const pK=e=>ge(Bq.makeMap(e,/[, ]/),gK);const hK=e=>M.from(sR(e));const yK=e=>{const t=M.from(cR(e)).filter(gK).map(pK);return hK(e).fold(A,e=>t.fold(D,e=>ue(e).length>0?e:false))};const bK=(e,t)=>{const o=yK(e);if(f(o)){return o?hK(e):M.none()}else{return o[t]?hK(e):M.none()}};const vK=(e,t)=>bK(e,t).map(o=>n=>Le.nu(s=>{const r=(e,t)=>{if(!c(e)){throw new Error("Expected value to be string")}if(t!==undefined&&!i(t)){throw new Error("Expected meta to be a object")}const o={value:e,meta:t};s(o)};const a={filetype:t,fieldname:n.fieldname,...M.from(n.meta).getOr({})};o.call(e,r,n.value,a)}));const kK=e=>M.from(e).filter(c).getOrUndefined();const wK=e=>{if(!iR(e)){return M.none()}return M.some({targets:sK.find(e.getBody()),anchorTop:kK(lR(e)),anchorBottom:kK(dR(e))})};const _K=e=>M.from(rR(e));const xK=e=>({getHistory:fK,addToHistory:mK,getLinkInformation:()=>wK(e),getValidationHandler:()=>_K(e),getUrlPicker:t=>vK(e,t)});const CK=(e,t,o,n)=>{const s=Ee(false);const r=vG(t);const a={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:XB.translate,isDisabled:()=>!t.ui.isEnabled(),getOption:t.options.get,tooltips:RG(e.dialog),checkUiComponentContext:e=>{if(HN(t)){return{contextType:"disabled",shouldDisable:true}}const[o,n=""]=e.split(":");const s=t.ui.registry.getAll().contexts;const r=xe(s,o).fold(()=>xe(s,"mode").map(e=>e("design")).getOr(false),e=>n.charAt(0)==="!"?!e(n.slice(1)):e(n));return{contextType:o,shouldDisable:!r}}};const c=xK(t);const i=NG(t);const l=hG(t);const d=bG(t);const u=()=>s.get();const f=e=>s.set(e);const m={shared:{providers:a,anchors:uG(t,o,n,r.isPositionedAtTop),header:r},urlinput:c,styles:i,colorinput:l,dialog:d,isContextMenuOpen:u,setContextMenuState:f};const g=e=>M.none();const p={...m,shared:{...m.shared,interpreter:e=>sG(e,{},p,g),getSink:e.popup}};const h={...m,shared:{...m.shared,interpreter:e=>sG(e,{},h,g),getSink:e.dialog}};return{popup:p,dialog:h}};const SK=(e,t,o)=>{const n=(e,n)=>{Z([t,...o],t=>{t.broadcastEvent(e,n)})};const s=(e,n)=>{Z([t,...o],t=>{t.broadcastOn([e],n)})};const r=e=>s(Wz(),{target:e.target});const a=ts();const c=Jn(a,"touchstart",r);const i=Jn(a,"touchmove",e=>n(ql(),e));const l=Jn(a,"touchend",e=>n($l(),e));const d=Jn(a,"mousedown",r);const u=Jn(a,"mouseup",e=>{if(e.raw.button===0){s(Kz(),{target:e.target})}});const f=e=>s(Wz(),{target:$t.fromDom(e.target)});const m=e=>{if(e.button===0){s(Kz(),{target:$t.fromDom(e.target)})}};const g=()=>{Z(e.editorManager.get(),t=>{if(e!==t){t.dispatch("DismissPopups",{relatedTarget:e})}})};const p=e=>n(Wl(),es(e));const h=e=>{s(Gz(),{});n(Gl(),es(e))};const y=Hn($t.fromDom(e.getElement()));const b=Qn(y,"scroll",o=>{requestAnimationFrame(()=>{const s=e.getContainer();if(s!==undefined&&s!==null){const s=UR(e,t.element);const r=s.map(e=>[e.element,...e.others]).getOr([]);if(P(r,e=>po(e,o.target))){e.dispatch("ElementScroll",{target:o.target.dom});n(td(),o)}}})});const v=()=>s(Gz(),{});const k=t=>{if(t.state){s(Wz(),{target:$t.fromDom(e.getContainer())})}};const w=e=>{s(Wz(),{target:$t.fromDom(e.relatedTarget.getContainer())})};const _=t=>e.dispatch("focusin",t);const x=t=>e.dispatch("focusout",t);e.on("PostRender",()=>{e.on("click",f);e.on("tap",f);e.on("mouseup",m);e.on("mousedown",g);e.on("ScrollWindow",p);e.on("ResizeWindow",h);e.on("ResizeEditor",v);e.on("AfterProgressState",k);e.on("DismissPopups",w);Z([t,...o],e=>{e.element.dom.addEventListener("focusin",_);e.element.dom.addEventListener("focusout",x)})});e.on("remove",()=>{e.off("click",f);e.off("tap",f);e.off("mouseup",m);e.off("mousedown",g);e.off("ScrollWindow",p);e.off("ResizeWindow",h);e.off("ResizeEditor",v);e.off("AfterProgressState",k);e.off("DismissPopups",w);Z([t,...o],e=>{e.element.dom.removeEventListener("focusin",_);e.element.dom.removeEventListener("focusout",x)});d.unbind();c.unbind();i.unbind();l.unbind();u.unbind();b.unbind()});e.on("detach",()=>{Z([t,...o],Oy);Z([t,...o],e=>e.destroy())})};const zK=v;const TK=A;const EK=x([]);var OK=Object.freeze({__proto__:null,setup:zK,isDocked:TK,getBehaviours:EK});const AK=x(et("toolbar-height-change"));const DK={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"};const MK="tox-tinymce--toolbar-sticky-on";const NK="tox-tinymce--toolbar-sticky-off";const RK=(e,t)=>{const o=vn(t);const n=_n(t);const s=n.dom.innerHeight;const r=gr(o);const a=$t.fromDom(e.elm);const c=Ja(a);const i=Ys(a);const l=c.y;const d=l+i;const u=fr(t);const f=Ys(t);const m=u.top;const g=m+f;const p=Math.abs(m-r.top)<2;const h=Math.abs(g-(r.top+s))<2;if(p&&l<g){pr(r.left,l-f,o)}else if(h&&d>m){const e=l-s+i+f;pr(r.left,e,o)}};const BK=(e,t)=>I(Nk.getModes(e),t);const LK=e=>{const t=e=>Xs(e)+(parseInt(Vs(e,"margin-top"),10)||0)+(parseInt(Vs(e,"margin-bottom"),10)||0);const o=e.element;Sn(o).each(n=>{const s="padding-"+Nk.getModes(e)[0];if(Nk.isDocked(e)){const e=sr(n);Is(o,"width",e+"px");Is(n,s,t(o)+"px")}else{$s(o,"width");$s(n,s)}})};const HK=(e,t)=>{if(t){qr(e,DK.fadeOutClass);Gr(e,[DK.transitionClass,DK.fadeInClass])}else{qr(e,DK.fadeInClass);Gr(e,[DK.fadeOutClass,DK.transitionClass])}};const IK=(e,t)=>{const o=$t.fromDom(e.getContainer());if(t){Zr(o,MK);qr(o,NK)}else{Zr(o,NK);qr(o,MK)}};const PK=(e,t)=>{const o=vn(t);rs(o).filter(e=>!po(t,e)).filter(t=>po(t,$t.fromDom(o.dom.body))||ho(e,t)).each(()=>os(t))};const FK=(e,t)=>as(e).orThunk(()=>t().toOptional().bind(e=>as(e.element)));const VK=(e,t,o)=>{if(!e.inline){if(!t.header.isPositionedAtTop()){e.on("ResizeEditor",()=>{o().each(Nk.reset)})}e.on("ResizeWindow ResizeEditor",()=>{o().each(LK)});e.on("SkinLoaded",()=>{o().each(e=>{Nk.isDocked(e)?Nk.reset(e):Nk.refresh(e)})});e.on("FullscreenStateChanged",()=>{o().each(Nk.reset)})}e.on("AfterScrollIntoView",e=>{o().each(t=>{Nk.refresh(t);const o=t.element;if(er(o)){RK(e,o)}})});e.on("PostRender",()=>{IK(e,false)})};const jK=e=>e().map(Nk.isDocked).getOr(false);const ZK=()=>[FC.config({channels:{[AK()]:{onReceive:LK}}})];const UK=(e,t)=>{const o=wt();const n=t.getSink;const s=e=>{n().each(t=>e(t.element))};const r=t=>{if(!e.inline){LK(t)}IK(e,Nk.isDocked(t));t.getSystem().broadcastOn([Gz()],{});n().each(e=>e.getSystem().broadcastOn([Gz()],{}))};const a=e.inline?[]:ZK();return[mg.config({}),Nk.config({contextual:{lazyContext:t=>{const o=Xs(t.element);const n=e.inline?e.getContentAreaContainer():e.getContainer();return M.from(n).map(n=>{const s=Xa($t.fromDom(n));const r=UR(e,t.element);return r.fold(()=>{const e=s.height-o;const n=s.y+(BK(t,"top")?0:o);return Ya(s.x,n,s.width,e)},e=>{const n=Qa(s,qR(e));const r=BK(t,"top")?n.y:n.y+o;return Ya(n.x,r,n.width,n.height-o)})})},onShow:()=>{s(e=>HK(e,true))},onShown:e=>{s(e=>Kr(e,[DK.transitionClass,DK.fadeInClass]));o.get().each(t=>{PK(e.element,t);o.clear()})},onHide:e=>{FK(e.element,n).fold(o.clear,o.set);s(e=>HK(e,false))},onHidden:()=>{s(e=>Kr(e,[DK.transitionClass]))},...DK},lazyViewport:t=>{const o=UR(e,t.element);return o.fold(()=>{const o=tc();const n=tR(e);const s=o.y+(BK(t,"top")&&!jR(e)?n:0);const r=o.height-(BK(t,"bottom")?n:0);return{bounds:Ya(o.x,s,o.width,r),optScrollEnv:M.none()}},e=>{const t=qR(e);return{bounds:t,optScrollEnv:M.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:fr(e.element).top})}})},modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var qK=Object.freeze({__proto__:null,setup:VK,isDocked:jK,getBehaviours:UK});const $K=e=>{const t=e.editor;const o=e.sticky?UK:EK;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Ym(o(t,e.sharedBackstage))}};const WK=(e,t)=>{const o=(e,o)=>{const n=j(o,e=>{const o={type:"menubutton",text:e.text,fetch:t=>{t(e.getItems())},context:"any"};const n=dP(o).mapError(e=>wi(e)).getOrDie();return aW(n,"tox-mbtn",t.backstage,M.some("menuitem"))});Yy.set(e,n)};const n={focus:ay.focusIn,setMenus:o};return{uid:e.uid,dom:e.dom,components:[],behaviours:Ym([Yy.config({}),ng("menubar-events",[Hm(t=>{e.onSetup(t)}),Tm(kl(),(e,t)=>{Rr(e.element,"."+"tox-mbtn--active").each(o=>{Br(t.event.target,"."+"tox-mbtn").each(t=>{if(!po(o,t)){e.getSystem().getByDom(o).each(o=>{e.getSystem().getByDom(t).each(e=>{jE.expand(e);jE.close(o);mg.focus(e)})})}})})}),Tm(Ql(),(e,t)=>{t.event.prevFocus.bind(t=>e.getSystem().getByDom(t).toOptional()).each(o=>{t.event.newFocus.bind(t=>e.getSystem().getByDom(t).toOptional()).each(e=>{if(jE.isOpen(o)){jE.expand(e);jE.close(o)}})})})]),ay.config({mode:"flow",selector:"."+"tox-mbtn",onEscape:t=>{e.onEscape(t);return M.some(true)}}),tz.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}};var GK=ww({factory:WK,name:"silver.Menubar",configFields:[Ti("dom"),Ti("uid"),Ti("onEscape"),Ti("backstage"),$i("onSetup",v)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});const KK="💝Get all features";const YK="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral";const XK=e=>{const t=e.promotionLink?[{dom:{tag:"a",attributes:{href:YK,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:KK}}]:[];return{uid:e.uid,dom:e.dom,components:t}};const JK=e=>{const{sidebars:t}=e.ui.registry.getAll();Z(ue(t),o=>{const n=t[o];const s=()=>at(M.from(e.queryCommandValue("ToggleSidebar")),o);e.ui.registry.addToggleButton(o,{icon:n.icon,tooltip:n.tooltip,onAction:t=>{e.execCommand("ToggleSidebar",false,o);t.setActive(s())},onSetup:t=>{t.setActive(s());const o=()=>t.setActive(s());e.on("ToggleSidebar",o);return()=>{e.off("ToggleSidebar",o)}},context:"any"})})};const QK=e=>({element:()=>e.element.dom});const eY=(e,t)=>{const o=j(ue(t),e=>{const o=t[e];const n=vi(qF(o));return{name:e,getApi:QK,onSetup:n.onSetup,onShow:n.onShow,onHide:n.onHide}});return j(o,t=>{const n=Ee(v);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:cV.unnamedEvents([gV(t,n),pV(t,n),Tm(ed(),(e,t)=>{const n=t.event;const s=Y(o,e=>e.name===n.name);s.each(t=>{const o=n.visible?t.onShow:t.onHide;o(t.getApi(e))})})])})})};const tY=e=>bM.sketch(t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:eY(t,e),slotBehaviours:cV.unnamedEvents([Hm(e=>bM.hideAllSlots(e))])}));const oY=(e,t,o)=>{const n=mv.getCurrent(e);n.each(n=>{Yy.set(n,[tY(t)]);const s=o===null||o===void 0?void 0:o.toLowerCase();if(c(s)&&Ce(t,s)){mv.getCurrent(n).each(t=>{bM.showSlot(t,s);ZS.immediateGrow(n);$s(n.element,"width");nY(e.element,"region")})}})};const nY=(e,t)=>{gs(e,"role",t)};const sY=(e,t)=>{const o=mv.getCurrent(e);o.each(o=>{const n=mv.getCurrent(o);n.each(n=>{if(ZS.hasGrown(o)){if(bM.isShowing(n,t)){ZS.shrink(o);nY(e.element,"presentation")}else{bM.hideAllSlots(n);bM.showSlot(n,t);nY(e.element,"region")}}else{bM.hideAllSlots(n);bM.showSlot(n,t);ZS.grow(o);nY(e.element,"region")}})})};const rY=e=>{const t=mv.getCurrent(e);return t.bind(e=>{const t=ZS.isGrowing(e)||ZS.hasGrown(e);if(t){const t=mv.getCurrent(e);return t.bind(e=>Y(bM.getSlotNames(e),t=>bM.isShowing(e,t)))}else{return M.none()}})};const aY=et("FixSizeEvent");const cY=et("AutoSizeEvent");const iY=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ym([tz.config({}),mg.config({}),ZS.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{const t=mv.getCurrent(e);t.each(bM.hideAllSlots);hm(e,cY)},onGrown:e=>{hm(e,cY)},onStartGrow:e=>{ym(e,aY,{width:Zs(e.element,"width").getOr("")})},onStartShrink:e=>{ym(e,aY,{width:sr(e.element)+"px"})}}),Yy.config({}),mv.config({find:e=>{const t=Yy.contents(e);return ce(t)}})])}],behaviours:Ym([dq.childAt(0),ng("sidebar-sliding-events",[Tm(aY,(e,t)=>{Is(e.element,"width",t.event.width)}),Tm(cY,(e,t)=>{$s(e.element,"width")})])])});const lY=e=>(t,o)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Zz('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]});const dY=e=>mv.getCurrent(e).each(e=>os(e.element,true));const uY=(e,t)=>{const o="tabindex";const n=`data-mce-${o}`;M.from(e.iframeElement).map($t.fromDom).each(e=>{if(t){ys(e,o).each(t=>gs(e,n,t));gs(e,o,-1)}else{vs(e,o);ys(e,n).each(t=>{gs(e,o,t);vs(e,n)})}})};const fY=(e,t,o,n)=>{const s=t.element;uY(e,o);if(o){lv.block(t,lY(n));$s(s,"display");vs(s,"aria-hidden");if(e.hasFocus()){dY(t)}}else{const o=mv.getCurrent(t).exists(e=>ss(e.element));lv.unblock(t);Is(s,"display","none");gs(s,"aria-hidden","true");if(o){e.focus()}}};const mY=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ym([Yy.config({}),lv.config({focus:false}),mv.config({find:e=>ce(e.components())})]),components:[]});const gY=e=>e.type==="focusin";const pY=e=>{if(gY(e)){const t=e.composed?ce(e.composedPath()):M.from(e.target);return t.map($t.fromDom).filter(gn).exists(e=>Wr(e,"mce-pastebin"))}else{return false}};const hY=(e,t,o)=>{const n=Ee(false);const s=wt();const r=o=>{if(n.get()&&!pY(o)){o.preventDefault();dY(t());e.editorManager.setActive(e)}};if(!e.inline){e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",r);e.on("BeforeExecCommand",e=>{if(e.command.toLowerCase()==="mcefocus"&&e.value!==true){r(e)}})})}const a=s=>{if(s!==n.get()){n.set(s);fY(e,t(),s,o.providers);Hj(e,s)}};e.on("ProgressState",t=>{s.on(clearTimeout);if(y(t.time)){const o=TN.setEditorTimeout(e,()=>a(t.state),t.time);s.set(o)}else{a(t.state);s.clear()}})};const yY=e=>{const t=e.label.isNone()?e.title.fold(()=>({}),e=>({attributes:{"aria-label":e}})):e.label.fold(()=>({}),e=>({attributes:{"aria-label":e}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(e.label.isSome()?["tox-toolbar__group_with_label"]:[]),...t},components:[...e.label.map(e=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Kb(e)]})).toArray(),ZM.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), "+".tox-split-button:not([disabled]), "+".tox-toolbar-nav-item:not([disabled]), "+".tox-number-input:not([disabled])"},tgroupBehaviours:Ym([tz.config({}),mg.config({ignore:true})])}};const bY=e=>ZM.sketch(yY(e));const vY=(e,t)=>{const o=Hm(t=>{const o=j(e.initGroups,bY);eO.setGroups(t,o)});return Ym([fV.toolbarButton(()=>e.providers.checkUiComponentContext("any").shouldDisable),SV(()=>e.providers.checkUiComponentContext("any")),ay.config({mode:t,onEscape:e.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),ng("toolbar-events",[o])])};const kY=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":yY({title:M.none(),label:M.none(),items:[]}),"overflow-button":_W({context:"any",name:"more",icon:M.some("more-drawer"),enabled:true,tooltip:M.some("Reveal or hide additional toolbar items"),primary:false,buttonType:M.none(),borderless:false},M.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:vY(e,t)}};const wY=e=>{const t=kY(e);const o=4;const n=WM.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return WM.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const t=e.moreDrawerData.lazyHeader().element;const n=Ja(t);const s=wn(t);const r=Ja(s);const a=Math.max(s.dom.scrollHeight,r.height);return Ya(n.x+o,r.y,n.width-o*2,a)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>e.onToggled(t,true),onClosed:t=>e.onToggled(t,false)})};const _Y=e=>{const t=eN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});const o=eN.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}});const n=kY(e);return eN.sketch({...n,components:[t,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:t=>{t.getSystem().broadcastOn([AK()],{type:"opened"});e.onToggled(t,true)},onClosed:t=>{t.getSystem().broadcastOn([AK()],{type:"closed"});e.onToggled(t,false)}})};const xY=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return eO.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===DN.scrolling?["tox-toolbar--scrolling"]:[])},components:[eO.parts.groups({})],toolbarBehaviours:vY(e,t)})};const CY=(e,t)=>{var o,n;const s=e.type==="togglebutton";const r=e.icon.map(e=>x$(e,t.icons)).map(Uz);const a=()=>o=>{const n=e=>{r.map(n=>n.getOpt(o).each(o=>{Yy.set(o,[x$(e,t.icons)])}))};const a=e=>{const t=o.element;if(e){Zr(t,"tox-button--enabled");gs(t,"aria-pressed",true)}else{qr(t,"tox-button--enabled");vs(t,"aria-pressed")}};const c=()=>Wr(o.element,"tox-button--enabled");const i=()=>os(o.element);if(s){return e.onAction({setIcon:n,setActive:a,isActive:c,focus:i})}if(e.type==="button"){return e.onAction({setIcon:n})}};const c=a();const i={...e,name:s?e.text.getOr(e.icon.getOr("")):(o=e.text)!==null&&o!==void 0?o:e.icon.getOr(""),primary:e.buttonType==="primary",buttonType:M.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:true,borderless:e.borderless};const l=xW((n=e.buttonType)!==null&&n!==void 0?n:"secondary");const d=s?e.text.map(t.translate):M.some(t.translate(e.text));const u=d.map(Kb);const f=i.tooltip.or(d).map(e=>({"aria-label":t.translate(e)})).getOr({});const m=r.map(e=>e.asSpec());const g=EV([m,u]);const p=e.icon.isSome()&&u.isSome();const h={tag:"button",classes:l.concat(...e.icon.isSome()&&!p?["tox-button--icon"]:[]).concat(...p?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(...e.type==="togglebutton"&&e.active?["tox-button--enabled"]:[]),attributes:f};const y=[];const b=wW(i,M.some(c),y,h,g,e.tooltip,t);return hT.sketch(b)};const SY=(e,t)=>CY(e,t);const zY=(e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:j(e.buttons,e=>SY(e,t))});const TY=nn().deviceType;const EY=TY.isPhone();const OY=TY.isTablet();const AY=e=>{let t=false;const o=j(e.buttons,o=>{if(o.type==="group"){t=true;return zY(o,e.providers)}else{return SY(o,e.providers)}});return{uid:e.uid,dom:{tag:"div",classes:[!t?"tox-view__header":"tox-view__toolbar",...EY||OY?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Ym([mg.config({}),ay.config({mode:"flow",selector:"button, .tox-button",focusInside:Zd.OnEnterOrSpaceMode})]),components:t?o:[Cw.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Cw.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:o})]}};const DY=e=>({uid:e.uid,behaviours:Ym([mg.config({}),tz.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}});const MY=(e,t,o,n)=>{const s={getPane:t=>qz.getPart(t,e,"pane"),getOnShow:t=>e.viewConfig.onShow,getOnHide:t=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,behaviours:Ym([mg.config({}),ay.config({mode:"cyclic",focusInside:Zd.OnEnterOrSpaceMode})]),apis:s}};var NY=_w({name:"silver.View",configFields:[Ti("viewConfig")],partFields:[ku({factory:{sketch:AY},schema:[Ti("buttons"),Ti("providers")],name:"header"}),ku({factory:{sketch:DY},schema:[],name:"pane"})],factory:MY,apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const RY=(e,t,o)=>ke(t,(t,n)=>{const s=vi(nV(t));return e.slot(n,NY.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:s,components:[...s.buttons.length>0?[NY.parts.header({buttons:s.buttons,providers:o})]:[],NY.parts.pane({})]}))});const BY=(e,t)=>bM.sketch(o=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:RY(o,e,t),slotBehaviours:cV.unnamedEvents([Hm(e=>bM.hideAllSlots(e))])}));const LY=e=>Y(bM.getSlotNames(e),t=>bM.isShowing(e,t));const HY=e=>{const t=e.element;Is(t,"display","none");gs(t,"aria-hidden","true")};const IY=e=>{const t=e.element;$s(t,"display");vs(t,"aria-hidden")};const PY=e=>({getContainer:x(e)});const FY=(e,t,o)=>{bM.getSlot(e,t).each(e=>{NY.getPane(e).each(t=>{const n=o(e);n(PY(t.element.dom))})})};const VY=(e,t)=>FY(e,t,NY.getOnShow);const jY=(e,t)=>FY(e,t,NY.getOnHide);const ZY=(e,t)=>{const o=(e,o)=>{Yy.set(e,[BY(o,t.backstage.shared.providers)])};const n=e=>mv.getCurrent(e).bind(LY);const s=(e,t,o,n)=>mv.getCurrent(e).exists(s=>{const r=LY(s);const a=r.exists(e=>n===e);const c=bM.getSlot(s,n).isSome();if(c){bM.hideAllSlots(s);if(!a){o();IY(e);bM.showSlot(s,n);VY(s,n)}else{HY(e);t()}r.each(e=>jY(s,e))}return c});const r={setViews:o,whichView:n,toggleView:s};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Ym([Yy.config({}),mv.config({find:e=>{const t=Yy.contents(e);return ce(t)}})]),apis:r}};var UY=ww({factory:ZY,name:"silver.ViewWrapper",configFields:[Ti("backstage")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,n,s)=>e.toggleView(t,o,n,s),whichView:(e,t)=>e.whichView(t)}});const qY=(e,t,o)=>{let n=false;const s=e=>{Mr(e,".tox-statusbar").each(e=>{if(Vs(e,"display")==="none"&&hs(e,"aria-hidden")==="true"){$s(e,"display");vs(e,"aria-hidden")}else{Is(e,"display","none");gs(e,"aria-hidden","true")}})};const r={getSocket:t=>qz.getPart(t,e,"socket"),setSidebar:(t,o,n)=>{qz.getPart(t,e,"sidebar").each(e=>oY(e,o,n))},toggleSidebar:(t,o)=>{qz.getPart(t,e,"sidebar").each(e=>sY(e,o))},whichSidebar:t=>qz.getPart(t,e,"sidebar").bind(rY).getOrNull(),getHeader:t=>qz.getPart(t,e,"header"),getToolbar:t=>qz.getPart(t,e,"toolbar"),setToolbar:(t,o)=>{qz.getPart(t,e,"toolbar").each(e=>{const t=j(o,bY);e.getApis().setGroups(e,t)})},setToolbars:(t,o)=>{qz.getPart(t,e,"multiple-toolbar").each(e=>{const t=j(o,e=>j(e,bY));xT.setItems(e,t)})},refreshToolbar:t=>{const o=qz.getPart(t,e,"toolbar");o.each(e=>e.getApis().refresh(e))},toggleToolbarDrawer:t=>{qz.getPart(t,e,"toolbar").each(e=>{ft(e.getApis().toggle,t=>t(e))})},toggleToolbarDrawerWithoutFocusing:t=>{qz.getPart(t,e,"toolbar").each(e=>{ft(e.getApis().toggleWithoutFocusing,t=>t(e))})},isToolbarDrawerToggled:t=>qz.getPart(t,e,"toolbar").bind(e=>M.from(e.getApis().isOpen).map(t=>t(e))).getOr(false),getThrobber:t=>qz.getPart(t,e,"throbber"),focusToolbar:t=>{const o=qz.getPart(t,e,"toolbar").orThunk(()=>qz.getPart(t,e,"multiple-toolbar"));o.each(e=>{ay.focusIn(e)})},setMenubar:(t,o)=>{qz.getPart(t,e,"menubar").each(e=>{GK.setMenus(e,o)})},focusMenubar:t=>{qz.getPart(t,e,"menubar").each(e=>{GK.focus(e)})},setViews:(t,o)=>{qz.getPart(t,e,"viewWrapper").each(e=>{UY.setViews(e,o)})},toggleView:(t,o)=>qz.getPart(t,e,"viewWrapper").exists(e=>UY.toggleView(e,()=>r.showMainView(t),()=>r.hideMainView(t),o)),whichView:t=>qz.getPart(t,e,"viewWrapper").bind(UY.whichView).getOrNull(),hideMainView:t=>{n=r.isToolbarDrawerToggled(t);if(n){r.toggleToolbarDrawer(t)}qz.getPart(t,e,"editorContainer").each(e=>{const t=e.element;s(t);Is(t,"display","none");gs(t,"aria-hidden","true")})},showMainView:t=>{if(n){r.toggleToolbarDrawer(t)}qz.getPart(t,e,"editorContainer").each(e=>{const t=e.element;s(t);$s(t,"display");vs(t,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}};const $Y=$z.optional({factory:GK,name:"menubar",schema:[Ti("backstage")]});const WY=e=>{if(e.type===DN.sliding){return _Y}else if(e.type===DN.floating){return wY}else{return xY}};const GY=$z.optional({factory:{sketch:e=>xT.sketch({uid:e.uid,dom:e.dom,listBehaviours:Ym([ay.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>xY({type:e.type,uid:et("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:e.providers,onEscape:()=>{e.onEscape();return M.some(true)}}),setupItem:(e,t,o,n)=>{eO.setGroups(t,o)},shell:true})},name:"multiple-toolbar",schema:[Ti("dom"),Ti("onEscape")]});const KY=$z.optional({factory:{sketch:e=>{const t=WY(e);const o={type:e.type,uid:e.uid,onEscape:()=>{e.onEscape();return M.some(true)},onToggled:(t,o)=>e.onToolbarToggled(o),cyclicKeying:false,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(o)}},name:"toolbar",schema:[Ti("dom"),Ti("onEscape"),Ti("getSink")]});const YY=$z.optional({factory:{sketch:$K},name:"header",schema:[Ti("dom")]});const XY=$z.optional({factory:{sketch:XK},name:"promotion",schema:[Ti("dom"),Ti("promotionLink")]});const JY=$z.optional({name:"socket",schema:[Ti("dom")]});const QY=$z.optional({factory:{sketch:iY},name:"sidebar",schema:[Ti("dom")]});const eX=$z.optional({factory:{sketch:mY},name:"throbber",schema:[Ti("dom")]});const tX=$z.optional({factory:UY,name:"viewWrapper",schema:[Ti("backstage")]});const oX=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components});const nX=$z.optional({factory:{sketch:oX},name:"editorContainer",schema:[]});var sX=_w({name:"OuterContainer",factory:qY,configFields:[Ti("dom"),Ti("behaviours")],partFields:[YY,$Y,KY,GY,JY,QY,XY,eX,tX,nX],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,n)=>{e.setSidebar(t,o,n)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});const rX="file edit view insert format tools table help";const aX={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}};const cX=(e,t,o)=>{const n=GN(o).split(/[ ,]/);return{text:e.title,getItems:()=>Q(e.items,e=>{const o=e.toLowerCase();if(o.trim().length===0){return[]}else if(P(n,e=>e===o)){return[]}else if(o==="separator"||o==="|"){return[{type:"separator"}]}else if(t.menuItems[o]){return[t.menuItems[o]]}else{return[]}})}};const iX=e=>e.split(" ");const lX=(e,t)=>{const o={...aX,...t.menus};const n=ue(t.menus).length>0;const s=t.menubar===undefined||t.menubar===true?iX(rX):iX(t.menubar===false?"":t.menubar);const r=$(s,e=>{const o=Ce(aX,e);if(n){return o||xe(t.menus,e).exists(e=>Ce(e,"items"))}else{return o}});const a=j(r,n=>{const s=o[n];return cX({title:s.title,items:iX(s.items)},t,e)});return $(a,e=>{const t=e=>c(e)||e.type!=="separator";return e.getItems().length>0&&P(e.getItems(),t)})};const dX=e=>{const t=()=>{e._skinLoaded=true;Dj(e)};return()=>{if(e.initialized){t()}else{e.on("init",t)}}};const uX=(e,t)=>()=>Mj(e,{message:t});const fX=e=>{const t=wR(e);if(!t){return M.none()}else{return M.from(t)}};const mX=(e,t,o)=>{e.on("remove",()=>o.unload(t));return o.load(t)};const gX=(e,t,o,n)=>{e.on("remove",()=>n.unloadRawCss(t));return n.loadRawCss(t,o)};const pX=(e,t)=>"ui/"+e+"/"+t;const hX=e=>M.from(tinymce.Resource.get(e)).filter(c);const yX=(e,t,o="")=>{const n=fX(e).map(e=>pX(e,`${t}.css`));const s=n.bind(hX);return dt(n,s,(e,t)=>({_kind:"load-raw",key:e,css:t})).getOrThunk(()=>{const n=e.editorManager.suffix;const s=o+`/${t}${n}.css`;return{_kind:"load-stylesheet",url:s}})};const bX=(e,t)=>{const o=e.ui.styleSheetLoader;const n=yX(e,"skin",t);switch(n._kind){case"load-raw":const{key:t,css:s}=n;gX(e,t,s,o);return Promise.resolve();case"load-stylesheet":const{url:r}=n;return mX(e,r,o);default:return Promise.resolve()}};const vX=(e,t)=>{const o=Pn($t.fromDom(e.getElement()));if(!o){return Promise.resolve()}else{const o=EN.DOM.styleSheetLoader;const n=yX(e,"skin.shadowdom",t);switch(n._kind){case"load-raw":const{key:t,css:s}=n;gX(e,t,s,o);return Promise.resolve();case"load-stylesheet":const{url:r}=n;return mX(e,r,o);default:return Promise.resolve()}}};const kX=(e,t,o)=>{const n=t?"content.inline":"content";const s=yX(e,n,o);switch(s._kind){case"load-raw":const{key:n,css:r}=s;if(t){gX(e,n,r,e.ui.styleSheetLoader)}else{e.on("PostRender",()=>{gX(e,n,r,e.dom.styleSheetLoader)})}return Promise.resolve();case"load-stylesheet":const{url:a}=s;if(o){e.contentCSS.push(a)}return Promise.resolve();default:return Promise.resolve()}};const wX=async(e,t)=>{const o=CR(t);await kX(t,e,o);if(!_R(t)&&c(o)){return Promise.all([bX(t,o),vX(t,o)]).then()}};const _X=(e,t)=>wX(e,t).then(dX(t),uX(t,"Skin could not be loaded"));const xX=z(_X,false);const CX=z(_X,true);const SX=e=>({isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t),setText:t=>ym(e,S$,{text:t}),setIcon:t=>ym(e,z$,{icon:t})});const zX=e=>({setActive:t=>{vz.set(e,t)},isActive:()=>vz.isOn(e),isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t),setText:t=>ym(e,S$,{text:t}),setIcon:t=>ym(e,z$,{icon:t})});const TX=(e,t)=>e.map(e=>({"aria-label":t.translate(e)})).getOr({});const EX=et("focus-button");const OX=(e,t,o,n,s,r,a)=>{const c=t.map(e=>Uz(C$(e,"tox-tbtn",s)));const i=e.map(e=>Uz(x$(e,s.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:{...TX(o,s),...p(a)?{"data-mce-name":a}:{}}},components:EV([i.map(e=>e.asSpec()),c.map(e=>e.asSpec())]),eventOrder:{[hl()]:["focusing","alloy.base.behaviour",b$],[Kl()]:[b$,"toolbar-group-button-events"],[Yl()]:[b$,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:Ym([fV.toolbarButton(()=>s.checkUiComponentContext(r).shouldDisable),SV(()=>s.checkUiComponentContext(r)),ng(b$,[Hm((e,t)=>k$(e)),Tm(S$,(e,t)=>{c.bind(t=>t.getOpt(e)).each(e=>{Yy.set(e,[Kb(s.translate(t.event.text))])})}),Tm(z$,(e,t)=>{i.bind(t=>t.getOpt(e)).each(e=>{Yy.set(e,[x$(t.event.icon,s.icons)])})}),Tm(hl(),(e,t)=>{t.event.prevent();hm(e,EX)})])].concat(n.getOr([])))}};const AX=(e,t,o,n,s)=>{const r=t.shared;const a=Ee(v);const c={toolbarButtonBehaviours:[],getApi:SX,onSetup:e.onSetup};const i=[ng("toolbar-group-button-events",[gV(c,a),pV(c,a)]),...e.tooltip.map(e=>Lz.config(t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(e)}))).toArray()];return dO.sketch({lazySink:r.getSink,fetch:()=>Le.nu(t=>{t(j(o(e.items),bY))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:OX(e.icon,e.text,e.tooltip,M.some(i),r.providers,e.context,s),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})};const DX=(e,t,o,n)=>{var s;const r=Ee(v);const a=OX(e.icon,e.text,e.tooltip,M.none(),o,e.context,n);return hT.sketch({dom:a.dom,components:a.components,eventOrder:v$,buttonBehaviours:{...Ym([ng("toolbar-button-events",[y$({onAction:e.onAction,getApi:t.getApi}),gV(t,r),pV(t,r)]),...e.tooltip.map(t=>Lz.config(o.tooltips.getConfig({tooltipText:o.translate(t)+e.shortcut.map(e=>` (${NV(e)})`).getOr("")}))).toArray(),fV.toolbarButton(()=>!e.enabled||o.checkUiComponentContext(e.context).shouldDisable),SV(()=>o.checkUiComponentContext(e.context))].concat(t.toolbarButtonBehaviours)),[b$]:(s=a.buttonBehaviours)===null||s===void 0?void 0:s[b$]}})};const MX=(e,t,o)=>NX(e,t,[],o);const NX=(e,t,o,n)=>DX(e,{toolbarButtonBehaviours:o.length>0?[ng("toolbarButtonWith",o)]:[],getApi:SX,onSetup:e.onSetup},t,n);const RX=(e,t,o)=>BX(e,t,[],o);const BX=(e,t,o,n)=>DX(e,{toolbarButtonBehaviours:[Yy.config({}),vz.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(o.length>0?[ng("toolbarToggleButtonWith",o)]:[]),getApi:zX,onSetup:e.onSetup},t,n);const LX=(e,t,o)=>n=>Le.nu(e=>t.fetch(e)).map(s=>M.from(MU(st(UZ(et("menu-value"),s,o=>{t.onItemAction(e(n),o)},t.columns,t.presets,yL.CLOSE_ON_EXECUTE,t.select.getOr(A),o),{movement:$Z(t.columns,t.presets),menuBehaviours:cV.unnamedEvents(t.columns!=="auto"?[]:[Hm((e,o)=>{sV(e,4,FL(t.presets)).each(({numRows:t,numColumns:o})=>{ay.setGridSize(e,t,o)})})])}))));const HX=(e,t,o)=>{const n=Ee(e.tooltip.getOr(""));const s=e=>({isEnabled:()=>!Pv.isDisabled(e),setEnabled:t=>Pv.set(e,!t),setIconFill:(t,o)=>{Rr(e.element,`svg path[class="${t}"], rect[class="${t}"]`).each(e=>{gs(e,"fill",o)})},setActive:t=>{gs(e.element,"aria-pressed",t);Rr(e.element,"span").each(o=>{e.getSystem().getByDom(o).each(e=>vz.set(e,t))})},isActive:()=>Rr(e.element,"span").exists(t=>e.getSystem().getByDom(t).exists(vz.isOn)),setText:t=>Rr(e.element,"span").each(o=>e.getSystem().getByDom(o).each(e=>ym(e,S$,{text:t}))),setIcon:t=>Rr(e.element,"span").each(o=>e.getSystem().getByDom(o).each(e=>ym(e,z$,{icon:t}))),setTooltip:o=>{const s=t.providers.translate(o);gs(e.element,"aria-label",s);n.set(o)}});const r=Ee(v);const a={getApi:s,onSetup:e.onSetup};return CM.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":false,...TX(e.tooltip,t.providers),...p(o)?{"data-mce-name":o}:{}}},onExecute:t=>{const o=s(t);if(o.isEnabled()){e.onAction(o)}},onItemExecute:(e,t,o)=>{},splitDropdownBehaviours:Ym([ng("split-dropdown-events",[Hm((e,t)=>k$(e)),Tm(EX,mg.focus),gV(a,r),pV(a,r)]),fV.splitButton(()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable),SV(()=>t.providers.checkUiComponentContext(e.context)),Fz.config({}),...e.tooltip.map(e=>Lz.config({...t.providers.tooltips.getConfig({tooltipText:t.providers.translate(e),onShow:o=>{if(n.get()!==e){const e=t.providers.translate(n.get());Lz.setComponents(o,t.providers.tooltips.getComponents({tooltipText:e}))}}})})).toArray()]),eventOrder:{[Kl()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Yl()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:LX(s,e,t.providers),parts:{menu:$L(false,e.columns,e.presets)},components:[CM.parts.button(OX(e.icon,e.text,M.none(),M.some([vz.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false}),fV.toolbarButton(A),SV(x({contextType:"any",shouldDisable:false}))]),t.providers,e.context)),CM.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:nL("chevron-down",t.providers.icons)},buttonBehaviours:Ym([fV.splitButton(A),SV(x({contextType:"any",shouldDisable:false}))])}),CM.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})};const IX=".tox-toolbar-slider__input,.tox-toolbar-textfield";const PX=e=>{SO.getContent(e).each(e=>{Rr(e.element,IX).fold(()=>ay.focusIn(e),os)})};const FX=e=>as(e.element).each(e=>{Dr(e,'[tabindex="-1"]').each(e=>{os(e)})});const VX=et("forward-slide");const jX=et("backward-slide");const ZX=et("change-slide-event");const UX="tox-pop--resizing";const qX=e=>{const t=Ee([]);const o=SO.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{t.set([]);SO.getContent(e).each(e=>{$s(e.element,"visibility")});qr(e.element,UX);$s(e.element,"width")},onHide:()=>{t.set([]);e.onHide()},inlineBehaviours:Ym([ng("context-toolbar-events",[Lm(Ol(),(e,t)=>{if(t.event.raw.propertyName==="width"){qr(e.element,UX);$s(e.element,"width")}}),Tm(ZX,(e,t)=>{const o=e.element;$s(o,"width");const n=sr(o);const s=as(e.element).isSome();$s(o,"left");$s(o,"right");$s(o,"max-width");SO.setContent(e,t.event.contents);Zr(o,UX);const r=sr(o);Is(o,"transition","none");SO.reposition(e);$s(o,"transition");Is(o,"width",n+"px");t.event.focus.fold(()=>{if(s){PX(e)}},t=>{rs(Hn(e.element)).fold(()=>os(t),e=>{if(!po(e,t)){os(t)}})});setTimeout(()=>{Is(e.element,"width",r+"px")},0)}),Tm(VX,(e,o)=>{SO.getContent(e).each(o=>{t.set(t.get().concat([{bar:o,focus:rs(Hn(e.element))}]))});ym(e,ZX,{contents:o.event.forwardContents,focus:M.none()})}),Tm(jX,(o,n)=>{e.onBack();ie(t.get()).each(e=>{t.set(t.get().slice(0,t.get().length-1));ym(o,ZX,{contents:tv(e.bar),focus:e.focus})})})]),ay.config({mode:"special",onEscape:o=>ie(t.get()).fold(()=>e.onEscape(),e=>{hm(o,jX);return M.some(true)})})]),lazySink:()=>Fe.value(e.sink)});return{sketch:o,inSubtoolbar:()=>t.get().length>0}};const $X=(e,t)=>{const o=vi(XP({type:"button",icon:"chevron-left",tooltip:"Back",onAction:v}));return NX(o,t.shared.providers,[Tm(h$,e=>{hm(e,jX)})])};const WX=(e,t,o)=>Nt(o)?e.translate(t):e.translate([t,e.translate(o)]);const GX=(e,t)=>{const o=(o,s,r,a)=>{const c=e.shared.providers.translate(o.title);if(o.type==="separator"){return M.some({type:"separator",text:c})}else if(o.type==="submenu"){const e=Q(o.getStyleItems(),e=>n(e,s,a));if(s===0&&e.length<=0){return M.none()}else{return M.some({type:"nestedmenuitem",text:c,enabled:e.length>0,getSubmenuItems:()=>Q(o.getStyleItems(),e=>n(e,s,a))})}}else{return M.some({type:"togglemenuitem",text:c,icon:o.icon,active:o.isSelected(a),enabled:!r,onAction:t.onAction(o),...o.getStylePreview().fold(()=>({}),e=>({meta:{style:e}}))})}};const n=(e,n,s)=>{const r=e.type==="formatter"&&t.isInvalid(e);if(n===0){return r?[]:o(e,n,false,s).toArray()}else{return o(e,n,r,s).toArray()}};const s=e=>{const o=t.getCurrentValue();const s=t.shouldHide?0:1;return Q(e,e=>n(e,s,o))};const r=(e,t)=>(o,n)=>{const r=t();const a=s(r);const c=P$(a,yL.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:false,search:M.none()});n(c)};return{validateItems:s,getFetch:r}};const KX=(e,t)=>{const o=t.dataset;const n=o.type==="basic"?()=>j(o.data,e=>DG(e,t.isSelectedFor,t.getPreviewFor)):o.getData;return{items:GX(e,t),getStyleItems:n}};const YX=(e,t,o,n,s,r)=>{const{items:a,getStyleItems:c}=KX(t,o);const i=Ee(o.tooltip);const l=e=>({getComponent:x(e),setTooltip:o=>{const n=t.shared.providers.translate(o);gs(e.element,"aria-label",n);i.set(o)}});const d=t=>{const r=o=>t.setTooltip(WX(e,n(o.value),o.value));e.on(s,r);return Yj(eZ(e,"NodeChange",t=>{const n=t.getComponent();o.updateText(n);Pv.set(t.getComponent(),!e.selection.isEditable()||c().length===0)})(t),()=>e.off(s,r))};return E$({context:"mode:design",text:o.icon.isSome()?M.none():o.text,icon:o.icon,ariaLabel:M.some(o.tooltip),tooltip:M.none(),role:M.none(),fetch:a.getFetch(t,c),onSetup:d,getApi:l,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Lz.config({...t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(o.tooltip),onShow:e=>{if(o.tooltip!==i.get()){const o=t.shared.providers.translate(i.get());Lz.setComponents(e,t.shared.providers.tooltips.getComponents({tooltipText:o}))}}})})]},"tox-tbtn",t.shared,r)};const XX=e=>j(e,e=>{let t=e,o=e;const n=e.split("=");if(n.length>1){t=n[0];o=n[1]}return{title:t,format:o}});const JX=e=>({type:"basic",data:e});var QX;(function(e){e[e["SemiColon"]=0]="SemiColon";e[e["Space"]=1]="Space"})(QX||(QX={}));const eJ=(e,t)=>{if(t===QX.SemiColon){return e.replace(/;$/,"").split(";")}else{return e.split(" ")}};const tJ=(e,t,o)=>{const n=e.options.get(t);const s=XX(eJ(n,o));return{type:"basic",data:s}};const oJ="Align";const nJ=x("Alignment {0}");const sJ="left";const rJ=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}];const aJ=e=>{const t=()=>Y(rJ,t=>e.formatter.match(t.format));const o=t=>()=>e.formatter.match(t);const n=e=>M.none;const s=o=>{const n=t();const s=n.fold(x(sJ),e=>e.title.toLowerCase());ym(o,z$,{icon:`align-${s}`});Vj(e,{value:s})};const r=JX(rJ);const a=t=>()=>Y(rJ,e=>e.format===t.format).each(t=>e.execCommand(t.command));return{tooltip:WX(e,nJ(),sJ),text:M.none(),icon:M.some("align-left"),isSelectedFor:o,getCurrentValue:M.none,getPreviewFor:n,onAction:a,updateText:s,dataset:r,shouldHide:false,isInvalid:t=>!e.formatter.canApply(t.format)}};const cJ=(e,t)=>YX(e,t,aJ(e),nJ,"AlignTextUpdate","align");const iJ=(e,t)=>{const o=KX(t,aJ(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate(oJ),onSetup:Xj(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const lJ=(e,t)=>{const o=t();const n=j(o,e=>e.format);return M.from(e.formatter.closest(n)).bind(e=>Y(o,t=>t.format===e))};const dJ="Blocks";const uJ=x("Block {0}");const fJ="Paragraph";const mJ=e=>{const t=t=>()=>e.formatter.match(t);const o=t=>()=>{const o=e.formatter.get(t);if(o){return M.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}else{return M.none()}};const n=t=>{const o=lJ(e,()=>s.data);const n=o.fold(x(fJ),e=>e.title);ym(t,S$,{text:n});Uj(e,{value:n})};const s=tJ(e,"block_formats",QX.SemiColon);return{tooltip:WX(e,uJ(),fJ),text:M.some(fJ),icon:M.none(),isSelectedFor:t,getCurrentValue:M.none,getPreviewFor:o,onAction:tZ(e),updateText:n,dataset:s,shouldHide:false,isInvalid:t=>!e.formatter.canApply(t.format)}};const gJ=(e,t)=>YX(e,t,mJ(e),uJ,"BlocksTextUpdate","blocks");const pJ=(e,t)=>{const o=KX(t,mJ(e));e.ui.registry.addNestedMenuItem("blocks",{text:dJ,onSetup:Xj(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const hJ="Fonts";const yJ=x("Font {0}");const bJ="System Font";const vJ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"];const kJ=e=>{const t=e.split(/\s*,\s*/);return j(t,e=>e.replace(/^['"]+|['"]+$/g,""))};const wJ=(e,t)=>t.length>0&&ee(t,t=>e.indexOf(t.toLowerCase())>-1);const _J=(e,t)=>{if(e.indexOf("-apple-system")===0||t.length>0){const o=kJ(e.toLowerCase());return wJ(o,vJ)||wJ(o,t)}else{return false}};const xJ=e=>{const t=()=>{const t=e=>e?kJ(e)[0]:"";const o=e.queryCommandValue("FontName");const n=c.data;const s=o?o.toLowerCase():"";const r=kR(e);const a=Y(n,e=>{const o=e.format;return o.toLowerCase()===s||t(o).toLowerCase()===t(s).toLowerCase()}).orThunk(()=>mt(_J(s,r),{title:bJ,format:s}));return{matchOpt:a,font:o}};const o=e=>t=>t.exists(t=>t.format===e);const n=()=>{const{matchOpt:e}=t();return e};const s=e=>()=>M.some({tag:"div",styles:e.indexOf("dings")===-1?{"font-family":e}:{}});const r=t=>()=>{e.undoManager.transact(()=>{e.focus();e.execCommand("FontName",false,t.format)})};const a=o=>{const{matchOpt:n,font:s}=t();const r=n.fold(x(s),e=>e.title);ym(o,S$,{text:r});qj(e,{value:r})};const c=tJ(e,"font_family_formats",QX.SemiColon);return{tooltip:WX(e,yJ(),bJ),text:M.some(bJ),icon:M.none(),isSelectedFor:o,getCurrentValue:n,getPreviewFor:s,onAction:r,updateText:a,dataset:c,shouldHide:false,isInvalid:A}};const CJ=(e,t)=>YX(e,t,xJ(e),yJ,"FontFamilyTextUpdate","fontfamily");const SJ=(e,t)=>{const o=KX(t,xJ(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate(hJ),onSetup:Xj(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};var zJ=tinymce.util.Tools.resolve("tinymce.util.VK");const TJ=(e,t,o,n)=>{let s=M.none();const r=e=>e.map(e=>G_.getValue(e)).getOr("");const a=eZ(e,"NodeChange SwitchMode DisabledStateChange",t=>{const n=t.getComponent();s=M.some(n);o.updateInputValue(n);Pv.set(n,!e.selection.isEditable()||HN(e))});const c=e=>({getComponent:x(e)});const i=Ee(v);const l=et("custom-number-input-events");const d=(e,t,n)=>{const a=r(s);const c=o.getNewValue(a,e);const i=a.length-`${c}`.length;const l=s.map(e=>e.element.dom.selectionStart-i);const d=s.map(e=>e.element.dom.selectionEnd-i);o.onAction(c,n);s.each(e=>{G_.setValue(e,c);if(t){l.each(t=>e.element.dom.selectionStart=t);d.each(t=>e.element.dom.selectionEnd=t)}})};const u=(e,t)=>d((e,t)=>e-t,e,t);const f=(e,t)=>d((e,t)=>e+t,e,t);const m=e=>Sn(e.element).fold(M.none,e=>{os(e);return M.some(true)});const g=e=>{if(ss(e.element)){Dn(e.element).each(e=>os(e));return M.some(true)}else{return M.none()}};const h=(o,n,s,r)=>{const a=Ee(v);const i=t.shared.providers.translate(s);const l=et("altExecuting");const d=eZ(e,"NodeChange SwitchMode DisabledStateChange",t=>{Pv.set(t.getComponent(),!e.selection.isEditable()||HN(e))});const u=e=>{if(!Pv.isDisabled(e)){o(true)}};return hT.sketch({dom:{tag:"button",attributes:{"aria-label":i,"data-mce-name":n},classes:r.concat(n)},components:[_$(n,t.shared.providers.icons)],buttonBehaviours:Ym([Pv.config({}),Lz.config(t.shared.providers.tooltips.getConfig({tooltipText:i})),ng(l,[gV({onSetup:d,getApi:c},a),pV({getApi:c},a),Tm(xl(),(e,t)=>{if(t.event.raw.keyCode===zJ.SPACEBAR||t.event.raw.keyCode===zJ.ENTER){if(!Pv.isDisabled(e)){o(false)}}}),Tm(Tl(),u),Tm(gl(),u)])]),eventOrder:{[xl()]:[l,"keying"],[Tl()]:[l,"alloy.base.behaviour"],[gl()]:[l,"alloy.base.behaviour"],[Kl()]:["alloy.base.behaviour",l,"tooltipping"],[Yl()]:[l,"tooltipping"]}})};const y=Uz(h(e=>u(false,e),"minus","Decrease font size",[]));const b=Uz(h(e=>f(false,e),"plus","Increase font size",[]));const k=Uz({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[DO.sketch({inputBehaviours:Ym([Pv.config({}),ng(l,[gV({onSetup:a,getApi:c},i),pV({getApi:c},i)]),ng("input-update-display-text",[Tm(S$,(e,t)=>{G_.setValue(e,t.event.text)}),Tm(_l(),e=>{o.onAction(G_.getValue(e))}),Tm(zl(),e=>{o.onAction(G_.getValue(e))})]),ay.config({mode:"special",onEnter:e=>{d(C,true,true);return M.some(true)},onEscape:m,onUp:e=>{f(true,false);return M.some(true)},onDown:e=>{u(true,false);return M.some(true)},onLeft:(e,t)=>{t.cut();return M.none()},onRight:(e,t)=>{t.cut();return M.none()}})])})],behaviours:Ym([mg.config({}),ay.config({mode:"special",onEnter:g,onSpace:g,onEscape:m}),ng("input-wrapper-events",[Tm(kl(),e=>{Z([y,b],t=>{const o=$t.fromDom(t.get(e).element.dom);if(ss(o)){ns(o)}})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...p(n)?{"data-mce-name":n}:{}}},components:[y.asSpec(),k.asSpec(),b.asSpec()],behaviours:Ym([mg.config({}),ay.config({mode:"flow",focusInside:Zd.OnEnterOrSpaceMode,cycles:false,selector:"button, .tox-input-wrapper",onEscape:e=>{if(ss(e.element)){return M.none()}else{os(e.element);return M.some(true)}}})])}};const EJ="Font sizes";const OJ=x("Font size {0}");const AJ="12pt";const DJ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"};const MJ={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"};const NJ=(e,t)=>{const o=Math.pow(10,t);return Math.round(e*o)/o};const RJ=(e,t)=>{if(/[0-9.]+px$/.test(e)){return NJ(parseInt(e,10)*72/96,t||0)+"pt"}else{return xe(MJ,e).getOr(e)}};const BJ=e=>xe(DJ,e).getOr("");const LJ=e=>{const t=()=>{let t=M.none();const o=c.data;const n=e.queryCommandValue("FontSize");if(n){for(let e=3;t.isNone()&&e>=0;e--){const s=RJ(n,e);const r=BJ(s);t=Y(o,e=>e.format===n||e.format===s||e.format===r)}}return{matchOpt:t,size:n}};const o=e=>t=>t.exists(t=>t.format===e);const n=()=>{const{matchOpt:e}=t();return e};const s=x(M.none);const r=t=>()=>{e.undoManager.transact(()=>{e.focus();e.execCommand("FontSize",false,t.format)})};const a=o=>{const{matchOpt:n,size:s}=t();const r=n.fold(x(s),e=>e.title);ym(o,S$,{text:r});jj(e,{value:r})};const c=tJ(e,"font_size_formats",QX.Space);return{tooltip:WX(e,OJ(),AJ),text:M.some(AJ),icon:M.none(),isSelectedFor:o,getPreviewFor:s,getCurrentValue:n,onAction:r,updateText:a,dataset:c,shouldHide:false,isInvalid:A}};const HJ=(e,t)=>YX(e,t,LJ(e),OJ,"FontSizeTextUpdate","fontsize");const IJ=e=>{var t;const o={step:1};const n={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}};return(t=n[e])!==null&&t!==void 0?t:o};const PJ=16;const FJ=e=>e>=0;const VJ=e=>{const t=()=>e.queryCommandValue("FontSize");const o=e=>ym(e,S$,{text:t()});return{updateInputValue:o,onAction:(t,o)=>e.execCommand("FontSize",false,t,{skip_focus:!o}),getNewValue:(o,n)=>{Ha(o,["unsupportedLength","empty"]);const s=t();const r=Ha(o,["unsupportedLength","empty"]).or(Ha(s,["unsupportedLength","empty"]));const a=r.map(e=>e.value).getOr(PJ);const c=aR(e);const i=r.map(e=>e.unit).filter(e=>e!=="").getOr(c);const l=n(a,IJ(i).step);const d=`${FJ(l)?l:a}${i}`;if(d!==s){Zj(e,{value:d})}return d}}};const jJ=(e,t)=>TJ(e,t,VJ(e),"fontsizeinput");const ZJ=(e,t)=>{const o=KX(t,LJ(e));e.ui.registry.addNestedMenuItem("fontsize",{text:EJ,onSetup:Xj(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};const UJ="Formats";const qJ=e=>Nt(e)?"Formats":"Format {0}";const $J=(e,t)=>{const o="Formats";const n=t=>()=>e.formatter.match(t);const s=t=>()=>{const o=e.formatter.get(t);return o!==undefined?M.some({tag:o.length>0?o[0].inline||o[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):M.none()};const r=t=>{const n=e=>{if(kG(e)){return Q(e.items,n)}else if(wG(e)){return[{title:e.title,format:e.format}]}else{return[]}};const s=Q(OG(e),n);const r=lJ(e,x(s));const a=r.fold(x({title:o,tooltipLabel:""}),e=>({title:e.title,tooltipLabel:e.title}));ym(t,S$,{text:a.title});Fj(e,{value:a.tooltipLabel})};return{tooltip:WX(e,qJ(""),""),text:M.some(o),icon:M.none(),isSelectedFor:n,getCurrentValue:M.none,getPreviewFor:s,onAction:tZ(e),updateText:r,shouldHide:$N(e),isInvalid:t=>!e.formatter.canApply(t.format),dataset:t}};const WJ=(e,t)=>{const o={type:"advanced",...t.styles};return YX(e,t,$J(e,o),qJ,"StylesTextUpdate","styles")};const GJ=(e,t)=>{const o={type:"advanced",...t.styles};const n=KX(t,$J(e,o));e.ui.registry.addNestedMenuItem("styles",{text:UJ,onSetup:Xj(e,()=>n.getStyleItems().length>0),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})};const KJ=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}];const YJ=(e,t)=>(o,n,s,r)=>{const a=e(o).mapError(e=>wi(e)).getOrDie();return t(a,n,s,r)};const XJ={button:YJ(XP,(e,t,o,n)=>MX(e,t.shared.providers,n)),togglebutton:YJ(eF,(e,t,o,n)=>RX(e,t.shared.providers,n)),menubutton:YJ(dP,(e,t,o,n)=>aW(e,"tox-tbtn",t,M.none(),false,n)),splitbutton:YJ(KF,(e,t,o,n)=>HX(e,t.shared,n)),grouptoolbarbutton:YJ(WF,(e,t,o,n)=>{const s=o.ui.registry.getAll().buttons;const r=e=>rQ(o,{buttons:s,toolbar:e,allowToolbarGroups:false},t,M.none());const a={[rm]:t.shared.header.isPositionedAtTop()?sm.TopToBottom:sm.BottomToTop};switch(KN(o)){case DN.floating:return AX(e,t,r,a,n);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})};const JJ=(e,t,o,n)=>xe(XJ,e.type).fold(()=>{console.error("skipping button defined by",e);return M.none()},s=>M.some(s(e,t,o,n)));const QJ={styles:WJ,fontsize:HJ,fontsizeinput:jJ,fontfamily:CJ,blocks:gJ,align:cJ,navigateback:$X};const eQ=e=>{const t=j(KJ,t=>{const o=$(t.items,t=>Ce(e,t)||Ce(QJ,t));return{name:t.name,items:o}});return $(t,e=>e.items.length>0)};const tQ=e=>{const t=e.split("|");return j(t,e=>({items:e.trim().split(" ")}))};const oQ=e=>b(e,e=>(Ce(e,"name")||Ce(e,"label"))&&Ce(e,"items"));const nQ=e=>{const t=e.toolbar;const o=e.buttons;if(t===false){return[]}else if(t===undefined||t===true){return eQ(o)}else if(c(t)){return tQ(t)}else if(oQ(t)){return t}else{console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]");return[]}};const sQ=(e,t,o,n,s,r)=>xe(t,o.toLowerCase()).orThunk(()=>r.bind(e=>de(e,e=>xe(t,e+o.toLowerCase())))).fold(()=>xe(QJ,o.toLowerCase()).map(t=>t(e,s)),t=>{if(t.type==="grouptoolbarbutton"&&!n){console.warn(`Ignoring the '${o}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);return M.none()}else{return JJ(t,s,e,o.toLowerCase())}});const rQ=(e,t,o,n)=>{const s=nQ(t);const r=j(s,s=>{const r=Q(s.items,s=>s.trim().length===0?[]:sQ(e,t.buttons,s,t.allowToolbarGroups,o,n).toArray());return{title:M.from(e.translate(s.name)),label:mt(s.label!==undefined,e.translate(s.label)),items:r}});return $(r,e=>e.items.length>0)};const aQ=(e,t,o,n)=>{const s=t.mainUi.outerContainer;const r=o.toolbar;const a=o.buttons;if(b(r,c)){const t=r.map(t=>{const s={toolbar:t,buttons:a,allowToolbarGroups:o.allowToolbarGroups};return rQ(e,s,n,M.none())});sX.setToolbars(s,t)}else{sX.setToolbar(s,rQ(e,o,n,M.none()))}};const cQ=nn();const iQ=cQ.os.isiOS()&&cQ.os.version.major<=12;const lQ=(e,t)=>{const{uiMotherships:o}=t;const n=e.dom;let s=e.getWin();const r=e.getDoc().documentElement;const a=Ee(lr(s.innerWidth,s.innerHeight));const c=Ee(lr(r.offsetWidth,r.offsetHeight));const i=()=>{const t=a.get();if(t.left!==s.innerWidth||t.top!==s.innerHeight){a.set(lr(s.innerWidth,s.innerHeight));Rj(e)}};const l=()=>{const t=e.getDoc().documentElement;const o=c.get();if(o.left!==t.offsetWidth||o.top!==t.offsetHeight){c.set(lr(t.offsetWidth,t.offsetHeight));Rj(e)}};const d=t=>{Bj(e,t)};n.bind(s,"resize",i);n.bind(s,"scroll",d);const u=Qn($t.fromDom(e.getBody()),"load",l);e.on("hide",()=>{Z(o,e=>{Is(e.element,"display","none")})});e.on("show",()=>{Z(o,e=>{$s(e.element,"display")})});e.on("NodeChange",l);e.on("remove",()=>{u.unbind();n.unbind(s,"resize",i);n.unbind(s,"scroll",d);s=null})};const dQ=(e,t,o)=>{if(LR(e)){Ty(o.mainUi.mothership.element,o.popupUi.mothership)}zy(t,o.dialogUi.mothership)};const uQ=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=t;const c=Ee(0);const i=r.outerContainer;xX(e);const l=$t.fromDom(s.targetNode);const d=In(Hn(l));Ty(l,r.mothership);dQ(e,d,t);e.on("PostRender",()=>{sX.setSidebar(i,o.sidebar,yR(e))});e.on("SkinLoaded",()=>{aQ(e,t,o,n);c.set(e.getWin().innerWidth);sX.setMenubar(i,lX(e,o));sX.setViews(i,o.views);lQ(e,t)});const f=sX.getSocket(i).getOrDie("Could not find expected socket element");if(iQ){Ps(f.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const t=Lt(()=>{e.dispatch("ScrollContent")},20);const o=Jn(f.element,"scroll",t.throttle);e.on("remove",o.unbind)}CV(e,t);e.addCommand("ToggleSidebar",(t,o)=>{sX.toggleSidebar(i,o);$j(e)});e.addQueryValueHandler("ToggleSidebar",()=>{var e;return(e=sX.whichSidebar(i))!==null&&e!==void 0?e:""});e.addCommand("ToggleView",(t,o)=>{if(sX.toggleView(i,o)){const t=i.element;r.mothership.broadcastOn([Wz()],{target:t});Z(a,e=>{e.broadcastOn([Wz()],{target:t})});if(u(sX.whichView(i))){e.focus();e.nodeChanged();sX.refreshToolbar(i)}Wj(e)}});e.addQueryValueHandler("ToggleView",()=>{var e;return(e=sX.whichView(i))!==null&&e!==void 0?e:""});const m=KN(e);const g=()=>{sX.refreshToolbar(t.mainUi.outerContainer)};if(m===DN.sliding||m===DN.floating){e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const t=e.getWin().innerWidth;if(t!==c.get()){g();c.set(t)}})}const p={setEnabled:e=>{const o=e?"setEnabled":"setDisabled";xV(t,o)},isEnabled:()=>!Pv.isDisabled(i)};return{iframeContainer:f.element.dom,editorContainer:i.element.dom,api:p}};var fQ=Object.freeze({__proto__:null,render:uQ});const mQ=e=>{const t=/^[0-9\.]+(|px)$/i;if(t.test(""+e)){return M.some(parseInt(""+e,10))}return M.none()};const gQ=e=>y(e)?e+"px":e;const pQ=(e,t,o)=>{const n=t.filter(t=>e<t);const s=o.filter(t=>e>t);return n.or(s).getOr(e)};const hQ=(e,t)=>{if(typeof t==="number"){return M.from(t)}const o=/^([0-9.]+)(pt|em|px)$/.exec(t.trim());if(o){const t=o[2];const n=Number.parseFloat(o[1]);if(Number.isNaN(n)||n<0){return M.none()}else if(t==="em"){return M.from(n*Number.parseFloat(window.getComputedStyle(e.dom).fontSize))}else if(t==="pt"){return M.from(n*(72/96))}else if(t==="px"){return M.from(n)}}return M.none()};const yQ=e=>{const t=hQ($t.fromDom(e.targetElm),IN(e));const o=VN(e);const n=ZN(e);return t.map(e=>pQ(e,o,n))};const bQ=e=>yQ(e).getOr(IN(e));const vQ=e=>{const t=PN(e);const o=FN(e);const n=jN(e);return mQ(t).map(e=>pQ(e,o,n))};const kQ=e=>{const t=vQ(e);return t.getOr(PN(e))};const{ToolbarLocation:wQ,ToolbarMode:_Q}=IR;const xQ=40;const CQ=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=o;const c=EN.DOM;const i=MR(e);const l=BR(e);const d=jN(e).or(vQ(e));const u=n.shared.header;const f=u.isPositionedAtTop;const m=150;const g=KN(e);const p=g===_Q.sliding||g===_Q.floating;const h=Ee(false);const y=()=>h.get()&&!e.removed;const b=e=>p?e.fold(x(0),e=>e.components().length>1?Ys(e.components()[1].element):0):0;const v=o=>{switch(XN(e)){case wQ.auto:const e=sX.getToolbar(r.outerContainer);const n=b(e);const s=Ys(o.element)-n;const a=Xa(t);const c=a.y>s;if(c){return"top"}else{const e=wn(t);const o=Math.max(e.dom.scrollHeight,Ys(e));const n=a.bottom<o-s;if(n){return"bottom"}else{const e=tc();const t=e.bottom<a.bottom-s;return t?"bottom":"top"}}case wQ.bottom:return"bottom";case wQ.top:default:return"top"}};const k=e=>{s.on(t=>{Nk.setModes(t,[e]);u.setDockingMode(e);const o=f()?sm.TopToBottom:sm.BottomToTop;gs(t.element,rm,o)})};const w=()=>{s.on(e=>{const o=d.getOrThunk(()=>Va().width-mr(t).left-10);Is(e.element,"max-width",o+"px")})};const _=(o,n)=>{s.on(s=>{const a=sX.getToolbar(r.outerContainer);const c=b(a);const i=Xa(t);const l=C(e,r.outerContainer.element);const d=()=>l.fold(()=>i.x,e=>{const t=Xa(e);const o=po(e,Rs());return o?i.x:i.x-t.x});const u=()=>l.fold(()=>f()?Math.max(i.y-Ys(s.element)+c,0):i.bottom,e=>{var t;const o=Xa(e);const n=(t=e.dom.scrollTop)!==null&&t!==void 0?t:0;const r=po(e,Rs());const a=r?Math.max(i.y-Ys(s.element)+c,0):i.y-o.y+n-Ys(s.element)+c;return f()?a:i.bottom});const g=d();const p=mt(o,Math.ceil(r.outerContainer.element.dom.getBoundingClientRect().width)).filter(e=>e>m).map(e=>{const t=n.getOr(gr());const o=window.innerWidth-(g-t.left);const s=Math.max(Math.min(e,o),m);if(o<e){Is(r.outerContainer.element,"width",s+"px")}return{width:s+"px"}}).getOr({width:"max-content"});const h={position:"absolute",left:Math.round(g)+"px",top:u()+"px"};Ps(r.outerContainer.element,{...h,...p})})};const C=(e,t)=>LR(e)?nc(t):M.none();const S=()=>{Z(a,e=>{e.broadcastOn([Gz()],{})})};const z=()=>{if(!i){const e=fr(r.outerContainer.element).left+rr(r.outerContainer.element);if(e>=window.innerWidth-xQ||Zs(r.outerContainer.element,"width").isSome()){Is(r.outerContainer.element,"position","absolute");Is(r.outerContainer.element,"left","0px");$s(r.outerContainer.element,"width");return true}}return false};const T=e=>{if(!y()){return}if(!i){w()}const t=gr();const o=i?false:z();if(p){sX.refreshToolbar(r.outerContainer)}if(!i){const e=gr();const n=mt(t.left!==e.left,t);_(o,n);n.each(t=>{pr(t.left,e.top)})}if(l){s.on(e)}S()};const E=()=>{if(i||!l||!y()){return false}return s.get().exists(e=>{const t=u.getDockingMode();const o=v(e);if(o!==t){k(o);return true}else{return false}})};const O=()=>{h.set(true);Is(r.outerContainer.element,"display","flex");c.addClass(e.getBody(),"mce-edit-focus");Z(a,e=>{$s(e.element,"display")});E();if(LR(e)){T(e=>Nk.isDocked(e)?Nk.reset(e):Nk.refresh(e))}else{T(Nk.refresh)}};const A=()=>{h.set(false);Is(r.outerContainer.element,"display","none");c.removeClass(e.getBody(),"mce-edit-focus");Z(a,e=>{Is(e.element,"display","none")})};const D=()=>{const e=E();if(e){T(Nk.reset)}};return{isVisible:y,isPositionedAtTop:f,show:O,hide:A,update:T,updateMode:D,repositionPopups:S}};const SQ=(e,t)=>{const o=Xa(e);return{pos:t?o.y:o.bottom,bounds:o}};const zQ=(e,t,o,n)=>{const s=Ee(SQ(t,o.isPositionedAtTop()));const r=n=>{const{pos:r,bounds:a}=SQ(t,o.isPositionedAtTop());const{pos:c,bounds:i}=s.get();const l=a.height!==i.height||a.width!==i.width;s.set({pos:r,bounds:a});if(l){Rj(e,n)}if(o.isVisible()){if(c!==r){o.update(Nk.reset)}else if(l){o.updateMode();o.repositionPopups()}}};if(!n){e.on("activate",o.show);e.on("deactivate",o.hide)}e.on("SkinLoaded ResizeWindow",()=>o.update(Nk.reset));e.on("NodeChange keydown",e=>{requestAnimationFrame(()=>r(e))});let a=0;const c=Ht(()=>o.update(Nk.refresh),33);e.on("ScrollWindow",()=>{const e=gr().left;if(e!==a){a=e;c.throttle()}o.updateMode()});if(LR(e)){e.on("ElementScroll",e=>{o.update(Nk.refresh)})}const i=kt();i.set(Qn($t.fromDom(e.getBody()),"load",e=>r(e.raw)));e.on("remove",()=>{i.clear()})};const TQ=(e,t,o,n,s)=>{const{mainUi:r}=t;const a=wt();const c=$t.fromDom(s.targetNode);const i=CQ(e,c,t,n,a);const l=eR(e);CX(e);const d=()=>{if(a.isSet()){i.show();return}a.set(sX.getHeader(r.outerContainer).getOrDie());const s=NR(e);if(LR(e)){Ty(c,r.mothership);Ty(c,t.popupUi.mothership)}else{zy(s,r.mothership)}zy(s,t.dialogUi.mothership);const d=()=>{aQ(e,t,o,n);sX.setMenubar(r.outerContainer,lX(e,o));i.show();zQ(e,c,i,l);e.nodeChanged()};if(l){e.once("SkinLoaded",d)}else{d()}};e.on("show",d);e.on("hide",i.hide);if(!l){e.on("focus",d);e.on("blur",i.hide)}e.on("init",()=>{if(e.hasFocus()||l){d()}});CV(e,t);const u={show:d,hide:i.hide,setEnabled:e=>{const o=e?"setEnabled":"setDisabled";xV(t,o)},isEnabled:()=>!Pv.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:u}};var EQ=Object.freeze({__proto__:null,render:TQ});const OQ=()=>{const e=wt();const t=wt();const o=wt();const n=(e,t)=>()=>o.get().bind(e=>t(e.outerContainer)).getOrDie(`Could not find ${e} element in OuterContainer`);const s=()=>{const o=e.get().map(e=>e.mothership);const n=t.get().map(e=>e.mothership);return o.fold(()=>n.toArray(),e=>n.fold(()=>[e],t=>po(e.element,t.element)?[e]:[e,t]))};return{dialogUi:e,popupUi:t,mainUi:o,getUiMotherships:s,lazyGetInOuterOrDie:n}};const AQ="contexttoolbar-show";const DQ="contexttoolbar-hide";const MQ=(e,t,o)=>({setInputEnabled:t=>{if(!t&&o){os(o)}Pv.set(e,!t)},isInputEnabled:()=>!Pv.isDisabled(e),hide:()=>{hm(e,jl())},back:()=>{hm(e,jX)},getValue:()=>t.get().getOrThunk(()=>G_.getValue(e)),setValue:o=>{if(e.getSystem().isConnected()){G_.setValue(e,o)}else{t.set(o)}}});const NQ=(e,t,o)=>Tm(h$,(n,s)=>{const r=e.get(n);const a=MQ(r,o,n.element);t.onAction(a,s.event.buttonApi)});const RQ=(e,t,o,n)=>{const{primary:s,...r}=t.original;const a=vi(XP({...r,type:"button",onAction:v}));return NX(a,o,[NQ(e,t,n)])};const BQ=(e,t,o,n)=>{const{primary:s,...r}=t.original;const a=vi(eF({...r,type:"togglebutton",onAction:v}));return BX(a,o,[NQ(e,t,n)])};const LQ=e=>e.type==="contextformtogglebutton";const HQ=(e,t,o,n)=>{if(LQ(t)){return BQ(e,t,o,n)}else{return RQ(e,t,o,n)}};const IQ=(e,t,o,n)=>{const s=j(t,t=>Uz(HQ(e,t,o,n)));const r=()=>j(s,e=>e.asSpec());const a=e=>de(t,(t,o)=>{if(t.primary){return M.from(s[o]).bind(t=>t.getOpt(e)).filter(T(Pv.isDisabled))}else{return M.none()}});return{asSpecs:r,findPrimary:a}};const PQ=(e,t,o,n)=>{const{width:s,height:r}=e.initValue();let a=Y$;const c=true;const i=et("ratio-event");const l=e=>MQ(e,n);const d=e=>iL(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons);const u=()=>!c;const f=e.label.getOr("Constrain proportions");const m=t.translate(f);const g=kO.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":m,"data-mce-name":f}},components:[d("lock"),d("unlock")],buttonBehaviours:Ym([Pv.config({disabled:u}),tz.config({}),Lz.config(t.tooltips.getConfig({tooltipText:m}))])});const p=e=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:e});const h=e=>{const t=Dr(e.element,"div.tox-focusable-wrapper");return t.fold(M.none,e=>{os(e);return M.some(true)})};const y=e=>gO.parts.field({factory:DO,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:e?s:r,inputBehaviours:Ym([Pv.config({disabled:u}),tz.config({}),ng("size-input-toolbar-events",[Tm(wl(),(t,o)=>{ym(t,i,{isField1:e})})]),ay.config({mode:"special",onEnter:o,onEscape:h})]),selectOnFocus:false});const b=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Kb(t.translate(e))]});const k=e=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[e],behaviours:Ym([tz.config({}),mg.config({}),ay.config({mode:"special",onEnter:e=>{const t=Rr(e.element,"input");return t.fold(M.none,e=>{os(e);return M.some(true)})}})])});const w=k(kO.parts.field1(p([gO.parts.label(b("Width:")),y(true)])));const _=k(kO.parts.field2(p([gO.parts.label(b("Height:")),y(false)])));const x=Ee(v);const C=[gV({onBeforeSetup:e=>Rr(e.element,"input").each(os),onSetup:e.onSetup,getApi:l},x),hV({getApi:l},x,n)];return kO.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[w,p([g]),_],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{G$(G_.getValue(e)).each(e=>{a(e).each(e=>{G_.setValue(t,W$(e))})})},onInput:e=>hm(e,$U),coupledFieldBehaviours:Ym([mg.config({}),ay.config({mode:"flow",focusInside:Zd.OnEnterOrSpaceMode,cycles:false,selector:"button, .tox-focusable-wrapper"}),Pv.config({disabled:u,onDisabled:e=>{kO.getField1(e).bind(gO.getField).each(Pv.disable);kO.getField2(e).bind(gO.getField).each(Pv.disable);kO.getLock(e).each(Pv.disable)},onEnabled:e=>{kO.getField1(e).bind(gO.getField).each(Pv.enable);kO.getField2(e).bind(gO.getField).each(Pv.enable);kO.getLock(e).each(Pv.enable)}}),SV(()=>t.checkUiComponentContext("mode:design")),ng("size-input-toolbar-events2",[Tm(i,(e,t)=>{const o=t.event.isField1;const n=o?kO.getField1(e):kO.getField2(e);const s=o?kO.getField2(e):kO.getField1(e);const r=n.map(G_.getValue).getOr("");const c=s.map(G_.getValue).getOr("");a=J$(r,c)}),Tm($U,t=>e.onInput(l(t))),...C])])})};const FQ=(e,t,o)=>gO.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...e.toArray(),t],fieldBehaviours:Ym([Pv.config({disabled:()=>o.checkUiComponentContext("mode:design").shouldDisable,onDisabled:e=>{FX(e);gO.getField(e).each(Pv.disable)},onEnabled:e=>{gO.getField(e).each(Pv.enable)}})])});const VQ=(e,t,o,n)=>{const s=Ee(v);const r=e=>MQ(e,n);const a=e.label.map(e=>gO.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Kb(t.translate(e))]}));const c=gO.parts.field({factory:DO,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(e.min()),max:String(e.max())},data:e.initValue().toString(),fromInputValue:t=>Rt(t).getOr(e.min()),toInputValue:e=>String(e),inputBehaviours:Ym([Pv.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),SV(()=>t.checkUiComponentContext("mode:design")),ay.config({mode:"special",onEnter:o,onLeft:(e,t)=>{t.cut();return M.none()},onRight:(e,t)=>{t.cut();return M.none()}}),ng("slider-events",[gV({onSetup:e.onSetup,getApi:r,onBeforeSetup:ay.focusIn},s),hV({getApi:r},s,n),Tm(Sl(),t=>{e.onInput(r(t))})])])});return FQ(a,c,t)};const jQ=(e,t,o,n)=>{const s=Ee(v);const r=e=>MQ(e,n);const a=e.label.map(e=>gO.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Kb(t.translate(e))]}));const c=e.placeholder.map(e=>({placeholder:t.translate(e)})).getOr({});const i={...c};const l=gO.parts.field({factory:DO,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:i,data:e.initValue(),selectOnFocus:true,inputBehaviours:Ym([Pv.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),SV(()=>t.checkUiComponentContext("mode:design")),ay.config({mode:"special",onEnter:o,onLeft:(e,t)=>{t.cut();return M.none()},onRight:(e,t)=>{t.cut();return M.none()}}),ng("input-events",[gV({onSetup:e.onSetup,getApi:e=>{const t=Dr(e.element,".tox-toolbar").bind(e=>Rr(e,"button:enabled"));return t.fold(()=>MQ(e,n),t=>MQ(e,n,t))},onBeforeSetup:ay.focusIn},s),hV({getApi:r},s,n),Tm(Sl(),t=>{e.onInput(r(t))})])])});return FQ(a,l,t)};const ZQ=(e,t,o)=>{const n=wt();const s=e=>c.findPrimary(e).orThunk(()=>i.findPrimary(e)).map(e=>{bm(e);return true});const r=Uz(e(o,s,n));const a=q(t.commands,e=>e.align==="start");const c=IQ(r,a.pass,o,n);const i=IQ(r,a.fail,o,n);return $([{title:M.none(),label:M.none(),items:c.asSpecs()},{title:M.none(),label:M.none(),items:[r.asSpec()]},{title:M.none(),label:M.none(),items:i.asSpecs()}],e=>e.items.length>0)};const UQ=(e,t)=>{switch(e.type){case"contextform":return ZQ(z(jQ,e),e,t);case"contextsliderform":return ZQ(z(VQ,e),e,t);case"contextsizeinputform":return ZQ(z(PQ,e),e,t)}};const qQ=(e,t,o)=>xY({type:e,uid:et("context-toolbar"),initGroups:UQ(t,o),onEscape:M.none,cyclicKeying:true,providers:o});const $Q={renderContextForm:qQ,buildInitGroups:UQ};const WQ=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o;const GQ=e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const o=Nn($t.fromDom(e.startContainer),e.startOffset).element;const n=pn(o)?xn(o):M.some(o);return n.filter(gn).map(e=>e.dom.getBoundingClientRect()).getOr(t)}else{return t}};const KQ=e=>{const t=e.selection.getRng();const o=GQ(t);if(e.inline){const e=gr();return Ya(e.left+o.left,e.top+o.top,o.width,o.height)}else{const t=Ja($t.fromDom(e.getBody()));return Ya(t.x+o.left,t.y+o.top,o.width,o.height)}};const YQ=(e,t)=>t.filter(e=>Ns(e)&&mn(e)).map(Ja).getOrThunk(()=>KQ(e));const XQ=(e,t,o)=>{const n=Math.max(e.x+o,t.x);const s=Math.min(e.right-o,t.right);return{x:n,width:s-n}};const JQ=(e,t,o,n,s,r)=>{const a=$t.fromDom(e.getContainer());const c=Rr(a,".tox-editor-header").getOr(a);const i=Xa(c);const l=i.y>=t.bottom;const d=n&&!l;if(e.inline&&d){return{y:Math.max(i.bottom+r,o.y),bottom:o.bottom}}if(e.inline&&!d){return{y:o.y,bottom:Math.min(i.y-r,o.bottom)}}const u=s==="line"?Xa(a):t;if(d){return{y:Math.max(i.bottom+r,o.y),bottom:Math.min(u.bottom-r,o.bottom)}}return{y:Math.max(u.y+r,o.y),bottom:Math.min(i.y-r,o.bottom)}};const QQ=(e,t,o,n=0)=>{const s=Va(window);const r=Xa($t.fromDom(e.getContentAreaContainer()));const a=xR(e)||TR(e)||OR(e);const{x:c,width:i}=XQ(r,s,n);if(e.inline&&!a){return Ya(c,s.y,i,s.height)}else{const a=t.header.isPositionedAtTop();const{y:l,bottom:d}=JQ(e,r,s,a,o,n);return Ya(c,l,i,d-l)}};const e1=12;const t1={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]};const o1={maxHeightFunction:om(),maxWidthFunction:nm()};const n1=(e,t)=>{const o=e.selection.getRng();const n=Nn($t.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&po(n.element,t)};const s1=(e,t,o)=>{const n=Zs(e,"position");Is(e,"position",t);const s=o(e);n.each(t=>Is(e,"position",t));return s};const r1=e=>e==="node";const a1=(e,t,o,n,s)=>{const r=KQ(e);const a=n.lastElement().exists(e=>po(o,e));if(n1(e,o)){return a?Xf:$f}else if(a){return s1(t,n.getMode(),()=>{const e=WQ(r,Xa(t),-20);return e&&!n.isReposition()?Qf:Xf})}else{const e=n.getMode()==="fixed"?s.y+gr().top:s.y;const o=Ys(t)+e1;return e+o<=r.y?$f:Wf}};const c1=(e,t,o,n)=>{const s=t=>(n,s,r,a,c)=>{const i=a1(e,a,t,o,c);const l={...n,y:c.y,height:c.height};return{...i(l,s,r,a,c),alwaysFit:true}};const r=e=>r1(n)?[s(e)]:[];const a={onLtr:e=>[wf,_f,vf,yf,kf,bf].concat(r(e)),onRtl:e=>[wf,_f,kf,bf,vf,yf].concat(r(e))};const c={onLtr:e=>[_f,yf,bf,vf,kf,wf].concat(r(e)),onRtl:e=>[_f,bf,yf,kf,vf,wf].concat(r(e))};return t?c:a};const i1=(e,t,o,n)=>{if(t==="line"){return{bubble:Zu(e1,0,t1),layouts:{onLtr:()=>[xf],onRtl:()=>[Cf]},overrides:o1}}else{return{bubble:Zu(0,e1,t1,1/e1),layouts:c1(e,o,n,t),overrides:o1}}};const l1=(e,t)=>{const o=$(t,t=>t.predicate(e.dom));const{pass:n,fail:s}=q(o,e=>e.type==="contexttoolbar");return{contextToolbars:n,contextForms:s}};const d1=e=>{if(e.length<=1){return e}else{const t=t=>P(e,e=>e.position===t);const o=t=>$(e,e=>e.position===t);const n=t("selection");const s=t("node");if(n||s){if(s&&n){const e=o("node");const t=j(o("selection"),e=>({...e,position:"node"}));return e.concat(t)}else{return n?o("selection"):o("node")}}else{return o("line")}}};const u1=e=>{if(e.length<=1){return e}else{const t=t=>Y(e,e=>e.position===t);const o=t("selection").orThunk(()=>t("node")).orThunk(()=>t("line")).map(e=>e.position);return o.fold(()=>[],t=>$(e,e=>e.position===t))}};const f1=(e,t,o)=>{const n=l1(e,t);if(n.contextForms.length>0){return M.some({elem:e,toolbars:[n.contextForms[0]]})}else{const t=l1(e,o);if(t.contextForms.length>0){return M.some({elem:e,toolbars:[t.contextForms[0]]})}else if(n.contextToolbars.length>0||t.contextToolbars.length>0){const o=d1(n.contextToolbars.concat(t.contextToolbars));return M.some({elem:e,toolbars:o})}else{return M.none()}}};const m1=(e,t,o)=>{if(e(t)){return M.none()}else{return ia(t,e=>{if(gn(e)){const{contextToolbars:t,contextForms:n}=l1(e,o.inNodeScope);const s=n.length>0?n:u1(t);return s.length>0?M.some({elem:e,toolbars:s}):M.none()}else{return M.none()}},e)}};const g1=(e,t)=>{const o=$t.fromDom(t.getBody());const n=e=>po(e,o);const s=e=>!n(e)&&!ho(o,e);const r=$t.fromDom(t.selection.getNode());if(s(r)){return M.none()}return f1(r,e.inNodeScope,e.inEditorScope).orThunk(()=>m1(n,r,e))};const p1=(e,t)=>{const o={};const n=[];const s=[];const r={};const a={};const c=(e,c)=>{const i=vi(fF(c));o[e]=i;i.launch.map(o=>{r["form:"+e+""]={...c.launch,type:o.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{t(i)}}});if(i.scope==="editor"){s.push(i)}else{n.push(i)}a[e]=i};const i=(e,o)=>{yF(o).each(c=>{if(c.launch.isSome()){r["toolbar:"+e+""]={...o.launch,type:"button",onAction:()=>{t(c)}}}if(o.scope==="editor"){s.push(c)}else{n.push(c)}a[e]=c})};const l=ue(e);Z(l,t=>{const o=e[t];if(o.type==="contextform"||o.type==="contextsliderform"||o.type==="contextsizeinputform"){c(t,o)}else if(o.type==="contexttoolbar"){i(t,o)}});return{forms:o,inNodeScope:n,inEditorScope:s,lookupTable:a,formNavigators:r}};const h1="tox-pop--transition";const y1=e=>e===zJ.ENTER||e===zJ.SPACEBAR;const b1=(e,t,o,n)=>{const s=n.backstage;const r=s.shared;const a=nn().deviceType.isTouch;const c=wt();const i=wt();const l=wt();const d=qX({sink:o,onEscape:()=>{e.focus();Gj(e);return M.some(true)},onHide:()=>{Gj(e)},onBack:()=>{Kj(e)}});const u=ev(d.sketch);const f=()=>{const t=l.get().getOr("node");const o=r1(t)?1:0;return QQ(e,r,t,o)};const m=()=>!e.removed&&!(a()&&s.isContextMenuOpen());const g=e=>at(dt(e,c.get(),po),true);const p=()=>{if(!m()){return true}else{const t=f();const o=at(l.get(),"node")?YQ(e,c.get()):KQ(e);return t.height<=0||!WQ(o,t,.01)}};const h=()=>{c.clear();i.clear();l.clear();SO.hide(u)};const y=()=>{if(SO.isOpen(u)){const e=u.element;$s(e,"display");if(p()){Is(e,"display","none")}else{i.set(0);SO.reposition(u)}}};const b=t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Ym([ay.config({mode:"acyclic"}),ng("pop-dialog-wrap-events",[Hm(t=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>ay.focusIn(t))}),Im(t=>{e.shortcuts.remove("ctrl+F9")})])])});const k=e=>{const t=C([e]);ym(u,VX,{forwardContents:b(t)})};const w=It(()=>p1(t,k));const _=(t,o)=>rQ(e,{buttons:t,toolbar:o.items,allowToolbarGroups:false},n.backstage,M.some(["form:","toolbar:"]));const x=(e,t)=>$Q.buildInitGroups(e,t);const C=t=>{const{buttons:o}=e.ui.registry.getAll();const n=w();const s={...o,...n.formNavigators};const a=KN(e)===DN.scrolling?DN.scrolling:DN.default;const c=J(j(t,e=>e.type==="contexttoolbar"?_(s,hF(e)):x(e,r.providers)));return xY({type:a,uid:et("context-toolbar"),initGroups:c,onEscape:M.none,cyclicKeying:true,providers:r.providers})};const S=(t,n)=>{const s=t==="node"?r.anchors.node(n):r.anchors.cursor();const l=i1(e,t,a(),{lastElement:c.get,isReposition:()=>at(i.get(),0),getMode:()=>BC.getMode(o)});return st(s,l)};const z=(e,t)=>{O.cancel();if(!m()){return}const n=C(e);const s=e[0].position;const r=S(s,t);l.set(s);i.set(1);const a=u.element;$s(a,"display");if(!g(t)){qr(a,h1);BC.reset(o,u)}SO.showWithinBounds(u,b(n),{anchor:r,transition:{classes:[h1],mode:"placement"}},()=>M.some(f()));t.fold(c.clear,c.set);if(p()){Is(a,"display","none")}};const T=()=>{Is(u.element,"transition","none");y();$s(u.element,"transition")};let E=false;const O=Ht(()=>{if(!e.hasFocus()||e.removed||E){return}if(Wr(u.element,h1)){O.throttle()}else{const t=w();g1(t,e).fold(h,e=>{z(e.toolbars,M.some(e.elem))})}},17);e.on("init",()=>{e.on("remove",h);e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",y);e.on("click focus SetContent",O.throttle);e.on("keyup",e=>{if(!y1(e.keyCode)||!d.inSubtoolbar()){O.throttle()}});e.on(DQ,h);e.on(AQ,t=>{const o=w();xe(o.lookupTable,t.toolbarKey).each(o=>{z([o],mt(t.target!==e,t.target));PX(u)})});e.on("focusout",t=>{TN.setEditorTimeout(e,()=>{if(as(o.element).isNone()&&as(u.element).isNone()&&!e.hasFocus()){h()}},0)});e.on("SwitchMode",()=>{if(e.mode.isReadOnly()){h()}});e.on("DisabledStateChange",e=>{if(e.state){h()}});e.on("ExecCommand",({command:e})=>{if(e.toLowerCase()==="toggleview"){h()}});e.on("AfterProgressState",t=>{if(t.state){h()}else if(e.hasFocus()){O.throttle()}});e.on("dragstart",()=>{E=true});e.on("dragend drop",()=>{E=false});e.on("NodeChange",e=>{if(!d.inSubtoolbar()){as(u.element).fold(O.throttle,v)}else{T()}})})};const v1=e=>{const t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Z(t,t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:oZ(e,t.cmd),onSetup:Qj(e,t.name)})});e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Xj(e),onAction:oZ(e,"JustifyNone")})};const k1=(e,t)=>{const o=()=>{const o=t.getOptions(e);const n=t.getCurrent(e).map(t.hash);const s=wt();return j(o,o=>({type:"togglemenuitem",text:t.display(o),onSetup:r=>{const a=e=>{if(e){s.on(e=>e.setActive(false));s.set(r)}r.setActive(e)};a(at(n,t.hash(o)));const c=t.watcher(e,o,a);return()=>{s.clear();c()}},onAction:()=>t.setCurrent(e,o)}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:e=>e(o()),onSetup:t.onToolbarSetup});e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:o,onSetup:t.onMenuSetup})};const w1=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:zR,hash:e=>Ia(e,["fixed","relative","empty"]).getOr(e),display:C,watcher:(e,t,o)=>e.formatter.formatChanged("lineheight",o,false,{value:t}).unbind,getCurrent:e=>M.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",false,t),onToolbarSetup:Xj(e),onMenuSetup:Xj(e)});const _1=e=>{const t=M.from(WN(e));return t.map(t=>({name:"language",text:"Language",icon:"language",getOptions:x(t),hash:e=>m(e.customCode)?e.code:`${e.code}/${e.customCode}`,display:e=>e.title,watcher:(e,t,o)=>{var n;return e.formatter.formatChanged("lang",o,false,{value:t.code,customValue:(n=t.customCode)!==null&&n!==void 0?n:null}).unbind},getCurrent:e=>{const t=$t.fromDom(e.selection.getNode());return la(t,e=>M.some(e).filter(gn).bind(e=>{const t=ys(e,"lang");return t.map(t=>{const o=ys(e,"data-mce-lang").getOrUndefined();return{code:t,customCode:o,title:""}})}))},setCurrent:(e,t)=>e.execCommand("Lang",false,t),onToolbarSetup:t=>{const o=kt();t.setActive(e.formatter.match("lang",{},undefined,true));o.set(e.formatter.formatChanged("lang",t.setActive,true));return Yj(o.clear,Xj(e)(t))},onMenuSetup:Xj(e)}))};const x1=e=>{k1(e,w1(e));_1(e).each(t=>k1(e,t))};const C1=(e,t)=>{iJ(e,t);SJ(e,t);GJ(e,t);pJ(e,t);ZJ(e,t)};const S1=e=>{e.ui.registry.addContext("editable",()=>e.selection.isEditable());e.ui.registry.addContext("mode",t=>e.mode.get()===t);e.ui.registry.addContext("any",D);e.ui.registry.addContext("formatting",t=>e.formatter.canApply(t));e.ui.registry.addContext("insert",t=>e.schema.isValidChild(e.selection.getNode().tagName,t))};const z1=e=>eZ(e,"NodeChange",t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())});const T1=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:z1(e),onAction:oZ(e,"outdent")});e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Xj(e),onAction:oZ(e,"indent")})};const E1=e=>{T1(e)};const O1=(e,t)=>o=>{o.setActive(t.get());const n=e=>{t.set(e.state);o.setActive(e.state)};e.on("PastePlainTextToggle",n);return Yj(()=>e.off("PastePlainTextToggle",n),Xj(e)(o))};const A1=e=>{const t=Ee(hR(e));const o=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:o,onSetup:O1(e,t)});e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:o,onSetup:O1(e,t)})};const D1=(e,t)=>()=>{e.execCommand("mceToggleFormat",false,t)};const M1=e=>{Bq.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(t,o)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:Qj(e,t.name),onAction:D1(e,t.name),shortcut:t.shortcut})});for(let t=1;t<=6;t++){const o="h"+t;const n=`Access+${t}`;e.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+t,onSetup:Qj(e,o),onAction:D1(e,o),shortcut:n})}};const N1=e=>{Bq.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:oZ(e,t.action),shortcut:t.shortcut,context:t.context})});Bq.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:Xj(e),onAction:oZ(e,t.action)})})};const R1=e=>{Bq.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:oZ(e,t.action),onSetup:Qj(e,t.name)})})};const B1=e=>{M1(e);N1(e);R1(e)};const L1=e=>{Bq.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:oZ(e,t.action),context:t.context})});Bq.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:Xj(e),onAction:oZ(e,t.action)})});e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Xj(e),onAction:D1(e,"code")})};const H1=e=>{B1(e);L1(e)};const I1=(e,t)=>eZ(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o=>{o.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())});const P1=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:I1(e,"hasUndo"),onAction:oZ(e,"undo")});e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:I1(e,"hasRedo"),onAction:oZ(e,"redo")})};const F1=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:false,onSetup:I1(e,"hasUndo"),onAction:oZ(e,"undo"),shortcut:"Meta+Z"});e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:false,onSetup:I1(e,"hasRedo"),onAction:oZ(e,"redo"),shortcut:"Meta+Y"})};const V1=e=>{P1(e);F1(e)};const j1=e=>eZ(e,"VisualAid",t=>{t.setActive(e.hasVisual)});const Z1=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:j1(e),onAction:oZ(e,"mceToggleVisualAid"),context:"any"})};const U1=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:oZ(e,"mceToggleVisualAid"),context:"any"})};const q1=e=>{U1(e);Z1(e)};const $1=(e,t)=>{v1(e);H1(e);C1(e,t);V1(e);jZ(e);q1(e);E1(e);x1(e);A1(e);S1(e)};const W1=e=>c(e)?e.split(/[ ,]/):e;const G1=e=>t=>t.options.get(e);const K1=e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""});t("contextmenu_never_use_native",{processor:"boolean",default:false});t("contextmenu",{processor:e=>{if(e===false){return{value:[],valid:true}}else if(c(e)||b(e,c)){return{value:W1(e),valid:true}}else{return{valid:false,message:"Must be false or a string."}}},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})};const Y1=G1("contextmenu_never_use_native");const X1=G1("contextmenu_avoid_overlap");const J1=e=>Q1(e).length===0;const Q1=e=>{const t=e.ui.registry.getAll().contextMenus;const o=e.options.get("contextmenu");if(e.options.isSet("contextmenu")){return o}else{return $(o,e=>Ce(t,e))}};const e0=(e,t)=>({type:"makeshift",x:e,y:t});const t0=(e,t,o)=>e0(e.x+t,e.y+o);const o0=e=>e.type==="longpress"||e.type.indexOf("touch")===0;const n0=e=>{if(o0(e)){const t=e.touches[0];return e0(t.pageX,t.pageY)}else{return e0(e.pageX,e.pageY)}};const s0=e=>{if(o0(e)){const t=e.touches[0];return e0(t.clientX,t.clientY)}else{return e0(e.clientX,e.clientY)}};const r0=(e,t)=>{const o=EN.DOM.getPos(e);return t0(t,o.x,o.y)};const a0=(e,t)=>{if(t.type==="contextmenu"||t.type==="longpress"){if(e.inline){return n0(t)}else{return r0(e.getContentAreaContainer(),s0(t))}}else{return c0(e)}};const c0=e=>({type:"selection",root:$t.fromDom(e.selection.getNode())});const i0=e=>({type:"node",node:M.some($t.fromDom(e.selection.getNode())),root:$t.fromDom(e.getBody())});const l0=(e,t,o)=>{switch(o){case"node":return i0(e);case"point":return a0(e,t);case"selection":return c0(e)}};const d0=(e,t,o,n,s,r)=>{const a=o();const c=l0(e,t,r);P$(a,yL.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:false,search:M.none()}).map(e=>{t.preventDefault();SO.showMenuAt(s,{anchor:c},{menu:{markers:ZL("normal")},data:e})})};const u0={onLtr:()=>[_f,yf,bf,vf,kf,wf,$f,Wf,qf,Zf,Uf,jf],onRtl:()=>[_f,bf,yf,kf,vf,wf,$f,Wf,Uf,jf,qf,Zf]};const f0=12;const m0={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]};const g0=(e,t)=>{const o=e.selection;if(o.isCollapsed()||t.touches.length<1){return false}else{const n=t.touches[0];const s=o.getRng();const r=Ma(e.getWin(),Ta.domRange(s));return r.exists(e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY)}};const p0=e=>{const t=e.selection.getRng();const o=()=>{TN.setEditorTimeout(e,()=>{e.selection.setRng(t)},10);r()};e.once("touchend",o);const n=e=>{e.preventDefault();e.stopImmediatePropagation()};e.on("mousedown",n,true);const s=()=>r();e.once("longpresscancel",s);const r=()=>{e.off("touchend",o);e.off("longpresscancel",s);e.off("mousedown",n)}};const h0=(e,t,o)=>{const n=l0(e,t,o);const s=o==="point"?f0:0;return{bubble:Zu(0,s,m0),layouts:u0,overrides:{maxWidthFunction:nm(),maxHeightFunction:om()},...n}};const y0=(e,t,o,n,s,r,a)=>{const c=h0(e,t,r);P$(o,yL.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:true,search:M.none()}).map(o=>{t.preventDefault();const i=a?cm.HighlightMenuAndItem:cm.HighlightNone;SO.showMenuWithinBounds(s,{anchor:c},{menu:{markers:ZL("normal"),highlightOnOpen:i},data:o,type:"horizontal"},()=>M.some(QQ(e,n.shared,r==="node"?"node":"selection")));e.dispatch(DQ)})};const b0=(e,t,o,n,s,r)=>{const a=nn();const c=a.os.isiOS();const i=a.os.isMacOS();const l=a.os.isAndroid();const d=a.deviceType.isTouch();const u=()=>!(l||c||i&&d);const f=()=>{const a=o();y0(e,t,a,n,s,r,u())};if((i||c)&&r!=="node"){const o=()=>{p0(e);f()};if(g0(e,t)){o()}else{e.once("selectionchange",o);e.once("touchend",()=>e.off("selectionchange",o))}}else{f()}};const v0=e=>c(e)?e==="|":e.type==="separator";const k0={type:"separator"};const w0=e=>{const t=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(c(e)){return e}else{switch(e.type){case"separator":return k0;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const t=e.getSubmenuItems();if(c(t)){return t}else{return j(t,w0)}}};default:const o=e;return{type:"menuitem",...t(o),onAction:k(o.onAction)}}}};const _0=(e,t)=>{if(t.length===0){return e}const o=ie(e).filter(e=>!v0(e));const n=o.fold(()=>[],e=>[k0]);return e.concat(n).concat(t).concat([k0])};const x0=(e,t,o)=>{const n=G(t,(t,n)=>xe(e,n.toLowerCase()).map(e=>{const n=e.update(o);if(c(n)&&Mt(Dt(n))){return _0(t,n.split(" "))}else if(d(n)&&n.length>0){const e=j(n,w0);return _0(t,e)}else{return t}}).getOrThunk(()=>t.concat([n])),[]);if(n.length>0&&v0(n[n.length-1])){n.pop()}return n};const C0=(e,t)=>t.ctrlKey&&!Y1(e);const S0=e=>e.type==="longpress"||Ce(e,"touches");const z0=(e,t)=>!S0(t)&&(t.button!==2||t.target===e.getBody()&&t.pointerType==="");const T0=(e,t)=>z0(e,t)?e.selection.getStart(true):t.target;const E0=(e,t)=>{const o=X1(e);const n=z0(e,t)?"selection":"point";if(Mt(o)){const s=T0(e,t);const r=aa($t.fromDom(s),o);return r?"node":n}else{return n}};const O0=(e,t,o)=>{const n=nn();const s=n.deviceType.isTouch;const r=ev(SO.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>o.setContextMenuState(true),onHide:()=>o.setContextMenuState(false),fireDismissalEventInstead:{},inlineBehaviours:Ym([ng("dismissContextMenu",[Tm(Xl(),(t,o)=>{gS.close(t);e.focus()})])])}));const a=()=>SO.hide(r);const c=t=>{if(Y1(e)){t.preventDefault()}if(C0(e,t)||J1(e)){return}const n=E0(e,t);const a=()=>{const o=T0(e,t);const n=e.ui.registry.getAll();const s=Q1(e);return x0(n.contextMenus,s,o)};const c=s()?b0:d0;c(e,t,a,o,r,n)};e.on("init",()=>{const t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(s()?"":" ResizeWindow");e.on(t,a);e.on("longpress contextmenu",c)})};const A0=40;const D0=A0/2;const M0=(e,t,o,n,s,r)=>e.fold(()=>i_.snap({sensor:Wk(o-D0,n-D0),range:lr(s,r),output:Wk(M.some(o),M.some(n)),extra:{td:t}}),e=>{const s=o-D0;const r=n-D0;const a=A0;const c=A0;const i=e.element.dom.getBoundingClientRect();return i_.snap({sensor:Wk(s,r),range:lr(a,c),output:Wk(M.some(o-i.width/2),M.some(n-i.height/2)),extra:{td:t}})});const N0=(e,t,o)=>{const n=(e,t)=>e.exists(e=>po(e,t));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,s)=>{const r=s.td;if(!n(t.get(),r)){t.set(r);o(r)}},mustSnap:true}};const R0=e=>Uz(hT.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ym([i_.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Fz.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}));const B0=(e,t)=>{const o=Ee([]);const n=Ee([]);const s=Ee(false);const r=wt();const a=wt();const c=e=>{const o=Ja(e);return M0(m.getOpt(t),e,o.x,o.y,o.width,o.height)};const i=()=>j(o.get(),e=>c(e));const l=e=>{const o=Ja(e);return M0(g.getOpt(t),e,o.right,o.bottom,o.width,o.height)};const d=()=>j(n.get(),e=>l(e));const u=N0(i,r,t=>{a.get().each(o=>{e.dispatch("TableSelectorChange",{start:t,finish:o})})});const f=N0(d,a,t=>{r.get().each(o=>{e.dispatch("TableSelectorChange",{start:o,finish:t})})});const m=R0(u);const g=R0(f);const p=ev(m.asSpec());const h=ev(g.asSpec());const y=(t,o,n,s)=>{const r=o.dom.getBoundingClientRect();$s(t.element,"display");const a=_n($t.fromDom(e.getBody())).dom.innerHeight;const c=n(r);const i=s(r,a);if(c||i){Is(t.element,"display","none")}};const b=(e,t,o,n)=>{const s=o(t);i_.snapTo(e,s);const r=e=>e[n]<0;const a=(e,t)=>e[n]>t;y(e,t,r,a)};const v=e=>b(p,e,c,"top");const k=()=>r.get().each(v);const w=e=>b(h,e,l,"bottom");const _=()=>a.get().each(w);if(nn().deviceType.isTouch()){const c=e=>j(e,$t.fromDom);e.on("TableSelectionChange",e=>{if(!s.get()){wy(t,p);wy(t,h);s.set(true)}const i=$t.fromDom(e.start);const l=$t.fromDom(e.finish);r.set(i);a.set(l);M.from(e.otherCells).each(e=>{o.set(c(e.upOrLeftCells));n.set(c(e.downOrRightCells));v(i);w(l)})});e.on("ResizeEditor ResizeWindow ScrollContent",()=>{k();_()});e.on("TableSelectionClear",()=>{if(s.get()){Cy(p);Cy(h);s.set(false)}r.clear();a.clear()})}};var L0='<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>\n';const H0=e=>e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")||e.getAttribute("data-mce-type")==="bookmark";const I0=(e,t,o)=>{var n;const s=(n=t.delimiter)!==null&&n!==void 0?n:"›";const r=(t,n,s)=>hT.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":s}},components:[Kb(t)],action:t=>{e.focus();e.selection.select(n);e.nodeChanged()},buttonBehaviours:Ym([Lz.config({...o.tooltips.getConfig({tooltipText:o.translate(["Select the {0} element",n.nodeName.toLowerCase()]),onShow:(e,t)=>{rc(e.element,t.element)},onHide:e=>{ac(e.element)}})}),fV.button(o.isDisabled),SV(()=>o.checkUiComponentContext("any"))])});const a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true}},components:[Kb(` ${s} `)]});const c=e=>G(e,(e,t,o)=>{const n=r(t.name,t.element,o);if(o===0){return e.concat([n])}else{return e.concat([a(),n])}},[]);const i=t=>{const o=[];let n=t.length;while(n-- >0){const s=t[n];if(s.nodeType===1&&!H0(s)){const t=Ij(e,s);if(!t.isDefaultPrevented()){o.push({name:t.name,element:s})}if(t.isPropagationStopped()){break}}}return o};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ym([ay.config({mode:"flow",selector:"div[role=button]"}),Pv.config({disabled:o.isDisabled}),SV(()=>o.checkUiComponentContext("any")),tz.config({}),Yy.config({}),ng("elementPathEvents",[Hm((t,o)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>ay.focusIn(t));e.on("NodeChange",e=>{const o=i(e.parents);const n=o.length>0?c(o):[];Yy.set(t,n)})})])]),components:[]}};var P0;(function(e){e[e["None"]=0]="None";e[e["Both"]=1]="Both";e[e["Vertical"]=2]="Vertical"})(P0||(P0={}));const F0=(e,t,o,n,s)=>{const r={height:pQ(n+t.top,VN(e),ZN(e))};if(o===P0.Both){r.width=pQ(s+t.left,FN(e),jN(e))}return r};const V0=(e,t,o)=>{const n=$t.fromDom(e.getContainer());const s=F0(e,t,o,Ys(n),sr(n));me(s,(e,t)=>{if(y(e)){Is(n,t,gQ(e))}});Nj(e)};const j0=e=>{const t=pR(e);if(t===false){return P0.None}else if(t==="both"){return P0.Both}else{return P0.Vertical}};const Z0=(e,t,o,n)=>{const s=20;const r=lr(o*s,n*s);V0(e,r,t);return M.some(true)};const U0=(e,t)=>{const o=j0(e);if(o===P0.None){return M.none()}const n=o===P0.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";const s=o===P0.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return M.some(iL("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",s],attributes:{"aria-label":t.translate(n),"data-mce-name":"resize-handle"},behaviours:[i_.config({mode:"mouse",repositionTarget:false,onDrag:(t,n,s)=>V0(e,s,o),blockerClass:"tox-blocker"}),ay.config({mode:"special",onLeft:()=>Z0(e,o,-1,0),onRight:()=>Z0(e,o,1,0),onUp:()=>Z0(e,o,0,-1),onDown:()=>Z0(e,o,0,1)}),tz.config({}),mg.config({}),Lz.config(t.tooltips.getConfig({tooltipText:t.translate("Resize")}))]},t.icons))};const q0=(e,t)=>{const o=(e,o,n)=>Yy.set(e,[Kb(t.translate(["{0} "+n,o[n]]))]);return hT.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ym([fV.button(t.isDisabled),SV(()=>t.checkUiComponentContext("any")),tz.config({}),Yy.config({}),G_.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),ng("wordcount-events",[Fm(e=>{const t=G_.getValue(e);const n=t.mode==="words"?"characters":"words";G_.setValue(e,{mode:n,count:t.count});o(e,t.count,n)}),Hm(t=>{e.on("wordCountUpdate",e=>{const{mode:n}=G_.getValue(t);G_.setValue(t,{mode:n,count:e.wordCount});o(t,e.wordCount,n)})})])]),eventOrder:{[Il()]:["disabling","alloy.base.behaviour","wordcount-events"]}})};const $0=(e,t)=>{const o=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":e.translate(["Build with {0}","TinyMCE"])},innerHtml:e.translate(["Build with {0}",L0.trim()])},behaviours:Ym([mg.config({})])}]});const n=()=>{const e=NV("Alt+0");const t=`Press {0} for help`;return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Kb(XB.translate([t,e]))]}};const s=()=>{const n=[];if(e.hasPlugin("wordcount")){n.push(q0(e,t))}if(gR(e)){n.push(o())}return{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:n}};const r=()=>{const o=[];const r=vR(e);const a=mR(e);const c=gR(e)||e.hasPlugin("wordcount");const i=()=>{const e="tox-statusbar__text-container--flex-start";const t="tox-statusbar__text-container--flex-end";const o="tox-statusbar__text-container--space-around";if(r){const n="tox-statusbar__text-container-3-cols";if(!c&&!a){return[n,o]}if(c&&!a){return[n,t]}return[n,e]}return[c&&!a?t:e]};if(a){o.push(I0(e,{},t))}if(r){o.push(n())}if(c){o.push(s())}if(o.length>0){return[{dom:{tag:"div",classes:["tox-statusbar__text-container",...i()]},components:o}]}return[]};const a=()=>{const o=r();const n=U0(e,t);return o.concat(n.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:a()}};const W0=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`);const G0=(e,t)=>{const o=e.inline;const n=o?EQ:fQ;const s=BR(e)?qK:OK;const r=OQ();const a=wt();const c=wt();const i=wt();const l=nn();const d=l.deviceType.isTouch();const u="tox-platform-touch";const f=d?[u]:[];const m=AR(e);const g=KN(e);const p=Uz({dom:{tag:"div",classes:["tox-anchorbar"]}});const h=Uz({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}});const y=()=>r.mainUi.get().map(e=>e.outerContainer).bind(sX.getHeader);const b=()=>Fe.fromOption(r.dialogUi.get().map(e=>e.sink),"UI has not been rendered");const v=()=>Fe.fromOption(r.popupUi.get().map(e=>e.sink),"(popup) UI has not been rendered");const k=r.lazyGetInOuterOrDie("anchor bar",p.getOpt);const w=r.lazyGetInOuterOrDie("bottom anchor bar",h.getOpt);const _=r.lazyGetInOuterOrDie("toolbar",sX.getToolbar);const x=r.lazyGetInOuterOrDie("throbber",sX.getThrobber);const C=CK({popup:v,dialog:b},e,k,w);const S=()=>{const t={attributes:{[rm]:m?sm.BottomToTop:sm.TopToBottom}};const o=sX.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:C.popup,onEscape:()=>{e.focus()}});const n=sX.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C.popup.shared.getSink,providers:C.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:t=>{Pj(e,t)},type:g,lazyToolbar:_,lazyHeader:()=>y().getOrDie("Could not find header element"),...t});const s=sX.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:C.popup.shared.providers,onEscape:()=>{e.focus()},type:g});const r=OR(e);const a=TR(e);const c=xR(e);const i=bR(e);const l=z(i);const d=r||a||c;const u=()=>{if(r){return[s]}else if(a){return[n]}else{return[]}};const f=[l,o];return sX.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(d?[]:["tox-editor-header--empty"]),...t},components:J([c?f:[],u(),MR(e)?[]:[p.asSpec()]]),sticky:BR(e),editor:e,sharedBackstage:C.popup.shared})};const z=e=>sX.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:e});const T=()=>{const e=sX.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}});const t=sX.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[e,t]}};const E=()=>{const t=NR(e);const o=po(Rs(),t)&&Vs(t,"display")==="grid";const n={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(f),attributes:{...XB.isRtl()?{dir:"rtl"}:{}}},behaviours:Ym([BC.config({useFixed:()=>s.isDocked(y)})])};const r={dom:{styles:{width:document.body.clientWidth+"px"}},events:xm([Tm(Gl(),e=>{Is(e.element,"width",document.body.clientWidth+"px")})])};const a=ev(st(n,o?r:{}));const i=fT(a);c.set(i);return{sink:a,mothership:i}};const O=()=>{const e={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(f),attributes:{...XB.isRtl()?{dir:"rtl"}:{}}},behaviours:Ym([BC.config({useFixed:()=>s.isDocked(y),getBounds:()=>t.getPopupSinkBounds()})])};const o=ev(e);const n=fT(o);i.set(n);return{sink:o,mothership:n}};const A=()=>{const t=S();const n=T();const s=sX.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:C.popup});const r=sX.parts.viewWrapper({backstage:C.popup});const c=fR(e)&&!o?M.some($0(e,C.popup.shared.providers)):M.none();const i=J([m?[]:[t],o?[]:[n],m?[t]:[]]);const l=sX.parts.editorContainer({components:J([i,o?[]:[h.asSpec()]])});const d=RR(e);const u={role:"application",...XB.isRtl()?{dir:"rtl"}:{},...d?{"aria-hidden":"true"}:{}};const g=ev(sX.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(m?["tox-tinymce--toolbar-bottom"]:[]).concat(f),styles:{visibility:"hidden",...d?{opacity:"0",border:"0"}:{}},attributes:u},components:[l,...o?[]:[r,...c.toArray()],s],behaviours:Ym([SV(()=>C.popup.shared.providers.checkUiComponentContext("any")),Pv.config({disableClass:"tox-tinymce--disabled"}),ay.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));const p=fT(g);a.set(p);return{mothership:p,outerContainer:g}};const D=t=>{const o=gQ(bQ(e));const n=gQ(kQ(e));if(!e.inline){if(qs("div","width",n)){Is(t.element,"width",n)}if(qs("div","height",o)){Is(t.element,"height",o)}else{Is(t.element,"height","400px")}}return o};const N=t=>{e.addShortcut("alt+F9","focus menubar",()=>{sX.focusMenubar(t)});e.addShortcut("alt+F10","focus toolbar",()=>{sX.focusToolbar(t)});e.addCommand("ToggleToolbarDrawer",(e,o)=>{if(o===null||o===void 0?void 0:o.skipFocus){sX.toggleToolbarDrawerWithoutFocusing(t)}else{sX.toggleToolbarDrawer(t)}});e.addQueryStateHandler("ToggleToolbarDrawer",()=>sX.isToolbarDrawerToggled(t))};const R=t=>{const{mainUi:o,popupUi:r,uiMotherships:a}=t;ge(YN(e),(t,o)=>{e.ui.registry.addGroupToolbarButton(o,t)});const{buttons:c,menuItems:i,contextToolbars:l,sidebars:d,views:u}=e.ui.registry.getAll();const f=ER(e);const m={menuItems:i,menus:HR(e),menubar:oR(e),toolbar:f.getOrThunk(()=>nR(e)),allowToolbarGroups:g===DN.floating,buttons:c,sidebar:d,views:u};N(o.outerContainer);SK(e,o.mothership,a);s.setup(e,C.popup.shared,y);$1(e,C.popup);O0(e,C.popup.shared.getSink,C.popup);JK(e);hY(e,x,C.popup.shared);b1(e,l,r.sink,{backstage:C.popup});B0(e,r.sink);const p=e.getElement();const h=D(o.outerContainer);const b={targetNode:p,height:h};return n.render(e,t,m,C.popup,b)};const B=e=>{i.set(e.mothership);return e};const L=()=>{const t=A();const o=E();const n=LR(e)?O():B(o);r.dialogUi.set(o);r.popupUi.set(n);r.mainUi.set(t);const s={popupUi:n,dialogUi:o,mainUi:t,uiMotherships:r.getUiMotherships()};return R(s)};return{popups:{backstage:C.popup,getMothership:()=>W0("popups",i)},dialogs:{backstage:C.dialog,getMothership:()=>W0("dialogs",c)},renderUI:L}};const K0=e=>{const t=[];const o={};me(e,(e,n)=>{e.fold(()=>{t.push(n)},e=>{o[n]=e})});return t.length>0?Fe.error(t):Fe.value(o)};const Y0=(e,t,o,n)=>{const s=Uz(KE.sketch(s=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:j(e.items,e=>oG(s,e,t,o,n))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[s.asSpec()]}],behaviours:Ym([ay.config({mode:"acyclic",useTabstopAt:T($q)}),dq.memento(s),fq(s,{postprocess:e=>K0(e).fold(e=>{console.error(e);return{}},C)}),ng("dialog-body-panel",[Tm(wl(),(e,t)=>{e.getSystem().broadcastOn([Jq],{newFocus:M.some(t.event.target)})})])])}};const X0=(e,t,o)=>j(e,(n,s)=>{Yy.set(o,e[s].view());const r=t.dom.getBoundingClientRect();Yy.set(o,[]);return r.height});const J0=e=>ce(re(e,(e,t)=>{if(e>t){return-1}else if(e<t){return+1}else{return 0}}));const Q0=(e,t,o)=>{const n=wn(e).dom;const s=Dr(e,".tox-dialog-wrap").getOr(e);const r=Vs(s,"position")==="fixed";let a;if(r){a=Math.max(n.clientHeight,window.innerHeight)}else{a=Math.max(n.offsetHeight,n.scrollHeight)}const c=Ys(t);const i=t.dom.offsetLeft>=o.dom.offsetLeft+sr(o);const l=i?Math.max(Ys(o),c):c;const d=parseInt(Vs(e,"margin-top"),10)||0;const u=parseInt(Vs(e,"margin-bottom"),10)||0;const f=Ys(e)+d+u;const m=f-l;return a-m};const e2=(e,t)=>{ce(e).each(e=>pN.showTab(t,e.value))};const t2=(e,t)=>{Is(e,"height",t+"px");Is(e,"flex-basis",t+"px")};const o2=(e,t,o)=>{Dr(e,'[role="dialog"]').each(e=>{Rr(e,'[role="tablist"]').each(n=>{o.get().map(o=>{Is(t,"height","0");Is(t,"flex-basis","0");return Math.min(o,Q0(e,t,n))}).each(e=>{t2(t,e)})})})};const n2=e=>Rr(e,'[role="tabpanel"]');const s2=e=>{const t=wt();const o=[Hm(o=>{const n=o.element;n2(n).each(s=>{Is(s,"visibility","hidden");o.getSystem().getByDom(s).toOptional().each(o=>{const n=X0(e,s,o);const r=J0(n);r.fold(t.clear,t.set)});o2(n,s,t);$s(s,"visibility");e2(e,o);requestAnimationFrame(()=>{o2(n,s,t)})})}),Tm(Gl(),e=>{const o=e.element;n2(o).each(e=>{o2(o,e,t)})}),Tm(eq,(e,o)=>{const n=e.element;n2(n).each(e=>{const o=rs(Hn(e));Is(e,"visibility","hidden");const s=Zs(e,"height").map(e=>parseInt(e,10));$s(e,"height");$s(e,"flex-basis");const r=e.dom.getBoundingClientRect().height;const a=s.forall(e=>r>e);if(a){t.set(r);o2(n,e,t)}else{s.each(t=>{t2(e,t)})}$s(e,"visibility");o.each(os)})})];const n=false;return{extraEvents:o,selectFirst:n}};const r2="send-data-to-section";const a2="send-data-to-view";const c2=(e,t,o,n)=>{const s=Ee({});const r=e=>{const t=G_.getValue(e);const o=K0(t).getOr({});const n=s.get();const r=st(n,o);s.set(r)};const a=e=>{const t=s.get();G_.setValue(e,t)};const c=Ee(null);const i=j(e.tabs,e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Kb(o.shared.providers.translate(e.title))],view:()=>[KE.sketch(s=>({dom:{tag:"div",classes:["tox-form"]},components:j(e.items,e=>oG(s,e,t,o,n)),formBehaviours:Ym([ay.config({mode:"acyclic",useTabstopAt:T($q)}),ng("TabView.form.events",[Hm(a),Im(r)]),FC.config({channels:cl([{key:r2,value:{onReceive:r}},{key:a2,value:{onReceive:a}}])})])}))]}));const l=s2(i);return pN.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,o)=>{const n=G_.getValue(t);ym(e,QU,{name:n,oldName:c.get()});c.set(n)},tabs:i,components:[pN.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[cN.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ym([tz.config({})])}),pN.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:l.selectFirst,tabSectionBehaviours:Ym([ng("tabpanel",l.extraEvents),ay.config({mode:"acyclic"}),mv.config({find:e=>ce(pN.getViewItems(e))}),mq(M.none(),e=>{e.getSystem().broadcastOn([r2],{});return s.get()},(e,t)=>{s.set(t);e.getSystem().broadcastOn([a2],{})})])})};const i2=(e,t,o,n,s,r)=>{const a=e=>{const t=e.body;switch(t.type){case"tabpanel":{return[c2(t,e.initialData,n,r)]}default:{return[Y0(t,e.initialData,n,r)]}}};const c=(e,t)=>M.some({isTabPanel:()=>t.body.type==="tabpanel"});const i={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map(e=>({id:e})).getOr({}),...s?i:{}}},components:[],behaviours:Ym([dq.childAt(0),GC.config({channel:`${Kq}-${t}`,updateState:c,renderComponents:a,initialData:e})])}};const l2=(e,t,o,n,s,r)=>i2(e,t,M.some(o),n,s,r);const d2=(e,t,o,n)=>{const s=i2(e,t,M.none(),o,false,n);return IO.parts.body(s)};const u2=e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Zq(M.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Ym([tz.config({}),mg.config({})])})]}],behaviours:Ym([ay.config({mode:"acyclic",useTabstopAt:T($q)})])};return IO.parts.body(t)};const f2=AN.deviceType.isTouch();const m2=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]});const g2=(e,t)=>IO.parts.close(hT.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Ym([tz.config({})])}));const p2=()=>IO.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}});const h2=(e,t)=>IO.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Zz(`<p>${YB(t.translate(e))}</p>`)}]}]});const y2=e=>IO.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e});const b2=(e,t)=>[Cw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Cw.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})];const v2=e=>{const t="tox-dialog";const o=t+"-wrap";const n=o+"__backdrop";const s=t+"__disable-scroll";return IO.sketch({lazySink:e.lazySink,onEscape:t=>{e.onEscape(t);return M.some(true)},useTabstopAt:e=>!$q(e),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Zz(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:f2?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:o,modalBehaviours:Ym([mg.config({}),ng("dialog-events",e.dialogEvents.concat([Lm(wl(),(e,t)=>{lv.isBlocked(e)?v():ay.focusIn(e)}),Tm(Ql(),(e,t)=>{e.getSystem().broadcastOn([Jq],{newFocus:t.event.newFocus})})])),ng("scroll-lock",[Hm(()=>{Zr(Rs(),s)}),Im(()=>{qr(Rs(),s)})]),...e.extraBehaviours]),eventOrder:{[Il()]:["dialog-events"],[Kl()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Yl()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})};const k2=e=>hT.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Ym([tz.config({}),Lz.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[iL("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{hm(e,GU)}});const w2=(e,t,o,n)=>{const s=e=>[Kb(n.translate(e.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...o.map(e=>({id:e})).getOr({})}},components:[],behaviours:Ym([GC.config({channel:`${Gq}-${t}`,initialData:e,renderComponents:s})])}};const _2=()=>({dom:Zz('<div class="tox-dialog__draghandle"></div>')});const x2=(e,t,o,n)=>Cw.sketch({dom:Zz('<div class="tox-dialog__header"></div>'),components:[w2(e,t,M.some(o),n),_2(),k2(n)],containerBehaviours:Ym([i_.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>Br(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(e,t)=>{e.getSystem().broadcastOn([Gz()],{target:t})}})])});const C2=(e,t,o)=>{const n=IO.parts.title(w2(e,t,M.none(),o));const s=IO.parts.draghandle(_2());const r=IO.parts.close(k2(o));const a=[n].concat(e.draggable?[s]:[]).concat([r]);return Cw.sketch({dom:Zz('<div class="tox-dialog__header"></div>'),components:a})};const S2=(e,t,o)=>C2({title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t,o.shared.providers);const z2=(e,t,o,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${n.getOr(0)}px`,position:"absolute"}},behaviours:t,components:[{dom:Zz('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]});const T2=(e,t,o)=>({onClose:()=>o.closeWindow(),onBlock:o=>{const n=Rr(e().element,".tox-dialog__header").map(e=>Ys(e));IO.setBusy(e(),(e,s)=>z2(o.message,s,t,n))},onUnblock:()=>{IO.setIdle(e())}});const E2="tox-dialog--fullscreen";const O2="tox-dialog--width-lg";const A2="tox-dialog--width-md";const D2=e=>{switch(e){case"large":return M.some(O2);case"medium":return M.some(A2);default:return M.none()}};const M2=(e,t)=>{const o=$t.fromDom(t.element.dom);if(!Wr(o,E2)){Kr(o,[O2,A2]);D2(e).each(e=>Zr(o,e))}};const N2=(e,t)=>{const o=$t.fromDom(e.element.dom);const n=Qr(o);const s=Y(n,e=>e===O2||e===A2).or(D2(t));Yr(o,[E2,...s.toArray()])};const R2=(e,t,o)=>ev(v2({...e,firstTabstop:1,lazySink:o.shared.getSink,extraBehaviours:[hq({}),...e.extraBehaviours],onEscape:e=>{hm(e,GU)},dialogEvents:t,eventOrder:{[Hl()]:[GC.name(),FC.name()],[Kl()]:["scroll-lock",GC.name(),"messages","dialog-events","alloy.base.behaviour"],[Yl()]:["alloy.base.behaviour","dialog-events","messages",GC.name(),"scroll-lock"]}}));const B2=(e,t={})=>{const o=e=>{const o=j(e.items,e=>{const o=xe(t,e.name).getOr(Ee(false));return{...e,storage:o}});return{...e,items:o}};return j(e,e=>e.type==="menu"?o(e):e)};const L2=e=>G(e,(e,t)=>{if(t.type==="menu"){const o=t;return G(o.items,(e,t)=>{e[t.name]=t.storage;return e},e)}return e},{});const H2=(e,t)=>[Nm(wl(),qq),e(WU,(e,o,n,s)=>{if(ss(s.element)){rs(Hn(s.element)).each(ns)}t.onClose();o.onClose()}),e(GU,(e,t,o,n)=>{t.onCancel(e);hm(n,WU)}),Tm(JU,(e,o)=>t.onUnblock()),Tm(XU,(e,o)=>t.onBlock(o.event))];const I2=(e,t)=>{const o=(t,o)=>Tm(t,(t,s)=>{n(t,(n,r)=>{o(e(),n,s.event,t)})});const n=(e,t)=>{GC.getState(e).get().each(o=>{t(o,e)})};return[...H2(o,t),o(KU,(e,t,o)=>{t.onAction(e,{name:o.name})})]};const P2=(e,t,o)=>{const n=(t,o)=>Tm(t,(t,n)=>{s(t,(s,r)=>{o(e(),s,n.event,t)})});const s=(e,t)=>{GC.getState(e).get().each(o=>{t(o.internalDialog,e)})};return[...H2(n,t),n(YU,(e,t)=>t.onSubmit(e)),n(qU,(e,t,o)=>{t.onChange(e,{name:o.name})}),n(KU,(e,t,n,s)=>{const r=()=>s.getSystem().isConnected()?ay.focusIn(s):undefined;const a=e=>bs(e,"disabled")||ys(e,"aria-disabled").exists(e=>e==="true");const c=Hn(s.element);const i=rs(c);t.onAction(e,{name:n.name,value:n.value});rs(c).fold(r,e=>{if(a(e)){r()}else if(i.exists(t=>ho(e,t)&&a(t))){r()}else{o().toOptional().filter(t=>!ho(t.element,e)).each(r)}})}),n(QU,(e,t,o)=>{t.onTabChange(e,{newTabName:o.name,oldTabName:o.oldName})}),Im(t=>{const o=e();G_.setValue(t,o.getData())})]};const F2=(e,t)=>DW(e,e.type,t);const V2=(e,t,o)=>Y(t,e=>e.name===o).bind(t=>t.memento.getOpt(e));const j2=(e,t)=>{const o=t.map(e=>e.footerButtons).getOr([]);const n=q(o,e=>e.align==="start");const s=(e,t)=>Cw.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${e}`]},components:j(t,e=>e.memento.asSpec())});const r=s("start",n.pass);const a=s("end",n.fail);return[r,a]};const Z2=(e,t,o)=>{const n=(e,t)=>{const n=j(t.buttons,e=>{const t=Uz(F2(e,o));return{name:e.name,align:e.align,memento:t}});const s=t=>V2(e,n,t);return M.some({lookupByName:s,footerButtons:n})};return{dom:Zz('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ym([GC.config({channel:`${Yq}-${t}`,initialData:e,updateState:n,renderComponents:j2})])}};const U2=(e,t,o)=>Z2(e,t,o);const q2=(e,t,o)=>IO.parts.footer(Z2(e,t,o));const $2=(e,t)=>{const o=e.getRoot();if(o.getSystem().isConnected()){const o=mv.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return KE.getField(o,t).orThunk(()=>{const o=e.getFooter();const n=o.bind(e=>GC.getState(e).get());return n.bind(e=>e.lookupByName(t))})}else{return M.none()}};const W2=(e,t)=>{const o=e.getRoot();return GC.getState(o).get().map(e=>vi(bi("data",e.dataValidator,t))).getOr(t)};const G2=(e,t,o)=>{const n=t=>{const o=e.getRoot();if(o.getSystem().isConnected()){t(o)}};const s=()=>{const t=e.getRoot();const n=t.getSystem().isConnected()?e.getFormWrapper():t;const s=G_.getValue(n);const r=ge(o,e=>e.get());return{...s,...r}};const r=t=>{n(n=>{const s=g.getData();const r=st(s,t);const a=W2(e,r);const c=e.getFormWrapper();G_.setValue(c,a);me(o,(e,t)=>{if(Ce(r,t)){e.set(r[t])}})})};const a=(t,o)=>{$2(e,t).each(o?Pv.enable:Pv.disable)};const i=t=>{$2(e,t).each(mg.focus)};const l=e=>{if(!c(e)){throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}n(t=>{ym(t,XU,{message:e})})};const d=()=>{n(e=>{hm(e,JU)})};const u=t=>{n(o=>{const n=e.getBody();const s=GC.getState(n);if(s.get().exists(e=>e.isTabPanel())){mv.getCurrent(n).each(e=>{pN.showTab(e,t)})}})};const f=s=>{n(n=>{const r=e.getId();const a=t(s);const c=B2(a.internalDialog.buttons,o);n.getSystem().broadcastOn([`${Wq}-${r}`],a);n.getSystem().broadcastOn([`${Gq}-${r}`],a.internalDialog);n.getSystem().broadcastOn([`${Kq}-${r}`],a.internalDialog);n.getSystem().broadcastOn([`${Yq}-${r}`],{...a.internalDialog,buttons:c});g.setData(a.initialData)})};const m=()=>{n(e=>{hm(e,WU)})};const g={getData:s,setData:r,setEnabled:a,focus:i,block:l,unblock:d,showTab:u,redial:f,close:m,toggleFullscreen:e.toggleFullscreen};return g};const K2=(e,t,o)=>{const n=et("dialog");const s=e.internalDialog;const r=S2(s.title,n,o);const a=Ee(s.size);const c=e=>$2(y,e);const i=D2(a.get()).toArray();const l=(e,t)=>{a.set(t.internalDialog.size);M2(t.internalDialog.size,e);return M.some(t)};const d=d2({body:s.body,initialData:s.initialData},n,o,c);const u=B2(s.buttons);const f=L2(u);const m=mt(u.length!==0,q2({buttons:u},n,o));const g=P2(()=>b,T2(()=>h,o.shared.providers,t),o.shared.getSink);const p={id:n,header:r,body:d,footer:m,extraClasses:i,extraBehaviours:[GC.config({channel:`${Wq}-${n}`,updateState:l,initialData:e})],extraStyles:{}};const h=R2(p,g,o);const y=(()=>{const e=()=>{const e=IO.getBody(h);return mv.getCurrent(e).getOr(e)};const t=()=>{N2(h,a.get())};return{getId:x(n),getRoot:x(h),getBody:()=>IO.getBody(h),getFooter:()=>IO.getFooter(h),getFormWrapper:e,toggleFullscreen:t}})();const b=G2(y,t.redial,f);return{dialog:h,instanceApi:b}};const Y2=(e,t,o,n=false,s)=>{const r=et("dialog");const a=et("dialog-label");const c=et("dialog-content");const i=e.internalDialog;const l=e=>$2(C,e);const d=Ee(i.size);const u=D2(d.get()).toArray();const f=(e,t)=>{d.set(t.internalDialog.size);M2(t.internalDialog.size,e);s();return M.some(t)};const m=Uz(x2({title:i.title,draggable:true},r,a,o.shared.providers));const g=Uz(l2({body:i.body,initialData:i.initialData},r,c,o,n,l));const p=B2(i.buttons);const h=L2(p);const y=mt(p.length!==0,Uz(U2({buttons:p},r,o)));const b=P2(()=>S,{onBlock:e=>{lv.block(w,(t,n)=>{const s=m.getOpt(w).map(e=>Ys(e.element));return z2(e.message,n,o.shared.providers,s)})},onUnblock:()=>{lv.unblock(w)},onClose:()=>t.closeWindow()},o.shared.getSink);const v="tox-dialog-inline";const k=nn().os;const w=ev({dom:{tag:"div",classes:["tox-dialog",v,...u],attributes:{role:"dialog",...k.isMacOS()?{"aria-label":i.title}:{"aria-labelledby":a}}},eventOrder:{[Hl()]:[GC.name(),FC.name()],[Il()]:["execute-on-form"],[Kl()]:["reflecting","execute-on-form"]},behaviours:Ym([ay.config({mode:"cyclic",onEscape:e=>{hm(e,WU);return M.some(true)},useTabstopAt:e=>!$q(e)&&(dn(e)!=="button"||hs(e,"disabled")!=="disabled"),firstTabstop:1}),GC.config({channel:`${Wq}-${r}`,updateState:f,initialData:e}),mg.config({}),ng("execute-on-form",b.concat([Lm(wl(),(e,t)=>{ay.focusIn(e)}),Tm(Ql(),(e,t)=>{e.getSystem().broadcastOn([Jq],{newFocus:t.event.newFocus})})])),lv.config({getRoot:()=>M.some(w)}),Yy.config({}),hq({})]),components:[m.asSpec(),g.asSpec(),...y.map(e=>e.asSpec()).toArray()]});const _=()=>{N2(w,d.get())};const C={getId:x(r),getRoot:x(w),getFooter:()=>y.map(e=>e.get(w)),getBody:()=>g.get(w),getFormWrapper:()=>{const e=g.get(w);return mv.getCurrent(e).getOr(e)},toggleFullscreen:_};const S=G2(C,t.redial,h);return{dialog:w,instanceApi:S}};var X2=tinymce.util.Tools.resolve("tinymce.util.URI");const J2=e=>{const t=t=>{if(e.getSystem().isConnected()){t(e)}};const o=e=>{if(!c(e)){throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")}t(t=>{ym(t,XU,{message:e})})};const n=()=>{t(e=>{hm(e,JU)})};const s=()=>{t(e=>{hm(e,WU)})};const r=e=>{t(t=>{t.getSystem().broadcastOn([Xq],e)})};return{block:o,unblock:n,close:s,sendMessage:r}};const Q2=["insertContent","setContent","execCommand","close","block","unblock"];const e4=e=>i(e)&&Q2.indexOf(e.mceAction)!==-1;const t4=e=>!e4(e)&&i(e)&&Ce(e,"mceAction");const o4=(e,t,o)=>{switch(o.mceAction){case"insertContent":e.insertContent(o.content);break;case"setContent":e.setContent(o.content);break;case"execCommand":const n=f(o.ui)?o.ui:false;e.execCommand(o.cmd,n,o.value);break;case"close":t.close();break;case"block":t.block(o.message);break;case"unblock":t.unblock();break}};const n4=(e,t,o,n)=>{const s=et("dialog");const r=S2(e.title,s,n);const a=u2(e);const c=e.buttons.bind(e=>{if(e.length===0){return M.none()}else{return M.some(q2({buttons:e},s,n))}});const i=I2(()=>v,T2(()=>b,n.shared.providers,t));const l={...e.height.fold(()=>({}),e=>({height:e+"px","max-height":e+"px"})),...e.width.fold(()=>({}),e=>({width:e+"px","max-width":e+"px"}))};const d=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[];const u=new X2(e.url,{base_uri:new X2(window.location.href)});const f=`${u.protocol}://${u.host}${u.port?":"+u.port:""}`;const m=kt();const g=(e,t)=>M.some(t);const h=[GC.config({channel:`${Wq}-${s}`,updateState:g,initialData:e}),ng("messages",[Hm(()=>{const t=Jn($t.fromDom(window),"message",t=>{if(u.isSameOrigin(new X2(t.raw.origin))){const n=t.raw.data;if(e4(n)){o4(o,v,n)}else if(t4(n)){e.onMessage(v,n)}}});m.set(t)}),Im(m.clear)]),FC.config({channels:{[Xq]:{onReceive:(e,t)=>{Rr(e.element,"iframe").each(e=>{const o=e.dom.contentWindow;if(p(o)){o.postMessage(t,f)}})}}}})];const y={id:s,header:r,body:a,footer:c,extraClasses:d,extraBehaviours:h,extraStyles:l};const b=R2(y,i,n);const v=J2(b);return{dialog:b,instanceApi:v}};const s4=e=>{const t=e.shared;const o=(o,n)=>{const s=()=>{IO.hide(i);n()};const r=Uz(DW({context:"any",name:"close-alert",text:"OK",primary:true,buttonType:M.some("primary"),align:"end",enabled:true,icon:M.none()},"cancel",e));const a=p2();const c=g2(s,t.providers);const i=ev(v2({lazySink:()=>t.getSink(),header:m2(a,c),body:h2(o,t.providers),footer:M.some(y2(b2([],[r.asSpec()]))),onEscape:s,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Tm(GU,s)],eventOrder:{}}));IO.show(i);const l=r.get(i);mg.focus(l)};return{open:o}};const r4=e=>{const t=e.shared;const o=(o,n)=>{const s=e=>{IO.hide(l);n(e)};const r=Uz(DW({context:"any",name:"yes",text:"Yes",primary:true,buttonType:M.some("primary"),align:"end",enabled:true,icon:M.none()},"submit",e));const a=DW({context:"any",name:"no",text:"No",primary:false,buttonType:M.some("secondary"),align:"end",enabled:true,icon:M.none()},"cancel",e);const c=p2();const i=g2(()=>s(false),t.providers);const l=ev(v2({lazySink:()=>t.getSink(),header:m2(c,i),body:h2(o,t.providers),footer:M.some(y2(b2([],[a,r.asSpec()]))),onEscape:()=>s(false),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Tm(GU,()=>s(false)),Tm(YU,()=>s(true))],eventOrder:{}}));IO.show(l);const d=r.get(l);mg.focus(d)};return{open:o}};const a4=(e,t)=>vi(bi("data",t,e));const c4=e=>aa(e,".tox-alert-dialog")||aa(e,".tox-confirm-dialog");const i4=(e,t,o,n)=>{if(t&&o){return[]}else{return[Nk.config({contextual:{lazyContext:()=>M.some(Xa($t.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:n},modes:["top"],lazyViewport:t=>{const o=UR(e,t.element);return o.map(e=>{const t=qR(e);return{bounds:t,optScrollEnv:M.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:fr(e.element).top})}}).getOrThunk(()=>({bounds:tc(),optScrollEnv:M.none()}))}})]}};const l4=e=>{const t=e.editor;const o=BR(t);const n=s4(e.backstages.dialog);const s=r4(e.backstages.dialog);const r=(t,o,n)=>{if(!m(o)){if(o.inline==="toolbar"){return l(t,e.backstages.popup.shared.anchors.inlineDialog(),n,o)}else if(o.inline==="bottom"){return d(t,e.backstages.popup.shared.anchors.inlineBottomDialog(),n,o)}else if(o.inline==="cursor"){return l(t,e.backstages.popup.shared.anchors.cursor(),n,o)}}return i(t,n)};const a=(e,t)=>c(e,t);const c=(o,n)=>{const s=o=>{const s=n4(o,{closeWindow:()=>{IO.hide(s.dialog);n(s.instanceApi)}},t,e.backstages.dialog);IO.show(s.dialog);return s.instanceApi};return ZP.openUrl(s,o)};const i=(t,o)=>{const n=(t,n,s)=>{const r=n;const a={dataValidator:s,initialData:r,internalDialog:t};const c=K2(a,{redial:ZP.redial,closeWindow:()=>{IO.hide(c.dialog);o(c.instanceApi)}},e.backstages.dialog);IO.show(c.dialog);c.instanceApi.setData(r);return c.instanceApi};return ZP.open(n,t)};const l=(n,s,r,a)=>{const c=(n,c,i)=>{const l=a4(c,i);const d=wt();const u=e.backstages.popup.shared.header.isPositionedAtTop();const f={dataValidator:i,initialData:l,internalDialog:n};const m=()=>d.on(e=>{SO.reposition(e);if(!o||!u){Nk.refresh(e)}});const g=Y2(f,{redial:ZP.redial,closeWindow:()=>{d.on(SO.hide);t.off("ResizeEditor",m);t.off("ScrollWindow",p);d.clear();r(g.instanceApi)}},e.backstages.popup,a.ariaAttrs,m);const p=()=>g.dialog.getSystem().broadcastOn([Gz()],{target:g.dialog.element});const h=()=>g.dialog.getSystem().broadcastOn([Wz()],{target:g.dialog.element});const y=ev(SO.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:a.persistent?{event:"doNotDismissYet"}:{},...u?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ym([ng("window-manager-inline-events",[Tm(Xl(),(e,t)=>{hm(g.dialog,GU)})]),...i4(t,o,u,h)]),isExtraPart:(e,t)=>c4(t)}));d.set(y);const b=()=>{const e=t.inline?Rs():$t.fromDom(t.getContainer());const o=Xa(e);return M.some(o)};SO.showWithinBounds(y,tv(g.dialog),{anchor:s},b);if(!o||!u){Nk.refresh(y);t.on("ResizeEditor",m)}t.on("ScrollWindow",p);g.instanceApi.setData(l);ay.focusIn(g.dialog);return g.instanceApi};return ZP.open(c,n)};const d=(o,n,s,r)=>{const a=(o,a,c)=>{const i=a4(a,c);const l=wt();const d=e.backstages.popup.shared.header.isPositionedAtTop();const u={dataValidator:c,initialData:i,internalDialog:o};const f=()=>l.on(e=>{SO.reposition(e);Nk.refresh(e)});const m=Y2(u,{redial:ZP.redial,closeWindow:()=>{l.on(SO.hide);t.off("ResizeEditor ScrollWindow ElementScroll",f);l.clear();s(m.instanceApi)}},e.backstages.popup,r.ariaAttrs,f);const g=ev(SO.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:r.persistent?{event:"doNotDismissYet"}:{},...d?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Ym([ng("window-manager-inline-events",[Tm(Xl(),(e,t)=>{hm(m.dialog,GU)})]),Nk.config({contextual:{lazyContext:()=>M.some(Xa($t.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:e=>{const o=UR(t,e.element);return o.map(e=>{const t=qR(e);return{bounds:t,optScrollEnv:M.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:fr(e.element).top})}}).getOrThunk(()=>({bounds:tc(),optScrollEnv:M.none()}))}})]),isExtraPart:(e,t)=>c4(t)}));l.set(g);const p=()=>e.backstages.popup.shared.getSink().toOptional().bind(e=>{const o=UR(t,e.element);const n=15;const s=o.map(e=>qR(e)).getOr(tc());const r=Xa($t.fromDom(t.getContentAreaContainer()));const a=Qa(r,s);return M.some(Ya(a.x,a.y,a.width,a.height-n))});SO.showWithinBounds(g,tv(m.dialog),{anchor:n},p);Nk.refresh(g);t.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",f);m.instanceApi.setData(i);ay.focusIn(m.dialog);return m.instanceApi};return ZP.open(a,o)};const u=(e,t)=>{s.open(e,t)};const f=(e,t)=>{n.open(e,t)};const g=e=>{e.close()};return{open:r,openUrl:a,alert:f,close:g,confirm:u}};const d4=e=>{BN(e);hZ(e);K1(e)};var u4=()=>{zN.add("silver",e=>{d4(e);let t=()=>tc();const{dialogs:o,popups:n,renderUI:s}=G0(e,{getPopupSinkBounds:()=>t()});const r=()=>{const o=s();const r=UR(e,n.getMothership().element);r.each(e=>{t=()=>qR(e)});return o};LU.register(e,n.backstage.shared);const a=l4({editor:e,backstages:{popup:n.backstage,dialog:o.backstage}});const c=wt();const i=()=>mL(e,{backstage:n.backstage},n.getMothership(),c);const l=()=>Rr($t.fromDom(e.getContainer()),".tox-promotion").map(e=>e.dom).getOrNull();return{renderUI:r,getWindowManagerImpl:x(a),getNotificationManagerImpl:i,getPromotionElement:l}})};u4()})()},(e,t,o)=>{o(7)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>e===t;const r=n("string");const a=s(undefined);const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=e=>t=>!e(t);const d=Object.hasOwnProperty;const u=(e,t)=>d.call(e,t);const f=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const m=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return a(n)?true:s+t.length<=n}else{return false}};const g=(e,t)=>f(e,t,0);const p="\ufeff";const h=e=>e===p;const y=e=>e.replace(/\uFEFF/g,"");const b=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g;const v=e=>t=>t.options.get(e);const k=e=>{const t=e.options.register;t("autolink_pattern",{processor:"regexp",default:new RegExp("^"+b().source+"$","i")});t("link_default_target",{processor:"string"});t("link_default_protocol",{processor:"string",default:"https"})};const w=v("autolink_pattern");const _=v("link_default_target");const x=v("link_default_protocol");const C=v("allow_unsafe_link_target");var S=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const z=e=>e.nodeType===3;const T=e=>e.nodeType===1;const E=e=>/^[(\[{ \u00a0]$/.test(e);const O=e=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(e);const A=e=>/[?!,.;:]/.test(e);const D=(e,t,o)=>{for(let n=t-1;n>=0;n--){const t=e.charAt(n);if(!h(t)&&o(t)){return n}}return-1};const M=(e,t)=>{let o=e;let n=t;while(T(o)&&o.childNodes[n]){o=o.childNodes[n];n=z(o)?o.data.length:o.childNodes.length}return{container:o,offset:n}};const N=(e,t)=>{var o;const n=e.schema.getVoidElements();const s=w(e);const{dom:r,selection:a}=e;if(r.getParent(a.getNode(),"a[href]")!==null||e.mode.isReadOnly()){return null}const c=a.getRng();const i=S(r,e=>r.isBlock(e)||u(n,e.nodeName.toLowerCase())||r.getContentEditable(e)==="false"||r.getParent(e,"a[href]")!==null);const{container:d,offset:f}=M(c.endContainer,c.endOffset);const p=(o=r.getParent(d,r.isBlock))!==null&&o!==void 0?o:r.getRoot();const h=i.backwards(d,f+t,(e,t)=>{const o=e.data;const n=D(o,t,l(E));return n===-1||A(o[n])?n:n+1},p);if(!h){return null}let b=h.container;const v=i.backwards(h.container,h.offset,(e,t)=>{b=e;const o=D(e.data,t,E);return o===-1?o:o+1},p);const k=r.createRng();if(!v){k.setStart(b,0)}else{k.setStart(v.container,v.offset)}k.setEnd(h.container,h.offset);const _=y(k.toString());const C=_.match(s);if(C){let t=C[0];if(g(t,"www.")){const o=x(e);t=o+"://"+t}else if(m(t,"@")&&!O(t)){t="mailto:"+t}return{rng:k,url:t}}else{return null}};const R=(e,t)=>{const{dom:o,selection:n}=e;const{rng:s,url:a}=t;const c=n.getBookmark();n.setRng(s);const i="createlink";const l={command:i,ui:false,value:a};const d=e.dispatch("BeforeExecCommand",l);if(!d.isDefaultPrevented()){e.getDoc().execCommand(i,false,a);e.dispatch("ExecCommand",l);const t=_(e);if(r(t)){const s=n.getNode();o.setAttrib(s,"target",t);if(t==="_blank"&&!C(e)){o.setAttrib(s,"rel","noopener")}}}n.moveToBookmark(c);e.nodeChanged()};const B=e=>{const t=N(e,-1);if(i(t)){R(e,t)}};const L=B;const H=e=>{const t=N(e,0);if(i(t)){R(e,t)}};const I=e=>{e.on("keydown",t=>{if(t.keyCode===13&&!t.isDefaultPrevented()){H(e)}});e.on("keyup",t=>{if(t.keyCode===32){B(e)}else if(t.keyCode===48&&t.shiftKey||t.keyCode===221){L(e)}})};var P=()=>{e.add("autolink",e=>{k(e);I(e)})};P()})()},(e,t,o)=>{o(9)},()=>{(function(){"use strict";const e=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");var o=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>e.dispatch("ResizeEditor");const s=e=>t=>t.options.get(e);const r=e=>{const t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1});t("autoresize_bottom_margin",{processor:"number",default:50})};const a=s("min_height");const c=s("max_height");const i=s("autoresize_overflow_padding");const l=s("autoresize_bottom_margin");const d=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen();const u=(e,t)=>{const o=e.getBody();if(o){o.style.overflowY=t?"":"hidden";if(!t){o.scrollTop=0}}};const f=(e,t,o,n)=>{var s;const r=parseInt((s=e.getStyle(t,o,n))!==null&&s!==void 0?s:"",10);return isNaN(r)?0:r};const m=e=>{if((e===null||e===void 0?void 0:e.type.toLowerCase())==="setcontent"){const t=e;return t.selection===true||t.paste===true}else{return false}};const g=(e,t,s,r)=>{var l;const p=e.dom;const h=e.getDoc();if(!h){return}if(d(e)){u(e,true);return}const y=h.documentElement;const b=r?r():i(e);const v=(l=a(e))!==null&&l!==void 0?l:e.getElement().offsetHeight;let k=v;const w=f(p,y,"margin-top",true);const _=f(p,y,"margin-bottom",true);let x=y.offsetHeight+w+_+b;if(x<0){x=0}const C=e.getContainer().offsetHeight;const S=e.getContentAreaContainer().offsetHeight;const z=C-S;if(x+z>v){k=x+z}const T=c(e);if(T&&k>T){k=T;u(e,true)}else{u(e,false)}const E=t.get();if(E.set){e.dom.setStyles(e.getDoc().documentElement,{"min-height":0});e.dom.setStyles(e.getBody(),{"min-height":"inherit"})}if(k!==E.totalHeight&&(x-b!==E.contentHeight||!E.set)){const a=k-E.totalHeight;p.setStyle(e.getContainer(),"height",k+"px");t.set({totalHeight:k,contentHeight:x,set:true});n(e);if(o.browser.isSafari()&&(o.os.isMacOS()||o.os.isiOS())){const t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}if(e.hasFocus()&&m(s)){e.selection.scrollIntoView()}if((o.browser.isSafari()||o.browser.isChromium())&&a<0){g(e,t,s,r)}}};const p=(e,t)=>{const n=()=>l(e);e.on("init",s=>{const r=i(e);const a=e.dom;a.setStyles(e.getDoc().documentElement,{height:"auto"});if(o.browser.isEdge()||o.browser.isIE()){a.setStyles(e.getBody(),{paddingLeft:r,paddingRight:r,"min-height":0})}else{a.setStyles(e.getBody(),{paddingLeft:r,paddingRight:r})}g(e,t,s,n)});e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",o=>{g(e,t,o,n)})};const h=(e,t)=>{e.addCommand("mceAutoResize",()=>{g(e,t)})};var y=()=>{t.add("autoresize",t=>{r(t);if(!t.options.isSet("resize")){t.options.set("resize",false)}if(!t.inline){const o=e({totalHeight:0,contentHeight:0,set:false});h(t,o);p(t,o)}})};y()})()},(e,t,o)=>{o(11)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t)=>{e.focus();e.undoManager.transact(()=>{e.setContent(t)});e.selection.setCursorLocation();e.nodeChanged()};const o=e=>e.getContent({source_view:true});const n=e=>{const n=o(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:{code:n},onSubmit:o=>{t(e,o.getData().code);o.close()}})};const s=e=>{e.addCommand("mceCodeEditor",()=>{n(e)})};const r=e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t});e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})};var a=()=>{e.add("code",e=>{s(e);r(e);return{}})};a()})()},(e,t,o)=>{o(13)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=s("boolean");const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=s("function");const d=s("number");const u=(e,t)=>o=>e(t(o));const f=e=>()=>e;const m=f(false);class g{constructor(e,t){this.tag=e;this.value=t}static some(e){return new g(true,e)}static none(){return g.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return g.some(e(this.value))}else{return g.none()}}bind(e){if(this.tag){return e(this.value)}else{return g.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return g.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return i(e)?g.some(e):g.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}g.singletonNone=new g(false);const p=Array.prototype.slice;const h=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const y=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const b=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};l(Array.from)?Array.from:e=>p.call(e);const v=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return _(n.childNodes[0])};const k=(e,t)=>{const o=t||document;const n=o.createElement(e);return _(n)};const w=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return _(n)};const _=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const x=(e,t,o)=>g.from(e.dom.elementFromPoint(t,o)).map(_);const C={fromHtml:v,fromTag:k,fromText:w,fromDom:_,fromPoint:x};const S=11;const z=1;const T=3;const E=(e,t)=>{const o=e.dom;if(o.nodeType!==z){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const O=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const A=e=>e.dom.nodeType;const D=e=>t=>A(t)===e;const M=D(z);const N=D(T);const R=D(S);const B=e=>t=>M(t)&&O(t)===e;const L=e=>g.from(e.dom.parentNode).map(C.fromDom);const H=e=>h(e.dom.childNodes,C.fromDom);const I=e=>R(e)&&i(e.dom.host);const P=e=>C.fromDom(e.dom.getRootNode());const F=e=>{const t=P(e);return I(t)?g.some(t):g.none()};const V=e=>C.fromDom(e.dom.host);const j=(e,t,o)=>{if(r(o)||a(o)||d(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Z=(e,t,o)=>{j(e.dom,t,o)};const U=(e,t)=>{e.dom.removeAttribute(t)};const q=e=>e.style!==undefined&&l(e.style.getPropertyValue);const $=e=>{const t=N(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return F(C.fromDom(t)).fold(()=>o.body.contains(t),u($,V))};const W=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!$(e)?G(o,t):s};const G=(e,t)=>q(e)?e.style.getPropertyValue(t):"";const K=e=>W(e,"direction")==="rtl"?"rtl":"ltr";const Y=(e,t,o)=>{let n=e.dom;const s=l(o)?o:m;while(n.parentNode){n=n.parentNode;const e=C.fromDom(n);if(t(e)){return g.some(e)}else if(s(e)){break}}return g.none()};const X=(e,t,o)=>Y(e,e=>E(e,t),o);const J=(e,t)=>b(H(e),t);const Q=(e,t)=>J(e,e=>E(e,t));const ee=e=>L(e).filter(M);const te=(e,t)=>{const o=t?X(e,"ol,ul"):g.some(e);return o.getOr(e)};const oe=B("li");const ne=(e,t,o)=>{y(t,t=>{const n=C.fromDom(t);const s=oe(n);const r=te(n,s);const a=ee(r);a.each(t=>{e.setStyle(r.dom,"direction",null);const n=K(t);if(n===o){U(r,"dir")}else{Z(r,"dir",o)}if(K(r)!==o){e.setStyle(r.dom,"direction",o)}if(s){const t=Q(r,"li[dir],li[style]");y(t,t=>{U(t,"dir");e.setStyle(t.dom,"direction",null)})}})})};const se=(e,t)=>{if(e.selection.isEditable()){ne(e.dom,e.selection.getSelectedBlocks(),t);e.nodeChanged()}};const re=e=>{e.addCommand("mceDirectionLTR",()=>{se(e,"ltr")});e.addCommand("mceDirectionRTL",()=>{se(e,"rtl")})};const ae=(e,t)=>o=>{const n=n=>{const s=C.fromDom(n.element);o.setActive(K(s)===t);o.setEnabled(e.selection.isEditable())};e.on("NodeChange",n);o.setEnabled(e.selection.isEditable());return()=>e.off("NodeChange",n)};const ce=e=>{e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>e.execCommand("mceDirectionLTR"),onSetup:ae(e,"ltr")});e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>e.execCommand("mceDirectionRTL"),onSetup:ae(e,"rtl")})};var ie=()=>{e.add("directionality",e=>{re(e);ce(e)})};ie()})()},(e,t,o)=>{o(15)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e;const o=e=>t=>e===t;const n=o(null);const s=o(undefined);const r=e=>e===null||e===undefined;const a=e=>!r(e);const c=t("function");const i=()=>{};const l=e=>()=>e;const d=l(false);class u{constructor(e,t){this.tag=e;this.value=t}static some(e){return new u(true,e)}static none(){return u.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return u.some(e(this.value))}else{return u.none()}}bind(e){if(this.tag){return e(this.value)}else{return u.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return u.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return a(e)?u.some(e):u.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}u.singletonNone=new u(false);const f=Array.prototype.slice;const m=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const g=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const p=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};c(Array.from)?Array.from:e=>f.call(e);const h=Object.keys;const y=Object.hasOwnProperty;const b=(e,t)=>{const o=h(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const v=(e,t)=>k(e,(e,o)=>({k:o,v:t(e,o)}));const k=(e,t)=>{const o={};b(e,(e,n)=>{const s=t(e,n);o[s.k]=s.v});return o};const w=(e,t)=>y.call(e,t);const _=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const x=(e,t)=>t;const C=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(w(s,t)){o[t]=e(o[t],s[t])}}}return o};const S=C(x);const z=e=>{const t=_(u.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(u.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(u.some(e))};return{clear:n,isSet:s,get:r,set:a}};const T=()=>{const e=z(i);const t=t=>e.get().each(t);return{...e,on:t}};const E=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const O=(e,t,o=0,n)=>{const r=e.indexOf(t,o);if(r!==-1){return s(n)?true:r+t.length<=n}else{return false}};const A=(e,t)=>E(e,t,0);const D=(e,t)=>{let o=null;const s=()=>{if(!n(o)){clearTimeout(o);o=null}};const r=(...n)=>{s();o=setTimeout(()=>{o=null;e.apply(null,n)},t)};return{cancel:s,throttle:r}};const M=(e,t)=>{e.insertContent(t)};var N=tinymce.util.Tools.resolve("tinymce.Resource");const R="tinymce.plugins.emoticons";const B=e=>t=>t.options.get(e);const L=(e,t)=>{const o=e.options.register;o("emoticons_database",{processor:"string",default:"emojis"});o("emoticons_database_url",{processor:"string",default:`${t}/js/${H(e)}${e.suffix}.js`});o("emoticons_database_id",{processor:"string",default:R});o("emoticons_append",{processor:"object",default:{}});o("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})};const H=B("emoticons_database");const I=B("emoticons_database_url");const P=B("emoticons_database_id");const F=B("emoticons_append");const V=B("emoticons_images_url");const j="All";const Z={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"};const U=(e,t)=>w(e,t)?e[t]:t;const q=e=>{const t=F(e);return v(t,e=>({keywords:[],category:"user",...e}))};const $=(e,t,o)=>{const n=T();const s=T();const r=V(e);const a=e=>{if(A(e.char,"<img")){return e.char.replace(/src="([^"]+)"/,(e,t)=>`src="${r}${t}"`)}else{return e.char}};const c=e=>{const t={};const o=[];b(e,(e,n)=>{const s={title:n,keywords:e.keywords,char:a(e),category:U(Z,e.category)};const r=t[s.category]!==undefined?t[s.category]:[];t[s.category]=r.concat([s]);o.push(s)});n.set(t);s.set(o)};e.on("init",()=>{N.load(o,t).then(t=>{const o=q(e);c(S(t,o))},e=>{console.log(`Failed to load emojis: ${e}`);n.set({});s.set([])})});const i=e=>{if(e===j){return l()}return n.get().bind(t=>u.from(t[e])).getOr([])};const l=()=>s.get().getOr([]);const d=()=>[j].concat(h(n.get().getOr({})));const f=()=>{if(m()){return Promise.resolve(true)}else{return new Promise((e,o)=>{let n=15;const s=setInterval(()=>{if(m()){clearInterval(s);e(true)}else{n--;if(n<0){console.log("Could not load emojis from url: "+t);clearInterval(s);o(false)}}},100)})}};const m=()=>n.isSet()&&s.isSet();return{listCategories:d,hasLoaded:m,waitForLoad:f,listAll:l,listCategory:i}};const W=(e,t)=>O(e.title.toLowerCase(),t)||m(e.keywords,e=>O(e.toLowerCase(),t));const G=(e,t,o)=>{const n=[];const s=t.toLowerCase();const r=o.fold(()=>d,e=>t=>t>=e);for(let o=0;o<e.length;o++){if(t.length===0||W(e[o],s)){n.push({value:e[o].char,text:e[o].title,icon:e[o].char});if(r(n.length)){break}}}return n};const K="pattern";const Y=(e,t)=>{const o={pattern:"",results:G(t.listAll(),"",u.some(300))};const n=_(j);const s=e=>{const o=e.getData();const s=n.get();const r=t.listCategory(s);const a=G(r,o[K],s===j?u.some(300):u.none());e.setData({results:a})};const r=D(e=>{s(e)},200);const a={label:"Search",type:"input",name:K};const c={type:"collection",name:"results"};const i=()=>{const s={type:"tabpanel",tabs:g(t.listCategories(),e=>({title:e,name:e,items:[a,c]}))};return{title:"Emojis",size:"normal",body:s,initialData:o,onTabChange:(e,t)=>{n.set(t.newTabName);r.throttle(e)},onChange:r.throttle,onAction:(t,o)=>{if(o.name==="results"){M(e,o.value);t.close()}},buttons:[{type:"cancel",text:"Close",primary:true}]}};const l=e.windowManager.open(i());l.focus(K);if(!t.hasLoaded()){l.block("Loading emojis...");t.waitForLoad().then(()=>{l.redial(i());r.throttle(l);l.focus(K);l.unblock()}).catch(e=>{l.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:true}],initialData:{pattern:"",results:[]}});l.focus(K);l.unblock()})}};const X=(e,t)=>{e.addCommand("mceEmoticons",()=>Y(e,t))};const J=e=>{e.on("PreInit",()=>{e.parser.addAttributeFilter("data-emoticon",e=>{p(e,e=>{e.attr("data-mce-resize","false");e.attr("data-mce-placeholder","1")})})})};const Q=(e,t)=>{e.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(e,o)=>t.waitForLoad().then(()=>{const n=t.listAll();return G(n,e,u.some(o))}),onAction:(t,o,n)=>{e.selection.setRng(o);e.insertContent(n);t.hide()}})};const ee=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const te=e=>{const t=()=>e.execCommand("mceEmoticons");e.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:t,onSetup:ee(e)});e.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:t,onSetup:ee(e)})};var oe=()=>{e.add("emoticons",(e,t)=>{L(e,t);const o=I(e);const n=P(e);const s=$(e,o,n);X(e,s);te(e);Q(e,s);J(e);return{getAllEmojis:()=>s.waitForLoad().then(()=>s.listAll())}})};oe()})()},()=>{window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:false,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:false,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:false,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:false,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:false,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:false,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:false,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:false,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:false,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:false,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:false,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:false,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:false,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:false,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:false,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:false,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:false,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:false,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:false,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:false,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:false,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:false,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:false,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:false,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:false,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:false,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:false,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:false,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:false,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:false,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:false,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:false,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:false,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:false,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:false,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:false,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:false,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:false,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:false,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:false,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:false,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:false,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:false,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:false,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:false,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:false,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:false,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:false,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:false,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:false,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:false,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:false,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:false,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:false,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:false,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:false,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:false,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:false,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:false,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:false,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:false,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:false,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:false,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:false,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:false,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:false,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:false,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:false,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:false,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:false,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:false,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:false,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:false,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:false,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:false,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:false,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:false,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:false,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:false,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:false,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:false,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:false,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:false,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:false,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:false,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:false,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:false,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:false,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:false,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:false,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:false,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:false,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:false,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:false,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:false,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:false,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:false,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:false,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:false,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:false,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:false,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:false,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:false,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:false,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:false,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:false,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:false,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:false,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:false,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:true,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:true,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:true,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:true,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:true,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:true,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:true,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:true,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:true,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:true,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:true,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:true,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:true,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:true,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:true,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:true,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:true,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:true,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:true,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:true,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:false,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:true,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:true,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:true,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:true,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:true,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:true,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:true,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:true,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:true,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:true,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:true,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:true,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:true,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:true,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:false,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:false,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:false,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:true,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:true,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:false,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:false,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:false,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:false,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:false,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:false,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:true,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:true,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:true,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:true,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:true,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:true,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:true,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:true,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:true,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:true,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:true,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:true,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:true,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:true,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:true,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:true,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:true,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:true,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:true,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:true,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:true,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:true,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:true,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:true,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:true,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:true,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:true,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:true,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:true,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:true,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:true,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:true,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:true,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:true,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:true,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:true,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:true,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:true,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:true,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:true,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:true,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:true,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:true,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:true,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:true,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:true,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:true,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:true,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:true,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:true,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:true,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:true,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:true,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:true,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:true,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:true,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:true,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:true,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:true,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:true,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:true,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:true,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:true,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:true,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:true,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:true,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:true,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:true,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:true,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:false,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:false,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:false,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:false,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:true,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:true,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:true,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:true,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:true,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:true,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:true,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:true,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:true,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:true,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:true,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:true,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:true,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:true,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:true,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:true,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:true,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:false,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:false,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:false,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:false,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:false,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:true,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:true,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:true,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:true,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:true,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:true,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:true,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:true,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:true,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:true,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:true,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:true,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:true,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:true,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:true,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:true,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:true,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:true,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:true,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:true,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:true,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:true,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:true,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:true,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:false,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:false,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:false,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:false,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:false,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:false,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:false,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:false,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:false,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:false,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:false,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:false,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:false,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:false,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:false,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:false,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:false,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:false,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:false,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:false,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:false,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:false,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:false,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:false,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:false,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:false,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:false,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:false,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:false,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:false,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:false,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:false,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:false,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:false,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:false,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:false,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:false,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:false,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:false,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:false,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:false,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:false,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:false,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:false,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:false,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:false,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:false,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:false,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:false,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:false,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:false,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:false,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:false,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:false,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:false,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:false,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:false,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:false,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:false,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:false,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:false,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:false,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:false,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:false,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:false,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:false,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:false,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:false,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:false,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:false,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:false,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:false,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:false,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:false,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:false,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:false,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:false,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:false,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:false,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:false,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:false,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:false,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:false,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:false,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:false,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:false,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:false,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:false,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:false,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:false,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:false,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:false,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:false,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:false,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:false,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:false,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:false,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:false,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:false,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:false,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:false,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:false,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:false,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:false,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:false,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:false,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:false,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:false,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:false,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:false,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:false,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:false,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:false,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:false,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:false,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:false,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:false,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:false,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:false,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:false,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:false,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:false,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:false,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:false,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:false,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:false,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:false,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:false,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:false,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:false,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:false,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:false,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:false,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:false,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:false,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:false,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:false,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:false,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:false,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:false,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:false,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:false,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:false,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:false,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:false,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:false,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:false,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:false,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:false,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:false,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:false,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:false,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:false,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:false,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:false,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:false,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:false,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:false,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:false,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:false,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:false,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:false,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:false,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:false,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:false,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:false,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:false,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:false,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:false,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:false,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:false,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:false,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:false,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:false,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:false,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:false,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:false,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:false,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:false,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:false,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:false,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:false,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:false,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:false,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:false,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:false,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:false,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:false,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:false,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:false,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:false,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:false,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:false,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:false,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:false,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:false,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:false,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:false,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:false,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:false,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:false,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:false,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:false,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:false,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:false,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:false,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:false,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:false,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:false,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:false,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:false,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:false,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:false,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:false,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:false,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:false,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:false,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:false,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:false,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:false,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:false,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:false,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:false,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:false,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:false,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:false,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:false,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:false,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:false,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:false,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:false,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:false,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:false,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:false,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:false,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:false,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:false,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:false,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:false,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:false,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:false,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:false,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:false,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:false,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:false,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:false,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:false,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:false,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:false,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:false,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:false,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:false,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:false,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:false,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:false,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:false,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:false,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:false,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:false,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:false,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:false,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:false,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:false,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:false,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:false,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:false,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:false,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:false,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:false,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:false,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:false,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:false,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:false,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:false,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:false,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:false,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:false,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:false,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:false,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:false,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:false,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:false,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:false,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:false,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:false,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:false,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:false,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:false,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:false,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:false,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:false,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:false,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:false,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:false,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:false,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:false,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:false,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:false,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:false,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:false,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:false,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:false,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:false,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:false,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:false,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:false,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:false,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:false,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:false,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:false,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:false,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:false,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:false,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:false,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:false,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:false,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:false,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:false,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:false,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:false,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:false,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:false,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:false,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:false,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:false,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:false,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:false,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:false,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:false,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:false,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:false,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:false,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:false,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:false,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:false,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:false,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:false,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:false,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:false,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:false,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:false,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:false,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:false,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:false,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:false,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:false,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:false,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:true,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:false,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:false,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:false,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:false,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:false,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:false,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:false,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:false,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:false,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:true,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:false,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:false,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:false,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:true,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:true,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:true,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:true,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:false,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:false,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:false,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:false,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:false,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:false,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:false,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:false,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:true,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:true,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:true,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:true,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:true,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:true,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:true,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:true,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:true,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:true,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:true,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:true,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:true,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:true,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:true,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:true,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:true,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:true,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:true,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:true,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:true,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:true,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:true,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:false,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:false,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:false,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:false,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:false,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:false,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:false,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:false,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:false,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:false,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:false,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:false,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:false,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:false,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:true,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:true,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:false,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:false,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:false,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:false,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:false,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:false,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:false,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:false,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:false,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:false,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:false,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:false,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:false,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:false,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:false,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:false,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:false,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:false,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:false,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:false,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:false,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:false,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:false,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:false,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:false,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:false,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:false,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:false,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:false,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:false,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:false,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:false,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:false,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:false,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:false,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:false,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:false,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:false,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:false,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:false,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:false,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:false,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:false,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:false,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:false,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:false,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:false,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:false,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:false,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:false,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:false,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:false,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:false,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:false,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:false,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:false,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:false,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:false,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:false,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:false,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:false,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:false,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:false,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:false,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:false,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:false,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:false,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:false,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:false,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:false,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:false,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:false,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:false,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:false,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:false,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:false,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:false,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:false,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:false,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:false,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:false,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:false,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:false,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:false,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:false,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:false,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:false,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:false,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:false,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:false,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:false,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:false,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:false,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:false,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:false,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:false,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:false,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:false,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:false,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:false,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:false,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:false,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:false,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:false,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:false,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:false,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:false,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:false,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:false,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:false,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:false,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:false,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:false,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:false,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:false,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:false,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:false,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:false,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:false,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:false,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:false,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:false,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:false,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:false,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:false,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:false,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:false,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:false,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:false,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:false,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:false,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:false,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:false,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:false,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:false,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:false,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:false,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:false,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:false,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:false,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:false,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:false,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:false,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:false,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:false,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:false,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:false,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:false,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:false,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:false,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:false,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:false,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:false,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:false,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:false,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:false,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:false,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:false,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:false,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:false,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:false,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:false,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:false,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:false,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:false,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:false,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:false,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:false,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:false,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:false,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:false,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:false,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:false,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:false,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:false,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:false,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:false,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:false,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:false,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:false,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:false,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:false,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:false,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:false,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:false,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:false,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:false,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:false,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:false,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:false,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:false,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:false,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:false,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:false,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:false,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:false,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:false,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:false,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:false,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:false,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:false,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:false,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:false,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:false,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:false,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:false,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:false,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:false,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:false,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:false,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:false,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:false,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:false,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:false,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:false,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:false,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:false,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:false,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:false,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:false,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:false,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:false,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:false,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:false,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:false,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:false,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:false,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:false,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:false,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:false,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:false,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:false,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:false,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:false,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:false,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:false,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:false,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:false,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:false,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:false,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:false,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:false,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:true,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:false,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:false,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:false,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:false,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:false,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:false,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:false,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:false,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:false,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:false,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:false,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:false,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:false,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:false,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:false,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:false,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:false,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:false,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:false,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:false,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:false,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:false,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:false,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:false,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:false,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:false,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:false,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:false,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:false,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:false,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:false,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:false,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:false,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:false,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:false,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:false,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:false,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:false,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:false,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:false,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:false,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:false,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:false,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:false,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:false,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:false,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:false,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:false,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:false,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:false,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:false,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:false,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:false,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:false,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:false,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:false,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:false,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:false,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:false,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:false,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:false,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:false,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:false,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:false,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:false,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:false,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:false,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:false,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:false,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:false,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:false,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:false,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:false,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:false,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:false,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:false,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:false,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:false,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:false,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:false,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:false,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:false,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:false,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:false,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:false,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:false,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:false,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:false,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:false,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:false,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:false,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:false,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:false,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:false,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:false,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:false,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:false,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:false,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:false,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:false,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:false,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:false,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:false,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:false,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:false,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:false,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:false,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:false,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:false,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:false,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:false,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:false,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:false,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:false,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:false,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:false,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:false,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:false,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:false,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:false,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:false,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:false,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:false,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:false,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:false,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:false,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:false,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:false,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:false,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:false,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:false,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:false,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:false,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:false,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:false,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:false,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:false,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:false,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:false,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:false,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:false,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:false,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:false,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:false,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:false,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:false,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:false,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:false,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:false,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:false,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:false,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:false,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:false,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:false,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:false,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:false,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:false,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:false,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:false,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:false,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:false,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:false,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:false,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:false,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:false,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:false,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:false,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:false,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:false,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:false,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:false,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:false,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:false,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:false,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:false,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:false,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:false,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:false,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:false,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:false,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:false,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:false,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:false,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:false,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:false,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:false,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:false,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:false,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:false,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:false,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:false,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:false,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:false,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:false,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:false,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:false,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:false,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:false,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:false,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:false,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:false,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:false,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:false,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:false,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:false,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:false,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:false,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:false,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:false,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:false,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:false,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:false,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:false,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:false,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:false,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:false,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:false,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:false,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:false,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:false,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:false,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:false,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:false,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:false,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:false,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:false,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:false,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:false,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:false,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:false,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:false,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:false,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:false,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:false,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:false,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:false,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:false,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:false,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:false,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:false,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:false,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:false,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:false,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:false,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:false,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:false,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:false,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:false,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:false,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:false,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:false,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:false,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:false,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:false,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:false,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:false,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:false,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:false,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:false,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:false,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:false,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:false,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:false,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:false,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:false,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:false,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:false,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:false,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:false,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:false,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:false,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:false,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:false,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:false,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:false,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:false,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:false,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:false,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:false,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:false,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:false,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:false,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:false,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:false,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:false,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:false,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:false,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:false,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:false,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:false,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:false,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:false,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:false,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:false,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:false,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:false,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:false,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:false,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:false,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:false,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:false,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:false,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:false,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:false,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:false,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:false,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:false,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:false,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:false,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:false,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:false,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:false,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:false,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:false,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:false,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:false,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:false,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:false,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:false,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:false,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:false,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:false,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:false,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:false,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:false,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:false,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:false,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:false,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:false,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:false,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:false,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:false,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:false,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:false,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:false,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:false,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:false,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:false,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:false,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:false,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:false,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:false,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:false,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:false,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:false,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:false,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:false,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:false,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:false,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:false,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:false,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:false,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:false,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:false,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:false,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:false,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:false,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:false,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:false,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:false,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:false,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:false,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:false,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:false,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:false,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:false,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:false,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:false,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:false,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:false,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:false,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:false,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:false,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:false,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:false,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:false,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:false,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:false,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:false,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:false,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:false,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:false,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:false,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:false,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:false,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:false,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:false,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:false,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:false,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:false,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:false,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:false,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:false,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:false,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:false,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:false,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:false,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:false,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:false,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:false,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:false,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:false,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:false,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:false,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:false,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:false,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:false,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:false,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:false,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:false,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:false,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:false,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:false,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:false,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:false,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:false,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:false,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:false,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:false,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:false,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:false,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:false,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:false,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:false,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:false,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:false,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:false,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:false,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:false,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:false,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:false,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:false,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:false,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:false,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:false,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:false,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:false,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:false,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:false,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:false,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:false,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:false,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:false,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:false,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:false,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:false,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:false,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:false,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:false,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:false,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:false,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:false,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:false,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:false,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:false,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:false,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:false,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:false,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:false,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:false,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:false,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:false,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:false,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:false,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:false,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:false,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:false,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:false,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:false,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:false,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:false,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:false,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:false,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:false,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:false,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:false,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:false,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:false,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:false,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:false,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:false,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:false,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:false,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:false,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:false,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:false,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:false,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:false,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:false,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:false,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:false,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:false,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:false,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:false,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:false,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:false,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:false,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:false,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:false,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:false,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:false,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:false,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:false,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:false,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:false,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:false,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:false,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:false,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:false,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:false,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:false,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:false,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:false,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:false,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:false,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:false,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:false,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:false,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:false,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:false,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:false,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:false,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:false,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:false,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:false,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:false,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:false,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:false,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:false,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:false,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:false,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:false,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:false,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:false,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:false,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:false,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:false,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:false,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:false,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:false,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:false,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:false,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:false,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:false,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:false,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:false,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:false,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:false,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:false,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:false,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:false,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:false,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:false,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:false,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:false,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:false,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:false,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:false,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:false,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:false,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:false,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:false,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:false,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:false,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:false,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:false,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:false,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:false,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:false,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:false,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:false,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:false,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:false,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:false,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:false,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:false,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:false,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:false,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:false,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:false,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:false,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:false,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:false,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:false,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:false,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:false,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:false,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:false,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:false,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:false,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:false,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:false,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:false,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:false,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:false,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:false,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:false,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:false,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:false,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:false,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:false,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:false,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:false,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:false,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:false,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:false,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:false,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:false,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:false,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:false,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:false,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:false,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:false,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:false,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:false,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:false,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:false,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:false,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:false,category:"flags"}})},(e,t,o)=>{o(18)},()=>{(function(){"use strict";const e=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const t=t=>{const o=typeof t;if(t===null){return"null"}else if(o==="object"&&Array.isArray(t)){return"array"}else if(o==="object"&&e(t,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const o=e=>o=>t(o)===e;const n=e=>t=>typeof t===e;const s=e=>t=>e===t;const r=o("string");const a=o("object");const c=o("array");const i=s(null);const l=n("boolean");const d=s(undefined);const u=e=>e===null||e===undefined;const f=e=>!u(e);const m=n("function");const g=n("number");const p=()=>{};const h=(e,t)=>(...o)=>e(t.apply(null,o));const y=(e,t)=>o=>e(t(o));const b=e=>()=>e;function v(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const k=b(false);const w=b(true);class _{constructor(e,t){this.tag=e;this.value=t}static some(e){return new _(true,e)}static none(){return _.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return _.some(e(this.value))}else{return _.none()}}bind(e){if(this.tag){return e(this.value)}else{return _.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return _.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return f(e)?_.some(e):_.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}_.singletonNone=new _(false);const x=Array.prototype.push;const C=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const S=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const z=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const T=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return _.some(s)}else if(o(s,n)){break}}return _.none()};const E=(e,t)=>T(e,t,k);const O=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}x.apply(t,e[o])}return t};const A=(e,t)=>O(C(e,t));const D=(e,t)=>t>=0&&t<e.length?_.some(e[t]):_.none();const M=e=>D(e,0);const N=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return _.none()};const R=Object.keys;const B=(e,t)=>{const o=R(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const L=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const H=typeof window!=="undefined"?window:Function("return this;")();const I=(e,t,o)=>e.isSome()&&t.isSome()?_.some(o(e.getOrDie(),t.getOrDie())):_.none();const P=(e,t)=>{let o=t!==undefined&&t!==null?t:H;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const F=(e,t)=>{const o=e.split(".");return P(o,t)};const V=e=>{const t=L(_.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(_.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(_.some(e))};return{clear:n,isSet:s,get:r,set:a}};const j=()=>V(e=>e.unbind());const Z=()=>{const e=V(p);const t=t=>e.get().each(t);return{...e,on:t}};const U=(e,t,o=0,n)=>{const s=e.indexOf(t,o);if(s!==-1){return d(n)?true:s+t.length<=n}else{return false}};const q=(e,t)=>{let o=null;const n=()=>{if(!i(o)){clearTimeout(o);o=null}};const s=(...n)=>{if(i(o)){o=setTimeout(()=>{o=null;e.apply(null,n)},t)}};return{cancel:n,throttle:s}};const $=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};var W=tinymce.util.Tools.resolve("tinymce.PluginManager");const G=e=>({isFullscreen:()=>e.get()!==null});const K=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return J(n.childNodes[0])};const Y=(e,t)=>{const o=t||document;const n=o.createElement(e);return J(n)};const X=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return J(n)};const J=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const Q=(e,t,o)=>_.from(e.dom.elementFromPoint(t,o)).map(J);const ee={fromHtml:K,fromTag:Y,fromText:X,fromDom:J,fromPoint:Q};const te=9;const oe=11;const ne=1;const se=3;const re=(e,t)=>{const o=e.dom;if(o.nodeType!==ne){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const ae=e=>e.nodeType!==ne&&e.nodeType!==te&&e.nodeType!==oe||e.childElementCount===0;const ce=(e,t)=>{const o=t===undefined?document:t.dom;return ae(o)?[]:C(o.querySelectorAll(e),ee.fromDom)};const ie=(e,t)=>e.dom===t.dom;const le=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===true;const r=e.isiOS()&&!s;const a=e.isiOS()||e.isAndroid();const c=a||n("(pointer:coarse)");const i=s||!r&&a&&n("(min-device-width:768px)");const l=r||a&&!i;const d=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===false;const u=!l&&!i&&!d;return{isiPad:b(s),isiPhone:b(r),isTablet:b(i),isPhone:b(l),isTouch:b(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:b(d),isDesktop:b(u)}};const de=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t)){return n}}return undefined};const ue=(e,t)=>{const o=de(e,t);if(!o){return{major:0,minor:0}}const n=e=>Number(t.replace(o,"$"+e));return ge(n(1),n(2))};const fe=(e,t)=>{const o=String(t).toLowerCase();if(e.length===0){return me()}return ue(e,o)};const me=()=>ge(0,0);const ge=(e,t)=>({major:e,minor:t});const pe={nu:ge,detect:fe,unknown:me};const he=(e,t)=>N(t.brands,t=>{const o=t.brand.toLowerCase();return E(e,e=>{var t;return o===((t=e.brand)===null||t===void 0?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:pe.nu(parseInt(t.version,10),0)}))});const ye=(e,t)=>{const o=String(t).toLowerCase();return E(e,e=>e.search(o))};const be=(e,t)=>ye(e,t).map(e=>{const o=pe.detect(e.versionRegexes,t);return{current:e.name,version:o}});const ve=(e,t)=>ye(e,t).map(e=>{const o=pe.detect(e.versionRegexes,t);return{current:e.name,version:o}});const ke=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;const we=e=>t=>U(t,e);const _e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>U(e,"edge/")&&U(e,"chrome")&&U(e,"safari")&&U(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ke],search:e=>U(e,"chrome")&&!U(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>U(e,"msie")||U(e,"trident")},{name:"Opera",versionRegexes:[ke,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:we("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:we("firefox")},{name:"Safari",versionRegexes:[ke,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(U(e,"safari")||U(e,"mobile/"))&&U(e,"applewebkit")}];const xe=[{name:"Windows",search:we("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>U(e,"iphone")||U(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:we("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:we("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:we("linux"),versionRegexes:[]},{name:"Solaris",search:we("sunos"),versionRegexes:[]},{name:"FreeBSD",search:we("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:we("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const Ce={browsers:b(_e),oses:b(xe)};const Se="Edge";const ze="Chromium";const Te="IE";const Ee="Opera";const Oe="Firefox";const Ae="Safari";const De=()=>Me({current:undefined,version:pe.unknown()});const Me=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isEdge:n(Se),isChromium:n(ze),isIE:n(Te),isOpera:n(Ee),isFirefox:n(Oe),isSafari:n(Ae)}};const Ne={unknown:De,nu:Me,edge:b(Se),chromium:b(ze),ie:b(Te),opera:b(Ee),firefox:b(Oe),safari:b(Ae)};const Re="Windows";const Be="iOS";const Le="Android";const He="Linux";const Ie="macOS";const Pe="Solaris";const Fe="FreeBSD";const Ve="ChromeOS";const je=()=>Ze({current:undefined,version:pe.unknown()});const Ze=e=>{const t=e.current;const o=e.version;const n=e=>()=>t===e;return{current:t,version:o,isWindows:n(Re),isiOS:n(Be),isAndroid:n(Le),isMacOS:n(Ie),isLinux:n(He),isSolaris:n(Pe),isFreeBSD:n(Fe),isChromeOS:n(Ve)}};const Ue={unknown:je,nu:Ze,windows:b(Re),ios:b(Be),android:b(Le),linux:b(He),macos:b(Ie),solaris:b(Pe),freebsd:b(Fe),chromeos:b(Ve)};const qe=(e,t,o)=>{const n=Ce.browsers();const s=Ce.oses();const r=t.bind(e=>he(n,e)).orThunk(()=>be(n,e)).fold(Ne.unknown,Ne.nu);const a=ve(s,e).fold(Ue.unknown,Ue.nu);const c=le(a,r,e,o);return{browser:r,os:a,deviceType:c}};const $e={detect:qe};const We=e=>window.matchMedia(e).matches;let Ge=$(()=>$e.detect(window.navigator.userAgent,_.from(window.navigator.userAgentData),We));const Ke=()=>Ge();const Ye=(e,t)=>F(e,t);const Xe=(e,t)=>{const o=Ye(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const Je=Object.getPrototypeOf;const Qe=e=>Xe("HTMLElement",e);const et=e=>{const t=F("ownerDocument.defaultView",e);return a(e)&&(Qe(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Je(e).constructor.name))};const tt=e=>e.dom.nodeType;const ot=e=>t=>tt(t)===e;const nt=e=>st(e)&&et(e.dom);const st=ot(ne);const rt=ot(se);const at=ot(oe);const ct=e=>ee.fromDom(e.dom.ownerDocument);const it=e=>_.from(e.dom.parentNode).map(ee.fromDom);const lt=(e,t)=>{const o=m(t)?t:k;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=ee.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const dt=e=>{const t=t=>z(t,t=>!ie(e,t));return it(e).map(ft).map(t).getOr([])};const ut=e=>_.from(e.dom.nextSibling).map(ee.fromDom);const ft=e=>C(e.dom.childNodes,ee.fromDom);const mt=e=>at(e)&&f(e.dom.host);const gt=e=>ee.fromDom(e.dom.getRootNode());const pt=e=>{const t=gt(e);return mt(t)?_.some(t):_.none()};const ht=e=>ee.fromDom(e.dom.host);const yt=e=>{if(f(e.target)){const t=ee.fromDom(e.target);if(st(t)&&bt(t)){if(e.composed&&e.composedPath){const t=e.composedPath();if(t){return M(t)}}}}return _.from(e.target)};const bt=e=>f(e.dom.shadowRoot);const vt=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a});const kt=e=>{const t=ee.fromDom(yt(e).getOr(e.target));const o=()=>e.stopPropagation();const n=()=>e.preventDefault();const s=h(n,o);return vt(t,e.clientX,e.clientY,o,n,s,e)};const wt=(e,t)=>o=>{if(e(o)){t(kt(o))}};const _t=(e,t,o,n,s)=>{const r=wt(o,n);e.dom.addEventListener(t,r,s);return{unbind:v(Ct,e,t,r,s)}};const xt=(e,t,o,n)=>_t(e,t,o,n,false);const Ct=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)};const St=w;const zt=(e,t,o)=>xt(e,t,St,o);const Tt=(e,t,o)=>{if(r(o)||l(o)||g(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Et=(e,t,o)=>{Tt(e.dom,t,o)};const Ot=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const At=(e,t)=>{e.dom.removeAttribute(t)};const Dt=e=>e.style!==undefined&&m(e.style.getPropertyValue);const Mt=e=>{const t=rt(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return pt(ee.fromDom(t)).fold(()=>o.body.contains(t),y(Mt,ht))};const Nt=e=>{const t=e.dom.body;if(t===null||t===undefined){throw new Error("Body is not available yet")}return ee.fromDom(t)};const Rt=(e,t,o)=>{if(!r(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Dt(e)){e.style.setProperty(t,o)}};const Bt=(e,t,o)=>{const n=e.dom;Rt(n,t,o)};const Lt=(e,t)=>{const o=e.dom;B(t,(e,t)=>{Rt(o,t,e)})};const Ht=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!Mt(e)?It(o,t):s};const It=(e,t)=>Dt(e)?e.style.getPropertyValue(t):"";const Pt=(e,t)=>{const o=(o,n)=>Pt(e+o,t+n);return{left:e,top:t,translate:o}};const Ft=Pt;const Vt=e=>{const t=e!==undefined?e.dom:document;const o=t.body.scrollLeft||t.documentElement.scrollLeft;const n=t.body.scrollTop||t.documentElement.scrollTop;return Ft(o,n)};const jt=e=>e.dom.classList!==undefined;const Zt=(e,t)=>jt(e)&&e.dom.classList.contains(t);const Ut=(e,t,o)=>z(lt(e,o),t);const qt=(e,t)=>z(dt(e),t);const $t=e=>ce(e);const Wt=(e,t,o)=>Ut(e,e=>re(e,t),o);const Gt=(e,t)=>qt(e,e=>re(e,t));const Kt=e=>{const t=e===undefined?window:e;if(Ke().browser.isFirefox()){return _.none()}else{return _.from(t.visualViewport)}};const Yt=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n});const Xt=e=>{const t=e===undefined?window:e;const o=t.document;const n=Vt(ee.fromDom(o));return Kt(t).fold(()=>{const e=t.document.documentElement;const o=e.clientWidth;const s=e.clientHeight;return Yt(n.left,n.top,o,s)},e=>Yt(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height))};const Jt=(e,t,o)=>Kt(o).map(o=>{const n=e=>t(kt(e));o.addEventListener(e,n);return{unbind:()=>o.removeEventListener(e,n)}}).getOrThunk(()=>({unbind:p}));var Qt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var eo=tinymce.util.Tools.resolve("tinymce.Env");const to=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t});e.dispatch("ResizeEditor")};const oo=e=>t=>t.options.get(e);const no=e=>{const t=e.options.register;t("fullscreen_native",{processor:"boolean",default:false})};const so=oo("fullscreen_native");const ro=e=>{const t=ee.fromDom(e.getElement());return pt(t).map(ht).getOrThunk(()=>Nt(ct(t)))};const ao=e=>{if(e.fullscreenElement!==undefined){return e.fullscreenElement}else if(e.msFullscreenElement!==undefined){return e.msFullscreenElement}else if(e.webkitFullscreenElement!==undefined){return e.webkitFullscreenElement}else{return null}};const co=()=>{if(document.fullscreenElement!==undefined){return"fullscreenchange"}else if(document.msFullscreenElement!==undefined){return"MSFullscreenChange"}else if(document.webkitFullscreenElement!==undefined){return"webkitfullscreenchange"}else{return"fullscreenchange"}};const io=e=>{const t=e.dom;if(t.requestFullscreen){t.requestFullscreen()}else if(t.msRequestFullscreen){t.msRequestFullscreen()}else if(t.webkitRequestFullScreen){t.webkitRequestFullScreen()}};const lo=e=>{const t=e.dom;if(t.exitFullscreen){t.exitFullscreen()}else if(t.msExitFullscreen){t.msExitFullscreen()}else if(t.webkitCancelFullScreen){t.webkitCancelFullScreen()}};const uo=e=>e.dom===ao(ct(e).dom);const fo="data-ephox-mobile-fullscreen-style";const mo="display:none!important;";const go="position:absolute!important;";const po="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;";const ho="background-color:rgb(255,255,255)!important;";const yo=eo.os.isAndroid();const bo=e=>{const t=Ht(e,"background-color");return t!==undefined&&t!==""?"background-color:"+t+"!important":ho};const vo=(e,t,o)=>{const n=e=>Gt(e,"*:not(.tox-silver-sink)");const s=t=>o=>{const n=Ot(o,"style");const s=n===undefined?"no-styles":n.trim();if(s===t){return}else{Et(o,fo,s);Lt(o,e.parseStyle(t))}};const r=Wt(t,"*");const a=A(r,n);const c=bo(o);S(a,s(mo));S(r,s(go+po+c));const i=yo===true?"":go;s(i+po+c)(t)};const ko=e=>{const t=$t("["+fo+"]");S(t,t=>{const o=Ot(t,fo);if(o&&o!=="no-styles"){Lt(t,e.parseStyle(o))}else{At(t,"style")}At(t,fo)})};const wo=Qt.DOM;const _o=()=>Xt(window);const xo=e=>window.scrollTo(e.x,e.y);const Co=Kt().fold(()=>({bind:p,unbind:p}),e=>{const t=Z();const o=j();const n=j();const s=()=>{document.body.scrollTop=0;document.documentElement.scrollTop=0};const r=()=>{window.requestAnimationFrame(()=>{t.on(t=>Lt(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"}))})};const a=q(()=>{s();r()},50);const c=e=>{t.set(e);a.throttle();o.set(Jt("resize",a.throttle));n.set(Jt("scroll",a.throttle))};const i=()=>{t.on(()=>{o.clear();n.clear()});t.clear()};return{bind:c,unbind:i}});const So=(e,t)=>{const o=document.body;const n=document.documentElement;const s=e.getContainer();const r=ee.fromDom(s);const a=ut(r).filter(e=>nt(e)&&Zt(e,"tox-silver-sink"));const c=ro(e);const i=t.get();const l=ee.fromDom(e.getBody());const d=eo.deviceType.isTouch();const u=s.style;const f=e.iframeElement;const m=f===null||f===void 0?void 0:f.style;const g=e=>{e(o,"tox-fullscreen");e(n,"tox-fullscreen");e(s,"tox-fullscreen");pt(r).map(e=>ht(e).dom).each(t=>{e(t,"tox-fullscreen");e(t,"tox-shadowhost")})};const p=()=>{if(d){ko(e.dom)}g(wo.removeClass);Co.unbind();_.from(t.get()).each(e=>e.fullscreenChangeHandler.unbind())};if(!i){const o=zt(ct(c),co(),o=>{if(so(e)){if(!uo(c)&&t.get()!==null){So(e,t)}}});const n={scrollPos:_o(),containerWidth:u.width,containerHeight:u.height,containerTop:u.top,containerLeft:u.left,iframeWidth:m.width,iframeHeight:m.height,fullscreenChangeHandler:o,sinkCssPosition:a.map(e=>Ht(e,"position"))};if(d){vo(e.dom,r,l)}m.width=m.height="100%";u.width=u.height="";g(wo.addClass);a.each(e=>{Bt(e,"position","fixed")});Co.bind(r);e.on("remove",p);t.set(n);if(so(e)){io(c)}to(e,true)}else{i.fullscreenChangeHandler.unbind();if(so(e)&&uo(c)){lo(ct(c))}m.width=i.iframeWidth;m.height=i.iframeHeight;u.width=i.containerWidth;u.height=i.containerHeight;u.top=i.containerTop;u.left=i.containerLeft;I(a,i.sinkCssPosition,(e,t)=>{Bt(e,"position",t)});p();xo(i.scrollPos);t.set(null);to(e,false);e.off("remove",p)}};const zo=(e,t)=>{e.addCommand("mceFullScreen",()=>{So(e,t)})};var To=tinymce.util.Tools.resolve("tinymce.util.VK");const Eo=(e,t)=>{e.on("init",()=>{e.on("keydown",e=>{if(e.keyCode===To.TAB&&!(e.metaKey||e.ctrlKey)&&t.get()){e.preventDefault()}})})};const Oo=(e,t)=>o=>{o.setActive(t.get()!==null);const n=e=>o.setActive(e.state);e.on("FullscreenStateChanged",n);return()=>e.off("FullscreenStateChanged",n)};const Ao=(e,t)=>{const o=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:o,onSetup:Oo(e,t),context:"any"});e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:o,onSetup:Oo(e,t),shortcut:"Meta+Shift+F",context:"any"})};var Do=()=>{W.add("fullscreen",e=>{const t=L(null);if(e.inline){return G(t)}no(e);zo(e,t);Ao(e,t);Eo(e,t);e.addShortcut("Meta+Shift+F","","mceFullScreen");return G(t)})};Do()})()},(e,t,o)=>{o(20)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=Object.getPrototypeOf;const o=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const n=e=>{const t=typeof e;if(e===null){return"null"}else if(t==="object"&&Array.isArray(e)){return"array"}else if(t==="object"&&o(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return t}};const s=e=>t=>n(t)===e;const r=e=>t=>typeof t===e;const a=e=>t=>e===t;const c=(e,n)=>l(e)&&o(e,n,(e,o)=>t(e)===o);const i=s("string");const l=s("object");const d=e=>c(e,Object);const u=s("array");const f=a(null);const m=r("boolean");const g=e=>e===null||e===undefined;const p=e=>!g(e);const h=r("function");const y=r("number");const b=(e,t)=>{if(u(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const v=()=>{};class k{constructor(e,t){this.tag=e;this.value=t}static some(e){return new k(true,e)}static none(){return k.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return k.some(e(this.value))}else{return k.none()}}bind(e){if(this.tag){return e(this.value)}else{return k.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return k.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return p(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(false);const w=Array.prototype.slice;const _=Array.prototype.push;const x=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!u(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}_.apply(t,e[o])}return t};const C=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none();const S=e=>C(e,0);h(Array.from)?Array.from:e=>w.call(e);const z=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return k.none()};const T=Object.keys;const E=Object.hasOwnProperty;const O=(e,t)=>{const o=T(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const A=e=>(t,o)=>{e[o]=t};const D=(e,t,o,n)=>{O(e,(e,s)=>{(t(e,s)?o:n)(e,s)})};const M=(e,t)=>{const o={};D(e,t,A(o),v);return o};const N=(e,t)=>E.call(e,t);const R=(e,t)=>N(e,t)&&e[t]!==undefined&&e[t]!==null;const B=(e,t)=>{const o=d(e)&&d(t);return o?H(e,t):t};const L=e=>(...t)=>{if(t.length===0){throw new Error(`Can't merge zero objects`)}const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const t in s){if(N(s,t)){o[t]=e(o[t],s[t])}}}return o};const H=L(B);const I=e=>e.length>0;const P=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return j(n.childNodes[0])};const F=(e,t)=>{const o=t||document;const n=o.createElement(e);return j(n)};const V=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return j(n)};const j=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const Z=(e,t,o)=>k.from(e.dom.elementFromPoint(t,o)).map(j);const U={fromHtml:P,fromTag:F,fromText:V,fromDom:j,fromPoint:Z};const q=(e,t,o)=>{if(i(o)||m(o)||y(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const $=(e,t,o)=>{q(e.dom,t,o)};const W=(e,t)=>{e.dom.removeAttribute(t)};var G=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var K=tinymce.util.Tools.resolve("tinymce.util.URI");const Y=e=>t=>t.options.get(e);const X=e=>{const t=e.options.register;t("image_dimensions",{processor:"boolean",default:true});t("image_advtab",{processor:"boolean",default:false});t("image_uploadtab",{processor:"boolean",default:true});t("image_prepend_url",{processor:"string",default:""});t("image_class_list",{processor:"object[]"});t("image_description",{processor:"boolean",default:true});t("image_title",{processor:"boolean",default:false});t("image_caption",{processor:"boolean",default:false});t("image_list",{processor:e=>{const t=e===false||i(e)||b(e,l)||h(e);return t?{value:e,valid:t}:{valid:false,message:"Must be false, a string, an array or a function."}},default:false})};const J=Y("image_dimensions");const Q=Y("image_advtab");const ee=Y("image_uploadtab");const te=Y("image_prepend_url");const oe=Y("image_class_list");const ne=Y("image_description");const se=Y("image_title");const re=Y("image_caption");const ae=Y("image_list");const ce=Y("a11y_advanced_options");const ie=Y("automatic_uploads");const le=e=>I(e.options.get("images_upload_url"));const de=e=>p(e.options.get("images_upload_handler"));const ue=(e,t)=>Math.max(parseInt(e,10),parseInt(t,10));const fe=e=>new Promise(t=>{const o=document.createElement("img");const n=e=>{if(o.parentNode){o.parentNode.removeChild(o)}t(e)};o.addEventListener("load",()=>{const e=ue(o.width,o.clientWidth);const t=ue(o.height,o.clientHeight);const s={width:e,height:t};n(Promise.resolve(s))});o.addEventListener("error",()=>{n(Promise.reject(`Failed to get image dimensions for: ${e}`))});const s=o.style;s.visibility="hidden";s.position="fixed";s.bottom=s.left="0px";s.width=s.height="auto";document.body.appendChild(o);o.src=e});const me=e=>{if(e){e=e.replace(/px$/,"")}return e};const ge=e=>{if(e.length>0&&/^[0-9]+$/.test(e)){e+="px"}return e};const pe=e=>{if(e.margin){const t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[0];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[0];e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0];e["margin-right"]=e["margin-right"]||t[1];e["margin-bottom"]=e["margin-bottom"]||t[2];e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e};const he=(e,t)=>{const o=ae(e);if(i(o)){fetch(o).then(e=>{if(e.ok){e.json().then(t)}})}else if(h(o)){o(t)}else{t(o)}};const ye=(e,t,o)=>{const n=()=>{o.onload=o.onerror=null;if(e.selection){e.selection.select(o);e.nodeChanged()}};o.onload=()=>{if(!t.width&&!t.height&&J(e)){e.dom.setAttribs(o,{width:String(o.clientWidth),height:String(o.clientHeight)})}n()};o.onerror=n};const be=e=>new Promise((t,o)=>{const n=new FileReader;n.onload=()=>{t(n.result)};n.onerror=()=>{var e;o((e=n.error)===null||e===void 0?void 0:e.message)};n.readAsDataURL(e)});const ve=e=>e.nodeName==="IMG"&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"));const ke=(e,t)=>{const o=e.options.get;return K.isDomSafe(t,"img",{allow_html_data_urls:o("allow_html_data_urls"),allow_script_urls:o("allow_script_urls"),allow_svg_data_urls:o("allow_svg_data_urls")})};const we=G.DOM;const _e=e=>{if(e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight){return me(e.style.marginLeft)}else{return""}};const xe=e=>{if(e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom){return me(e.style.marginTop)}else{return""}};const Ce=e=>{if(e.style.borderWidth){return me(e.style.borderWidth)}else{return""}};const Se=(e,t)=>{var o;if(e.hasAttribute(t)){return(o=e.getAttribute(t))!==null&&o!==void 0?o:""}else{return""}};const ze=e=>e.parentNode!==null&&e.parentNode.nodeName==="FIGURE";const Te=(e,t,o)=>{if(o===""||o===null){e.removeAttribute(t)}else{e.setAttribute(t,o)}};const Ee=e=>{const t=we.create("figure",{class:"image"});we.insertAfter(t,e);t.appendChild(e);t.appendChild(we.create("figcaption",{contentEditable:"true"},"Caption"));t.contentEditable="false"};const Oe=e=>{const t=e.parentNode;if(p(t)){we.insertAfter(e,t);we.remove(t)}};const Ae=e=>{if(ze(e)){Oe(e)}else{Ee(e)}};const De=(e,t)=>{const o=e.getAttribute("style");const n=t(o!==null?o:"");if(n.length>0){e.setAttribute("style",n);e.setAttribute("data-mce-style",n)}else{e.removeAttribute("style")}};const Me=(e,t)=>(e,o,n)=>{const s=e.style;if(s[o]){s[o]=ge(n);De(e,t)}else{Te(e,o,n)}};const Ne=(e,t)=>{if(e.style[t]){return me(e.style[t])}else{return Se(e,t)}};const Re=(e,t)=>{const o=ge(t);e.style.marginLeft=o;e.style.marginRight=o};const Be=(e,t)=>{const o=ge(t);e.style.marginTop=o;e.style.marginBottom=o};const Le=(e,t)=>{const o=ge(t);e.style.borderWidth=o};const He=(e,t)=>{e.style.borderStyle=t};const Ie=e=>{var t;return(t=e.style.borderStyle)!==null&&t!==void 0?t:""};const Pe=e=>p(e)&&e.nodeName==="FIGURE";const Fe=e=>e.nodeName==="IMG";const Ve=e=>we.getAttrib(e,"alt").length===0&&we.getAttrib(e,"role")==="presentation";const je=e=>{if(Ve(e)){return""}else{return Se(e,"alt")}};const Ze=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:false,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:false});const Ue=(e,t)=>{var o;const n=document.createElement("img");Te(n,"style",t.style);if(_e(n)||t.hspace!==""){Re(n,t.hspace)}if(xe(n)||t.vspace!==""){Be(n,t.vspace)}if(Ce(n)||t.border!==""){Le(n,t.border)}if(Ie(n)||t.borderStyle!==""){He(n,t.borderStyle)}return e((o=n.getAttribute("style"))!==null&&o!==void 0?o:"")};const qe=(e,t)=>{const o=document.createElement("img");Xe(e,{...t,caption:false},o);Ge(o,t.alt,t.isDecorative);if(t.caption){const e=we.create("figure",{class:"image"});e.appendChild(o);e.appendChild(we.create("figcaption",{contentEditable:"true"},"Caption"));e.contentEditable="false";return e}else{return o}};const $e=(e,t)=>({src:Se(t,"src"),alt:je(t),title:Se(t,"title"),width:Ne(t,"width"),height:Ne(t,"height"),class:Se(t,"class"),style:e(Se(t,"style")),caption:ze(t),hspace:_e(t),vspace:xe(t),border:Ce(t),borderStyle:Ie(t),isDecorative:Ve(t)});const We=(e,t,o,n,s)=>{if(o[n]!==t[n]){s(e,n,String(o[n]))}};const Ge=(e,t,o)=>{if(o){we.setAttrib(e,"role","presentation");const t=U.fromDom(e);$(t,"alt","")}else{if(f(t)){const t=U.fromDom(e);W(t,"alt")}else{const o=U.fromDom(e);$(o,"alt",t)}if(we.getAttrib(e,"role")==="presentation"){we.setAttrib(e,"role","")}}};const Ke=(e,t,o)=>{if(o.alt!==t.alt||o.isDecorative!==t.isDecorative){Ge(e,o.alt,o.isDecorative)}};const Ye=(e,t)=>(o,n,s)=>{e(o,s);De(o,t)};const Xe=(e,t,o)=>{const n=$e(e,o);We(o,n,t,"caption",(e,t,o)=>Ae(e));We(o,n,t,"src",Te);We(o,n,t,"title",Te);We(o,n,t,"width",Me("width",e));We(o,n,t,"height",Me("height",e));We(o,n,t,"class",Te);We(o,n,t,"style",Ye((e,t)=>Te(e,"style",t),e));We(o,n,t,"hspace",Ye(Re,e));We(o,n,t,"vspace",Ye(Be,e));We(o,n,t,"border",Ye(Le,e));We(o,n,t,"borderStyle",Ye(He,e));Ke(o,n,t)};const Je=(e,t)=>{const o=e.dom.styles.parse(t);const n=pe(o);const s=e.dom.styles.parse(e.dom.styles.serialize(n));return e.dom.styles.serialize(s)};const Qe=e=>{const t=e.selection.getNode();const o=e.dom.getParent(t,"figure.image");if(o){return e.dom.select("img",o)[0]}if(t&&(t.nodeName!=="IMG"||ve(t))){return null}return t};const et=(e,t)=>{var o;const n=e.dom;const s=M(e.schema.getTextBlockElements(),(t,o)=>!e.schema.isValidChild(o,"figure"));const r=n.getParent(t.parentNode,e=>R(s,e.nodeName),e.getBody());if(r){return(o=n.split(r,t))!==null&&o!==void 0?o:t}else{return t}};const tt=e=>{const t=Qe(e);return t?$e(t=>Je(e,t),t):Ze()};const ot=(e,t)=>{const o=qe(t=>Je(e,t),t);e.dom.setAttrib(o,"data-mce-id","__mcenew");e.focus();e.selection.setContent(o.outerHTML);const n=e.dom.select('*[data-mce-id="__mcenew"]')[0];e.dom.setAttrib(n,"data-mce-id",null);if(Pe(n)){const t=et(e,n);e.selection.select(t)}else{e.selection.select(n)}};const nt=(e,t)=>{e.dom.setAttrib(t,"src",t.getAttribute("src"))};const st=(e,t)=>{if(t){const o=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(o);e.focus();e.nodeChanged();if(e.dom.isEmpty(e.getBody())){e.setContent("");e.selection.setCursorLocation()}}};const rt=(e,t)=>{const o=Qe(e);if(o){Xe(t=>Je(e,t),t,o);nt(e,o);if(Pe(o.parentNode)){e.dom.setStyle(o,"float","");const t=o.parentNode;et(e,t);e.selection.select(o.parentNode)}else{e.selection.select(o);ye(e,t,o)}}};const at=(e,t)=>{const o=t.src;return{...t,src:ke(e,o)?o:""}};const ct=(e,t)=>{const o=Qe(e);if(o){const n=$e(t=>Je(e,t),o);const s={...n,...t};const r=at(e,s);if(s.src){rt(e,r)}else{st(e,o)}}else if(t.src){ot(e,{...Ze(),...t})}};var it=tinymce.util.Tools.resolve("tinymce.util.ImageUploader");var lt=tinymce.util.Tools.resolve("tinymce.util.Tools");const dt=e=>i(e.value)?e.value:"";const ut=e=>{if(i(e.text)){return e.text}else if(i(e.title)){return e.title}else{return""}};const ft=(e,t)=>{const o=[];lt.each(e,e=>{const n=ut(e);if(e.menu!==undefined){const s=ft(e.menu,t);o.push({text:n,items:s})}else{const s=t(e);o.push({text:n,value:s})}});return o};const mt=(e=dt)=>t=>{if(t){return k.from(t).map(t=>ft(t,e))}else{return k.none()}};const gt=e=>mt(dt)(e);const pt=e=>N(e,"items");const ht=(e,t)=>z(e,e=>{if(pt(e)){return ht(e.items,t)}else if(e.value===t){return k.some(e)}else{return k.none()}});const yt=(e,t)=>e.bind(e=>ht(e,t));const bt={sanitizer:mt,sanitize:gt,findEntry:yt};const vt=e=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]});const kt={makeTab:vt};const wt=e=>{const t=bt.sanitizer(t=>e.convertURL(t.value||t.url||"","src"));const o=new Promise(o=>{he(e,e=>{o(t(e).map(e=>x([[{text:"None",value:""}],e])))})});const n=bt.sanitize(oe(e));const s=Q(e);const r=ee(e);const a=le(e);const c=de(e);const l=tt(e);const d=ne(e);const u=se(e);const f=J(e);const m=re(e);const g=ce(e);const p=ie(e);const h=k.some(te(e)).filter(e=>i(e)&&e.length>0);return o.then(e=>({image:l,imageList:e,classList:n,hasAdvTab:s,hasUploadTab:r,hasUploadUrl:a,hasUploadHandler:c,hasDescription:d,hasImageTitle:u,hasDimensions:f,hasImageCaption:m,prependURL:h,hasAccessibilityOptions:g,automaticUploads:p}))};const _t=e=>{const t={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"};const o=e.imageList.map(e=>({name:"images",type:"listbox",label:"Image list",items:e}));const n={name:"alt",type:"input",label:"Alternative description",enabled:!(e.hasAccessibilityOptions&&e.image.isDecorative)};const s={name:"title",type:"input",label:"Image title"};const r={name:"dimensions",type:"sizeinput"};const a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]};const c=e.classList.map(e=>({name:"classes",type:"listbox",label:"Class",items:e}));const i={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};const l=e=>e?{type:"grid",columns:2}:{type:"panel"};return x([[t],o.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[n]:[],e.hasImageTitle?[s]:[],e.hasDimensions?[r]:[],[{...l(e.classList.isSome()&&e.hasImageCaption),items:x([c.toArray(),e.hasImageCaption?[i]:[]])}]])};const xt=e=>({title:"General",name:"general",items:_t(e)});const Ct={makeTab:xt,makeItems:_t};const St=e=>{const t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}};const zt={makeTab:St};const Tt=e=>({prevImage:bt.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:true});const Et=e=>({src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative});const Ot=(e,t)=>({src:e.src.value,alt:(e.alt===null||e.alt.length===0)&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative});const At=(e,t)=>{if(!/^(?:[a-zA-Z]+:)?\/\//.test(t)){return e.prependURL.bind(e=>{if(t.substring(0,e.length)!==e){return k.some(e+t)}return k.none()})}return k.none()};const Dt=(e,t)=>{const o=t.getData();At(e,o.src.value).each(e=>{t.setData({src:{value:e,meta:o.src.meta}})})};const Mt=(e,t,o)=>{if(e.hasDescription&&i(o.alt)){t.alt=o.alt}if(e.hasAccessibilityOptions){t.isDecorative=o.isDecorative||t.isDecorative||false}if(e.hasImageTitle&&i(o.title)){t.title=o.title}if(e.hasDimensions){if(i(o.width)){t.dimensions.width=o.width}if(i(o.height)){t.dimensions.height=o.height}}if(i(o.class)){bt.findEntry(e.classList,o.class).each(e=>{t.classes=e.value})}if(e.hasImageCaption){if(m(o.caption)){t.caption=o.caption}}if(e.hasAdvTab){if(i(o.style)){t.style=o.style}if(i(o.vspace)){t.vspace=o.vspace}if(i(o.border)){t.border=o.border}if(i(o.hspace)){t.hspace=o.hspace}if(i(o.borderstyle)){t.borderstyle=o.borderstyle}}};const Nt=(e,t)=>{const o=t.getData();const n=o.src.meta;if(n!==undefined){const s=H({},o);Mt(e,s,n);t.setData(s)}};const Rt=(e,t,o,n)=>{const s=n.getData();const r=s.src.value;const a=s.src.meta||{};if(!a.width&&!a.height&&t.hasDimensions){if(I(r)){e.imageSize(r).then(e=>{if(o.open){n.setData({dimensions:e})}}).catch(e=>console.error(e))}else{n.setData({dimensions:{width:"",height:""}})}}};const Bt=(e,t,o)=>{const n=o.getData();const s=bt.findEntry(e.imageList,n.src.value);t.prevImage=s;o.setData({images:s.map(e=>e.value).getOr("")})};const Lt=(e,t,o,n)=>{Dt(t,n);Nt(t,n);Rt(e,t,o,n);Bt(t,o,n)};const Ht=(e,t,o,n)=>{const s=n.getData();const r=bt.findEntry(t.imageList,s.images);r.each(e=>{const t=s.alt===""||o.prevImage.map(e=>e.text===s.alt).getOr(false);if(t){if(e.value===""){n.setData({src:e,alt:o.prevAlt})}else{n.setData({src:e,alt:e.text})}}else{n.setData({src:e})}});o.prevImage=r;Lt(e,t,o,n)};const It=(e,t,o,n)=>{const s=n.getData();n.block("Uploading image");S(s.fileinput).fold(()=>{n.unblock()},s=>{const r=URL.createObjectURL(s);const a=()=>{n.unblock();URL.revokeObjectURL(r)};const c=s=>{n.setData({src:{value:s,meta:{}}});n.showTab("general");Lt(e,t,o,n);n.focus("src")};be(s).then(o=>{const i=e.createBlobCache(s,r,o);if(t.automaticUploads){e.uploadImage(i).then(e=>{c(e.url);a()}).catch(t=>{a();e.alertErr(t,()=>{n.focus("fileinput")})})}else{e.addToBlobCache(i);c(i.blobUri());n.unblock()}})})};const Pt=(e,t,o)=>(n,s)=>{if(s.name==="src"){Lt(e,t,o,n)}else if(s.name==="images"){Ht(e,t,o,n)}else if(s.name==="alt"){o.prevAlt=n.getData().alt}else if(s.name==="fileinput"){It(e,t,o,n)}else if(s.name==="isDecorative"){n.setEnabled("alt",!n.getData().isDecorative)}};const Ft=e=>()=>{e.open=false};const Vt=e=>{if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){const t={type:"tabpanel",tabs:x([[Ct.makeTab(e)],e.hasAdvTab?[kt.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[zt.makeTab(e)]:[]])};return t}else{const t={type:"panel",items:Ct.makeItems(e)};return t}};const jt=(e,t,o)=>n=>{const s=H(Et(t.image),n.getData());const r={...s,style:Ue(o.normalizeCss,Ot(s,false))};e.execCommand("mceUpdateImage",false,Ot(r,t.hasAccessibilityOptions));e.editorUpload.uploadImagesAuto();n.close()};const Zt=e=>t=>{if(!ke(e,t)){return Promise.resolve({width:"",height:""})}else{return fe(e.documentBaseURI.toAbsolute(t)).then(e=>({width:String(e.width),height:String(e.height)}))}};const Ut=e=>(t,o,n)=>{var s;return e.editorUpload.blobCache.create({blob:t,blobUri:o,name:(s=t.name)===null||s===void 0?void 0:s.replace(/\.[^\.]+$/,""),filename:t.name,base64:n.split(",")[1]})};const qt=e=>t=>{e.editorUpload.blobCache.add(t)};const $t=e=>(t,o)=>{e.windowManager.alert(t,o)};const Wt=e=>t=>Je(e,t);const Gt=e=>t=>e.dom.parseStyle(t);const Kt=e=>(t,o)=>e.dom.serializeStyle(t,o);const Yt=e=>t=>it(e).upload([t],false).then(e=>{var t;if(e.length===0){return Promise.reject("Failed to upload image")}else if(e[0].status===false){return Promise.reject((t=e[0].error)===null||t===void 0?void 0:t.message)}else{return e[0]}});const Xt=e=>{const t={imageSize:Zt(e),addToBlobCache:qt(e),createBlobCache:Ut(e),alertErr:$t(e),normalizeCss:Wt(e),parseStyle:Gt(e),serializeStyle:Kt(e),uploadImage:Yt(e)};const o=()=>{wt(e).then(o=>{const n=Tt(o);return{title:"Insert/Edit Image",size:"normal",body:Vt(o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:Et(o.image),onSubmit:jt(e,o,t),onChange:Pt(t,o,n),onClose:Ft(n)}}).then(e.windowManager.open)};return{open:o}};const Jt=e=>{e.addCommand("mceImage",Xt(e).open);e.addCommand("mceUpdateImage",(t,o)=>{e.undoManager.transact(()=>ct(e,o))})};const Qt=e=>{const t=e.attr("class");return p(t)&&/\bimage\b/.test(t)};const eo=e=>t=>{let o=t.length;const n=t=>{t.attr("contenteditable",e?"true":null)};while(o--){const s=t[o];if(Qt(s)){s.attr("contenteditable",e?"false":null);lt.each(s.getAll("figcaption"),n)}}};const to=e=>{e.on("PreInit",()=>{e.parser.addNodeFilter("figure",eo(true));e.serializer.addNodeFilter("figure",eo(false))})};const oo=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const no=e=>{e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Xt(e).open,onSetup:t=>{t.setActive(p(Qe(e)));const o=e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",t.setActive).unbind;const n=oo(e)(t);return()=>{o();n()}}});e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Xt(e).open,onSetup:oo(e)});e.ui.registry.addContextMenu("image",{update:t=>e.selection.isEditable()&&(Pe(t)||Fe(t)&&!ve(t))?["image"]:[]})};var so=()=>{e.add("image",e=>{X(e);to(e);no(e);Jt(e)})};so()})()},(e,t,o)=>{o(22)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("object");const i=n("array");const l=r(null);const d=s("boolean");const u=e=>e===null||e===undefined;const f=e=>!u(e);const m=s("function");const g=(e,t)=>{if(i(e)){for(let o=0,n=e.length;o<n;++o){if(!t(e[o])){return false}}return true}return false};const p=()=>{};const h=e=>()=>e;const y=(e,t)=>e===t;class b{constructor(e,t){this.tag=e;this.value=t}static some(e){return new b(true,e)}static none(){return b.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return b.some(e(this.value))}else{return b.none()}}bind(e){if(this.tag){return e(this.value)}else{return b.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return b.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return f(e)?b.some(e):b.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}b.singletonNone=new b(false);const v=Array.prototype.slice;const k=Array.prototype.indexOf;const w=Array.prototype.push;const _=(e,t)=>k.call(e,t);const x=(e,t)=>_(e,t)>-1;const C=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const S=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const z=(e,t,o)=>{S(e,(e,n)=>{o=t(o,e,n)});return o};const T=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!i(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}w.apply(t,e[o])}return t};const E=(e,t)=>T(C(e,t));m(Array.from)?Array.from:e=>v.call(e);const O=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return b.none()};const A=Object.keys;const D=Object.hasOwnProperty;const M=(e,t)=>{const o=A(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const N=e=>(t,o)=>{e[o]=t};const R=(e,t,o,n)=>{M(e,(e,s)=>{(t(e,s)?o:n)(e,s)})};const B=(e,t)=>{const o={};R(e,t,N(o),p);return o};const L=(e,t)=>D.call(e,t);const H=(e,t)=>L(e,t)&&e[t]!==undefined&&e[t]!==null;const I=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const P=(e,t,o=y)=>e.exists(e=>o(e,t));const F=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const V=(e,t)=>e?b.some(t):b.none();const j=e=>{const t=I(b.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(b.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(b.some(e))};return{clear:n,isSet:s,get:r,set:a}};const Z=()=>{const e=j(p);const t=t=>e.get().each(t);return{...e,on:t}};const U=(e,t)=>e.substring(t);const q=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const $=(e,t)=>W(e,t)?U(e,t.length):e;const W=(e,t)=>q(e,t,0);const G=e=>t=>t.options.get(e);const K=e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=a(e)||d(e);if(t){if(e===true){return{value:1,valid:t}}else if(e==="http"||e==="https"){return{value:e,valid:t}}else{return{value:0,valid:t}}}else{return{valid:false,message:"Must be a string or a boolean."}}},default:false});t("link_context_toolbar",{processor:"boolean",default:false});t("link_list",{processor:e=>a(e)||m(e)||g(e,c)});t("link_default_target",{processor:"string"});t("link_default_protocol",{processor:"string",default:"https"});t("link_target_list",{processor:e=>d(e)||g(e,c),default:true});t("link_rel_list",{processor:"object[]",default:[]});t("link_class_list",{processor:"object[]",default:[]});t("link_title",{processor:"boolean",default:true});t("allow_unsafe_link_target",{processor:"boolean",default:false});t("link_quicklink",{processor:"boolean",default:false});t("link_attributes_postprocess",{processor:"function"})};const Y=G("link_assume_external_targets");const X=G("link_context_toolbar");const J=G("link_list");const Q=G("link_default_target");const ee=G("link_default_protocol");const te=G("link_target_list");const oe=G("link_rel_list");const ne=G("link_class_list");const se=G("link_title");const re=G("allow_unsafe_link_target");const ae=G("link_quicklink");const ce=G("link_attributes_postprocess");var ie=tinymce.util.Tools.resolve("tinymce.util.URI");var le=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var de=tinymce.util.Tools.resolve("tinymce.util.Tools");const ue=e=>f(e)&&e.nodeName.toLowerCase()==="a";const fe=e=>ue(e)&&!!pe(e);const me=(e,t)=>{if(e.collapsed){return[]}else{const o=e.cloneContents();const n=o.firstChild;const s=new le(n,o);const r=[];let a=n;do{if(t(a)){r.push(a)}}while(a=s.next());return r}};const ge=e=>/^\w+:/i.test(e);const pe=e=>{var t,o;return(o=(t=e.getAttribute("data-mce-href"))!==null&&t!==void 0?t:e.getAttribute("href"))!==null&&o!==void 0?o:""};const he=(e,t)=>{const o=["noopener"];const n=e?e.split(/\s+/):[];const s=e=>de.trim(e.sort().join(" "));const r=e=>{e=a(e);return e.length>0?e.concat(o):o};const a=e=>e.filter(e=>de.inArray(o,e)===-1);const c=t?r(n):a(n);return c.length>0?s(c):""};const ye=e=>e.replace(/\uFEFF/g,"");const be=(e,t)=>{t=t||we(e.selection.getRng())[0]||e.selection.getNode();if(ze(t)){return b.from(e.dom.select("a[href]",t)[0])}else{return b.from(e.dom.getParent(t,"a[href]"))}};const ve=(e,t)=>be(e,t).isSome();const ke=(e,t)=>{const o=t.fold(()=>e.getContent({format:"text"}),e=>e.innerText||e.textContent||"");return ye(o)};const we=e=>me(e,fe);const _e=e=>de.grep(e,fe);const xe=e=>_e(e).length>0;const Ce=e=>we(e).length>0;const Se=e=>{const t=e.schema.getTextInlineElements();const o=e=>e.nodeType===1&&!ue(e)&&!L(t,e.nodeName.toLowerCase());const n=be(e).exists(e=>e.hasAttribute("data-mce-block"));if(n){return false}const s=e.selection.getRng();if(!s.collapsed){const e=me(s,o);return e.length===0}else{return true}};const ze=e=>f(e)&&e.nodeName==="FIGURE"&&/\bimage\b/i.test(e.className);const Te=e=>{const t=["title","rel","class","target"];return z(t,(t,o)=>{e[o].each(e=>{t[o]=e.length>0?e:null});return t},{href:e.href})};const Ee=(e,t)=>{if((t==="http"||t==="https")&&!ge(e)){return t+"://"+e}return e};const Oe=(e,t)=>{const o={...t};if(oe(e).length===0&&!re(e)){const e=he(o.rel,o.target==="_blank");o.rel=e?e:null}if(b.from(o.target).isNone()&&te(e)===false){o.target=Q(e)}o.href=Ee(o.href,Y(e));return o};const Ae=(e,t,o,n)=>{o.each(e=>{if(L(t,"innerText")){t.innerText=e}else{t.textContent=e}});e.dom.setAttribs(t,n);const s=e.dom.createRng();s.setStartAfter(t);s.setEndAfter(t);e.selection.setRng(s)};const De=(e,t,o,n)=>{const s=e.dom;if(ze(t)){Fe(s,t,n)}else{o.fold(()=>{e.execCommand("mceInsertLink",false,n);const t=e.selection.getEnd();const o=s.createRng();o.setStartAfter(t);o.setEndAfter(t);e.selection.setRng(o)},t=>{e.insertContent(s.createHTML("a",n,s.encode(t)))})}};const Me=(e,t,o)=>{const n=e.selection.getNode();const s=be(e,n);const r=Oe(e,Te(o));const a=ce(e);if(f(a)){a(r)}e.undoManager.transact(()=>{if(o.href===t.href){t.attach()}s.fold(()=>{De(e,n,o.text,r)},t=>{e.focus();Ae(e,t,o.text,r)})})};const Ne=e=>{const t=e.dom,o=e.selection;const n=o.getBookmark();const s=o.getRng().cloneRange();const r=t.getParent(s.startContainer,"a[href]",e.getBody());const a=t.getParent(s.endContainer,"a[href]",e.getBody());if(r){s.setStartBefore(r)}if(a){s.setEndAfter(a)}o.setRng(s);e.execCommand("unlink");o.moveToBookmark(n)};const Re=e=>{e.undoManager.transact(()=>{const t=e.selection.getNode();if(ze(t)){Pe(e,t)}else{Ne(e)}e.focus()})};const Be=e=>{const{class:t,href:o,rel:n,target:s,text:r,title:a}=e;return B({class:t.getOrNull(),href:o,rel:n.getOrNull(),target:s.getOrNull(),text:r.getOrNull(),title:a.getOrNull()},(e,t)=>l(e)===false)};const Le=(e,t)=>{const o=e.options.get;const n={allow_html_data_urls:o("allow_html_data_urls"),allow_script_urls:o("allow_script_urls"),allow_svg_data_urls:o("allow_svg_data_urls")};const s=t.href;return{...t,href:ie.isDomSafe(s,"a",n)?s:""}};const He=(e,t,o)=>{const n=Le(e,o);e.hasPlugin("rtc",true)?e.execCommand("createlink",false,Be(n)):Me(e,t,n)};const Ie=e=>{e.hasPlugin("rtc",true)?e.execCommand("unlink"):Re(e)};const Pe=(e,t)=>{var o;const n=e.dom.select("img",t)[0];if(n){const s=e.dom.getParents(n,"a[href]",t)[0];if(s){(o=s.parentNode)===null||o===void 0?void 0:o.insertBefore(n,s);e.dom.remove(s)}}};const Fe=(e,t,o)=>{var n;const s=e.select("img",t)[0];if(s){const t=e.create("a",o);(n=s.parentNode)===null||n===void 0?void 0:n.insertBefore(t,s);t.appendChild(s)}};const Ve=e=>a(e.value)?e.value:"";const je=e=>{if(a(e.text)){return e.text}else if(a(e.title)){return e.title}else{return""}};const Ze=(e,t)=>{const o=[];de.each(e,e=>{const n=je(e);if(e.menu!==undefined){const s=Ze(e.menu,t);o.push({text:n,items:s})}else{const s=t(e);o.push({text:n,value:s})}});return o};const Ue=(e=Ve)=>t=>b.from(t).map(t=>Ze(t,e));const qe=e=>Ue(Ve)(e);const $e=(e,t)=>o=>({name:e,type:"listbox",label:t,items:o});const We={sanitize:qe,sanitizeWith:Ue,createUi:$e,getValue:Ve};const Ge=e=>H(e,"items");const Ke=(e,t)=>O(t,t=>{if(Ge(t)){return Ke(e,t.items)}else{return V(t.value===e,t)}});const Ye=(e,t,o,n)=>{const s=n[t];const r=e.length>0;return s!==undefined?Ke(s,o).map(t=>({url:{value:t.value,meta:{text:r?e:t.text,attach:p}},text:r?e:t.text})):b.none()};const Xe=(e,t)=>{if(t==="link"){return e.link}else if(t==="anchor"){return e.anchor}else{return b.none()}};const Je=(e,t)=>{const o={text:e.text,title:e.title};const n=e=>{var t;return V(o.title.length<=0,b.from((t=e.meta)===null||t===void 0?void 0:t.title).getOr(""))};const s=e=>{var t;return V(o.text.length<=0,b.from((t=e.meta)===null||t===void 0?void 0:t.text).getOr(e.value))};const r=e=>{const t=s(e.url);const o=n(e.url);if(t.isSome()||o.isSome()){return b.some({...t.map(e=>({text:e})).getOr({}),...o.map(e=>({title:e})).getOr({})})}else{return b.none()}};const a=(e,n)=>{const s=Xe(t,n).getOr([]);return Ye(o.text,n,s,e)};const c=(e,t)=>{const n=t.name;if(n==="url"){return r(e())}else if(x(["anchor","link"],n)){return a(e(),n)}else if(n==="text"||n==="title"){o[n]=e()[n];return b.none()}else{return b.none()}};return{onChange:c}};const Qe={init:Je,getDelta:Ye};var et=tinymce.util.Tools.resolve("tinymce.util.Delay");const tt=(e,t,o)=>{const n=e.selection.getRng();et.setEditorTimeout(e,()=>{e.windowManager.confirm(t,t=>{e.selection.setRng(n);o(t)})})};const ot=e=>{const t=e.href;const o=t.indexOf("@")>0&&t.indexOf("/")===-1&&t.indexOf("mailto:")===-1;return o?b.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):b.none()};const nt=(e,t)=>o=>{const n=o.href;const s=e===1&&!ge(n)||e===0&&/^\s*www(\.|\d\.)/i.test(n);return s?b.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+n})}):b.none()};const st=(e,t)=>O([ot,nt(Y(e),ee(e))],e=>e(t)).fold(()=>Promise.resolve(t),o=>new Promise(n=>{tt(e,o.message,e=>{n(e?o.preprocess(t):t)})}));const rt={preprocess:st};const at=e=>{const t=e.dom.select("a:not([href])");const o=E(t,e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]});return o.length>0?b.some([{text:"None",value:""}].concat(o)):b.none()};const ct={getAnchors:at};const it=e=>{const t=ne(e);if(t.length>0){return We.sanitize(t)}return b.none()};const lt={getClasses:it};const dt=e=>{try{return b.some(JSON.parse(e))}catch(e){return b.none()}};const ut=e=>{const t=t=>e.convertURL(t.value||t.url||"","href");const o=J(e);return new Promise(e=>{if(a(o)){fetch(o).then(e=>e.ok?e.text().then(dt):Promise.reject()).then(e,()=>e(b.none()))}else if(m(o)){o(t=>e(b.some(t)))}else{e(b.from(o))}}).then(e=>e.bind(We.sanitizeWith(t)).map(e=>{if(e.length>0){const t=[{text:"None",value:""}];return t.concat(e)}else{return e}}))};const ft={getLinks:ut};const mt=(e,t)=>{const o=oe(e);if(o.length>0){const n=P(t,"_blank");const s=re(e)===false;const r=e=>he(We.getValue(e),n);const a=s?We.sanitizeWith(r):We.sanitize;return a(o)}return b.none()};const gt={getRels:mt};const pt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}];const ht=e=>{const t=te(e);if(i(t)){return We.sanitize(t).orThunk(()=>b.some(pt))}else if(t===false){return b.none()}return b.some(pt)};const yt={getTargets:ht};const bt=(e,t,o)=>{const n=e.getAttrib(t,o);return n!==null&&n.length>0?b.some(n):b.none()};const vt=(e,t)=>{const o=e.dom;const n=Se(e);const s=n?b.some(ke(e.selection,t)):b.none();const r=t.bind(e=>b.from(o.getAttrib(e,"href")));const a=t.bind(e=>b.from(o.getAttrib(e,"target")));const c=t.bind(e=>bt(o,e,"rel"));const i=t.bind(e=>bt(o,e,"class"));const l=t.bind(e=>bt(o,e,"title"));return{url:r,text:s,title:l,target:a,rel:c,linkClass:i}};const kt=(e,t)=>ft.getLinks(e).then(o=>{const n=vt(e,t);return{anchor:n,catalogs:{targets:yt.getTargets(e),rels:gt.getRels(e,n.target),classes:lt.getClasses(e),anchor:ct.getAnchors(e),link:o},optNode:t,flags:{titleEnabled:se(e)}}});const wt={collect:kt};const _t=(e,t)=>o=>{const n=o.getData();if(!n.url.value){Ie(e);o.close();return}const s=e=>b.from(n[e]).filter(o=>!P(t.anchor[e],o));const r={href:n.url.value,text:s("text"),target:s("target"),rel:s("rel"),class:s("linkClass"),title:s("title")};const a={href:n.url.value,attach:n.url.meta!==undefined&&n.url.meta.attach?n.url.meta.attach:p};rt.preprocess(e,r).then(t=>{He(e,a,t)});o.close()};const xt=e=>{const t=be(e);return wt.collect(e,t)};const Ct=(e,t)=>{const o=e.anchor;const n=o.url.getOr("");return{url:{value:n,meta:{original:{value:n}}},text:o.text.getOr(""),title:o.title.getOr(""),anchor:n,link:n,rel:o.rel.getOr(""),target:o.target.or(t).getOr(""),linkClass:o.linkClass.getOr("")}};const St=(e,t,o)=>{const n=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}];const s=e.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray();const r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[];const a=b.from(Q(o));const c=Ct(e,a);const i=e.catalogs;const l=Qe.init(c,i);const d={type:"panel",items:T([n,s,r,F([i.anchor.map(We.createUi("anchor","Anchors")),i.rels.map(We.createUi("rel","Rel")),i.targets.map(We.createUi("target","Open link in...")),i.link.map(We.createUi("link","Link list")),i.classes.map(We.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:c,onChange:(e,{name:t})=>{l.onChange(e.getData,{name:t}).each(t=>{e.setData(t)})},onSubmit:t}};const zt=e=>{const t=xt(e);t.then(t=>{const o=_t(e,t);return St(t,o,e)}).then(t=>{e.windowManager.open(t)})};const Tt=e=>{e.addCommand("mceLink",(t,o)=>{if((o===null||o===void 0?void 0:o.dialog)===true||!ae(e)){zt(e)}else{e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})}})};const Et=e=>{e.addShortcut("Meta+K","",()=>{e.execCommand("mceLink")})};var Ot=tinymce.util.Tools.resolve("tinymce.util.VK");const At=(e,t)=>{document.body.appendChild(e);e.dispatchEvent(t);document.body.removeChild(e)};const Dt=e=>{const t=document.createElement("a");t.target="_blank";t.href=e;t.rel="noreferrer noopener";const o=new MouseEvent("click",{bubbles:true,cancelable:true,view:window});document.dispatchEvent(o);At(t,o)};const Mt=e=>e.altKey===true&&e.shiftKey===false&&e.ctrlKey===false&&e.metaKey===false;const Nt=(e,t)=>{if(t){const o=pe(t);if(/^#/.test(o)){const t=e.dom.select(`${o},[name="${$(o,"#")}"]`);if(t.length){e.selection.scrollIntoView(t[0],true)}}else{Dt(t.href)}}};const Rt=e=>{const t=e.selection.getRng();const o=t.startContainer;return fe(o)&&t.startContainer===t.endContainer&&e.dom.select("img",o).length===1};const Bt=(e,t)=>{const o=_e(e.dom.getParents(t));return V(o.length===1,o[0])};const Lt=e=>{const t=we(e.selection.getRng());return V(t.length>0,t[0]).or(Bt(e,e.selection.getNode()))};const Ht=e=>e.selection.isCollapsed()||Rt(e)?Bt(e,e.selection.getStart()):Lt(e);const It=e=>{const t=Z();const o=()=>t.get().or(Ht(e));const n=()=>o().each(t=>Nt(e,t));e.on("contextmenu",o=>{Bt(e,o.target).each(t.set)});e.on("SelectionChange",()=>{if(!t.isSet()){Ht(e).each(t.set)}});e.on("click",o=>{t.clear();const n=_e(e.dom.getParents(o.target));if(n.length===1&&Ot.metaKeyPressed(o)){o.preventDefault();Nt(e,n[0])}});e.on("keydown",n=>{t.clear();if(!n.isDefaultPrevented()&&n.keyCode===13&&Mt(n)){o().each(t=>{n.preventDefault();Nt(e,t)})}});return{gotoSelectedLink:n}};const Pt=e=>()=>{e.execCommand("mceLink",false,{dialog:true})};const Ft=(e,t)=>{e.on("NodeChange",t);return()=>e.off("NodeChange",t)};const Vt=e=>t=>{const o=()=>{t.setActive(!e.mode.isReadOnly()&&ve(e,e.selection.getNode()));t.setEnabled(e.selection.isEditable())};o();return Ft(e,o)};const jt=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};o();return Ft(e,o)};const Zt=e=>t=>{const o=t=>xe(t)||Ce(e.selection.getRng());const n=e.dom.getParents(e.selection.getStart());const s=n=>{t.setEnabled(o(n)&&e.selection.isEditable())};s(n);return Ft(e,e=>s(e.parents))};const Ut=(e,t)=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Pt(e),onSetup:Vt(e)});e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:t.gotoSelectedLink,onSetup:Zt(e)});e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Ie(e),onSetup:Zt(e)})};const qt=(e,t)=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:t.gotoSelectedLink,onSetup:Zt(e)});e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Pt(e),onSetup:jt(e)});e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Ie(e),onSetup:Zt(e)})};const $t=e=>{const t="link unlink openlink";const o="link";e.ui.registry.addContextMenu("link",{update:n=>{const s=e.dom.isEditable(n);if(!s){return""}return xe(e.dom.getParents(n,"a"))?t:o}})};const Wt=(e,t)=>{const o=e=>{e.selection.collapse(false)};const n=t=>{const o=e.selection.getNode();t.setEnabled(ve(e,o)&&e.selection.isEditable());return p};const s=t=>{const o=be(e);const n=Se(e);if(o.isNone()&&n){const n=ke(e.selection,o);return V(n.length===0,t)}else{return b.none()}};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Vt(e)},label:"Link",predicate:t=>X(e)&&ve(e,t),initValue:()=>{const t=be(e);return t.fold(h(""),pe)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:t=>{const o=e.selection.getNode();t.setActive(ve(e,o));return Vt(e)(t)},onAction:t=>{const n=t.getValue();const r=s(n);const a={href:n,attach:p};He(e,a,{href:n,text:r,title:b.none(),rel:b.none(),target:b.from(Q(e)),class:b.none()});o(e);t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:t=>{Ie(e);t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:e=>{t.gotoSelectedLink();e.hide()}}]})};const Gt=e=>{const t=It(e);Ut(e,t);qt(e,t);$t(e);Wt(e,t)};var Kt=()=>{e.add("link",e=>{K(e);Tt(e);Gt(e);Et(e)})};Kt()})()},(e,t,o)=>{o(24)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=n("object");const c=n("array");const i=s("boolean");const l=e=>e===null||e===undefined;const d=e=>!l(e);const u=s("function");const f=s("number");const m=()=>{};const g=(e,t)=>o=>e(t(o));const p=e=>()=>e;const h=(e,t)=>e===t;function y(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const b=e=>t=>!e(t);const v=p(false);class k{constructor(e,t){this.tag=e;this.value=t}static some(e){return new k(true,e)}static none(){return k.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return k.some(e(this.value))}else{return k.none()}}bind(e){if(this.tag){return e(this.value)}else{return k.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return k.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return d(e)?k.some(e):k.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}k.singletonNone=new k(false);const w=Array.prototype.slice;const _=Array.prototype.indexOf;const x=Array.prototype.push;const C=(e,t)=>_.call(e,t);const S=(e,t)=>C(e,t)>-1;const z=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const T=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const E=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const O=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const A=(e,t)=>{if(e.length===0){return[]}else{let o=t(e[0]);const n=[];let s=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];const c=t(a);if(c!==o){n.push(s);s=[]}o=c;s.push(a)}if(s.length!==0){n.push(s)}return n}};const D=(e,t,o)=>{E(e,(e,n)=>{o=t(o,e,n)});return o};const M=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return k.some(s)}else if(o(s,n)){break}}return k.none()};const N=(e,t)=>M(e,t,v);const R=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}x.apply(t,e[o])}return t};const B=(e,t)=>R(T(e,t));const L=e=>{const t=w.call(e,0);t.reverse();return t};const H=(e,t)=>t>=0&&t<e.length?k.some(e[t]):k.none();const I=e=>H(e,0);const P=e=>H(e,e.length-1);const F=(e,t)=>{const o=[];const n=u(t)?e=>z(o,o=>t(o,e)):e=>S(o,e);for(let t=0,s=e.length;t<s;t++){const s=e[t];if(!n(s)){o.push(s)}}return o};const V=Object.keys;const j=(e,t)=>{const o=V(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const Z=e=>(t,o)=>{e[o]=t};const U=(e,t,o,n)=>{j(e,(e,s)=>{(t(e,s)?o:n)(e,s)})};const q=(e,t)=>{const o={};U(e,t,Z(o),m);return o};const $=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const W=typeof window!=="undefined"?window:Function("return this;")();const G=(e,t,o=h)=>e.exists(e=>o(e,t));const K=(e,t,o=h)=>Y(e,t,o).getOr(e.isNone()&&t.isNone());const Y=(e,t,o)=>e.isSome()&&t.isSome()?k.some(o(e.getOrDie(),t.getOrDie())):k.none();const X=(e,t)=>{let o=t!==undefined&&t!==null?t:W;for(let t=0;t<e.length&&o!==undefined&&o!==null;++t){o=o[e[t]]}return o};const J=(e,t)=>{const o=e.split(".");return X(o,t)};const Q=e=>t=>t.replace(e,"");const ee=Q(/^\s+|\s+$/g);const te=e=>e.length>0;const oe=e=>!te(e);const ne="\ufeff";const se=e=>e===ne;const re=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return ie(n.childNodes[0])};const ae=(e,t)=>{const o=t||document;const n=o.createElement(e);return ie(n)};const ce=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return ie(n)};const ie=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const le=(e,t,o)=>k.from(e.dom.elementFromPoint(t,o)).map(ie);const de={fromHtml:re,fromTag:ae,fromText:ce,fromDom:ie,fromPoint:le};const ue=8;const fe=11;const me=1;const ge=3;const pe=(e,t)=>{const o=e.dom;if(o.nodeType!==me){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const he=(e,t)=>e.dom===t.dom;const ye=(e,t)=>{const o=e.dom;const n=t.dom;return o===n?false:o.contains(n)};const be=pe;const ve=(e,t)=>J(e,t);const ke=(e,t)=>{const o=ve(e,t);if(o===undefined||o===null){throw new Error(e+" not available on this browser")}return o};const we=Object.getPrototypeOf;const _e=e=>ke("HTMLElement",e);const xe=e=>{const t=J("ownerDocument.defaultView",e);return a(e)&&(_e(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(we(e).constructor.name))};const Ce=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const Se=e=>e.dom.nodeType;const ze=e=>t=>Se(t)===e;const Te=e=>Se(e)===ue||Ce(e)==="#comment";const Ee=e=>Oe(e)&&xe(e.dom);const Oe=ze(me);const Ae=ze(ge);const De=ze(fe);const Me=e=>t=>Oe(t)&&Ce(t)===e;const Ne=e=>k.from(e.dom.parentNode).map(de.fromDom);const Re=e=>k.from(e.dom.parentElement).map(de.fromDom);const Be=e=>k.from(e.dom.nextSibling).map(de.fromDom);const Le=e=>T(e.dom.childNodes,de.fromDom);const He=(e,t)=>{const o=e.dom.childNodes;return k.from(o[t]).map(de.fromDom)};const Ie=e=>He(e,0);const Pe=e=>He(e,e.dom.childNodes.length-1);const Fe=e=>De(e)&&d(e.dom.host);const Ve=e=>de.fromDom(e.dom.getRootNode());const je=e=>{const t=Ve(e);return Fe(t)?k.some(t):k.none()};const Ze=e=>de.fromDom(e.dom.host);const Ue=(e,t)=>{const o=Ne(e);o.each(o=>{o.dom.insertBefore(t.dom,e.dom)})};const qe=(e,t)=>{const o=Be(e);o.fold(()=>{const o=Ne(e);o.each(e=>{We(e,t)})},e=>{Ue(e,t)})};const $e=(e,t)=>{const o=Ie(e);o.fold(()=>{We(e,t)},o=>{e.dom.insertBefore(t.dom,o.dom)})};const We=(e,t)=>{e.dom.appendChild(t.dom)};const Ge=(e,t)=>{E(t,t=>{Ue(e,t)})};const Ke=(e,t)=>{E(t,t=>{We(e,t)})};const Ye=(e,t,o)=>{if(r(o)||i(o)||f(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const Xe=(e,t)=>{const o=e.dom;j(t,(e,t)=>{Ye(o,t,e)})};const Je=e=>D(e.dom.attributes,(e,t)=>{e[t.name]=t.value;return e},{});const Qe=e=>{e.dom.textContent="";E(Le(e),e=>{et(e)})};const et=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const tt=(e,t)=>de.fromDom(e.dom.cloneNode(t));const ot=e=>tt(e,true);const nt=(e,t)=>{const o=de.fromTag(t);const n=Je(e);Xe(o,n);return o};const st=(e,t)=>{const o=nt(e,t);qe(e,o);const n=Le(e);Ke(o,n);et(e);return o};const rt=e=>T(e,de.fromDom);const at=e=>e.style!==undefined&&u(e.style.getPropertyValue);const ct=e=>{const t=Ae(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return je(de.fromDom(t)).fold(()=>o.body.contains(t),g(ct,Ze))};const it=(e,t,o)=>{if(!r(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(at(e)){e.style.setProperty(t,o)}};const lt=(e,t,o)=>{const n=e.dom;it(n,t,o)};const dt=(e,t)=>{const o=t||document;const n=o.createDocumentFragment();E(e,e=>{n.appendChild(e.dom)});return de.fromDom(n)};var ut=(e,t,o,n,s)=>{if(e(o,n)){return k.some(o)}else if(u(s)&&s(o)){return k.none()}else{return t(o,n,s)}};const ft=(e,t,o)=>{let n=e.dom;const s=u(o)?o:v;while(n.parentNode){n=n.parentNode;const e=de.fromDom(n);if(t(e)){return k.some(e)}else if(s(e)){break}}return k.none()};const mt=(e,t,o)=>{const n=(e,t)=>t(e);return ut(n,ft,e,t,o)};const gt=(e,t,o)=>ft(e,e=>pe(e,t),o);const pt=(e,t,o)=>{const n=(e,t)=>pe(e,t);return ut(n,gt,e,t,o)};const ht=e=>pt(e,"[contenteditable]");const yt=(e,t=false)=>{if(ct(e)){return e.dom.isContentEditable}else{return ht(e).fold(p(t),e=>bt(e)==="true")}};const bt=e=>e.dom.contentEditable;const vt=(e,t,o)=>ft(e,t,o).isSome();const kt=(e,t)=>vt(e,y(he,t));var wt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils");var _t=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");var xt=tinymce.util.Tools.resolve("tinymce.util.VK");var Ct=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");var St=tinymce.util.Tools.resolve("tinymce.util.Tools");const zt=e=>t=>d(t)&&t.nodeName.toLowerCase()===e;const Tt=e=>t=>d(t)&&e.test(t.nodeName);const Et=e=>d(e)&&e.nodeType===3;const Ot=e=>d(e)&&e.nodeType===1;const At=Tt(/^(OL|UL|DL)$/);const Dt=Tt(/^(OL|UL)$/);const Mt=zt("ol");const Nt=Tt(/^(LI|DT|DD)$/);const Rt=Tt(/^(DT|DD)$/);const Bt=Tt(/^(TH|TD)$/);const Lt=zt("br");const Ht=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e};const It=(e,t)=>d(t)&&t.nodeName in e.schema.getTextBlockElements();const Pt=(e,t)=>d(e)&&e.nodeName in t;const Ft=(e,t)=>d(t)&&t.nodeName in e.schema.getVoidElements();const Vt=(e,t)=>{if(!Lt(t)){return false}return e.isBlock(t.nextSibling)&&!Lt(t.previousSibling)};const jt=(e,t,o)=>{const n=e.isEmpty(t);if(o&&e.select("span[data-mce-type=bookmark]",t).length>0){return false}return n};const Zt=(e,t)=>e.isChildOf(t,e.getRoot());const Ut=e=>t=>t.options.get(e);const qt=e=>{const t=e.options.register;t("lists_indent_on_tab",{processor:"boolean",default:true})};const $t=Ut("lists_indent_on_tab");const Wt=Ut("forced_root_block");const Gt=Ut("forced_root_block_attrs");const Kt=(e,t,o={})=>{const n=e.dom;const s=e.schema.getBlockElements();const r=n.createFragment();const a=Wt(e);const c=Gt(e);let i;let l;let d=false;l=n.create(a,{...c,...o.style?{style:o.style}:{}});if(!Pt(t.firstChild,s)){r.appendChild(l)}while(i=t.firstChild){const e=i.nodeName;if(!d&&(e!=="SPAN"||i.getAttribute("data-mce-type")!=="bookmark")){d=true}if(Pt(i,s)){r.appendChild(i);l=null}else{if(!l){l=n.create(a,c);r.appendChild(l)}l.appendChild(i)}}if(!d&&l){l.appendChild(n.create("br",{"data-mce-bogus":"1"}))}return r};const Yt=Ct.DOM;const Xt=(e,t,o)=>{const n=e=>{const t=e.parentNode;if(t){St.each(s,e=>{t.insertBefore(e,o.parentNode)})}Yt.remove(e)};const s=Yt.select('span[data-mce-type="bookmark"]',t);const r=Kt(e,o);const a=Yt.createRng();a.setStartAfter(o);a.setEndAfter(t);const c=a.extractContents();for(let t=c.firstChild;t;t=t.firstChild){if(t.nodeName==="LI"&&e.dom.isEmpty(t)){Yt.remove(t);break}}if(!e.dom.isEmpty(c)){Yt.insertAfter(c,t)}Yt.insertAfter(r,t);const i=o.parentElement;if(i&&jt(e.dom,i)){n(i)}Yt.remove(o);if(jt(e.dom,t)){Yt.remove(t)}};const Jt=Me("dd");const Qt=Me("dt");const eo=(e,t)=>{if(Jt(t)){st(t,"dt")}else if(Qt(t)){Re(t).each(o=>Xt(e,o.dom,t.dom))}};const to=e=>{if(Qt(e)){st(e,"dd")}};const oo=(e,t,o)=>{if(t==="Indent"){E(o,to)}else{E(o,t=>eo(e,t))}};const no=(e,t)=>{if(Et(e)){return{container:e,offset:t}}const o=wt.getNode(e,t);if(Et(o)){return{container:o,offset:t>=e.childNodes.length?o.data.length:0}}else if(o.previousSibling&&Et(o.previousSibling)){return{container:o.previousSibling,offset:o.previousSibling.data.length}}else if(o.nextSibling&&Et(o.nextSibling)){return{container:o.nextSibling,offset:0}}return{container:e,offset:t}};const so=e=>{const t=e.cloneRange();const o=no(e.startContainer,e.startOffset);t.setStart(o.container,o.offset);const n=no(e.endContainer,e.endOffset);t.setEnd(n.container,n.offset);return t};const ro=["OL","UL","DL"];const ao=ro.join(",");const co=(e,t)=>{const o=t||e.selection.getStart(true);return e.dom.getParent(o,ao,yo(e,o))};const io=(e,t)=>d(e)&&t.length===1&&t[0]===e;const lo=e=>O(e.querySelectorAll(ao),At);const uo=e=>{const t=co(e);const o=e.selection.getSelectedBlocks();if(io(t,o)){return lo(t)}else{return O(o,e=>At(e)&&t!==e)}};const fo=(e,t)=>{const o=St.map(t,t=>{const o=e.dom.getParent(t,"li,dd,dt",yo(e,t));return o?o:t});return F(o)};const mo=e=>{const t=e.selection.getSelectedBlocks();return O(fo(e,t),Nt)};const go=e=>O(mo(e),Rt);const po=(e,t)=>{const o=e.dom.getParents(t,"TD,TH");return o.length>0?o[0]:e.getBody()};const ho=(e,t)=>!At(t)&&!Nt(t)&&z(ro,o=>e.isValidChild(t.nodeName,o));const yo=(e,t)=>{const o=e.dom.getParents(t,e.dom.isBlock);const n=t=>t.nodeName.toLowerCase()!==Wt(e);const s=N(o,t=>n(t)&&ho(e.schema,t));return s.getOr(e.getBody())};const bo=e=>Ne(e).exists(e=>Nt(e.dom)&&Ie(e).exists(e=>!At(e.dom))&&Pe(e).exists(e=>!At(e.dom)));const vo=(e,t)=>{const o=e.dom.getParents(t,"ol,ul",yo(e,t));return P(o)};const ko=e=>{const t=vo(e,e.selection.getStart());const o=O(e.selection.getSelectedBlocks(),Dt);return t.toArray().concat(o)};const wo=e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",yo(e,t))};const _o=e=>{const t=ko(e);const o=wo(e);return N(o,e=>bo(de.fromDom(e))).fold(()=>xo(e,t),e=>[e])};const xo=(e,t)=>{const o=T(t,t=>vo(e,t).getOr(t));return F(o)};const Co=e=>/\btox\-/.test(e.className);const So=(e,t)=>M(e,At,Bt).exists(e=>e.nodeName===t&&!Co(e));const zo=(e,t)=>t!==null&&!e.dom.isEditable(t);const To=e=>{const t=co(e);return zo(e,t)||!e.selection.isEditable()};const Eo=(e,t)=>{const o=e.dom.getParent(t,"ol,ul,dl");return zo(e,o)||!e.selection.isEditable()};const Oo=(e,t)=>{const o=e.selection.getNode();t({parents:e.dom.getParents(o),element:o});e.on("NodeChange",t);return()=>e.off("NodeChange",t)};const Ao=(e,t,o)=>e.dispatch("ListMutation",{action:t,element:o});const Do=e=>be(e,"OL,UL");const Mo=e=>be(e,"LI");const No=e=>Ie(e).exists(Do);const Ro=e=>Pe(e).exists(Do);const Bo=e=>"listAttributes"in e;const Lo=e=>"isComment"in e;const Ho=e=>"isFragment"in e;const Io=e=>e.depth>0;const Po=e=>e.isSelected;const Fo=e=>{const t=Le(e);const o=Ro(e)?t.slice(0,-1):t;return T(o,ot)};const Vo=(e,t,o)=>Ne(e).filter(Oe).map(n=>({depth:t,dirty:false,isSelected:o,content:Fo(e),itemAttributes:Je(e),listAttributes:Je(n),listType:Ce(n),isInPreviousLi:false}));const jo=(e,t)=>{We(e.item,t.list)};const Zo=e=>{for(let t=1;t<e.length;t++){jo(e[t-1],e[t])}};const Uo=(e,t)=>{Y(P(e),I(t),jo)};const qo=(e,t)=>{const o={list:de.fromTag(t,e),item:de.fromTag("li",e)};We(o.list,o.item);return o};const $o=(e,t,o)=>{const n=[];for(let s=0;s<o;s++){n.push(qo(e,Bo(t)?t.listType:t.parentListType))}return n};const Wo=(e,t)=>{for(let t=0;t<e.length-1;t++){lt(e[t].item,"list-style-type","none")}P(e).each(e=>{if(Bo(t)){Xe(e.list,t.listAttributes);Xe(e.item,t.itemAttributes)}Ke(e.item,t.content)})};const Go=(e,t)=>{if(Ce(e.list)!==t.listType){e.list=st(e.list,t.listType)}Xe(e.list,t.listAttributes)};const Ko=(e,t,o)=>{const n=de.fromTag("li",e);Xe(n,t);Ke(n,o);return n};const Yo=(e,t)=>{We(e.list,t);e.item=t};const Xo=(e,t,o)=>{const n=t.slice(0,o.depth);P(n).each(t=>{if(Bo(o)){const n=Ko(e,o.itemAttributes,o.content);Yo(t,n);Go(t,o)}else if(Ho(o)){Ke(t.item,o.content)}else{const e=de.fromHtml(`\x3c!--${o.content}--\x3e`);We(t.list,e)}});return n};const Jo=(e,t,o)=>{const n=$o(e,o,o.depth-t.length);Zo(n);Wo(n,o);Uo(t,n);return t.concat(n)};const Qo=(e,t)=>{let o=k.none();const n=D(t,(t,n,s)=>{if(!Lo(n)){return n.depth>t.length?Jo(e,t,n):Xo(e,t,n)}else{if(s===0){o=k.some(n);return t}return Xo(e,t,n)}},[]);o.each(e=>{const t=de.fromHtml(`\x3c!--${e.content}--\x3e`);I(n).each(e=>{$e(e.list,t)})});return I(n).map(e=>e.list)};const en=(e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=true};const tn=(e,t)=>{if(Bo(e)&&Bo(t)){e.listType=t.listType;e.listAttributes={...t.listAttributes}}};const on=e=>{e.listAttributes=q(e.listAttributes,(e,t)=>t!=="start")};const nn=(e,t)=>{const o=e[t].depth;const n=e=>e.depth===o&&!e.dirty;const s=e=>e.depth<o;return M(L(e.slice(0,t)),n,s).orThunk(()=>M(e.slice(t+1),n,s))};const sn=e=>{E(e,(t,o)=>{nn(e,o).fold(()=>{if(t.dirty&&Bo(t)){on(t)}},e=>tn(t,e))});return e};const rn=(e,t,o,n)=>{var s;if(Te(n)){return[{depth:e+1,content:(s=n.dom.nodeValue)!==null&&s!==void 0?s:"",dirty:false,isSelected:false,isComment:true}]}t.each(e=>{if(he(e.start,n)){o.set(true)}});const r=Vo(n,e,o.get());t.each(e=>{if(he(e.end,n)){o.set(false)}});const a=Pe(n).filter(Do).map(n=>cn(e,t,o,n)).getOr([]);return r.toArray().concat(a)};const an=(e,t,o,n)=>Ie(n).filter(Do).fold(()=>rn(e,t,o,n),s=>{const r=D(Le(n),(n,r,a)=>{if(a===0){return n}else{if(Mo(r)){return n.concat(rn(e,t,o,r))}else{const t={isFragment:true,depth:e,content:[r],isSelected:false,dirty:false,parentListType:Ce(s)};return n.concat(t)}}},[]);return cn(e,t,o,s).concat(r)});const cn=(e,t,o,n)=>B(Le(n),n=>{const s=Do(n)?cn:an;const r=e+1;return s(r,t,o,n)});const ln=(e,t)=>{const o=$(false);const n=0;return T(e,e=>({sourceList:e,entries:cn(n,t,o,e)}))};const dn=(e,t)=>{const o=sn(t);return T(o,t=>{const o=!Lo(t)?dt(t.content):dt([de.fromHtml(`\x3c!--${t.content}--\x3e`)]);const n=Bo(t)?t.itemAttributes:{};return de.fromDom(Kt(e,o.dom,n))})};const un=(e,t)=>{const o=sn(t);return Qo(e.contentDocument,o).toArray()};const fn=(e,t)=>B(A(t,Io),t=>{const o=I(t).exists(Io);return o?un(e,t):dn(e,t)});const mn=(e,t)=>{E(O(e,Po),e=>en(t,e))};const gn=e=>{const t=T(mo(e),de.fromDom);return Y(N(t,b(No)),N(L(t),b(No)),(e,t)=>({start:e,end:t}))};const pn=(e,t,o)=>{const n=ln(t,gn(e));E(n,t=>{mn(t.entries,o);const n=fn(e,t.entries);E(n,t=>{Ao(e,o==="Indent"?"IndentList":"OutdentList",t.dom)});Ge(t.sourceList,n);et(t.sourceList)})};const hn=(e,t)=>{const o=rt(_o(e));const n=rt(go(e));let s=false;if(o.length||n.length){const r=e.selection.getBookmark();pn(e,o,t);oo(e,t,n);e.selection.moveToBookmark(r);e.selection.setRng(so(e.selection.getRng()));e.nodeChanged();s=true}return s};const yn=(e,t)=>!To(e)&&hn(e,t);const bn=e=>yn(e,"Indent");const vn=e=>yn(e,"Outdent");const kn=e=>yn(e,"Flatten");var wn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const _n=Ct.DOM;const xn=e=>{const t={};const o=o=>{let n=e[o?"startContainer":"endContainer"];let s=e[o?"startOffset":"endOffset"];if(Ot(n)){const e=_n.create("span",{"data-mce-type":"bookmark"});if(n.hasChildNodes()){s=Math.min(s,n.childNodes.length-1);if(o){n.insertBefore(e,n.childNodes[s])}else{_n.insertAfter(e,n.childNodes[s])}}else{n.appendChild(e)}n=e;s=0}t[o?"startContainer":"endContainer"]=n;t[o?"startOffset":"endOffset"]=s};o(true);if(!e.collapsed){o()}return t};const Cn=e=>{const t=t=>{const o=e=>{var t;let o=(t=e.parentNode)===null||t===void 0?void 0:t.firstChild;let n=0;while(o){if(o===e){return n}if(!Ot(o)||o.getAttribute("data-mce-type")!=="bookmark"){n++}o=o.nextSibling}return-1};let n=e[t?"startContainer":"endContainer"];let s=e[t?"startOffset":"endOffset"];if(!n){return}if(Ot(n)&&n.parentNode){const e=n;s=o(n);n=n.parentNode;_n.remove(e);if(!n.hasChildNodes()&&_n.isBlock(n)){n.appendChild(_n.create("br"))}}e[t?"startContainer":"endContainer"]=n;e[t?"startOffset":"endOffset"]=s};t(true);t();const o=_n.createRng();o.setStart(e.startContainer,e.startOffset);if(e.endContainer){o.setEnd(e.endContainer,e.endOffset)}return so(o)};const Sn=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}};const zn=(e,t,o)=>{const n=o["list-style-type"]?o["list-style-type"]:null;e.setStyle(t,"list-style-type",n)};const Tn=(e,t)=>{St.each(t,(t,o)=>{e.setAttribute(o,t)})};const En=(e,t,o)=>{Tn(t,o["list-attributes"]);St.each(e.select("li",t),e=>{Tn(e,o["list-item-attributes"])})};const On=(e,t,o)=>{zn(e,t,o);En(e,t,o)};const An=(e,t,o)=>{St.each(o,o=>e.setStyle(t,o,""))};const Dn=(e,t)=>d(t)&&!Pt(t,e.schema.getBlockElements());const Mn=(e,t,o,n)=>{let s=t[o?"startContainer":"endContainer"];const r=t[o?"startOffset":"endOffset"];if(Ot(s)){s=s.childNodes[Math.min(r,s.childNodes.length-1)]||s}if(!o&&Lt(s.nextSibling)){s=s.nextSibling}const a=t=>{while(!e.dom.isBlock(t)&&t.parentNode&&n!==t){t=t.parentNode}return t};const c=(t,o)=>{var n;const s=new _t(t,a(t));const r=o?"next":"prev";let c;while(c=s[r]()){if(!(Ft(e,c)||se(c.textContent)||((n=c.textContent)===null||n===void 0?void 0:n.length)===0)){return k.some(c)}}return k.none()};if(o&&Et(s)){if(se(s.textContent)){s=c(s,false).getOr(s)}else{if(s.parentNode!==null&&Dn(e,s.parentNode)){s=s.parentNode}while(s.previousSibling!==null&&(Dn(e,s.previousSibling)||Et(s.previousSibling))){s=s.previousSibling}}}if(!o&&Et(s)){if(se(s.textContent)){s=c(s,true).getOr(s)}else{if(s.parentNode!==null&&Dn(e,s.parentNode)){s=s.parentNode}while(s.nextSibling!==null&&(Dn(e,s.nextSibling)||Et(s.nextSibling))){s=s.nextSibling}}}while(s.parentNode!==n){const t=s.parentNode;if(It(e,s)){return s}if(/^(TD|TH)$/.test(t.nodeName)){return s}s=t}return s};const Nn=(e,t,o)=>{const n=[];const s=e.dom;const r=Mn(e,t,true,o);const a=Mn(e,t,false,o);let c;const i=[];for(let e=r;e;e=e.nextSibling){i.push(e);if(e===a){break}}St.each(i,t=>{var r;if(It(e,t)){n.push(t);c=null;return}if(s.isBlock(t)||Lt(t)){if(Lt(t)){s.remove(t)}c=null;return}const a=t.nextSibling;if(wn.isBookmarkNode(t)){if(At(a)||It(e,a)||!a&&t.parentNode===o){c=null;return}}if(!c){c=s.create("p");(r=t.parentNode)===null||r===void 0?void 0:r.insertBefore(c,t);n.push(c)}c.appendChild(t)});return n};const Rn=(e,t,o)=>{const n=e.getStyle(t,"list-style-type");let s=o?o["list-style-type"]:"";s=s===null?"":s;return n===s};const Bn=(e,t)=>{const o=e.selection.getStart(true);const n=Mn(e,t,true,e.getBody());if(kt(de.fromDom(n),de.fromDom(t.commonAncestorContainer))){return t.commonAncestorContainer}else{return o}};const Ln=(e,t,o)=>{const n=e.selection.getRng();let s="LI";const r=yo(e,Bn(e,n));const a=e.dom;if(a.getContentEditable(e.selection.getNode())==="false"){return}t=t.toUpperCase();if(t==="DL"){s="DT"}const c=xn(n);const i=O(Nn(e,n,r),e.dom.isEditable);St.each(i,n=>{let r;const c=n.previousSibling;const i=n.parentNode;if(!Nt(i)){if(c&&At(c)&&c.nodeName===t&&Rn(a,c,o)){r=c;n=a.rename(n,s);c.appendChild(n)}else{r=a.create(t);i.insertBefore(r,n);r.appendChild(n);n=a.rename(n,s)}An(a,n,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]);On(a,r,o);Vn(e.dom,r)}});e.selection.setRng(Cn(c))};const Hn=(e,t)=>At(e)&&e.nodeName===(t===null||t===void 0?void 0:t.nodeName);const In=(e,t,o)=>{const n=e.getStyle(t,"list-style-type",true);const s=e.getStyle(o,"list-style-type",true);return n===s};const Pn=(e,t)=>e.className===t.className;const Fn=(e,t,o)=>Hn(t,o)&&In(e,t,o)&&Pn(t,o);const Vn=(e,t)=>{let o;let n=t.nextSibling;if(Fn(e,t,n)){const s=n;while(o=s.firstChild){t.appendChild(o)}e.remove(s)}n=t.previousSibling;if(Fn(e,t,n)){const s=n;while(o=s.lastChild){t.insertBefore(o,t.firstChild)}e.remove(s)}};const jn=(e,t,o,n)=>{if(t.nodeName!==o){const s=e.dom.rename(t,o);On(e.dom,s,n);Ao(e,Sn(o),s)}else{On(e.dom,t,n);Ao(e,Sn(o),t)}};const Zn=(e,t,o,n)=>{t.classList.forEach((e,o,n)=>{if(e.startsWith("tox-")){n.remove(e);if(n.length===0){t.removeAttribute("class")}}});if(t.nodeName!==o){const s=e.dom.rename(t,o);On(e.dom,s,n);Ao(e,Sn(o),s)}else{On(e.dom,t,n);Ao(e,Sn(o),t)}};const Un=(e,t,o,n,s)=>{const r=At(t);if(r&&t.nodeName===n&&!qn(s)&&!Co(t)){kn(e)}else{Ln(e,n,s);const a=xn(e.selection.getRng());const c=r?[t,...o]:o;const i=r&&Co(t)?Zn:jn;St.each(c,t=>{i(e,t,n,s)});e.selection.setRng(Cn(a))}};const qn=e=>"list-style-type"in e;const $n=(e,t,o,n)=>{if(t===e.getBody()){return}if(t){if(t.nodeName===o&&!qn(n)&&!Co(t)){kn(e)}else{const s=xn(e.selection.getRng());if(Co(t)){t.classList.forEach((e,o,n)=>{if(e.startsWith("tox-")){n.remove(e);if(n.length===0){t.removeAttribute("class")}}})}On(e.dom,t,n);const r=e.dom.rename(t,o);Vn(e.dom,r);e.selection.setRng(Cn(s));Ln(e,o,n);Ao(e,Sn(o),r)}}else{Ln(e,o,n);Ao(e,Sn(o),t)}};const Wn=(e,t,o)=>{const n=co(e);if(Eo(e,n)){return}const s=uo(e);const r=a(o)?o:{};if(s.length>0){Un(e,n,s,t,r)}else{$n(e,n,t,r)}};const Gn=Ct.DOM;const Kn=(e,t)=>{const o=t.parentElement;if(o&&o.nodeName==="LI"&&o.firstChild===t){const n=o.previousSibling;if(n&&n.nodeName==="LI"){n.appendChild(t);if(jt(e,o)){Gn.remove(o)}}else{Gn.setStyle(o,"listStyleType","none")}}if(At(o)){const e=o.previousSibling;if(e&&e.nodeName==="LI"){e.appendChild(t)}}};const Yn=(e,t)=>{const o=St.grep(e.select("ol,ul",t));St.each(o,t=>{Kn(e,t)})};const Xn=(e,t,o,n)=>{let s=t.startContainer;const r=t.startOffset;if(Et(s)&&(o?r<s.data.length:r>0)){return s}const a=e.schema.getNonEmptyElements();if(Ot(s)){s=wt.getNode(s,r)}const c=new _t(s,n);if(o){if(Vt(e.dom,s)){c.next()}}const i=o?c.next.bind(c):c.prev2.bind(c);while(s=i()){if(s.nodeName==="LI"&&!s.hasChildNodes()){return s}if(a[s.nodeName]){return s}if(Et(s)&&s.data.length>0){return s}}return null};const Jn=(e,t)=>{const o=t.childNodes;return o.length===1&&!At(o[0])&&e.isBlock(o[0])};const Qn=e=>k.from(e).map(de.fromDom).filter(Ee).exists(e=>yt(e)&&!S(["details"],Ce(e)));const es=(e,t)=>{if(Jn(e,t)&&Qn(t.firstChild)){e.remove(t.firstChild,true)}};const ts=(e,t,o)=>{let n;const s=Jn(e,o)?o.firstChild:o;es(e,t);if(!jt(e,t,true)){while(n=t.firstChild){s.appendChild(n)}}};const os=(e,t,o)=>{let n;const s=t.parentNode;if(!Zt(e,t)||!Zt(e,o)){return}if(At(o.lastChild)){n=o.lastChild}if(s===o.lastChild){if(Lt(s.previousSibling)){e.remove(s.previousSibling)}}const r=o.lastChild;if(r&&Lt(r)&&t.hasChildNodes()){e.remove(r)}if(jt(e,o,true)){Qe(de.fromDom(o))}ts(e,t,o);if(n){o.appendChild(n)}const a=ye(de.fromDom(o),de.fromDom(t));const c=a?e.getParents(t,At,o):[];e.remove(t);E(c,t=>{if(jt(e,t)&&t!==e.getRoot()){e.remove(t)}})};const ns=(e,t,o)=>{Qe(de.fromDom(o));os(e.dom,t,o);e.selection.setCursorLocation(o,0)};const ss=(e,t,o,n)=>{const s=e.dom;if(s.isEmpty(n)){ns(e,o,n)}else{const r=xn(t);os(s,o,n);e.selection.setRng(Cn(r))}};const rs=(e,t,o,n)=>{const s=xn(t);os(e.dom,o,n);const r=Cn(s);e.selection.setRng(r)};const as=(e,t)=>{const o=e.dom,n=e.selection;const s=n.getStart();const r=po(e,s);const a=o.getParent(n.getStart(),"LI",r);if(a){const s=a.parentElement;if(s===e.getBody()&&jt(o,s)){return true}const c=so(n.getRng());const i=o.getParent(Xn(e,c,t,r),"LI",r);const l=i&&(t?o.isChildOf(a,i):o.isChildOf(i,a));if(i&&i!==a&&!l){e.undoManager.transact(()=>{if(t){ss(e,c,i,a)}else{if(Ht(a)){vn(e)}else{rs(e,c,a,i)}}});return true}else if(l&&!t&&i!==a){const t=c.commonAncestorContainer.parentElement;if(!t||o.isChildOf(i,t)){return false}e.undoManager.transact(()=>{const n=xn(c);ts(o,t,i);t.remove();const s=Cn(n);e.selection.setRng(s)});return true}else if(!i){if(!t&&c.startOffset===0&&c.endOffset===0){e.undoManager.transact(()=>{kn(e)});return true}}}return false};const cs=(e,t,o)=>{const n=e.getParent(t.parentNode,e.isBlock,o);e.remove(t);if(n&&e.isEmpty(n)){e.remove(n)}};const is=(e,t)=>{const o=e.dom;const n=e.selection.getStart();const s=po(e,n);const r=o.getParent(n,o.isBlock,s);if(r&&o.isEmpty(r,undefined,{checkRootAsContent:true})){const n=so(e.selection.getRng());const a=Xn(e,n,t,s);const c=o.getParent(a,"LI",s);if(a&&c){const i=e=>S(["td","th","caption"],Ce(e));const l=e=>e.dom===s;const d=mt(de.fromDom(c),i,l);const u=mt(de.fromDom(n.startContainer),i,l);if(!K(d,u,he)){return false}e.undoManager.transact(()=>{const n=c.parentNode;cs(o,r,s);Vn(o,n);e.selection.select(a,true);e.selection.collapse(t)});return true}}return false};const ls=(e,t)=>as(e,t)||is(e,t);const ds=e=>{const t=e.selection.getStart();const o=po(e,t);const n=e.dom.getParent(t,"LI,DT,DD",o);return n||mo(e).length>0};const us=e=>{if(ds(e)){e.undoManager.transact(()=>{let t=true;const o=()=>t=false;e.on("input",o);e.execCommand("Delete");e.off("input",o);if(t){e.dispatch("input")}Yn(e.dom,e.getBody())});return true}return false};const fs=(e,t)=>{const o=e.selection;return!Eo(e,o.getNode())&&(o.isCollapsed()?ls(e,t):us(e))};const ms=e=>{e.on("ExecCommand",t=>{const o=t.command.toLowerCase();if((o==="delete"||o==="forwarddelete")&&ds(e)){Yn(e.dom,e.getBody())}});e.on("keydown",t=>{if(t.keyCode===xt.BACKSPACE){if(fs(e,false)){t.preventDefault()}}else if(t.keyCode===xt.DELETE){if(fs(e,true)){t.preventDefault()}}})};const gs=e=>({backspaceDelete:t=>{fs(e,t)}});const ps=(e,t)=>{const o=co(e);if(o===null||Eo(e,o)){return}e.undoManager.transact(()=>{if(a(t.styles)){e.dom.setStyles(o,t.styles)}if(a(t.attrs)){j(t.attrs,(t,n)=>e.dom.setAttrib(o,n,t))}})};const hs=e=>{const t=L(ee(e).split(""));const o=T(t,(e,t)=>{const o=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*o});return D(o,(e,t)=>e+t,0)};const ys=e=>{e--;if(e<0){return""}else{const t=e%26;const o=Math.floor(e/26);const n=ys(o);const s=String.fromCharCode("A".charCodeAt(0)+t);return n+s}};const bs=e=>/^[A-Z]+$/.test(e);const vs=e=>/^[a-z]+$/.test(e);const ks=e=>/^[0-9]+$/.test(e);const ws=e=>{if(ks(e)){return 2}else if(bs(e)){return 0}else if(vs(e)){return 1}else if(oe(e)){return 3}else{return 4}};const _s=e=>{switch(ws(e)){case 2:return k.some({listStyleType:k.none(),start:e});case 0:return k.some({listStyleType:k.some("upper-alpha"),start:hs(e).toString()});case 1:return k.some({listStyleType:k.some("lower-alpha"),start:hs(e).toString()});case 3:return k.some({listStyleType:k.none(),start:""});case 4:return k.none()}};const xs=e=>{const t=parseInt(e.start,10);if(G(e.listStyleType,"upper-alpha")){return ys(t)}else if(G(e.listStyleType,"lower-alpha")){return ys(t).toLowerCase()}else{return e.start}};const Cs=e=>{const t=co(e);if(!Mt(t)||Eo(e,t)){return}e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:xs({start:e.dom.getAttrib(t,"start","1"),listStyleType:k.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:t=>{const o=t.getData();_s(o.start).each(t=>{e.execCommand("mceListUpdate",false,{attrs:{start:t.start==="1"?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})});t.close()}})};const Ss=(e,t)=>()=>{const o=co(e);return d(o)&&o.nodeName===t};const zs=e=>{e.addCommand("mceListProps",()=>{Cs(e)})};const Ts=e=>{e.on("BeforeExecCommand",t=>{const o=t.command.toLowerCase();if(o==="indent"){bn(e)}else if(o==="outdent"){vn(e)}});e.addCommand("InsertUnorderedList",(t,o)=>{Wn(e,"UL",o)});e.addCommand("InsertOrderedList",(t,o)=>{Wn(e,"OL",o)});e.addCommand("InsertDefinitionList",(t,o)=>{Wn(e,"DL",o)});e.addCommand("RemoveList",()=>{kn(e)});zs(e);e.addCommand("mceListUpdate",(t,o)=>{if(a(o)){ps(e,o)}});e.addQueryStateHandler("InsertUnorderedList",Ss(e,"UL"));e.addQueryStateHandler("InsertOrderedList",Ss(e,"OL"));e.addQueryStateHandler("InsertDefinitionList",Ss(e,"DL"))};var Es=tinymce.util.Tools.resolve("tinymce.html.Node");const Os=e=>e.type===3;const As=e=>e.length===0;const Ds=e=>{const t=(t,o)=>{const n=Es.create("li");E(t,e=>n.append(e));if(o){e.insert(n,o,true)}else{e.append(n)}};const o=(e,o)=>{if(Os(o)){return[...e,o]}else if(!As(e)&&!Os(o)){t(e,o);return[]}else{return e}};const n=D(e.children(),o,[]);if(!As(n)){t(n)}};const Ms=e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",e=>E(e,Ds))})};const Ns=e=>{e.on("keydown",t=>{if(t.keyCode!==xt.TAB||xt.metaKeyPressed(t)){return}e.undoManager.transact(()=>{if(t.shiftKey?vn(e):bn(e)){t.preventDefault()}})})};const Rs=e=>{if($t(e)){Ns(e)}ms(e)};const Bs=(e,t)=>o=>{const n=n=>{o.setActive(So(n.parents,t));o.setEnabled(!Eo(e,n.element)&&e.selection.isEditable())};o.setEnabled(e.selection.isEditable());return Oo(e,n)};const Ls=e=>{const t=t=>()=>e.execCommand(t);if(!e.hasPlugin("advlist")){e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:Bs(e,"OL")});e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:Bs(e,"UL")})}};const Hs=(e,t)=>o=>{const n=n=>o.setEnabled(So(n.parents,t)&&!Eo(e,n.element));return Oo(e,n)};const Is=e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:Hs(e,"OL")};e.ui.registry.addMenuItem("listprops",t);e.ui.registry.addContextMenu("lists",{update:t=>{const o=co(e,t);return Mt(o)?["listprops"]:[]}})};var Ps=()=>{e.add("lists",e=>{qt(e);Ms(e);if(!e.hasPlugin("rtc",true)){Rs(e);Ts(e)}else{zs(e)}Ls(e);Is(e);return gs(e)})};Ps()})()},(e,t,o)=>{o(26)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=n("string");const a=s("boolean");const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=s("function");const d=e=>()=>e;const u=d(false);class f{constructor(e,t){this.tag=e;this.value=t}static some(e){return new f(true,e)}static none(){return f.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return f.some(e(this.value))}else{return f.none()}}bind(e){if(this.tag){return e(this.value)}else{return f.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return f.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return i(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(false);const m=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let g=0;const p=e=>{const t=new Date;const o=t.getTime();const n=Math.floor(m()*1e9);g++;return e+"_"+n+g+String(o)};const h=(e,t,o)=>{e.execCommand("mceInsertTable",false,{rows:o,columns:t})};const y=(e,t,o)=>{const n=e.editorUpload.blobCache;const s=n.create(p("mceu"),o,t);n.add(s);e.insertContent(e.dom.createHTML("img",{src:s.blobUri()}))};const b=e=>new Promise(t=>{const o=new FileReader;o.onloadend=()=>{t(o.result.split(",")[1])};o.readAsDataURL(e)});var v=tinymce.util.Tools.resolve("tinymce.util.Delay");const k=e=>new Promise(t=>{let o=false;const n=document.createElement("input");n.type="file";n.accept="image/*";n.style.position="fixed";n.style.left="0";n.style.top="0";n.style.opacity="0.001";document.body.appendChild(n);const s=e=>{var s;if(!o){(s=n.parentNode)===null||s===void 0?void 0:s.removeChild(n);o=true;t(e)}};const r=e=>{s(Array.prototype.slice.call(e.target.files))};n.addEventListener("input",r);n.addEventListener("change",r);const a=t=>{const n=()=>{s([])};if(!o){if(t.type==="focusin"){v.setEditorTimeout(e,n,1e3)}else{n()}}e.off("focusin remove",a)};e.on("focusin remove",a);n.click()});const w=e=>{e.on("PreInit",()=>{if(!e.queryCommandSupported("QuickbarInsertImage")){e.addCommand("QuickbarInsertImage",()=>{k(e).then(t=>{if(t.length>0){const o=t[0];b(o).then(t=>{y(e,t,o)})}})})}})};const _=e=>t=>t.options.get(e);const x=e=>{const t=e.options.register;const o=e=>t=>{const o=a(t)||r(t);if(o){if(a(t)){return{value:t?e:"",valid:o}}else{return{value:t.trim(),valid:o}}}else{return{valid:false,message:"Must be a boolean or string."}}};const n="bold italic | quicklink h2 h3 blockquote";t("quickbars_selection_toolbar",{processor:o(n),default:n});const s="quickimage quicktable";t("quickbars_insert_toolbar",{processor:o(s),default:s});const c="alignleft aligncenter alignright";t("quickbars_image_toolbar",{processor:o(c),default:c})};const C=_("quickbars_selection_toolbar");const S=_("quickbars_insert_toolbar");const z=_("quickbars_image_toolbar");const T=e=>{e.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>e.execCommand("QuickbarInsertImage")});e.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{h(e,2,2)}})};const E=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return D(n.childNodes[0])};const O=(e,t)=>{const o=t||document;const n=o.createElement(e);return D(n)};const A=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return D(n)};const D=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const M=(e,t,o)=>f.from(e.dom.elementFromPoint(t,o)).map(D);const N={fromHtml:E,fromTag:O,fromText:A,fromDom:D,fromPoint:M};const R=1;const B=(e,t)=>{const o=e.dom;if(o.nodeType!==R){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const L=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const H=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):false};var I=(e,t,o,n,s)=>{if(e(o,n)){return f.some(o)}else if(l(s)&&s(o)){return f.none()}else{return t(o,n,s)}};const P=(e,t,o)=>{let n=e.dom;const s=l(o)?o:u;while(n.parentNode){n=n.parentNode;const e=N.fromDom(n);if(t(e)){return f.some(e)}else if(s(e)){break}}return f.none()};const F=(e,t,o)=>{const n=(e,t)=>t(e);return I(n,P,e,t,o)};const V=(e,t,o)=>P(e,e=>B(e,t),o);const j=(e,t,o)=>{const n=(e,t)=>B(e,t);return I(n,V,e,t,o)};const Z=e=>e.dom.classList!==undefined;const U=(e,t)=>Z(e)&&e.dom.classList.contains(t);const q=(e,t,o)=>F(e,t,o).isSome();const $=e=>{const t=S(e);if(t.length>0){e.ui.registry.addContextToolbar("quickblock",{predicate:t=>{const o=N.fromDom(t);const n=e.schema.getTextBlockElements();const s=t=>t.dom===e.getBody();return!H(o,"data-mce-bogus")&&j(o,'table,[data-mce-bogus="all"]',s).fold(()=>q(o,t=>L(t)in n&&e.dom.isEmpty(t.dom),s),u)},items:t,position:"line",scope:"editor"})}};const W=e=>{const t=t=>e.dom.isEditable(t);const o=e=>t(e.parentElement);const n=e=>{const t=e.nodeName==="FIGURE"&&/image/i.test(e.className);const n=e.nodeName==="IMG"||t;const s=U(N.fromDom(e),"mce-pagebreak");return n&&o(e)&&!s};const s=z(e);if(s.length>0){e.ui.registry.addContextToolbar("imageselection",{predicate:n,items:s,position:"node"})}const r=C(e);if(r.length>0){e.ui.registry.addContextToolbar("textselection",{predicate:o=>!n(o)&&!e.selection.isCollapsed()&&t(o),items:r,position:"selection",scope:"editor"})}};var G=()=>{e.add("quickbars",e=>{x(e);w(e);T(e);$(e);W(e)})};G()})()},(e,t,o)=>{o(28)},()=>{(function(){"use strict";const e=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const t=t=>{const o=typeof t;if(t===null){return"null"}else if(o==="object"&&Array.isArray(t)){return"array"}else if(o==="object"&&e(t,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const o=e=>o=>t(o)===e;const n=e=>t=>typeof t===e;const s=o("string");const r=o("array");const a=n("boolean");const c=e=>e===null||e===undefined;const i=e=>!c(e);const l=n("number");const d=()=>{};const u=e=>()=>e;const f=u(true);class m{constructor(e,t){this.tag=e;this.value=t}static some(e){return new m(true,e)}static none(){return m.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return m.some(e(this.value))}else{return m.none()}}bind(e){if(this.tag){return e(this.value)}else{return m.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return m.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return i(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(false);const g=Array.prototype.slice;const p=Array.prototype.push;const h=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const y=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const b=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const v=(e,t)=>{if(e.length===0){return[]}else{let o=t(e[0]);const n=[];let s=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];const c=t(a);if(c!==o){n.push(s);s=[]}o=c;s.push(a)}if(s.length!==0){n.push(s)}return n}};const k=(e,t,o)=>{y(e,(e,n)=>{o=t(o,e,n)});return o};const w=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!r(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}p.apply(t,e[o])}return t};const _=(e,t)=>w(h(e,t));const x=(e,t)=>{const o=g.call(e,0);o.sort(t);return o};const C=Object.hasOwnProperty;const S=(e,t)=>C.call(e,t);const z=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const T=e=>{const t=z(m.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(m.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(m.some(e))};return{clear:n,isSet:s,get:r,set:a}};const E=()=>{const e=T(d);const t=t=>e.get().each(t);return{...e,on:t}};var O=tinymce.util.Tools.resolve("tinymce.PluginManager");const A=`[~№|!-*+-\\/:;?@\\[-\`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]`;const D=u(A);const M=(e,t,o,n)=>{const s=()=>new RegExp(e,n.getOr("g"));return{term:s,prefix:t,suffix:o}};M;const N=D;var R=tinymce.util.Tools.resolve("tinymce.Env");var B=tinymce.util.Tools.resolve("tinymce.util.Tools");const L=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return P(n.childNodes[0])};const H=(e,t)=>{const o=t||document;const n=o.createElement(e);return P(n)};const I=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return P(n)};const P=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const F=(e,t,o)=>m.from(e.dom.elementFromPoint(t,o)).map(P);const V={fromHtml:L,fromTag:H,fromText:I,fromDom:P,fromPoint:F};const j=9;const Z=11;const U=1;const q=3;const $=e=>e.nodeType!==U&&e.nodeType!==j&&e.nodeType!==Z||e.childElementCount===0;const W=(e,t)=>{const o=t===undefined?document:t.dom;return $(o)?[]:h(o.querySelectorAll(e),V.fromDom)};const G=(e,t,o)=>(e.compareDocumentPosition(t)&o)!==0;const K=(e,t)=>G(e,t,Node.DOCUMENT_POSITION_PRECEDING);const Y=e=>e.dom.nodeType;const X=e=>t=>Y(t)===e;const J=X(q);const Q=e=>m.from(e.dom.parentNode).map(V.fromDom);const ee=e=>h(e.dom.childNodes,V.fromDom);const te=(e,t)=>({element:e,offset:t});const oe=(e,t)=>{const o=ee(e);return o.length>0&&t<o.length?te(o[t],0):te(e,t)};const ne=(e,t)=>{const o=Q(e);o.each(o=>{o.dom.insertBefore(t.dom,e.dom)})};const se=(e,t)=>{e.dom.appendChild(t.dom)};const re=(e,t)=>{ne(e,t);se(t,e)};const ae=(e,t,o)=>{if(s(o)||a(o)||l(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const ce=(e,t,o)=>{ae(e.dom,t,o)};const ie=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?m.from(t.dom.nodeValue):m.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const le=ie(J,"text");const de=e=>le.get(e);const ue=(e,t)=>W(t,e);var fe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const me=(e,t)=>e.isBlock(t)||S(e.schema.getVoidElements(),t.nodeName);const ge=(e,t)=>!e.isEditable(t);const pe=(e,t)=>e.getContentEditable(t)==="true"&&t.parentNode&&!e.isEditable(t.parentNode);const he=(e,t)=>!e.isBlock(t)&&S(e.schema.getWhitespaceElements(),t.nodeName);const ye=(e,t)=>me(e,t)||ge(e,t)||he(e,t)||pe(e,t);const be=e=>e.nodeType===3;const ve=()=>({sOffset:0,fOffset:0,elements:[]});const ke=(e,t)=>oe(V.fromDom(e),t);const we=(e,t,o,n,s,r=true)=>{let a=r?t(false):o;while(a){const o=ge(e,a);if(o||he(e,a)){const e=o?n.cef(a):n.boundary(a);if(e){break}else{a=t(true);continue}}else if(me(e,a)){if(n.boundary(a)){break}}else if(be(a)){n.text(a)}if(a===s){break}else{a=t(false)}}};const _e=(e,t,o,n,s)=>{var r;if(ye(e,o)){return}const a=(r=e.getParent(n,e.isBlock))!==null&&r!==void 0?r:e.getRoot();const c=new fe(o,a);const i=s?c.next.bind(c):c.prev.bind(c);we(e,i,o,{boundary:f,cef:f,text:e=>{if(s){t.fOffset+=e.length}else{t.sOffset+=e.length}t.elements.push(V.fromDom(e))}})};const xe=(e,t,o,n,s,r=true)=>{const a=new fe(o,t);const c=[];let i=ve();_e(e,i,o,t,false);const l=()=>{if(i.elements.length>0){c.push(i);i=ve()}return false};we(e,a.next.bind(a),o,{boundary:l,cef:e=>{l();if(s){c.push(...s.cef(e))}return false},text:e=>{i.elements.push(V.fromDom(e));if(s){s.text(e,i)}}},n,r);if(n){_e(e,i,n,t,true)}l();return c};const Ce=(e,t)=>{const o=ke(t.startContainer,t.startOffset);const n=o.element.dom;const s=ke(t.endContainer,t.endOffset);const r=s.element.dom;return xe(e,t.commonAncestorContainer,n,r,{text:(e,t)=>{if(e===r){t.fOffset+=e.length-s.offset}else if(e===n){t.sOffset+=o.offset}},cef:t=>{const o=_(ue(V.fromDom(t),"*[contenteditable=true]"),t=>{const o=t.dom;return xe(e,o,o)});return x(o,(e,t)=>K(e.elements[0].dom,t.elements[0].dom)?1:-1)}},false)};const Se=(e,t)=>t.collapsed?[]:Ce(e,t);const ze=(e,t)=>{const o=e.createRng();o.selectNode(t);return Se(e,o)};const Te=(e,t)=>_(t,t=>ze(e,t));const Ee=(e,t,o=0,n=e.length)=>{const s=t.regex;s.lastIndex=o;const r=[];let a;while(a=s.exec(e)){const e=a[t.matchIndex];const o=a.index+a[0].indexOf(e);const c=o+e.length;if(c>n){break}r.push({start:o,finish:c});s.lastIndex=c}return r};const Oe=(e,t)=>{const o=k(e,(e,o)=>{const n=de(o);const s=e.last;const r=s+n.length;const a=_(t,(e,t)=>{if(e.start<r&&e.finish>s){return[{element:o,start:Math.max(s,e.start)-s,finish:Math.min(r,e.finish)-s,matchId:t}]}else{return[]}});return{results:e.results.concat(a),last:r}},{results:[],last:0}).results;return v(o,e=>e.matchId)};const Ae=(e,t)=>_(t,t=>{const o=t.elements;const n=h(o,de).join("");const s=Ee(n,e,t.sOffset,n.length-t.fOffset);return Oe(o,s)});const De=(e,t)=>{b(e,(e,o)=>{b(e,e=>{const n=V.fromDom(t.cloneNode(false));ce(n,"data-mce-index",o);const s=e.element.dom;if(s.length===e.finish&&e.start===0){re(e.element,n)}else{if(s.length!==e.finish){s.splitText(e.finish)}const t=s.splitText(e.start);re(V.fromDom(t),n)}})})};const Me=(e,t,o,n)=>{const s=ze(e,o);const r=Ae(t,s);De(r,n);return r.length};const Ne=(e,t,o,n)=>{const s=o.getBookmark();const r=e.select("td[data-mce-selected],th[data-mce-selected]");const a=r.length>0?Te(e,r):Se(e,o.getRng());const c=Ae(t,a);De(c,n);o.moveToBookmark(s);return c.length};const Re=e=>e.getAttribute("data-mce-index");const Be=(e,t,o,n)=>{const s=e.dom.create("span",{"data-mce-bogus":1});s.className="mce-match-marker";const r=e.getBody();$e(e,t,false);if(n){return Ne(e.dom,o,e.selection,s)}else{return Me(e.dom,o,r,s)}};const Le=e=>{var t;const o=e.parentNode;if(e.firstChild){o.insertBefore(e.firstChild,e)}(t=e.parentNode)===null||t===void 0?void 0:t.removeChild(e)};const He=(e,t)=>{const o=[];const n=B.toArray(e.getBody().getElementsByTagName("span"));if(n.length){for(let e=0;e<n.length;e++){const s=Re(n[e]);if(s===null||!s.length){continue}if(s===t.toString()){o.push(n[e])}}}return o};const Ie=(e,t,o)=>{const n=t.get();let s=n.index;const r=e.dom;if(o){if(s+1===n.count){s=0}else{s++}}else{if(s-1===-1){s=n.count-1}else{s--}}r.removeClass(He(e,n.index),"mce-match-marker-selected");const a=He(e,s);if(a.length){r.addClass(He(e,s),"mce-match-marker-selected");e.selection.scrollIntoView(a[0]);return s}return-1};const Pe=(e,t)=>{const o=t.parentNode;e.remove(t);if(o&&e.isEmpty(o)){e.remove(o)}};const Fe=(e,t)=>{const o=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]");const n="("+o+")";return t?`(?:^|\\s|${N()})`+n+`(?=$|\\s|${N()})`:n};const Ve=(e,t,o,n,s,r)=>{const a=e.selection;const c=Fe(o,s);const i=a.isForward();const l={regex:new RegExp(c,n?"g":"gi"),matchIndex:1};const d=Be(e,t,l,r);if(R.browser.isSafari()){a.setRng(a.getRng(),i)}if(d){const a=Ie(e,t,true);t.set({index:a,count:d,text:o,matchCase:n,wholeWord:s,inSelection:r})}return d};const je=(e,t)=>{const o=Ie(e,t,true);t.set({...t.get(),index:o})};const Ze=(e,t)=>{const o=Ie(e,t,false);t.set({...t.get(),index:o})};const Ue=e=>{const t=Re(e);return t!==null&&t.length>0};const qe=(e,t,o,n,s)=>{const r=t.get();const a=r.index;let c,i=a;n=n!==false;const l=e.getBody();const d=B.grep(B.toArray(l.getElementsByTagName("span")),Ue);for(let t=0;t<d.length;t++){const l=Re(d[t]);let u=c=parseInt(l,10);if(s||u===r.index){if(o.length){d[t].innerText=o;Le(d[t])}else{Pe(e.dom,d[t])}while(d[++t]){u=parseInt(Re(d[t]),10);if(u===c){Pe(e.dom,d[t])}else{t--;break}}if(n){i--}}else if(c>a){d[t].setAttribute("data-mce-index",String(c-1))}}t.set({...r,count:s?0:r.count-1,index:i});if(n){je(e,t)}else{Ze(e,t)}return!s&&t.get().count>0};const $e=(e,t,o)=>{let n;let s;const r=t.get();const a=B.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<a.length;e++){const t=Re(a[e]);if(t!==null&&t.length){if(t===r.index.toString()){if(!n){n=a[e].firstChild}s=a[e].firstChild}Le(a[e])}}t.set({...r,index:-1,count:0,text:""});if(n&&s){const t=e.dom.createRng();t.setStart(n,0);t.setEnd(s,s.data.length);if(o!==false){e.selection.setRng(t)}return t}else{return undefined}};const We=(e,t)=>t.get().count>1;const Ge=(e,t)=>t.get().count>1;const Ke=(e,t)=>{const o=o=>$e(e,t,o);const n=(o,n,s,r=false)=>Ve(e,t,o,n,s,r);const s=()=>je(e,t);const r=()=>Ze(e,t);const a=(o,n,s)=>qe(e,t,o,n,s);return{done:o,find:n,next:s,prev:r,replace:a}};const Ye=(e,t)=>{const o=E();e.undoManager.add();const n=B.trim(e.selection.getContent({format:"text"}));const s=o=>{o.setEnabled("next",We(e,t));o.setEnabled("prev",Ge(e,t))};const r=e=>{const o=e.getData();const n=t.get();t.set({...n,matchCase:o.matchcase,wholeWord:o.wholewords,inSelection:o.inselection})};const a=(e,t)=>{const o=["replace","replaceall","prev","next"];const n=o=>e.setEnabled(o,!t);y(o,n)};const c=(e,t)=>{t.redial(g(e,t.getData()))};const i=(e,t)=>{if(R.browser.isSafari()&&R.deviceType.isTouch()&&(t==="find"||t==="replace"||t==="replaceall")){e.focus(t)}};const l=o=>{$e(e,t,false);a(o,true);s(o)};const d=o=>{const n=o.getData();const r=t.get();if(!n.findtext.length){l(o);return}if(r.text===n.findtext&&r.matchCase===n.matchcase&&r.wholeWord===n.wholewords){je(e,t)}else{const s=Ve(e,t,n.findtext,n.matchcase,n.wholewords,n.inselection);if(s<=0){c(true,o)}a(o,s===0)}s(o)};const u=t.get();const f={findtext:n,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection};const m=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:true,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:false,borderless:true},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:false,borderless:true}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];if(e){t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"})}return t};const g=(o,n)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:m(o)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:true},{type:"custom",name:"replace",text:"Replace",enabled:false},{type:"custom",name:"replaceall",text:"Replace all",enabled:false}],initialData:n,onChange:(e,n)=>{if(o){c(false,e)}if(n.name==="findtext"&&t.get().count>0){l(e)}},onAction:(o,n)=>{const a=o.getData();switch(n.name){case"find":d(o);break;case"replace":if(!qe(e,t,a.replacetext)){l(o)}else{s(o)}break;case"replaceall":qe(e,t,a.replacetext,true,true);l(o);break;case"prev":Ze(e,t);s(o);break;case"next":je(e,t);s(o);break;case"matchcase":case"wholewords":case"inselection":c(false,o);r(o);l(o);break}i(o,n.name)},onSubmit:e=>{d(e);i(e,"find")},onClose:()=>{e.focus();$e(e,t);e.undoManager.add()}});o.set(e.windowManager.open(g(false,f),{inline:"toolbar"}))};const Xe=(e,t)=>{e.addCommand("SearchReplace",()=>{Ye(e,t)})};const Je=(e,t)=>()=>{Ye(e,t)};const Qe=(e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Je(e,t),icon:"search"});e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Je(e,t),icon:"search",shortcut:"Meta+F"});e.shortcuts.add("Meta+F","",Je(e,t))};var et=()=>{O.add("searchreplace",e=>{const t=z({index:-1,count:0,text:"",matchCase:false,wholeWord:false,inSelection:false});Xe(e,t);Qe(e,t);return Ke(e,t)})};et()})()},(e,t,o)=>{o(30)},()=>{(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,o)=>{var n;if(o(e,t.prototype)){return true}else{return((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name}};const o=e=>{const o=typeof e;if(e===null){return"null"}else if(o==="object"&&Array.isArray(e)){return"array"}else if(o==="object"&&t(e,String,(e,t)=>t.isPrototypeOf(e))){return"string"}else{return o}};const n=e=>t=>o(t)===e;const s=e=>t=>typeof t===e;const r=e=>t=>e===t;const a=n("string");const c=n("array");const i=s("boolean");const l=r(undefined);const d=e=>e===null||e===undefined;const u=e=>!d(e);const f=s("function");const m=s("number");const g=()=>{};const p=(e,t)=>o=>e(t(o));const h=e=>()=>e;const y=e=>e;const b=(e,t)=>e===t;function v(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const k=e=>{e()};const w=h(false);const _=h(true);class x{constructor(e,t){this.tag=e;this.value=t}static some(e){return new x(true,e)}static none(){return x.singletonNone}fold(e,t){if(this.tag){return t(this.value)}else{return e()}}isSome(){return this.tag}isNone(){return!this.tag}map(e){if(this.tag){return x.some(e(this.value))}else{return x.none()}}bind(e){if(this.tag){return e(this.value)}else{return x.none()}}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){if(!this.tag||e(this.value)){return this}else{return x.none()}}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(!this.tag){throw new Error(e!==null&&e!==void 0?e:"Called getOrDie on None")}else{return this.value}}static from(e){return u(e)?x.some(e):x.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){if(this.tag){e(this.value)}}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}x.singletonNone=new x(false);const C=Array.prototype.slice;const S=Array.prototype.indexOf;const z=Array.prototype.push;const T=(e,t)=>S.call(e,t);const E=(e,t)=>T(e,t)>-1;const O=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return true}}return false};const A=(e,t)=>{const o=[];for(let n=0;n<e;n++){o.push(t(n))}return o};const D=(e,t)=>{const o=e.length;const n=new Array(o);for(let s=0;s<o;s++){const o=e[s];n[s]=t(o,s)}return n};const M=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];t(n,o)}};const N=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}};const R=(e,t)=>{const o=[];const n=[];for(let s=0,r=e.length;s<r;s++){const r=e[s];const a=t(r,s)?o:n;a.push(r)}return{pass:o,fail:n}};const B=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){o.push(s)}}return o};const L=(e,t,o)=>{N(e,(e,n)=>{o=t(o,e,n)});return o};const H=(e,t,o)=>{M(e,(e,n)=>{o=t(o,e,n)});return o};const I=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const s=e[n];if(t(s,n)){return x.some(s)}else if(o(s,n)){break}}return x.none()};const P=(e,t)=>I(e,t,w);const F=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const n=e[o];if(t(n,o)){return x.some(o)}}return x.none()};const V=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!c(e[o])){throw new Error("Arr.flatten item "+o+" was not an array, input: "+e)}z.apply(t,e[o])}return t};const j=(e,t)=>V(D(e,t));const Z=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const n=e[o];if(t(n,o)!==true){return false}}return true};const U=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const s=e[n];o[String(s)]=t(s,n)}return o};const q=(e,t)=>t>=0&&t<e.length?x.some(e[t]):x.none();const $=e=>q(e,0);const W=e=>q(e,e.length-1);f(Array.from)?Array.from:e=>C.call(e);const G=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome()){return n}}return x.none()};const K=Object.keys;const Y=Object.hasOwnProperty;const X=(e,t)=>{const o=K(e);for(let n=0,s=o.length;n<s;n++){const s=o[n];const r=e[s];t(r,s)}};const J=e=>(t,o)=>{e[o]=t};const Q=(e,t,o,n)=>{X(e,(e,s)=>{(t(e,s)?o:n)(e,s)})};const ee=(e,t)=>{const o={};Q(e,t,J(o),g);return o};const te=(e,t)=>{const o=[];X(e,(e,n)=>{o.push(t(e,n))});return o};const oe=e=>te(e,y);const ne=e=>K(e).length;const se=(e,t)=>re(e,t)?x.from(e[t]):x.none();const re=(e,t)=>Y.call(e,t);const ae=(e,t)=>re(e,t)&&e[t]!==undefined&&e[t]!==null;const ce=e=>{for(const t in e){if(Y.call(e,t)){return false}}return true};const ie=e=>{let t=e;const o=()=>t;const n=e=>{t=e};return{get:o,set:n}};const le=(e,t,o=b)=>e.exists(e=>o(e,t));const de=e=>{const t=[];const o=e=>{t.push(e)};for(let t=0;t<e.length;t++){e[t].each(o)}return t};const ue=(e,t,o)=>e.isSome()&&t.isSome()?x.some(o(e.getOrDie(),t.getOrDie())):x.none();const fe=e=>e.bind(y);const me=(e,t)=>e?x.some(t):x.none();const ge=e=>{const t=ie(x.none());const o=()=>t.get().each(e);const n=()=>{o();t.set(x.none())};const s=()=>t.get().isSome();const r=()=>t.get();const a=e=>{o();t.set(x.some(e))};return{clear:n,isSet:s,get:r,set:a}};const pe=()=>ge(e=>e.unbind());const he=(e,t)=>e.substring(t);const ye=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t;const be=(e,t)=>ve(e,t)?he(e,t.length):e;const ve=(e,t)=>ye(e,t,0);const ke=e=>t=>t.replace(e,"");const we=ke(/^\s+|\s+$/g);const _e=e=>e.length>0;const xe=e=>!_e(e);const Ce=(e,t=10)=>{const o=parseInt(e,t);return isNaN(o)?x.none():x.some(o)};const Se=e=>{const t=parseFloat(e);return isNaN(t)?x.none():x.some(t)};const ze=e=>{let t=false;let o;return(...n)=>{if(!t){t=true;o=e.apply(null,n)}return o}};const Te=(e,t)=>{const o=t||document;const n=o.createElement("div");n.innerHTML=e;if(!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";console.error(t,e);throw new Error(t)}return Ae(n.childNodes[0])};const Ee=(e,t)=>{const o=t||document;const n=o.createElement(e);return Ae(n)};const Oe=(e,t)=>{const o=t||document;const n=o.createTextNode(e);return Ae(n)};const Ae=e=>{if(e===null||e===undefined){throw new Error("Node cannot be null or undefined")}return{dom:e}};const De=(e,t,o)=>x.from(e.dom.elementFromPoint(t,o)).map(Ae);const Me={fromHtml:Te,fromTag:Ee,fromText:Oe,fromDom:Ae,fromPoint:De};const Ne=8;const Re=9;const Be=11;const Le=1;const He=3;const Ie=(e,t)=>{const o=e.dom;if(o.nodeType!==Le){return false}else{const e=o;if(e.matches!==undefined){return e.matches(t)}else if(e.msMatchesSelector!==undefined){return e.msMatchesSelector(t)}else if(e.webkitMatchesSelector!==undefined){return e.webkitMatchesSelector(t)}else if(e.mozMatchesSelector!==undefined){return e.mozMatchesSelector(t)}else{throw new Error("Browser lacks native selectors")}}};const Pe=e=>e.nodeType!==Le&&e.nodeType!==Re&&e.nodeType!==Be||e.childElementCount===0;const Fe=(e,t)=>{const o=t===undefined?document:t.dom;return Pe(o)?[]:D(o.querySelectorAll(e),Me.fromDom)};const Ve=(e,t)=>{const o=t===undefined?document:t.dom;return Pe(o)?x.none():x.from(o.querySelector(e)).map(Me.fromDom)};const je=(e,t)=>e.dom===t.dom;const Ze=Ie;const Ue=e=>{const t=e.dom.nodeName;return t.toLowerCase()};const qe=e=>e.dom.nodeType;const $e=e=>t=>qe(t)===e;const We=e=>qe(e)===Ne||Ue(e)==="#comment";const Ge=$e(Le);const Ke=$e(He);const Ye=$e(Re);const Xe=$e(Be);const Je=e=>t=>Ge(t)&&Ue(t)===e;const Qe=e=>Me.fromDom(e.dom.ownerDocument);const et=e=>Ye(e)?e:Qe(e);const tt=e=>x.from(e.dom.parentNode).map(Me.fromDom);const ot=(e,t)=>{const o=f(t)?t:w;let n=e.dom;const s=[];while(n.parentNode!==null&&n.parentNode!==undefined){const e=n.parentNode;const t=Me.fromDom(e);s.push(t);if(o(t)===true){break}else{n=e}}return s};const nt=e=>x.from(e.dom.previousSibling).map(Me.fromDom);const st=e=>x.from(e.dom.nextSibling).map(Me.fromDom);const rt=e=>D(e.dom.childNodes,Me.fromDom);const at=(e,t)=>{const o=e.dom.childNodes;return x.from(o[t]).map(Me.fromDom)};const ct=e=>at(e,0);const it=e=>Xe(e)&&u(e.dom.host);const lt=e=>Me.fromDom(e.dom.getRootNode());const dt=e=>{const t=lt(e);return it(t)?x.some(t):x.none()};const ut=e=>Me.fromDom(e.dom.host);const ft=(e,t)=>{const o=tt(e);o.each(o=>{o.dom.insertBefore(t.dom,e.dom)})};const mt=(e,t)=>{const o=st(e);o.fold(()=>{const o=tt(e);o.each(e=>{pt(e,t)})},e=>{ft(e,t)})};const gt=(e,t)=>{const o=ct(e);o.fold(()=>{pt(e,t)},o=>{e.dom.insertBefore(t.dom,o.dom)})};const pt=(e,t)=>{e.dom.appendChild(t.dom)};const ht=(e,t)=>{ft(e,t);pt(t,e)};const yt=(e,t)=>{M(t,(o,n)=>{const s=n===0?e:t[n-1];mt(s,o)})};const bt=(e,t)=>{M(t,t=>{pt(e,t)})};const vt=(e,t,o)=>{if(a(o)||i(o)||m(o)){e.setAttribute(t,o+"")}else{console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e);throw new Error("Attribute value was not simple")}};const kt=(e,t,o)=>{vt(e.dom,t,o)};const wt=(e,t)=>{const o=e.dom;X(t,(e,t)=>{vt(o,t,e)})};const _t=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?undefined:o};const xt=(e,t)=>x.from(_t(e,t));const Ct=(e,t)=>{e.dom.removeAttribute(t)};const St=e=>H(e.dom.attributes,(e,t)=>{e[t.name]=t.value;return e},{});const zt=e=>{const t=e.dom;if(t.parentNode!==null){t.parentNode.removeChild(t)}};const Tt=e=>{const t=rt(e);if(t.length>0){yt(e,t)}zt(e)};const Et=e=>D(e,Me.fromDom);const Ot=e=>e.style!==undefined&&f(e.style.getPropertyValue);const At=e=>{const t=Ke(e)?e.dom.parentNode:e.dom;if(t===undefined||t===null||t.ownerDocument===null){return false}const o=t.ownerDocument;return dt(Me.fromDom(t)).fold(()=>o.body.contains(t),p(At,ut))};const Dt=(e,t,o)=>{if(!a(o)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e);throw new Error("CSS value must be a string: "+o)}if(Ot(e)){e.style.setProperty(t,o)}};const Mt=(e,t)=>{if(Ot(e)){e.style.removeProperty(t)}};const Nt=(e,t,o)=>{const n=e.dom;Dt(n,t,o)};const Rt=(e,t)=>{const o=e.dom;const n=window.getComputedStyle(o);const s=n.getPropertyValue(t);return s===""&&!At(e)?Bt(o,t):s};const Bt=(e,t)=>Ot(e)?e.style.getPropertyValue(t):"";const Lt=(e,t)=>{const o=e.dom;const n=Bt(o,t);return x.from(n).filter(e=>e.length>0)};const Ht=(e,t)=>{const o=e.dom;Mt(o,t);if(le(xt(e,"style").map(we),"")){Ct(e,"style")}};const It=(e,t)=>{const o=(t,o)=>{if(!m(o)&&!o.match(/^[0-9]+$/)){throw new Error(e+".set accepts only positive integer values. Value was "+o)}const n=t.dom;if(Ot(n)){n.style[e]=o+"px"}};const n=o=>{const n=t(o);if(n<=0||n===null){const t=Rt(o,e);return parseFloat(t)||0}return n};const s=n;const r=(e,t)=>H(t,(t,o)=>{const n=Rt(e,o);const s=n===undefined?0:parseInt(n,10);return isNaN(s)?t:t+s},0);const a=(e,t,o)=>{const n=r(e,o);const s=t>n?t-n:0;return s};return{set:o,get:n,getOuter:s,aggregate:r,max:a}};const Pt=(e,t)=>Se(e).getOr(t);const Ft=(e,t,o)=>Pt(Rt(e,t),o);const Vt=(e,t,o,n)=>{const s=Ft(e,`padding-${o}`,0);const r=Ft(e,`padding-${n}`,0);const a=Ft(e,`border-${o}-width`,0);const c=Ft(e,`border-${n}-width`,0);return t-s-r-a-c};const jt=(e,t)=>{const o=e.dom;const n=o.getBoundingClientRect().width||o.offsetWidth;return t==="border-box"?n:Vt(e,n,"left","right")};const Zt=e=>jt(e,"content-box");It("width",e=>e.dom.offsetWidth);It("width",e=>{const t=e.dom;return At(e)?t.getBoundingClientRect().width:t.offsetWidth});const Ut=Zt;const qt=(e,t)=>{const o=o=>{if(!e(o)){throw new Error("Can only get "+t+" value of a "+t+" node")}return n(o).getOr("")};const n=t=>e(t)?x.from(t.dom.nodeValue):x.none();const s=(o,n)=>{if(!e(o)){throw new Error("Can only set raw "+t+" value of a "+t+" node")}o.dom.nodeValue=n};return{get:o,getOption:n,set:s}};const $t=qt(Ke,"text");const Wt=e=>$t.get(e);const Gt=(e,t)=>$t.set(e,t);var Kt=(e,t,o,n,s)=>{if(e(o,n)){return x.some(o)}else if(f(s)&&s(o)){return x.none()}else{return t(o,n,s)}};const Yt=(e,t,o)=>{let n=e.dom;const s=f(o)?o:w;while(n.parentNode){n=n.parentNode;const e=Me.fromDom(n);if(t(e)){return x.some(e)}else if(s(e)){break}}return x.none()};const Xt=(e,t,o)=>{const n=(e,t)=>t(e);return Kt(n,Yt,e,t,o)};const Jt=(e,t)=>{const o=e=>t(Me.fromDom(e));const n=P(e.dom.childNodes,o);return n.map(Me.fromDom)};const Qt=(e,t,o)=>Yt(e,e=>Ie(e,t),o);const eo=(e,t)=>Jt(e,e=>Ie(e,t));const to=(e,t)=>Ve(t,e);const oo=(e,t,o)=>{const n=(e,t)=>Ie(e,t);return Kt(n,Qt,e,t,o)};const no=e=>oo(e,"[contenteditable]");const so=(e,t=false)=>{if(At(e)){return e.dom.isContentEditable}else{return no(e).fold(h(t),e=>ro(e)==="true")}};const ro=e=>e.dom.contentEditable;const ao=(e,t)=>B(rt(e),t);const co=(e,t)=>{let o=[];M(rt(e),e=>{if(t(e)){o=o.concat([e])}o=o.concat(co(e,t))});return o};const io=(e,t)=>ao(e,e=>Ie(e,t));const lo=(e,t)=>Fe(t,e);const uo=(e,t)=>eo(e,t).isSome();const fo=e=>e.nodeName.toLowerCase();const mo=e=>Me.fromDom(e.getBody());const go=e=>t=>je(t,mo(e));const po=e=>e?e.replace(/px$/,""):"";const ho=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e;const yo=e=>Me.fromDom(e.selection.getStart());const bo=e=>Me.fromDom(e.selection.getEnd());const vo=e=>Xt(e,Je("table")).forall(so);const ko=["tfoot","thead","tbody","colgroup"];const wo=e=>E(ko,e);const _o=(e,t)=>({rows:e,columns:t});const xo=(e,t,o)=>({element:e,rowspan:t,colspan:o});const Co=(e,t,o,n,s,r)=>({element:e,rowspan:t,colspan:o,row:n,column:s,isLocked:r});const So=(e,t,o)=>({element:e,cells:t,section:o});const zo=(e,t,o,n)=>({startRow:e,startCol:t,finishRow:o,finishCol:n});const To=(e,t,o)=>({element:e,colspan:t,column:o});const Eo=(e,t)=>({element:e,columns:t});const Oo=(e,t,o=0)=>xt(e,t).map(e=>parseInt(e,10)).getOr(o);const Ao=(e,t)=>Do(e,t,_);const Do=(e,t,o)=>j(rt(e),e=>{if(Ie(e,t)){return o(e)?[e]:[]}else{return Do(e,t,o)}});const Mo=(e,t,o=w)=>{if(o(t)){return x.none()}if(E(e,Ue(t))){return x.some(t)}const n=e=>Ie(e,"table")||o(e);return Qt(t,e.join(","),n)};const No=(e,t)=>Mo(["td","th"],e,t);const Ro=e=>Ao(e,"th,td");const Bo=e=>{if(Ie(e,"colgroup")){return io(e,"col")}else{return j(Io(e),e=>io(e,"col"))}};const Lo=(e,t)=>oo(e,"table",t);const Ho=e=>Ao(e,"tr");const Io=e=>Lo(e).fold(h([]),e=>io(e,"colgroup"));const Po=Je("th");const Fo=(e,t)=>{if(e&&t){return"sectionCells"}else if(e){return"section"}else{return"cells"}};const Vo=e=>{const t=e.section==="thead";const o=le(jo(e.cells),"th");if(e.section==="tfoot"){return{type:"footer"}}else if(t||o){return{type:"header",subType:Fo(t,o)}}else{return{type:"body"}}};const jo=e=>{const t=B(e,e=>Po(e.element));if(t.length===0){return x.some("td")}else if(t.length===e.length){return x.some("th")}else{return x.none()}};const Zo=e=>{const t=D(e,e=>Vo(e).type);const o=E(t,"header");const n=E(t,"footer");if(!o&&!n){return x.some("body")}else{const e=E(t,"body");if(o&&!e&&!n){return x.some("header")}else if(!o&&!e&&n){return x.some("footer")}else{return x.none()}}};const Uo=(e,t)=>D(e,e=>{if(Ue(e)==="colgroup"){const t=D(Bo(e),e=>{const t=Oo(e,"span",1);return xo(e,1,t)});return So(e,t,"colgroup")}else{const o=D(Ro(e),e=>{const t=Oo(e,"rowspan",1);const o=Oo(e,"colspan",1);return xo(e,t,o)});return So(e,o,t(e))}});const qo=e=>tt(e).map(e=>{const t=Ue(e);return wo(t)?t:"tbody"}).getOr("tbody");const $o=e=>{const t=Ho(e);const o=Io(e);const n=[...o,...t];return Uo(n,qo)};const Wo="data-snooker-locked-cols";const Go=e=>xt(e,Wo).bind(e=>x.from(e.match(/\d+/g))).map(e=>U(e,_));const Ko=(e,t)=>e+","+t;const Yo=(e,t,o)=>x.from(e.access[Ko(t,o)]);const Xo=(e,t,o)=>{const n=Jo(e,e=>o(t,e.element));return n.length>0?x.some(n[0]):x.none()};const Jo=(e,t)=>{const o=j(e.all,e=>e.cells);return B(o,t)};const Qo=e=>{const t={};let o=0;M(e.cells,e=>{const n=e.colspan;A(n,s=>{const r=o+s;t[r]=To(e.element,n,r)});o+=n});return t};const en=e=>{const t={};const o=[];const n=$(e).map(e=>e.element).bind(Lo);const s=n.bind(Go).getOr({});let r=0;let a=0;let c=0;const{pass:i,fail:l}=R(e,e=>e.section==="colgroup");M(l,e=>{const n=[];M(e.cells,e=>{let o=0;while(t[Ko(c,o)]!==undefined){o++}const r=ae(s,o.toString());const i=Co(e.element,e.rowspan,e.colspan,c,o,r);for(let n=0;n<e.colspan;n++){for(let s=0;s<e.rowspan;s++){const e=c+s;const r=o+n;const l=Ko(e,r);t[l]=i;a=Math.max(a,r+1)}}n.push(i)});r++;o.push(So(e.element,n,e.section));c++});const{columns:d,colgroups:u}=W(i).map(e=>{const t=Qo(e);const o=Eo(e.element,oe(t));return{colgroups:[o],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}}));const f=_o(r,a);return{grid:f,access:t,all:o,columns:d,colgroups:u}};const tn=e=>{const t=$o(e);return en(t)};const on=e=>j(e.all,e=>e.cells);const nn=e=>oe(e.columns);const sn=e=>K(e.columns).length>0;const rn=(e,t)=>x.from(e.columns[t]);const an={fromTable:tn,generate:en,getAt:Yo,findItem:Xo,filterItems:Jo,justCells:on,justColumns:nn,hasColumns:sn,getColumnAt:rn};const cn=(e,t)=>G(e.all,e=>P(e.cells,e=>je(t,e.element)));const ln=(e,t,o)=>{const n=D(t.selection,t=>No(t).bind(t=>cn(e,t)).filter(o));const s=de(n);return me(s.length>0,s)};const dn=(e,t)=>t.mergable;const un=(e,t)=>t.unmergable;const fn=(e,t)=>ln(e,t,_);const mn=(e,t)=>cn(e,t).exists(e=>!e.isLocked);const gn=(e,t)=>Z(t,t=>mn(e,t));const pn=(e,t)=>dn(e,t).filter(t=>gn(e,t.cells));const hn=(e,t)=>un(e,t).filter(t=>gn(e,t));const yn=Je("col");const bn=Je("colgroup");const vn=e=>Ue(e)==="tr"||bn(e);const kn=e=>{const t=Oo(e,"colspan",1);const o=Oo(e,"rowspan",1);return{element:e,colspan:t,rowspan:o}};const wn=(e,t=kn)=>{const o=t=>yn(t.element)?e.col(t):e.cell(t);const n=t=>bn(t.element)?e.colgroup(t):e.row(t);const s=e=>{if(vn(e)){return n({element:e})}else{const n=e;const s=o(t(n));r=x.some({item:n,replacement:s});return s}};let r=x.none();const a=(e,t)=>r.fold(()=>s(e),o=>t(e,o.item)?o.replacement:s(e));return{getOrInit:a}};const _n=e=>t=>{const o=[];const n=(e,t)=>P(o,o=>t(o.item,e));const s=n=>{const s=e==="td"?{scope:null}:{};const r=t.replace(n,e,s);o.push({item:n,sub:r});return r};const r=(e,t)=>{if(vn(e)||yn(e)){return e}else{const o=e;return n(o,t).fold(()=>s(o),n=>t(e,n.item)?n.sub:s(o))}};return{replaceOrInit:r}};const xn=e=>xt(e,"scope").map(e=>e.substr(0,3));const Cn=e=>{const t=t=>{const o=xn(t);o.each(e=>kt(t,"scope",e));return()=>{const n=e.cell({element:t,colspan:1,rowspan:1});Ht(n,"width");Ht(t,"width");o.each(e=>kt(n,"scope",e));return n}};const o=e=>{const t=()=>{const t=de(D(e,xn));if(t.length===0){return x.none()}else{const e=t[0];const o=["row","col"];const n=O(t,t=>t!==e&&E(o,t));return n?x.none():x.from(e)}};Ht(e[0],"width");t().fold(()=>Ct(e[0],"scope"),t=>kt(e[0],"scope",t+"group"));return h(e[0])};return{unmerge:t,merge:o}};const Sn={modification:wn,transform:_n,merging:Cn};var zn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];var Tn=()=>{const e=e=>Me.fromDom(e.dom.cloneNode(false));const t=e=>et(e).dom;const o=e=>{if(!Ge(e)){return false}if(Ue(e)==="body"){return true}return E(zn,Ue(e))};const n=e=>{if(!Ge(e)){return false}return E(["br","img","hr","input"],Ue(e))};const s=e=>Ge(e)&&_t(e,"contenteditable")==="false";const r=(e,t)=>e.dom.compareDocumentPosition(t.dom);const a=(e,t)=>{const o=St(e);wt(t,o)};const c=e=>{const t=Ue(e);return E(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)};const i=e=>Ge(e)?xt(e,"lang"):x.none();return{up:h({selector:Qt,closest:oo,predicate:Yt,all:ot}),down:h({selector:lo,predicate:co}),styles:h({get:Rt,getRaw:Lt,set:Nt,remove:Ht}),attrs:h({get:_t,set:kt,remove:Ct,copyTo:a}),insert:h({before:ft,after:mt,afterAll:yt,append:pt,appendAll:bt,prepend:gt,wrap:ht}),remove:h({unwrap:Tt,remove:zt}),create:h({nu:Me.fromTag,clone:e,text:Me.fromText}),query:h({comparePosition:r,prevSibling:nt,nextSibling:st}),property:h({children:rt,name:Ue,parent:tt,document:t,isText:Ke,isComment:We,isElement:Ge,isSpecial:c,getLanguage:i,getText:Wt,setText:Gt,isBoundary:o,isEmptyTag:n,isNonEditable:s}),eq:je,is:Ze}};const En=(e,t)=>({left:e,right:t});const On=(e,t,o)=>({first:e,second:t,splits:o});const An=(e,t,o)=>{const n=e.property().children(t);const s=F(n,v(e.eq,o));return s.map(e=>({before:n.slice(0,e),after:n.slice(e+1)}))};const Dn=(e,t,o)=>An(e,t,o).map(o=>{const n=e.create().clone(t);e.insert().appendAll(n,o.after);e.insert().after(t,n);return En(t,n)});const Mn=(e,t,o)=>An(e,t,o).map(n=>{const s=e.create().clone(t);e.insert().appendAll(s,n.before.concat([o]));e.insert().appendAll(t,n.after);e.insert().before(t,s);return En(s,t)});const Nn=(e,t,o,n)=>{const s=(t,r,a)=>{const c=On(t,x.none(),a);if(o(t)){return On(t,r,a)}else{return e.property().parent(t).bind(r=>n(e,r,t).map(e=>{const t=[{first:e.left,second:e.right}];const n=o(r)?r:e.left;return s(n,x.some(e.right),a.concat(t))})).getOr(c)}};return s(t,x.none(),[])};const Rn=(e,t,o,n)=>{const s=o[0];const r=o.slice(1);return n(e,t,s,r)};const Bn=(e,t,o)=>o.length>0?Rn(e,t,o,Ln):x.none();const Ln=(e,t,o,n)=>{const s=t(e,o);return L(n,(o,n)=>{const s=t(e,n);return Hn(e,o,s)},s)};const Hn=(e,t,o)=>t.bind(t=>o.filter(v(e.eq,t)));const In=Bn;Mn;Dn;Nn;const Pn=Tn();const Fn=(e,t)=>In(Pn,(t,o)=>e(o),t);const Vn=(e,t)=>{const o=an.fromTable(e);const n=fn(o,t);return n.bind(e=>{const t=e[e.length-1];const n=e[0].row;const s=t.row+t.rowspan;const r=o.all.slice(n,s);return Zo(r)}).getOr("")};Sn.transform("th");Sn.transform("td");const jn=Vn;const Zn=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow;const Un=(e,t)=>{let o=true;const n=v(Zn,t);for(let s=t.startRow;s<=t.finishRow;s++){for(let r=t.startCol;r<=t.finishCol;r++){o=o&&an.getAt(e,s,r).exists(n)}}return o?x.some(t):x.none()};const qn=(e,t)=>zo(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1));const $n=(e,t,o)=>{const n=an.findItem(e,t,je);const s=an.findItem(e,o,je);return n.bind(e=>s.map(t=>qn(e,t)))};const Wn=(e,t,o)=>$n(e,t,o).bind(t=>Un(e,t));const Gn=(e,t,o)=>{const n=Kn(e);return Wn(n,t,o)};const Kn=an.fromTable;var Yn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xn=(e,t,o)=>{const n=e.select("td,th",t);let s;for(let t=0;t<n.length;t++){const r=e.getStyle(n[t],o);if(l(s)){s=r}if(s!==r){return""}}return s};const Jn=(e,t,o)=>{Yn.each("left center right".split(" "),n=>{if(n!==o){e.formatter.remove("align"+n,{},t)}});if(o){e.formatter.apply("align"+o,{},t)}};const Qn=(e,t,o)=>{Yn.each("top middle bottom".split(" "),n=>{if(n!==o){e.formatter.remove("valign"+n,{},t)}});if(o){e.formatter.apply("valign"+o,{},t)}};const es=(e,t,o)=>{e.dispatch("TableModified",{...o,table:t})};var ts=tinymce.util.Tools.resolve("tinymce.Env");const os="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol";const ns=A(5,e=>{const t=`${e+1}px`;return{title:t,value:t}});const ss=D(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],e=>({title:e,value:e.toLowerCase()}));const rs="100%";const as=e=>{var t;const o=e.dom;const n=(t=o.getParent(e.selection.getStart(),o.isBlock))!==null&&t!==void 0?t:e.getBody();return Ut(Me.fromDom(n))+"px"};const cs=(e,t)=>{if(Ts(e)||!vs(e)){return t}else if(zs(e)){return{...t,width:as(e)}}else{return{...t,width:rs}}};const is=(e,t)=>{if(Ts(e)||vs(e)){return t}else if(zs(e)){return{...t,width:as(e)}}else{return{...t,width:rs}}};const ls=e=>t=>t.options.get(e);const ds=e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:ns});t("table_border_styles",{processor:"object[]",default:ss});t("table_cell_advtab",{processor:"boolean",default:true});t("table_row_advtab",{processor:"boolean",default:true});t("table_advtab",{processor:"boolean",default:true});t("table_appearance_options",{processor:"boolean",default:true});t("table_grid",{processor:"boolean",default:!ts.deviceType.isTouch()});t("table_cell_class_list",{processor:"object[]",default:[]});t("table_row_class_list",{processor:"object[]",default:[]});t("table_class_list",{processor:"object[]",default:[]});t("table_toolbar",{processor:"string",default:os});t("table_background_color_map",{processor:"object[]",default:[]});t("table_border_color_map",{processor:"object[]",default:[]})};const us=ls("table_sizing_mode");const fs=ls("table_border_widths");const ms=ls("table_border_styles");const gs=ls("table_cell_advtab");const ps=ls("table_row_advtab");const hs=ls("table_advtab");const ys=ls("table_appearance_options");const bs=ls("table_grid");const vs=ls("table_style_by_css");const ks=ls("table_cell_class_list");const ws=ls("table_row_class_list");const _s=ls("table_class_list");const xs=ls("table_toolbar");const Cs=ls("table_background_color_map");const Ss=ls("table_border_color_map");const zs=e=>us(e)==="fixed";const Ts=e=>us(e)==="responsive";const Es=e=>{const t=e.options;const o=t.get("table_default_styles");return t.isSet("table_default_styles")?o:cs(e,o)};const Os=e=>{const t=e.options;const o=t.get("table_default_attributes");return t.isSet("table_default_attributes")?o:is(e,o)};const As=e=>Qt(e,"table");const Ds=(e,t)=>{const o=lo(e,t);return o.length>0?x.some(o):x.none()};const Ms=(e,t,o)=>to(e,t).bind(t=>to(e,o).bind(e=>Fn(As,[t,e]).map(o=>({first:t,last:e,table:o}))));const Ns=(e,t)=>Ds(e,t);const Rs=(e,t,o)=>Ms(e,t,o).bind(t=>{const o=t=>je(e,t);const n="thead,tfoot,tbody,table";const s=Qt(t.first,n,o);const r=Qt(t.last,n,o);return s.bind(e=>r.bind(o=>je(e,o)?Gn(t.table,t.first,t.last):x.none()))});const Bs=y;const Ls=e=>{const t=(e,t)=>xt(e,t).exists(e=>parseInt(e,10)>1);const o=e=>t(e,"rowspan")||t(e,"colspan");return e.length>0&&Z(e,o)?x.some(e):x.none()};const Hs=(e,t,o)=>{if(t.length<=1){return x.none()}else{return Rs(e,o.firstSelectedSelector,o.lastSelectedSelector).map(e=>({bounds:e,cells:t}))}};const Is="data-mce-selected";const Ps="td["+Is+"],th["+Is+"]";const Fs="data-mce-first-selected";const Vs="td["+Fs+"],th["+Fs+"]";const js="data-mce-last-selected";const Zs="td["+js+"],th["+js+"]";const Us={selected:Is,selectedSelector:Ps,firstSelected:Fs,firstSelectedSelector:Vs,lastSelected:js,lastSelectedSelector:Zs};const qs=e=>Lo(e).bind(e=>Ns(e,Us.firstSelectedSelector)).fold(h(e),e=>e[0]);const $s=e=>(t,o)=>{const n=Ue(t);const s=n==="col"||n==="colgroup"?qs(t):t;return oo(s,e,o)};const Ws=$s("th,td,caption");const Gs=$s("th,td");const Ks=e=>Et(e.model.table.getSelectedCells());const Ys=(e,t)=>{const o=Gs(e);const n=o.bind(e=>Lo(e)).map(e=>Ho(e));return ue(o,n,(e,o)=>B(o,o=>O(Et(o.dom.cells),o=>_t(o,t)==="1"||je(o,e)))).getOr([])};const Xs=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}];const Js=e=>({value:or(e)});const Qs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;const er=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;const tr=e=>Qs.test(e)||er.test(e);const or=e=>be(e,"#").toUpperCase();const nr=e=>tr(e)?x.some({value:or(e)}):x.none();const sr=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()};const rr=e=>{const t=sr(e.red)+sr(e.green)+sr(e.blue);return Js(t)};const ar=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i;const cr=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i;const ir=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n});const lr=(e,t,o,n)=>{const s=parseInt(e,10);const r=parseInt(t,10);const a=parseInt(o,10);const c=parseFloat(n);return ir(s,r,a,c)};const dr=e=>{const t=ar.exec(e);if(t!==null){return x.some(lr(t[1],t[2],t[3],"1"))}const o=cr.exec(e);if(o!==null){return x.some(lr(o[1],o[2],o[3],o[4]))}return x.none()};const ur=e=>nr(e).orThunk(()=>dr(e).map(rr)).getOrThunk(()=>{const t=document.createElement("canvas");t.height=1;t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);o.fillStyle="#FFFFFF";o.fillStyle=e;o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data;const s=n[0];const r=n[1];const a=n[2];const c=n[3];return rr(ir(s,r,a,c))});const fr=e=>dr(e).map(rr).map(e=>"#"+e.value).getOr(e);const mr=(e,t,o)=>n=>{const s=pe();const r=xe(o);const a=()=>{const a=Ks(e);const c=n=>e.formatter.match(t,{value:o},n.dom,r);if(r){n.setActive(!O(a,c));s.set(e.formatter.formatChanged(t,e=>n.setActive(!e),true))}else{n.setActive(Z(a,c));s.set(e.formatter.formatChanged(t,n.setActive,false,{value:o}))}};e.initialized?a():e.on("init",a);return s.clear};const gr=e=>ae(e,"menu");const pr=e=>D(e,e=>{const t=e.text||e.title||"";if(gr(e)){return{text:t,items:pr(e.menu)}}else{return{text:t,value:e.value}}});const hr=e=>{if(!e.length){return x.none()}return x.some(pr([{text:"Select...",value:"mce-no-match"},...e]))};const yr=(e,t,o,n)=>D(t,t=>{const s=t.text||t.title;if(gr(t)){return{type:"nestedmenuitem",text:s,getSubmenuItems:()=>yr(e,t.menu,o,n)}}else{return{text:s,type:"togglemenuitem",onAction:()=>n(t.value),onSetup:mr(e,o,t.value)}}});const br=(e,t)=>o=>{e.execCommand("mceTableApplyCellStyle",false,{[t]:o})};const vr=e=>j(e,e=>{if(gr(e)){return[{...e,menu:vr(e.menu)}]}else{return _e(e.value)?[e]:[]}});const kr=(e,t,o,n)=>s=>s(yr(e,t,o,n));const wr=(e,t,o)=>{const n=D(t,e=>({text:e.title,value:"#"+ur(e.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:n.length>0?n:undefined,allowCustomColors:false},onAction:t=>{const n=t.value==="remove"?"":t.value;e.execCommand("mceTableApplyCellStyle",false,{[o]:n})}}]};const _r=e=>()=>{const t=e.queryCommandValue("mceTableRowType");const o=t==="header"?"body":"header";e.execCommand("mceTableRowType",false,{type:o})};const xr=e=>()=>{const t=e.queryCommandValue("mceTableColType");const o=t==="th"?"td":"th";e.execCommand("mceTableColType",false,{type:o})};const Cr=e=>hr(ks(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e}));const Sr=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Xs}];const zr=e=>Sr.concat(Cr(e).toArray());const Tr=(e,t)=>{const o=[{text:"Select...",value:""}];const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:o.concat(pr(ms(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];const s={name:"borderwidth",type:"input",label:"Border width"};const r=t==="cell"?[s].concat(n):n;return{title:"Advanced",name:"advanced",items:r}};const Er=(e,t)=>{const o=e.dom;const n=(e,n)=>{o.setAttrib(t,e,n)};const s=(e,n)=>{o.setStyle(t,e,n)};const r=(o,n)=>{if(n===""){e.formatter.remove(o,{value:null},t,true)}else{e.formatter.apply(o,{value:n},t)}};return{setAttrib:n,setStyle:s,setFormat:r}};const Or={normal:Er};const Ar=e=>ve(e,"rgb")?fr(e):e;const Dr=e=>{const t=Me.fromDom(e);return{borderwidth:Lt(t,"border-width").getOr(""),borderstyle:Lt(t,"border-style").getOr(""),bordercolor:Lt(t,"border-color").map(Ar).getOr(""),backgroundcolor:Lt(t,"background-color").map(Ar).getOr("")}};const Mr=e=>{const t=e[0];const o=e.slice(1);M(o,e=>{M(K(t),o=>{X(e,(e,n)=>{const s=t[o];if(s!==""&&o===n){if(s!==e){t[o]=o==="class"?"mce-no-match":""}}})})});return t};const Nr=(e,t,o,n)=>P(e,e=>!l(o.formatter.matchNode(n,t+e))).getOr("");const Rr=v(Nr,["left","center","right"],"align");const Br=v(Nr,["top","middle","bottom"],"valign");const Lr=(e,t)=>{const o=Es(e);const n=Os(e);const s=()=>({borderstyle:se(o,"border-style").getOr(""),bordercolor:Ar(se(o,"border-color").getOr("")),backgroundcolor:Ar(se(o,"background-color").getOr(""))});const r={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""};const a=()=>{const t=o["border-width"];if(vs(e)&&t){return{border:t}}return se(n,"border").fold(()=>({}),e=>({border:e}))};const c=t?s():{};const i=()=>{const e=se(o,"border-spacing").or(se(n,"cellspacing")).fold(()=>({}),e=>({cellspacing:e}));const t=se(o,"border-padding").or(se(n,"cellpadding")).fold(()=>({}),e=>({cellpadding:e}));return{...e,...t}};const l={...r,...o,...n,...c,...a(),...i()};return l};const Hr=e=>Lo(Me.fromDom(e)).map(t=>{const o={selection:Et(e.cells)};return jn(t,o)}).getOr("");const Ir=(e,t,o)=>{const n=(t,o)=>{const n=Lt(Me.fromDom(o),"border-width");if(vs(e)&&n.isSome()){return n.getOr("")}return t.getAttrib(o,"border")||Xn(e.dom,o,"border-width")||Xn(e.dom,o,"border")||""};const s=e.dom;const r=vs(e)?s.getStyle(t,"border-spacing")||s.getAttrib(t,"cellspacing"):s.getAttrib(t,"cellspacing")||s.getStyle(t,"border-spacing");const a=vs(e)?Xn(s,t,"padding")||s.getAttrib(t,"cellpadding"):s.getAttrib(t,"cellpadding")||Xn(s,t,"padding");return{width:s.getStyle(t,"width")||s.getAttrib(t,"width"),height:s.getStyle(t,"height")||s.getAttrib(t,"height"),cellspacing:r!==null&&r!==void 0?r:"",cellpadding:a!==null&&a!==void 0?a:"",border:n(s,t),caption:!!s.select("caption",t)[0],class:s.getAttrib(t,"class",""),align:Rr(e,t),...o?Dr(t):{}}};const Pr=(e,t,o)=>{const n=e.dom;return{height:n.getStyle(t,"height")||n.getAttrib(t,"height"),class:n.getAttrib(t,"class",""),type:Hr(t),align:Rr(e,t),...o?Dr(t):{}}};const Fr=(e,t,o,n)=>{const s=e.dom;const r=n.getOr(t);const a=(e,t)=>s.getStyle(e,t)||s.getAttrib(e,t);return{width:a(r,"width"),scope:s.getAttrib(t,"scope"),celltype:fo(t),class:s.getAttrib(t,"class",""),halign:Rr(e,t),valign:Br(e,t),...o?Dr(t):{}}};const Vr=(e,t)=>{const o=an.fromTable(e);const n=an.justCells(o);const s=B(n,e=>O(t,t=>je(e.element,t)));return D(s,e=>({element:e.element.dom,column:an.getColumnAt(o,e.column).map(e=>e.element.dom)}))};const jr=(e,t,o,n)=>{if(n("scope")){e.setAttrib("scope",o.scope)}if(n("class")&&o.class!=="mce-no-match"){e.setAttrib("class",o.class)}if(n("width")){t.setStyle("width",ho(o.width))}};const Zr=(e,t,o)=>{if(o("backgroundcolor")){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor)}if(o("bordercolor")){e.setFormat("tablecellbordercolor",t.bordercolor)}if(o("borderstyle")){e.setFormat("tablecellborderstyle",t.borderstyle)}if(o("borderwidth")){e.setFormat("tablecellborderwidth",ho(t.borderwidth))}};const Ur=(e,t,o,n)=>{const s=t.length===1;M(t,t=>{const r=t.element;const a=s?_:n;const c=Or.normal(e,r);const i=t.column.map(t=>Or.normal(e,t)).getOr(c);jr(c,i,o,a);if(gs(e)){Zr(c,o,a)}if(n("halign")){Jn(e,r,o.halign)}if(n("valign")){Qn(e,r,o.valign)}})};const qr=(e,t)=>{e.execCommand("mceTableCellType",false,{type:t.celltype,no_events:true})};const $r=(e,t,o,n)=>{const s=ee(n,(e,t)=>o[t]!==e);if(ne(s)>0&&t.length>=1){Lo(t[0]).each(o=>{const r=Vr(o,t);const a=ne(ee(s,(e,t)=>t!=="scope"&&t!=="celltype"))>0;const c=re(s,"celltype");if(a||re(s,"scope")){Ur(e,r,n,v(re,s))}if(c){qr(e,n)}es(e,o.dom,{structure:c,style:a})})}};const Wr=(e,t,o,n)=>{const s=n.getData();n.close();e.undoManager.transact(()=>{$r(e,t,o,s);e.focus()})};const Gr=(e,t)=>{const o=Lo(t[0]).map(o=>D(Vr(o,t),t=>Fr(e,t.element,gs(e),t.column)));return Mr(o.getOrDie())};const Kr=e=>{const t=Ks(e);if(t.length===0){return}const o=Gr(e,t);const n={type:"tabpanel",tabs:[{title:"General",name:"general",items:zr(e)},Tr(e,"cell")]};const s={type:"panel",items:[{type:"grid",columns:2,items:zr(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:gs(e)?n:s,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o,onSubmit:v(Wr,e,t,o)})};const Yr=e=>hr(ws(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e}));const Xr=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}];const Jr=e=>Xr.concat(Yr(e).toArray());const Qr=(e,t,o)=>{if(o("class")&&t.class!=="mce-no-match"){e.setAttrib("class",t.class)}if(o("height")){e.setStyle("height",ho(t.height))}};const ea=(e,t,o)=>{if(o("backgroundcolor")){e.setStyle("background-color",t.backgroundcolor)}if(o("bordercolor")){e.setStyle("border-color",t.bordercolor)}if(o("borderstyle")){e.setStyle("border-style",t.borderstyle)}};const ta=(e,t,o,n)=>{const s=t.length===1;const r=s?_:n;M(t,t=>{const s=io(Me.fromDom(t),"td,th");const a=Or.normal(e,t);Qr(a,o,r);if(ps(e)){ea(a,o,r)}if(n("height")){M(s,t=>{e.dom.setStyle(t.dom,"height",null)})}if(n("align")){Jn(e,t,o.align)}})};const oa=(e,t)=>{e.execCommand("mceTableRowType",false,{type:t.type,no_events:true})};const na=(e,t,o,n)=>{const s=ee(n,(e,t)=>o[t]!==e);if(ne(s)>0){const o=re(s,"type");const r=o?ne(s)>1:true;if(r){ta(e,t,n,v(re,s))}if(o){oa(e,n)}Lo(Me.fromDom(t[0])).each(t=>es(e,t.dom,{structure:o,style:r}))}};const sa=(e,t,o,n)=>{const s=n.getData();n.close();e.undoManager.transact(()=>{na(e,t,o,s);e.focus()})};const ra=e=>{const t=Ys(yo(e),Us.selected);if(t.length===0){return}const o=D(t,t=>Pr(e,t.dom,ps(e)));const n=Mr(o);const s={type:"tabpanel",tabs:[{title:"General",name:"general",items:Jr(e)},Tr(e,"row")]};const r={type:"panel",items:[{type:"grid",columns:2,items:Jr(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:ps(e)?s:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:n,onSubmit:v(sa,e,D(t,e=>e.dom),n)})};const aa=(e,t,o)=>{const n=!o?[]:[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}];const s=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}];const r=ys(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[];const a=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}];const c=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return n.concat(s).concat(r).concat(a).concat(c)};const ca=(e,t,o,n)=>{if(t.tagName==="TD"||t.tagName==="TH"){if(a(o)&&u(n)){e.setStyle(t,o,n)}else{e.setStyles(t,o)}}else{if(t.children){for(let s=0;s<t.children.length;s++){ca(e,t.children[s],o,n)}}}};const ia=(e,t,o,n)=>{const s=e.dom;const r={};const a={};const c=vs(e);const i=hs(e);const d=parseFloat(o.border)===0;if(!l(o.class)&&o.class!=="mce-no-match"){r.class=o.class}a.height=ho(o.height);if(c){a.width=ho(o.width)}else if(s.getAttrib(t,"width")){r.width=po(o.width)}if(c){if(d){r.border=0;a["border-width"]=""}else{a["border-width"]=ho(o.border);r.border=1}a["border-spacing"]=ho(o.cellspacing)}else{r.border=d?0:o.border;r.cellpadding=o.cellpadding;r.cellspacing=o.cellspacing}if(c&&t.children){const e={};if(d){e["border-width"]=""}else if(n.border){e["border-width"]=ho(o.border)}if(n.cellpadding){e.padding=ho(o.cellpadding)}if(i&&n.bordercolor){e["border-color"]=o.bordercolor}if(!ce(e)){for(let o=0;o<t.children.length;o++){ca(s,t.children[o],e)}}}if(i){const e=o;a["background-color"]=e.backgroundcolor;a["border-color"]=e.bordercolor;a["border-style"]=e.borderstyle}s.setStyles(t,{...Es(e),...a});s.setAttribs(t,{...Os(e),...r})};const la=(e,t,o,n)=>{const s=e.dom;const r=n.getData();const a=ee(r,(e,t)=>o[t]!==e);n.close();e.undoManager.transact(()=>{if(!t){const o=Ce(r.cols).getOr(1);const n=Ce(r.rows).getOr(1);e.execCommand("mceInsertTable",false,{rows:n,columns:o});t=Gs(yo(e),go(e)).bind(t=>Lo(t,go(e))).map(e=>e.dom).getOrDie()}if(ne(a)>0){const o={border:re(a,"border"),bordercolor:re(a,"bordercolor"),cellpadding:re(a,"cellpadding")};ia(e,t,r,o);const n=s.select("caption",t)[0];if(n&&!r.caption||!n&&r.caption){e.execCommand("mceTableToggleCaption")}Jn(e,t,r.align)}e.focus();e.addVisual();if(ne(a)>0){const o=re(a,"caption");const n=o?ne(a)>1:true;es(e,t,{structure:o,style:n})}})};const da=(e,t)=>{const o=e.dom;let n;let s=Lr(e,hs(e));if(t){s.cols="1";s.rows="1";if(hs(e)){s.borderstyle="";s.bordercolor="";s.backgroundcolor=""}}else{n=o.getParent(e.selection.getStart(),"table",e.getBody());if(n){s=Ir(e,n,hs(e))}else{if(hs(e)){s.borderstyle="";s.bordercolor="";s.backgroundcolor=""}}}const r=hr(_s(e));if(r.isSome()){if(s.class){s.class=s.class.replace(/\s*mce\-item\-table\s*/g,"")}}const a={type:"grid",columns:2,items:aa(e,r.getOr([]),t)};const c=()=>({type:"panel",items:[a]});const i=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[a]},Tr(e,"table")]});const l=hs(e)?i():c();e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:v(la,e,n,s),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:s})};const ua=e=>{const t=t=>{if(vo(yo(e))){t()}};X({mceTableProps:v(da,e,false),mceTableRowProps:v(ra,e),mceTableCellProps:v(Kr,e),mceInsertTableDialog:v(da,e,true)},(o,n)=>e.addCommand(n,()=>t(o)))};const fa=e=>({element:e,mergable:x.none(),unmergable:x.none(),selection:[e]});const ma=(e,t,o)=>({element:o,mergable:Hs(t,e,Us),unmergable:Ls(e),selection:Bs(e)});const ga=e=>{const t=ie(x.none());const o=ie([]);let n=x.none();const s=Je("caption");const r=e=>n.forall(t=>!t[e]);const a=()=>Ws(yo(e),go(e));const c=()=>Ws(bo(e),go(e));const i=()=>a().bind(t=>fe(ue(Lo(t),c().bind(Lo),(o,n)=>{if(je(o,n)){if(s(t)){return x.some(fa(t))}else{return x.some(ma(Ks(e),o,t))}}return x.none()})));const l=e=>{const t=Lo(e.element);return t.map(t=>{const o=an.fromTable(t);const n=fn(o,e).getOr([]);const s=H(n,(e,t)=>{if(t.isLocked){e.onAny=true;if(t.column===0){e.onFirst=true}else if(t.column+t.colspan>=o.grid.columns){e.onLast=true}}return e},{onAny:false,onFirst:false,onLast:false});return{mergeable:pn(o,e).isSome(),unmergeable:hn(o,e).isSome(),locked:s}})};const d=()=>{t.set(ze(i)());n=t.get().bind(l);M(o.get(),k)};const u=e=>{e();o.set(o.get().concat([e]));return()=>{o.set(B(o.get(),t=>t!==e))}};const f=(o,n)=>u(()=>t.get().fold(()=>{o.setEnabled(false)},t=>{o.setEnabled(!n(t)&&e.selection.isEditable())}));const m=(o,n,s)=>u(()=>t.get().fold(()=>{o.setEnabled(false);o.setActive(false)},t=>{o.setEnabled(!n(t)&&e.selection.isEditable());o.setActive(s(t))}));const g=e=>n.exists(t=>t.locked[e]);const p=e=>f(e,e=>false);const h=e=>f(e,e=>s(e.element));const y=e=>t=>f(t,t=>s(t.element)||g(e));const b=e=>t=>f(t,t=>s(t.element)||e().isNone());const v=(e,t)=>o=>f(o,o=>s(o.element)||e().isNone()||g(t));const _=e=>f(e,e=>r("mergeable"));const C=e=>f(e,e=>r("unmergeable"));const S=t=>m(t,w,t=>{const o=Lo(t.element,go(e));return o.exists(e=>uo(e,"caption"))});const z=(t,o)=>n=>m(n,e=>s(e.element),()=>e.queryCommandValue(t)===o);const T=z("mceTableRowType","header");const E=z("mceTableColType","th");e.on("NodeChange ExecCommand TableSelectorChange",d);return{onSetupTable:p,onSetupCellOrRow:h,onSetupColumn:y,onSetupPasteable:b,onSetupPasteableColumn:v,onSetupMergeable:_,onSetupUnmergeable:C,resetTargets:d,onSetupTableWithCaption:S,onSetupTableRowHeaders:T,onSetupTableColumnHeaders:E,targets:t.get}};var pa=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const ha="x-tinymce/dom-table-";const ya=ha+"rows";const ba=ha+"columns";const va=e=>{var t;const o=(t=pa.read())!==null&&t!==void 0?t:[];return G(o,t=>x.from(t.getType(e)))};const ka=()=>va(ya);const wa=()=>va(ba);const _a=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const xa=(e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:_a(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const o=t=>()=>e.execCommand(t);const n=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addButton(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};const s=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addToggleButton(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};n("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable});n("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable});n("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow});n("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable});n("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable});n("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow});n("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow});n("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow});n("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow});n("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")});n("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")});n("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")});n("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow});n("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow});n("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(ka)});n("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(ka)});n("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")});n("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")});n("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(wa,"onFirst")});n("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(wa,"onLast")});n("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:_a(e)});const r=vr(_s(e));if(r.length!==0&&e.queryCommandSupported("mceTableToggleClass")){e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:kr(e,r,"tableclass",t=>e.execCommand("mceTableToggleClass",false,t)),onSetup:t.onSetupTable})}const a=vr(ks(e));if(a.length!==0&&e.queryCommandSupported("mceTableCellToggleClass")){e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:kr(e,a,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",false,t)),onSetup:t.onSetupCellOrRow})}if(e.queryCommandSupported("mceTableApplyCellStyle")){e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:kr(e,Xs,"tablecellverticalalign",br(e,"vertical-align")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:kr(e,fs(e),"tablecellborderwidth",br(e,"border-width")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:kr(e,ms(e),"tablecellborderstyle",br(e,"border-style")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(wr(e,Cs(e),"background-color")),onSetup:t.onSetupCellOrRow});e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(wr(e,Ss(e),"border-color")),onSetup:t.onSetupCellOrRow})}s("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption});s("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:_r(e),onSetup:t.onSetupTableRowHeaders});s("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xr(e),onSetup:t.onSetupTableColumnHeaders})};const Ca=e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode);const o=xs(e);if(o.length>0){e.ui.registry.addContextToolbar("table",{predicate:t,items:o,scope:"node",position:"node"})}};const Sa=e=>t=>{const o=()=>{t.setEnabled(e.selection.isEditable())};e.on("NodeChange",o);o();return()=>{e.off("NodeChange",o)}};const za=(e,t)=>{const o=t=>()=>e.execCommand(t);const n=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addMenuItem(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)});return true}else{return false}};const s=(t,n)=>{if(e.queryCommandSupported(n.command)){e.ui.registry.addToggleMenuItem(t,{...n,onAction:f(n.onAction)?n.onAction:o(n.command)})}};const r=t=>{e.execCommand("mceInsertTable",false,{rows:t.numRows,columns:t.numColumns})};const a=[n("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),n("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),n("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),n("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),n("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),n("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),n("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(ka)}),n("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(ka)})];const c=[n("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),n("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),n("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),n("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),n("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),n("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(wa,"onFirst")}),n("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(wa,"onLast")})];const i=[n("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),n("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),n("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];if(!bs(e)){e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:o("mceInsertTableDialog"),onSetup:Sa(e)})}else{e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:r}],onSetup:Sa(e)})}e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:o("mceInsertTableDialog"),onSetup:Sa(e)});n("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"});n("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"});if(E(a,true)){e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:h("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")})}if(E(c,true)){e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:h("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")})}if(E(i,true)){e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:h("tablecellprops tablemergecells tablesplitcells")})}e.ui.registry.addContextMenu("table",{update:()=>{t.resetTargets();return t.targets().fold(h(""),e=>{if(Ue(e.element)==="caption"){return"tableprops deletetable"}else{return"cell row column | advtablesort | tableprops deletetable"}})}});const l=vr(_s(e));if(l.length!==0&&e.queryCommandSupported("mceTableToggleClass")){e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>yr(e,l,"tableclass",t=>e.execCommand("mceTableToggleClass",false,t)),onSetup:t.onSetupTable})}const d=vr(ks(e));if(d.length!==0&&e.queryCommandSupported("mceTableCellToggleClass")){e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>yr(e,d,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",false,t)),onSetup:t.onSetupCellOrRow})}if(e.queryCommandSupported("mceTableApplyCellStyle")){e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>yr(e,Xs,"tablecellverticalalign",br(e,"vertical-align")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>yr(e,fs(e),"tablecellborderwidth",br(e,"border-width")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>yr(e,ms(e),"tablecellborderstyle",br(e,"border-style")),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>wr(e,Cs(e),"background-color"),onSetup:t.onSetupCellOrRow});e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>wr(e,Ss(e),"border-color"),onSetup:t.onSetupCellOrRow})}s("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption});s("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:_r(e),onSetup:t.onSetupTableRowHeaders});s("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:xr(e),onSetup:t.onSetupTableRowHeaders})};const Ta=e=>{const t=ga(e);ds(e);ua(e);za(e,t);xa(e,t);Ca(e)};var Ea=()=>{e.add("table",Ta)};Ea()})()}];var t={};function o(n){var s=t[n];if(s!==undefined){return s.exports}var r=t[n]={exports:{}};e[n](r,r.exports,o);return r.exports}(()=>{
/**
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @copyright 2003-2014 by the INDEPNET Development Team.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
window.tinymce=window.tinyMCE=o(1);o(2);o(3);o(5);o(6);o(8);o(10);o(12);o(14);o(16);o(17);o(19);o(21);o(23);o(25);o(27);o(29)})()})();