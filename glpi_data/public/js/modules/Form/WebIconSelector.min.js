/**
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
import"/lib/tablericons-definitions.js";export class WebIconSelector{constructor(e){this.selectElement=e}init(){const e=this.#e();const s=1;const n=$.fn.select2.amd.require("select2/data/array");class t extends n{constructor(e,s){super(e,s)}query(n,t){let o=[];if(n.term&&n.term!==""){const s=n.term.toUpperCase();const t=JSON.parse(JSON.stringify(e));for(let e=0;e<t.length;e++){const n=t[e];n.children=n.children.filter(e=>e.text.toUpperCase().includes(s));if(n.children.length>0){o.push(n)}}}else{o=e}if(!("page"in n)){n.page=1}const i={};i.results=o.slice((n.page-1)*s,n.page*s);i.pagination={};i.pagination.more=n.page*s<o.length;t(i)}}$(this.selectElement).select2({ajax:{},templateResult:this.#s,templateSelection:this.#s,dataAdapter:t,placeholder:__("Select an icon"),minimumInputLength:2})}#e(){const e=[];const s={Animals:_x("icons","Animals"),Arrows:_x("icons","Arrows"),Badges:_x("icons","Badges"),Brand:_x("icons","Brand"),Buildings:_x("icons","Buildings"),Charts:_x("icons","Charts"),Communication:_x("icons","Communication"),Computers:_x("icons","Computers"),Currencies:_x("icons","Currencies"),Database:_x("icons","Database"),Design:_x("icons","Design"),Development:_x("icons","Development"),Devices:_x("icons","Devices"),Document:_x("icons","Document"),"E-commerce":_x("icons","E-commerce"),Electrical:_x("icons","Electrical"),Extensions:_x("icons","Extensions"),Food:_x("icons","Food"),Games:_x("icons","Games"),Gender:_x("icons","Gender"),Gestures:_x("icons","Gestures"),Health:_x("icons","Health"),Laundry:_x("icons","Laundry"),Letters:_x("icons","Letters"),Logic:_x("icons","Logic"),Map:_x("icons","Map"),Maps:_x("icons","Maps"),Math:_x("icons","Math"),Media:_x("icons","Media"),Mood:_x("icons","Mood"),Nature:_x("icons","Nature"),Numbers:_x("icons","Numbers"),Photography:_x("icons","Photography"),Shapes:_x("icons","Shapes"),Sport:_x("icons","Sport"),Symbols:_x("icons","Symbols"),System:_x("icons","System"),Text:_x("icons","Text"),Vehicles:_x("icons","Vehicles"),"Version control":_x("icons","Version control"),Weather:_x("icons","Weather"),Zodiac:_x("icons","Zodiac"),Other:_x("icons","Other")};for(const[n,t]of Object.entries(window.tablericons_definitions)){let o=t.category;if(o===""){o="Other"}if(o in s){o=s[o]}let i=e.find(e=>e.text===o);if(i===undefined){i={text:o,children:[]};e.push(i)}i.children.push({id:`ti-${n}`,text:n})}e.sort((e,s)=>e.text.localeCompare(s.text));return e}#s(e){if(typeof e.id!=="undefined"){const s=document.createElement("span");const n=e.id.split("-")[0];let t="";if(n==="fa"){t="style=\"font-family: 'Font Awesome 6 Free', 'Font Awesome 6 Brands';\""}s.innerHTML=`<i class="${_.escape(n)} ${_.escape(e.id)}" ${t}></i> ${_.escape(e.id)}`;return s}else{return e.text}}}export default WebIconSelector;