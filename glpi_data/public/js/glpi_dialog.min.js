/**
 * ---------------------------------------------------------------------
 *
 * GLPI - Gestionnaire Libre de Parc Informatique
 *
 * http://glpi-project.org
 *
 * @copyright 2015-2025 Teclib' and contributors.
 * @copyright 2003-2014 by the INDEPNET Development Team.
 * @licence   https://www.gnu.org/licenses/gpl-3.0.html
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 *
 * ---------------------------------------------------------------------
 */
var glpi_html_dialog=function({title:t="",body:a="",footer:o="",modalclass:s="",dialogclass:e="",id:n=`modal_${Math.random().toString(36).substring(7)}`,appendTo:i="body",autoShow:l=true,show:d=()=>{},close:r=()=>{},buttons:c=[],bs_focus:b=true}={}){if(c.length>0){var m="";c.forEach(t=>{var a="id"in t?t.id:`button_${Math.random().toString(36).substring(7)}`;var o="label"in t?t.label:__("OK");var s="class"in t?t.class:"btn-secondary";m+=`\n            <button type="button" id="${_.escape(a)}"\n                    class="btn ${_.escape(s)}" data-bs-dismiss="modal">\n               ${o}\n            </button>`;if("click"in t){$(document).on("click",`#${CSS.escape(a)}`,a=>{t.click(a)})}});o+=m}if(o.length>0){o=`<div class="modal-footer">\n         ${o}\n      </div>`}const g=!b?'data-bs-focus="false"':"";var u=`<div class="modal fade ${_.escape(s)}" id="${_.escape(n)}" role="dialog" ${g} aria-labelledby="${_.escape(n)}_title">\n         <div class="modal-dialog ${_.escape(e)}">\n            <div class="modal-content">\n               <div class="modal-header">\n                  <h2 id="${n}_title" class="fs-4 modal-title" tabindex="-1">${t}</h2>\n                  <button type="button" class="btn-close" data-bs-dismiss="modal"\n                           aria-label="${__("Close")}"></button>\n               </div>\n               <div class="modal-body">${a}</div>\n               ${o}\n            </div>\n         </div>\n      </div>`;glpi_close_all_dialogs();$(i).append(u);var p=document.getElementById(n);var f=new bootstrap.Modal(p,{});if(l){f.show()}p.addEventListener("shown.bs.modal",t=>{$(`#${CSS.escape(n)}`).find("input, textarea, select").first().trigger("focus");d(t)});p.addEventListener("hidden.bs.modal",t=>{r(t);if($("div.modal.show").length===0){$("div.modal-backdrop").remove()}$(`#${CSS.escape(n)}`).remove()});return n};var glpi_ajax_dialog=function({url:t="",params:a={},method:o="post",title:s="",footer:e="",modalclass:n="",dialogclass:i="",id:l=`modal_${Math.random().toString(36).substring(7)}`,appendTo:d="body",autoShow:r=true,done:c=()=>{},fail:_=()=>{},show:b=()=>{},close:m=()=>{},buttons:g=[],bs_focus:u=true}={}){if(t.length==0){return}glpi_close_all_dialogs();$.ajax({url:t,type:o,data:a,success:function(t){glpi_html_dialog({title:s,body:t,footer:e,id:l,appendTo:d,modalclass:n,dialogclass:i,autoShow:r,buttons:g,show:b,close:m,bs_focus:u})}}).done(t=>{c(t)}).fail((t,a)=>{_(t,a)});return l};var glpi_alert=function({title:t=_n("Information","Information",1),message:a="",id:o=`modal_${Math.random().toString(36).substring(7)}`,ok_callback:s=()=>{}}={}){glpi_html_dialog({title:t,body:a,id:o,buttons:[{label:__("OK"),click:t=>{s(t)}}]});return o};var glpi_confirm=function({title:t=_n("Information","Information",1),message:a="",id:o=`modal_${Math.random().toString(36).substring(7)}`,confirm_callback:s=()=>{},confirm_label:e=_x("button","Confirm"),cancel_callback:n=()=>{},cancel_label:i=_x("button","Cancel"),close_callback:l=()=>{}}={}){glpi_html_dialog({title:t,body:a,id:o,buttons:[{label:e,click:t=>{s(t)}},{label:i,click:t=>{n(t)}}],close:l});return o};var glpi_close_all_dialogs=function(){$(".modal.show").modal("hide").remove()};var toast_id=0;const glpi_toast=(t,a,o,s={})=>{toast_id++;s=Object.assign({delay:1e4,animated:true,animation:"animate__tada",animation_extra_classes:"animate__delay-2s animate__slow"},s);const e=s.animated?`animate__animated ${s.animation} ${s.animation_extra_classes}`:"";let n=CFG_GLPI.toast_location||"bottom-right";const i=["top-left","top-right","bottom-left","bottom-right"];if(!i.includes(n)){n="bottom-right"}const l=`<div class='toast-container ${_.escape(n)} p-3 messages_after_redirect'>\n      <div id='toast_js_${toast_id}' class='toast ${_.escape(e)}' role='alert' aria-live='assertive' aria-atomic='true'>\n         <div class='toast-header ${_.escape(o)}'>\n            <strong class='me-auto'>${t}</strong>\n            <button type='button' class='btn-close' data-bs-dismiss='toast' aria-label='${__("Close")}'></button>\n         </div>\n         <div class='toast-body'>\n            ${a}\n         </div>\n      </div>\n   </div>`;$("body").append(l);const d=new bootstrap.Toast(document.querySelector(`#toast_js_${CSS.escape(toast_id)}`),{delay:s.delay});d.show()};const glpi_toast_success=(t,a=undefined,o={})=>{glpi_toast(a||__("Success"),t,"bg-success text-white border-0",o)};const glpi_toast_info=function(t,a=undefined,o={}){glpi_toast(a||_n("Information","Information",1),t,"bg-info text-white border-0",o)};const glpi_toast_warning=(t,a=undefined,o={})=>{glpi_toast(a||__("Warning"),t,"bg-warning text-white border-0",o)};const glpi_toast_error=(t,a=undefined,o={})=>{glpi_toast(a||_n("Error","Errors",1),t,"bg-danger text-white border-0",o)};